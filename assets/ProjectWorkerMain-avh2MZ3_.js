var Uj=Object.defineProperty;var Ow=t=>{throw TypeError(t)};var Wj=(t,e,n)=>e in t?Uj(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var _=(t,e,n)=>Wj(t,typeof e!="symbol"?e+"":e,n),Aw=(t,e,n)=>e.has(t)||Ow("Cannot "+n);var kw=(t,e,n)=>(Aw(t,e,"read from private field"),n?n.call(t):e.get(t)),Iw=(t,e,n)=>e.has(t)?Ow("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Pw=(t,e,n,r)=>(Aw(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);function Kj(t,e){return e.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(r){if(r!=="default"&&!(r in t)){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}})}),Object.freeze(t)}var mc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function BT(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var t0={exports:{}},Ba=typeof Reflect=="object"?Reflect:null,Rw=Ba&&typeof Ba.apply=="function"?Ba.apply:function(e,n,r){return Function.prototype.apply.call(e,n,r)},md;Ba&&typeof Ba.ownKeys=="function"?md=Ba.ownKeys:Object.getOwnPropertySymbols?md=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:md=function(e){return Object.getOwnPropertyNames(e)};function qj(t){console&&console.warn&&console.warn(t)}var jT=Number.isNaN||function(e){return e!==e};function Xt(){Xt.init.call(this)}t0.exports=Xt;t0.exports.once=Jj;Xt.EventEmitter=Xt;Xt.prototype._events=void 0;Xt.prototype._eventsCount=0;Xt.prototype._maxListeners=void 0;var $w=10;function Rh(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(Xt,"defaultMaxListeners",{enumerable:!0,get:function(){return $w},set:function(t){if(typeof t!="number"||t<0||jT(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");$w=t}});Xt.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Xt.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||jT(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function DT(t){return t._maxListeners===void 0?Xt.defaultMaxListeners:t._maxListeners}Xt.prototype.getMaxListeners=function(){return DT(this)};Xt.prototype.emit=function(e){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var i=e==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var a;if(n.length>0&&(a=n[0]),a instanceof Error)throw a;var c=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw c.context=a,c}var l=s[e];if(l===void 0)return!1;if(typeof l=="function")Rw(l,this,n);else for(var d=l.length,h=qT(l,d),r=0;r<d;++r)Rw(h[r],this,n);return!0};function zT(t,e,n,r){var i,s,a;if(Rh(n),s=t._events,s===void 0?(s=t._events=Object.create(null),t._eventsCount=0):(s.newListener!==void 0&&(t.emit("newListener",e,n.listener?n.listener:n),s=t._events),a=s[e]),a===void 0)a=s[e]=n,++t._eventsCount;else if(typeof a=="function"?a=s[e]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),i=DT(t),i>0&&a.length>i&&!a.warned){a.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=t,c.type=e,c.count=a.length,qj(c)}return t}Xt.prototype.addListener=function(e,n){return zT(this,e,n,!1)};Xt.prototype.on=Xt.prototype.addListener;Xt.prototype.prependListener=function(e,n){return zT(this,e,n,!0)};function Vj(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function UT(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=Vj.bind(r);return i.listener=n,r.wrapFn=i,i}Xt.prototype.once=function(e,n){return Rh(n),this.on(e,UT(this,e,n)),this};Xt.prototype.prependOnceListener=function(e,n){return Rh(n),this.prependListener(e,UT(this,e,n)),this};Xt.prototype.removeListener=function(e,n){var r,i,s,a,c;if(Rh(n),i=this._events,i===void 0)return this;if(r=i[e],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,r.listener||n));else if(typeof r!="function"){for(s=-1,a=r.length-1;a>=0;a--)if(r[a]===n||r[a].listener===n){c=r[a].listener,s=a;break}if(s<0)return this;s===0?r.shift():Hj(r,s),r.length===1&&(i[e]=r[0]),i.removeListener!==void 0&&this.emit("removeListener",e,c||n)}return this};Xt.prototype.off=Xt.prototype.removeListener;Xt.prototype.removeAllListeners=function(e){var n,r,i;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var s=Object.keys(r),a;for(i=0;i<s.length;++i)a=s[i],a!=="removeListener"&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[e],typeof n=="function")this.removeListener(e,n);else if(n!==void 0)for(i=n.length-1;i>=0;i--)this.removeListener(e,n[i]);return this};function WT(t,e,n){var r=t._events;if(r===void 0)return[];var i=r[e];return i===void 0?[]:typeof i=="function"?n?[i.listener||i]:[i]:n?Gj(i):qT(i,i.length)}Xt.prototype.listeners=function(e){return WT(this,e,!0)};Xt.prototype.rawListeners=function(e){return WT(this,e,!1)};Xt.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):KT.call(t,e)};Xt.prototype.listenerCount=KT;function KT(t){var e=this._events;if(e!==void 0){var n=e[t];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}Xt.prototype.eventNames=function(){return this._eventsCount>0?md(this._events):[]};function qT(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function Hj(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function Gj(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}function Jj(t,e){return new Promise(function(n,r){function i(a){t.removeListener(e,s),r(a)}function s(){typeof t.removeListener=="function"&&t.removeListener("error",i),n([].slice.call(arguments))}VT(t,e,s,{once:!0}),e!=="error"&&Yj(t,i,{once:!0})})}function Yj(t,e,n){typeof t.on=="function"&&VT(t,"error",e,n)}function VT(t,e,n,r){if(typeof t.on=="function")r.once?t.once(e,n):t.on(e,n);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(s){r.once&&t.removeEventListener(e,i),n(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var Xj=t0.exports;const e0=()=>Qj(new Xj.EventEmitter),Qj=t=>({on:(e,n)=>(t.on(e,n),()=>{t.off(e,n)}),emit:e=>{t.emit("*",e),t.emit(e.type,e)}});var jd={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */jd.exports;(function(t,e){(function(){var n,r="4.17.21",i=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",c="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",d=500,h="__lodash_placeholder__",g=1,m=2,y=4,w=1,x=2,C=1,T=2,$=4,M=8,P=16,j=32,B=64,k=128,z=256,K=512,b=30,N="...",D=800,X=16,nt=1,mt=2,ht=3,rt=1/0,ot=9007199254740991,Mt=17976931348623157e292,Ze=NaN,ie=4294967295,Oo=ie-1,Yu=ie>>>1,Xu=[["ary",k],["bind",C],["bindKey",T],["curry",M],["curryRight",P],["flip",K],["partial",j],["partialRight",B],["rearg",z]],bi="[object Arguments]",Ao="[object Array]",ls="[object AsyncFunction]",Yi="[object Boolean]",qn="[object Date]",Qu="[object DOMException]",ko="[object Error]",Io="[object Function]",la="[object GeneratorFunction]",tn="[object Map]",Xi="[object Number]",Zu="[object Null]",mn="[object Object]",Si="[object Promise]",tc="[object Proxy]",wi="[object RegExp]",$n="[object Set]",Q="[object String]",dt="[object Symbol]",yn="[object Undefined]",vn="[object WeakMap]",Po="[object WeakSet]",ti="[object ArrayBuffer]",Ro="[object DataView]",cg="[object Float32Array]",lg="[object Float64Array]",fg="[object Int8Array]",dg="[object Int16Array]",hg="[object Int32Array]",pg="[object Uint8Array]",gg="[object Uint8ClampedArray]",mg="[object Uint16Array]",yg="[object Uint32Array]",cM=/\b__p \+= '';/g,lM=/\b(__p \+=) '' \+/g,fM=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Qb=/&(?:amp|lt|gt|quot|#39);/g,Zb=/[&<>"']/g,dM=RegExp(Qb.source),hM=RegExp(Zb.source),pM=/<%-([\s\S]+?)%>/g,gM=/<%([\s\S]+?)%>/g,tS=/<%=([\s\S]+?)%>/g,mM=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,yM=/^\w*$/,vM=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,vg=/[\\^$.*+?()[\]{}|]/g,_M=RegExp(vg.source),_g=/^\s+/,bM=/\s/,SM=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,wM=/\{\n\/\* \[wrapped with (.+)\] \*/,EM=/,? & /,xM=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,CM=/[()=,{}\[\]\/\s]/,TM=/\\(\\)?/g,OM=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,eS=/\w*$/,AM=/^[-+]0x[0-9a-f]+$/i,kM=/^0b[01]+$/i,IM=/^\[object .+?Constructor\]$/,PM=/^0o[0-7]+$/i,RM=/^(?:0|[1-9]\d*)$/,$M=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,rf=/($^)/,MM=/['\n\r\u2028\u2029\\]/g,of="\\ud800-\\udfff",NM="\\u0300-\\u036f",LM="\\ufe20-\\ufe2f",FM="\\u20d0-\\u20ff",nS=NM+LM+FM,rS="\\u2700-\\u27bf",iS="a-z\\xdf-\\xf6\\xf8-\\xff",BM="\\xac\\xb1\\xd7\\xf7",jM="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",DM="\\u2000-\\u206f",zM=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",oS="A-Z\\xc0-\\xd6\\xd8-\\xde",sS="\\ufe0e\\ufe0f",aS=BM+jM+DM+zM,bg="['’]",UM="["+of+"]",uS="["+aS+"]",sf="["+nS+"]",cS="\\d+",WM="["+rS+"]",lS="["+iS+"]",fS="[^"+of+aS+cS+rS+iS+oS+"]",Sg="\\ud83c[\\udffb-\\udfff]",KM="(?:"+sf+"|"+Sg+")",dS="[^"+of+"]",wg="(?:\\ud83c[\\udde6-\\uddff]){2}",Eg="[\\ud800-\\udbff][\\udc00-\\udfff]",fa="["+oS+"]",hS="\\u200d",pS="(?:"+lS+"|"+fS+")",qM="(?:"+fa+"|"+fS+")",gS="(?:"+bg+"(?:d|ll|m|re|s|t|ve))?",mS="(?:"+bg+"(?:D|LL|M|RE|S|T|VE))?",yS=KM+"?",vS="["+sS+"]?",VM="(?:"+hS+"(?:"+[dS,wg,Eg].join("|")+")"+vS+yS+")*",HM="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",GM="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",_S=vS+yS+VM,JM="(?:"+[WM,wg,Eg].join("|")+")"+_S,YM="(?:"+[dS+sf+"?",sf,wg,Eg,UM].join("|")+")",XM=RegExp(bg,"g"),QM=RegExp(sf,"g"),xg=RegExp(Sg+"(?="+Sg+")|"+YM+_S,"g"),ZM=RegExp([fa+"?"+lS+"+"+gS+"(?="+[uS,fa,"$"].join("|")+")",qM+"+"+mS+"(?="+[uS,fa+pS,"$"].join("|")+")",fa+"?"+pS+"+"+gS,fa+"+"+mS,GM,HM,cS,JM].join("|"),"g"),tN=RegExp("["+hS+of+nS+sS+"]"),eN=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,nN=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],rN=-1,ce={};ce[cg]=ce[lg]=ce[fg]=ce[dg]=ce[hg]=ce[pg]=ce[gg]=ce[mg]=ce[yg]=!0,ce[bi]=ce[Ao]=ce[ti]=ce[Yi]=ce[Ro]=ce[qn]=ce[ko]=ce[Io]=ce[tn]=ce[Xi]=ce[mn]=ce[wi]=ce[$n]=ce[Q]=ce[vn]=!1;var oe={};oe[bi]=oe[Ao]=oe[ti]=oe[Ro]=oe[Yi]=oe[qn]=oe[cg]=oe[lg]=oe[fg]=oe[dg]=oe[hg]=oe[tn]=oe[Xi]=oe[mn]=oe[wi]=oe[$n]=oe[Q]=oe[dt]=oe[pg]=oe[gg]=oe[mg]=oe[yg]=!0,oe[ko]=oe[Io]=oe[vn]=!1;var iN={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},oN={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},sN={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},aN={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},uN=parseFloat,cN=parseInt,bS=typeof mc=="object"&&mc&&mc.Object===Object&&mc,lN=typeof self=="object"&&self&&self.Object===Object&&self,en=bS||lN||Function("return this")(),Cg=e&&!e.nodeType&&e,fs=Cg&&!0&&t&&!t.nodeType&&t,SS=fs&&fs.exports===Cg,Tg=SS&&bS.process,Ir=function(){try{var I=fs&&fs.require&&fs.require("util").types;return I||Tg&&Tg.binding&&Tg.binding("util")}catch{}}(),wS=Ir&&Ir.isArrayBuffer,ES=Ir&&Ir.isDate,xS=Ir&&Ir.isMap,CS=Ir&&Ir.isRegExp,TS=Ir&&Ir.isSet,OS=Ir&&Ir.isTypedArray;function ir(I,W,F){switch(F.length){case 0:return I.call(W);case 1:return I.call(W,F[0]);case 2:return I.call(W,F[0],F[1]);case 3:return I.call(W,F[0],F[1],F[2])}return I.apply(W,F)}function fN(I,W,F,et){for(var yt=-1,Ut=I==null?0:I.length;++yt<Ut;){var je=I[yt];W(et,je,F(je),I)}return et}function Pr(I,W){for(var F=-1,et=I==null?0:I.length;++F<et&&W(I[F],F,I)!==!1;);return I}function dN(I,W){for(var F=I==null?0:I.length;F--&&W(I[F],F,I)!==!1;);return I}function AS(I,W){for(var F=-1,et=I==null?0:I.length;++F<et;)if(!W(I[F],F,I))return!1;return!0}function $o(I,W){for(var F=-1,et=I==null?0:I.length,yt=0,Ut=[];++F<et;){var je=I[F];W(je,F,I)&&(Ut[yt++]=je)}return Ut}function af(I,W){var F=I==null?0:I.length;return!!F&&da(I,W,0)>-1}function Og(I,W,F){for(var et=-1,yt=I==null?0:I.length;++et<yt;)if(F(W,I[et]))return!0;return!1}function de(I,W){for(var F=-1,et=I==null?0:I.length,yt=Array(et);++F<et;)yt[F]=W(I[F],F,I);return yt}function Mo(I,W){for(var F=-1,et=W.length,yt=I.length;++F<et;)I[yt+F]=W[F];return I}function Ag(I,W,F,et){var yt=-1,Ut=I==null?0:I.length;for(et&&Ut&&(F=I[++yt]);++yt<Ut;)F=W(F,I[yt],yt,I);return F}function hN(I,W,F,et){var yt=I==null?0:I.length;for(et&&yt&&(F=I[--yt]);yt--;)F=W(F,I[yt],yt,I);return F}function kg(I,W){for(var F=-1,et=I==null?0:I.length;++F<et;)if(W(I[F],F,I))return!0;return!1}var pN=Ig("length");function gN(I){return I.split("")}function mN(I){return I.match(xM)||[]}function kS(I,W,F){var et;return F(I,function(yt,Ut,je){if(W(yt,Ut,je))return et=Ut,!1}),et}function uf(I,W,F,et){for(var yt=I.length,Ut=F+(et?1:-1);et?Ut--:++Ut<yt;)if(W(I[Ut],Ut,I))return Ut;return-1}function da(I,W,F){return W===W?AN(I,W,F):uf(I,IS,F)}function yN(I,W,F,et){for(var yt=F-1,Ut=I.length;++yt<Ut;)if(et(I[yt],W))return yt;return-1}function IS(I){return I!==I}function PS(I,W){var F=I==null?0:I.length;return F?Rg(I,W)/F:Ze}function Ig(I){return function(W){return W==null?n:W[I]}}function Pg(I){return function(W){return I==null?n:I[W]}}function RS(I,W,F,et,yt){return yt(I,function(Ut,je,Qt){F=et?(et=!1,Ut):W(F,Ut,je,Qt)}),F}function vN(I,W){var F=I.length;for(I.sort(W);F--;)I[F]=I[F].value;return I}function Rg(I,W){for(var F,et=-1,yt=I.length;++et<yt;){var Ut=W(I[et]);Ut!==n&&(F=F===n?Ut:F+Ut)}return F}function $g(I,W){for(var F=-1,et=Array(I);++F<I;)et[F]=W(F);return et}function _N(I,W){return de(W,function(F){return[F,I[F]]})}function $S(I){return I&&I.slice(0,FS(I)+1).replace(_g,"")}function or(I){return function(W){return I(W)}}function Mg(I,W){return de(W,function(F){return I[F]})}function ec(I,W){return I.has(W)}function MS(I,W){for(var F=-1,et=I.length;++F<et&&da(W,I[F],0)>-1;);return F}function NS(I,W){for(var F=I.length;F--&&da(W,I[F],0)>-1;);return F}function bN(I,W){for(var F=I.length,et=0;F--;)I[F]===W&&++et;return et}var SN=Pg(iN),wN=Pg(oN);function EN(I){return"\\"+aN[I]}function xN(I,W){return I==null?n:I[W]}function ha(I){return tN.test(I)}function CN(I){return eN.test(I)}function TN(I){for(var W,F=[];!(W=I.next()).done;)F.push(W.value);return F}function Ng(I){var W=-1,F=Array(I.size);return I.forEach(function(et,yt){F[++W]=[yt,et]}),F}function LS(I,W){return function(F){return I(W(F))}}function No(I,W){for(var F=-1,et=I.length,yt=0,Ut=[];++F<et;){var je=I[F];(je===W||je===h)&&(I[F]=h,Ut[yt++]=F)}return Ut}function cf(I){var W=-1,F=Array(I.size);return I.forEach(function(et){F[++W]=et}),F}function ON(I){var W=-1,F=Array(I.size);return I.forEach(function(et){F[++W]=[et,et]}),F}function AN(I,W,F){for(var et=F-1,yt=I.length;++et<yt;)if(I[et]===W)return et;return-1}function kN(I,W,F){for(var et=F+1;et--;)if(I[et]===W)return et;return et}function pa(I){return ha(I)?PN(I):pN(I)}function ei(I){return ha(I)?RN(I):gN(I)}function FS(I){for(var W=I.length;W--&&bM.test(I.charAt(W)););return W}var IN=Pg(sN);function PN(I){for(var W=xg.lastIndex=0;xg.test(I);)++W;return W}function RN(I){return I.match(xg)||[]}function $N(I){return I.match(ZM)||[]}var MN=function I(W){W=W==null?en:ga.defaults(en.Object(),W,ga.pick(en,nN));var F=W.Array,et=W.Date,yt=W.Error,Ut=W.Function,je=W.Math,Qt=W.Object,Lg=W.RegExp,NN=W.String,Rr=W.TypeError,lf=F.prototype,LN=Ut.prototype,ma=Qt.prototype,ff=W["__core-js_shared__"],df=LN.toString,Gt=ma.hasOwnProperty,FN=0,BS=function(){var o=/[^.]+$/.exec(ff&&ff.keys&&ff.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""}(),hf=ma.toString,BN=df.call(Qt),jN=en._,DN=Lg("^"+df.call(Gt).replace(vg,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),pf=SS?W.Buffer:n,Lo=W.Symbol,gf=W.Uint8Array,jS=pf?pf.allocUnsafe:n,mf=LS(Qt.getPrototypeOf,Qt),DS=Qt.create,zS=ma.propertyIsEnumerable,yf=lf.splice,US=Lo?Lo.isConcatSpreadable:n,nc=Lo?Lo.iterator:n,ds=Lo?Lo.toStringTag:n,vf=function(){try{var o=ys(Qt,"defineProperty");return o({},"",{}),o}catch{}}(),zN=W.clearTimeout!==en.clearTimeout&&W.clearTimeout,UN=et&&et.now!==en.Date.now&&et.now,WN=W.setTimeout!==en.setTimeout&&W.setTimeout,_f=je.ceil,bf=je.floor,Fg=Qt.getOwnPropertySymbols,KN=pf?pf.isBuffer:n,WS=W.isFinite,qN=lf.join,VN=LS(Qt.keys,Qt),De=je.max,_n=je.min,HN=et.now,GN=W.parseInt,KS=je.random,JN=lf.reverse,Bg=ys(W,"DataView"),rc=ys(W,"Map"),jg=ys(W,"Promise"),ya=ys(W,"Set"),ic=ys(W,"WeakMap"),oc=ys(Qt,"create"),Sf=ic&&new ic,va={},YN=vs(Bg),XN=vs(rc),QN=vs(jg),ZN=vs(ya),tL=vs(ic),wf=Lo?Lo.prototype:n,sc=wf?wf.valueOf:n,qS=wf?wf.toString:n;function S(o){if(be(o)&&!_t(o)&&!(o instanceof Rt)){if(o instanceof $r)return o;if(Gt.call(o,"__wrapped__"))return V1(o)}return new $r(o)}var _a=function(){function o(){}return function(u){if(!me(u))return{};if(DS)return DS(u);o.prototype=u;var f=new o;return o.prototype=n,f}}();function Ef(){}function $r(o,u){this.__wrapped__=o,this.__actions__=[],this.__chain__=!!u,this.__index__=0,this.__values__=n}S.templateSettings={escape:pM,evaluate:gM,interpolate:tS,variable:"",imports:{_:S}},S.prototype=Ef.prototype,S.prototype.constructor=S,$r.prototype=_a(Ef.prototype),$r.prototype.constructor=$r;function Rt(o){this.__wrapped__=o,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ie,this.__views__=[]}function eL(){var o=new Rt(this.__wrapped__);return o.__actions__=Vn(this.__actions__),o.__dir__=this.__dir__,o.__filtered__=this.__filtered__,o.__iteratees__=Vn(this.__iteratees__),o.__takeCount__=this.__takeCount__,o.__views__=Vn(this.__views__),o}function nL(){if(this.__filtered__){var o=new Rt(this);o.__dir__=-1,o.__filtered__=!0}else o=this.clone(),o.__dir__*=-1;return o}function rL(){var o=this.__wrapped__.value(),u=this.__dir__,f=_t(o),p=u<0,v=f?o.length:0,E=g2(0,v,this.__views__),O=E.start,A=E.end,R=A-O,q=p?A:O-1,V=this.__iteratees__,Y=V.length,Z=0,it=_n(R,this.__takeCount__);if(!f||!p&&v==R&&it==R)return g1(o,this.__actions__);var ct=[];t:for(;R--&&Z<it;){q+=u;for(var xt=-1,lt=o[q];++xt<Y;){var It=V[xt],Nt=It.iteratee,ur=It.type,Ln=Nt(lt);if(ur==mt)lt=Ln;else if(!Ln){if(ur==nt)continue t;break t}}ct[Z++]=lt}return ct}Rt.prototype=_a(Ef.prototype),Rt.prototype.constructor=Rt;function hs(o){var u=-1,f=o==null?0:o.length;for(this.clear();++u<f;){var p=o[u];this.set(p[0],p[1])}}function iL(){this.__data__=oc?oc(null):{},this.size=0}function oL(o){var u=this.has(o)&&delete this.__data__[o];return this.size-=u?1:0,u}function sL(o){var u=this.__data__;if(oc){var f=u[o];return f===l?n:f}return Gt.call(u,o)?u[o]:n}function aL(o){var u=this.__data__;return oc?u[o]!==n:Gt.call(u,o)}function uL(o,u){var f=this.__data__;return this.size+=this.has(o)?0:1,f[o]=oc&&u===n?l:u,this}hs.prototype.clear=iL,hs.prototype.delete=oL,hs.prototype.get=sL,hs.prototype.has=aL,hs.prototype.set=uL;function Qi(o){var u=-1,f=o==null?0:o.length;for(this.clear();++u<f;){var p=o[u];this.set(p[0],p[1])}}function cL(){this.__data__=[],this.size=0}function lL(o){var u=this.__data__,f=xf(u,o);if(f<0)return!1;var p=u.length-1;return f==p?u.pop():yf.call(u,f,1),--this.size,!0}function fL(o){var u=this.__data__,f=xf(u,o);return f<0?n:u[f][1]}function dL(o){return xf(this.__data__,o)>-1}function hL(o,u){var f=this.__data__,p=xf(f,o);return p<0?(++this.size,f.push([o,u])):f[p][1]=u,this}Qi.prototype.clear=cL,Qi.prototype.delete=lL,Qi.prototype.get=fL,Qi.prototype.has=dL,Qi.prototype.set=hL;function Zi(o){var u=-1,f=o==null?0:o.length;for(this.clear();++u<f;){var p=o[u];this.set(p[0],p[1])}}function pL(){this.size=0,this.__data__={hash:new hs,map:new(rc||Qi),string:new hs}}function gL(o){var u=Lf(this,o).delete(o);return this.size-=u?1:0,u}function mL(o){return Lf(this,o).get(o)}function yL(o){return Lf(this,o).has(o)}function vL(o,u){var f=Lf(this,o),p=f.size;return f.set(o,u),this.size+=f.size==p?0:1,this}Zi.prototype.clear=pL,Zi.prototype.delete=gL,Zi.prototype.get=mL,Zi.prototype.has=yL,Zi.prototype.set=vL;function ps(o){var u=-1,f=o==null?0:o.length;for(this.__data__=new Zi;++u<f;)this.add(o[u])}function _L(o){return this.__data__.set(o,l),this}function bL(o){return this.__data__.has(o)}ps.prototype.add=ps.prototype.push=_L,ps.prototype.has=bL;function ni(o){var u=this.__data__=new Qi(o);this.size=u.size}function SL(){this.__data__=new Qi,this.size=0}function wL(o){var u=this.__data__,f=u.delete(o);return this.size=u.size,f}function EL(o){return this.__data__.get(o)}function xL(o){return this.__data__.has(o)}function CL(o,u){var f=this.__data__;if(f instanceof Qi){var p=f.__data__;if(!rc||p.length<i-1)return p.push([o,u]),this.size=++f.size,this;f=this.__data__=new Zi(p)}return f.set(o,u),this.size=f.size,this}ni.prototype.clear=SL,ni.prototype.delete=wL,ni.prototype.get=EL,ni.prototype.has=xL,ni.prototype.set=CL;function VS(o,u){var f=_t(o),p=!f&&_s(o),v=!f&&!p&&zo(o),E=!f&&!p&&!v&&Ea(o),O=f||p||v||E,A=O?$g(o.length,NN):[],R=A.length;for(var q in o)(u||Gt.call(o,q))&&!(O&&(q=="length"||v&&(q=="offset"||q=="parent")||E&&(q=="buffer"||q=="byteLength"||q=="byteOffset")||ro(q,R)))&&A.push(q);return A}function HS(o){var u=o.length;return u?o[Yg(0,u-1)]:n}function TL(o,u){return Ff(Vn(o),gs(u,0,o.length))}function OL(o){return Ff(Vn(o))}function Dg(o,u,f){(f!==n&&!ri(o[u],f)||f===n&&!(u in o))&&to(o,u,f)}function ac(o,u,f){var p=o[u];(!(Gt.call(o,u)&&ri(p,f))||f===n&&!(u in o))&&to(o,u,f)}function xf(o,u){for(var f=o.length;f--;)if(ri(o[f][0],u))return f;return-1}function AL(o,u,f,p){return Fo(o,function(v,E,O){u(p,v,f(v),O)}),p}function GS(o,u){return o&&xi(u,Ve(u),o)}function kL(o,u){return o&&xi(u,Gn(u),o)}function to(o,u,f){u=="__proto__"&&vf?vf(o,u,{configurable:!0,enumerable:!0,value:f,writable:!0}):o[u]=f}function zg(o,u){for(var f=-1,p=u.length,v=F(p),E=o==null;++f<p;)v[f]=E?n:Sm(o,u[f]);return v}function gs(o,u,f){return o===o&&(f!==n&&(o=o<=f?o:f),u!==n&&(o=o>=u?o:u)),o}function Mr(o,u,f,p,v,E){var O,A=u&g,R=u&m,q=u&y;if(f&&(O=v?f(o,p,v,E):f(o)),O!==n)return O;if(!me(o))return o;var V=_t(o);if(V){if(O=y2(o),!A)return Vn(o,O)}else{var Y=bn(o),Z=Y==Io||Y==la;if(zo(o))return v1(o,A);if(Y==mn||Y==bi||Z&&!v){if(O=R||Z?{}:F1(o),!A)return R?s2(o,kL(O,o)):o2(o,GS(O,o))}else{if(!oe[Y])return v?o:{};O=v2(o,Y,A)}}E||(E=new ni);var it=E.get(o);if(it)return it;E.set(o,O),dw(o)?o.forEach(function(lt){O.add(Mr(lt,u,f,lt,o,E))}):lw(o)&&o.forEach(function(lt,It){O.set(It,Mr(lt,u,f,It,o,E))});var ct=q?R?am:sm:R?Gn:Ve,xt=V?n:ct(o);return Pr(xt||o,function(lt,It){xt&&(It=lt,lt=o[It]),ac(O,It,Mr(lt,u,f,It,o,E))}),O}function IL(o){var u=Ve(o);return function(f){return JS(f,o,u)}}function JS(o,u,f){var p=f.length;if(o==null)return!p;for(o=Qt(o);p--;){var v=f[p],E=u[v],O=o[v];if(O===n&&!(v in o)||!E(O))return!1}return!0}function YS(o,u,f){if(typeof o!="function")throw new Rr(a);return pc(function(){o.apply(n,f)},u)}function uc(o,u,f,p){var v=-1,E=af,O=!0,A=o.length,R=[],q=u.length;if(!A)return R;f&&(u=de(u,or(f))),p?(E=Og,O=!1):u.length>=i&&(E=ec,O=!1,u=new ps(u));t:for(;++v<A;){var V=o[v],Y=f==null?V:f(V);if(V=p||V!==0?V:0,O&&Y===Y){for(var Z=q;Z--;)if(u[Z]===Y)continue t;R.push(V)}else E(u,Y,p)||R.push(V)}return R}var Fo=E1(Ei),XS=E1(Wg,!0);function PL(o,u){var f=!0;return Fo(o,function(p,v,E){return f=!!u(p,v,E),f}),f}function Cf(o,u,f){for(var p=-1,v=o.length;++p<v;){var E=o[p],O=u(E);if(O!=null&&(A===n?O===O&&!ar(O):f(O,A)))var A=O,R=E}return R}function RL(o,u,f,p){var v=o.length;for(f=wt(f),f<0&&(f=-f>v?0:v+f),p=p===n||p>v?v:wt(p),p<0&&(p+=v),p=f>p?0:pw(p);f<p;)o[f++]=u;return o}function QS(o,u){var f=[];return Fo(o,function(p,v,E){u(p,v,E)&&f.push(p)}),f}function nn(o,u,f,p,v){var E=-1,O=o.length;for(f||(f=b2),v||(v=[]);++E<O;){var A=o[E];u>0&&f(A)?u>1?nn(A,u-1,f,p,v):Mo(v,A):p||(v[v.length]=A)}return v}var Ug=x1(),ZS=x1(!0);function Ei(o,u){return o&&Ug(o,u,Ve)}function Wg(o,u){return o&&ZS(o,u,Ve)}function Tf(o,u){return $o(u,function(f){return io(o[f])})}function ms(o,u){u=jo(u,o);for(var f=0,p=u.length;o!=null&&f<p;)o=o[Ci(u[f++])];return f&&f==p?o:n}function t1(o,u,f){var p=u(o);return _t(o)?p:Mo(p,f(o))}function Mn(o){return o==null?o===n?yn:Zu:ds&&ds in Qt(o)?p2(o):O2(o)}function Kg(o,u){return o>u}function $L(o,u){return o!=null&&Gt.call(o,u)}function ML(o,u){return o!=null&&u in Qt(o)}function NL(o,u,f){return o>=_n(u,f)&&o<De(u,f)}function qg(o,u,f){for(var p=f?Og:af,v=o[0].length,E=o.length,O=E,A=F(E),R=1/0,q=[];O--;){var V=o[O];O&&u&&(V=de(V,or(u))),R=_n(V.length,R),A[O]=!f&&(u||v>=120&&V.length>=120)?new ps(O&&V):n}V=o[0];var Y=-1,Z=A[0];t:for(;++Y<v&&q.length<R;){var it=V[Y],ct=u?u(it):it;if(it=f||it!==0?it:0,!(Z?ec(Z,ct):p(q,ct,f))){for(O=E;--O;){var xt=A[O];if(!(xt?ec(xt,ct):p(o[O],ct,f)))continue t}Z&&Z.push(ct),q.push(it)}}return q}function LL(o,u,f,p){return Ei(o,function(v,E,O){u(p,f(v),E,O)}),p}function cc(o,u,f){u=jo(u,o),o=z1(o,u);var p=o==null?o:o[Ci(Lr(u))];return p==null?n:ir(p,o,f)}function e1(o){return be(o)&&Mn(o)==bi}function FL(o){return be(o)&&Mn(o)==ti}function BL(o){return be(o)&&Mn(o)==qn}function lc(o,u,f,p,v){return o===u?!0:o==null||u==null||!be(o)&&!be(u)?o!==o&&u!==u:jL(o,u,f,p,lc,v)}function jL(o,u,f,p,v,E){var O=_t(o),A=_t(u),R=O?Ao:bn(o),q=A?Ao:bn(u);R=R==bi?mn:R,q=q==bi?mn:q;var V=R==mn,Y=q==mn,Z=R==q;if(Z&&zo(o)){if(!zo(u))return!1;O=!0,V=!1}if(Z&&!V)return E||(E=new ni),O||Ea(o)?M1(o,u,f,p,v,E):d2(o,u,R,f,p,v,E);if(!(f&w)){var it=V&&Gt.call(o,"__wrapped__"),ct=Y&&Gt.call(u,"__wrapped__");if(it||ct){var xt=it?o.value():o,lt=ct?u.value():u;return E||(E=new ni),v(xt,lt,f,p,E)}}return Z?(E||(E=new ni),h2(o,u,f,p,v,E)):!1}function DL(o){return be(o)&&bn(o)==tn}function Vg(o,u,f,p){var v=f.length,E=v,O=!p;if(o==null)return!E;for(o=Qt(o);v--;){var A=f[v];if(O&&A[2]?A[1]!==o[A[0]]:!(A[0]in o))return!1}for(;++v<E;){A=f[v];var R=A[0],q=o[R],V=A[1];if(O&&A[2]){if(q===n&&!(R in o))return!1}else{var Y=new ni;if(p)var Z=p(q,V,R,o,u,Y);if(!(Z===n?lc(V,q,w|x,p,Y):Z))return!1}}return!0}function n1(o){if(!me(o)||w2(o))return!1;var u=io(o)?DN:IM;return u.test(vs(o))}function zL(o){return be(o)&&Mn(o)==wi}function UL(o){return be(o)&&bn(o)==$n}function WL(o){return be(o)&&Wf(o.length)&&!!ce[Mn(o)]}function r1(o){return typeof o=="function"?o:o==null?Jn:typeof o=="object"?_t(o)?s1(o[0],o[1]):o1(o):Cw(o)}function Hg(o){if(!hc(o))return VN(o);var u=[];for(var f in Qt(o))Gt.call(o,f)&&f!="constructor"&&u.push(f);return u}function KL(o){if(!me(o))return T2(o);var u=hc(o),f=[];for(var p in o)p=="constructor"&&(u||!Gt.call(o,p))||f.push(p);return f}function Gg(o,u){return o<u}function i1(o,u){var f=-1,p=Hn(o)?F(o.length):[];return Fo(o,function(v,E,O){p[++f]=u(v,E,O)}),p}function o1(o){var u=cm(o);return u.length==1&&u[0][2]?j1(u[0][0],u[0][1]):function(f){return f===o||Vg(f,o,u)}}function s1(o,u){return fm(o)&&B1(u)?j1(Ci(o),u):function(f){var p=Sm(f,o);return p===n&&p===u?wm(f,o):lc(u,p,w|x)}}function Of(o,u,f,p,v){o!==u&&Ug(u,function(E,O){if(v||(v=new ni),me(E))qL(o,u,O,f,Of,p,v);else{var A=p?p(hm(o,O),E,O+"",o,u,v):n;A===n&&(A=E),Dg(o,O,A)}},Gn)}function qL(o,u,f,p,v,E,O){var A=hm(o,f),R=hm(u,f),q=O.get(R);if(q){Dg(o,f,q);return}var V=E?E(A,R,f+"",o,u,O):n,Y=V===n;if(Y){var Z=_t(R),it=!Z&&zo(R),ct=!Z&&!it&&Ea(R);V=R,Z||it||ct?_t(A)?V=A:Ce(A)?V=Vn(A):it?(Y=!1,V=v1(R,!0)):ct?(Y=!1,V=_1(R,!0)):V=[]:gc(R)||_s(R)?(V=A,_s(A)?V=gw(A):(!me(A)||io(A))&&(V=F1(R))):Y=!1}Y&&(O.set(R,V),v(V,R,p,E,O),O.delete(R)),Dg(o,f,V)}function a1(o,u){var f=o.length;if(f)return u+=u<0?f:0,ro(u,f)?o[u]:n}function u1(o,u,f){u.length?u=de(u,function(E){return _t(E)?function(O){return ms(O,E.length===1?E[0]:E)}:E}):u=[Jn];var p=-1;u=de(u,or(ut()));var v=i1(o,function(E,O,A){var R=de(u,function(q){return q(E)});return{criteria:R,index:++p,value:E}});return vN(v,function(E,O){return i2(E,O,f)})}function VL(o,u){return c1(o,u,function(f,p){return wm(o,p)})}function c1(o,u,f){for(var p=-1,v=u.length,E={};++p<v;){var O=u[p],A=ms(o,O);f(A,O)&&fc(E,jo(O,o),A)}return E}function HL(o){return function(u){return ms(u,o)}}function Jg(o,u,f,p){var v=p?yN:da,E=-1,O=u.length,A=o;for(o===u&&(u=Vn(u)),f&&(A=de(o,or(f)));++E<O;)for(var R=0,q=u[E],V=f?f(q):q;(R=v(A,V,R,p))>-1;)A!==o&&yf.call(A,R,1),yf.call(o,R,1);return o}function l1(o,u){for(var f=o?u.length:0,p=f-1;f--;){var v=u[f];if(f==p||v!==E){var E=v;ro(v)?yf.call(o,v,1):Zg(o,v)}}return o}function Yg(o,u){return o+bf(KS()*(u-o+1))}function GL(o,u,f,p){for(var v=-1,E=De(_f((u-o)/(f||1)),0),O=F(E);E--;)O[p?E:++v]=o,o+=f;return O}function Xg(o,u){var f="";if(!o||u<1||u>ot)return f;do u%2&&(f+=o),u=bf(u/2),u&&(o+=o);while(u);return f}function At(o,u){return pm(D1(o,u,Jn),o+"")}function JL(o){return HS(xa(o))}function YL(o,u){var f=xa(o);return Ff(f,gs(u,0,f.length))}function fc(o,u,f,p){if(!me(o))return o;u=jo(u,o);for(var v=-1,E=u.length,O=E-1,A=o;A!=null&&++v<E;){var R=Ci(u[v]),q=f;if(R==="__proto__"||R==="constructor"||R==="prototype")return o;if(v!=O){var V=A[R];q=p?p(V,R,A):n,q===n&&(q=me(V)?V:ro(u[v+1])?[]:{})}ac(A,R,q),A=A[R]}return o}var f1=Sf?function(o,u){return Sf.set(o,u),o}:Jn,XL=vf?function(o,u){return vf(o,"toString",{configurable:!0,enumerable:!1,value:xm(u),writable:!0})}:Jn;function QL(o){return Ff(xa(o))}function Nr(o,u,f){var p=-1,v=o.length;u<0&&(u=-u>v?0:v+u),f=f>v?v:f,f<0&&(f+=v),v=u>f?0:f-u>>>0,u>>>=0;for(var E=F(v);++p<v;)E[p]=o[p+u];return E}function ZL(o,u){var f;return Fo(o,function(p,v,E){return f=u(p,v,E),!f}),!!f}function Af(o,u,f){var p=0,v=o==null?p:o.length;if(typeof u=="number"&&u===u&&v<=Yu){for(;p<v;){var E=p+v>>>1,O=o[E];O!==null&&!ar(O)&&(f?O<=u:O<u)?p=E+1:v=E}return v}return Qg(o,u,Jn,f)}function Qg(o,u,f,p){var v=0,E=o==null?0:o.length;if(E===0)return 0;u=f(u);for(var O=u!==u,A=u===null,R=ar(u),q=u===n;v<E;){var V=bf((v+E)/2),Y=f(o[V]),Z=Y!==n,it=Y===null,ct=Y===Y,xt=ar(Y);if(O)var lt=p||ct;else q?lt=ct&&(p||Z):A?lt=ct&&Z&&(p||!it):R?lt=ct&&Z&&!it&&(p||!xt):it||xt?lt=!1:lt=p?Y<=u:Y<u;lt?v=V+1:E=V}return _n(E,Oo)}function d1(o,u){for(var f=-1,p=o.length,v=0,E=[];++f<p;){var O=o[f],A=u?u(O):O;if(!f||!ri(A,R)){var R=A;E[v++]=O===0?0:O}}return E}function h1(o){return typeof o=="number"?o:ar(o)?Ze:+o}function sr(o){if(typeof o=="string")return o;if(_t(o))return de(o,sr)+"";if(ar(o))return qS?qS.call(o):"";var u=o+"";return u=="0"&&1/o==-1/0?"-0":u}function Bo(o,u,f){var p=-1,v=af,E=o.length,O=!0,A=[],R=A;if(f)O=!1,v=Og;else if(E>=i){var q=u?null:l2(o);if(q)return cf(q);O=!1,v=ec,R=new ps}else R=u?[]:A;t:for(;++p<E;){var V=o[p],Y=u?u(V):V;if(V=f||V!==0?V:0,O&&Y===Y){for(var Z=R.length;Z--;)if(R[Z]===Y)continue t;u&&R.push(Y),A.push(V)}else v(R,Y,f)||(R!==A&&R.push(Y),A.push(V))}return A}function Zg(o,u){return u=jo(u,o),o=z1(o,u),o==null||delete o[Ci(Lr(u))]}function p1(o,u,f,p){return fc(o,u,f(ms(o,u)),p)}function kf(o,u,f,p){for(var v=o.length,E=p?v:-1;(p?E--:++E<v)&&u(o[E],E,o););return f?Nr(o,p?0:E,p?E+1:v):Nr(o,p?E+1:0,p?v:E)}function g1(o,u){var f=o;return f instanceof Rt&&(f=f.value()),Ag(u,function(p,v){return v.func.apply(v.thisArg,Mo([p],v.args))},f)}function tm(o,u,f){var p=o.length;if(p<2)return p?Bo(o[0]):[];for(var v=-1,E=F(p);++v<p;)for(var O=o[v],A=-1;++A<p;)A!=v&&(E[v]=uc(E[v]||O,o[A],u,f));return Bo(nn(E,1),u,f)}function m1(o,u,f){for(var p=-1,v=o.length,E=u.length,O={};++p<v;){var A=p<E?u[p]:n;f(O,o[p],A)}return O}function em(o){return Ce(o)?o:[]}function nm(o){return typeof o=="function"?o:Jn}function jo(o,u){return _t(o)?o:fm(o,u)?[o]:q1(Ht(o))}var t2=At;function Do(o,u,f){var p=o.length;return f=f===n?p:f,!u&&f>=p?o:Nr(o,u,f)}var y1=zN||function(o){return en.clearTimeout(o)};function v1(o,u){if(u)return o.slice();var f=o.length,p=jS?jS(f):new o.constructor(f);return o.copy(p),p}function rm(o){var u=new o.constructor(o.byteLength);return new gf(u).set(new gf(o)),u}function e2(o,u){var f=u?rm(o.buffer):o.buffer;return new o.constructor(f,o.byteOffset,o.byteLength)}function n2(o){var u=new o.constructor(o.source,eS.exec(o));return u.lastIndex=o.lastIndex,u}function r2(o){return sc?Qt(sc.call(o)):{}}function _1(o,u){var f=u?rm(o.buffer):o.buffer;return new o.constructor(f,o.byteOffset,o.length)}function b1(o,u){if(o!==u){var f=o!==n,p=o===null,v=o===o,E=ar(o),O=u!==n,A=u===null,R=u===u,q=ar(u);if(!A&&!q&&!E&&o>u||E&&O&&R&&!A&&!q||p&&O&&R||!f&&R||!v)return 1;if(!p&&!E&&!q&&o<u||q&&f&&v&&!p&&!E||A&&f&&v||!O&&v||!R)return-1}return 0}function i2(o,u,f){for(var p=-1,v=o.criteria,E=u.criteria,O=v.length,A=f.length;++p<O;){var R=b1(v[p],E[p]);if(R){if(p>=A)return R;var q=f[p];return R*(q=="desc"?-1:1)}}return o.index-u.index}function S1(o,u,f,p){for(var v=-1,E=o.length,O=f.length,A=-1,R=u.length,q=De(E-O,0),V=F(R+q),Y=!p;++A<R;)V[A]=u[A];for(;++v<O;)(Y||v<E)&&(V[f[v]]=o[v]);for(;q--;)V[A++]=o[v++];return V}function w1(o,u,f,p){for(var v=-1,E=o.length,O=-1,A=f.length,R=-1,q=u.length,V=De(E-A,0),Y=F(V+q),Z=!p;++v<V;)Y[v]=o[v];for(var it=v;++R<q;)Y[it+R]=u[R];for(;++O<A;)(Z||v<E)&&(Y[it+f[O]]=o[v++]);return Y}function Vn(o,u){var f=-1,p=o.length;for(u||(u=F(p));++f<p;)u[f]=o[f];return u}function xi(o,u,f,p){var v=!f;f||(f={});for(var E=-1,O=u.length;++E<O;){var A=u[E],R=p?p(f[A],o[A],A,f,o):n;R===n&&(R=o[A]),v?to(f,A,R):ac(f,A,R)}return f}function o2(o,u){return xi(o,lm(o),u)}function s2(o,u){return xi(o,N1(o),u)}function If(o,u){return function(f,p){var v=_t(f)?fN:AL,E=u?u():{};return v(f,o,ut(p,2),E)}}function ba(o){return At(function(u,f){var p=-1,v=f.length,E=v>1?f[v-1]:n,O=v>2?f[2]:n;for(E=o.length>3&&typeof E=="function"?(v--,E):n,O&&Nn(f[0],f[1],O)&&(E=v<3?n:E,v=1),u=Qt(u);++p<v;){var A=f[p];A&&o(u,A,p,E)}return u})}function E1(o,u){return function(f,p){if(f==null)return f;if(!Hn(f))return o(f,p);for(var v=f.length,E=u?v:-1,O=Qt(f);(u?E--:++E<v)&&p(O[E],E,O)!==!1;);return f}}function x1(o){return function(u,f,p){for(var v=-1,E=Qt(u),O=p(u),A=O.length;A--;){var R=O[o?A:++v];if(f(E[R],R,E)===!1)break}return u}}function a2(o,u,f){var p=u&C,v=dc(o);function E(){var O=this&&this!==en&&this instanceof E?v:o;return O.apply(p?f:this,arguments)}return E}function C1(o){return function(u){u=Ht(u);var f=ha(u)?ei(u):n,p=f?f[0]:u.charAt(0),v=f?Do(f,1).join(""):u.slice(1);return p[o]()+v}}function Sa(o){return function(u){return Ag(Ew(ww(u).replace(XM,"")),o,"")}}function dc(o){return function(){var u=arguments;switch(u.length){case 0:return new o;case 1:return new o(u[0]);case 2:return new o(u[0],u[1]);case 3:return new o(u[0],u[1],u[2]);case 4:return new o(u[0],u[1],u[2],u[3]);case 5:return new o(u[0],u[1],u[2],u[3],u[4]);case 6:return new o(u[0],u[1],u[2],u[3],u[4],u[5]);case 7:return new o(u[0],u[1],u[2],u[3],u[4],u[5],u[6])}var f=_a(o.prototype),p=o.apply(f,u);return me(p)?p:f}}function u2(o,u,f){var p=dc(o);function v(){for(var E=arguments.length,O=F(E),A=E,R=wa(v);A--;)O[A]=arguments[A];var q=E<3&&O[0]!==R&&O[E-1]!==R?[]:No(O,R);if(E-=q.length,E<f)return I1(o,u,Pf,v.placeholder,n,O,q,n,n,f-E);var V=this&&this!==en&&this instanceof v?p:o;return ir(V,this,O)}return v}function T1(o){return function(u,f,p){var v=Qt(u);if(!Hn(u)){var E=ut(f,3);u=Ve(u),f=function(A){return E(v[A],A,v)}}var O=o(u,f,p);return O>-1?v[E?u[O]:O]:n}}function O1(o){return no(function(u){var f=u.length,p=f,v=$r.prototype.thru;for(o&&u.reverse();p--;){var E=u[p];if(typeof E!="function")throw new Rr(a);if(v&&!O&&Nf(E)=="wrapper")var O=new $r([],!0)}for(p=O?p:f;++p<f;){E=u[p];var A=Nf(E),R=A=="wrapper"?um(E):n;R&&dm(R[0])&&R[1]==(k|M|j|z)&&!R[4].length&&R[9]==1?O=O[Nf(R[0])].apply(O,R[3]):O=E.length==1&&dm(E)?O[A]():O.thru(E)}return function(){var q=arguments,V=q[0];if(O&&q.length==1&&_t(V))return O.plant(V).value();for(var Y=0,Z=f?u[Y].apply(this,q):V;++Y<f;)Z=u[Y].call(this,Z);return Z}})}function Pf(o,u,f,p,v,E,O,A,R,q){var V=u&k,Y=u&C,Z=u&T,it=u&(M|P),ct=u&K,xt=Z?n:dc(o);function lt(){for(var It=arguments.length,Nt=F(It),ur=It;ur--;)Nt[ur]=arguments[ur];if(it)var Ln=wa(lt),cr=bN(Nt,Ln);if(p&&(Nt=S1(Nt,p,v,it)),E&&(Nt=w1(Nt,E,O,it)),It-=cr,it&&It<q){var Te=No(Nt,Ln);return I1(o,u,Pf,lt.placeholder,f,Nt,Te,A,R,q-It)}var ii=Y?f:this,so=Z?ii[o]:o;return It=Nt.length,A?Nt=A2(Nt,A):ct&&It>1&&Nt.reverse(),V&&R<It&&(Nt.length=R),this&&this!==en&&this instanceof lt&&(so=xt||dc(so)),so.apply(ii,Nt)}return lt}function A1(o,u){return function(f,p){return LL(f,o,u(p),{})}}function Rf(o,u){return function(f,p){var v;if(f===n&&p===n)return u;if(f!==n&&(v=f),p!==n){if(v===n)return p;typeof f=="string"||typeof p=="string"?(f=sr(f),p=sr(p)):(f=h1(f),p=h1(p)),v=o(f,p)}return v}}function im(o){return no(function(u){return u=de(u,or(ut())),At(function(f){var p=this;return o(u,function(v){return ir(v,p,f)})})})}function $f(o,u){u=u===n?" ":sr(u);var f=u.length;if(f<2)return f?Xg(u,o):u;var p=Xg(u,_f(o/pa(u)));return ha(u)?Do(ei(p),0,o).join(""):p.slice(0,o)}function c2(o,u,f,p){var v=u&C,E=dc(o);function O(){for(var A=-1,R=arguments.length,q=-1,V=p.length,Y=F(V+R),Z=this&&this!==en&&this instanceof O?E:o;++q<V;)Y[q]=p[q];for(;R--;)Y[q++]=arguments[++A];return ir(Z,v?f:this,Y)}return O}function k1(o){return function(u,f,p){return p&&typeof p!="number"&&Nn(u,f,p)&&(f=p=n),u=oo(u),f===n?(f=u,u=0):f=oo(f),p=p===n?u<f?1:-1:oo(p),GL(u,f,p,o)}}function Mf(o){return function(u,f){return typeof u=="string"&&typeof f=="string"||(u=Fr(u),f=Fr(f)),o(u,f)}}function I1(o,u,f,p,v,E,O,A,R,q){var V=u&M,Y=V?O:n,Z=V?n:O,it=V?E:n,ct=V?n:E;u|=V?j:B,u&=~(V?B:j),u&$||(u&=-4);var xt=[o,u,v,it,Y,ct,Z,A,R,q],lt=f.apply(n,xt);return dm(o)&&U1(lt,xt),lt.placeholder=p,W1(lt,o,u)}function om(o){var u=je[o];return function(f,p){if(f=Fr(f),p=p==null?0:_n(wt(p),292),p&&WS(f)){var v=(Ht(f)+"e").split("e"),E=u(v[0]+"e"+(+v[1]+p));return v=(Ht(E)+"e").split("e"),+(v[0]+"e"+(+v[1]-p))}return u(f)}}var l2=ya&&1/cf(new ya([,-0]))[1]==rt?function(o){return new ya(o)}:Om;function P1(o){return function(u){var f=bn(u);return f==tn?Ng(u):f==$n?ON(u):_N(u,o(u))}}function eo(o,u,f,p,v,E,O,A){var R=u&T;if(!R&&typeof o!="function")throw new Rr(a);var q=p?p.length:0;if(q||(u&=-97,p=v=n),O=O===n?O:De(wt(O),0),A=A===n?A:wt(A),q-=v?v.length:0,u&B){var V=p,Y=v;p=v=n}var Z=R?n:um(o),it=[o,u,f,p,v,V,Y,E,O,A];if(Z&&C2(it,Z),o=it[0],u=it[1],f=it[2],p=it[3],v=it[4],A=it[9]=it[9]===n?R?0:o.length:De(it[9]-q,0),!A&&u&(M|P)&&(u&=-25),!u||u==C)var ct=a2(o,u,f);else u==M||u==P?ct=u2(o,u,A):(u==j||u==(C|j))&&!v.length?ct=c2(o,u,f,p):ct=Pf.apply(n,it);var xt=Z?f1:U1;return W1(xt(ct,it),o,u)}function R1(o,u,f,p){return o===n||ri(o,ma[f])&&!Gt.call(p,f)?u:o}function $1(o,u,f,p,v,E){return me(o)&&me(u)&&(E.set(u,o),Of(o,u,n,$1,E),E.delete(u)),o}function f2(o){return gc(o)?n:o}function M1(o,u,f,p,v,E){var O=f&w,A=o.length,R=u.length;if(A!=R&&!(O&&R>A))return!1;var q=E.get(o),V=E.get(u);if(q&&V)return q==u&&V==o;var Y=-1,Z=!0,it=f&x?new ps:n;for(E.set(o,u),E.set(u,o);++Y<A;){var ct=o[Y],xt=u[Y];if(p)var lt=O?p(xt,ct,Y,u,o,E):p(ct,xt,Y,o,u,E);if(lt!==n){if(lt)continue;Z=!1;break}if(it){if(!kg(u,function(It,Nt){if(!ec(it,Nt)&&(ct===It||v(ct,It,f,p,E)))return it.push(Nt)})){Z=!1;break}}else if(!(ct===xt||v(ct,xt,f,p,E))){Z=!1;break}}return E.delete(o),E.delete(u),Z}function d2(o,u,f,p,v,E,O){switch(f){case Ro:if(o.byteLength!=u.byteLength||o.byteOffset!=u.byteOffset)return!1;o=o.buffer,u=u.buffer;case ti:return!(o.byteLength!=u.byteLength||!E(new gf(o),new gf(u)));case Yi:case qn:case Xi:return ri(+o,+u);case ko:return o.name==u.name&&o.message==u.message;case wi:case Q:return o==u+"";case tn:var A=Ng;case $n:var R=p&w;if(A||(A=cf),o.size!=u.size&&!R)return!1;var q=O.get(o);if(q)return q==u;p|=x,O.set(o,u);var V=M1(A(o),A(u),p,v,E,O);return O.delete(o),V;case dt:if(sc)return sc.call(o)==sc.call(u)}return!1}function h2(o,u,f,p,v,E){var O=f&w,A=sm(o),R=A.length,q=sm(u),V=q.length;if(R!=V&&!O)return!1;for(var Y=R;Y--;){var Z=A[Y];if(!(O?Z in u:Gt.call(u,Z)))return!1}var it=E.get(o),ct=E.get(u);if(it&&ct)return it==u&&ct==o;var xt=!0;E.set(o,u),E.set(u,o);for(var lt=O;++Y<R;){Z=A[Y];var It=o[Z],Nt=u[Z];if(p)var ur=O?p(Nt,It,Z,u,o,E):p(It,Nt,Z,o,u,E);if(!(ur===n?It===Nt||v(It,Nt,f,p,E):ur)){xt=!1;break}lt||(lt=Z=="constructor")}if(xt&&!lt){var Ln=o.constructor,cr=u.constructor;Ln!=cr&&"constructor"in o&&"constructor"in u&&!(typeof Ln=="function"&&Ln instanceof Ln&&typeof cr=="function"&&cr instanceof cr)&&(xt=!1)}return E.delete(o),E.delete(u),xt}function no(o){return pm(D1(o,n,J1),o+"")}function sm(o){return t1(o,Ve,lm)}function am(o){return t1(o,Gn,N1)}var um=Sf?function(o){return Sf.get(o)}:Om;function Nf(o){for(var u=o.name+"",f=va[u],p=Gt.call(va,u)?f.length:0;p--;){var v=f[p],E=v.func;if(E==null||E==o)return v.name}return u}function wa(o){var u=Gt.call(S,"placeholder")?S:o;return u.placeholder}function ut(){var o=S.iteratee||Cm;return o=o===Cm?r1:o,arguments.length?o(arguments[0],arguments[1]):o}function Lf(o,u){var f=o.__data__;return S2(u)?f[typeof u=="string"?"string":"hash"]:f.map}function cm(o){for(var u=Ve(o),f=u.length;f--;){var p=u[f],v=o[p];u[f]=[p,v,B1(v)]}return u}function ys(o,u){var f=xN(o,u);return n1(f)?f:n}function p2(o){var u=Gt.call(o,ds),f=o[ds];try{o[ds]=n;var p=!0}catch{}var v=hf.call(o);return p&&(u?o[ds]=f:delete o[ds]),v}var lm=Fg?function(o){return o==null?[]:(o=Qt(o),$o(Fg(o),function(u){return zS.call(o,u)}))}:Am,N1=Fg?function(o){for(var u=[];o;)Mo(u,lm(o)),o=mf(o);return u}:Am,bn=Mn;(Bg&&bn(new Bg(new ArrayBuffer(1)))!=Ro||rc&&bn(new rc)!=tn||jg&&bn(jg.resolve())!=Si||ya&&bn(new ya)!=$n||ic&&bn(new ic)!=vn)&&(bn=function(o){var u=Mn(o),f=u==mn?o.constructor:n,p=f?vs(f):"";if(p)switch(p){case YN:return Ro;case XN:return tn;case QN:return Si;case ZN:return $n;case tL:return vn}return u});function g2(o,u,f){for(var p=-1,v=f.length;++p<v;){var E=f[p],O=E.size;switch(E.type){case"drop":o+=O;break;case"dropRight":u-=O;break;case"take":u=_n(u,o+O);break;case"takeRight":o=De(o,u-O);break}}return{start:o,end:u}}function m2(o){var u=o.match(wM);return u?u[1].split(EM):[]}function L1(o,u,f){u=jo(u,o);for(var p=-1,v=u.length,E=!1;++p<v;){var O=Ci(u[p]);if(!(E=o!=null&&f(o,O)))break;o=o[O]}return E||++p!=v?E:(v=o==null?0:o.length,!!v&&Wf(v)&&ro(O,v)&&(_t(o)||_s(o)))}function y2(o){var u=o.length,f=new o.constructor(u);return u&&typeof o[0]=="string"&&Gt.call(o,"index")&&(f.index=o.index,f.input=o.input),f}function F1(o){return typeof o.constructor=="function"&&!hc(o)?_a(mf(o)):{}}function v2(o,u,f){var p=o.constructor;switch(u){case ti:return rm(o);case Yi:case qn:return new p(+o);case Ro:return e2(o,f);case cg:case lg:case fg:case dg:case hg:case pg:case gg:case mg:case yg:return _1(o,f);case tn:return new p;case Xi:case Q:return new p(o);case wi:return n2(o);case $n:return new p;case dt:return r2(o)}}function _2(o,u){var f=u.length;if(!f)return o;var p=f-1;return u[p]=(f>1?"& ":"")+u[p],u=u.join(f>2?", ":" "),o.replace(SM,`{
/* [wrapped with `+u+`] */
`)}function b2(o){return _t(o)||_s(o)||!!(US&&o&&o[US])}function ro(o,u){var f=typeof o;return u=u??ot,!!u&&(f=="number"||f!="symbol"&&RM.test(o))&&o>-1&&o%1==0&&o<u}function Nn(o,u,f){if(!me(f))return!1;var p=typeof u;return(p=="number"?Hn(f)&&ro(u,f.length):p=="string"&&u in f)?ri(f[u],o):!1}function fm(o,u){if(_t(o))return!1;var f=typeof o;return f=="number"||f=="symbol"||f=="boolean"||o==null||ar(o)?!0:yM.test(o)||!mM.test(o)||u!=null&&o in Qt(u)}function S2(o){var u=typeof o;return u=="string"||u=="number"||u=="symbol"||u=="boolean"?o!=="__proto__":o===null}function dm(o){var u=Nf(o),f=S[u];if(typeof f!="function"||!(u in Rt.prototype))return!1;if(o===f)return!0;var p=um(f);return!!p&&o===p[0]}function w2(o){return!!BS&&BS in o}var E2=ff?io:km;function hc(o){var u=o&&o.constructor,f=typeof u=="function"&&u.prototype||ma;return o===f}function B1(o){return o===o&&!me(o)}function j1(o,u){return function(f){return f==null?!1:f[o]===u&&(u!==n||o in Qt(f))}}function x2(o){var u=zf(o,function(p){return f.size===d&&f.clear(),p}),f=u.cache;return u}function C2(o,u){var f=o[1],p=u[1],v=f|p,E=v<(C|T|k),O=p==k&&f==M||p==k&&f==z&&o[7].length<=u[8]||p==(k|z)&&u[7].length<=u[8]&&f==M;if(!(E||O))return o;p&C&&(o[2]=u[2],v|=f&C?0:$);var A=u[3];if(A){var R=o[3];o[3]=R?S1(R,A,u[4]):A,o[4]=R?No(o[3],h):u[4]}return A=u[5],A&&(R=o[5],o[5]=R?w1(R,A,u[6]):A,o[6]=R?No(o[5],h):u[6]),A=u[7],A&&(o[7]=A),p&k&&(o[8]=o[8]==null?u[8]:_n(o[8],u[8])),o[9]==null&&(o[9]=u[9]),o[0]=u[0],o[1]=v,o}function T2(o){var u=[];if(o!=null)for(var f in Qt(o))u.push(f);return u}function O2(o){return hf.call(o)}function D1(o,u,f){return u=De(u===n?o.length-1:u,0),function(){for(var p=arguments,v=-1,E=De(p.length-u,0),O=F(E);++v<E;)O[v]=p[u+v];v=-1;for(var A=F(u+1);++v<u;)A[v]=p[v];return A[u]=f(O),ir(o,this,A)}}function z1(o,u){return u.length<2?o:ms(o,Nr(u,0,-1))}function A2(o,u){for(var f=o.length,p=_n(u.length,f),v=Vn(o);p--;){var E=u[p];o[p]=ro(E,f)?v[E]:n}return o}function hm(o,u){if(!(u==="constructor"&&typeof o[u]=="function")&&u!="__proto__")return o[u]}var U1=K1(f1),pc=WN||function(o,u){return en.setTimeout(o,u)},pm=K1(XL);function W1(o,u,f){var p=u+"";return pm(o,_2(p,k2(m2(p),f)))}function K1(o){var u=0,f=0;return function(){var p=HN(),v=X-(p-f);if(f=p,v>0){if(++u>=D)return arguments[0]}else u=0;return o.apply(n,arguments)}}function Ff(o,u){var f=-1,p=o.length,v=p-1;for(u=u===n?p:u;++f<u;){var E=Yg(f,v),O=o[E];o[E]=o[f],o[f]=O}return o.length=u,o}var q1=x2(function(o){var u=[];return o.charCodeAt(0)===46&&u.push(""),o.replace(vM,function(f,p,v,E){u.push(v?E.replace(TM,"$1"):p||f)}),u});function Ci(o){if(typeof o=="string"||ar(o))return o;var u=o+"";return u=="0"&&1/o==-1/0?"-0":u}function vs(o){if(o!=null){try{return df.call(o)}catch{}try{return o+""}catch{}}return""}function k2(o,u){return Pr(Xu,function(f){var p="_."+f[0];u&f[1]&&!af(o,p)&&o.push(p)}),o.sort()}function V1(o){if(o instanceof Rt)return o.clone();var u=new $r(o.__wrapped__,o.__chain__);return u.__actions__=Vn(o.__actions__),u.__index__=o.__index__,u.__values__=o.__values__,u}function I2(o,u,f){(f?Nn(o,u,f):u===n)?u=1:u=De(wt(u),0);var p=o==null?0:o.length;if(!p||u<1)return[];for(var v=0,E=0,O=F(_f(p/u));v<p;)O[E++]=Nr(o,v,v+=u);return O}function P2(o){for(var u=-1,f=o==null?0:o.length,p=0,v=[];++u<f;){var E=o[u];E&&(v[p++]=E)}return v}function R2(){var o=arguments.length;if(!o)return[];for(var u=F(o-1),f=arguments[0],p=o;p--;)u[p-1]=arguments[p];return Mo(_t(f)?Vn(f):[f],nn(u,1))}var $2=At(function(o,u){return Ce(o)?uc(o,nn(u,1,Ce,!0)):[]}),M2=At(function(o,u){var f=Lr(u);return Ce(f)&&(f=n),Ce(o)?uc(o,nn(u,1,Ce,!0),ut(f,2)):[]}),N2=At(function(o,u){var f=Lr(u);return Ce(f)&&(f=n),Ce(o)?uc(o,nn(u,1,Ce,!0),n,f):[]});function L2(o,u,f){var p=o==null?0:o.length;return p?(u=f||u===n?1:wt(u),Nr(o,u<0?0:u,p)):[]}function F2(o,u,f){var p=o==null?0:o.length;return p?(u=f||u===n?1:wt(u),u=p-u,Nr(o,0,u<0?0:u)):[]}function B2(o,u){return o&&o.length?kf(o,ut(u,3),!0,!0):[]}function j2(o,u){return o&&o.length?kf(o,ut(u,3),!0):[]}function D2(o,u,f,p){var v=o==null?0:o.length;return v?(f&&typeof f!="number"&&Nn(o,u,f)&&(f=0,p=v),RL(o,u,f,p)):[]}function H1(o,u,f){var p=o==null?0:o.length;if(!p)return-1;var v=f==null?0:wt(f);return v<0&&(v=De(p+v,0)),uf(o,ut(u,3),v)}function G1(o,u,f){var p=o==null?0:o.length;if(!p)return-1;var v=p-1;return f!==n&&(v=wt(f),v=f<0?De(p+v,0):_n(v,p-1)),uf(o,ut(u,3),v,!0)}function J1(o){var u=o==null?0:o.length;return u?nn(o,1):[]}function z2(o){var u=o==null?0:o.length;return u?nn(o,rt):[]}function U2(o,u){var f=o==null?0:o.length;return f?(u=u===n?1:wt(u),nn(o,u)):[]}function W2(o){for(var u=-1,f=o==null?0:o.length,p={};++u<f;){var v=o[u];p[v[0]]=v[1]}return p}function Y1(o){return o&&o.length?o[0]:n}function K2(o,u,f){var p=o==null?0:o.length;if(!p)return-1;var v=f==null?0:wt(f);return v<0&&(v=De(p+v,0)),da(o,u,v)}function q2(o){var u=o==null?0:o.length;return u?Nr(o,0,-1):[]}var V2=At(function(o){var u=de(o,em);return u.length&&u[0]===o[0]?qg(u):[]}),H2=At(function(o){var u=Lr(o),f=de(o,em);return u===Lr(f)?u=n:f.pop(),f.length&&f[0]===o[0]?qg(f,ut(u,2)):[]}),G2=At(function(o){var u=Lr(o),f=de(o,em);return u=typeof u=="function"?u:n,u&&f.pop(),f.length&&f[0]===o[0]?qg(f,n,u):[]});function J2(o,u){return o==null?"":qN.call(o,u)}function Lr(o){var u=o==null?0:o.length;return u?o[u-1]:n}function Y2(o,u,f){var p=o==null?0:o.length;if(!p)return-1;var v=p;return f!==n&&(v=wt(f),v=v<0?De(p+v,0):_n(v,p-1)),u===u?kN(o,u,v):uf(o,IS,v,!0)}function X2(o,u){return o&&o.length?a1(o,wt(u)):n}var Q2=At(X1);function X1(o,u){return o&&o.length&&u&&u.length?Jg(o,u):o}function Z2(o,u,f){return o&&o.length&&u&&u.length?Jg(o,u,ut(f,2)):o}function tF(o,u,f){return o&&o.length&&u&&u.length?Jg(o,u,n,f):o}var eF=no(function(o,u){var f=o==null?0:o.length,p=zg(o,u);return l1(o,de(u,function(v){return ro(v,f)?+v:v}).sort(b1)),p});function nF(o,u){var f=[];if(!(o&&o.length))return f;var p=-1,v=[],E=o.length;for(u=ut(u,3);++p<E;){var O=o[p];u(O,p,o)&&(f.push(O),v.push(p))}return l1(o,v),f}function gm(o){return o==null?o:JN.call(o)}function rF(o,u,f){var p=o==null?0:o.length;return p?(f&&typeof f!="number"&&Nn(o,u,f)?(u=0,f=p):(u=u==null?0:wt(u),f=f===n?p:wt(f)),Nr(o,u,f)):[]}function iF(o,u){return Af(o,u)}function oF(o,u,f){return Qg(o,u,ut(f,2))}function sF(o,u){var f=o==null?0:o.length;if(f){var p=Af(o,u);if(p<f&&ri(o[p],u))return p}return-1}function aF(o,u){return Af(o,u,!0)}function uF(o,u,f){return Qg(o,u,ut(f,2),!0)}function cF(o,u){var f=o==null?0:o.length;if(f){var p=Af(o,u,!0)-1;if(ri(o[p],u))return p}return-1}function lF(o){return o&&o.length?d1(o):[]}function fF(o,u){return o&&o.length?d1(o,ut(u,2)):[]}function dF(o){var u=o==null?0:o.length;return u?Nr(o,1,u):[]}function hF(o,u,f){return o&&o.length?(u=f||u===n?1:wt(u),Nr(o,0,u<0?0:u)):[]}function pF(o,u,f){var p=o==null?0:o.length;return p?(u=f||u===n?1:wt(u),u=p-u,Nr(o,u<0?0:u,p)):[]}function gF(o,u){return o&&o.length?kf(o,ut(u,3),!1,!0):[]}function mF(o,u){return o&&o.length?kf(o,ut(u,3)):[]}var yF=At(function(o){return Bo(nn(o,1,Ce,!0))}),vF=At(function(o){var u=Lr(o);return Ce(u)&&(u=n),Bo(nn(o,1,Ce,!0),ut(u,2))}),_F=At(function(o){var u=Lr(o);return u=typeof u=="function"?u:n,Bo(nn(o,1,Ce,!0),n,u)});function bF(o){return o&&o.length?Bo(o):[]}function SF(o,u){return o&&o.length?Bo(o,ut(u,2)):[]}function wF(o,u){return u=typeof u=="function"?u:n,o&&o.length?Bo(o,n,u):[]}function mm(o){if(!(o&&o.length))return[];var u=0;return o=$o(o,function(f){if(Ce(f))return u=De(f.length,u),!0}),$g(u,function(f){return de(o,Ig(f))})}function Q1(o,u){if(!(o&&o.length))return[];var f=mm(o);return u==null?f:de(f,function(p){return ir(u,n,p)})}var EF=At(function(o,u){return Ce(o)?uc(o,u):[]}),xF=At(function(o){return tm($o(o,Ce))}),CF=At(function(o){var u=Lr(o);return Ce(u)&&(u=n),tm($o(o,Ce),ut(u,2))}),TF=At(function(o){var u=Lr(o);return u=typeof u=="function"?u:n,tm($o(o,Ce),n,u)}),OF=At(mm);function AF(o,u){return m1(o||[],u||[],ac)}function kF(o,u){return m1(o||[],u||[],fc)}var IF=At(function(o){var u=o.length,f=u>1?o[u-1]:n;return f=typeof f=="function"?(o.pop(),f):n,Q1(o,f)});function Z1(o){var u=S(o);return u.__chain__=!0,u}function PF(o,u){return u(o),o}function Bf(o,u){return u(o)}var RF=no(function(o){var u=o.length,f=u?o[0]:0,p=this.__wrapped__,v=function(E){return zg(E,o)};return u>1||this.__actions__.length||!(p instanceof Rt)||!ro(f)?this.thru(v):(p=p.slice(f,+f+(u?1:0)),p.__actions__.push({func:Bf,args:[v],thisArg:n}),new $r(p,this.__chain__).thru(function(E){return u&&!E.length&&E.push(n),E}))});function $F(){return Z1(this)}function MF(){return new $r(this.value(),this.__chain__)}function NF(){this.__values__===n&&(this.__values__=hw(this.value()));var o=this.__index__>=this.__values__.length,u=o?n:this.__values__[this.__index__++];return{done:o,value:u}}function LF(){return this}function FF(o){for(var u,f=this;f instanceof Ef;){var p=V1(f);p.__index__=0,p.__values__=n,u?v.__wrapped__=p:u=p;var v=p;f=f.__wrapped__}return v.__wrapped__=o,u}function BF(){var o=this.__wrapped__;if(o instanceof Rt){var u=o;return this.__actions__.length&&(u=new Rt(this)),u=u.reverse(),u.__actions__.push({func:Bf,args:[gm],thisArg:n}),new $r(u,this.__chain__)}return this.thru(gm)}function jF(){return g1(this.__wrapped__,this.__actions__)}var DF=If(function(o,u,f){Gt.call(o,f)?++o[f]:to(o,f,1)});function zF(o,u,f){var p=_t(o)?AS:PL;return f&&Nn(o,u,f)&&(u=n),p(o,ut(u,3))}function UF(o,u){var f=_t(o)?$o:QS;return f(o,ut(u,3))}var WF=T1(H1),KF=T1(G1);function qF(o,u){return nn(jf(o,u),1)}function VF(o,u){return nn(jf(o,u),rt)}function HF(o,u,f){return f=f===n?1:wt(f),nn(jf(o,u),f)}function tw(o,u){var f=_t(o)?Pr:Fo;return f(o,ut(u,3))}function ew(o,u){var f=_t(o)?dN:XS;return f(o,ut(u,3))}var GF=If(function(o,u,f){Gt.call(o,f)?o[f].push(u):to(o,f,[u])});function JF(o,u,f,p){o=Hn(o)?o:xa(o),f=f&&!p?wt(f):0;var v=o.length;return f<0&&(f=De(v+f,0)),Kf(o)?f<=v&&o.indexOf(u,f)>-1:!!v&&da(o,u,f)>-1}var YF=At(function(o,u,f){var p=-1,v=typeof u=="function",E=Hn(o)?F(o.length):[];return Fo(o,function(O){E[++p]=v?ir(u,O,f):cc(O,u,f)}),E}),XF=If(function(o,u,f){to(o,f,u)});function jf(o,u){var f=_t(o)?de:i1;return f(o,ut(u,3))}function QF(o,u,f,p){return o==null?[]:(_t(u)||(u=u==null?[]:[u]),f=p?n:f,_t(f)||(f=f==null?[]:[f]),u1(o,u,f))}var ZF=If(function(o,u,f){o[f?0:1].push(u)},function(){return[[],[]]});function t5(o,u,f){var p=_t(o)?Ag:RS,v=arguments.length<3;return p(o,ut(u,4),f,v,Fo)}function e5(o,u,f){var p=_t(o)?hN:RS,v=arguments.length<3;return p(o,ut(u,4),f,v,XS)}function n5(o,u){var f=_t(o)?$o:QS;return f(o,Uf(ut(u,3)))}function r5(o){var u=_t(o)?HS:JL;return u(o)}function i5(o,u,f){(f?Nn(o,u,f):u===n)?u=1:u=wt(u);var p=_t(o)?TL:YL;return p(o,u)}function o5(o){var u=_t(o)?OL:QL;return u(o)}function s5(o){if(o==null)return 0;if(Hn(o))return Kf(o)?pa(o):o.length;var u=bn(o);return u==tn||u==$n?o.size:Hg(o).length}function a5(o,u,f){var p=_t(o)?kg:ZL;return f&&Nn(o,u,f)&&(u=n),p(o,ut(u,3))}var u5=At(function(o,u){if(o==null)return[];var f=u.length;return f>1&&Nn(o,u[0],u[1])?u=[]:f>2&&Nn(u[0],u[1],u[2])&&(u=[u[0]]),u1(o,nn(u,1),[])}),Df=UN||function(){return en.Date.now()};function c5(o,u){if(typeof u!="function")throw new Rr(a);return o=wt(o),function(){if(--o<1)return u.apply(this,arguments)}}function nw(o,u,f){return u=f?n:u,u=o&&u==null?o.length:u,eo(o,k,n,n,n,n,u)}function rw(o,u){var f;if(typeof u!="function")throw new Rr(a);return o=wt(o),function(){return--o>0&&(f=u.apply(this,arguments)),o<=1&&(u=n),f}}var ym=At(function(o,u,f){var p=C;if(f.length){var v=No(f,wa(ym));p|=j}return eo(o,p,u,f,v)}),iw=At(function(o,u,f){var p=C|T;if(f.length){var v=No(f,wa(iw));p|=j}return eo(u,p,o,f,v)});function ow(o,u,f){u=f?n:u;var p=eo(o,M,n,n,n,n,n,u);return p.placeholder=ow.placeholder,p}function sw(o,u,f){u=f?n:u;var p=eo(o,P,n,n,n,n,n,u);return p.placeholder=sw.placeholder,p}function aw(o,u,f){var p,v,E,O,A,R,q=0,V=!1,Y=!1,Z=!0;if(typeof o!="function")throw new Rr(a);u=Fr(u)||0,me(f)&&(V=!!f.leading,Y="maxWait"in f,E=Y?De(Fr(f.maxWait)||0,u):E,Z="trailing"in f?!!f.trailing:Z);function it(Te){var ii=p,so=v;return p=v=n,q=Te,O=o.apply(so,ii),O}function ct(Te){return q=Te,A=pc(It,u),V?it(Te):O}function xt(Te){var ii=Te-R,so=Te-q,Tw=u-ii;return Y?_n(Tw,E-so):Tw}function lt(Te){var ii=Te-R,so=Te-q;return R===n||ii>=u||ii<0||Y&&so>=E}function It(){var Te=Df();if(lt(Te))return Nt(Te);A=pc(It,xt(Te))}function Nt(Te){return A=n,Z&&p?it(Te):(p=v=n,O)}function ur(){A!==n&&y1(A),q=0,p=R=v=A=n}function Ln(){return A===n?O:Nt(Df())}function cr(){var Te=Df(),ii=lt(Te);if(p=arguments,v=this,R=Te,ii){if(A===n)return ct(R);if(Y)return y1(A),A=pc(It,u),it(R)}return A===n&&(A=pc(It,u)),O}return cr.cancel=ur,cr.flush=Ln,cr}var l5=At(function(o,u){return YS(o,1,u)}),f5=At(function(o,u,f){return YS(o,Fr(u)||0,f)});function d5(o){return eo(o,K)}function zf(o,u){if(typeof o!="function"||u!=null&&typeof u!="function")throw new Rr(a);var f=function(){var p=arguments,v=u?u.apply(this,p):p[0],E=f.cache;if(E.has(v))return E.get(v);var O=o.apply(this,p);return f.cache=E.set(v,O)||E,O};return f.cache=new(zf.Cache||Zi),f}zf.Cache=Zi;function Uf(o){if(typeof o!="function")throw new Rr(a);return function(){var u=arguments;switch(u.length){case 0:return!o.call(this);case 1:return!o.call(this,u[0]);case 2:return!o.call(this,u[0],u[1]);case 3:return!o.call(this,u[0],u[1],u[2])}return!o.apply(this,u)}}function h5(o){return rw(2,o)}var p5=t2(function(o,u){u=u.length==1&&_t(u[0])?de(u[0],or(ut())):de(nn(u,1),or(ut()));var f=u.length;return At(function(p){for(var v=-1,E=_n(p.length,f);++v<E;)p[v]=u[v].call(this,p[v]);return ir(o,this,p)})}),vm=At(function(o,u){var f=No(u,wa(vm));return eo(o,j,n,u,f)}),uw=At(function(o,u){var f=No(u,wa(uw));return eo(o,B,n,u,f)}),g5=no(function(o,u){return eo(o,z,n,n,n,u)});function m5(o,u){if(typeof o!="function")throw new Rr(a);return u=u===n?u:wt(u),At(o,u)}function y5(o,u){if(typeof o!="function")throw new Rr(a);return u=u==null?0:De(wt(u),0),At(function(f){var p=f[u],v=Do(f,0,u);return p&&Mo(v,p),ir(o,this,v)})}function v5(o,u,f){var p=!0,v=!0;if(typeof o!="function")throw new Rr(a);return me(f)&&(p="leading"in f?!!f.leading:p,v="trailing"in f?!!f.trailing:v),aw(o,u,{leading:p,maxWait:u,trailing:v})}function _5(o){return nw(o,1)}function b5(o,u){return vm(nm(u),o)}function S5(){if(!arguments.length)return[];var o=arguments[0];return _t(o)?o:[o]}function w5(o){return Mr(o,y)}function E5(o,u){return u=typeof u=="function"?u:n,Mr(o,y,u)}function x5(o){return Mr(o,g|y)}function C5(o,u){return u=typeof u=="function"?u:n,Mr(o,g|y,u)}function T5(o,u){return u==null||JS(o,u,Ve(u))}function ri(o,u){return o===u||o!==o&&u!==u}var O5=Mf(Kg),A5=Mf(function(o,u){return o>=u}),_s=e1(function(){return arguments}())?e1:function(o){return be(o)&&Gt.call(o,"callee")&&!zS.call(o,"callee")},_t=F.isArray,k5=wS?or(wS):FL;function Hn(o){return o!=null&&Wf(o.length)&&!io(o)}function Ce(o){return be(o)&&Hn(o)}function I5(o){return o===!0||o===!1||be(o)&&Mn(o)==Yi}var zo=KN||km,P5=ES?or(ES):BL;function R5(o){return be(o)&&o.nodeType===1&&!gc(o)}function $5(o){if(o==null)return!0;if(Hn(o)&&(_t(o)||typeof o=="string"||typeof o.splice=="function"||zo(o)||Ea(o)||_s(o)))return!o.length;var u=bn(o);if(u==tn||u==$n)return!o.size;if(hc(o))return!Hg(o).length;for(var f in o)if(Gt.call(o,f))return!1;return!0}function M5(o,u){return lc(o,u)}function N5(o,u,f){f=typeof f=="function"?f:n;var p=f?f(o,u):n;return p===n?lc(o,u,n,f):!!p}function _m(o){if(!be(o))return!1;var u=Mn(o);return u==ko||u==Qu||typeof o.message=="string"&&typeof o.name=="string"&&!gc(o)}function L5(o){return typeof o=="number"&&WS(o)}function io(o){if(!me(o))return!1;var u=Mn(o);return u==Io||u==la||u==ls||u==tc}function cw(o){return typeof o=="number"&&o==wt(o)}function Wf(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=ot}function me(o){var u=typeof o;return o!=null&&(u=="object"||u=="function")}function be(o){return o!=null&&typeof o=="object"}var lw=xS?or(xS):DL;function F5(o,u){return o===u||Vg(o,u,cm(u))}function B5(o,u,f){return f=typeof f=="function"?f:n,Vg(o,u,cm(u),f)}function j5(o){return fw(o)&&o!=+o}function D5(o){if(E2(o))throw new yt(s);return n1(o)}function z5(o){return o===null}function U5(o){return o==null}function fw(o){return typeof o=="number"||be(o)&&Mn(o)==Xi}function gc(o){if(!be(o)||Mn(o)!=mn)return!1;var u=mf(o);if(u===null)return!0;var f=Gt.call(u,"constructor")&&u.constructor;return typeof f=="function"&&f instanceof f&&df.call(f)==BN}var bm=CS?or(CS):zL;function W5(o){return cw(o)&&o>=-9007199254740991&&o<=ot}var dw=TS?or(TS):UL;function Kf(o){return typeof o=="string"||!_t(o)&&be(o)&&Mn(o)==Q}function ar(o){return typeof o=="symbol"||be(o)&&Mn(o)==dt}var Ea=OS?or(OS):WL;function K5(o){return o===n}function q5(o){return be(o)&&bn(o)==vn}function V5(o){return be(o)&&Mn(o)==Po}var H5=Mf(Gg),G5=Mf(function(o,u){return o<=u});function hw(o){if(!o)return[];if(Hn(o))return Kf(o)?ei(o):Vn(o);if(nc&&o[nc])return TN(o[nc]());var u=bn(o),f=u==tn?Ng:u==$n?cf:xa;return f(o)}function oo(o){if(!o)return o===0?o:0;if(o=Fr(o),o===rt||o===-1/0){var u=o<0?-1:1;return u*Mt}return o===o?o:0}function wt(o){var u=oo(o),f=u%1;return u===u?f?u-f:u:0}function pw(o){return o?gs(wt(o),0,ie):0}function Fr(o){if(typeof o=="number")return o;if(ar(o))return Ze;if(me(o)){var u=typeof o.valueOf=="function"?o.valueOf():o;o=me(u)?u+"":u}if(typeof o!="string")return o===0?o:+o;o=$S(o);var f=kM.test(o);return f||PM.test(o)?cN(o.slice(2),f?2:8):AM.test(o)?Ze:+o}function gw(o){return xi(o,Gn(o))}function J5(o){return o?gs(wt(o),-9007199254740991,ot):o===0?o:0}function Ht(o){return o==null?"":sr(o)}var Y5=ba(function(o,u){if(hc(u)||Hn(u)){xi(u,Ve(u),o);return}for(var f in u)Gt.call(u,f)&&ac(o,f,u[f])}),mw=ba(function(o,u){xi(u,Gn(u),o)}),qf=ba(function(o,u,f,p){xi(u,Gn(u),o,p)}),X5=ba(function(o,u,f,p){xi(u,Ve(u),o,p)}),Q5=no(zg);function Z5(o,u){var f=_a(o);return u==null?f:GS(f,u)}var tB=At(function(o,u){o=Qt(o);var f=-1,p=u.length,v=p>2?u[2]:n;for(v&&Nn(u[0],u[1],v)&&(p=1);++f<p;)for(var E=u[f],O=Gn(E),A=-1,R=O.length;++A<R;){var q=O[A],V=o[q];(V===n||ri(V,ma[q])&&!Gt.call(o,q))&&(o[q]=E[q])}return o}),eB=At(function(o){return o.push(n,$1),ir(yw,n,o)});function nB(o,u){return kS(o,ut(u,3),Ei)}function rB(o,u){return kS(o,ut(u,3),Wg)}function iB(o,u){return o==null?o:Ug(o,ut(u,3),Gn)}function oB(o,u){return o==null?o:ZS(o,ut(u,3),Gn)}function sB(o,u){return o&&Ei(o,ut(u,3))}function aB(o,u){return o&&Wg(o,ut(u,3))}function uB(o){return o==null?[]:Tf(o,Ve(o))}function cB(o){return o==null?[]:Tf(o,Gn(o))}function Sm(o,u,f){var p=o==null?n:ms(o,u);return p===n?f:p}function lB(o,u){return o!=null&&L1(o,u,$L)}function wm(o,u){return o!=null&&L1(o,u,ML)}var fB=A1(function(o,u,f){u!=null&&typeof u.toString!="function"&&(u=hf.call(u)),o[u]=f},xm(Jn)),dB=A1(function(o,u,f){u!=null&&typeof u.toString!="function"&&(u=hf.call(u)),Gt.call(o,u)?o[u].push(f):o[u]=[f]},ut),hB=At(cc);function Ve(o){return Hn(o)?VS(o):Hg(o)}function Gn(o){return Hn(o)?VS(o,!0):KL(o)}function pB(o,u){var f={};return u=ut(u,3),Ei(o,function(p,v,E){to(f,u(p,v,E),p)}),f}function gB(o,u){var f={};return u=ut(u,3),Ei(o,function(p,v,E){to(f,v,u(p,v,E))}),f}var mB=ba(function(o,u,f){Of(o,u,f)}),yw=ba(function(o,u,f,p){Of(o,u,f,p)}),yB=no(function(o,u){var f={};if(o==null)return f;var p=!1;u=de(u,function(E){return E=jo(E,o),p||(p=E.length>1),E}),xi(o,am(o),f),p&&(f=Mr(f,g|m|y,f2));for(var v=u.length;v--;)Zg(f,u[v]);return f});function vB(o,u){return vw(o,Uf(ut(u)))}var _B=no(function(o,u){return o==null?{}:VL(o,u)});function vw(o,u){if(o==null)return{};var f=de(am(o),function(p){return[p]});return u=ut(u),c1(o,f,function(p,v){return u(p,v[0])})}function bB(o,u,f){u=jo(u,o);var p=-1,v=u.length;for(v||(v=1,o=n);++p<v;){var E=o==null?n:o[Ci(u[p])];E===n&&(p=v,E=f),o=io(E)?E.call(o):E}return o}function SB(o,u,f){return o==null?o:fc(o,u,f)}function wB(o,u,f,p){return p=typeof p=="function"?p:n,o==null?o:fc(o,u,f,p)}var _w=P1(Ve),bw=P1(Gn);function EB(o,u,f){var p=_t(o),v=p||zo(o)||Ea(o);if(u=ut(u,4),f==null){var E=o&&o.constructor;v?f=p?new E:[]:me(o)?f=io(E)?_a(mf(o)):{}:f={}}return(v?Pr:Ei)(o,function(O,A,R){return u(f,O,A,R)}),f}function xB(o,u){return o==null?!0:Zg(o,u)}function CB(o,u,f){return o==null?o:p1(o,u,nm(f))}function TB(o,u,f,p){return p=typeof p=="function"?p:n,o==null?o:p1(o,u,nm(f),p)}function xa(o){return o==null?[]:Mg(o,Ve(o))}function OB(o){return o==null?[]:Mg(o,Gn(o))}function AB(o,u,f){return f===n&&(f=u,u=n),f!==n&&(f=Fr(f),f=f===f?f:0),u!==n&&(u=Fr(u),u=u===u?u:0),gs(Fr(o),u,f)}function kB(o,u,f){return u=oo(u),f===n?(f=u,u=0):f=oo(f),o=Fr(o),NL(o,u,f)}function IB(o,u,f){if(f&&typeof f!="boolean"&&Nn(o,u,f)&&(u=f=n),f===n&&(typeof u=="boolean"?(f=u,u=n):typeof o=="boolean"&&(f=o,o=n)),o===n&&u===n?(o=0,u=1):(o=oo(o),u===n?(u=o,o=0):u=oo(u)),o>u){var p=o;o=u,u=p}if(f||o%1||u%1){var v=KS();return _n(o+v*(u-o+uN("1e-"+((v+"").length-1))),u)}return Yg(o,u)}var PB=Sa(function(o,u,f){return u=u.toLowerCase(),o+(f?Sw(u):u)});function Sw(o){return Em(Ht(o).toLowerCase())}function ww(o){return o=Ht(o),o&&o.replace($M,SN).replace(QM,"")}function RB(o,u,f){o=Ht(o),u=sr(u);var p=o.length;f=f===n?p:gs(wt(f),0,p);var v=f;return f-=u.length,f>=0&&o.slice(f,v)==u}function $B(o){return o=Ht(o),o&&hM.test(o)?o.replace(Zb,wN):o}function MB(o){return o=Ht(o),o&&_M.test(o)?o.replace(vg,"\\$&"):o}var NB=Sa(function(o,u,f){return o+(f?"-":"")+u.toLowerCase()}),LB=Sa(function(o,u,f){return o+(f?" ":"")+u.toLowerCase()}),FB=C1("toLowerCase");function BB(o,u,f){o=Ht(o),u=wt(u);var p=u?pa(o):0;if(!u||p>=u)return o;var v=(u-p)/2;return $f(bf(v),f)+o+$f(_f(v),f)}function jB(o,u,f){o=Ht(o),u=wt(u);var p=u?pa(o):0;return u&&p<u?o+$f(u-p,f):o}function DB(o,u,f){o=Ht(o),u=wt(u);var p=u?pa(o):0;return u&&p<u?$f(u-p,f)+o:o}function zB(o,u,f){return f||u==null?u=0:u&&(u=+u),GN(Ht(o).replace(_g,""),u||0)}function UB(o,u,f){return(f?Nn(o,u,f):u===n)?u=1:u=wt(u),Xg(Ht(o),u)}function WB(){var o=arguments,u=Ht(o[0]);return o.length<3?u:u.replace(o[1],o[2])}var KB=Sa(function(o,u,f){return o+(f?"_":"")+u.toLowerCase()});function qB(o,u,f){return f&&typeof f!="number"&&Nn(o,u,f)&&(u=f=n),f=f===n?ie:f>>>0,f?(o=Ht(o),o&&(typeof u=="string"||u!=null&&!bm(u))&&(u=sr(u),!u&&ha(o))?Do(ei(o),0,f):o.split(u,f)):[]}var VB=Sa(function(o,u,f){return o+(f?" ":"")+Em(u)});function HB(o,u,f){return o=Ht(o),f=f==null?0:gs(wt(f),0,o.length),u=sr(u),o.slice(f,f+u.length)==u}function GB(o,u,f){var p=S.templateSettings;f&&Nn(o,u,f)&&(u=n),o=Ht(o),u=qf({},u,p,R1);var v=qf({},u.imports,p.imports,R1),E=Ve(v),O=Mg(v,E),A,R,q=0,V=u.interpolate||rf,Y="__p += '",Z=Lg((u.escape||rf).source+"|"+V.source+"|"+(V===tS?OM:rf).source+"|"+(u.evaluate||rf).source+"|$","g"),it="//# sourceURL="+(Gt.call(u,"sourceURL")?(u.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++rN+"]")+`
`;o.replace(Z,function(lt,It,Nt,ur,Ln,cr){return Nt||(Nt=ur),Y+=o.slice(q,cr).replace(MM,EN),It&&(A=!0,Y+=`' +
__e(`+It+`) +
'`),Ln&&(R=!0,Y+=`';
`+Ln+`;
__p += '`),Nt&&(Y+=`' +
((__t = (`+Nt+`)) == null ? '' : __t) +
'`),q=cr+lt.length,lt}),Y+=`';
`;var ct=Gt.call(u,"variable")&&u.variable;if(!ct)Y=`with (obj) {
`+Y+`
}
`;else if(CM.test(ct))throw new yt(c);Y=(R?Y.replace(cM,""):Y).replace(lM,"$1").replace(fM,"$1;"),Y="function("+(ct||"obj")+`) {
`+(ct?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(A?", __e = _.escape":"")+(R?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Y+`return __p
}`;var xt=xw(function(){return Ut(E,it+"return "+Y).apply(n,O)});if(xt.source=Y,_m(xt))throw xt;return xt}function JB(o){return Ht(o).toLowerCase()}function YB(o){return Ht(o).toUpperCase()}function XB(o,u,f){if(o=Ht(o),o&&(f||u===n))return $S(o);if(!o||!(u=sr(u)))return o;var p=ei(o),v=ei(u),E=MS(p,v),O=NS(p,v)+1;return Do(p,E,O).join("")}function QB(o,u,f){if(o=Ht(o),o&&(f||u===n))return o.slice(0,FS(o)+1);if(!o||!(u=sr(u)))return o;var p=ei(o),v=NS(p,ei(u))+1;return Do(p,0,v).join("")}function ZB(o,u,f){if(o=Ht(o),o&&(f||u===n))return o.replace(_g,"");if(!o||!(u=sr(u)))return o;var p=ei(o),v=MS(p,ei(u));return Do(p,v).join("")}function tj(o,u){var f=b,p=N;if(me(u)){var v="separator"in u?u.separator:v;f="length"in u?wt(u.length):f,p="omission"in u?sr(u.omission):p}o=Ht(o);var E=o.length;if(ha(o)){var O=ei(o);E=O.length}if(f>=E)return o;var A=f-pa(p);if(A<1)return p;var R=O?Do(O,0,A).join(""):o.slice(0,A);if(v===n)return R+p;if(O&&(A+=R.length-A),bm(v)){if(o.slice(A).search(v)){var q,V=R;for(v.global||(v=Lg(v.source,Ht(eS.exec(v))+"g")),v.lastIndex=0;q=v.exec(V);)var Y=q.index;R=R.slice(0,Y===n?A:Y)}}else if(o.indexOf(sr(v),A)!=A){var Z=R.lastIndexOf(v);Z>-1&&(R=R.slice(0,Z))}return R+p}function ej(o){return o=Ht(o),o&&dM.test(o)?o.replace(Qb,IN):o}var nj=Sa(function(o,u,f){return o+(f?" ":"")+u.toUpperCase()}),Em=C1("toUpperCase");function Ew(o,u,f){return o=Ht(o),u=f?n:u,u===n?CN(o)?$N(o):mN(o):o.match(u)||[]}var xw=At(function(o,u){try{return ir(o,n,u)}catch(f){return _m(f)?f:new yt(f)}}),rj=no(function(o,u){return Pr(u,function(f){f=Ci(f),to(o,f,ym(o[f],o))}),o});function ij(o){var u=o==null?0:o.length,f=ut();return o=u?de(o,function(p){if(typeof p[1]!="function")throw new Rr(a);return[f(p[0]),p[1]]}):[],At(function(p){for(var v=-1;++v<u;){var E=o[v];if(ir(E[0],this,p))return ir(E[1],this,p)}})}function oj(o){return IL(Mr(o,g))}function xm(o){return function(){return o}}function sj(o,u){return o==null||o!==o?u:o}var aj=O1(),uj=O1(!0);function Jn(o){return o}function Cm(o){return r1(typeof o=="function"?o:Mr(o,g))}function cj(o){return o1(Mr(o,g))}function lj(o,u){return s1(o,Mr(u,g))}var fj=At(function(o,u){return function(f){return cc(f,o,u)}}),dj=At(function(o,u){return function(f){return cc(o,f,u)}});function Tm(o,u,f){var p=Ve(u),v=Tf(u,p);f==null&&!(me(u)&&(v.length||!p.length))&&(f=u,u=o,o=this,v=Tf(u,Ve(u)));var E=!(me(f)&&"chain"in f)||!!f.chain,O=io(o);return Pr(v,function(A){var R=u[A];o[A]=R,O&&(o.prototype[A]=function(){var q=this.__chain__;if(E||q){var V=o(this.__wrapped__),Y=V.__actions__=Vn(this.__actions__);return Y.push({func:R,args:arguments,thisArg:o}),V.__chain__=q,V}return R.apply(o,Mo([this.value()],arguments))})}),o}function hj(){return en._===this&&(en._=jN),this}function Om(){}function pj(o){return o=wt(o),At(function(u){return a1(u,o)})}var gj=im(de),mj=im(AS),yj=im(kg);function Cw(o){return fm(o)?Ig(Ci(o)):HL(o)}function vj(o){return function(u){return o==null?n:ms(o,u)}}var _j=k1(),bj=k1(!0);function Am(){return[]}function km(){return!1}function Sj(){return{}}function wj(){return""}function Ej(){return!0}function xj(o,u){if(o=wt(o),o<1||o>ot)return[];var f=ie,p=_n(o,ie);u=ut(u),o-=ie;for(var v=$g(p,u);++f<o;)u(f);return v}function Cj(o){return _t(o)?de(o,Ci):ar(o)?[o]:Vn(q1(Ht(o)))}function Tj(o){var u=++FN;return Ht(o)+u}var Oj=Rf(function(o,u){return o+u},0),Aj=om("ceil"),kj=Rf(function(o,u){return o/u},1),Ij=om("floor");function Pj(o){return o&&o.length?Cf(o,Jn,Kg):n}function Rj(o,u){return o&&o.length?Cf(o,ut(u,2),Kg):n}function $j(o){return PS(o,Jn)}function Mj(o,u){return PS(o,ut(u,2))}function Nj(o){return o&&o.length?Cf(o,Jn,Gg):n}function Lj(o,u){return o&&o.length?Cf(o,ut(u,2),Gg):n}var Fj=Rf(function(o,u){return o*u},1),Bj=om("round"),jj=Rf(function(o,u){return o-u},0);function Dj(o){return o&&o.length?Rg(o,Jn):0}function zj(o,u){return o&&o.length?Rg(o,ut(u,2)):0}return S.after=c5,S.ary=nw,S.assign=Y5,S.assignIn=mw,S.assignInWith=qf,S.assignWith=X5,S.at=Q5,S.before=rw,S.bind=ym,S.bindAll=rj,S.bindKey=iw,S.castArray=S5,S.chain=Z1,S.chunk=I2,S.compact=P2,S.concat=R2,S.cond=ij,S.conforms=oj,S.constant=xm,S.countBy=DF,S.create=Z5,S.curry=ow,S.curryRight=sw,S.debounce=aw,S.defaults=tB,S.defaultsDeep=eB,S.defer=l5,S.delay=f5,S.difference=$2,S.differenceBy=M2,S.differenceWith=N2,S.drop=L2,S.dropRight=F2,S.dropRightWhile=B2,S.dropWhile=j2,S.fill=D2,S.filter=UF,S.flatMap=qF,S.flatMapDeep=VF,S.flatMapDepth=HF,S.flatten=J1,S.flattenDeep=z2,S.flattenDepth=U2,S.flip=d5,S.flow=aj,S.flowRight=uj,S.fromPairs=W2,S.functions=uB,S.functionsIn=cB,S.groupBy=GF,S.initial=q2,S.intersection=V2,S.intersectionBy=H2,S.intersectionWith=G2,S.invert=fB,S.invertBy=dB,S.invokeMap=YF,S.iteratee=Cm,S.keyBy=XF,S.keys=Ve,S.keysIn=Gn,S.map=jf,S.mapKeys=pB,S.mapValues=gB,S.matches=cj,S.matchesProperty=lj,S.memoize=zf,S.merge=mB,S.mergeWith=yw,S.method=fj,S.methodOf=dj,S.mixin=Tm,S.negate=Uf,S.nthArg=pj,S.omit=yB,S.omitBy=vB,S.once=h5,S.orderBy=QF,S.over=gj,S.overArgs=p5,S.overEvery=mj,S.overSome=yj,S.partial=vm,S.partialRight=uw,S.partition=ZF,S.pick=_B,S.pickBy=vw,S.property=Cw,S.propertyOf=vj,S.pull=Q2,S.pullAll=X1,S.pullAllBy=Z2,S.pullAllWith=tF,S.pullAt=eF,S.range=_j,S.rangeRight=bj,S.rearg=g5,S.reject=n5,S.remove=nF,S.rest=m5,S.reverse=gm,S.sampleSize=i5,S.set=SB,S.setWith=wB,S.shuffle=o5,S.slice=rF,S.sortBy=u5,S.sortedUniq=lF,S.sortedUniqBy=fF,S.split=qB,S.spread=y5,S.tail=dF,S.take=hF,S.takeRight=pF,S.takeRightWhile=gF,S.takeWhile=mF,S.tap=PF,S.throttle=v5,S.thru=Bf,S.toArray=hw,S.toPairs=_w,S.toPairsIn=bw,S.toPath=Cj,S.toPlainObject=gw,S.transform=EB,S.unary=_5,S.union=yF,S.unionBy=vF,S.unionWith=_F,S.uniq=bF,S.uniqBy=SF,S.uniqWith=wF,S.unset=xB,S.unzip=mm,S.unzipWith=Q1,S.update=CB,S.updateWith=TB,S.values=xa,S.valuesIn=OB,S.without=EF,S.words=Ew,S.wrap=b5,S.xor=xF,S.xorBy=CF,S.xorWith=TF,S.zip=OF,S.zipObject=AF,S.zipObjectDeep=kF,S.zipWith=IF,S.entries=_w,S.entriesIn=bw,S.extend=mw,S.extendWith=qf,Tm(S,S),S.add=Oj,S.attempt=xw,S.camelCase=PB,S.capitalize=Sw,S.ceil=Aj,S.clamp=AB,S.clone=w5,S.cloneDeep=x5,S.cloneDeepWith=C5,S.cloneWith=E5,S.conformsTo=T5,S.deburr=ww,S.defaultTo=sj,S.divide=kj,S.endsWith=RB,S.eq=ri,S.escape=$B,S.escapeRegExp=MB,S.every=zF,S.find=WF,S.findIndex=H1,S.findKey=nB,S.findLast=KF,S.findLastIndex=G1,S.findLastKey=rB,S.floor=Ij,S.forEach=tw,S.forEachRight=ew,S.forIn=iB,S.forInRight=oB,S.forOwn=sB,S.forOwnRight=aB,S.get=Sm,S.gt=O5,S.gte=A5,S.has=lB,S.hasIn=wm,S.head=Y1,S.identity=Jn,S.includes=JF,S.indexOf=K2,S.inRange=kB,S.invoke=hB,S.isArguments=_s,S.isArray=_t,S.isArrayBuffer=k5,S.isArrayLike=Hn,S.isArrayLikeObject=Ce,S.isBoolean=I5,S.isBuffer=zo,S.isDate=P5,S.isElement=R5,S.isEmpty=$5,S.isEqual=M5,S.isEqualWith=N5,S.isError=_m,S.isFinite=L5,S.isFunction=io,S.isInteger=cw,S.isLength=Wf,S.isMap=lw,S.isMatch=F5,S.isMatchWith=B5,S.isNaN=j5,S.isNative=D5,S.isNil=U5,S.isNull=z5,S.isNumber=fw,S.isObject=me,S.isObjectLike=be,S.isPlainObject=gc,S.isRegExp=bm,S.isSafeInteger=W5,S.isSet=dw,S.isString=Kf,S.isSymbol=ar,S.isTypedArray=Ea,S.isUndefined=K5,S.isWeakMap=q5,S.isWeakSet=V5,S.join=J2,S.kebabCase=NB,S.last=Lr,S.lastIndexOf=Y2,S.lowerCase=LB,S.lowerFirst=FB,S.lt=H5,S.lte=G5,S.max=Pj,S.maxBy=Rj,S.mean=$j,S.meanBy=Mj,S.min=Nj,S.minBy=Lj,S.stubArray=Am,S.stubFalse=km,S.stubObject=Sj,S.stubString=wj,S.stubTrue=Ej,S.multiply=Fj,S.nth=X2,S.noConflict=hj,S.noop=Om,S.now=Df,S.pad=BB,S.padEnd=jB,S.padStart=DB,S.parseInt=zB,S.random=IB,S.reduce=t5,S.reduceRight=e5,S.repeat=UB,S.replace=WB,S.result=bB,S.round=Bj,S.runInContext=I,S.sample=r5,S.size=s5,S.snakeCase=KB,S.some=a5,S.sortedIndex=iF,S.sortedIndexBy=oF,S.sortedIndexOf=sF,S.sortedLastIndex=aF,S.sortedLastIndexBy=uF,S.sortedLastIndexOf=cF,S.startCase=VB,S.startsWith=HB,S.subtract=jj,S.sum=Dj,S.sumBy=zj,S.template=GB,S.times=xj,S.toFinite=oo,S.toInteger=wt,S.toLength=pw,S.toLower=JB,S.toNumber=Fr,S.toSafeInteger=J5,S.toString=Ht,S.toUpper=YB,S.trim=XB,S.trimEnd=QB,S.trimStart=ZB,S.truncate=tj,S.unescape=ej,S.uniqueId=Tj,S.upperCase=nj,S.upperFirst=Em,S.each=tw,S.eachRight=ew,S.first=Y1,Tm(S,function(){var o={};return Ei(S,function(u,f){Gt.call(S.prototype,f)||(o[f]=u)}),o}(),{chain:!1}),S.VERSION=r,Pr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(o){S[o].placeholder=S}),Pr(["drop","take"],function(o,u){Rt.prototype[o]=function(f){f=f===n?1:De(wt(f),0);var p=this.__filtered__&&!u?new Rt(this):this.clone();return p.__filtered__?p.__takeCount__=_n(f,p.__takeCount__):p.__views__.push({size:_n(f,ie),type:o+(p.__dir__<0?"Right":"")}),p},Rt.prototype[o+"Right"]=function(f){return this.reverse()[o](f).reverse()}}),Pr(["filter","map","takeWhile"],function(o,u){var f=u+1,p=f==nt||f==ht;Rt.prototype[o]=function(v){var E=this.clone();return E.__iteratees__.push({iteratee:ut(v,3),type:f}),E.__filtered__=E.__filtered__||p,E}}),Pr(["head","last"],function(o,u){var f="take"+(u?"Right":"");Rt.prototype[o]=function(){return this[f](1).value()[0]}}),Pr(["initial","tail"],function(o,u){var f="drop"+(u?"":"Right");Rt.prototype[o]=function(){return this.__filtered__?new Rt(this):this[f](1)}}),Rt.prototype.compact=function(){return this.filter(Jn)},Rt.prototype.find=function(o){return this.filter(o).head()},Rt.prototype.findLast=function(o){return this.reverse().find(o)},Rt.prototype.invokeMap=At(function(o,u){return typeof o=="function"?new Rt(this):this.map(function(f){return cc(f,o,u)})}),Rt.prototype.reject=function(o){return this.filter(Uf(ut(o)))},Rt.prototype.slice=function(o,u){o=wt(o);var f=this;return f.__filtered__&&(o>0||u<0)?new Rt(f):(o<0?f=f.takeRight(-o):o&&(f=f.drop(o)),u!==n&&(u=wt(u),f=u<0?f.dropRight(-u):f.take(u-o)),f)},Rt.prototype.takeRightWhile=function(o){return this.reverse().takeWhile(o).reverse()},Rt.prototype.toArray=function(){return this.take(ie)},Ei(Rt.prototype,function(o,u){var f=/^(?:filter|find|map|reject)|While$/.test(u),p=/^(?:head|last)$/.test(u),v=S[p?"take"+(u=="last"?"Right":""):u],E=p||/^find/.test(u);v&&(S.prototype[u]=function(){var O=this.__wrapped__,A=p?[1]:arguments,R=O instanceof Rt,q=A[0],V=R||_t(O),Y=function(It){var Nt=v.apply(S,Mo([It],A));return p&&Z?Nt[0]:Nt};V&&f&&typeof q=="function"&&q.length!=1&&(R=V=!1);var Z=this.__chain__,it=!!this.__actions__.length,ct=E&&!Z,xt=R&&!it;if(!E&&V){O=xt?O:new Rt(this);var lt=o.apply(O,A);return lt.__actions__.push({func:Bf,args:[Y],thisArg:n}),new $r(lt,Z)}return ct&&xt?o.apply(this,A):(lt=this.thru(Y),ct?p?lt.value()[0]:lt.value():lt)})}),Pr(["pop","push","shift","sort","splice","unshift"],function(o){var u=lf[o],f=/^(?:push|sort|unshift)$/.test(o)?"tap":"thru",p=/^(?:pop|shift)$/.test(o);S.prototype[o]=function(){var v=arguments;if(p&&!this.__chain__){var E=this.value();return u.apply(_t(E)?E:[],v)}return this[f](function(O){return u.apply(_t(O)?O:[],v)})}}),Ei(Rt.prototype,function(o,u){var f=S[u];if(f){var p=f.name+"";Gt.call(va,p)||(va[p]=[]),va[p].push({name:u,func:f})}}),va[Pf(n,T).name]=[{name:"wrapper",func:n}],Rt.prototype.clone=eL,Rt.prototype.reverse=nL,Rt.prototype.value=rL,S.prototype.at=RF,S.prototype.chain=$F,S.prototype.commit=MF,S.prototype.next=NF,S.prototype.plant=FF,S.prototype.reverse=BF,S.prototype.toJSON=S.prototype.valueOf=S.prototype.value=jF,S.prototype.first=S.prototype.head,nc&&(S.prototype[nc]=LF),S},ga=MN();fs?((fs.exports=ga)._=ga,Cg._=ga):en._=ga}).call(mc)})(jd,jd.exports);var Zj=jd.exports,st=BT(Zj);const t3=1,Cy=2,e3={INIT_ACK:{statusByte:2,parse:t=>({type:"init-ack",projectName:t[0]})},INIT:{statusByte:3,parse:t=>({type:"init-project",tracksCount:t[0]})},DONE:{statusByte:4,parse:t=>({type:"init-done"})},TRACK:{statusByte:5,parse:t=>({type:"init-track",name:t[0],trackIndex:st.toNumber(t[1]),color:st.toNumber(t[2])})},CLIP:{statusByte:6,parse:t=>({type:"init-clip",name:t[0],trackIndex:st.toNumber(t[1]),clipIndex:st.toNumber(t[2]),color:st.toNumber(t[3]),startTime:st.toNumber(t[4]),endTime:st.toNumber(t[5])})},BEAT:{statusByte:7,parse:t=>({type:"beat",value:st.toNumber(t[0])})},BAR_BEAT:{statusByte:8,parse:t=>({type:"bar-beat",value:st.toNumber(t[0])})},SIG:{statusByte:9,parse:t=>({type:"sig",numer:st.toNumber(t[0]),denom:st.toNumber(t[1])})},TEMPO:{statusByte:10,parse:t=>({type:"tempo",value:st.toNumber(t[0])})},IS_PLAYING:{statusByte:11,parse:t=>({type:"is-playing",value:st.toNumber(t[0])===1})},CUE:{statusByte:12,parse:t=>({type:"init-cue",id:st.toNumber(t[0]),name:t[1],time:st.toNumber(t[2]),index:st.toNumber(t[3])})},METRONOME_STATE:{statusByte:13,parse:t=>({type:"metronome-state",value:st.toNumber(t[0])===1})},LOOP_STATE:{statusByte:14,parse:t=>({type:"loop-state",value:st.toNumber(t[0])===1})},HALF_BEAT:{statusByte:15,parse:t=>({type:"half-beat",isHalf:st.toNumber(t[0])===1})}},n3=st.fromPairs(st.map(e3,t=>[t.statusByte,t])),r3=t=>{const e=st.join(st.map(t,r=>String.fromCharCode(r)),""),n=st.split(e,String.fromCharCode(t3));return[st.toNumber(n[0]),n.splice(1)]},i3=t=>{try{if(t.manufacturer===Cy){const[e,n]=r3(t.body),r=n3[e];if(r!==void 0)return r.parse(n);console.warn("Did not find parser for message",t)}}catch(e){console.error("Got error parsing message",e)}},Mw=t=>{const e=[];return st.forEach(t,(n,r)=>{e.push(t.charCodeAt(r))}),e},an={base:(t,e)=>({type:"sysex",manufacturer:Cy,body:[t,...Mw(e.toString())]}),baseJSON:(t,e)=>({type:"sysex",manufacturer:Cy,body:[t,...Mw(JSON.stringify(e))]}),init:()=>an.base(64,1),initReady:t=>an.baseJSON(65,{tracks:t}),play:()=>an.base(80,1),stop:()=>an.base(81,1),jumpToCue:t=>an.base(82,t),jumpBy:t=>an.base(84,t),record:()=>an.base(85,1),metronome:t=>an.base(86,t?1:0),loop:t=>an.base(87,t?1:0)};function ui(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Ga(t){return!!t&&!!t[vr]}function Fs(t){var e;return!!t&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===d3}(t)||Array.isArray(t)||!!t[Uw]||!!(!((e=t.constructor)===null||e===void 0)&&e[Uw])||n0(t)||r0(t))}function Vc(t,e,n){n===void 0&&(n=!1),Tu(t)===0?(n?Object.keys:u0)(t).forEach(function(r){n&&typeof r=="symbol"||e(r,t[r],t)}):t.forEach(function(r,i){return e(i,r,t)})}function Tu(t){var e=t[vr];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:n0(t)?2:r0(t)?3:0}function Ty(t,e){return Tu(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function o3(t,e){return Tu(t)===2?t.get(e):t[e]}function HT(t,e,n){var r=Tu(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function s3(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function n0(t){return l3&&t instanceof Map}function r0(t){return f3&&t instanceof Set}function Es(t){return t.o||t.t}function i0(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=h3(t);delete e[vr];for(var n=u0(e),r=0;r<n.length;r++){var i=n[r],s=e[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(e[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),e)}function o0(t,e){return e===void 0&&(e=!1),s0(t)||Ga(t)||!Fs(t)||(Tu(t)>1&&(t.set=t.add=t.clear=t.delete=a3),Object.freeze(t),e&&Vc(t,function(n,r){return o0(r,!0)},!0)),t}function a3(){ui(2)}function s0(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function Di(t){var e=p3[t];return e||ui(18,t),e}function Nw(){return Hc}function Im(t,e){e&&(Di("Patches"),t.u=[],t.s=[],t.v=e)}function Dd(t){Oy(t),t.p.forEach(u3),t.p=null}function Oy(t){t===Hc&&(Hc=t.l)}function Lw(t){return Hc={p:[],l:Hc,h:t,m:!0,_:0}}function u3(t){var e=t[vr];e.i===0||e.i===1?e.j():e.g=!0}function Pm(t,e){e._=e.p.length;var n=e.p[0],r=t!==void 0&&t!==n;return e.h.O||Di("ES5").S(e,t,r),r?(n[vr].P&&(Dd(e),ui(4)),Fs(t)&&(t=zd(e,t),e.l||Ud(e,t)),e.u&&Di("Patches").M(n[vr].t,t,e.u,e.s)):t=zd(e,n,[]),Dd(e),e.u&&e.v(e.u,e.s),t!==GT?t:void 0}function zd(t,e,n){if(s0(e))return e;var r=e[vr];if(!r)return Vc(e,function(c,l){return Fw(t,r,e,c,l,n)},!0),e;if(r.A!==t)return e;if(!r.P)return Ud(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=i0(r.k):r.o,s=i,a=!1;r.i===3&&(s=new Set(i),i.clear(),a=!0),Vc(s,function(c,l){return Fw(t,r,i,c,l,n,a)}),Ud(t,i,!1),n&&t.u&&Di("Patches").N(r,n,t.u,t.s)}return r.o}function Fw(t,e,n,r,i,s,a){if(Ga(i)){var c=zd(t,i,s&&e&&e.i!==3&&!Ty(e.R,r)?s.concat(r):void 0);if(HT(n,r,c),!Ga(c))return;t.m=!1}else a&&n.add(i);if(Fs(i)&&!s0(i)){if(!t.h.D&&t._<1)return;zd(t,i),e&&e.A.l||Ud(t,i)}}function Ud(t,e,n){n===void 0&&(n=!1),!t.l&&t.h.D&&t.m&&o0(e,n)}function Rm(t,e){var n=t[vr];return(n?Es(n):t)[e]}function Bw(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function Ay(t){t.P||(t.P=!0,t.l&&Ay(t.l))}function $m(t){t.o||(t.o=i0(t.t))}function ky(t,e,n){var r=n0(e)?Di("MapSet").F(e,n):r0(e)?Di("MapSet").T(e,n):t.O?function(i,s){var a=Array.isArray(i),c={i:a?1:0,A:s?s.A:Nw(),P:!1,I:!1,R:{},l:s,t:i,k:null,o:null,j:null,C:!1},l=c,d=Iy;a&&(l=[c],d=Ac);var h=Proxy.revocable(l,d),g=h.revoke,m=h.proxy;return c.k=m,c.j=g,m}(e,n):Di("ES5").J(e,n);return(n?n.A:Nw()).p.push(r),r}function c3(t){return Ga(t)||ui(22,t),function e(n){if(!Fs(n))return n;var r,i=n[vr],s=Tu(n);if(i){if(!i.P&&(i.i<4||!Di("ES5").K(i)))return i.t;i.I=!0,r=jw(n,s),i.I=!1}else r=jw(n,s);return Vc(r,function(a,c){i&&o3(i.t,a)===c||HT(r,a,e(c))}),s===3?new Set(r):r}(t)}function jw(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return i0(t)}var Dw,Hc,a0=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",l3=typeof Map<"u",f3=typeof Set<"u",zw=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",GT=a0?Symbol.for("immer-nothing"):((Dw={})["immer-nothing"]=!0,Dw),Uw=a0?Symbol.for("immer-draftable"):"__$immer_draftable",vr=a0?Symbol.for("immer-state"):"__$immer_state",d3=""+Object.prototype.constructor,u0=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,h3=Object.getOwnPropertyDescriptors||function(t){var e={};return u0(t).forEach(function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)}),e},p3={},Iy={get:function(t,e){if(e===vr)return t;var n=Es(t);if(!Ty(n,e))return function(i,s,a){var c,l=Bw(s,a);return l?"value"in l?l.value:(c=l.get)===null||c===void 0?void 0:c.call(i.k):void 0}(t,n,e);var r=n[e];return t.I||!Fs(r)?r:r===Rm(t.t,e)?($m(t),t.o[e]=ky(t.A.h,r,t)):r},has:function(t,e){return e in Es(t)},ownKeys:function(t){return Reflect.ownKeys(Es(t))},set:function(t,e,n){var r=Bw(Es(t),e);if(r!=null&&r.set)return r.set.call(t.k,n),!0;if(!t.P){var i=Rm(Es(t),e),s=i==null?void 0:i[vr];if(s&&s.t===n)return t.o[e]=n,t.R[e]=!1,!0;if(s3(n,i)&&(n!==void 0||Ty(t.t,e)))return!0;$m(t),Ay(t)}return t.o[e]===n&&(n!==void 0||e in t.o)||Number.isNaN(n)&&Number.isNaN(t.o[e])||(t.o[e]=n,t.R[e]=!0),!0},deleteProperty:function(t,e){return Rm(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,$m(t),Ay(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=Es(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty:function(){ui(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){ui(12)}},Ac={};Vc(Iy,function(t,e){Ac[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),Ac.deleteProperty=function(t,e){return Ac.set.call(this,t,e,void 0)},Ac.set=function(t,e,n){return Iy.set.call(this,t[0],e,n,t[0])};var g3=function(){function t(n){var r=this;this.O=zw,this.D=!0,this.produce=function(i,s,a){if(typeof i=="function"&&typeof s!="function"){var c=s;s=i;var l=r;return function(x){var C=this;x===void 0&&(x=c);for(var T=arguments.length,$=Array(T>1?T-1:0),M=1;M<T;M++)$[M-1]=arguments[M];return l.produce(x,function(P){var j;return(j=s).call.apply(j,[C,P].concat($))})}}var d;if(typeof s!="function"&&ui(6),a!==void 0&&typeof a!="function"&&ui(7),Fs(i)){var h=Lw(r),g=ky(r,i,void 0),m=!0;try{d=s(g),m=!1}finally{m?Dd(h):Oy(h)}return typeof Promise<"u"&&d instanceof Promise?d.then(function(x){return Im(h,a),Pm(x,h)},function(x){throw Dd(h),x}):(Im(h,a),Pm(d,h))}if(!i||typeof i!="object"){if((d=s(i))===void 0&&(d=i),d===GT&&(d=void 0),r.D&&o0(d,!0),a){var y=[],w=[];Di("Patches").M(i,d,y,w),a(y,w)}return d}ui(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(d){for(var h=arguments.length,g=Array(h>1?h-1:0),m=1;m<h;m++)g[m-1]=arguments[m];return r.produceWithPatches(d,function(y){return i.apply(void 0,[y].concat(g))})};var a,c,l=r.produce(i,s,function(d,h){a=d,c=h});return typeof Promise<"u"&&l instanceof Promise?l.then(function(d){return[d,a,c]}):[l,a,c]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var e=t.prototype;return e.createDraft=function(n){Fs(n)||ui(8),Ga(n)&&(n=c3(n));var r=Lw(this),i=ky(this,n,void 0);return i[vr].C=!0,Oy(r),i},e.finishDraft=function(n,r){var i=n&&n[vr],s=i.A;return Im(s,r),Pm(void 0,s)},e.setAutoFreeze=function(n){this.D=n},e.setUseProxies=function(n){n&&!zw&&ui(20),this.O=n},e.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var a=Di("Patches").$;return Ga(n)?a(n,r):this.produce(n,function(c){return a(c,r)})},t}(),_r=new g3,c0=_r.produce;_r.produceWithPatches.bind(_r);_r.setAutoFreeze.bind(_r);_r.setUseProxies.bind(_r);_r.applyPatches.bind(_r);_r.createDraft.bind(_r);_r.finishDraft.bind(_r);const m3=t=>typeof t=="function",L=function(t,e){if(typeof t=="function")return function(){return t(arguments)?e.apply(this,arguments):n=>e(n,...arguments)};switch(t){case 0:case 1:throw new RangeError(`Invalid arity ${t}`);case 2:return function(n,r){return arguments.length>=2?e(n,r):function(i){return e(i,n)}};case 3:return function(n,r,i){return arguments.length>=3?e(n,r,i):function(s){return e(s,n,r)}};case 4:return function(n,r,i,s){return arguments.length>=4?e(n,r,i,s):function(a){return e(a,n,r,i)}};case 5:return function(n,r,i,s,a){return arguments.length>=5?e(n,r,i,s,a):function(c){return e(c,n,r,i,s)}};default:return function(){if(arguments.length>=t)return e.apply(this,arguments);const n=arguments;return function(r){return e(r,...n)}}}},Me=t=>t,$h=t=>()=>t,Ww=$h(!0),Py=$h(!1),JT=$h(void 0),y3=JT;function J(t,e,n,r,i,s,a,c,l){switch(arguments.length){case 1:return t;case 2:return e(t);case 3:return n(e(t));case 4:return r(n(e(t)));case 5:return i(r(n(e(t))));case 6:return s(i(r(n(e(t)))));case 7:return a(s(i(r(n(e(t))))));case 8:return c(a(s(i(r(n(e(t)))))));case 9:return l(c(a(s(i(r(n(e(t))))))));default:{let d=arguments[0];for(let h=1;h<arguments.length;h++)d=arguments[h](d);return d}}}const l0=t=>(e,n)=>e===n||t(e,n),v3=L(2,(t,e)=>l0((n,r)=>t(e(n),e(r)))),_3=t=>l0((e,n)=>{if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++)if(!t(e[r],n[r]))return!1;return!0});let b3="3.13.12";const Mh=()=>b3,Vf=`effect/GlobalValue/globalStoreId/${Mh()}`;let yc;const jt=(t,e)=>(yc||(globalThis[Vf]??(globalThis[Vf]=new Map),yc=globalThis[Vf]),yc.has(t)||yc.set(t,e()),yc.get(t)),qi=t=>typeof t=="string",Bs=t=>typeof t=="number",f0=t=>typeof t=="boolean",Nh=t=>typeof t=="bigint",Ry=t=>typeof t=="symbol",Ou=m3,S3=t=>t===void 0,w3=t=>!1,d0=t=>typeof t=="object"&&t!==null,os=t=>d0(t)||Ou(t),Et=L(2,(t,e)=>os(t)&&e in t),h0=L(2,(t,e)=>Et(t,"_tag")&&t._tag===e),Ca=t=>t==null,E3=t=>t!=null,x3=t=>t instanceof Date,YT=t=>Et(t,Symbol.iterator),C3=t=>d0(t)&&!Array.isArray(t),T3=t=>Et(t,"then")&&Ou(t.then),Lh=t=>`BUG: ${t} - please report an issue at https://github.com/Effect-TS/effect/issues`;let XT=class QT{constructor(e){_(this,"self");_(this,"called",!1);this.self=e}next(e){return this.called?{value:e,done:!0}:(this.called=!0,{value:this.self,done:!1})}return(e){return{value:e,done:!0}}throw(e){throw e}[Symbol.iterator](){return new QT(this.self)}};const O3=335903614,A3=4150755663,k3=1481765933,I3=1284865837,P3=9007199254740992,R3=134217728;class $3{constructor(e,n,r,i){_(this,"_state");return Ca(n)&&Ca(e)?(n=Math.random()*4294967295>>>0,e=0):Ca(n)&&(n=e,e=0),Ca(i)&&Ca(r)?(i=this._state?this._state[3]:A3,r=this._state?this._state[2]:O3):Ca(i)&&(i=r,r=0),this._state=new Int32Array([0,0,r>>>0,((i||0)|1)>>>0]),this._next(),Kw(this._state,this._state[0],this._state[1],e>>>0,n>>>0),this._next(),this}getState(){return[this._state[0],this._state[1],this._state[2],this._state[3]]}setState(e){this._state[0]=e[0],this._state[1]=e[1],this._state[2]=e[2],this._state[3]=e[3]|1}integer(e){return Math.round(this.number()*Number.MAX_SAFE_INTEGER)%e}number(){const e=(this._next()&67108863)*1,n=(this._next()&134217727)*1;return(e*R3+n)/P3}_next(){const e=this._state[0]>>>0,n=this._state[1]>>>0;M3(this._state,e,n,k3,I3),Kw(this._state,this._state[0],this._state[1],this._state[2],this._state[3]);let r=e>>>18,i=(n>>>18|e<<14)>>>0;r=(r^e)>>>0,i=(i^n)>>>0;const s=(i>>>27|r<<5)>>>0,a=e>>>27,c=(-a>>>0&31)>>>0;return(s>>>a|s<<c)>>>0}}function M3(t,e,n,r,i){let s=(n>>>16)*(i&65535)>>>0,a=(n&65535)*(i>>>16)>>>0,c=(n&65535)*(i&65535)>>>0,l=(n>>>16)*(i>>>16)+((a>>>16)+(s>>>16))>>>0;a=a<<16>>>0,c=c+a>>>0,c>>>0<a>>>0&&(l=l+1>>>0),s=s<<16>>>0,c=c+s>>>0,c>>>0<s>>>0&&(l=l+1>>>0),l=l+Math.imul(n,r)>>>0,l=l+Math.imul(e,i)>>>0,t[0]=l,t[1]=c}function Kw(t,e,n,r,i){let s=e+r>>>0;const a=n+i>>>0;a>>>0<n>>>0&&(s=s+1|0),t[0]=s,t[1]=a}const $y=Symbol.for("effect/Utils/YieldWrap");var bl;class Sl{constructor(e){Iw(this,bl);Pw(this,bl,e)}[$y](){return kw(this,bl)}}bl=new WeakMap;function N3(t){if(typeof t=="object"&&t!==null&&$y in t)return t[$y]();throw new Error(Lh("yieldWrapGet"))}const Dr=jt("effect/Utils/isStructuralRegion",()=>({enabled:!1,tester:void 0})),L3=t=>{const e={[t](n){return n()}};return function(n){return e[t](n)}},Bn=L3("effect_internal_function"),Mm=jt(Symbol.for("effect/Hash/randomHashCache"),()=>new WeakMap),kt=Symbol.for("effect/Hash"),at=t=>{if(Dr.enabled===!0)return 0;switch(typeof t){case"number":return g0(t);case"bigint":return Pe(t.toString(10));case"boolean":return Pe(String(t));case"symbol":return Pe(String(t));case"string":return Pe(t);case"undefined":return Pe("undefined");case"function":case"object":return t===null?Pe("null"):t instanceof Date?at(t.toISOString()):F3(t)?t[kt]():p0(t);default:throw new Error(`BUG: unhandled typeof ${typeof t} - please report an issue at https://github.com/Effect-TS/effect/issues`)}},p0=t=>(Mm.has(t)||Mm.set(t,g0(Math.floor(Math.random()*Number.MAX_SAFE_INTEGER))),Mm.get(t)),Bt=t=>e=>e*53^t,Fh=t=>t&3221225471|t>>>1&1073741824,F3=t=>Et(t,kt),g0=t=>{if(t!==t||t===1/0)return 0;let e=t|0;for(e!==t&&(e^=t*4294967295);t>4294967295;)e^=t/=4294967295;return Fh(e)},Pe=t=>{let e=5381,n=t.length;for(;n;)e=e*33^t.charCodeAt(--n);return Fh(e)},B3=(t,e)=>{let n=12289;for(let r=0;r<e.length;r++)n^=J(Pe(e[r]),Bt(at(t[e[r]])));return Fh(n)},ZT=t=>B3(t,Object.keys(t)),wl=t=>{let e=6151;for(let n=0;n<t.length;n++)e=J(e,Bt(at(t[n])));return Fh(e)},xe=function(){if(arguments.length===1){const n=arguments[0];return function(r){return Object.defineProperty(n,kt,{value(){return r},enumerable:!1}),r}}const t=arguments[0],e=arguments[1];return Object.defineProperty(t,kt,{value(){return e},enumerable:!1}),e},Tt=Symbol.for("effect/Equal");function Ot(){return arguments.length===1?t=>Wd(t,arguments[0]):Wd(arguments[0],arguments[1])}function Wd(t,e){if(t===e)return!0;const n=typeof t;if(n!==typeof e)return!1;if(n==="object"||n==="function"){if(t!==null&&e!==null){if(Kd(t)&&Kd(e))return at(t)===at(e)&&t[Tt](e)?!0:Dr.enabled&&Dr.tester?Dr.tester(t,e):!1;if(t instanceof Date&&e instanceof Date)return t.toISOString()===e.toISOString()}if(Dr.enabled){if(Array.isArray(t)&&Array.isArray(e))return t.length===e.length&&t.every((r,i)=>Wd(r,e[i]));if(Object.getPrototypeOf(t)===Object.prototype&&Object.getPrototypeOf(t)===Object.prototype){const r=Object.keys(t),i=Object.keys(e);if(r.length===i.length){for(const s of r)if(!(s in e&&Wd(t[s],e[s])))return Dr.tester?Dr.tester(t,e):!1;return!0}}return Dr.tester?Dr.tester(t,e):!1}}return Dr.enabled&&Dr.tester?Dr.tester(t,e):!1}const Kd=t=>Et(t,Tt),m0=()=>Ot,ve=Symbol.for("nodejs.util.inspect.custom"),Ke=t=>{try{if(Et(t,"toJSON")&&Ou(t.toJSON)&&t.toJSON.length===0)return t.toJSON();if(Array.isArray(t))return t.map(Ke)}catch{return{}}return D3(t)},Je=t=>JSON.stringify(t,null,2),Ja=(t,e=2)=>{if(typeof t=="string")return t;try{return typeof t=="object"?tO(t,e):String(t)}catch{return String(t)}},tO=(t,e)=>{let n=[];const r=JSON.stringify(t,(i,s)=>typeof s=="object"&&s!==null?n.includes(s)?void 0:n.push(s)&&(Ps.fiberRefs!==void 0&&eO(s)?s[y0](Ps.fiberRefs):s):s,e);return n=void 0,r},y0=Symbol.for("effect/Inspectable/Redactable"),eO=t=>typeof t=="object"&&t!==null&&y0 in t,Ps=jt("effect/Inspectable/redactableState",()=>({fiberRefs:void 0})),j3=(t,e)=>{const n=Ps.fiberRefs;Ps.fiberRefs=t;try{return e()}finally{Ps.fiberRefs=n}},D3=t=>eO(t)&&Ps.fiberRefs!==void 0?t[y0](Ps.fiberRefs):t,vt=(t,e)=>{switch(e.length){case 0:return t;case 1:return e[0](t);case 2:return e[1](e[0](t));case 3:return e[2](e[1](e[0](t)));case 4:return e[3](e[2](e[1](e[0](t))));case 5:return e[4](e[3](e[2](e[1](e[0](t)))));case 6:return e[5](e[4](e[3](e[2](e[1](e[0](t))))));case 7:return e[6](e[5](e[4](e[3](e[2](e[1](e[0](t)))))));case 8:return e[7](e[6](e[5](e[4](e[3](e[2](e[1](e[0](t))))))));case 9:return e[8](e[7](e[6](e[5](e[4](e[3](e[2](e[1](e[0](t)))))))));default:{let n=t;for(let r=0,i=e.length;r<i;r++)n=e[r](n);return n}}},Bc="Async",Bh="Commit",di="Failure",Nm="OnFailure",qd="OnSuccess",Vd="OnSuccessAndFailure",hi="Success",nO="Sync",z3="Tag",El="UpdateRuntimeFlags",Hd="While",yd="Iterator",rO="WithRuntime",vd="Yield",v0="RevertFlags",U3=Symbol.for("effect/Effect"),W3=Symbol.for("effect/Stream"),K3=Symbol.for("effect/Sink"),q3=Symbol.for("effect/Channel"),Ya={_R:t=>t,_E:t=>t,_A:t=>t,_V:Mh()},V3={_A:t=>t,_In:t=>t,_L:t=>t,_E:t=>t,_R:t=>t},H3={_Env:t=>t,_InErr:t=>t,_InElem:t=>t,_InDone:t=>t,_OutErr:t=>t,_OutElem:t=>t,_OutDone:t=>t},xl={[U3]:Ya,[W3]:Ya,[K3]:V3,[q3]:H3,[Tt](t){return this===t},[kt](){return xe(this,p0(this))},[Symbol.iterator](){return new XT(new Sl(this))},pipe(){return vt(this,arguments)}},Cl={[kt](){return xe(this,ZT(this))},[Tt](t){const e=Object.keys(this),n=Object.keys(t);if(e.length!==n.length)return!1;for(const r of e)if(!(r in t&&Ot(this[r],t[r])))return!1;return!0}},Tl={...xl,_op:Bh},G3={...Tl,...Cl},J3=function(){function t(){}return t.prototype=Tl,t}(),iO=Symbol.for("effect/Option"),oO={...xl,[iO]:{_A:t=>t},[ve](){return this.toJSON()},toString(){return Je(this.toJSON())}},Y3=Object.assign(Object.create(oO),{_tag:"Some",_op:"Some",[Tt](t){return sO(t)&&uO(t)&&Ot(this.value,t.value)},[kt](){return xe(this,Bt(at(this._tag))(at(this.value)))},toJSON(){return{_id:"Option",_tag:this._tag,value:Ke(this.value)}}}),X3=at("None"),Q3=Object.assign(Object.create(oO),{_tag:"None",_op:"None",[Tt](t){return sO(t)&&aO(t)},[kt](){return X3},toJSON(){return{_id:"Option",_tag:this._tag}}}),sO=t=>Et(t,iO),aO=t=>t._tag==="None",uO=t=>t._tag==="Some",_0=Object.create(Q3),Gd=t=>{const e=Object.create(Y3);return e.value=t,e},cO=Symbol.for("effect/Either"),lO={...xl,[cO]:{_R:t=>t},[ve](){return this.toJSON()},toString(){return Je(this.toJSON())}},Z3=Object.assign(Object.create(lO),{_tag:"Right",_op:"Right",[Tt](t){return b0(t)&&fO(t)&&Ot(this.right,t.right)},[kt](){return Bt(at(this._tag))(at(this.right))},toJSON(){return{_id:"Either",_tag:this._tag,right:Ke(this.right)}}}),tD=Object.assign(Object.create(lO),{_tag:"Left",_op:"Left",[Tt](t){return b0(t)&&S0(t)&&Ot(this.left,t.left)},[kt](){return Bt(at(this._tag))(at(this.left))},toJSON(){return{_id:"Either",_tag:this._tag,left:Ke(this.left)}}}),b0=t=>Et(t,cO),S0=t=>t._tag==="Left",fO=t=>t._tag==="Right",eD=t=>{const e=Object.create(tD);return e.left=t,e},nD=t=>{const e=Object.create(Z3);return e.right=t,e},rD=t=>S0(t)?_0:Gd(t.right),Lt=nD,Ct=eD,iD=t=>{if(Ou(t))try{return Lt(t())}catch(e){return Ct(e)}else try{return Lt(t.try())}catch(e){return Ct(t.catch(e))}},oD=b0,sn=S0,ho=fO,dO=L(2,(t,e)=>sn(t)?Ct(e(t.left)):Lt(t.right)),sD=L(2,(t,e)=>ho(t)?Lt(e(t.right)):Ct(t.left)),w0=L(2,(t,{onLeft:e,onRight:n})=>sn(t)?e(t.left):n(t.right)),aD=w0({onLeft:Me,onRight:Me}),hO=L(2,(t,e)=>{if(ho(t))return t.right;throw e(t.left)}),uD=hO(()=>new Error("getOrThrow called on a Left")),pO=t=>t.length>0,gO=t=>(e,n)=>e===n?0:t(e,n),cD=gO((t,e)=>t<e?-1:1),mO=L(2,(t,e)=>gO((n,r)=>t(e(n),e(r)))),lD=t=>L(2,(e,n)=>t(e,n)===1),ft=()=>_0,$t=Gd,dn=aO,kn=uO,In=L(2,(t,{onNone:e,onSome:n})=>dn(t)?e():n(t.value)),fD=rD,Fe=L(2,(t,e)=>dn(t)?e():t.value),Yo=L(2,(t,e)=>dn(t)?e():t),dD=L(2,(t,e)=>dn(t)?$t(e()):t),Js=t=>t==null?ft():$t(t),ai=Fe(JT),hD=t=>(...e)=>{try{return $t(t(...e))}catch{return ft()}},yO=L(2,(t,e)=>dn(t)?ft():$t(e(t.value))),Au=L(2,(t,e)=>dn(t)?ft():e(t.value)),pD=L(2,(t,e)=>dn(t)?ft():Js(e(t.value))),gD=t=>L(2,(e,n)=>dn(e)?!1:t(e.value,n)),mD=m0(),yD=gD(mD),vD=L(2,(t,e)=>dn(t)?!1:e(t.value)),_D=(...t)=>t,jh=t=>new Array(t),bD=L(2,(t,e)=>{const n=Math.max(1,Math.floor(t)),r=new Array(n);for(let i=0;i<n;i++)r[i]=e(i);return r}),Ne=t=>Array.isArray(t)?t:Array.from(t),SD=t=>Array.isArray(t)?t:[t],wD=L(2,(t,{onEmpty:e,onNonEmpty:n})=>Ye(t)?n(tr(t),js(t)):e()),Jd=L(2,(t,e)=>[e,...t]),ED=L(2,(t,e)=>[...t,e]),vO=L(2,(t,e)=>Ne(t).concat(Ne(e))),xD=Array.isArray,CD=t=>t.length===0,TD=CD,_d=pO,Ye=pO,_O=(t,e)=>t<0||t>=e.length,OD=(t,e)=>Math.floor(Math.min(Math.max(0,t),e.length)),AD=L(2,(t,e)=>{const n=Math.floor(e);return _O(n,t)?ft():$t(t[n])}),bO=L(2,(t,e)=>{const n=Math.floor(e);if(_O(n,t))throw new Error(`Index ${n} out of bounds`);return t[n]}),jc=AD(0),tr=bO(0),kD=t=>Ye(t)?$t(SO(t)):ft(),SO=t=>t[t.length-1],js=t=>t.slice(1),ID=(t,e)=>{let n=0;for(const r of t){if(!e(r,n))break;n++}return n},PD=L(2,(t,e)=>ND(t,ID(t,e))),RD=L(2,(t,e)=>{const n=Ne(t);return n.slice(OD(e,n),n.length)}),qw=t=>Array.from(t).reverse(),Gc=L(2,(t,e)=>{const n=Array.from(t);return n.sort(e),n}),Vw=L(2,(t,e)=>$D(t,e,_D)),$D=L(3,(t,e,n)=>{const r=Ne(t),i=Ne(e);if(Ye(r)&&Ye(i)){const s=[n(tr(r),tr(i))],a=Math.min(r.length,i.length);for(let c=1;c<a;c++)s[c]=n(r[c],i[c]);return s}return[]}),MD=m0(),ND=L(2,(t,e)=>{const n=Array.from(t),r=Math.floor(e);return Ye(n)?r>=1?LD(n,r):[[],n]:[n,[]]}),LD=L(2,(t,e)=>{const n=Math.max(1,Math.floor(e));return n>=t.length?[kc(t),[]]:[Jd(t.slice(1,n),tr(t)),t.slice(n)]}),kc=t=>t.slice(),FD=L(3,(t,e,n)=>{const r=Ne(t),i=Ne(e);return Ye(r)?Ye(i)?xO(n)(vO(r,i)):r:i}),bd=L(2,(t,e)=>FD(t,e,MD)),Xa=()=>[],si=t=>[t],ja=L(2,(t,e)=>t.map(e)),wO=L(2,(t,e)=>{if(TD(t))return[];const n=[];for(let r=0;r<t.length;r++){const i=e(t[r],r);for(let s=0;s<i.length;s++)n.push(i[s])}return n}),BD=wO(Me),EO=L(3,(t,e,n)=>Ne(t).reduce((r,i,s)=>n(r,i,s),e)),Hw=(t,e)=>{const n=[];let r=t,i;for(;kn(i=e(r));){const[s,a]=i.value;n.push(s),r=a}return n},E0=_3,xO=L(2,(t,e)=>{const n=Ne(t);if(Ye(n)){const r=[tr(n)],i=js(n);for(const s of i)r.every(a=>!e(s,a))&&r.push(s);return r}return[]}),jD=t=>xO(t,m0()),ku=L(2,(t,e)=>Ne(t).join(e)),CO=(t,e)=>{switch(e._tag){case"StringKeyword":case"TemplateLiteral":return Object.keys(t);case"SymbolKeyword":return Object.getOwnPropertySymbols(t);case"Refinement":return CO(t,e.from)}},Da=t=>Object.keys(t).concat(Object.getOwnPropertySymbols(t)),TO=t=>{let e=!1,n;return()=>(e||(n=t(),e=!0),n)},DD=t=>{try{return t.toISOString()}catch{return String(t)}},zi=(t,e=!0)=>{if(Array.isArray(t))return`[${t.map(n=>zi(n,e)).join(",")}]`;if(x3(t))return DD(t);if(Et(t,"toString")&&Ou(t.toString)&&t.toString!==Object.prototype.toString)return t.toString();if(qi(t))return JSON.stringify(t);if(Bs(t)||t==null||f0(t)||Ry(t))return String(t);if(Nh(t))return String(t)+"n";if(YT(t))return`${t.constructor.name}(${zi(Array.from(t),e)})`;try{e&&JSON.stringify(t);const n=`{${Da(t).map(i=>`${qi(i)?JSON.stringify(i):String(i)}:${zi(t[i],!1)}`).join(",")}}`,r=t.constructor.name;return t.constructor!==Object.prototype.constructor?`${r}(${n})`:n}catch{return"<circular structure>"}},zD=t=>typeof t=="string"?JSON.stringify(t):String(t),OO=t=>Array.isArray(t),Gw=t=>`[${zD(t)}]`,UD=t=>OO(t)?t.map(Gw).join(""):Gw(t),Ys=(t,e,n,r)=>{let i=t;return e!==void 0&&(i+=`
details: ${e}`),r&&(i+=`
schema (${r._tag}): ${r}`),i},WD=t=>Ys("Unsupported key schema",void 0,void 0,t),KD=t=>Ys("Unsupported literal",`literal value: ${zi(t)}`),Jw=t=>Ys("Duplicate index signature",`${t} index signature`),qD=Ys("Unsupported index signature parameter","An index signature parameter type must be `string`, `symbol`, a template literal type or a refinement of the previous types"),VD=Ys("Invalid element","A required element cannot follow an optional element. ts(1257)"),Yw=t=>Ys("Duplicate property signature transformation",`Duplicate key ${zi(t)}`),HD=t=>Ys("Duplicate property signature",`Duplicate key ${zi(t)}`),Qa=cD,Yd=t=>t.replace(/[/\\^$*+?.()|[\]{}]/g,"\\$&"),GD=Symbol.for("effect/annotation/Brand"),JD=Symbol.for("effect/annotation/SchemaId"),AO=Symbol.for("effect/annotation/Message"),x0=Symbol.for("effect/annotation/MissingMessage"),kO=Symbol.for("effect/annotation/Identifier"),xo=Symbol.for("effect/annotation/Title"),My=Symbol.for("effect/annotation/AutoTitle"),Ol=Symbol.for("effect/annotation/Description"),IO=Symbol.for("effect/annotation/Examples"),PO=Symbol.for("effect/annotation/Default"),RO=Symbol.for("effect/annotation/JSONSchema"),$O=Symbol.for("effect/annotation/Arbitrary"),MO=Symbol.for("effect/annotation/Pretty"),NO=Symbol.for("effect/annotation/Equivalence"),YD=Symbol.for("effect/annotation/Documentation"),LO=Symbol.for("effect/annotation/Concurrency"),FO=Symbol.for("effect/annotation/Batching"),BO=Symbol.for("effect/annotation/ParseIssueTitle"),jO=Symbol.for("effect/annotation/ParseOptions"),DO=Symbol.for("effect/annotation/DecodingFallback"),zO=Symbol.for("effect/annotation/Surrogate"),XD=Symbol.for("effect/annotation/StableFilter"),Rn=L(2,(t,e)=>Object.prototype.hasOwnProperty.call(t.annotations,e)?$t(t.annotations[e]):ft()),QD=Rn(GD),ZD=Rn(AO),tz=Rn(x0),UO=Rn(xo),WO=Rn(My),Dh=Rn(kO),KO=Rn(Ol),ez=Rn(LO),nz=Rn(FO),rz=Rn(BO),iz=Rn(jO),oz=Rn(DO),qO=Rn(zO),sz=Rn(XD),az=t=>vD(sz(t),e=>e===!0),VO=Symbol.for("effect/annotation/JSONIdentifier"),uz=Rn(VO),cz=t=>Yo(uz(t),()=>Dh(t)),lz=Symbol.for("effect/schema/ParseJson");class HO{constructor(e,n,r,i={}){_(this,"typeParameters");_(this,"decodeUnknown");_(this,"encodeUnknown");_(this,"annotations");_(this,"_tag","Declaration");this.typeParameters=e,this.decodeUnknown=n,this.encodeUnknown=r,this.annotations=i}toString(){return Fe(Vi(this),()=>"<declaration schema>")}toJSON(){return{_tag:this._tag,typeParameters:this.typeParameters.map(e=>e.toJSON()),annotations:qe(this.annotations)}}}const Al=t=>e=>e._tag===t;let Ny=class{constructor(e,n={}){_(this,"literal");_(this,"annotations");_(this,"_tag","Literal");this.literal=e,this.annotations=n}toString(){return Fe(Vi(this),()=>zi(this.literal))}toJSON(){return{_tag:this._tag,literal:Nh(this.literal)?String(this.literal):this.literal,annotations:qe(this.annotations)}}};const Xw=Al("Literal");class fz{constructor(e,n={}){_(this,"symbol");_(this,"annotations");_(this,"_tag","UniqueSymbol");this.symbol=e,this.annotations=n}toString(){return Fe(Vi(this),()=>zi(this.symbol))}toJSON(){return{_tag:this._tag,symbol:String(this.symbol),annotations:qe(this.annotations)}}}class dz{constructor(e={}){_(this,"annotations");_(this,"_tag","UndefinedKeyword");this.annotations=e}toString(){return Qs(this)}toJSON(){return{_tag:this._tag,annotations:qe(this.annotations)}}}const Ly=new dz({[xo]:"undefined"});class hz{constructor(e={}){_(this,"annotations");_(this,"_tag","NeverKeyword");this.annotations=e}toString(){return Qs(this)}toJSON(){return{_tag:this._tag,annotations:qe(this.annotations)}}}const C0=new hz({[xo]:"never"});class pz{constructor(e={}){_(this,"annotations");_(this,"_tag","UnknownKeyword");this.annotations=e}toString(){return Qs(this)}toJSON(){return{_tag:this._tag,annotations:qe(this.annotations)}}}const GO=new pz({[xo]:"unknown"});class gz{constructor(e={}){_(this,"annotations");_(this,"_tag","AnyKeyword");this.annotations=e}toString(){return Qs(this)}toJSON(){return{_tag:this._tag,annotations:qe(this.annotations)}}}const JO=new gz({[xo]:"any"});class mz{constructor(e={}){_(this,"annotations");_(this,"_tag","StringKeyword");this.annotations=e}toString(){return Qs(this)}toJSON(){return{_tag:this._tag,annotations:qe(this.annotations)}}}const yz=new mz({[xo]:"string",[Ol]:"a string"}),vz=Al("StringKeyword");class _z{constructor(e={}){_(this,"annotations");_(this,"_tag","NumberKeyword");this.annotations=e}toString(){return Qs(this)}toJSON(){return{_tag:this._tag,annotations:qe(this.annotations)}}}const bz=new _z({[xo]:"number",[Ol]:"a number"});class Sz{constructor(e={}){_(this,"annotations");_(this,"_tag","BooleanKeyword");this.annotations=e}toString(){return Qs(this)}toJSON(){return{_tag:this._tag,annotations:qe(this.annotations)}}}const wz=new Sz({[xo]:"boolean",[Ol]:"a boolean"}),Ez=Al("SymbolKeyword");let zh=class{constructor(e,n={}){_(this,"type");_(this,"annotations");this.type=e,this.annotations=n}toJSON(){return{type:this.type.toJSON(),annotations:qe(this.annotations)}}toString(){return String(this.type)}};class Xs extends zh{constructor(n,r,i={}){super(n,i);_(this,"isOptional");this.isOptional=r}toJSON(){return{type:this.type.toJSON(),isOptional:this.isOptional,annotations:qe(this.annotations)}}toString(){return String(this.type)+(this.isOptional?"?":"")}}const YO=t=>t.map(e=>e.type);class T0{constructor(e,n,r,i={}){_(this,"elements");_(this,"rest");_(this,"isReadonly");_(this,"annotations");_(this,"_tag","TupleType");this.elements=e,this.rest=n,this.isReadonly=r,this.annotations=i;let s=!1,a=!1;for(const c of e)if(c.isOptional)s=!0;else if(s){a=!0;break}if(a||s&&n.length>1)throw new Error(VD)}toString(){return Fe(Vi(this),()=>xz(this))}toJSON(){return{_tag:this._tag,elements:this.elements.map(e=>e.toJSON()),rest:this.rest.map(e=>e.toJSON()),isReadonly:this.isReadonly,annotations:qe(this.annotations)}}}const xz=t=>{const e=t.elements.map(String).join(", ");return wD(t.rest,{onEmpty:()=>`readonly [${e}]`,onNonEmpty:(n,r)=>{const i=String(n),s=i.includes(" | ")?`(${i})`:i;if(r.length>0){const a=r.map(String).join(", ");return t.elements.length>0?`readonly [${e}, ...${s}[], ${a}]`:`readonly [...${s}[], ${a}]`}else return t.elements.length>0?`readonly [${e}, ...${s}[]]`:`ReadonlyArray<${i}>`}})};class Tn extends Xs{constructor(n,r,i,s,a){super(r,i,a);_(this,"name");_(this,"isReadonly");this.name=n,this.isReadonly=s}toString(){return(this.isReadonly?"readonly ":"")+String(this.name)+(this.isOptional?"?":"")+": "+this.type}toJSON(){return{name:String(this.name),type:this.type.toJSON(),isOptional:this.isOptional,isReadonly:this.isReadonly,annotations:qe(this.annotations)}}}const XO=t=>{switch(t._tag){case"StringKeyword":case"SymbolKeyword":case"TemplateLiteral":return!0;case"Refinement":return XO(t.from)}return!1};class Uh{constructor(e,n,r){_(this,"type");_(this,"isReadonly");_(this,"parameter");if(this.type=n,this.isReadonly=r,XO(e))this.parameter=e;else throw new Error(qD)}toString(){return(this.isReadonly?"readonly ":"")+`[x: ${this.parameter}]: ${this.type}`}toJSON(){return{parameter:this.parameter.toJSON(),type:this.type.toJSON(),isReadonly:this.isReadonly}}}class Rs{constructor(e,n,r={}){_(this,"annotations");_(this,"_tag","TypeLiteral");_(this,"propertySignatures");_(this,"indexSignatures");this.annotations=r;const i={};for(let a=0;a<e.length;a++){const c=e[a].name;if(Object.prototype.hasOwnProperty.call(i,c))throw new Error(HD(c));i[c]=null}const s={string:!1,symbol:!1};for(let a=0;a<n.length;a++){const c=iA(n[a].parameter);if(vz(c)){if(s.string)throw new Error(Jw("string"));s.string=!0}else if(Ez(c)){if(s.symbol)throw new Error(Jw("symbol"));s.symbol=!0}}this.propertySignatures=e,this.indexSignatures=n}toString(){return Fe(Vi(this),()=>Cz(this))}toJSON(){return{_tag:this._tag,propertySignatures:this.propertySignatures.map(e=>e.toJSON()),indexSignatures:this.indexSignatures.map(e=>e.toJSON()),annotations:qe(this.annotations)}}}const Qw=t=>t.map(String).join("; "),Cz=t=>{if(t.propertySignatures.length>0){const e=t.propertySignatures.map(String).join("; ");return t.indexSignatures.length>0?`{ ${e}; ${Qw(t.indexSignatures)} }`:`{ ${e} }`}else return t.indexSignatures.length>0?`{ ${Qw(t.indexSignatures)} }`:"{}"},Tz=Gc(mO(Qa,t=>{switch(t._tag){case"AnyKeyword":return 0;case"UnknownKeyword":return 1;case"ObjectKeyword":return 2;case"StringKeyword":case"NumberKeyword":case"BooleanKeyword":case"BigIntKeyword":case"SymbolKeyword":return 3}return 4})),Oz={string:"StringKeyword",number:"NumberKeyword",boolean:"BooleanKeyword",bigint:"BigIntKeyword"},QO=t=>wO(t,e=>ZO(e)?QO(e.types):[e]),Az=t=>{const e=Tz(t),n=[],r={},i=[];for(const s of e)switch(s._tag){case"NeverKeyword":break;case"AnyKeyword":return[JO];case"UnknownKeyword":return[GO];case"ObjectKeyword":case"UndefinedKeyword":case"VoidKeyword":case"StringKeyword":case"NumberKeyword":case"BooleanKeyword":case"BigIntKeyword":case"SymbolKeyword":{r[s._tag]||(r[s._tag]=s,n.push(s));break}case"Literal":{const a=typeof s.literal;switch(a){case"string":case"number":case"bigint":case"boolean":{const c=Oz[a];!r[c]&&!i.includes(s.literal)&&(i.push(s.literal),n.push(s));break}case"object":{i.includes(s.literal)||(i.push(s.literal),n.push(s));break}}break}case"UniqueSymbol":{!r.SymbolKeyword&&!i.includes(s.symbol)&&(i.push(s.symbol),n.push(s));break}case"TupleType":{r.ObjectKeyword||n.push(s);break}case"TypeLiteral":{s.propertySignatures.length===0&&s.indexSignatures.length===0?r["{}"]||(r["{}"]=s,n.push(s)):r.ObjectKeyword||n.push(s);break}default:n.push(s)}return n};var fo;let Ri=(fo=class{constructor(e,n={}){_(this,"types");_(this,"annotations");_(this,"_tag","Union");this.types=e,this.annotations=n}toString(){return Fe(Vi(this),()=>this.types.map(String).join(" | "))}toJSON(){return{_tag:this._tag,types:this.types.map(e=>e.toJSON()),annotations:qe(this.annotations)}}},_(fo,"make",(e,n)=>O0(e)?new fo(e,n):e.length===1?e[0]:C0),_(fo,"unify",(e,n)=>fo.make(Az(QO(e)),n)),fo);const kz=(t,e)=>t.map(e),O0=t=>t.length>1,ZO=Al("Union"),Lm=jt(Symbol.for("effect/Schema/AST/toJSONMemoMap"),()=>new WeakMap);class tA{constructor(e,n={}){_(this,"f");_(this,"annotations");_(this,"_tag","Suspend");this.f=e,this.annotations=n,this.f=TO(e)}toString(){return Vi(this).pipe(Yo(()=>Au(hD(this.f)(),e=>Vi(e))),Fe(()=>"<suspended schema>"))}toJSON(){const e=this.f();let n=Lm.get(e);return n||(Lm.set(e,{_tag:this._tag}),n={_tag:this._tag,ast:e.toJSON(),annotations:qe(this.annotations)},Lm.set(e,n),n)}}let Iz=class{constructor(e,n,r={}){_(this,"from");_(this,"filter");_(this,"annotations");_(this,"_tag","Refinement");this.from=e,this.filter=n,this.annotations=r}toString(){return Dh(this).pipe(Fe(()=>In(oA(this),{onNone:()=>`{ ${this.from} | filter }`,onSome:e=>A0(this.from)?String(this.from)+" & "+e:e})))}toJSON(){return{_tag:this._tag,from:this.from.toJSON(),annotations:qe(this.annotations)}}};const A0=Al("Refinement"),Fm={};let k0=class{constructor(e,n,r,i={}){_(this,"from");_(this,"to");_(this,"transformation");_(this,"annotations");_(this,"_tag","Transformation");this.from=e,this.to=n,this.transformation=r,this.annotations=i}toString(){return Fe(Vi(this),()=>`(${String(this.from)} <-> ${String(this.to)})`)}toJSON(){return{_tag:this._tag,from:this.from.toJSON(),to:this.to.toJSON(),annotations:qe(this.annotations)}}};class Pz{constructor(e,n){_(this,"decode");_(this,"encode");_(this,"_tag","FinalTransformation");this.decode=e,this.encode=n}}class Rz{constructor(){_(this,"_tag","ComposeTransformation")}}const $z=new Rz;let Mz=class{constructor(e,n,r,i){_(this,"from");_(this,"to");_(this,"decode");_(this,"encode");this.from=e,this.to=n,this.decode=r,this.encode=i}};class Nz{constructor(e){_(this,"propertySignatureTransformations");_(this,"_tag","TypeLiteralTransformation");this.propertySignatureTransformations=e;const n={},r={};for(const i of e){const s=i.from;if(n[s])throw new Error(Yw(s));n[s]=!0;const a=i.to;if(r[a])throw new Error(Yw(a));r[a]=!0}}}const Za=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={...t.annotations,...e},i=qO(t);return kn(i)&&(r[zO]=Za(i.value,e)),n.annotations.value=r,Object.create(Object.getPrototypeOf(t),n)},Lz="[\\s\\S]*",Fz="[+-]?\\d*\\.?\\d+(?:[Ee][+-]?\\d+)?",eA=(t,e)=>{switch(t._tag){case"Literal":return Yd(String(t.literal));case"StringKeyword":return Lz;case"NumberKeyword":return Fz;case"TemplateLiteral":return nA(t);case"Union":return t.types.map(n=>eA(n)).join("|")}},Bz=(t,e,n,r)=>ZO(t)?`(${e})`:e,nA=(t,e,n)=>{let r="";if(t.head!==""){const i=Yd(t.head);r+=i}for(const i of t.spans){const s=eA(i.type);if(r+=Bz(i.type,s),i.literal!==""){const a=Yd(i.literal);r+=a}}return r},jz=t=>new RegExp(`^${nA(t)}$`),Zw=(t,e)=>{const n=[],r=[],i=s=>{switch(s._tag){case"NeverKeyword":break;case"StringKeyword":case"SymbolKeyword":case"TemplateLiteral":case"Refinement":r.push(new Uh(s,e,!0));break;case"Literal":if(qi(s.literal)||Bs(s.literal))n.push(new Tn(s.literal,e,!1,!0));else throw new Error(KD(s.literal));break;case"Enums":{for(const[a,c]of s.enums)n.push(new Tn(c,e,!1,!0));break}case"UniqueSymbol":n.push(new Tn(s.symbol,e,!1,!0));break;case"Union":s.types.forEach(i);break;default:throw new Error(WD(s))}};return i(t),{propertySignatures:n,indexSignatures:r}},rA=t=>e=>{let n;for(const r of t)Object.prototype.hasOwnProperty.call(e.annotations,r)&&(n===void 0&&(n={}),n[r]=e.annotations[r]);return n},Dz=rA([IO,PO,RO,$O,MO,NO]),un=t=>{switch(t._tag){case"Declaration":{const e=Wr(t.typeParameters,un);return e===t.typeParameters?t:new HO(e,t.decodeUnknown,t.encodeUnknown,t.annotations)}case"TupleType":{const e=Wr(t.elements,i=>{const s=un(i.type);return s===i.type?i:new Xs(s,i.isOptional)}),n=YO(t.rest),r=Wr(n,un);return e===t.elements&&r===n?t:new T0(e,r.map(i=>new zh(i)),t.isReadonly,t.annotations)}case"TypeLiteral":{const e=Wr(t.propertySignatures,r=>{const i=un(r.type);return i===r.type?r:new Tn(r.name,i,r.isOptional,r.isReadonly)}),n=Wr(t.indexSignatures,r=>{const i=un(r.type);return i===r.type?r:new Uh(r.parameter,i,r.isReadonly)});return e===t.propertySignatures&&n===t.indexSignatures?t:new Rs(e,n,t.annotations)}case"Union":{const e=Wr(t.types,un);return e===t.types?t:Ri.make(e,t.annotations)}case"Suspend":return new tA(()=>un(t.f()),t.annotations);case"Refinement":{const e=un(t.from);return e===t.from?t:new Iz(e,t.filter,t.annotations)}case"Transformation":{const e=Dz(t);return un(e!==void 0?Za(t.to,e):t.to)}}return t},Ta=t=>In(cz(t),{onNone:()=>{},onSome:e=>({[VO]:e})});function Wr(t,e){let n=!1;const r=jh(t.length);for(let i=0;i<t.length;i++){const s=t[i],a=e(s);a!==s&&(n=!0),r[i]=a}return n?r:t}const Oi=(t,e)=>{switch(t._tag){case"Declaration":{const n=Wr(t.typeParameters,r=>Oi(r));return n===t.typeParameters?t:new HO(n,t.decodeUnknown,t.encodeUnknown,t.annotations)}case"TupleType":{const n=Wr(t.elements,s=>{const a=Oi(s.type);return a===s.type?s:new Xs(a,s.isOptional)}),r=YO(t.rest),i=Wr(r,s=>Oi(s));return n===t.elements&&i===r?t:new T0(n,i.map(s=>new zh(s)),t.isReadonly,Ta(t))}case"TypeLiteral":{const n=Wr(t.propertySignatures,i=>{const s=Oi(i.type);return s===i.type?i:new Tn(i.name,s,i.isOptional,i.isReadonly)}),r=Wr(t.indexSignatures,i=>{const s=Oi(i.type);return s===i.type?i:new Uh(i.parameter,s,i.isReadonly)});return n===t.propertySignatures&&r===t.indexSignatures?t:new Rs(n,r,Ta(t))}case"Union":{const n=Wr(t.types,r=>Oi(r));return n===t.types?t:Ri.make(n,Ta(t))}case"Suspend":return new tA(()=>Oi(t.f()),Ta(t));case"Refinement":{const n=Oi(t.from),r=Ta(t);return r?Za(n,r):n}case"Transformation":{const n=Ta(t);return Oi(n?Za(t.from,n):t.from)}}return t},tE=t=>Oi(t),qe=t=>{const e={};for(const n of Object.getOwnPropertySymbols(t))e[String(n)]=t[n];return e},iA=t=>{switch(t._tag){case"StringKeyword":case"SymbolKeyword":case"TemplateLiteral":return t;case"Refinement":return iA(t.from)}},zz=(t,e)=>new k0(t,e,$z),Qs=t=>Fe(Vi(t),()=>t._tag);function Uz(t){return In(QD(t),{onNone:()=>"",onSome:e=>e.map(n=>` & Brand<${zi(n)}>`).join("")})}const oA=t=>UO(t).pipe(Yo(()=>KO(t)),Yo(()=>WO(t)),yO(e=>e+Uz(t))),Vi=t=>Yo(Dh(t),()=>oA(t)),Wz=Symbol.for("effect/Context/Tag"),Xd=Symbol.for("effect/Context/Reference"),Kz="effect/STM",qz=Symbol.for(Kz),sA={...xl,_op:"Tag",[qz]:Ya,[Wz]:{_Service:t=>t,_Identifier:t=>t},toString(){return Je(this.toJSON())},toJSON(){return{_id:"Tag",key:this.key,stack:this.stack}},[ve](){return this.toJSON()},of(t){return t},context(t){return uA(this,t)}},Vz={...sA,[Xd]:Xd},Hz=t=>{const e=Error.stackTraceLimit;Error.stackTraceLimit=2;const n=new Error;Error.stackTraceLimit=e;const r=Object.create(sA);return Object.defineProperty(r,"stack",{get(){return n.stack}}),r.key=t,r},Gz=()=>(t,e)=>{const n=Error.stackTraceLimit;Error.stackTraceLimit=2;const r=new Error;Error.stackTraceLimit=n;function i(){}return Object.setPrototypeOf(i,Vz),i.key=t,i.defaultValue=e.defaultValue,Object.defineProperty(i,"stack",{get(){return r.stack}}),i},aA=Symbol.for("effect/Context"),Jz={[aA]:{_Services:t=>t},[Tt](t){if(Xz(t)&&this.unsafeMap.size===t.unsafeMap.size){for(const e of this.unsafeMap.keys())if(!t.unsafeMap.has(e)||!Ot(this.unsafeMap.get(e),t.unsafeMap.get(e)))return!1;return!0}return!1},[kt](){return xe(this,g0(this.unsafeMap.size))},pipe(){return vt(this,arguments)},toString(){return Je(this.toJSON())},toJSON(){return{_id:"Context",services:Array.from(this.unsafeMap).map(Ke)}},[ve](){return this.toJSON()}},tu=t=>{const e=Object.create(Jz);return e.unsafeMap=t,e},Yz=t=>{const e=new Error(`Service not found${t.key?`: ${String(t.key)}`:""}`);if(t.stack){const n=t.stack.split(`
`);if(n.length>2){const r=n[2].match(/at (.*)/);r&&(e.message=e.message+` (defined at ${r[1]})`)}}if(e.stack){const n=e.stack.split(`
`);n.splice(1,3),e.stack=n.join(`
`)}return e},Xz=t=>Et(t,aA),Qz=t=>Et(t,Xd),Zz=tu(new Map),tU=()=>Zz,uA=(t,e)=>tu(new Map([[t.key,e]])),eU=L(3,(t,e,n)=>{const r=new Map(t.unsafeMap);return r.set(e.key,n),tu(r)}),Bm=jt("effect/Context/defaultValueCache",()=>new Map),I0=t=>{if(Bm.has(t.key))return Bm.get(t.key);const e=t.defaultValue();return Bm.set(t.key,e),e},nU=(t,e)=>t.unsafeMap.has(e.key)?t.unsafeMap.get(e.key):I0(e),cA=L(2,(t,e)=>{if(!t.unsafeMap.has(e.key)){if(Xd in e)return I0(e);throw Yz(e)}return t.unsafeMap.get(e.key)}),rU=cA,iU=L(2,(t,e)=>t.unsafeMap.has(e.key)?Gd(t.unsafeMap.get(e.key)):Qz(e)?Gd(I0(e)):_0),oU=L(2,(t,e)=>{const n=new Map(t.unsafeMap);for(const[r,i]of e.unsafeMap)n.set(r,i);return tu(n)}),Zs=Hz,P0=tU,sU=uA,vc=eU,lA=rU,fA=cA,kl=iU,dA=oU,hA=Gz,pA=Symbol.for("effect/Chunk");function aU(t,e,n,r,i){for(let s=e;s<Math.min(t.length,e+i);s++)n[r+s-e]=t[s];return n}const gA=[],uU=t=>l0((e,n)=>e.length===n.length&&$s(e).every((r,i)=>t(r,za(n,i)))),cU=uU(Ot),lU={[pA]:{_A:t=>t},toString(){return Je(this.toJSON())},toJSON(){return{_id:"Chunk",values:$s(this).map(Ke)}},[ve](){return this.toJSON()},[Tt](t){return mA(t)&&cU(this,t)},[kt](){return xe(this,wl($s(this)))},[Symbol.iterator](){switch(this.backing._tag){case"IArray":return this.backing.array[Symbol.iterator]();case"IEmpty":return gA[Symbol.iterator]();default:return $s(this)[Symbol.iterator]()}},pipe(){return vt(this,arguments)}},ze=t=>{const e=Object.create(lU);switch(e.backing=t,t._tag){case"IEmpty":{e.length=0,e.depth=0,e.left=e,e.right=e;break}case"IConcat":{e.length=t.left.length+t.right.length,e.depth=1+Math.max(t.left.depth,t.right.depth),e.left=t.left,e.right=t.right;break}case"IArray":{e.length=t.array.length,e.depth=0,e.left=$i,e.right=$i;break}case"ISingleton":{e.length=1,e.depth=0,e.left=$i,e.right=$i;break}case"ISlice":{e.length=t.length,e.depth=t.chunk.depth+1,e.left=$i,e.right=$i;break}}return e},mA=t=>Et(t,pA),$i=ze({_tag:"IEmpty"}),yo=()=>$i,jm=(...t)=>hU(t),br=t=>ze({_tag:"ISingleton",a:t}),yA=t=>mA(t)?t:Wh(Ne(t)),Fy=(t,e,n)=>{switch(t.backing._tag){case"IArray":{aU(t.backing.array,0,e,n,t.length);break}case"IConcat":{Fy(t.left,e,n),Fy(t.right,e,n+t.left.length);break}case"ISingleton":{e[n]=t.backing.a;break}case"ISlice":{let r=0,i=n;for(;r<t.length;)e[i]=za(t,r),r+=1,i+=1;break}}},fU=t=>{switch(t.backing._tag){case"IEmpty":return gA;case"IArray":return t.backing.array;default:{const e=new Array(t.length);return Fy(t,e,0),t.backing={_tag:"IArray",array:e},t.left=$i,t.right=$i,t.depth=0,e}}},$s=fU,dU=t=>{switch(t.backing._tag){case"IEmpty":case"ISingleton":return t;case"IArray":return ze({_tag:"IArray",array:qw(t.backing.array)});case"IConcat":return ze({_tag:"IConcat",left:eu(t.backing.right),right:eu(t.backing.left)});case"ISlice":return Wh(qw($s(t)))}},eu=dU,Wh=t=>t.length===0?yo():t.length===1?br(t[0]):ze({_tag:"IArray",array:t}),hU=t=>Wh(t),za=L(2,(t,e)=>{switch(t.backing._tag){case"IEmpty":throw new Error("Index out of bounds");case"ISingleton":{if(e!==0)throw new Error("Index out of bounds");return t.backing.a}case"IArray":{if(e>=t.length||e<0)throw new Error("Index out of bounds");return t.backing.array[e]}case"IConcat":return e<t.left.length?za(t.left,e):za(t.right,e-t.left.length);case"ISlice":return za(t.backing.chunk,e+t.backing.offset)}}),pU=L(2,(t,e)=>ci(t,br(e))),gi=L(2,(t,e)=>ci(br(e),t)),By=L(2,(t,e)=>{if(e<=0)return t;if(e>=t.length)return $i;switch(t.backing._tag){case"ISlice":return ze({_tag:"ISlice",chunk:t.backing.chunk,offset:t.backing.offset+e,length:t.backing.length-e});case"IConcat":return e>t.left.length?By(t.right,e-t.left.length):ze({_tag:"IConcat",left:By(t.left,e),right:t.right});default:return ze({_tag:"ISlice",chunk:t,offset:e,length:t.length-e})}}),ci=L(2,(t,e)=>{if(t.backing._tag==="IEmpty")return e;if(e.backing._tag==="IEmpty")return t;const n=e.depth-t.depth;if(Math.abs(n)<=1)return ze({_tag:"IConcat",left:t,right:e});if(n<-1)if(t.left.depth>=t.right.depth){const r=ci(t.right,e);return ze({_tag:"IConcat",left:t.left,right:r})}else{const r=ci(t.right.right,e);if(r.depth===t.depth-3){const i=ze({_tag:"IConcat",left:t.right.left,right:r});return ze({_tag:"IConcat",left:t.left,right:i})}else{const i=ze({_tag:"IConcat",left:t.left,right:t.right.left});return ze({_tag:"IConcat",left:i,right:r})}}else if(e.right.depth>=e.left.depth){const r=ci(t,e.left);return ze({_tag:"IConcat",left:r,right:e.right})}else{const r=ci(t,e.left.left);if(r.depth===e.depth-3){const i=ze({_tag:"IConcat",left:r,right:e.left.right});return ze({_tag:"IConcat",left:i,right:e.right})}else{const i=ze({_tag:"IConcat",left:e.left.right,right:e.right});return ze({_tag:"IConcat",left:r,right:i})}}}),gU=t=>t.length===0,nu=t=>t.length>0,vA=t=>za(t,0),ru=vA,Ts=t=>By(t,1),jy=Symbol.for("effect/Duration"),_A=BigInt(0),eE=BigInt(24),Hf=BigInt(60),Dy=BigInt(1e3),nE=BigInt(1e6),rE=BigInt(1e9),mU=/^(-?\d+(?:\.\d+)?)\s+(nanos?|micros?|millis?|seconds?|minutes?|hours?|days?|weeks?)$/,vo=t=>{if(bA(t))return t;if(Bs(t))return zy(t);if(Nh(t))return Dm(t);if(Array.isArray(t)&&t.length===2&&t.every(Bs))return t[0]===-1/0||t[1]===-1/0||Number.isNaN(t[0])||Number.isNaN(t[1])?SA:t[0]===1/0||t[1]===1/0?bU:Dm(BigInt(Math.round(t[0]*1e9))+BigInt(Math.round(t[1])));if(qi(t)){const e=mU.exec(t);if(e){const[n,r,i]=e,s=Number(r);switch(i){case"nano":case"nanos":return Dm(BigInt(r));case"micro":case"micros":return SU(BigInt(r));case"milli":case"millis":return zy(s);case"second":case"seconds":return wU(s);case"minute":case"minutes":return EU(s);case"hour":case"hours":return xU(s);case"day":case"days":return CU(s);case"week":case"weeks":return TU(s)}}}throw new Error("Invalid DurationInput")},iE={_tag:"Millis",millis:0},yU={_tag:"Infinity"},vU={[jy]:jy,[kt](){return xe(this,ZT(this.value))},[Tt](t){return bA(t)&&RU(this,t)},toString(){return`Duration(${MU(this)})`},toJSON(){switch(this.value._tag){case"Millis":return{_id:"Duration",_tag:"Millis",millis:this.value.millis};case"Nanos":return{_id:"Duration",_tag:"Nanos",hrtime:AU(this)};case"Infinity":return{_id:"Duration",_tag:"Infinity"}}},[ve](){return this.toJSON()},pipe(){return vt(this,arguments)}},Hi=t=>{const e=Object.create(vU);return Bs(t)?isNaN(t)||t<=0?e.value=iE:Number.isFinite(t)?Number.isInteger(t)?e.value={_tag:"Millis",millis:t}:e.value={_tag:"Nanos",nanos:BigInt(Math.round(t*1e6))}:e.value=yU:t<=_A?e.value=iE:e.value={_tag:"Nanos",nanos:t},e},bA=t=>Et(t,jy),_U=t=>{switch(t.value._tag){case"Millis":return t.value.millis===0;case"Nanos":return t.value.nanos===_A;case"Infinity":return!1}},SA=Hi(0),bU=Hi(1/0),Dm=t=>Hi(t),SU=t=>Hi(t*Dy),zy=t=>Hi(t),wU=t=>Hi(t*1e3),EU=t=>Hi(t*6e4),xU=t=>Hi(t*36e5),CU=t=>Hi(t*864e5),TU=t=>Hi(t*6048e5),Uy=t=>kU(t,{onMillis:e=>e,onNanos:e=>Number(e)/1e6}),OU=t=>{const e=vo(t);switch(e.value._tag){case"Infinity":throw new Error("Cannot convert infinite duration to nanos");case"Nanos":return e.value.nanos;case"Millis":return BigInt(Math.round(e.value.millis*1e6))}},AU=t=>{const e=vo(t);switch(e.value._tag){case"Infinity":return[1/0,0];case"Nanos":return[Number(e.value.nanos/rE),Number(e.value.nanos%rE)];case"Millis":return[Math.floor(e.value.millis/1e3),Math.round(e.value.millis%1e3*1e6)]}},kU=L(2,(t,e)=>{const n=vo(t);switch(n.value._tag){case"Nanos":return e.onNanos(n.value.nanos);case"Infinity":return e.onMillis(1/0);case"Millis":return e.onMillis(n.value.millis)}}),wA=L(3,(t,e,n)=>{const r=vo(t),i=vo(e);if(r.value._tag==="Infinity"||i.value._tag==="Infinity")return n.onMillis(Uy(r),Uy(i));if(r.value._tag==="Nanos"||i.value._tag==="Nanos"){const s=r.value._tag==="Nanos"?r.value.nanos:BigInt(Math.round(r.value.millis*1e6)),a=i.value._tag==="Nanos"?i.value.nanos:BigInt(Math.round(i.value.millis*1e6));return n.onNanos(s,a)}return n.onMillis(r.value.millis,i.value.millis)}),IU=(t,e)=>wA(t,e,{onMillis:(n,r)=>n===r,onNanos:(n,r)=>n===r}),PU=L(2,(t,e)=>wA(t,e,{onMillis:(n,r)=>n>=r,onNanos:(n,r)=>n>=r})),RU=L(2,(t,e)=>IU(vo(t),vo(e))),$U=t=>{const e=vo(t);if(e.value._tag==="Infinity")return{days:1/0,hours:1/0,minutes:1/0,seconds:1/0,millis:1/0,nanos:1/0};const n=OU(e),r=n/nE,i=r/Dy,s=i/Hf,a=s/Hf,c=a/eE;return{days:Number(c),hours:Number(a%eE),minutes:Number(s%Hf),seconds:Number(i%Hf),millis:Number(r%Dy),nanos:Number(n%nE)}},MU=t=>{const e=vo(t);if(e.value._tag==="Infinity")return"Infinity";if(_U(e))return"0";const n=$U(e),r=[];return n.days!==0&&r.push(`${n.days}d`),n.hours!==0&&r.push(`${n.hours}h`),n.minutes!==0&&r.push(`${n.minutes}m`),n.seconds!==0&&r.push(`${n.seconds}s`),n.millis!==0&&r.push(`${n.millis}ms`),n.nanos!==0&&r.push(`${n.nanos}ns`),r.join(" ")},Ds=5,R0=Math.pow(2,Ds),NU=R0-1,LU=R0/2,FU=R0/4;function BU(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),t=t+(t>>4)&252645135,t+=t>>8,t+=t>>16,t&127}function iu(t,e){return e>>>t&NU}function Fa(t){return 1<<t}function EA(t,e){return BU(t&e-1)}const jU=(t,e)=>({value:t,previous:e});function Ua(t,e,n,r){let i=r;if(!t){const s=r.length;i=new Array(s);for(let a=0;a<s;++a)i[a]=r[a]}return i[e]=n,i}function xA(t,e,n){const r=n.length-1;let i=0,s=0,a=n;if(t)i=s=e;else for(a=new Array(r);i<e;)a[s++]=n[i++];for(++i;i<=r;)a[s++]=n[i++];return t&&(a.length=r),a}function DU(t,e,n,r){const i=r.length;if(t){let l=i;for(;l>=e;)r[l--]=r[l];return r[e]=n,r}let s=0,a=0;const c=new Array(i+1);for(;s<e;)c[a++]=r[s++];for(c[e]=n;s<i;)c[++a]=r[s++];return c}class Qo{constructor(){_(this,"_tag","EmptyNode")}modify(e,n,r,i,s,a){const c=r(ft());return dn(c)?new Qo:(++a.value,new Ms(e,i,s,c))}}function li(t){return h0(t,"EmptyNode")}function zU(t){return li(t)||t._tag==="LeafNode"||t._tag==="CollisionNode"}function Kh(t,e){return li(t)?!1:e===t.edit}class Ms{constructor(e,n,r,i){_(this,"edit");_(this,"hash");_(this,"key");_(this,"value");_(this,"_tag","LeafNode");this.edit=e,this.hash=n,this.key=r,this.value=i}modify(e,n,r,i,s,a){if(Ot(s,this.key)){const l=r(this.value);return l===this.value?this:dn(l)?(--a.value,new Qo):Kh(this,e)?(this.value=l,this):new Ms(e,i,s,l)}const c=r(ft());return dn(c)?this:(++a.value,CA(e,n,this.hash,this,i,new Ms(e,i,s,c)))}}class $0{constructor(e,n,r){_(this,"edit");_(this,"hash");_(this,"children");_(this,"_tag","CollisionNode");this.edit=e,this.hash=n,this.children=r}modify(e,n,r,i,s,a){if(i===this.hash){const l=Kh(this,e),d=this.updateCollisionList(l,e,this.hash,this.children,r,s,a);return d===this.children?this:d.length>1?new $0(e,this.hash,d):d[0]}const c=r(ft());return dn(c)?this:(++a.value,CA(e,n,this.hash,this,i,new Ms(e,i,s,c)))}updateCollisionList(e,n,r,i,s,a,c){const l=i.length;for(let h=0;h<l;++h){const g=i[h];if("key"in g&&Ot(a,g.key)){const m=g.value,y=s(m);return y===m?i:dn(y)?(--c.value,xA(e,h,i)):Ua(e,h,new Ms(n,r,a,y),i)}}const d=s(ft());return dn(d)?i:(++c.value,Ua(e,l,new Ms(n,r,a,d),i))}}class ou{constructor(e,n,r){_(this,"edit");_(this,"mask");_(this,"children");_(this,"_tag","IndexedNode");this.edit=e,this.mask=n,this.children=r}modify(e,n,r,i,s,a){const c=this.mask,l=this.children,d=iu(n,i),h=Fa(d),g=EA(c,h),m=c&h,y=Kh(this,e);if(!m){const $=new Qo().modify(e,n+Ds,r,i,s,a);return $?l.length>=LU?WU(e,d,$,c,l):new ou(e,c|h,DU(y,g,$,l)):this}const w=l[g],x=w.modify(e,n+Ds,r,i,s,a);if(w===x)return this;let C=c,T;if(li(x)){if(C&=~h,!C)return new Qo;if(l.length<=2&&zU(l[g^1]))return l[g^1];T=xA(y,g,l)}else T=Ua(y,g,x,l);return y?(this.mask=C,this.children=T,this):new ou(e,C,T)}}class M0{constructor(e,n,r){_(this,"edit");_(this,"size");_(this,"children");_(this,"_tag","ArrayNode");this.edit=e,this.size=n,this.children=r}modify(e,n,r,i,s,a){let c=this.size;const l=this.children,d=iu(n,i),h=l[d],g=(h||new Qo).modify(e,n+Ds,r,i,s,a);if(h===g)return this;const m=Kh(this,e);let y;if(li(h)&&!li(g))++c,y=Ua(m,d,g,l);else if(!li(h)&&li(g)){if(--c,c<=FU)return UU(e,c,d,l);y=Ua(m,d,new Qo,l)}else y=Ua(m,d,g,l);return m?(this.size=c,this.children=y,this):new M0(e,c,y)}}function UU(t,e,n,r){const i=new Array(e-1);let s=0,a=0;for(let c=0,l=r.length;c<l;++c)if(c!==n){const d=r[c];d&&!li(d)&&(i[s++]=d,a|=1<<c)}return new ou(t,a,i)}function WU(t,e,n,r,i){const s=[];let a=r,c=0;for(let l=0;a;++l)a&1&&(s[l]=i[c++]),a>>>=1;return s[e]=n,new M0(t,c+1,s)}function KU(t,e,n,r,i,s){if(n===i)return new $0(t,n,[s,r]);const a=iu(e,n),c=iu(e,i);if(a===c)return l=>new ou(t,Fa(a)|Fa(c),[l]);{const l=a<c?[r,s]:[s,r];return new ou(t,Fa(a)|Fa(c),l)}}function CA(t,e,n,r,i,s){let a,c=e;for(;;){const l=KU(t,c,n,r,i,s);if(typeof l=="function")a=jU(l,a),c=c+Ds;else{let d=l;for(;a!=null;)d=a.value(d),a=a.previous;return d}}}const TA="effect/HashMap",Wy=Symbol.for(TA),qU={[Wy]:Wy,[Symbol.iterator](){return new qh(this,(t,e)=>[t,e])},[kt](){let t=at(TA);for(const e of this)t^=J(at(e[0]),Bt(at(e[1])));return xe(this,t)},[Tt](t){if(GU(t)){if(t._size!==this._size)return!1;for(const e of this){const n=J(t,L0(e[0],at(e[0])));if(dn(n))return!1;if(!Ot(e[1],n.value))return!1}return!0}return!1},toString(){return Je(this.toJSON())},toJSON(){return{_id:"HashMap",values:Array.from(this).map(Ke)}},[ve](){return this.toJSON()},pipe(){return vt(this,arguments)}},N0=(t,e,n,r)=>{const i=Object.create(qU);return i._editable=t,i._edit=e,i._root=n,i._size=r,i};class qh{constructor(e,n){_(this,"map");_(this,"f");_(this,"v");this.map=e,this.f=n,this.v=OA(this.map._root,this.f,void 0)}next(){if(dn(this.v))return{done:!0,value:void 0};const e=this.v.value;return this.v=Qd(e.cont),{done:!1,value:e.value}}[Symbol.iterator](){return new qh(this.map,this.f)}}const Qd=t=>t?AA(t[0],t[1],t[2],t[3],t[4]):ft(),OA=(t,e,n=void 0)=>{switch(t._tag){case"LeafNode":return kn(t.value)?$t({value:e(t.key,t.value.value),cont:n}):Qd(n);case"CollisionNode":case"ArrayNode":case"IndexedNode":{const r=t.children;return AA(r.length,r,0,e,n)}default:return Qd(n)}},AA=(t,e,n,r,i)=>{for(;n<t;){const s=e[n++];if(s&&!li(s))return OA(s,r,[t,e,n,r,i])}return Qd(i)},VU=N0(!1,0,new Qo,0),Vh=()=>VU,HU=t=>{const e=IA(Vh());for(const n of t)Jc(e,n[0],n[1]);return ZU(e)},GU=t=>Et(t,Wy),JU=t=>t&&li(t._root),YU=L(2,(t,e)=>L0(t,e,at(e))),L0=L(3,(t,e,n)=>{let r=t._root,i=0;for(;;)switch(r._tag){case"LeafNode":return Ot(e,r.key)?r.value:ft();case"CollisionNode":{if(n===r.hash){const s=r.children;for(let a=0,c=s.length;a<c;++a){const l=s[a];if("key"in l&&Ot(e,l.key))return l.value}}return ft()}case"IndexedNode":{const s=iu(i,n),a=Fa(s);if(r.mask&a){r=r.children[EA(r.mask,a)],i+=Ds;break}return ft()}case"ArrayNode":{if(r=r.children[iu(i,n)],r){i+=Ds;break}return ft()}default:return ft()}}),XU=L(2,(t,e)=>kn(L0(t,e,at(e)))),Jc=L(3,(t,e,n)=>F0(t,e,()=>$t(n))),QU=L(3,(t,e,n)=>t._editable?(t._root=e,t._size=n,t):e===t._root?t:N0(t._editable,t._edit,e,n)),kA=t=>new qh(t,e=>e),Ky=t=>t._size,IA=t=>N0(!0,t._edit+1,t._root,t._size),ZU=t=>(t._editable=!1,t),F0=L(3,(t,e,n)=>t4(t,e,at(e),n)),t4=L(4,(t,e,n,r)=>{const i={value:t._size},s=t._root.modify(t._editable?t._edit:NaN,0,r,n,e,i);return J(t,QU(s,i.value))}),oE=L(2,(t,e)=>F0(t,e,ft)),e4=L(2,(t,e)=>Hh(t,Vh(),(n,r,i)=>Jc(n,i,e(r,i)))),n4=L(2,(t,e)=>Hh(t,void 0,(n,r,i)=>e(r,i))),Hh=L(3,(t,e,n)=>{const r=t._root;if(r._tag==="LeafNode")return kn(r.value)?n(e,r.value.value,r.key):e;if(r._tag==="EmptyNode")return e;const i=[r.children];let s;for(;s=i.pop();)for(let a=0,c=s.length;a<c;){const l=s[a++];l&&!li(l)&&(l._tag==="LeafNode"?kn(l.value)&&(e=n(e,l.value.value,l.key)):i.push(l.children))}return e}),PA="effect/HashSet",qy=Symbol.for(PA),r4={[qy]:qy,[Symbol.iterator](){return kA(this._keyMap)},[kt](){return xe(this,Bt(at(this._keyMap))(at(PA)))},[Tt](t){return i4(t)?Ky(this._keyMap)===Ky(t._keyMap)&&Ot(this._keyMap,t._keyMap):!1},toString(){return Je(this.toJSON())},toJSON(){return{_id:"HashSet",values:Array.from(this).map(Ke)}},[ve](){return this.toJSON()},pipe(){return vt(this,arguments)}},Gh=t=>{const e=Object.create(r4);return e._keyMap=t,e},i4=t=>Et(t,qy),o4=Gh(Vh()),Jh=()=>o4,s4=t=>{const e=B0(Jh());for(const n of t)Yc(e,n);return j0(e)},a4=(...t)=>{const e=B0(Jh());for(const n of t)Yc(e,n);return j0(e)},u4=L(2,(t,e)=>XU(t._keyMap,e)),c4=t=>Ky(t._keyMap),B0=t=>Gh(IA(t._keyMap)),j0=t=>(t._keyMap._editable=!1,t),RA=L(2,(t,e)=>{const n=B0(t);return e(n),j0(n)}),Yc=L(2,(t,e)=>t._keyMap._editable?(Jc(e,!0)(t._keyMap),t):Gh(Jc(e,!0)(t._keyMap))),$A=L(2,(t,e)=>t._keyMap._editable?(oE(e)(t._keyMap),t):Gh(oE(e)(t._keyMap))),l4=L(2,(t,e)=>RA(t,n=>{for(const r of e)$A(n,r)})),f4=L(2,(t,e)=>RA(Jh(),n=>{d4(t,r=>Yc(n,r));for(const r of e)Yc(n,r)})),d4=L(2,(t,e)=>n4(t._keyMap,(n,r)=>e(r))),h4=L(3,(t,e,n)=>Hh(t._keyMap,e,(r,i,s)=>n(r,s))),zs=Jh,p4=s4,D0=a4,g4=u4,MA=c4,Dc=Yc,NA=$A,sE=l4,Xc=f4,Zd=h4,aE=Symbol.for("effect/MutableRef"),m4={[aE]:aE,toString(){return Je(this.toJSON())},toJSON(){return{_id:"MutableRef",current:Ke(this.current)}},[ve](){return this.toJSON()},pipe(){return vt(this,arguments)}},LA=t=>{const e=Object.create(m4);return e.current=t,e},Yh=t=>t.current,FA=L(2,(t,e)=>(t.current=e,t)),z0="effect/FiberId",Qc=Symbol.for(z0),th="None",Vy="Runtime",y4="Composite",v4=Pe(`${z0}-${th}`);var HC;let _4=class{constructor(){_(this,HC,Qc);_(this,"_tag",th);_(this,"id",-1);_(this,"startTimeMillis",-1)}[(HC=Qc,kt)](){return v4}[Tt](e){return BA(e)&&e._tag===th}toString(){return Je(this.toJSON())}toJSON(){return{_id:"FiberId",_tag:this._tag}}[ve](){return this.toJSON()}};var GC;class b4{constructor(e,n){_(this,"id");_(this,"startTimeMillis");_(this,GC,Qc);_(this,"_tag",Vy);this.id=e,this.startTimeMillis=n}[(GC=Qc,kt)](){return xe(this,Pe(`${z0}-${this._tag}-${this.id}-${this.startTimeMillis}`))}[Tt](e){return BA(e)&&e._tag===Vy&&this.id===e.id&&this.startTimeMillis===e.startTimeMillis}toString(){return Je(this.toJSON())}toJSON(){return{_id:"FiberId",_tag:this._tag,id:this.id,startTimeMillis:this.startTimeMillis}}[ve](){return this.toJSON()}}const S4=new _4,BA=t=>Et(t,Qc),Hy=t=>{switch(t._tag){case th:return zs();case Vy:return D0(t.id);case y4:return J(Hy(t.left),Xc(Hy(t.right)))}},uE=jt(Symbol.for("effect/Fiber/Id/_fiberCounter"),()=>LA(0)),jA=t=>Array.from(Hy(t)).map(n=>`#${n}`).join(","),w4=()=>{const t=Yh(uE);return J(uE,FA(t+1)),new b4(t,Date.now())},su=S4,E4=jA,DA=w4,U0=Vh,x4=HU,C4=JU,zA=YU,UA=Jc,WA=kA,T4=F0,O4=e4,KA=Hh,Zc=Symbol.for("effect/List"),Gy=t=>Ne(t),A4=t=>v3(E0(t),Gy),k4=A4(Ot),I4={[Zc]:Zc,_tag:"Cons",toString(){return Je(this.toJSON())},toJSON(){return{_id:"List",_tag:"Cons",values:Gy(this).map(Ke)}},[ve](){return this.toJSON()},[Tt](t){return VA(t)&&this._tag===t._tag&&k4(this,t)},[kt](){return xe(this,wl(Gy(this)))},[Symbol.iterator](){let t=!1,e=this;return{next(){if(t)return this.return();if(e._tag==="Nil")return t=!0,this.return();const n=e.head;return e=e.tail,{done:t,value:n}},return(n){return t||(t=!0),{done:!0,value:n}}}},pipe(){return vt(this,arguments)}},eh=(t,e)=>{const n=Object.create(I4);return n.head=t,n.tail=e,n},P4=Pe("Nil"),R4={[Zc]:Zc,_tag:"Nil",toString(){return Je(this.toJSON())},toJSON(){return{_id:"List",_tag:"Nil"}},[ve](){return this.toJSON()},[kt](){return P4},[Tt](t){return VA(t)&&this._tag===t._tag},[Symbol.iterator](){return{next(){return{done:!0,value:void 0}}}},pipe(){return vt(this,arguments)}},qA=Object.create(R4),VA=t=>Et(t,Zc),mo=t=>t._tag==="Nil",$4=t=>t._tag==="Cons",M4=()=>qA,Us=(t,e)=>eh(t,e),au=M4,W0=t=>eh(t,qA),N4=L(2,(t,e)=>F4(e,t)),L4=L(2,(t,e)=>Us(e,t)),F4=L(2,(t,e)=>{if(mo(t))return e;if(mo(e))return t;{const n=eh(e.head,t);let r=n,i=e.tail;for(;!mo(i);){const s=eh(i.head,t);r.tail=s,r=s,i=i.tail}return n}}),B4=L(3,(t,e,n)=>{let r=e,i=t;for(;!mo(i);)r=n(r,i.head),i=i.tail;return r}),j4=t=>{let e=au(),n=t;for(;!mo(n);)e=L4(e,n.head),n=n.tail;return e},K0=function(){function t(e){e&&Object.assign(this,e)}return t.prototype=Cl,t}(),D4=t=>Object.assign(Object.create(Cl),t),z4=Symbol.for("effect/DifferContextPatch");function cE(t){return t}const Il={...K0.prototype,[z4]:{_Value:cE,_Patch:cE}},U4=Object.assign(Object.create(Il),{_tag:"Empty"}),W4=Object.create(U4),HA=()=>W4,K4=Object.assign(Object.create(Il),{_tag:"AndThen"}),q4=(t,e)=>{const n=Object.create(K4);return n.first=t,n.second=e,n},V4=Object.assign(Object.create(Il),{_tag:"AddService"}),H4=(t,e)=>{const n=Object.create(V4);return n.key=t,n.service=e,n},G4=Object.assign(Object.create(Il),{_tag:"RemoveService"}),J4=t=>{const e=Object.create(G4);return e.key=t,e},Y4=Object.assign(Object.create(Il),{_tag:"UpdateService"}),X4=(t,e)=>{const n=Object.create(Y4);return n.key=t,n.update=e,n},Q4=(t,e)=>{const n=new Map(t.unsafeMap);let r=HA();for(const[i,s]of e.unsafeMap.entries())if(n.has(i)){const a=n.get(i);n.delete(i),Ot(a,s)||(r=Sd(X4(i,()=>s))(r))}else n.delete(i),r=Sd(H4(i,s))(r);for(const[i]of n.entries())r=Sd(J4(i))(r);return r},Sd=L(2,(t,e)=>q4(t,e)),Z4=L(2,(t,e)=>{if(t._tag==="Empty")return e;let n=!1,r=br(t);const i=new Map(e.unsafeMap);for(;nu(r);){const a=ru(r),c=Ts(r);switch(a._tag){case"Empty":{r=c;break}case"AddService":{i.set(a.key,a.service),r=c;break}case"AndThen":{r=gi(gi(c,a.second),a.first);break}case"RemoveService":{i.delete(a.key),r=c;break}case"UpdateService":{i.set(a.key,a.update(i.get(a.key))),n=!0,r=c;break}}}if(!n)return tu(i);const s=new Map;for(const[a]of e.unsafeMap)i.has(a)&&(s.set(a,i.get(a)),i.delete(a));for(const[a,c]of i)s.set(a,c);return tu(s)}),tW=Symbol.for("effect/DifferHashSetPatch");function zm(t){return t}const Xh={...K0.prototype,[tW]:{_Value:zm,_Key:zm,_Patch:zm}},eW=Object.assign(Object.create(Xh),{_tag:"Empty"}),nW=Object.create(eW),GA=()=>nW,rW=Object.assign(Object.create(Xh),{_tag:"AndThen"}),iW=(t,e)=>{const n=Object.create(rW);return n.first=t,n.second=e,n},oW=Object.assign(Object.create(Xh),{_tag:"Add"}),sW=t=>{const e=Object.create(oW);return e.value=t,e},aW=Object.assign(Object.create(Xh),{_tag:"Remove"}),uW=t=>{const e=Object.create(aW);return e.value=t,e},cW=(t,e)=>{const[n,r]=Zd([t,GA()],([i,s],a)=>g4(a)(i)?[NA(a)(i),s]:[i,Jy(sW(a))(s)])(e);return Zd(r,(i,s)=>Jy(uW(s))(i))(n)},Jy=L(2,(t,e)=>iW(t,e)),lW=L(2,(t,e)=>{if(t._tag==="Empty")return e;let n=e,r=br(t);for(;nu(r);){const i=ru(r),s=Ts(r);switch(i._tag){case"Empty":{r=s;break}case"AndThen":{r=gi(i.first)(gi(i.second)(s));break}case"Add":{n=Dc(i.value)(n),r=s;break}case"Remove":n=NA(i.value)(n),r=s}}return n}),fW=Symbol.for("effect/DifferReadonlyArrayPatch");function lE(t){return t}const Pl={...K0.prototype,[fW]:{_Value:lE,_Patch:lE}},dW=Object.assign(Object.create(Pl),{_tag:"Empty"}),hW=Object.create(dW),JA=()=>hW,pW=Object.assign(Object.create(Pl),{_tag:"AndThen"}),gW=(t,e)=>{const n=Object.create(pW);return n.first=t,n.second=e,n},mW=Object.assign(Object.create(Pl),{_tag:"Append"}),yW=t=>{const e=Object.create(mW);return e.values=t,e},vW=Object.assign(Object.create(Pl),{_tag:"Slice"}),_W=(t,e)=>{const n=Object.create(vW);return n.from=t,n.until=e,n},bW=Object.assign(Object.create(Pl),{_tag:"Update"}),SW=(t,e)=>{const n=Object.create(bW);return n.index=t,n.patch=e,n},wW=t=>{let e=0,n=JA();for(;e<t.oldValue.length&&e<t.newValue.length;){const r=t.oldValue[e],i=t.newValue[e],s=t.differ.diff(r,i);Ot(s,t.differ.empty)||(n=wd(n,SW(e,s))),e=e+1}return e<t.oldValue.length&&(n=wd(n,_W(0,e))),e<t.newValue.length&&(n=wd(n,yW(RD(e)(t.newValue)))),n},wd=L(2,(t,e)=>gW(t,e)),EW=L(3,(t,e,n)=>{if(t._tag==="Empty")return e;let r=e.slice(),i=si(t);for(;_d(i);){const s=tr(i),a=js(i);switch(s._tag){case"Empty":{i=a;break}case"AndThen":{a.unshift(s.first,s.second),i=a;break}case"Append":{for(const c of s.values)r.push(c);i=a;break}case"Slice":{r=r.slice(s.from,s.until),i=a;break}case"Update":{r[s.index]=n.patch(s.patch,r[s.index]),i=a;break}}}return r}),xW=Symbol.for("effect/Differ"),CW={[xW]:{_P:Me,_V:Me},pipe(){return vt(this,arguments)}},Iu=t=>{const e=Object.create(CW);return e.empty=t.empty,e.diff=t.diff,e.combine=t.combine,e.patch=t.patch,e},TW=()=>Iu({empty:HA(),combine:(t,e)=>Sd(e)(t),diff:(t,e)=>Q4(t,e),patch:(t,e)=>Z4(e)(t)}),OW=()=>Iu({empty:GA(),combine:(t,e)=>Jy(e)(t),diff:(t,e)=>cW(t,e),patch:(t,e)=>lW(e)(t)}),AW=t=>Iu({empty:JA(),combine:(e,n)=>wd(e,n),diff:(e,n)=>wW({oldValue:e,newValue:n,differ:t}),patch:(e,n)=>EW(e,n,t)}),YA=()=>kW((t,e)=>e),kW=t=>Iu({empty:Me,combine:(e,n)=>e===Me?n:n===Me?e:r=>n(e(r)),diff:(e,n)=>Ot(e,n)?Me:$h(n),patch:(e,n)=>t(n,e(n))}),tl=255,XA=8,Yy=t=>t&tl,Xy=t=>t>>XA&tl,Rl=(t,e)=>(t&tl)+((e&t&tl)<<XA),IW=Rl(0,0),PW=t=>Rl(t,t),RW=t=>Rl(t,0),$W=L(2,(t,e)=>Rl(Yy(t)&~e,Xy(t))),MW=L(2,(t,e)=>t|e),NW=t=>~t>>>0&tl,LW=0,Pu=1,FW=2,QA=4,Qy=16,ZA=32,BW=t=>Qh(t,ZA),jW=L(2,(t,e)=>t|e),Wo=t=>tk(t)&&!zW(t),tk=t=>Qh(t,Pu),Qh=L(2,(t,e)=>(t&e)!==0),ek=(...t)=>t.reduce((e,n)=>e|n,0),DW=ek(LW),fE=t=>Qh(t,QA),zW=t=>Qh(t,Qy),Ed=L(2,(t,e)=>Rl(t^e,e)),xd=L(2,(t,e)=>t&(NW(Yy(e))|Xy(e))|Yy(e)&Xy(e)),dE=Iu({empty:IW,diff:(t,e)=>Ed(t,e),combine:(t,e)=>MW(e)(t),patch:(t,e)=>xd(e,t)}),UW=PW,nk=RW,hE=$W,rk=(t,e)=>({_tag:"Par",left:t,right:e}),Gf=(t,e)=>({_tag:"Seq",left:t,right:e}),WW=t=>{let e=W0(t),n=au();for(;;){const[r,i]=B4(e,[ik(),au()],([s,a],c)=>{const[l,d]=KW(c);return[JW(s,l),N4(a,d)]});if(n=qW(n,r),mo(i))return j4(n);e=i}throw new Error("BUG: BlockedRequests.flatten - please report an issue at https://github.com/Effect-TS/effect/issues")},KW=t=>{let e=t,n=ik(),r=au(),i=au();for(;;)switch(e._tag){case"Empty":{if(mo(r))return[n,i];e=r.head,r=r.tail;break}case"Par":{r=Us(e.right,r),e=e.left;break}case"Seq":{const s=e.left,a=e.right;switch(s._tag){case"Empty":{e=a;break}case"Par":{const c=s.left,l=s.right;e=rk(Gf(c,a),Gf(l,a));break}case"Seq":{const c=s.left,l=s.right;e=Gf(c,Gf(l,a));break}case"Single":{e=s,i=Us(a,i);break}}break}case"Single":{if(n=GW(n,e),mo(r))return[n,i];e=r.head,r=r.tail;break}}throw new Error("BUG: BlockedRequests.step - please report an issue at https://github.com/Effect-TS/effect/issues")},qW=(t,e)=>{if(mo(t))return W0(Um(e));if(YW(e))return t;const n=n6(t.head),r=XW(e);return n.length===1&&r.length===1&&Ot(n[0],r[0])?Us(e6(t.head,Um(e)),t.tail):Us(Um(e),t)},VW=Symbol.for("effect/RequestBlock/RequestBlockParallel"),HW={_R:t=>t};var JC;JC=VW;class q0{constructor(e){_(this,"map");_(this,JC,HW);this.map=e}}const ik=()=>new q0(U0()),GW=(t,e)=>new q0(T4(t.map,e.dataSource,n=>dD(yO(n,pU(e.blockedRequest)),()=>br(e.blockedRequest)))),JW=(t,e)=>new q0(KA(t.map,e.map,(n,r,i)=>UA(n,i,In(zA(n,i),{onNone:()=>r,onSome:s=>ci(r,s)})))),YW=t=>C4(t.map),XW=t=>Array.from(WA(t.map)),Um=t=>t6(O4(t.map,e=>br(e))),QW=Symbol.for("effect/RequestBlock/RequestBlockSequential"),ZW={_R:t=>t};var YC;YC=QW;class ok{constructor(e){_(this,"map");_(this,YC,ZW);this.map=e}}const t6=t=>new ok(t),e6=(t,e)=>new ok(KA(e.map,t.map,(n,r,i)=>UA(n,i,In(zA(n,i),{onNone:()=>yo(),onSome:s=>ci(s,r)})))),n6=t=>Array.from(WA(t.map)),r6=t=>Array.from(t.map),$l="Die",Ws="Empty",ta="Fail",Ru="Interrupt",uu="Parallel",cu="Sequential",sk="effect/Cause",ak=Symbol.for(sk),i6={_E:t=>t},$u={[ak]:i6,[kt](){return J(at(sk),Bt(at(v6(this))),xe(this))},[Tt](t){return o6(t)&&y6(this,t)},pipe(){return vt(this,arguments)},toJSON(){switch(this._tag){case"Empty":return{_id:"Cause",_tag:this._tag};case"Die":return{_id:"Cause",_tag:this._tag,defect:Ke(this.defect)};case"Interrupt":return{_id:"Cause",_tag:this._tag,fiberId:this.fiberId.toJSON()};case"Fail":return{_id:"Cause",_tag:this._tag,failure:Ke(this.error)};case"Sequential":case"Parallel":return{_id:"Cause",_tag:this._tag,left:Ke(this.left),right:Ke(this.right)}}},toString(){return Mu(this)},[ve](){return this.toJSON()}},el=(()=>{const t=Object.create($u);return t._tag=Ws,t})(),nh=t=>{const e=Object.create($u);return e._tag=ta,e.error=t,e},Ui=t=>{const e=Object.create($u);return e._tag=$l,e.defect=t,e},qo=t=>{const e=Object.create($u);return e._tag=Ru,e.fiberId=t,e},Zh=(t,e)=>{const n=Object.create($u);return n._tag=uu,n.left=t,n.right=e,n},qr=(t,e)=>{const n=Object.create($u);return n._tag=cu,n.left=t,n.right=e,n},o6=t=>Et(t,ak),s6=t=>t._tag===Ws,a6=t=>t._tag===ta,u6=t=>t._tag===Ws?!0:lu(t,!0,(e,n)=>{switch(n._tag){case Ws:return $t(e);case $l:case ta:case Ru:return $t(!1);default:return ft()}}),c6=t=>kn(g6(t)),V0=t=>H0(void 0,b6)(t),l6=t=>eu(lu(t,yo(),(e,n)=>n._tag===ta?$t(J(e,gi(n.error))):ft())),f6=t=>eu(lu(t,yo(),(e,n)=>n._tag===$l?$t(J(e,gi(n.defect))):ft())),d6=t=>lu(t,zs(),(e,n)=>n._tag===Ru?$t(J(e,Dc(n.fiberId))):ft()),h6=t=>uk(t,e=>e._tag===ta?$t(e.error):ft()),p6=t=>{const e=h6(t);switch(e._tag){case"None":return Lt(t);case"Some":return Ct(e.value)}},g6=t=>uk(t,e=>e._tag===Ru?$t(e.fiberId):ft()),pE=t=>ck(t,{onEmpty:el,onFail:()=>el,onDie:Ui,onInterrupt:qo,onSequential:qr,onParallel:Zh}),m6=t=>ck(t,{onEmpty:el,onFail:Ui,onDie:Ui,onInterrupt:qo,onSequential:qr,onParallel:Zh}),y6=(t,e)=>{let n=br(t),r=br(e);for(;nu(n)&&nu(r);){const[i,s]=J(ru(n),lu([zs(),yo()],([l,d],h)=>{const[g,m]=Zy(h);return $t([J(l,Xc(g)),J(d,ci(m))])})),[a,c]=J(ru(r),lu([zs(),yo()],([l,d],h)=>{const[g,m]=Zy(h);return $t([J(l,Xc(g)),J(d,ci(m))])}));if(!Ot(i,a))return!1;n=s,r=c}return!0},v6=t=>_6(br(t),yo()),_6=(t,e)=>{for(;;){const[n,r]=J(t,EO([zs(),yo()],([s,a],c)=>{const[l,d]=Zy(c);return[J(s,Xc(l)),J(a,ci(d))]})),i=MA(n)>0?J(e,gi(n)):e;if(gU(r))return eu(i);t=r,e=i}throw new Error(Lh("Cause.flattenCauseLoop"))},uk=L(2,(t,e)=>{const n=[t];for(;n.length>0;){const r=n.pop(),i=e(r);switch(i._tag){case"None":{switch(r._tag){case cu:case uu:{n.push(r.right),n.push(r.left);break}}break}case"Some":return i}}return ft()}),Zy=t=>{let e=t;const n=[];let r=zs(),i=yo();for(;e!==void 0;)switch(e._tag){case Ws:{if(n.length===0)return[r,i];e=n.pop();break}case ta:{if(r=Dc(r,jm(e._tag,e.error)),n.length===0)return[r,i];e=n.pop();break}case $l:{if(r=Dc(r,jm(e._tag,e.defect)),n.length===0)return[r,i];e=n.pop();break}case Ru:{if(r=Dc(r,jm(e._tag,e.fiberId)),n.length===0)return[r,i];e=n.pop();break}case cu:{switch(e.left._tag){case Ws:{e=e.right;break}case cu:{e=qr(e.left.left,qr(e.left.right,e.right));break}case uu:{e=Zh(qr(e.left.left,e.right),qr(e.left.right,e.right));break}default:{i=gi(i,e.right),e=e.left;break}}break}case uu:{n.push(e.right),e=e.left;break}}throw new Error(Lh("Cause.evaluateCauseLoop"))},b6={emptyCase:Ww,failCase:Py,dieCase:Py,interruptCase:Ww,sequentialCase:(t,e,n)=>e&&n,parallelCase:(t,e,n)=>e&&n},gE="SequentialCase",mE="ParallelCase",ck=L(2,(t,{onDie:e,onEmpty:n,onFail:r,onInterrupt:i,onParallel:s,onSequential:a})=>H0(t,void 0,{emptyCase:()=>n,failCase:(c,l)=>r(l),dieCase:(c,l)=>e(l),interruptCase:(c,l)=>i(l),sequentialCase:(c,l,d)=>a(l,d),parallelCase:(c,l,d)=>s(l,d)})),lu=L(3,(t,e,n)=>{let r=e,i=t;const s=[];for(;i!==void 0;){const a=n(r,i);switch(r=kn(a)?a.value:r,i._tag){case cu:{s.push(i.right),i=i.left;break}case uu:{s.push(i.right),i=i.left;break}default:{i=void 0;break}}i===void 0&&s.length>0&&(i=s.pop())}return r}),H0=L(3,(t,e,n)=>{const r=[t],i=[];for(;r.length>0;){const a=r.pop();switch(a._tag){case Ws:{i.push(Lt(n.emptyCase(e)));break}case ta:{i.push(Lt(n.failCase(e,a.error)));break}case $l:{i.push(Lt(n.dieCase(e,a.defect)));break}case Ru:{i.push(Lt(n.interruptCase(e,a.fiberId)));break}case cu:{r.push(a.right),r.push(a.left),i.push(Ct({_tag:gE}));break}case uu:{r.push(a.right),r.push(a.left),i.push(Ct({_tag:mE}));break}}}const s=[];for(;i.length>0;){const a=i.pop();switch(a._tag){case"Left":{switch(a.left._tag){case gE:{const c=s.pop(),l=s.pop(),d=n.sequentialCase(e,c,l);s.push(d);break}case mE:{const c=s.pop(),l=s.pop(),d=n.parallelCase(e,c,l);s.push(d);break}}break}case"Right":{s.push(a.right);break}}}if(s.length===0)throw new Error("BUG: Cause.reduceWithContext - please report an issue at https://github.com/Effect-TS/effect/issues");return s.pop()}),Mu=(t,e)=>V0(t)?"All fibers interrupted without errors.":fk(t).map(function(n){return(e==null?void 0:e.renderErrorCause)!==!0||n.cause===void 0?n.stack:`${n.stack} {
${lk(n.cause,"  ")}
}`}).join(`
`),lk=(t,e)=>{const n=t.stack.split(`
`);let r=`${e}[cause]: ${n[0]}`;for(let i=1,s=n.length;i<s;i++)r+=`
${e}${n[i]}`;return t.cause&&(r+=` {
${lk(t.cause,`${e}  `)}
${e}}`),r};class rh extends globalThis.Error{constructor(n){const r=typeof n=="object"&&n!==null,i=Error.stackTraceLimit;Error.stackTraceLimit=1;super(S6(n),r&&"cause"in n&&typeof n.cause<"u"?{cause:new rh(n.cause)}:void 0);_(this,"span");this.message===""&&(this.message="An error has occurred"),Error.stackTraceLimit=i,this.name=n instanceof Error?n.name:"Error",r&&(fu in n&&(this.span=n[fu]),Object.keys(n).forEach(s=>{s in this||(this[s]=n[s])})),this.stack=x6(`${this.name}: ${this.message}`,n instanceof Error&&n.stack?n.stack:"",this.span)}}const S6=t=>{if(typeof t=="string")return t;if(typeof t=="object"&&t!==null&&t instanceof Error)return t.message;try{if(Et(t,"toString")&&Ou(t.toString)&&t.toString!==Object.prototype.toString&&t.toString!==globalThis.Array.prototype.toString)return t.toString()}catch{}return tO(t)},w6=/\((.*)\)/g,E6=jt("effect/Tracer/spanToTrace",()=>new WeakMap),x6=(t,e,n)=>{const r=[t],i=e.startsWith(t)?e.slice(t.length).split(`
`):e.split(`
`);for(let s=1;s<i.length&&!i[s].includes("Generator.next");s++){if(i[s].includes("effect_internal_function")){r.pop();break}r.push(i[s].replace(/at .*effect_instruction_i.*\((.*)\)/,"at $1").replace(/EffectPrimitive\.\w+/,"<anonymous>"))}if(n){let s=n,a=0;for(;s&&s._tag==="Span"&&a<10;){const c=E6.get(s);if(typeof c=="function"){const l=c();if(typeof l=="string"){const d=l.matchAll(w6);let h=!1;for(const[,g]of d)h=!0,r.push(`    at ${s.name} (${g})`);h||r.push(`    at ${s.name} (${l.replace(/^at /,"")})`)}else r.push(`    at ${s.name}`)}else r.push(`    at ${s.name}`);s=ai(s.parent),a++}}return r.join(`
`)},fu=Symbol.for("effect/SpanAnnotation"),fk=t=>H0(t,void 0,{emptyCase:()=>[],dieCase:(e,n)=>[new rh(n)],failCase:(e,n)=>[new rh(n)],interruptCase:()=>[],parallelCase:(e,n,r)=>[...n,...r],sequentialCase:(e,n,r)=>[...n,...r]}),tp="Pending",dk="Done",C6="effect/Deferred",T6=Symbol.for(C6),O6={_E:t=>t,_A:t=>t},A6=t=>({_tag:tp,joiners:t}),k6=t=>({_tag:dk,effect:t});class Ml{constructor(e){_(this,"self");_(this,"called",!1);this.self=e}next(e){return this.called?{value:e,done:!0}:(this.called=!0,{value:this.self,done:!1})}return(e){return{value:e,done:!0}}throw(e){throw e}[Symbol.iterator](){return new Ml(this.self)}}const hk=(t,e)=>{const n=new pn("Blocked");return n.effect_instruction_i0=t,n.effect_instruction_i1=e,n},I6=t=>{const e=new pn("RunBlocked");return e.effect_instruction_i0=t,e},du=Symbol.for("effect/Effect");class P6{constructor(e,n){_(this,"patch");_(this,"op");_(this,"_op",v0);this.patch=e,this.op=n}}var XC;class pn{constructor(e){_(this,"_op");_(this,"effect_instruction_i0");_(this,"effect_instruction_i1");_(this,"effect_instruction_i2");_(this,"trace");_(this,XC,Ya);this._op=e}[(XC=du,Tt)](e){return this===e}[kt](){return xe(this,p0(this))}pipe(){return vt(this,arguments)}toJSON(){return{_id:"Effect",_op:this._op,effect_instruction_i0:Ke(this.effect_instruction_i0),effect_instruction_i1:Ke(this.effect_instruction_i1),effect_instruction_i2:Ke(this.effect_instruction_i2)}}toString(){return Je(this.toJSON())}[ve](){return this.toJSON()}[Symbol.iterator](){return new Ml(new Sl(this))}}var QC;class pk{constructor(e){_(this,"_op");_(this,"effect_instruction_i0");_(this,"effect_instruction_i1");_(this,"effect_instruction_i2");_(this,"trace");_(this,QC,Ya);this._op=e,this._tag=e}[(QC=du,Tt)](e){return n_(e)&&e._op==="Failure"&&Ot(this.effect_instruction_i0,e.effect_instruction_i0)}[kt](){return J(Pe(this._tag),Bt(at(this.effect_instruction_i0)),xe(this))}get cause(){return this.effect_instruction_i0}pipe(){return vt(this,arguments)}toJSON(){return{_id:"Exit",_tag:this._op,cause:this.cause.toJSON()}}toString(){return Je(this.toJSON())}[ve](){return this.toJSON()}[Symbol.iterator](){return new Ml(new Sl(this))}}var ZC;class gk{constructor(e){_(this,"_op");_(this,"effect_instruction_i0");_(this,"effect_instruction_i1");_(this,"effect_instruction_i2");_(this,"trace");_(this,ZC,Ya);this._op=e,this._tag=e}[(ZC=du,Tt)](e){return n_(e)&&e._op==="Success"&&Ot(this.effect_instruction_i0,e.effect_instruction_i0)}[kt](){return J(Pe(this._tag),Bt(at(this.effect_instruction_i0)),xe(this))}get value(){return this.effect_instruction_i0}pipe(){return vt(this,arguments)}toJSON(){return{_id:"Exit",_tag:this._op,value:Ke(this.value)}}toString(){return Je(this.toJSON())}[ve](){return this.toJSON()}[Symbol.iterator](){return new Ml(new Sl(this))}}const ep=t=>Et(t,du),Sr=t=>{const e=new pn(rO);return e.effect_instruction_i0=t,e},R6=L(3,(t,e,n)=>ip(r=>bt(t,i=>bt(yk(Ue(()=>r(e(i)))),s=>Ue(()=>n(i,s)).pipe(hu({onFailure:a=>{switch(s._tag){case di:return mi(qr(s.effect_instruction_i0,a));case hi:return mi(a)}},onSuccess:()=>s})))))),Nl=L(2,(t,e)=>bt(t,()=>ye(e))),Ll=t=>Nl(t,void 0),mk=function(){const t=new pn(Bh);switch(arguments.length){case 2:{t.effect_instruction_i0=arguments[0],t.commit=arguments[1];break}case 3:{t.effect_instruction_i0=arguments[0],t.effect_instruction_i1=arguments[1],t.commit=arguments[2];break}case 4:{t.effect_instruction_i0=arguments[0],t.effect_instruction_i1=arguments[1],t.effect_instruction_i2=arguments[2],t.commit=arguments[3];break}default:throw new Error(Lh("you're not supposed to end up here"))}return t},ih=(t,e=su)=>{const n=new pn(Bc);let r;return n.effect_instruction_i0=i=>{r=t(i)},n.effect_instruction_i1=e,Ek(n,i=>ep(r)?r:yi)},$6=(t,e=su)=>Ue(()=>ih(t,e)),nl=(t,e=su)=>mk(t,function(){let n,r;function i(l){n?n(l):r===void 0&&(r=l)}const s=new pn(Bc);s.effect_instruction_i0=l=>{n=l,r&&l(r)},s.effect_instruction_i1=e;let a,c;return this.effect_instruction_i0.length!==1?(c=new AbortController,a=Bn(()=>this.effect_instruction_i0(i,c.signal))):a=Bn(()=>this.effect_instruction_i0(i)),a||c?Ek(s,l=>(c&&c.abort(),a??yi)):s}),tv=L(2,(t,e)=>J0(t,{onFailure:e,onSuccess:ye})),yE=Symbol.for("effect/OriginalAnnotation"),G0=(t,e)=>kn(e)?new Proxy(t,{has(n,r){return r===fu||r===yE||r in n},get(n,r){return r===fu?e.value:r===yE?t:n[r]}}):t,vE=t=>os(t)&&!(fu in t)?Sr(e=>mi(Ui(G0(t,r_(e))))):mi(Ui(t)),_E=t=>M6(()=>Ui(new lK(t))),oh=t=>J0(t,{onFailure:e=>ye(Ct(e)),onSuccess:e=>ye(Lt(e))}),yk=t=>F6(t,{onFailure:le,onSuccess:Re}),Xn=t=>os(t)&&!(fu in t)?Sr(e=>mi(nh(G0(t,r_(e))))):mi(nh(t)),vk=t=>bt(St(t),Xn),mi=t=>{const e=new pk(di);return e.effect_instruction_i0=t,e},M6=t=>bt(St(t),mi),N6=Sr(t=>ye(t.id())),_k=t=>Sr(e=>t(e.id())),bt=L(2,(t,e)=>{const n=new pn(qd);return n.effect_instruction_i0=t,n.effect_instruction_i1=e,n}),L6=t=>{const e=new pn("OnStep");return e.effect_instruction_i0=t,e},bk=t=>bt(t,Me),F6=L(2,(t,e)=>hu(t,{onFailure:n=>ye(e.onFailure(n)),onSuccess:n=>ye(e.onSuccess(n))})),hu=L(2,(t,e)=>{const n=new pn(Vd);return n.effect_instruction_i0=t,n.effect_instruction_i1=e.onFailure,n.effect_instruction_i2=e.onSuccess,n}),J0=L(2,(t,e)=>hu(t,{onFailure:n=>{if(f6(n).length>0)return mi(m6(n));const i=l6(n);return i.length>0?e.onFailure(vA(i)):mi(n)},onSuccess:e.onSuccess})),Go=L(2,(t,e)=>Ue(()=>{const n=Ne(t),r=jh(n.length);let i=0;return Nl(X0({while:()=>i<n.length,body:()=>e(n[i],i),step:s=>{r[i++]=s}}),r)})),np=L(2,(t,e)=>Ue(()=>{const n=Ne(t);let r=0;return X0({while:()=>r<n.length,body:()=>e(n[r],r),step:()=>{r++}})})),Sk=t=>{const e=new pn(El);return e.effect_instruction_i0=UW(Pu),e.effect_instruction_i1=()=>t,e},Zn=L(2,(t,e)=>bt(t,n=>St(()=>e(n)))),wk=L(2,(t,e)=>J0(t,{onFailure:n=>vk(()=>e.onFailure(n)),onSuccess:n=>St(()=>e.onSuccess(n))})),rp=L(2,(t,e)=>hu(t,{onFailure:n=>{const r=p6(n);switch(r._tag){case"Left":return vk(()=>e(r.left));case"Right":return mi(r.right)}},onSuccess:ye})),Y0=L(2,(t,e)=>ip(n=>hu(n(t),{onFailure:r=>{const i=le(r);return hu(e(i),{onFailure:s=>le(qr(r,s)),onSuccess:()=>i})},onSuccess:r=>{const i=Re(r);return op(e(i),i)}}))),Ek=L(2,(t,e)=>Y0(t,Mk({onFailure:n=>V0(n)?Ll(e(d6(n))):yi,onSuccess:()=>yi}))),ye=t=>{const e=new gk(hi);return e.effect_instruction_i0=t,e},Ue=t=>{const e=new pn(Bh);return e.commit=t,e},St=t=>{const e=new pn(nO);return e.effect_instruction_i0=t,e},B6=L(t=>t.length===3||t.length===2&&!(os(t[1])&&"onlyEffect"in t[1]),(t,e)=>bt(t,n=>{const r=typeof e=="function"?e(n):e;return ep(r)?Nl(r,n):T3(r)?ih(i=>{r.then(s=>i(ye(n)),s=>i(Xn(new hK(s,"An unknown error occurred in Effect.tap"))))}):ye(n)})),j6=t=>Sr(e=>{const n=e.getFiberRef(nv),r=J(n,Fe(()=>e.scope()));return t(sp(nv,$t(r)))}),xk=t=>{const e=new pn(El);return e.effect_instruction_i0=nk(Pu),e.effect_instruction_i1=()=>t,e},ip=t=>mk(t,function(){const e=new pn(El);return e.effect_instruction_i0=nk(Pu),e.effect_instruction_i1=n=>tk(n)?Bn(()=>this.effect_instruction_i0(Sk)):Bn(()=>this.effect_instruction_i0(xk)),e}),yi=ye(void 0),D6=t=>{const e=new pn(El);return e.effect_instruction_i0=t,e.effect_instruction_i1=void 0,e},X0=t=>{const e=new pn(Hd);return e.effect_instruction_i0=t.while,e.effect_instruction_i1=t.body,e.effect_instruction_i2=t.step,e},Q0=t=>{const e=new pn(vd);return typeof(t==null?void 0:t.priority)<"u"?iK(e,t.priority):e},Ck=L(2,(t,e)=>bt(t,n=>Zn(e,r=>[n,r]))),Tk=L(2,(t,e)=>bt(t,n=>Nl(e,n))),op=L(2,(t,e)=>bt(t,()=>e)),z6=t=>bt(N6,e=>J(t,Ok(e))),Ok=L(2,(t,e)=>bt(t.interruptAsFork(e),()=>t.await)),U6={_tag:"All",syslog:0,label:"ALL",ordinal:Number.MIN_SAFE_INTEGER,pipe(){return vt(this,arguments)}},W6={_tag:"Fatal",syslog:2,label:"FATAL",ordinal:5e4,pipe(){return vt(this,arguments)}},K6={_tag:"Error",syslog:3,label:"ERROR",ordinal:4e4,pipe(){return vt(this,arguments)}},q6={_tag:"Warning",syslog:4,label:"WARN",ordinal:3e4,pipe(){return vt(this,arguments)}},Ak={_tag:"Info",syslog:6,label:"INFO",ordinal:2e4,pipe(){return vt(this,arguments)}},kk={_tag:"Debug",syslog:7,label:"DEBUG",ordinal:1e4,pipe(){return vt(this,arguments)}},V6={_tag:"Trace",syslog:7,label:"TRACE",ordinal:0,pipe(){return vt(this,arguments)}},H6={_tag:"None",syslog:7,label:"OFF",ordinal:Number.MAX_SAFE_INTEGER,pipe(){return vt(this,arguments)}},G6="effect/FiberRef",J6=Symbol.for(G6),Y6={_A:t=>t},Z0=t=>Sr(e=>Re(e.getFiberRef(t))),t_=L(2,(t,e)=>bt(Z0(t),e)),bE=L(2,(t,e)=>X6(t,()=>[void 0,e])),X6=L(2,(t,e)=>Sr(n=>{const[r,i]=e(n.getFiberRef(t));return n.setFiberRef(t,i),ye(r)})),sp=L(3,(t,e,n)=>R6(Tk(Z0(e),bE(e,n)),()=>t,r=>bE(e,r))),Cr=(t,e)=>Nu(t,{differ:YA(),fork:(e==null?void 0:e.fork)??Me,join:e==null?void 0:e.join}),Q6=t=>{const e=OW();return Nu(t,{differ:e,fork:e.empty})},Z6=t=>{const e=AW(YA());return Nu(t,{differ:e,fork:e.empty})},Ik=t=>{const e=TW();return Nu(t,{differ:e,fork:e.empty})},Nu=(t,e)=>({...Tl,[J6]:Y6,initial:t,commit(){return Z0(this)},diff:(r,i)=>e.differ.diff(r,i),combine:(r,i)=>e.differ.combine(r,i),patch:r=>i=>e.differ.patch(r,i),fork:e.fork,join:e.join??((r,i)=>i)}),tK=t=>Nu(t,{differ:dE,fork:dE.empty}),Fl=jt(Symbol.for("effect/FiberRef/currentContext"),()=>Ik(P0())),ap=jt(Symbol.for("effect/FiberRef/currentSchedulingPriority"),()=>Cr(0)),Pk=jt(Symbol.for("effect/FiberRef/currentMaxOpsBeforeYield"),()=>Cr(2048)),eK=jt(Symbol.for("effect/FiberRef/currentLogAnnotation"),()=>Cr(U0())),nK=jt(Symbol.for("effect/FiberRef/currentLogLevel"),()=>Cr(Ak)),rK=jt(Symbol.for("effect/FiberRef/currentLogSpan"),()=>Cr(au())),iK=L(2,(t,e)=>sp(t,ap,e)),oK=jt(Symbol.for("effect/FiberRef/currentConcurrency"),()=>Cr("unbounded")),sK=jt(Symbol.for("effect/FiberRef/currentRequestBatching"),()=>Cr(!0)),aK=jt(Symbol.for("effect/FiberRef/currentUnhandledErrorLogLevel"),()=>Cr($t(kk))),ev=jt(Symbol.for("effect/FiberRef/currentMetricLabels"),()=>Z6(Xa())),nv=jt(Symbol.for("effect/FiberRef/currentForkScopeOverride"),()=>Cr(ft(),{fork:()=>ft(),join:(t,e)=>t})),Jf=jt(Symbol.for("effect/FiberRef/currentInterruptedCause"),()=>Cr(el,{fork:()=>el,join:(t,e)=>t})),uK=(t,e)=>t.addFinalizer(()=>Ll(e)),cK=(t,e)=>t.close(e),up=(t,e)=>t.fork(e),e_=function(){class t extends globalThis.Error{commit(){return Xn(this)}toJSON(){const n={...this};return this.message&&(n.message=this.message),this.cause&&(n.cause=this.cause),n}[ve](){return this.toString!==globalThis.Error.prototype.toString?this.stack?`${this.toString()}
${this.stack.split(`
`).slice(1).join(`
`)}`:this.toString():"Bun"in globalThis?Mu(nh(this),{renderErrorCause:!0}):this}}return Object.assign(t.prototype,G3),t}(),Rk=(t,e)=>{class n extends e_{constructor(){super(...arguments);_(this,"_tag",e)}}return Object.assign(n.prototype,t),n.prototype.name=e,n},SE=Symbol.for("effect/Cause/errors/RuntimeException"),lK=Rk({[SE]:SE},"RuntimeException"),fK=Symbol.for("effect/Cause/errors/InterruptedException"),dK=t=>Et(t,fK),wE=Symbol.for("effect/Cause/errors/NoSuchElement"),$k=Rk({[wE]:wE},"NoSuchElementException"),EE=Symbol.for("effect/Cause/errors/UnknownException"),hK=function(){class t extends e_{constructor(r,i){super(i??"An unknown error occurred",{cause:r});_(this,"_tag","UnknownException");_(this,"error");this.error=r}}return Object.assign(t.prototype,{[EE]:EE,name:"UnknownException"}),t}(),n_=t=>ep(t)&&"_tag"in t&&(t._tag==="Success"||t._tag==="Failure"),pK=t=>t._tag==="Success",xE=(t,e)=>vK(t,e!=null&&e.parallel?Zh:qr),gK=t=>le(Ui(t)),CE=t=>le(nh(t)),le=t=>{const e=new pk(di);return e.effect_instruction_i0=t,e},mK=t=>le(qo(t)),Wm=L(2,(t,e)=>{switch(t._tag){case di:return le(t.effect_instruction_i0);case hi:return Re(e(t.effect_instruction_i0))}}),Mk=L(2,(t,{onFailure:e,onSuccess:n})=>{switch(t._tag){case di:return e(t.effect_instruction_i0);case hi:return n(t.effect_instruction_i0)}}),Re=t=>{const e=new gk(hi);return e.effect_instruction_i0=t,e},Os=Re(void 0),yK=L(3,(t,e,{onFailure:n,onSuccess:r})=>{switch(t._tag){case di:switch(e._tag){case hi:return le(t.effect_instruction_i0);case di:return le(n(t.effect_instruction_i0,e.effect_instruction_i0))}case hi:switch(e._tag){case hi:return Re(r(t.effect_instruction_i0,e.effect_instruction_i0));case di:return le(e.effect_instruction_i0)}}}),vK=(t,e)=>{const n=yA(t);return nu(n)?J(Ts(n),EO(J(ru(n),Wm(br)),(r,i)=>J(r,yK(i,{onSuccess:(s,a)=>J(s,gi(a)),onFailure:e}))),Wm(eu),Wm(r=>$s(r)),$t):ft()},_K=t=>({...Tl,[T6]:O6,state:LA(A6([])),commit(){return Nk(this)},blockingOn:t}),Nk=t=>$6(e=>{const n=Yh(t.state);switch(n._tag){case dk:return e(n.effect);case tp:return n.joiners.push(e),bK(t,e)}},t.blockingOn),Lk=(t,e)=>{const n=Yh(t.state);if(n._tag===tp){FA(t.state,k6(e));for(let r=0,i=n.joiners.length;r<i;r++)n.joiners[r](e)}},bK=(t,e)=>St(()=>{const n=Yh(t.state);if(n._tag===tp){const r=n.joiners.indexOf(e);r>=0&&n.joiners.splice(r,1)}}),SK=Sr(t=>Re(t.currentContext)),wK=()=>SK,Bl=t=>bt(wK(),t),EK=L(2,(t,e)=>sp(Fl,e)(t)),xK=L(2,(t,e)=>Bl(n=>EK(t,e(n)))),r_=t=>{const e=t.currentSpan;return e!==void 0&&e._tag==="Span"?$t(e):ft()},CK=pK,TE=Symbol.for("effect/MutableHashMap"),TK={[TE]:TE,[Symbol.iterator](){return new i_(this)},toString(){return Je(this.toJSON())},toJSON(){return{_id:"MutableHashMap",values:Array.from(this).map(Ke)}},[ve](){return this.toJSON()},pipe(){return vt(this,arguments)}};class i_{constructor(e){_(this,"self");_(this,"referentialIterator");_(this,"bucketIterator");this.self=e,this.referentialIterator=e.referential[Symbol.iterator]()}next(){if(this.bucketIterator!==void 0)return this.bucketIterator.next();const e=this.referentialIterator.next();return e.done?(this.bucketIterator=new OK(this.self.buckets.values()),this.next()):e}[Symbol.iterator](){return new i_(this.self)}}class OK{constructor(e){_(this,"backing");_(this,"currentBucket");this.backing=e}next(){if(this.currentBucket===void 0){const n=this.backing.next();if(n.done)return n;this.currentBucket=n.value[Symbol.iterator]()}const e=this.currentBucket.next();return e.done?(this.currentBucket=void 0,this.next()):e}}const AK=()=>{const t=Object.create(TK);return t.referential=new Map,t.buckets=new Map,t.bucketsSize=0,t},xs=L(2,(t,e)=>{if(Kd(e)===!1)return t.referential.has(e)?$t(t.referential.get(e)):ft();const n=e[kt](),r=t.buckets.get(n);return r===void 0?ft():kK(t,r,e)}),kK=(t,e,n,r=!1)=>{for(let i=0,s=e.length;i<s;i++)if(n[Tt](e[i][0])){const a=e[i][1];return r&&(e.splice(i,1),t.bucketsSize--),$t(a)}return ft()},_c=L(2,(t,e)=>kn(xs(t,e))),bc=L(3,(t,e,n)=>{if(Kd(e)===!1)return t.referential.set(e,n),t;const r=e[kt](),i=t.buckets.get(r);return i===void 0?(t.buckets.set(r,[[e,n]]),t.bucketsSize++,t):(IK(t,i,e),i.push([e,n]),t.bucketsSize++,t)}),IK=(t,e,n)=>{for(let r=0,i=e.length;r<i;r++)if(n[Tt](e[r][0])){e.splice(r,1),t.bucketsSize--;return}};function PK(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Fk={exports:{}},Oe=Fk.exports={},ki,Ii;function rv(){throw new Error("setTimeout has not been defined")}function iv(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?ki=setTimeout:ki=rv}catch{ki=rv}try{typeof clearTimeout=="function"?Ii=clearTimeout:Ii=iv}catch{Ii=iv}})();function Bk(t){if(ki===setTimeout)return setTimeout(t,0);if((ki===rv||!ki)&&setTimeout)return ki=setTimeout,setTimeout(t,0);try{return ki(t,0)}catch{try{return ki.call(null,t,0)}catch{return ki.call(this,t,0)}}}function RK(t){if(Ii===clearTimeout)return clearTimeout(t);if((Ii===iv||!Ii)&&clearTimeout)return Ii=clearTimeout,clearTimeout(t);try{return Ii(t)}catch{try{return Ii.call(null,t)}catch{return Ii.call(this,t)}}}var po=[],Wa=!1,As,Cd=-1;function $K(){!Wa||!As||(Wa=!1,As.length?po=As.concat(po):Cd=-1,po.length&&jk())}function jk(){if(!Wa){var t=Bk($K);Wa=!0;for(var e=po.length;e;){for(As=po,po=[];++Cd<e;)As&&As[Cd].run();Cd=-1,e=po.length}As=null,Wa=!1,RK(t)}}Oe.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];po.push(new Dk(t,e)),po.length===1&&!Wa&&Bk(jk)};function Dk(t,e){this.fun=t,this.array=e}Dk.prototype.run=function(){this.fun.apply(null,this.array)};Oe.title="browser";Oe.browser=!0;Oe.env={};Oe.argv=[];Oe.version="";Oe.versions={};function Co(){}Oe.on=Co;Oe.addListener=Co;Oe.once=Co;Oe.off=Co;Oe.removeListener=Co;Oe.removeAllListeners=Co;Oe.emit=Co;Oe.prependListener=Co;Oe.prependOnceListener=Co;Oe.listeners=function(t){return[]};Oe.binding=function(t){throw new Error("process.binding is not supported")};Oe.cwd=function(){return"/"};Oe.chdir=function(t){throw new Error("process.chdir is not supported")};Oe.umask=function(){return 0};var MK=Fk.exports;const fi=PK(MK),NK="effect/Clock",OE=Symbol.for(NK),o_=Zs("effect/Clock"),LK=2**31-1,AE={unsafeSchedule(t,e){const n=Uy(e);if(n>LK)return Py;let r=!1;const i=setTimeout(()=>{r=!0,t()},n);return()=>(clearTimeout(i),!r)}},kE=function(){const t=BigInt(1e6);if(typeof performance>"u")return()=>BigInt(Date.now())*t;if(typeof performance.timeOrigin=="number"&&performance.timeOrigin===0)return()=>BigInt(Math.round(performance.now()*1e6));const e=BigInt(Date.now())*t-BigInt(Math.round(performance.now()*1e6));return()=>e+BigInt(Math.round(performance.now()*1e6))}(),FK=function(){const t=typeof fi=="object"&&"hrtime"in fi&&typeof fi.hrtime.bigint=="function"?fi.hrtime:void 0;if(!t)return kE;const e=kE()-t.bigint();return()=>e+t.bigint()}();var tT;tT=OE;class BK{constructor(){_(this,tT,OE);_(this,"currentTimeMillis",St(()=>this.unsafeCurrentTimeMillis()));_(this,"currentTimeNanos",St(()=>this.unsafeCurrentTimeNanos()))}unsafeCurrentTimeMillis(){return Date.now()}unsafeCurrentTimeNanos(){return FK()}scheduler(){return ye(AE)}sleep(e){return nl(n=>{const r=AE.unsafeSchedule(()=>n(yi),e);return Ll(St(r))})}}const jK=()=>new BK,zk="And",Uk="Or",Wk="InvalidData",Kk="MissingData",qk="SourceUnavailable",Vk="Unsupported",DK="effect/ConfigError",IE=Symbol.for(DK),Lu={_tag:"ConfigError",[IE]:IE},Hk=(t,e)=>{const n=Object.create(Lu);return n._op=zk,n.left=t,n.right=e,Object.defineProperty(n,"toString",{enumerable:!1,value(){return`${this.left} and ${this.right}`}}),n},Gk=(t,e)=>{const n=Object.create(Lu);return n._op=Uk,n.left=t,n.right=e,Object.defineProperty(n,"toString",{enumerable:!1,value(){return`${this.left} or ${this.right}`}}),n},zK=(t,e,n={pathDelim:"."})=>{const r=Object.create(Lu);return r._op=Wk,r.path=t,r.message=e,Object.defineProperty(r,"toString",{enumerable:!1,value(){return`(Invalid data at ${J(this.path,ku(n.pathDelim))}: "${this.message}")`}}),r},Ks=(t,e,n={pathDelim:"."})=>{const r=Object.create(Lu);return r._op=Kk,r.path=t,r.message=e,Object.defineProperty(r,"toString",{enumerable:!1,value(){return`(Missing data at ${J(this.path,ku(n.pathDelim))}: "${this.message}")`}}),r},UK=(t,e,n,r={pathDelim:"."})=>{const i=Object.create(Lu);return i._op=qk,i.path=t,i.message=e,i.cause=n,Object.defineProperty(i,"toString",{enumerable:!1,value(){return`(Source unavailable at ${J(this.path,ku(r.pathDelim))}: "${this.message}")`}}),i},WK=(t,e,n={pathDelim:"."})=>{const r=Object.create(Lu);return r._op=Vk,r.path=t,r.message=e,Object.defineProperty(r,"toString",{enumerable:!1,value(){return`(Unsupported operation at ${J(this.path,ku(n.pathDelim))}: "${this.message}")`}}),r},ks=L(2,(t,e)=>{switch(t._op){case zk:return Hk(ks(t.left,e),ks(t.right,e));case Uk:return Gk(ks(t.left,e),ks(t.right,e));case Wk:return zK([...e,...t.path],t.message);case Kk:return Ks([...e,...t.path],t.message);case qk:return UK([...e,...t.path],t.message,t.cause);case Vk:return WK([...e,...t.path],t.message)}}),KK={_tag:"Empty"},Km=L(2,(t,e)=>{let n=W0(e),r=t;for(;$4(n);){const i=n.head;switch(i._tag){case"Empty":{n=n.tail;break}case"AndThen":{n=Us(i.first,Us(i.second,n.tail));break}case"MapName":{r=ja(r,i.f),n=n.tail;break}case"Nested":{r=Jd(r,i.name),n=n.tail;break}case"Unnested":{if(J(jc(r),yD(i.name)))r=js(r),n=n.tail;else return Ct(Ks(r,`Expected ${i.name} to be in path in ConfigProvider#unnested`));break}}}return Lt(r)}),qK="Constant",VK="Fail",HK="Fallback",GK="Described",JK="Lazy",YK="MapOrFail",XK="Nested",QK="Primitive",ZK="Sequence",tq="HashMap",eq="ZipWith";var PE={};const sh=(t,e)=>[...t,...e],nq="effect/ConfigProvider",RE=Symbol.for(nq),rq=Zs("effect/ConfigProvider"),iq="effect/ConfigProviderFlat",$E=Symbol.for(iq),oq=t=>({[RE]:RE,pipe(){return vt(this,arguments)},...t}),sq=t=>({[$E]:$E,patch:t.patch,load:(e,n,r=!0)=>t.load(e,n,r),enumerateChildren:t.enumerateChildren}),aq=t=>oq({load:e=>bt(zr(t,Xa(),e,!1),n=>In(jc(n),{onNone:()=>Xn(Ks(Xa(),`Expected a single value having structure: ${e}`)),onSome:ye})),flattened:t}),uq=t=>{const{pathDelim:e,seqDelim:n}=Object.assign({},{pathDelim:"_",seqDelim:","},t),r=l=>J(l,ku(e)),i=l=>l.split(e),s=()=>typeof fi<"u"&&"env"in fi&&typeof PE=="object"?PE:{};return aq(sq({load:(l,d,h=!0)=>{const g=r(l),m=s(),y=g in m?$t(m[g]):ft();return J(y,rp(()=>Ks(l,`Expected ${g} to exist in the process context`)),bt(w=>hq(w,l,d,n,h)))},enumerateChildren:l=>St(()=>{const d=s(),m=Object.keys(d).map(y=>i(y.toUpperCase())).filter(y=>{for(let w=0;w<l.length;w++){const x=J(l,bO(w)),C=y[w];if(C===void 0||x!==C)return!1}return!0}).flatMap(y=>y.slice(l.length,l.length+1));return p4(m)}),patch:KK}))},cq=(t,e,n,r)=>{const i=Hw(n.length,l=>l>=r.length?ft():$t([t(l),l+1])),s=Hw(r.length,l=>l>=n.length?ft():$t([e(l),l+1])),a=sh(n,i),c=sh(r,s);return[a,c]},lq=(t,e)=>{let n=e;if(n._tag==="Nested"){const r=t.slice();for(;n._tag==="Nested";)r.push(n.name),n=n.config;return r}return t},zr=(t,e,n,r)=>{const i=n;switch(i._tag){case qK:return ye(si(i.value));case GK:return Ue(()=>zr(t,e,i.config,r));case VK:return Xn(Ks(e,i.message));case HK:return J(Ue(()=>zr(t,e,i.first,r)),tv(s=>i.condition(s)?J(zr(t,e,i.second,r),tv(a=>Xn(Gk(s,a)))):Xn(s)));case JK:return Ue(()=>zr(t,e,i.config(),r));case YK:return Ue(()=>J(zr(t,e,i.original,r),bt(Go(s=>J(i.mapOrFail(s),rp(ks(lq(e,i.original))))))));case XK:return Ue(()=>zr(t,sh(e,si(i.name)),i.config,r));case QK:return J(Km(e,t.patch),bt(s=>J(t.load(s,i,r),bt(a=>{if(a.length===0){const c=J(kD(s),Fe(()=>"<n/a>"));return Xn(Ks([],`Expected ${i.description} with name ${c}`))}return ye(a)}))));case ZK:return J(Km(e,t.patch),bt(s=>J(t.enumerateChildren(s),bt(gq),bt(a=>a.length===0?Ue(()=>Zn(zr(t,e,i.config,!0),si)):J(Go(a,c=>zr(t,ED(e,`[${c}]`),i.config,!0)),Zn(c=>{const l=BD(c);return l.length===0?si(Xa()):si(l)}))))));case tq:return Ue(()=>J(Km(e,t.patch),bt(s=>J(t.enumerateChildren(s),bt(a=>J(a,Go(c=>zr(t,sh(s,si(c)),i.valueConfig,r)),Zn(c=>c.length===0?si(U0()):J(pq(c),ja(l=>x4(Vw(Ne(a),l)))))))))));case eq:return Ue(()=>J(zr(t,e,i.left,r),oh,bt(s=>J(zr(t,e,i.right,r),oh,bt(a=>{if(sn(s)&&sn(a))return Xn(Hk(s.left,a.left));if(sn(s)&&ho(a))return Xn(s.left);if(ho(s)&&sn(a))return Xn(a.left);if(ho(s)&&ho(a)){const c=J(e,ku(".")),l=fq(e,c),[d,h]=cq(l,l,J(s.right,ja(Lt)),J(a.right,ja(Lt)));return J(d,Vw(h),Go(([g,m])=>J(Ck(g,m),Zn(([y,w])=>i.zip(y,w)))))}throw new Error("BUG: ConfigProvider.fromFlatLoop - please report an issue at https://github.com/Effect-TS/effect/issues")})))))}},fq=(t,e)=>n=>Ct(Ks(t,`The element at index ${n} in a sequence at path "${e}" was missing`)),dq=(t,e)=>t.split(new RegExp(`\\s*${Yd(e)}\\s*`)),hq=(t,e,n,r,i)=>i?J(dq(t,r),Go(s=>n.parse(s.trim())),rp(ks(e))):J(n.parse(t),wk({onFailure:ks(e),onSuccess:si})),pq=t=>Object.keys(t[0]).map(e=>t.map(n=>n[e])),gq=t=>J(Go(t,yq),wk({onFailure:()=>Xa(),onSuccess:Gc(Qa)}),oh,Zn(aD)),mq=/^(\[(\d+)\])$/,yq=t=>{const e=t.match(mq);if(e!==null){const n=e[2];return J(n!==void 0&&n.length>0?$t(n):ft(),Au(vq))}return ft()},vq=t=>{const e=Number.parseInt(t);return Number.isNaN(e)?ft():$t(e)},ME=Symbol.for("effect/Console"),Jk=Zs("effect/Console"),_q={[ME]:ME,assert(t,...e){return St(()=>{console.assert(t,...e)})},clear:St(()=>{console.clear()}),count(t){return St(()=>{console.count(t)})},countReset(t){return St(()=>{console.countReset(t)})},debug(...t){return St(()=>{console.debug(...t)})},dir(t,e){return St(()=>{console.dir(t,e)})},dirxml(...t){return St(()=>{console.dirxml(...t)})},error(...t){return St(()=>{console.error(...t)})},group(t){return t!=null&&t.collapsed?St(()=>console.groupCollapsed(t==null?void 0:t.label)):St(()=>console.group(t==null?void 0:t.label))},groupEnd:St(()=>{console.groupEnd()}),info(...t){return St(()=>{console.info(...t)})},log(...t){return St(()=>{console.log(...t)})},table(t,e){return St(()=>{console.table(t,e)})},time(t){return St(()=>console.time(t))},timeEnd(t){return St(()=>console.timeEnd(t))},timeLog(t,...e){return St(()=>{console.timeLog(t,...e)})},trace(...t){return St(()=>{console.trace(...t)})},warn(...t){return St(()=>{console.warn(...t)})},unsafe:console},bq="effect/Random",NE=Symbol.for(bq),Sq=Zs("effect/Random");var eT;eT=NE;class wq{constructor(e){_(this,"seed");_(this,eT,NE);_(this,"PRNG");this.seed=e,this.PRNG=new $3(e)}get next(){return St(()=>this.PRNG.number())}get nextBoolean(){return Zn(this.next,e=>e>.5)}get nextInt(){return St(()=>this.PRNG.integer(Number.MAX_SAFE_INTEGER))}nextRange(e,n){return Zn(this.next,r=>(n-e)*r+e)}nextIntBetween(e,n){return St(()=>this.PRNG.integer(n-e)+e)}shuffle(e){return Eq(e,n=>this.nextIntBetween(0,n))}}const Eq=(t,e)=>Ue(()=>J(St(()=>Array.from(t)),bt(n=>{const r=[];for(let i=n.length;i>=2;i=i-1)r.push(i);return J(r,np(i=>J(e(i),Zn(s=>xq(n,i-1,s)))),Nl(yA(n)))}))),xq=(t,e,n)=>{const r=t[e];return t[e]=t[n],t[n]=r,t},Cq=t=>new wq(at(t)),LE=Symbol.for("effect/Tracer"),Tq=t=>({[LE]:LE,...t}),Yk=Zs("effect/Tracer"),Xk=Zs("effect/ParentSpan"),FE=function(){const t="abcdef0123456789",e=t.length;return function(n){let r="";for(let i=0;i<n;i++)r+=t.charAt(Math.floor(Math.random()*e));return r}}();class Oq{constructor(e,n,r,i,s,a){_(this,"name");_(this,"parent");_(this,"context");_(this,"links");_(this,"startTime");_(this,"kind");_(this,"_tag","Span");_(this,"spanId");_(this,"traceId","native");_(this,"sampled",!0);_(this,"status");_(this,"attributes");_(this,"events",[]);this.name=e,this.parent=n,this.context=r,this.links=i,this.startTime=s,this.kind=a,this.status={_tag:"Started",startTime:s},this.attributes=new Map,this.traceId=n._tag==="Some"?n.value.traceId:FE(32),this.spanId=FE(16)}end(e,n){this.status={_tag:"Ended",endTime:e,exit:n,startTime:this.status.startTime}}attribute(e,n){this.attributes.set(e,n)}event(e,n,r){this.events.push([e,n,r??{}])}}const Aq=Tq({span:(t,e,n,r,i,s)=>new Oq(t,e,n,r,i,s),context:t=>t()}),kq=J(P0(),vc(o_,jK()),vc(Jk,_q),vc(Sq,Cq(Math.random())),vc(rq,uq()),vc(Yk,Aq)),ah=jt(Symbol.for("effect/DefaultServices/currentServices"),()=>Ik(kq));function Iq(t){return new Zo(t)}function Pq(){return Iq(new Map)}const BE=Symbol.for("effect/FiberRefs");var nT;nT=BE;class Zo{constructor(e){_(this,"locals");_(this,nT,BE);this.locals=e}pipe(){return vt(this,arguments)}}const Rq=(t,e,n,r=!1)=>{const i=t;let s=e,a=n,c=r,l;for(;l===void 0;)if(Ye(s)&&Ye(a)){const d=tr(s)[0],h=js(s),g=tr(a)[0],m=tr(a)[1],y=js(a);d.startTimeMillis<g.startTimeMillis?(a=y,c=!0):d.startTimeMillis>g.startTimeMillis?s=h:d.id<g.id?(a=y,c=!0):d.id>g.id?s=h:l=[m,c]}else l=[i.initial,!0];return l},$q=L(3,(t,e,n)=>{const r=new Map(t.locals);return n.locals.forEach((i,s)=>{const a=i[0][1];if(!i[0][0][Tt](e)){if(!r.has(s)){if(Ot(a,s.initial))return;r.set(s,[[e,s.join(s.initial,a)]]);return}const c=r.get(s),[l,d]=Rq(s,c,i);if(d){const h=s.diff(l,a),g=c[0][1],m=s.join(g,s.patch(h)(g));if(!Ot(g,m)){let y;const w=c[0][0];w[Tt](e)?y=[[w,m],...c.slice(1)]:y=[[e,m],...c],r.set(s,y)}}}}),new Zo(r)}),Mq=L(2,(t,e)=>{const n=new Map;return Qk(t,n,e),new Zo(n)}),Qk=(t,e,n)=>{t.locals.forEach((r,i)=>{const s=r[0][1],a=i.patch(i.fork)(s);Ot(s,a)?e.set(i,r):e.set(i,[[n,a],...r])})},Zk=L(2,(t,e)=>{const n=new Map(t.locals);return n.delete(e),new Zo(n)}),Nq=L(2,(t,e)=>t.locals.has(e)?$t(tr(t.locals.get(e))[1]):ft()),rl=L(2,(t,e)=>J(Nq(t,e),Fe(()=>e.initial))),ov=L(2,(t,{fiberId:e,fiberRef:n,value:r})=>{if(t.locals.size===0)return new Zo(new Map([[n,[[e,r]]]]));const i=new Map(t.locals);return sv(i,e,n,r),new Zo(i)}),sv=(t,e,n,r)=>{const i=t.get(n)??[];let s;if(Ye(i)){const[a,c]=tr(i);if(a[Tt](e)){if(Ot(c,r))return;s=[[e,r],...i.slice(1)]}else s=[[e,r],...i]}else s=[[e,r]];t.set(n,s)},Lq=L(2,(t,{entries:e,forkAs:n})=>{if(t.locals.size===0)return new Zo(new Map(e));const r=new Map(t.locals);return n!==void 0&&Qk(t,r,n),e.forEach(([i,s])=>{s.length===1?sv(r,s[0][0],i,s[0][1]):s.forEach(([a,c])=>{sv(r,a,i,c)})}),new Zo(r)}),Fq=rl,Bq=Lq,jq=Pq,Dq=U6,zq=W6,Uq=K6,Wq=q6,Kq=Ak,qq=kk,Vq=V6,Hq=H6,Gq=J(Qa,mO(t=>t.ordinal)),Jq=lD(Gq),Yq=t=>{switch(t){case"All":return Dq;case"Debug":return qq;case"Error":return Uq;case"Fatal":return zq;case"Info":return Kq;case"Trace":return Vq;case"None":return Hq;case"Warning":return Wq}},tI=t=>t.replace(/[\s="]/g,"_"),Xq=t=>e=>`${tI(e.label)}=${t-e.startTime}ms`,Qq=xl,Zq=J3;class t8 extends Zq{}const eI="Empty",nI="Add",rI="Remove",iI="Update",oI="AndThen",e8={_tag:eI},n8=(t,e)=>{const n=new Map(t.locals);let r=e8;for(const[i,s]of e.locals.entries()){const a=tr(s)[1],c=n.get(i);if(c!==void 0){const l=tr(c)[1];Ot(l,a)||(r=qm({_tag:iI,fiberRef:i,patch:i.diff(l,a)})(r))}else r=qm({_tag:nI,fiberRef:i,value:a})(r);n.delete(i)}for(const[i]of n.entries())r=qm({_tag:rI,fiberRef:i})(r);return r},qm=L(2,(t,e)=>({_tag:oI,first:t,second:e})),r8=L(3,(t,e,n)=>{let r=n,i=si(t);for(;Ye(i);){const s=tr(i),a=js(i);switch(s._tag){case eI:{i=a;break}case nI:{r=ov(r,{fiberId:e,fiberRef:s.fiberRef,value:s.value}),i=a;break}case rI:{r=Zk(r,s.fiberRef),i=a;break}case iI:{const c=rl(r,s.fiberRef);r=ov(r,{fiberId:e,fiberRef:s.fiberRef,value:s.fiberRef.patch(s.patch)(c)}),i=a;break}case oI:{i=Jd(s.first)(Jd(s.second)(a));break}}}return r}),sI="effect/MetricLabel",av=Symbol.for(sI);var rT;class i8{constructor(e,n){_(this,"key");_(this,"value");_(this,rT,av);_(this,"_hash");this.key=e,this.value=n,this._hash=Pe(sI+this.key+this.value)}[(rT=av,kt)](){return this._hash}[Tt](e){return s8(e)&&this.key===e.key&&this.value===e.value}pipe(){return vt(this,arguments)}}const o8=(t,e)=>new i8(t,e),s8=t=>Et(t,av),a8="Sequential",u8="Parallel",c8="ParallelN",aI={_tag:a8},l8={_tag:u8},f8=t=>({_tag:c8,parallelism:t}),uv=aI,cv=l8,lv=f8,d8=n8,h8=r8,cp="effect/FiberStatus",qs=Symbol.for(cp),uh="Done",jE="Running",DE="Suspended",p8=Pe(`${cp}-${uh}`);var iT;class g8{constructor(){_(this,iT,qs);_(this,"_tag",uh)}[(iT=qs,kt)](){return p8}[Tt](e){return s_(e)&&e._tag===uh}}var oT;class m8{constructor(e){_(this,"runtimeFlags");_(this,oT,qs);_(this,"_tag",jE);this.runtimeFlags=e}[(oT=qs,kt)](){return J(at(cp),Bt(at(this._tag)),Bt(at(this.runtimeFlags)),xe(this))}[Tt](e){return s_(e)&&e._tag===jE&&this.runtimeFlags===e.runtimeFlags}}var sT;class y8{constructor(e,n){_(this,"runtimeFlags");_(this,"blockingOn");_(this,sT,qs);_(this,"_tag",DE);this.runtimeFlags=e,this.blockingOn=n}[(sT=qs,kt)](){return J(at(cp),Bt(at(this._tag)),Bt(at(this.runtimeFlags)),Bt(at(this.blockingOn)),xe(this))}[Tt](e){return s_(e)&&e._tag===DE&&this.runtimeFlags===e.runtimeFlags&&Ot(this.blockingOn,e.blockingOn)}}const v8=new g8,_8=t=>new m8(t),b8=(t,e)=>new y8(t,e),s_=t=>Et(t,qs),S8=t=>t._tag===uh,w8=v8,uI=_8,E8=b8,x8=S8,C8=Symbol.for("effect/Micro"),ch=Symbol.for("effect/Micro/MicroExit"),zE=Symbol.for("effect/Micro/MicroCause"),T8={_E:Me};var aT;class cI extends globalThis.Error{constructor(n,r,i){const s=`MicroCause.${n}`;let a,c,l;if(r instanceof globalThis.Error){a=`(${s}) ${r.name}`,c=r.message;const d=c.split(`
`).length;l=r.stack?`(${s}) ${r.stack.split(`
`).slice(0,d+3).join(`
`)}`:`${a}: ${c}`}else a=s,c=Ja(r,0),l=`${a}: ${c}`;i.length>0&&(l+=`
    ${i.join(`
    `)}`);super(c);_(this,"_tag");_(this,"traces");_(this,aT);this._tag=n,this.traces=i,this[zE]=T8,this.name=a,this.stack=l}pipe(){return vt(this,arguments)}toString(){return this.stack}[(aT=zE,ve)](){return this.stack}}class O8 extends cI{constructor(n,r=[]){super("Die",n,r);_(this,"defect");this.defect=n}}const A8=(t,e=[])=>new O8(t,e);class k8 extends cI{constructor(e=[]){super("Interrupt","interrupted",e)}}const I8=(t=[])=>new k8(t),P8=t=>t._tag==="Interrupt",UE=Symbol.for("effect/Micro/MicroFiber"),R8={_A:Me,_E:Me};var uT;uT=UE;class $8{constructor(e,n=!0){_(this,"context");_(this,"interruptible");_(this,uT);_(this,"_stack",[]);_(this,"_observers",[]);_(this,"_exit");_(this,"_children");_(this,"currentOpCount",0);_(this,"_interrupted",!1);_(this,"_yielded");this.context=e,this.interruptible=n,this[UE]=R8}getRef(e){return nU(this.context,e)}addObserver(e){return this._exit?(e(this._exit),y3):(this._observers.push(e),()=>{const n=this._observers.indexOf(e);n>=0&&this._observers.splice(n,1)})}unsafeInterrupt(){this._exit||(this._interrupted=!0,this.interruptible&&this.evaluate(f_))}unsafePoll(){return this._exit}evaluate(e){if(this._exit)return;if(this._yielded!==void 0){const i=this._yielded;this._yielded=void 0,i()}const n=this.runLoop(e);if(n===Yf)return;const r=WE.interruptChildren&&WE.interruptChildren(this);if(r!==void 0)return this.evaluate(fh(r,()=>n));this._exit=n;for(let i=0;i<this._observers.length;i++)this._observers[i](n);this._observers.length=0}runLoop(e){let n=!1,r=e;this.currentOpCount=0;try{for(;;){if(this.currentOpCount++,!n&&this.getRef(d_).shouldYield(this)){n=!0;const i=r;r=fh(B8,()=>i)}if(r=r[fv](this),r===Yf){const i=this._yielded;return ch in i?(this._yielded=void 0,i):Yf}}}catch(i){return Et(r,fv)?dv(i):dv(`MicroFiber.runLoop: Not a valid effect: ${String(r)}`)}}getCont(e){for(;;){const n=this._stack.pop();if(!n)return;const r=n[lh]&&n[lh](this);if(r)return{[e]:r};if(n[e])return n}}yieldWith(e){return this._yielded=e,Yf}children(){return this._children??(this._children=new Set)}}const WE=jt("effect/Micro/fiberMiddleware",()=>({interruptChildren:void 0})),lI=Symbol.for("effect/Micro/identifier"),We=Symbol.for("effect/Micro/args"),fv=Symbol.for("effect/Micro/evaluate"),pu=Symbol.for("effect/Micro/successCont"),Ka=Symbol.for("effect/Micro/failureCont"),lh=Symbol.for("effect/Micro/ensureCont"),Yf=Symbol.for("effect/Micro/Yield"),M8={_A:Me,_E:Me,_R:Me},N8={...Qq,_op:"Micro",[C8]:M8,pipe(){return vt(this,arguments)},[Symbol.iterator](){return new XT(new Sl(this))},toJSON(){return{_id:"Micro",op:this[lI],...We in this?{args:this[We]}:void 0}},toString(){return Je(this)},[ve](){return Je(this)}};function L8(t){return dv("Micro.evaluate: Not implemented")}const lp=t=>({...N8,[lI]:t.op,[fv]:t.eval??L8,[pu]:t.contA,[Ka]:t.contE,[lh]:t.ensure}),a_=t=>{const e=lp(t);return function(){const n=Object.create(e);return n[We]=t.single===!1?arguments:arguments[0],n}},fI=t=>{const e={...lp(t),[ch]:ch,_tag:t.op,get[t.prop](){return this[We]},toJSON(){return{_id:"MicroExit",_tag:t.op,[t.prop]:this[We]}},[Tt](n){return z8(n)&&n._tag===t.op&&Ot(this[We],n[We])},[kt](){return xe(this,Bt(Pe(t.op))(at(this[We])))}};return function(n){const r=Object.create(e);return r[We]=n,r[pu]=void 0,r[Ka]=void 0,r[lh]=void 0,r}},u_=fI({op:"Success",prop:"value",eval(t){const e=t.getCont(pu);return e?e[pu](this[We],t):t.yieldWith(this)}}),dI=fI({op:"Failure",prop:"cause",eval(t){let e=t.getCont(Ka);for(;P8(this[We])&&e&&t.interruptible;)e=t.getCont(Ka);return e?e[Ka](this[We],t):t.yieldWith(this)}}),F8=a_({op:"Yield",eval(t){let e=!1;return t.getRef(d_).scheduleTask(()=>{e||t.evaluate(U8)},this[We]??0),t.yieldWith(()=>{e=!0})}}),B8=F8(0),j8=u_(void 0),c_=a_({op:"WithMicroFiber",eval(t){return this[We](t)}}),fh=L(2,(t,e)=>{const n=Object.create(D8);return n[We]=t,n[pu]=e,n}),D8=lp({op:"OnSuccess",eval(t){return t._stack.push(this),this[We]}}),z8=t=>Et(t,ch),hI=u_,l_=dI,f_=l_(I8()),dv=t=>l_(A8(t)),U8=hI(void 0),W8="setImmediate"in globalThis?globalThis.setImmediate:t=>setTimeout(t,0);class pI{constructor(){_(this,"tasks",[]);_(this,"running",!1);_(this,"afterScheduled",()=>{this.running=!1,this.runTasks()})}scheduleTask(e,n){this.tasks.push(e),this.running||(this.running=!0,W8(this.afterScheduled))}runTasks(){const e=this.tasks;this.tasks=[];for(let n=0,r=e.length;n<r;n++)e[n]()}shouldYield(e){return e.currentOpCount>=e.getRef(V8)}flush(){for(;this.tasks.length>0;)this.runTasks()}}const K8=L(2,(t,e)=>c_(n=>{const r=n.context;return n.context=e(r),J8(t,()=>(n.context=r,j8))})),q8=L(2,(t,e)=>K8(t,dA(e)));class V8 extends hA()("effect/Micro/currentMaxOpsBeforeYield",{defaultValue:()=>2048}){}class d_ extends hA()("effect/Micro/currentScheduler",{defaultValue:()=>new pI}){}const H8=L(2,(t,e)=>{const n=Object.create(G8);return n[We]=t,n[pu]=e.onSuccess,n[Ka]=e.onFailure,n}),G8=lp({op:"OnSuccessAndFailure",eval(t){return t._stack.push(this),this[We]}}),J8=L(2,(t,e)=>X8(n=>H8(n(t),{onFailure:r=>fh(e(l_(r)),()=>dI(r)),onSuccess:r=>fh(e(hI(r)),()=>u_(r))}))),gI=a_({op:"SetInterruptible",ensure(t){if(t.interruptible=this[We],t._interrupted&&t.interruptible)return()=>f_}}),Y8=t=>c_(e=>e.interruptible?t:(e.interruptible=!0,e._stack.push(gI(!1)),e._interrupted?f_:t)),X8=t=>c_(e=>e.interruptible?(e.interruptible=!1,e._stack.push(gI(!0)),t(Y8)):t(Me)),Q8=(t,e)=>{const n=new $8(d_.context(new pI));return n.evaluate(t),n};class mI{constructor(){_(this,"buckets",[])}scheduleTask(e,n){const r=this.buckets.length;let i,s=0;for(;s<r&&this.buckets[s][0]<=n;s++)i=this.buckets[s];i&&i[0]===n?i[1].push(e):s===r?this.buckets.push([n,[e]]):this.buckets.splice(s,0,[n,[e]])}}class Z8{constructor(e){_(this,"maxNextTickBeforeTimer");_(this,"running",!1);_(this,"tasks",new mI);this.maxNextTickBeforeTimer=e}starveInternal(e){const n=this.tasks.buckets;this.tasks.buckets=[];for(const[r,i]of n)for(let s=0;s<i.length;s++)i[s]();this.tasks.buckets.length===0?this.running=!1:this.starve(e)}starve(e=0){e>=this.maxNextTickBeforeTimer?setTimeout(()=>this.starveInternal(0),0):Promise.resolve(void 0).then(()=>this.starveInternal(e+1))}shouldYield(e){return e.currentOpCount>e.getFiberRef(Pk)?e.getFiberRef(ap):!1}scheduleTask(e,n){this.tasks.scheduleTask(e,n),this.running||(this.running=!0,this.starve())}}const yI=jt(Symbol.for("effect/Scheduler/defaultScheduler"),()=>new Z8(2048));class vI{constructor(){_(this,"tasks",new mI);_(this,"deferred",!1)}scheduleTask(e,n){this.deferred?yI.scheduleTask(e,n):this.tasks.scheduleTask(e,n)}shouldYield(e){return e.currentOpCount>e.getFiberRef(Pk)?e.getFiberRef(ap):!1}flush(){for(;this.tasks.buckets.length>0;){const e=this.tasks.buckets;this.tasks.buckets=[];for(const[n,r]of e)for(let i=0;i<r.length;i++)r[i]()}this.deferred=!0}}const _I=jt(Symbol.for("effect/FiberRef/currentScheduler"),()=>Cr(yI)),bI=jt(Symbol.for("effect/FiberRef/currentRequestMap"),()=>Cr(new Map)),KE=(t,e,n,r)=>{switch(t){case void 0:return e();case"unbounded":return n();case"inherit":return t_(oK,i=>i==="unbounded"?n():i>1?r(i):e());default:return t>1?r(t):e()}},h_="InterruptSignal",p_="Stateful",g_="Resume",m_="YieldNow",Vm=t=>({_tag:h_,cause:t}),Td=t=>({_tag:p_,onFiber:t}),Oa=t=>({_tag:g_,effect:t}),t7=()=>({_tag:m_}),e7="effect/FiberScope",dh=Symbol.for(e7);var cT;cT=dh;class n7{constructor(){_(this,cT,dh);_(this,"fiberId",su);_(this,"roots",new Set)}add(e,n){this.roots.add(n),n.addObserver(()=>{this.roots.delete(n)})}}var lT;lT=dh;class r7{constructor(e,n){_(this,"fiberId");_(this,"parent");_(this,lT,dh);this.fiberId=e,this.parent=n}add(e,n){this.parent.tell(Td(r=>{r.addChild(n),n.addObserver(()=>{r.removeChild(n)})}))}}const i7=t=>new r7(t.id(),t),y_=jt(Symbol.for("effect/FiberScope/Global"),()=>new n7),o7="effect/Fiber",s7=Symbol.for(o7),a7={_E:t=>t,_A:t=>t},u7="effect/Fiber",c7=Symbol.for(u7),SI=t=>Tk(bk(t.await),t.inheritAll);({...Tl});const bs="effect/FiberCurrent",l7="effect/Logger",f7=Symbol.for(l7),d7={_Message:t=>t,_Output:t=>t},v_=t=>({[f7]:d7,log:t,pipe(){return vt(this,arguments)}}),h7=/^[^\s"=]*$/,p7=(t,e)=>({annotations:n,cause:r,date:i,fiberId:s,logLevel:a,message:c,spans:l})=>{const d=w=>w.match(h7)?w:t(w),h=(w,x)=>`${tI(w)}=${d(x)}`,g=(w,x)=>" "+h(w,x);let m=h("timestamp",i.toISOString());m+=g("level",a.label),m+=g("fiber",jA(s));const y=SD(c);for(let w=0;w<y.length;w++)m+=g("message",Ja(y[w],e));s6(r)||(m+=g("cause",Mu(r,{renderErrorCause:!0})));for(const w of l)m+=" "+Xq(i.getTime())(w);for(const[w,x]of n)m+=g(w,Ja(x,e));return m},g7=t=>`"${t.replace(/\\([\s\S])|(")/g,"\\$1$2")}"`,m7=v_(p7(g7)),y7=typeof fi=="object"&&fi!==null&&typeof fi.stdout=="object"&&fi.stdout!==null;y7&&fi.stdout.isTTY;const wI="effect/MetricBoundaries",hv=Symbol.for(wI);var fT;class v7{constructor(e){_(this,"values");_(this,fT,hv);_(this,"_hash");this.values=e,this._hash=J(Pe(wI),Bt(wl(this.values)))}[(fT=hv,kt)](){return this._hash}[Tt](e){return _7(e)&&Ot(this.values,e.values)}pipe(){return vt(this,arguments)}}const _7=t=>Et(t,hv),b7=t=>{const e=J(t,vO(br(Number.POSITIVE_INFINITY)),jD);return new v7(e)},S7=t=>J(bD(t.count-1,e=>t.start*Math.pow(t.factor,e)),Wh,b7),w7="effect/MetricKeyType",EI=Symbol.for(w7),xI="effect/MetricKeyType/Counter",pv=Symbol.for(xI),E7="effect/MetricKeyType/Frequency",x7=Symbol.for(E7),C7="effect/MetricKeyType/Gauge",T7=Symbol.for(C7),CI="effect/MetricKeyType/Histogram",gv=Symbol.for(CI),O7="effect/MetricKeyType/Summary",A7=Symbol.for(O7),TI={_In:t=>t,_Out:t=>t};var dT,hT;class k7{constructor(e,n){_(this,"incremental");_(this,"bigint");_(this,hT,TI);_(this,dT,pv);_(this,"_hash");this.incremental=e,this.bigint=n,this._hash=Pe(xI)}[(hT=EI,dT=pv,kt)](){return this._hash}[Tt](e){return OI(e)}pipe(){return vt(this,arguments)}}var pT,gT;class I7{constructor(e){_(this,"boundaries");_(this,gT,TI);_(this,pT,gv);_(this,"_hash");this.boundaries=e,this._hash=J(Pe(CI),Bt(at(this.boundaries)))}[(gT=EI,pT=gv,kt)](){return this._hash}[Tt](e){return AI(e)&&Ot(this.boundaries,e.boundaries)}pipe(){return vt(this,arguments)}}const P7=t=>new k7((t==null?void 0:t.incremental)??!1,(t==null?void 0:t.bigint)??!1),R7=t=>new I7(t),OI=t=>Et(t,pv),$7=t=>Et(t,x7),M7=t=>Et(t,T7),AI=t=>Et(t,gv),N7=t=>Et(t,A7),L7="effect/MetricKey",kI=Symbol.for(L7),F7={_Type:t=>t},B7=E0(Ot);var mT;class __{constructor(e,n,r,i=[]){_(this,"name");_(this,"keyType");_(this,"description");_(this,"tags");_(this,mT,F7);_(this,"_hash");this.name=e,this.keyType=n,this.description=r,this.tags=i,this._hash=J(Pe(this.name+this.description),Bt(at(this.keyType)),Bt(wl(this.tags)))}[(mT=kI,kt)](){return this._hash}[Tt](e){return j7(e)&&this.name===e.name&&Ot(this.keyType,e.keyType)&&Ot(this.description,e.description)&&B7(this.tags,e.tags)}pipe(){return vt(this,arguments)}}const j7=t=>Et(t,kI),D7=(t,e)=>new __(t,P7(e),Js(e==null?void 0:e.description)),z7=(t,e,n)=>new __(t,R7(e),Js(n)),U7=L(2,(t,e)=>e.length===0?t:new __(t.name,t.keyType,t.description,bd(t.tags,e))),W7="effect/MetricState",jl=Symbol.for(W7),II="effect/MetricState/Counter",mv=Symbol.for(II),PI="effect/MetricState/Frequency",yv=Symbol.for(PI),RI="effect/MetricState/Gauge",vv=Symbol.for(RI),$I="effect/MetricState/Histogram",_v=Symbol.for($I),MI="effect/MetricState/Summary",bv=Symbol.for(MI),Dl={_A:t=>t};var yT,vT;class K7{constructor(e){_(this,"count");_(this,vT,Dl);_(this,yT,mv);this.count=e}[(vT=jl,yT=mv,kt)](){return J(at(II),Bt(at(this.count)),xe(this))}[Tt](e){return e9(e)&&this.count===e.count}pipe(){return vt(this,arguments)}}const q7=E0(Ot);var _T,bT;class V7{constructor(e){_(this,"occurrences");_(this,bT,Dl);_(this,_T,yv);_(this,"_hash");this.occurrences=e}[(bT=jl,_T=yv,kt)](){return J(Pe(PI),Bt(wl(Ne(this.occurrences.entries()))),xe(this))}[Tt](e){return n9(e)&&q7(Ne(this.occurrences.entries()),Ne(e.occurrences.entries()))}pipe(){return vt(this,arguments)}}var ST,wT;class H7{constructor(e){_(this,"value");_(this,wT,Dl);_(this,ST,vv);this.value=e}[(wT=jl,ST=vv,kt)](){return J(at(RI),Bt(at(this.value)),xe(this))}[Tt](e){return r9(e)&&this.value===e.value}pipe(){return vt(this,arguments)}}var ET,xT;class G7{constructor(e,n,r,i,s){_(this,"buckets");_(this,"count");_(this,"min");_(this,"max");_(this,"sum");_(this,xT,Dl);_(this,ET,_v);this.buckets=e,this.count=n,this.min=r,this.max=i,this.sum=s}[(xT=jl,ET=_v,kt)](){return J(at($I),Bt(at(this.buckets)),Bt(at(this.count)),Bt(at(this.min)),Bt(at(this.max)),Bt(at(this.sum)),xe(this))}[Tt](e){return i9(e)&&Ot(this.buckets,e.buckets)&&this.count===e.count&&this.min===e.min&&this.max===e.max&&this.sum===e.sum}pipe(){return vt(this,arguments)}}var CT,TT;class J7{constructor(e,n,r,i,s,a){_(this,"error");_(this,"quantiles");_(this,"count");_(this,"min");_(this,"max");_(this,"sum");_(this,TT,Dl);_(this,CT,bv);this.error=e,this.quantiles=n,this.count=r,this.min=i,this.max=s,this.sum=a}[(TT=jl,CT=bv,kt)](){return J(at(MI),Bt(at(this.error)),Bt(at(this.quantiles)),Bt(at(this.count)),Bt(at(this.min)),Bt(at(this.max)),Bt(at(this.sum)),xe(this))}[Tt](e){return o9(e)&&this.error===e.error&&Ot(this.quantiles,e.quantiles)&&this.count===e.count&&this.min===e.min&&this.max===e.max&&this.sum===e.sum}pipe(){return vt(this,arguments)}}const Y7=t=>new K7(t),X7=t=>new V7(t),Q7=t=>new H7(t),Z7=t=>new G7(t.buckets,t.count,t.min,t.max,t.sum),t9=t=>new J7(t.error,t.quantiles,t.count,t.min,t.max,t.sum),e9=t=>Et(t,mv),n9=t=>Et(t,yv),r9=t=>Et(t,vv),i9=t=>Et(t,_v),o9=t=>Et(t,bv),s9="effect/MetricHook",a9=Symbol.for(s9),u9={_In:t=>t,_Out:t=>t},zl=t=>({[a9]:u9,pipe(){return vt(this,arguments)},...t}),qE=BigInt(0),c9=t=>{let e=t.keyType.bigint?qE:0;const n=t.keyType.incremental?t.keyType.bigint?i=>i>=qE:i=>i>=0:i=>!0,r=i=>{n(i)&&(e=e+i)};return zl({get:()=>Y7(e),update:r,modify:r})},l9=t=>{const e=new Map;for(const r of t.keyType.preregisteredWords)e.set(r,0);const n=r=>{const i=e.get(r)??0;e.set(r,i+1)};return zl({get:()=>X7(e),update:n,modify:n})},f9=(t,e)=>{let n=e;return zl({get:()=>Q7(n),update:r=>{n=r},modify:r=>{n=n+r}})},d9=t=>{const e=t.keyType.boundaries.values,n=e.length,r=new Uint32Array(n+1),i=new Float32Array(n);let s=0,a=0,c=Number.MAX_VALUE,l=Number.MIN_VALUE;J(e,Gc(Qa),ja((g,m)=>{i[m]=g}));const d=g=>{let m=0,y=n;for(;m!==y;){const w=Math.floor(m+(y-m)/2),x=i[w];g<=x?y=w:m=w,y===m+1&&(g<=i[m]?y=m:m=y)}r[m]=r[m]+1,s=s+1,a=a+g,g<c&&(c=g),g>l&&(l=g)},h=()=>{const g=jh(n);let m=0;for(let y=0;y<n;y++){const w=i[y],x=r[y];m=m+x,g[y]=[w,m]}return g};return zl({get:()=>Z7({buckets:h(),count:s,min:c,max:l,sum:a}),update:d,modify:d})},h9=t=>{const{error:e,maxAge:n,maxSize:r,quantiles:i}=t.keyType,s=J(i,Gc(Qa)),a=jh(r);let c=0,l=0,d=0,h=Number.MAX_VALUE,g=Number.MIN_VALUE;const m=w=>{const x=[];let C=0;for(;C!==r-1;){const T=a[C];if(T!=null){const[$,M]=T,P=zy(w-$);PU(P,SA)&&P<=n&&x.push(M)}C=C+1}return p9(e,s,Gc(x,Qa))},y=(w,x)=>{if(r>0){c=c+1;const C=c%r;a[C]=[x,w]}l=l+1,d=d+w,w<h&&(h=w),w>g&&(g=w)};return zl({get:()=>t9({error:e,quantiles:m(Date.now()),count:l,min:h,max:g,sum:d}),update:([w,x])=>y(w,x),modify:([w,x])=>y(w,x)})},p9=(t,e,n)=>{const r=n.length;if(!Ye(e))return Xa();const i=e[0],s=e.slice(1),a=VE(t,r,ft(),0,i,n),c=si(a);return s.forEach(l=>{c.push(VE(t,r,a.value,a.consumed,l,a.rest))}),ja(c,l=>[l.quantile,l.value])},VE=(t,e,n,r,i,s)=>{let a=t,c=e,l=n,d=r,h=i,g=s,m=t,y=e,w=n,x=r,C=i,T=s;for(;;){if(!Ye(g))return{quantile:h,value:ft(),consumed:d,rest:[]};if(h===1)return{quantile:h,value:$t(SO(g)),consumed:d+g.length,rest:[]};const $=PD(g,k=>k<=g[0]),M=h*c,P=a/2*M,j=d+$[0].length,B=Math.abs(j-M);if(j<M-P){m=a,y=c,w=jc(g),x=j,C=h,T=$[1],a=m,c=y,l=w,d=x,h=C,g=T;continue}if(j>M+P)return{quantile:h,value:l,consumed:d,rest:g};switch(l._tag){case"None":{m=a,y=c,w=jc(g),x=j,C=h,T=$[1],a=m,c=y,l=w,d=x,h=C,g=T;continue}case"Some":{const k=Math.abs(M-l.value);if(B<k){m=a,y=c,w=jc(g),x=j,C=h,T=$[1],a=m,c=y,l=w,d=x,h=C,g=T;continue}return{quantile:h,value:$t(l.value),consumed:d,rest:g}}}}throw new Error("BUG: MetricHook.resolveQuantiles - please report an issue at https://github.com/Effect-TS/effect/issues")},g9="effect/MetricPair",m9=Symbol.for(g9),y9={_Type:t=>t},v9=(t,e)=>({[m9]:y9,metricKey:t,metricState:e,pipe(){return vt(this,arguments)}}),_9="effect/MetricRegistry",HE=Symbol.for(_9);var OT;OT=HE;class b9{constructor(){_(this,OT,HE);_(this,"map",AK())}snapshot(){const e=[];for(const[n,r]of this.map)e.push(v9(n,r.get()));return e}get(e){const n=J(this.map,xs(e),ai);if(n==null){if(OI(e.keyType))return this.getCounter(e);if(M7(e.keyType))return this.getGauge(e);if($7(e.keyType))return this.getFrequency(e);if(AI(e.keyType))return this.getHistogram(e);if(N7(e.keyType))return this.getSummary(e);throw new Error("BUG: MetricRegistry.get - unknown MetricKeyType - please report an issue at https://github.com/Effect-TS/effect/issues")}else return n}getCounter(e){let n=J(this.map,xs(e),ai);if(n==null){const r=c9(e);J(this.map,_c(e))||J(this.map,bc(e,r)),n=r}return n}getFrequency(e){let n=J(this.map,xs(e),ai);if(n==null){const r=l9(e);J(this.map,_c(e))||J(this.map,bc(e,r)),n=r}return n}getGauge(e){let n=J(this.map,xs(e),ai);if(n==null){const r=f9(e,e.keyType.bigint?BigInt(0):0);J(this.map,_c(e))||J(this.map,bc(e,r)),n=r}return n}getHistogram(e){let n=J(this.map,xs(e),ai);if(n==null){const r=d9(e);J(this.map,_c(e))||J(this.map,bc(e,r)),n=r}return n}getSummary(e){let n=J(this.map,xs(e),ai);if(n==null){const r=h9(e);J(this.map,_c(e))||J(this.map,bc(e,r)),n=r}return n}}const S9=()=>new b9,w9="effect/Metric",E9=Symbol.for(w9),x9={_Type:t=>t,_In:t=>t,_Out:t=>t},GE=jt(Symbol.for("effect/Metric/globalMetricRegistry"),()=>S9()),NI=function(t,e,n,r){const i=Object.assign(s=>B6(s,a=>A9(i,a)),{[E9]:x9,keyType:t,unsafeUpdate:e,unsafeValue:n,unsafeModify:r,register(){return this.unsafeValue([]),this},pipe(){return vt(this,arguments)}});return i},fp=(t,e)=>LI(D7(t,e)),LI=t=>{let e;const n=new WeakMap,r=i=>{if(i.length===0)return e!==void 0||(e=GE.get(t)),e;let s=n.get(i);return s!==void 0||(s=GE.get(U7(t,i)),n.set(i,s)),s};return NI(t.keyType,(i,s)=>r(s).update(i),i=>r(i).get(),(i,s)=>r(s).modify(i))},C9=(t,e,n)=>LI(z7(t,e,n)),T9=L(3,(t,e,n)=>O9(t,[o8(e,n)])),O9=L(2,(t,e)=>NI(t.keyType,(n,r)=>t.unsafeUpdate(n,bd(e,r)),n=>t.unsafeValue(bd(e,n)),(n,r)=>t.unsafeModify(n,bd(e,r)))),A9=L(2,(t,e)=>t_(ev,n=>St(()=>t.unsafeUpdate(e,n))));({...Cl});const k9=L(2,(t,e)=>t_(bI,n=>St(()=>{if(n.has(t)){const r=n.get(t);r.state.completed||(r.state.completed=!0,Lk(r.result,e))}}))),I9="effect/Supervisor",dp=Symbol.for(I9),b_={_T:t=>t};var AT;AT=dp;const Jb=class Jb{constructor(e,n){_(this,"underlying");_(this,"value0");_(this,AT,b_);this.underlying=e,this.value0=n}get value(){return this.value0}onStart(e,n,r,i){this.underlying.onStart(e,n,r,i)}onEnd(e,n){this.underlying.onEnd(e,n)}onEffect(e,n){this.underlying.onEffect(e,n)}onSuspend(e){this.underlying.onSuspend(e)}onResume(e){this.underlying.onResume(e)}map(e){return new Jb(this,J(this.value,Zn(e)))}zip(e){return new ph(this,e)}};let hh=Jb;var kT;kT=dp;const Yb=class Yb{constructor(e,n){_(this,"left");_(this,"right");_(this,"_tag","Zip");_(this,kT,b_);this.left=e,this.right=n}get value(){return Ck(this.left.value,this.right.value)}onStart(e,n,r,i){this.left.onStart(e,n,r,i),this.right.onStart(e,n,r,i)}onEnd(e,n){this.left.onEnd(e,n),this.right.onEnd(e,n)}onEffect(e,n){this.left.onEffect(e,n),this.right.onEffect(e,n)}onSuspend(e){this.left.onSuspend(e),this.right.onSuspend(e)}onResume(e){this.left.onResume(e),this.right.onResume(e)}map(e){return new hh(this,J(this.value,Zn(e)))}zip(e){return new Yb(this,e)}};let ph=Yb;const FI=t=>Et(t,dp)&&h0(t,"Zip");var IT;IT=dp;class P9{constructor(e){_(this,"effect");_(this,IT,b_);this.effect=e}get value(){return this.effect}onStart(e,n,r,i){}onEnd(e,n){}onEffect(e,n){}onSuspend(e){}onResume(e){}map(e){return new hh(this,J(this.value,Zn(e)))}zip(e){return new ph(this,e)}onRun(e,n){return e()}}const R9=t=>new P9(t),hp=jt("effect/Supervisor/none",()=>R9(yi)),$9=Iu,BI="Empty",jI="AddSupervisor",DI="RemoveSupervisor",zI="AndThen",zc={_tag:BI},Od=(t,e)=>({_tag:zI,first:t,second:e}),M9=(t,e)=>N9(e,br(t)),N9=(t,e)=>{let n=t,r=e;for(;nu(r);){const i=ru(r);switch(i._tag){case BI:{r=Ts(r);break}case jI:{n=n.zip(i.supervisor),r=Ts(r);break}case DI:{n=Sv(n,i.supervisor),r=Ts(r);break}case zI:{r=gi(i.first)(gi(i.second)(Ts(r)));break}}}return n},Sv=(t,e)=>Ot(t,e)?hp:FI(t)?Sv(t.left,e).zip(Sv(t.right,e)):t,gh=t=>Ot(t,hp)?zs():FI(t)?J(gh(t.left),Xc(gh(t.right))):D0(t),L9=(t,e)=>{if(Ot(t,e))return zc;const n=gh(t),r=gh(e),i=J(r,sE(n),Zd(zc,(a,c)=>Od(a,{_tag:jI,supervisor:c}))),s=J(n,sE(r),Zd(zc,(a,c)=>Od(a,{_tag:DI,supervisor:c})));return Od(i,s)},F9=$9({empty:zc,patch:M9,combine:Od,diff:L9}),B9=fp("effect_fiber_started",{incremental:!0}),JE=fp("effect_fiber_active"),j9=fp("effect_fiber_successes",{incremental:!0}),D9=fp("effect_fiber_failures",{incremental:!0}),z9=T9(C9("effect_fiber_lifetimes",S7({start:.5,factor:2,count:35})),"time_unit","milliseconds"),Sc="Continue",U9="Done",YE="Yield",W9={_E:t=>t,_A:t=>t},Xf=t=>{throw new Error(`BUG: FiberRuntime - ${Ja(t)} - please report an issue at https://github.com/Effect-TS/effect/issues`)},ao=Symbol.for("effect/internal/fiberRuntime/YieldedOp"),uo=jt("effect/internal/fiberRuntime/yieldedOpChannel",()=>({currentOp:null})),wc={[qd]:(t,e,n)=>Bn(()=>e.effect_instruction_i1(n)),OnStep:(t,e,n)=>Re(Re(n)),[Vd]:(t,e,n)=>Bn(()=>e.effect_instruction_i2(n)),[v0]:(t,e,n)=>(t.patchRuntimeFlags(t.currentRuntimeFlags,e.patch),Wo(t.currentRuntimeFlags)&&t.isInterrupted()?le(t.getInterruptedCause()):Re(n)),[Hd]:(t,e,n)=>(Bn(()=>e.effect_instruction_i2(n)),Bn(()=>e.effect_instruction_i0())?(t.pushStack(e),Bn(()=>e.effect_instruction_i1())):yi),[yd]:(t,e,n)=>{const r=Bn(()=>e.effect_instruction_i0.next(n));return r.done?Re(r.value):(t.pushStack(e),N3(r.value))}},K9={[h_]:(t,e,n,r)=>(t.processNewInterruptSignal(r.cause),Wo(e)?le(r.cause):n),[g_]:(t,e,n,r)=>{throw new Error("It is illegal to have multiple concurrent run loops in a single fiber")},[p_]:(t,e,n,r)=>(r.onFiber(t,uI(e)),n),[m_]:(t,e,n,r)=>bt(Q0(),()=>n)},q9=t=>np(WW(t),e=>Ns(r6(e),([n,r])=>{const i=new Map,s=[];for(const c of r){s.push($s(c));for(const l of c)i.set(l.request,l)}const a=s.flat();return sp(oV(n.runAll(s),a,()=>a.forEach(c=>{c.listeners.interrupted=!0})),bI,i)},!1,!1)),V9=Mh();var PT,RT;class UI extends t8{constructor(n,r,i){super();_(this,RT,a7);_(this,PT,W9);_(this,"_fiberRefs");_(this,"_fiberId");_(this,"_queue",new Array);_(this,"_children",null);_(this,"_observers",new Array);_(this,"_running",!1);_(this,"_stack",[]);_(this,"_asyncInterruptor",null);_(this,"_asyncBlockingOn",null);_(this,"_exitValue",null);_(this,"_steps",[]);_(this,"_isYielding",!1);_(this,"currentRuntimeFlags");_(this,"currentOpCount",0);_(this,"currentSupervisor");_(this,"currentScheduler");_(this,"currentTracer");_(this,"currentSpan");_(this,"currentContext");_(this,"currentDefaultServices");_(this,"run",()=>{this.drainQueueOnCurrentThread()});if(this.currentRuntimeFlags=i,this._fiberId=n,this._fiberRefs=r,fE(i)){const s=this.getFiberRef(ev);B9.unsafeUpdate(1,s),JE.unsafeUpdate(1,s)}this.refreshRefCache()}commit(){return SI(this)}id(){return this._fiberId}resume(n){this.tell(Oa(n))}get status(){return this.ask((n,r)=>r)}get runtimeFlags(){return this.ask((n,r)=>x8(r)?n.currentRuntimeFlags:r.runtimeFlags)}scope(){return i7(this)}get children(){return this.ask(n=>Array.from(n.getChildren()))}getChildren(){return this._children===null&&(this._children=new Set),this._children}getInterruptedCause(){return this.getFiberRef(Jf)}fiberRefs(){return this.ask(n=>n.getFiberRefs())}ask(n){return Ue(()=>{const r=_K(this._fiberId);return this.tell(Td((i,s)=>{Lk(r,St(()=>n(i,s)))})),Nk(r)})}tell(n){this._queue.push(n),this._running||(this._running=!0,this.drainQueueLaterOnExecutor())}get await(){return nl(n=>{const r=i=>n(ye(i));return this.tell(Td((i,s)=>{i._exitValue!==null?r(this._exitValue):i.addObserver(r)})),St(()=>this.tell(Td((i,s)=>{i.removeObserver(r)})))},this.id())}get inheritAll(){return Sr((n,r)=>{const i=n.id(),s=n.getFiberRefs(),a=r.runtimeFlags,c=this.getFiberRefs(),l=$q(s,i,c);n.setFiberRefs(l);const d=n.getFiberRef(ex),h=J(Ed(a,d),hE(Pu),hE(Qy));return D6(h)})}get poll(){return St(()=>Js(this._exitValue))}unsafePoll(){return this._exitValue}interruptAsFork(n){return St(()=>this.tell(Vm(qo(n))))}unsafeInterruptAsFork(n){this.tell(Vm(qo(n)))}addObserver(n){this._exitValue!==null?n(this._exitValue):this._observers.push(n)}removeObserver(n){this._observers=this._observers.filter(r=>r!==n)}getFiberRefs(){return this.setFiberRef(ex,this.currentRuntimeFlags),this._fiberRefs}unsafeDeleteFiberRef(n){this._fiberRefs=Zk(this._fiberRefs,n)}getFiberRef(n){return this._fiberRefs.locals.has(n)?this._fiberRefs.locals.get(n)[0][1]:n.initial}setFiberRef(n,r){this._fiberRefs=ov(this._fiberRefs,{fiberId:this._fiberId,fiberRef:n,value:r}),this.refreshRefCache()}refreshRefCache(){this.currentDefaultServices=this.getFiberRef(ah),this.currentTracer=this.currentDefaultServices.unsafeMap.get(Yk.key),this.currentSupervisor=this.getFiberRef(iV),this.currentScheduler=this.getFiberRef(_I),this.currentContext=this.getFiberRef(Fl),this.currentSpan=this.currentContext.unsafeMap.get(Xk.key)}setFiberRefs(n){this._fiberRefs=n,this.refreshRefCache()}addChild(n){this.getChildren().add(n)}removeChild(n){this.getChildren().delete(n)}transferChildren(n){const r=this._children;if(this._children=null,r!==null&&r.size>0)for(const i of r)i._exitValue===null&&n.add(this.currentRuntimeFlags,i)}drainQueueOnCurrentThread(){let n=!0;for(;n;){let r=Sc;const i=globalThis[bs];globalThis[bs]=this;try{for(;r===Sc;)r=this._queue.length===0?U9:this.evaluateMessageWhileSuspended(this._queue.splice(0,1)[0])}finally{this._running=!1,globalThis[bs]=i}this._queue.length>0&&!this._running?(this._running=!0,r===YE?(this.drainQueueLaterOnExecutor(),n=!1):n=!0):n=!1}}drainQueueLaterOnExecutor(){this.currentScheduler.scheduleTask(this.run,this.getFiberRef(ap))}drainQueueWhileRunning(n,r){let i=r;for(;this._queue.length>0;){const s=this._queue.splice(0,1)[0];i=K9[s._tag](this,n,i,s)}return i}isInterrupted(){return!u6(this.getFiberRef(Jf))}addInterruptedCause(n){const r=this.getFiberRef(Jf);this.setFiberRef(Jf,qr(r,n))}processNewInterruptSignal(n){this.addInterruptedCause(n),this.sendInterruptSignalToAllChildren()}sendInterruptSignalToAllChildren(){if(this._children===null||this._children.size===0)return!1;let n=!1;for(const r of this._children)r.tell(Vm(qo(this.id()))),n=!0;return n}interruptAllChildren(){if(this.sendInterruptSignalToAllChildren()){const n=this._children.values();this._children=null;let r=!1;return X0({while:()=>!r,body:()=>{const s=n.next();return s.done?St(()=>{r=!0}):Ll(s.value.await)},step:()=>{}})}return null}reportExitValue(n){if(fE(this.currentRuntimeFlags)){const r=this.getFiberRef(ev),i=this.id().startTimeMillis,s=Date.now();switch(z9.unsafeUpdate(s-i,r),JE.unsafeUpdate(-1,r),n._tag){case hi:{j9.unsafeUpdate(1,r);break}case di:{D9.unsafeUpdate(1,r);break}}}if(n._tag==="Failure"){const r=this.getFiberRef(aK);!V0(n.cause)&&r._tag==="Some"&&this.log("Fiber terminated with an unhandled error",n.cause,r)}}setExitValue(n){this._exitValue=n,this.reportExitValue(n);for(let r=this._observers.length-1;r>=0;r--)this._observers[r](n);this._observers=[]}getLoggers(){return this.getFiberRef(X9)}log(n,r,i){const s=kn(i)?i.value:this.getFiberRef(nK),a=this.getFiberRef(H9);if(Jq(a,s))return;const c=this.getFiberRef(rK),l=this.getFiberRef(eK),d=this.getLoggers(),h=this.getFiberRefs();if(MA(d)>0){const g=lA(this.getFiberRef(ah),o_),m=new Date(g.unsafeCurrentTimeMillis());j3(h,()=>{for(const y of d)y.log({fiberId:this.id(),logLevel:s,message:n,cause:r,context:h,spans:c,annotations:l,date:m})})}}evaluateMessageWhileSuspended(n){switch(n._tag){case m_:return YE;case h_:return this.processNewInterruptSignal(n.cause),this._asyncInterruptor!==null&&(this._asyncInterruptor(le(n.cause)),this._asyncInterruptor=null),Sc;case g_:return this._asyncInterruptor=null,this._asyncBlockingOn=null,this.evaluateEffect(n.effect),Sc;case p_:return n.onFiber(this,this._exitValue!==null?w8:E8(this.currentRuntimeFlags,this._asyncBlockingOn)),Sc;default:return Xf(n)}}evaluateEffect(n){this.currentSupervisor.onResume(this);try{let r=Wo(this.currentRuntimeFlags)&&this.isInterrupted()?le(this.getInterruptedCause()):n;for(;r!==null;){const i=r,s=this.runLoop(i);if(s===ao){const a=uo.currentOp;uo.currentOp=null,a._op===vd?BW(this.currentRuntimeFlags)?(this.tell(t7()),this.tell(Oa(Os)),r=null):r=Os:a._op===Bc&&(r=null)}else{this.currentRuntimeFlags=J(this.currentRuntimeFlags,jW(Qy));const a=this.interruptAllChildren();a!==null?r=bt(a,()=>s):(this._queue.length===0?this.setExitValue(s):this.tell(Oa(s)),r=null)}}}finally{this.currentSupervisor.onSuspend(this)}}start(n){if(this._running)this.tell(Oa(n));else{this._running=!0;const r=globalThis[bs];globalThis[bs]=this;try{this.evaluateEffect(n)}finally{this._running=!1,globalThis[bs]=r,this._queue.length>0&&this.drainQueueLaterOnExecutor()}}}startFork(n){this.tell(Oa(n))}patchRuntimeFlags(n,r){const i=xd(n,r);return globalThis[bs]=this,this.currentRuntimeFlags=i,i}initiateAsync(n,r){let i=!1;const s=a=>{i||(i=!0,this.tell(Oa(a)))};Wo(n)&&(this._asyncInterruptor=s);try{r(s)}catch(a){s(mi(Ui(a)))}}pushStack(n){this._stack.push(n),n._op==="OnStep"&&this._steps.push({refs:this.getFiberRefs(),flags:this.currentRuntimeFlags})}popStack(){const n=this._stack.pop();if(n)return n._op==="OnStep"&&this._steps.pop(),n}getNextSuccessCont(){let n=this.popStack();for(;n;){if(n._op!==Nm)return n;n=this.popStack()}}getNextFailCont(){let n=this.popStack();for(;n;){if(n._op!==qd&&n._op!==Hd&&n._op!==yd)return n;n=this.popStack()}}[(RT=s7,PT=c7,z3)](n){return St(()=>fA(this.currentContext,n))}Left(n){return Xn(n.left)}None(n){return Xn(new $k)}Right(n){return Re(n.right)}Some(n){return Re(n.value)}Micro(n){return ih(r=>{let i=r;const s=Q8(q8(n,this.currentContext));return s.addObserver(a=>{if(a._tag==="Success")return i(Re(a.value));switch(a.cause._tag){case"Interrupt":return i(le(qo(su)));case"Fail":return i(Xn(a.cause.error));case"Die":return i(vE(a.cause.defect))}}),ih(a=>{i=c=>{a(yi)},s.unsafeInterrupt()})})}[nO](n){const r=Bn(()=>n.effect_instruction_i0()),i=this.getNextSuccessCont();return i!==void 0?(i._op in wc||Xf(i),wc[i._op](this,i,r)):(uo.currentOp=Re(r),ao)}[hi](n){const r=n,i=this.getNextSuccessCont();return i!==void 0?(i._op in wc||Xf(i),wc[i._op](this,i,r.effect_instruction_i0)):(uo.currentOp=r,ao)}[di](n){const r=n.effect_instruction_i0,i=this.getNextFailCont();if(i!==void 0)switch(i._op){case Nm:case Vd:return Wo(this.currentRuntimeFlags)&&this.isInterrupted()?le(pE(r)):Bn(()=>i.effect_instruction_i1(r));case"OnStep":return Wo(this.currentRuntimeFlags)&&this.isInterrupted()?le(pE(r)):Re(le(r));case v0:return this.patchRuntimeFlags(this.currentRuntimeFlags,i.patch),Wo(this.currentRuntimeFlags)&&this.isInterrupted()?le(qr(r,this.getInterruptedCause())):le(r);default:Xf(i)}else return uo.currentOp=le(r),ao}[rO](n){return Bn(()=>n.effect_instruction_i0(this,uI(this.currentRuntimeFlags)))}Blocked(n){const r=this.getFiberRefs(),i=this.currentRuntimeFlags;if(this._steps.length>0){const s=[],a=this._steps[this._steps.length-1];let c=this.popStack();for(;c&&c._op!=="OnStep";)s.push(c),c=this.popStack();this.setFiberRefs(a.refs),this.currentRuntimeFlags=a.flags;const l=d8(a.refs,r),d=Ed(a.flags,i);return Re(hk(n.effect_instruction_i0,Sr(h=>{for(;s.length>0;)h.pushStack(s.pop());return h.setFiberRefs(h8(h.id(),h.getFiberRefs())(l)),h.currentRuntimeFlags=xd(d)(h.currentRuntimeFlags),n.effect_instruction_i1})))}return ip(s=>bt(WI(I6(n.effect_instruction_i0)),()=>s(n.effect_instruction_i1)))}RunBlocked(n){return q9(n.effect_instruction_i0)}[El](n){const r=n.effect_instruction_i0,i=this.currentRuntimeFlags,s=xd(i,r);if(Wo(s)&&this.isInterrupted())return le(this.getInterruptedCause());if(this.patchRuntimeFlags(this.currentRuntimeFlags,r),n.effect_instruction_i1){const a=Ed(s,i);return this.pushStack(new P6(a,n)),Bn(()=>n.effect_instruction_i1(i))}else return Os}[qd](n){return this.pushStack(n),n.effect_instruction_i0}OnStep(n){return this.pushStack(n),n.effect_instruction_i0}[Nm](n){return this.pushStack(n),n.effect_instruction_i0}[Vd](n){return this.pushStack(n),n.effect_instruction_i0}[Bc](n){return this._asyncBlockingOn=n.effect_instruction_i1,this.initiateAsync(this.currentRuntimeFlags,n.effect_instruction_i0),uo.currentOp=n,ao}[vd](n){return this._isYielding=!1,uo.currentOp=n,ao}[Hd](n){const r=n.effect_instruction_i0,i=n.effect_instruction_i1;return r()?(this.pushStack(n),i()):Os}[yd](n){return wc[yd](this,n,void 0)}[Bh](n){return Bn(()=>n.commit())}runLoop(n){let r=n;for(this.currentOpCount=0;;){if(this.currentRuntimeFlags&FW&&this.currentSupervisor.onEffect(this,r),this._queue.length>0&&(r=this.drainQueueWhileRunning(this.currentRuntimeFlags,r)),!this._isYielding){this.currentOpCount+=1;const i=this.currentScheduler.shouldYield(this);if(i!==!1){this._isYielding=!0,this.currentOpCount=0;const s=r;r=bt(Q0({priority:i}),()=>s)}}try{if(r=this.currentTracer.context(()=>V9!==r[du]._V?_E(`Cannot execute an Effect versioned ${r[du]._V} with a Runtime of version ${Mh()}`):this[r._op](r),this),r===ao){const i=uo.currentOp;return i._op===vd||i._op===Bc?ao:(uo.currentOp=null,i._op===hi||i._op===di?i:le(Ui(i)))}}catch(i){r!==ao&&!Et(r,"_op")||!(r._op in this)?r=_E(`Not a valid effect: ${Ja(r)}`):dK(i)?r=le(qr(Ui(i),qo(su))):r=vE(i)}}}}const H9=jt("effect/FiberRef/currentMinimumLogLevel",()=>Cr(Yq("Info"))),G9=t=>v_(e=>{const n=Fq(e.context,ah);lA(n,Jk).unsafe.log(t.log(e))}),J9=jt(Symbol.for("effect/Logger/defaultLogger"),()=>G9(m7)),Y9=jt(Symbol.for("effect/Logger/tracerLogger"),()=>v_(({annotations:t,cause:e,context:n,fiberId:r,logLevel:i,message:s})=>{const a=kl(rl(n,Fl),Xk);if(a._tag==="None"||a.value._tag==="ExternalSpan")return;const c=fA(rl(n,ah),o_),l={};for(const[d,h]of t)l[d]=h;l["effect.fiberId"]=E4(r),l["effect.logLevel"]=i.label,e!==null&&e._tag!=="Empty"&&(l["effect.cause"]=Mu(e,{renderErrorCause:!0})),a.value.event(Ja(Array.isArray(s)?s[0]:s),c.unsafeCurrentTimeNanos(),l)})),X9=jt(Symbol.for("effect/FiberRef/currentLoggers"),()=>Q6(D0(J9,Y9))),Q9=L(t=>YT(t[0]),(t,e,n)=>Sr(r=>{const i=(n==null?void 0:n.batching)===!0||(n==null?void 0:n.batching)==="inherit"&&r.getFiberRef(sK);return n!=null&&n.discard?KE(n.concurrency,()=>Aa(uv,n==null?void 0:n.concurrentFinalizers)(s=>i?Ns(t,(a,c)=>s(e(a,c)),!0,!1,1):np(t,(a,c)=>s(e(a,c)))),()=>Aa(cv,n==null?void 0:n.concurrentFinalizers)(s=>Ns(t,(a,c)=>s(e(a,c)),i,!1)),s=>Aa(lv(s),n==null?void 0:n.concurrentFinalizers)(a=>Ns(t,(c,l)=>a(e(c,l)),i,!1,s))):KE(n==null?void 0:n.concurrency,()=>Aa(uv,n==null?void 0:n.concurrentFinalizers)(s=>i?XE(t,1,(a,c)=>s(e(a,c)),!0):Go(t,(a,c)=>s(e(a,c)))),()=>Aa(cv,n==null?void 0:n.concurrentFinalizers)(s=>Z9(t,(a,c)=>s(e(a,c)),i)),s=>Aa(lv(s),n==null?void 0:n.concurrentFinalizers)(a=>XE(t,s,(c,l)=>a(e(c,l)),i)))})),Z9=(t,e,n)=>Ue(()=>{const r=Ne(t),i=new Array(r.length);return op(Ns(r,(a,c)=>bt(e(a,c),l=>St(()=>i[c]=l)),n,!1),ye(i))}),Ns=(t,e,n,r,i)=>ip(s=>j6(a=>Sr(c=>{let l=Array.from(t).reverse(),d=l.length;if(d===0)return yi;let h=0,g=!1;const m=i?Math.min(l.length,i):l.length,y=new Set,w=new Array,x=()=>y.forEach(z=>{z.currentScheduler.scheduleTask(()=>{z.unsafeInterruptAsFork(c.id())},0)}),C=new Array,T=new Array,$=new Array,M=()=>{const z=w.filter(({exit:K})=>K._tag==="Failure").sort((K,b)=>K.index<b.index?-1:K.index===b.index?0:1).map(({exit:K})=>K);return z.length===0&&z.push(Os),z},P=(z,K=!1)=>{const b=xk(a(z)),N=eV(b,c,c.currentRuntimeFlags,y_);return c.currentScheduler.scheduleTask(()=>{K&&N.unsafeInterruptAsFork(c.id()),N.resume(b)},0),N},j=()=>{r||(d-=l.length,l=[]),g=!0,x()},B=n?L6:yk,k=P(nl(z=>{const K=(N,D)=>{N._op==="Blocked"?$.push(N):(w.push({index:D,exit:N}),N._op==="Failure"&&!g&&j())},b=()=>{if(l.length>0){const N=l.pop();let D=h++;const X=()=>{const rt=l.pop();return D=h++,bt(Q0(),()=>bt(B(s(e(rt,D))),nt))},nt=rt=>l.length>0&&(K(rt,D),l.length>0)?X():ye(rt),mt=bt(B(s(e(N,D))),nt),ht=P(mt);C.push(ht),y.add(ht),g&&ht.currentScheduler.scheduleTask(()=>{ht.unsafeInterruptAsFork(c.id())},0),ht.addObserver(rt=>{let ot;if(rt._op==="Failure"?ot=rt:ot=rt.effect_instruction_i0,T.push(ht),y.delete(ht),K(ot,D),w.length===d)z(ye(Fe(xE(M(),{parallel:!0}),()=>Os)));else if($.length+w.length===d){const Mt=M(),Ze=$.map(ie=>ie.effect_instruction_i0).reduce(rk);z(ye(hk(Ze,Ns([Fe(xE(Mt,{parallel:!0}),()=>Os),...$.map(ie=>ie.effect_instruction_i1)],ie=>ie,n,!0,i))))}else b()})}};for(let N=0;N<m;N++)b()}));return Ll(Y0(bk(s(SI(k))),Mk({onFailure:z=>{j();const K=$.length+1,b=Math.min(typeof i=="number"?i:$.length,$.length),N=Array.from($);return nl(D=>{let X=0,nt=0;const mt=(rt,ot)=>Mt=>{X++,X===K&&D(Re(le(z))),N.length>0&&ot&&ht()},ht=()=>{P(N.pop(),!0).addObserver(mt(nt,!0)),nt++};k.addObserver(mt(nt,!1)),nt++;for(let rt=0;rt<b;rt++)ht()})},onSuccess:()=>Go(T,z=>z.inheritAll)})))}))),XE=(t,e,n,r)=>Ue(()=>{const i=Ne(t),s=new Array(i.length);return op(Ns(i,(c,l)=>Zn(n(c,l),d=>s[l]=d),r,!1,e),ye(s))}),WI=t=>nV(t,y_),tV=(t,e,n,r=null)=>{const i=KI(t,e,n,r);return i.resume(t),i},eV=(t,e,n,r=null)=>KI(t,e,n,r),KI=(t,e,n,r=null)=>{const i=DA(),s=e.getFiberRefs(),a=Mq(s,i),c=new UI(i,a,n),l=rl(a,Fl),d=c.currentSupervisor;return d.onStart(l,t,$t(e),c),c.addObserver(g=>d.onEnd(g,c)),(r!==null?r:J(e.getFiberRef(nv),Fe(()=>e.scope()))).add(n,c),c},nV=(t,e)=>Sr((n,r)=>ye(tV(t,n,r.runtimeFlags,e))),QE=t=>Bl(e=>In(kl(e,Ul),{onNone:()=>t,onSome:n=>{switch(n.strategy._tag){case"Parallel":return t;case"Sequential":case"ParallelN":return bt(up(n,cv),r=>S_(t,r))}}})),ZE=t=>e=>Bl(n=>In(kl(n,Ul),{onNone:()=>e,onSome:r=>r.strategy._tag==="ParallelN"&&r.strategy.parallelism===t?e:bt(up(r,lv(t)),i=>S_(e,i))})),Aa=(t,e)=>n=>Bl(r=>In(kl(r,Ul),{onNone:()=>n(Me),onSome:i=>{if(e===!0){const s=t._tag==="Parallel"?QE:t._tag==="Sequential"?tx:ZE(t.parallelism);switch(i.strategy._tag){case"Parallel":return s(n(QE));case"Sequential":return s(n(tx));case"ParallelN":return s(n(ZE(i.strategy.parallelism)))}}else return n(Me)}})),tx=t=>Bl(e=>In(kl(e,Ul),{onNone:()=>t,onSome:n=>{switch(n.strategy._tag){case"Sequential":return t;case"Parallel":case"ParallelN":return bt(up(n,uv),r=>S_(t,r))}}})),Ul=Zs("effect/Scope"),S_=L(2,(t,e)=>xK(t,dA(sU(Ul,e)))),rV=t=>Nu(t,{differ:F9,fork:zc}),ex=tK(DW),iV=rV(hp),oV=(t,e,n)=>_k(r=>bt(bt(WI(Sk(t)),i=>nl(s=>{const a=e.map(d=>d.listeners.count),c=()=>{a.every(d=>d===0)&&e.every(d=>d.result.state.current._tag==="Pending"?!0:!!(d.result.state.current._tag==="Done"&&n_(d.result.state.current.effect)&&d.result.state.current.effect._tag==="Failure"&&c6(d.result.state.current.effect.cause)))&&(l.forEach(d=>d()),n==null||n(),s(z6(i)))};i.addObserver(d=>{l.forEach(h=>h()),s(d)});const l=e.map((d,h)=>{const g=m=>{a[h]=m,c()};return d.listeners.addObserver(g),()=>d.listeners.removeObserver(g)});return c(),St(()=>{l.forEach(d=>d())})})),()=>Ue(()=>{const i=e.flatMap(s=>s.state.completed?[]:[s]);return np(i,s=>k9(s.request,mK(r)))}))),sV=a6,aV=Mu,uV=cK,cV=up,lV=D4,fV=t=>e=>{const n=e===void 0?Object.create(Cl):lV(e);return n._tag=t,n},dV=()=>new Proxy({},{get(t,e,n){return e==="$is"?h0:e==="$match"?hV:fV(e)}});function hV(){if(arguments.length===1){const n=arguments[0];return function(r){return n[r._tag](r)}}const t=arguments[0];return arguments[1][t._tag](t)}const pV=function(){const t=Symbol.for("effect/Data/Error/plainArgs");return class extends e_{constructor(n){super(n==null?void 0:n.message,n!=null&&n.cause?{cause:n.cause}:void 0),n&&(Object.assign(this,n),Object.defineProperty(this,t,{value:n,enumerable:!1}))}toJSON(){return{...this[t],...this}}}}(),gV=t=>{class e extends pV{constructor(){super(...arguments);_(this,"_tag",t)}}return e.prototype.name=t,e},qI=t=>(e,n)=>{const r=DA(),i=[[Fl,[[r,t.context]]]];n!=null&&n.scheduler&&i.push([_I,[[r,n.scheduler]]]);let s=Bq(t.fiberRefs,{entries:i,forkAs:r});n!=null&&n.updateRefs&&(s=n.updateRefs(s,r));const a=new UI(r,s,t.runtimeFlags);let c=e;n!=null&&n.scope&&(c=bt(cV(n.scope,aI),d=>op(uK(d,_k(h=>Ot(h,a.id())?yi:Ok(a,h))),Y0(e,h=>uV(d,h)))));const l=a.currentSupervisor;return l!==hp&&(l.onStart(t.context,c,ft(),a),a.addObserver(d=>l.onEnd(d,a))),y_.add(t.runtimeFlags,a),(n==null?void 0:n.immediate)===!1?a.resume(c):a.start(c),a},mV=t=>e=>{const n=wV(t)(e);if(n._tag==="Failure")throw bV(n.effect_instruction_i0);return n.effect_instruction_i0};class yV extends Error{constructor(n){super(`Fiber #${n.id().id} cannot be resolved synchronously. This is caused by using runSync on an effect that performs async work`);_(this,"fiber");_(this,"_tag","AsyncFiberException");this.fiber=n,this.name=this._tag,this.stack=this.message}}const vV=t=>{const e=Error.stackTraceLimit;Error.stackTraceLimit=0;const n=new yV(t);return Error.stackTraceLimit=e,n},Hm=Symbol.for("effect/Runtime/FiberFailure"),Qf=Symbol.for("effect/Runtime/FiberFailure/Cause");var $T,MT;class _V extends Error{constructor(n){const r=fk(n)[0];super((r==null?void 0:r.message)||"An error has occurred");_(this,MT);_(this,$T);this[Hm]=Hm,this[Qf]=n,this.name=r?`(FiberFailure) ${r.name}`:"FiberFailure",r!=null&&r.stack&&(this.stack=r.stack)}toJSON(){return{_id:"FiberFailure",cause:this[Qf].toJSON()}}toString(){return"(FiberFailure) "+Mu(this[Qf],{renderErrorCause:!0})}[(MT=Hm,$T=Qf,ve)](){return this.toString()}}const bV=t=>{const e=Error.stackTraceLimit;Error.stackTraceLimit=0;const n=new _V(t);return Error.stackTraceLimit=e,n},SV=t=>{const e=t;switch(e._op){case"Failure":case"Success":return e;case"Left":return CE(e.left);case"Right":return Re(e.right);case"Some":return Re(e.value);case"None":return CE($k())}},wV=t=>e=>{const n=SV(e);if(n)return n;const r=new vI,i=qI(t)(e,{scheduler:r});r.flush();const s=i.unsafePoll();return s||gK(G0(vV(i),r_(i)))};class EV{constructor(e,n,r){_(this,"context");_(this,"runtimeFlags");_(this,"fiberRefs");this.context=e,this.runtimeFlags=n,this.fiberRefs=r}pipe(){return vt(this,arguments)}}const xV=t=>new EV(t.context,t.runtimeFlags,t.fiberRefs),CV=ek(Pu,ZA,QA),VI=xV({context:P0(),runtimeFlags:CV,fiberRefs:jq()}),TV=qI(VI),OV=mV(VI),AV=ep,Ad=Q9,Zf=Ue,Br=yi,kV=tv,wv=Zn,IV=rp,ka=oh,Ai=bt,PV=TV,RV=OV;class Sn{constructor(e,n,r){_(this,"path");_(this,"actual");_(this,"issue");_(this,"_tag","Pointer");this.path=e,this.actual=n,this.issue=r}}class nx{constructor(e,n){_(this,"actual");_(this,"message");_(this,"_tag","Unexpected");this.actual=e,this.message=n}}class Ec{constructor(e,n){_(this,"ast");_(this,"message");_(this,"_tag","Missing");_(this,"actual");this.ast=e,this.message=n}}class ke{constructor(e,n,r,i){_(this,"ast");_(this,"actual");_(this,"issues");_(this,"output");_(this,"_tag","Composite");this.ast=e,this.actual=n,this.issues=r,this.output=i}}class Gm{constructor(e,n,r,i){_(this,"ast");_(this,"actual");_(this,"kind");_(this,"issue");_(this,"_tag","Refinement");this.ast=e,this.actual=n,this.kind=r,this.issue=i}}class Jm{constructor(e,n,r,i){_(this,"ast");_(this,"actual");_(this,"kind");_(this,"issue");_(this,"_tag","Transformation");this.ast=e,this.actual=n,this.kind=r,this.issue=i}}class Vo{constructor(e,n,r){_(this,"ast");_(this,"actual");_(this,"message");_(this,"_tag","Type");this.ast=e,this.actual=n,this.message=r}}class rx{constructor(e,n,r){_(this,"ast");_(this,"actual");_(this,"message");_(this,"_tag","Forbidden");this.ast=e,this.actual=n,this.message=r}}const ix=Symbol.for("effect/Schema/ParseErrorTypeId");var NT;class $V extends gV("ParseError"){constructor(){super(...arguments);_(this,NT,ix)}get message(){return this.toString()}toString(){return kd.formatIssueSync(this.issue)}toJSON(){return{_id:"ParseError",message:this.toString()}}[(NT=ix,ve)](){return this.toJSON()}}const HI=t=>new $V({issue:t}),ox=Lt,sx=iD,Yn=oD,Jo=L(2,(t,e)=>Yn(t)?w0(t,{onLeft:Ct,onRight:e}):Ai(t,e)),Pi=L(2,(t,e)=>Yn(t)?sD(t,e):wv(t,e)),Ym=L(2,(t,e)=>Yn(t)?dO(t,e):IV(t,e)),GI=L(2,(t,e)=>Yn(t)?w0(t,{onLeft:e,onRight:Lt}):kV(t,e)),JI=(t,e)=>e===void 0||Bs(e)?t:t===void 0?e:{...t,...e},w_=(t,e,n)=>{const r=En(t,e);return(i,s)=>r(i,JI(n,s))},MV=(t,e,n)=>{const r=w_(t,e,n);return(i,s)=>hO(r(i,s),HI)},NV=(t,e,n)=>{const r=w_(t,e,n);return(i,s)=>fD(r(i,s))},LV=(t,e)=>w_(t.ast,!0,e),FV=(t,e)=>NV(t.ast,!1,e),BV=(t,e)=>MV(un(t.ast),!0,e),jV=FV,DV=jt(Symbol.for("effect/ParseResult/decodeMemoMap"),()=>new WeakMap),zV=jt(Symbol.for("effect/ParseResult/encodeMemoMap"),()=>new WeakMap),En=(t,e)=>{const n=e?DV:zV,r=n.get(t);if(r)return r;const i=UV(t,e),s=iz(t),a=kn(s)?(d,h)=>i(d,JI(h,s.value)):i,c=oz(t),l=e&&kn(c)?(d,h)=>Pc(GI(a(d,h),c.value),t,d,h):a;return n.set(t,l),l},Xm=t=>ai(ez(t)),Qm=t=>ai(nz(t)),UV=(t,e)=>{switch(t._tag){case"Refinement":if(e){const n=En(t.from,!0);return(r,i)=>{i=i??Fm;const s=(i==null?void 0:i.errors)==="all",a=Jo(GI(n(r,i),c=>{const l=new Gm(t,r,"From",c);return s&&az(t)&&ZI(c)?In(t.filter(r,i,t),{onNone:()=>Ct(l),onSome:d=>Ct(new ke(t,r,[l,new Gm(t,r,"Predicate",d)]))}):Ct(l)}),c=>In(t.filter(c,i,t),{onNone:()=>Lt(c),onSome:l=>Ct(new Gm(t,r,"Predicate",l))}));return Pc(a,t,r,i)}}else{const n=En(un(t),!0),r=En(YI(t.from),!1);return(i,s)=>Pc(Jo(n(i,s),a=>r(a,s)),t,i,s)}case"Transformation":{const n=qV(t.transformation,e),r=e?En(t.from,!0):En(t.to,!1),i=e?En(t.to,!0):En(t.from,!1);return(s,a)=>Pc(Jo(Ym(r(s,a),c=>new Jm(t,s,e?"Encoded":"Type",c)),c=>Jo(Ym(n(c,a??Fm,t,s),l=>new Jm(t,s,"Transformation",l)),l=>Ym(i(l,a),d=>new Jm(t,s,e?"Type":"Encoded",d)))),t,s,a)}case"Declaration":{const n=e?t.decodeUnknown(...t.typeParameters):t.encodeUnknown(...t.typeParameters);return(r,i)=>Pc(n(r,i??Fm,t),t,r,i)}case"Literal":return lr(t,n=>n===t.literal);case"UniqueSymbol":return lr(t,n=>n===t.symbol);case"UndefinedKeyword":return lr(t,S3);case"NeverKeyword":return lr(t,w3);case"UnknownKeyword":case"AnyKeyword":case"VoidKeyword":return Lt;case"StringKeyword":return lr(t,qi);case"NumberKeyword":return lr(t,Bs);case"BooleanKeyword":return lr(t,f0);case"BigIntKeyword":return lr(t,Nh);case"SymbolKeyword":return lr(t,Ry);case"ObjectKeyword":return lr(t,os);case"Enums":return lr(t,n=>t.enums.some(([r,i])=>i===n));case"TemplateLiteral":{const n=jz(t);return lr(t,r=>qi(r)&&n.test(r))}case"TupleType":{const n=t.elements.map(d=>En(d.type,e)),r=t.rest.map(d=>En(d.type,e));let i=t.elements.filter(d=>!d.isOptional);t.rest.length>0&&(i=i.concat(t.rest.slice(1)));const s=i.length,a=t.elements.length>0?t.elements.map((d,h)=>h).join(" | "):"never",c=Xm(t),l=Qm(t);return(d,h)=>{if(!xD(d))return Ct(new Vo(t,d));const g=(h==null?void 0:h.errors)==="all",m=[];let y=0;const w=[],x=d.length;for(let M=x;M<=s-1;M++){const P=new Sn(M,d,new Ec(i[M-x]));if(g){m.push([y++,P]);continue}else return Ct(new ke(t,d,P,w))}if(t.rest.length===0)for(let M=t.elements.length;M<=x-1;M++){const P=new Sn(M,d,new nx(d[M],`is unexpected, expected: ${a}`));if(g){m.push([y++,P]);continue}else return Ct(new ke(t,d,P,w))}let C=0,T;for(;C<n.length;C++)if(x<C+1){if(t.elements[C].isOptional)continue}else{const M=n[C],P=M(d[C],h);if(Yn(P)){if(sn(P)){const j=new Sn(C,d,P.left);if(g){m.push([y++,j]);continue}else return Ct(new ke(t,d,j,oi(w)))}w.push([y++,P.right])}else{const j=y++,B=C;T||(T=[]),T.push(({es:k,output:z})=>Ai(ka(P),K=>{if(sn(K)){const b=new Sn(B,d,K.left);return g?(k.push([j,b]),Br):Ct(new ke(t,d,b,oi(z)))}return z.push([j,K.right]),Br}))}}if(Ye(r)){const[M,...P]=r;for(;C<x-P.length;C++){const j=M(d[C],h);if(Yn(j))if(sn(j)){const B=new Sn(C,d,j.left);if(g){m.push([y++,B]);continue}else return Ct(new ke(t,d,B,oi(w)))}else w.push([y++,j.right]);else{const B=y++,k=C;T||(T=[]),T.push(({es:z,output:K})=>Ai(ka(j),b=>{if(sn(b)){const N=new Sn(k,d,b.left);return g?(z.push([B,N]),Br):Ct(new ke(t,d,N,oi(K)))}else return K.push([B,b.right]),Br}))}}for(let j=0;j<P.length;j++)if(C+=j,!(x<C+1)){const B=P[j](d[C],h);if(Yn(B)){if(sn(B)){const k=new Sn(C,d,B.left);if(g){m.push([y++,k]);continue}else return Ct(new ke(t,d,k,oi(w)))}w.push([y++,B.right])}else{const k=y++,z=C;T||(T=[]),T.push(({es:K,output:b})=>Ai(ka(B),N=>{if(sn(N)){const D=new Sn(z,d,N.left);return g?(K.push([k,D]),Br):Ct(new ke(t,d,D,oi(b)))}return b.push([k,N.right]),Br}))}}}const $=({es:M,output:P})=>_d(M)?Ct(new ke(t,d,oi(M),oi(P))):Lt(oi(P));if(T&&T.length>0){const M=T;return Zf(()=>{const P={es:kc(m),output:kc(w)};return Ai(Ad(M,j=>j(P),{concurrency:c,batching:l,discard:!0}),()=>$(P))})}return $({output:w,es:m})}}case"TypeLiteral":{if(t.propertySignatures.length===0&&t.indexSignatures.length===0)return lr(t,E3);const n=[],r={},i=[];for(const h of t.propertySignatures)n.push([En(h.type,e),h]),r[h.name]=null,i.push(h.name);const s=t.indexSignatures.map(h=>[En(h.parameter,e),En(h.type,e),h.parameter]),a=Ri.make(t.indexSignatures.map(h=>h.parameter).concat(i.map(h=>Ry(h)?new fz(h):new Ny(h)))),c=En(a,e),l=Xm(t),d=Qm(t);return(h,g)=>{if(!C3(h))return Ct(new Vo(t,h));const m=(g==null?void 0:g.errors)==="all",y=[];let w=0;const x=(g==null?void 0:g.onExcessProperty)==="error",C=(g==null?void 0:g.onExcessProperty)==="preserve",T={};let $;if(x||C){$=Da(h);for(const B of $){const k=c(B,g);if(Yn(k)&&sn(k))if(x){const z=new Sn(B,h,new nx(h[B],`is unexpected, expected: ${String(a)}`));if(m){y.push([w++,z]);continue}else return Ct(new ke(t,h,z,T))}else T[B]=h[B]}}let M;const P=(g==null?void 0:g.exact)===!0;for(let B=0;B<n.length;B++){const k=n[B][1],z=k.name,K=Object.prototype.hasOwnProperty.call(h,z);if(!K){if(k.isOptional)continue;if(P){const D=new Sn(z,h,new Ec(k));if(m){y.push([w++,D]);continue}else return Ct(new ke(t,h,D,T))}}const b=n[B][0],N=b(h[z],g);if(Yn(N)){if(sn(N)){const D=new Sn(z,h,K?N.left:new Ec(k));if(m){y.push([w++,D]);continue}else return Ct(new ke(t,h,D,T))}T[z]=N.right}else{const D=w++,X=z;M||(M=[]),M.push(({es:nt,output:mt})=>Ai(ka(N),ht=>{if(sn(ht)){const rt=new Sn(X,h,K?ht.left:new Ec(k));return m?(nt.push([D,rt]),Br):Ct(new ke(t,h,rt,mt))}return mt[X]=ht.right,Br}))}}for(let B=0;B<s.length;B++){const k=s[B],z=k[0],K=k[1],b=CO(h,k[2]);for(const N of b){const D=z(N,g);if(Yn(D)&&ho(D)){const X=K(h[N],g);if(Yn(X))if(sn(X)){const nt=new Sn(N,h,X.left);if(m){y.push([w++,nt]);continue}else return Ct(new ke(t,h,nt,T))}else Object.prototype.hasOwnProperty.call(r,N)||(T[N]=X.right);else{const nt=w++,mt=N;M||(M=[]),M.push(({es:ht,output:rt})=>Ai(ka(X),ot=>{if(sn(ot)){const Mt=new Sn(mt,h,ot.left);return m?(ht.push([nt,Mt]),Br):Ct(new ke(t,h,Mt,rt))}else return Object.prototype.hasOwnProperty.call(r,N)||(rt[N]=ot.right),Br}))}}}}const j=({es:B,output:k})=>{if(_d(B))return Ct(new ke(t,h,oi(B),k));if((g==null?void 0:g.propertyOrder)==="original"){const z=$||Da(h);for(const b of i)z.indexOf(b)===-1&&z.push(b);const K={};for(const b of z)Object.prototype.hasOwnProperty.call(k,b)&&(K[b]=k[b]);return Lt(K)}return Lt(k)};if(M&&M.length>0){const B=M;return Zf(()=>{const k={es:kc(y),output:Object.assign({},T)};return Ai(Ad(B,z=>z(k),{concurrency:l,batching:d,discard:!0}),()=>j(k))})}return j({es:y,output:T})}}case"Union":{const n=WV(t.types,e),r=Da(n.keys),i=r.length,s=t.types.length,a=new Map;for(let d=0;d<s;d++)a.set(t.types[d],En(t.types[d],e));const c=Xm(t)??1,l=Qm(t);return(d,h)=>{const g=[];let m=0,y=[];if(i>0)if(d0(d))for(let C=0;C<i;C++){const T=r[C],$=n.keys[T].buckets;if(Object.prototype.hasOwnProperty.call(d,T)){const M=String(d[T]);if(Object.prototype.hasOwnProperty.call($,M))y=y.concat($[M]);else{const{candidates:P,literals:j}=n.keys[T],B=Ri.make(j),k=P.length===s?new Rs([new Tn(T,B,!1,!0)],[]):Ri.make(P);g.push([m++,new ke(k,d,new Sn(T,d,new Vo(B,d[T])))])}}else{const{candidates:M,literals:P}=n.keys[T],j=new Tn(T,Ri.make(P),!1,!0),B=M.length===s?new Rs([j],[]):Ri.make(M);g.push([m++,new ke(B,d,new Sn(T,d,new Ec(j)))])}}else{const C=n.candidates.length===s?t:Ri.make(n.candidates);g.push([m++,new Vo(C,d)])}n.otherwise.length>0&&(y=y.concat(n.otherwise));let w;for(let C=0;C<y.length;C++){const T=y[C],$=a.get(T)(d,h);if(Yn($)&&(!w||w.length===0)){if(ho($))return $;g.push([m++,$.left])}else{const M=m++;w||(w=[]),w.push(P=>Zf(()=>"finalResult"in P?Br:Ai(ka($),j=>(ho(j)?P.finalResult=j:P.es.push([M,j.left]),Br))))}}const x=C=>_d(C)?C.length===1&&C[0][1]._tag==="Type"?Ct(C[0][1]):Ct(new ke(t,d,oi(C))):Ct(new Vo(t,d));if(w&&w.length>0){const C=w;return Zf(()=>{const T={es:kc(g)};return Ai(Ad(C,$=>$(T),{concurrency:c,batching:l,discard:!0}),()=>"finalResult"in T?T.finalResult:x(T.es))})}return x(g)}}case"Suspend":{const n=TO(()=>En(Za(t.f(),t.annotations),e));return(r,i)=>n()(r,i)}}},lr=(t,e)=>n=>e(n)?Lt(n):Ct(new Vo(t,n)),Ic=(t,e)=>{switch(t._tag){case"Declaration":{const n=qO(t);if(kn(n))return Ic(n.value,e);break}case"TypeLiteral":{const n=[];for(let r=0;r<t.propertySignatures.length;r++){const i=t.propertySignatures[r],s=e?tE(i.type):un(i.type);Xw(s)&&!i.isOptional&&n.push([i.name,s])}return n}case"TupleType":{const n=[];for(let r=0;r<t.elements.length;r++){const i=t.elements[r],s=e?tE(i.type):un(i.type);Xw(s)&&!i.isOptional&&n.push([r,s])}return n}case"Refinement":return Ic(t.from,e);case"Suspend":return Ic(t.f(),e);case"Transformation":return Ic(e?t.from:t.to,e)}return[]},WV=(t,e)=>{const n={},r=[],i=[];for(let s=0;s<t.length;s++){const a=t[s],c=Ic(a,e);if(c.length>0){i.push(a);for(let l=0;l<c.length;l++){const[d,h]=c[l],g=String(h.literal);n[d]=n[d]||{buckets:{},literals:[],candidates:[]};const m=n[d].buckets;if(Object.prototype.hasOwnProperty.call(m,g)){if(l<c.length-1)continue;m[g].push(a),n[d].literals.push(h),n[d].candidates.push(a)}else{m[g]=[a],n[d].literals.push(h),n[d].candidates.push(a);break}}}else r.push(a)}return{keys:n,otherwise:r,candidates:i}},YI=t=>A0(t)?YI(t.from):t,Pc=(t,e,n,r)=>{if((r==null?void 0:r.isEffectAllowed)===!0||Yn(t))return t;const i=new vI,s=PV(t,{scheduler:i});i.flush();const a=s.unsafePoll();if(a){if(CK(a))return Lt(a.value);const c=a.cause;return sV(c)?Ct(c.error):Ct(new rx(e,n,aV(c)))}return Ct(new rx(e,n,"cannot be be resolved synchronously, this is caused by using runSync on an effect that performs async work"))},KV=([t],[e])=>t>e?1:t<e?-1:0;function oi(t){return t.sort(KV).map(e=>e[1])}const qV=(t,e)=>{switch(t._tag){case"FinalTransformation":return e?t.decode:t.encode;case"ComposeTransformation":return Lt;case"TypeLiteralTransformation":return n=>{let r=Lt(n);for(const i of t.propertySignatureTransformations){const[s,a]=e?[i.from,i.to]:[i.to,i.from],c=e?i.decode:i.encode;r=Pi(r,d=>{const h=c(Object.prototype.hasOwnProperty.call(d,s)?$t(d[s]):ft());return delete d[s],kn(h)&&(d[a]=h.value),d})}return r}}},Fn=(t,e=[])=>({value:t,forest:e}),kd={formatIssue:t=>Pi(La(t),VV),formatIssueSync:t=>{const e=kd.formatIssue(t);return Yn(e)?uD(e):RV(e)},formatError:t=>kd.formatIssue(t.issue),formatErrorSync:t=>kd.formatIssueSync(t.issue)},VV=t=>t.value+XI(`
`,t.forest),XI=(t,e)=>{let n="";const r=e.length;let i;for(let s=0;s<r;s++){i=e[s];const a=s===r-1;n+=t+(a?"└":"├")+"─ "+i.value,n+=XI(t+(r>1&&!a?"│  ":"   "),i.forest)}return n},HV=t=>{switch(t){case"Encoded":return"Encoded side transformation failure";case"Transformation":return"Transformation process failure";case"Type":return"Type side transformation failure"}},GV=t=>{switch(t){case"From":return"From side refinement failure";case"Predicate":return"Predicate refinement failure"}},QI=t=>"ast"in t?$t(t.ast):ft(),Ev=Lt(void 0),JV=t=>QI(t).pipe(Au(ZD),In({onNone:()=>Ev,onSome:e=>{const n=e(t);return qi(n)?Lt({message:n,override:!1}):AV(n)?wv(n,r=>({message:r,override:!1})):qi(n.message)?Lt({message:n.message,override:n.override}):wv(n.message,r=>({message:r,override:n.override}))}})),E_=t=>e=>e._tag===t,ZI=E_("Composite"),ax=E_("Refinement"),ux=E_("Transformation"),Uc=t=>Jo(JV(t),e=>e!==void 0?!e.override&&(ZI(t)||ax(t)&&t.kind==="From"||ux(t)&&t.kind!=="Transformation")?ux(t)||ax(t)?Uc(t.issue):Ev:Lt(e.message):Ev),tP=t=>QI(t).pipe(Au(rz),pD(e=>e(t)),ai);function YV(t){return KO(t).pipe(Yo(()=>UO(t)),Yo(()=>WO(t)),Yo(()=>Dh(t)),Fe(()=>`{ ${t.from} | filter }`))}function XV(t){return t.message!==void 0?t.message:`Expected ${A0(t.ast)?YV(t.ast):String(t.ast)}, actual ${zi(t.actual)}`}const QV=t=>Pi(Uc(t),e=>e??tP(t)??XV(t)),td=t=>tP(t)??String(t.ast),ZV=t=>t.message??"is forbidden",tH=t=>t.message??"is unexpected",eH=t=>{const e=tz(t.ast);if(kn(e)){const n=e.value();return qi(n)?Lt(n):n}return Lt(t.message??"is missing")},La=t=>{switch(t._tag){case"Type":return Pi(QV(t),Fn);case"Forbidden":return Lt(Fn(td(t),[Fn(ZV(t))]));case"Unexpected":return Lt(Fn(tH(t)));case"Missing":return Pi(eH(t),Fn);case"Transformation":return Jo(Uc(t),e=>e!==void 0?Lt(Fn(e)):Pi(La(t.issue),n=>Fn(td(t),[Fn(HV(t.kind),[n])])));case"Refinement":return Jo(Uc(t),e=>e!==void 0?Lt(Fn(e)):Pi(La(t.issue),n=>Fn(td(t),[Fn(GV(t.kind),[n])])));case"Pointer":return Pi(La(t.issue),e=>Fn(UD(t.path),[e]));case"Composite":return Jo(Uc(t),e=>{if(e!==void 0)return Lt(Fn(e));const n=td(t);return OO(t.issues)?Pi(Ad(t.issues,La),r=>Fn(n,r)):Pi(La(t.issues),r=>Fn(n,[r]))})}},nH=L(t=>os(t[0]),(t,...e)=>{const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}),rH=L(t=>os(t[0]),(t,...e)=>{const n={...t};for(const r of e)delete n[r];return n}),il=Symbol.for("effect/Schema");function Tr(t){var e,n,r;return n=il,e=il,r=class{constructor(){_(this,n,cx)}static annotations(s){return Tr(ea(this.ast,s))}static pipe(){return vt(this,arguments)}static toString(){return String(t)}},_(r,"ast",t),_(r,"Type"),_(r,"Encoded"),_(r,"Context"),_(r,e,cx),r}const cx={_A:t=>t,_I:t=>t,_R:t=>t},lx={schemaId:JD,message:AO,missingMessage:x0,identifier:kO,title:xo,description:Ol,examples:IO,default:PO,documentation:YD,jsonSchema:RO,arbitrary:$O,pretty:MO,equivalence:NO,concurrency:LO,batching:FO,parseIssueTitle:BO,parseOptions:jO,decodingFallback:DO},x_=t=>{if(!t)return{};const e={...t};for(const n in lx)if(n in t){const r=lx[n];e[r]=t[n],delete e[n]}return e},ea=(t,e)=>Za(t,x_(e)),iH=(t,e)=>{const n=LV(t,e);return(r,i)=>dO(n(r,i),HI)},ts=t=>Et(t,il)&&os(t[il]);function oH(t){return O0(t)?Ri.make(kz(t,e=>new Ny(e))):new Ny(t[0])}function eP(t,e=oH(t)){var n;return n=class extends Tr(e){static annotations(i){return eP(this.literals,ea(this.ast,i))}},_(n,"literals",[...t]),n}function gn(...t){return Ye(t)?eP(t):nP}class sH extends Tr(Ly){}class nP extends Tr(C0){}class aH extends Tr(GO){}class rP extends Tr(JO){}class Dn extends Tr(yz){}class Le extends Tr(bz){}class C_ extends Tr(wz){}const uH=t=>Ri.make(t.map(e=>e.ast));function iP(t,e=uH(t)){var n;return n=class extends Tr(e){static annotations(i){return iP(this.members,ea(this.ast,i))}},_(n,"members",[...t]),n}function ss(...t){return O0(t)?iP(t):Ye(t)?t[0]:nP}const cH=t=>ss(t,sH),lH=(t,e)=>new T0(t.map(n=>ts(n)?new Xs(n.ast,!1):n.ast),e.map(n=>ts(n)?new zh(n.ast):n.ast),!0);function oP(t,e,n=lH(t,e)){var r;return r=class extends Tr(n){static annotations(s){return oP(this.elements,this.rest,ea(this.ast,s))}},_(r,"elements",[...t]),_(r,"rest",[...e]),r}function sP(t,e){var n;return n=class extends oP([],[t],e){static annotations(i){return sP(this.value,ea(this.ast,i))}},_(n,"value",t),n}const gu=t=>sP(t),xv=t=>t?'"?:"':'":"';class pp extends Xs{constructor(n,r,i,s,a){super(n,r,s);_(this,"isReadonly");_(this,"defaultValue");_(this,"_tag","PropertySignatureDeclaration");this.isReadonly=i,this.defaultValue=a}toString(){const n=xv(this.isOptional),r=String(this.type);return`PropertySignature<${n}, ${r}, never, ${n}, ${r}>`}}class fH extends Xs{constructor(n,r,i,s,a){super(n,r,s);_(this,"isReadonly");_(this,"fromKey");this.isReadonly=i,this.fromKey=a}}class aP extends Xs{constructor(n,r,i,s,a){super(n,r,s);_(this,"isReadonly");_(this,"defaultValue");this.isReadonly=i,this.defaultValue=a}}const dH=t=>t===void 0?"never":qi(t)?JSON.stringify(t):String(t);class uP{constructor(e,n,r,i){_(this,"from");_(this,"to");_(this,"decode");_(this,"encode");_(this,"_tag","PropertySignatureTransformation");this.from=e,this.to=n,this.decode=r,this.encode=i}toString(){return`PropertySignature<${xv(this.to.isOptional)}, ${this.to.type}, ${dH(this.from.fromKey)}, ${xv(this.from.isOptional)}, ${this.from.type}>`}}const cP=(t,e)=>{switch(t._tag){case"PropertySignatureDeclaration":return new pp(t.type,t.isOptional,t.isReadonly,{...t.annotations,...e},t.defaultValue);case"PropertySignatureTransformation":return new uP(new fH(t.from.type,t.from.isOptional,t.from.isReadonly,t.from.annotations),new aP(t.to.type,t.to.isOptional,t.to.isReadonly,{...t.to.annotations,...e},t.to.defaultValue),t.decode,t.encode)}},lP=Symbol.for("effect/PropertySignature"),fP=t=>Et(t,lP);var LT,FT;FT=il,LT=lP;const Xb=class Xb{constructor(e){_(this,"ast");_(this,FT);_(this,LT,null);_(this,"_TypeToken");_(this,"_Key");_(this,"_EncodedToken");_(this,"_HasDefault");this.ast=e}pipe(){return vt(this,arguments)}annotations(e){return new Xb(cP(this.ast,x_(e)))}toString(){return String(this.ast)}};let mh=Xb;const fx=t=>new mh(t);class gp extends mh{constructor(n,r){super(n);_(this,"from");this.from=r}annotations(n){return new gp(cP(this.ast,x_(n)),this.from)}}const hH=t=>new gp(new pp(t.ast,!1,!0,{},void 0),t),pH=L(2,(t,e)=>{const n=t.ast;switch(n._tag){case"PropertySignatureDeclaration":return fx(new pp(n.type,n.isOptional,n.isReadonly,n.annotations,e));case"PropertySignatureTransformation":return fx(new uP(n.from,new aP(n.to.type,n.to.isOptional,n.to.isReadonly,n.to.annotations,e),n.decode,n.encode))}}),Qn=t=>{const e=t.ast===Ly||t.ast===C0?Ly:cH(t).ast;return new gp(new pp(e,!0,!0,{},void 0),t)},gH=rA([x0]),mH=(t,e)=>{const n=Da(t),r=[];if(n.length>0){const s=[],a=[],c=[];for(let l=0;l<n.length;l++){const d=n[l],h=t[d];if(fP(h)){const g=h.ast;switch(g._tag){case"PropertySignatureDeclaration":{const m=g.type,y=g.isOptional,w=g.annotations;s.push(new Tn(d,m,y,!0,gH(g))),a.push(new Tn(d,un(m),y,!0,w)),r.push(new Tn(d,m,y,!0,w));break}case"PropertySignatureTransformation":{const m=g.from.fromKey??d;s.push(new Tn(m,g.from.type,g.from.isOptional,!0,g.from.annotations)),a.push(new Tn(d,g.to.type,g.to.isOptional,!0,g.to.annotations)),c.push(new Mz(m,d,g.decode,g.encode));break}}}else s.push(new Tn(d,h.ast,!1,!0)),a.push(new Tn(d,un(h.ast),!1,!0)),r.push(new Tn(d,h.ast,!1,!0))}if(Ye(c)){const l=[],d=[];for(const h of e){const{indexSignatures:g,propertySignatures:m}=Zw(h.key.ast,h.value.ast);m.forEach(y=>{s.push(y),a.push(new Tn(y.name,un(y.type),y.isOptional,y.isReadonly,y.annotations))}),g.forEach(y=>{l.push(y),d.push(new Uh(y.parameter,un(y.type),y.isReadonly))})}return new k0(new Rs(s,l,{[My]:"Struct (Encoded side)"}),new Rs(a,d,{[My]:"Struct (Type side)"}),new Nz(c))}}const i=[];for(const s of e){const{indexSignatures:a,propertySignatures:c}=Zw(s.key.ast,s.value.ast);c.forEach(l=>r.push(l)),a.forEach(l=>i.push(l))}return new Rs(r,i)},yH=(t,e)=>{const n=Da(t);for(const r of n){const i=t[r];if(e[r]===void 0&&fP(i)){const s=i.ast,a=s._tag==="PropertySignatureDeclaration"?s.defaultValue:s.to.defaultValue;a!==void 0&&(e[r]=a())}}return e};function dP(t,e,n=mH(t,e)){var r;return r=class extends Tr(n){static annotations(s){return dP(this.fields,this.records,ea(this.ast,s))}static pick(...s){return pt(nH(t,...s))}static omit(...s){return pt(rH(t,...s))}},_(r,"fields",{...t}),_(r,"records",[...e]),_(r,"make",(s,a)=>{const c=yH(t,{...s});return wH(a)?c:BV(r)(c)}),r}function pt(t,...e){return dP(t,e)}const vH=t=>gn(t).pipe(hH,pH(()=>t)),On=(t,e)=>pt({_tag:vH(t),...e}),_H=L(t=>ts(t[1]),(t,e)=>T_(t,e,zz(t.ast,e.ast)));function T_(t,e,n){var r;return r=class extends Tr(n){static annotations(s){return T_(this.from,this.to,ea(this.ast,s))}},_(r,"from",t),_(r,"to",e),r}const hP=L(t=>ts(t[0])&&ts(t[1]),(t,e,n)=>T_(t,e,new k0(t.ast,e.ast,new Pz(n.decode,n.encode)))),bH=L(t=>ts(t[0])&&ts(t[1]),(t,e,n)=>hP(t,e,{strict:!0,decode:(r,i,s,a)=>ox(n.decode(r,a)),encode:(r,i,s,a)=>ox(n.encode(r,a))})),dx=t=>t instanceof Error?t.message:String(t),SH=t=>hP(Dn.annotations({description:"a string to be decoded into JSON"}),aH,{strict:!0,decode:(e,n,r)=>sx({try:()=>JSON.parse(e,t==null?void 0:t.reviver),catch:i=>new Vo(r,e,dx(i))}),encode:(e,n,r)=>sx({try:()=>JSON.stringify(e,t==null?void 0:t.replacer,t==null?void 0:t.space),catch:i=>new Vo(r,e,dx(i))})}).annotations({title:"parseJson",schemaId:lz}),pP=(t,e)=>ts(t)?_H(pP(e),t):SH(t);function wH(t){return f0(t)?t:(t==null?void 0:t.disableValidation)??!1}const gP=Symbol.for("midi/structor/schema/form/annotation"),EH=t=>({[gP]:t}),xH=t=>t._tag==="PropertySignatureDeclaration"||t._tag==="PropertySignatureTransformation"?ft():Rn(gP)(t),mP={annotation:EH,getFormName:xH},xn=(t,e,n)=>16777216+(t<<16|e<<8|n<<0),CH=["","0","00","000","0000","00000","000000"],O_=t=>{const e=t.toString(16);if(e.length>6)return e.substring(1,7);{const n=6-e.length;return CH[n]+e}},TH=t=>{const e=O_(t);return[parseInt(e.substring(0,2),16),parseInt(e.substring(2,4),16),parseInt(e.substring(4,6),16)]},yP=t=>{const e=t.substring(0,2),n=t.substring(2,4),r=t.substring(4,6);return xn(parseInt(e,16),parseInt(n,16),parseInt(r,16))},OH=bH(Dn,Le,{strict:!0,decode:yP,encode:O_}).annotations(mP.annotation("Color")),tt={fromRGB:xn,fromHex:yP,toHex:O_,toRGB:TH,BLACK:xn(0,0,0),RED:xn(255,0,0),GREEN:xn(0,255,0),BLUE:xn(0,0,255),PURPLE:xn(128,0,128),YELLOW:xn(255,255,0),WHITE:xn(255,255,255),ROYGBIV:[xn(255,0,0),xn(255,165,0),xn(255,255,0),xn(0,255,0),xn(0,0,255),xn(75,0,130),xn(238,130,238)],Schema:OH},AH=t=>t.type==="real",kH=t=>t.type==="blank",vP={isReal:AH,isBlank:kH},IH={name:"",color:tt.BLACK,clips:[{type:"blank",startTime:0,endTime:void 0}]},PH=()=>({tracks:[],cues:[]}),RH=t=>{let e=0;const n=[];return st.forEach(t,r=>{e!==r.startTime&&n.push({type:"blank",startTime:e,endTime:r.startTime}),n.push({...r,type:"real"}),e=r.endTime}),n.push({type:"blank",startTime:e,endTime:void 0}),n},$H=t=>{const e=[],n=[],r=[];st.forEach(t,a=>{a.type==="init-track"?e.push(a):a.type==="init-clip"?n.push(a):r.push(a)});const i=st.sortBy(e,a=>a.trackIndex),s=st.groupBy(n,a=>a.trackIndex);return{tracks:st.map(i,a=>{const c=st.get(s,a.trackIndex);return{name:a.name,color:a.color,clips:RH(c)}}),cues:r}},MH=t=>()=>[],NH=t=>c0(e=>{e.push(t)}),LH=t=>c0(e=>{e.push(t)}),FH=t=>c0(e=>{e.push(t)}),BH=t=>$H(t);var _P={exports:{}},Pt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wl=Symbol.for("react.element"),jH=Symbol.for("react.portal"),DH=Symbol.for("react.fragment"),zH=Symbol.for("react.strict_mode"),UH=Symbol.for("react.profiler"),WH=Symbol.for("react.provider"),KH=Symbol.for("react.context"),qH=Symbol.for("react.forward_ref"),VH=Symbol.for("react.suspense"),HH=Symbol.for("react.memo"),GH=Symbol.for("react.lazy"),hx=Symbol.iterator;function JH(t){return t===null||typeof t!="object"?null:(t=hx&&t[hx]||t["@@iterator"],typeof t=="function"?t:null)}var bP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},SP=Object.assign,wP={};function Fu(t,e,n){this.props=t,this.context=e,this.refs=wP,this.updater=n||bP}Fu.prototype.isReactComponent={};Fu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Fu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function EP(){}EP.prototype=Fu.prototype;function A_(t,e,n){this.props=t,this.context=e,this.refs=wP,this.updater=n||bP}var k_=A_.prototype=new EP;k_.constructor=A_;SP(k_,Fu.prototype);k_.isPureReactComponent=!0;var px=Array.isArray,xP=Object.prototype.hasOwnProperty,I_={current:null},CP={key:!0,ref:!0,__self:!0,__source:!0};function TP(t,e,n){var r,i={},s=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)xP.call(e,r)&&!CP.hasOwnProperty(r)&&(i[r]=e[r]);var c=arguments.length-2;if(c===1)i.children=n;else if(1<c){for(var l=Array(c),d=0;d<c;d++)l[d]=arguments[d+2];i.children=l}if(t&&t.defaultProps)for(r in c=t.defaultProps,c)i[r]===void 0&&(i[r]=c[r]);return{$$typeof:Wl,type:t,key:s,ref:a,props:i,_owner:I_.current}}function YH(t,e){return{$$typeof:Wl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function P_(t){return typeof t=="object"&&t!==null&&t.$$typeof===Wl}function XH(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var gx=/\/+/g;function Zm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?XH(""+t.key):e.toString(36)}function Id(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Wl:case jH:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+Zm(a,0):r,px(i)?(n="",t!=null&&(n=t.replace(gx,"$&/")+"/"),Id(i,e,n,"",function(d){return d})):i!=null&&(P_(i)&&(i=YH(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(gx,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",px(t))for(var c=0;c<t.length;c++){s=t[c];var l=r+Zm(s,c);a+=Id(s,e,n,l,i)}else if(l=JH(t),typeof l=="function")for(t=l.call(t),c=0;!(s=t.next()).done;)s=s.value,l=r+Zm(s,c++),a+=Id(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function ed(t,e,n){if(t==null)return t;var r=[],i=0;return Id(t,r,"","",function(s){return e.call(n,s,i++)}),r}function QH(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Wn={current:null},Pd={transition:null},ZH={ReactCurrentDispatcher:Wn,ReactCurrentBatchConfig:Pd,ReactCurrentOwner:I_};function OP(){throw Error("act(...) is not supported in production builds of React.")}Pt.Children={map:ed,forEach:function(t,e,n){ed(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ed(t,function(){e++}),e},toArray:function(t){return ed(t,function(e){return e})||[]},only:function(t){if(!P_(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Pt.Component=Fu;Pt.Fragment=DH;Pt.Profiler=UH;Pt.PureComponent=A_;Pt.StrictMode=zH;Pt.Suspense=VH;Pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZH;Pt.act=OP;Pt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=SP({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=I_.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(l in e)xP.call(e,l)&&!CP.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&c!==void 0?c[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){c=Array(l);for(var d=0;d<l;d++)c[d]=arguments[d+2];r.children=c}return{$$typeof:Wl,type:t.type,key:i,ref:s,props:r,_owner:a}};Pt.createContext=function(t){return t={$$typeof:KH,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:WH,_context:t},t.Consumer=t};Pt.createElement=TP;Pt.createFactory=function(t){var e=TP.bind(null,t);return e.type=t,e};Pt.createRef=function(){return{current:null}};Pt.forwardRef=function(t){return{$$typeof:qH,render:t}};Pt.isValidElement=P_;Pt.lazy=function(t){return{$$typeof:GH,_payload:{_status:-1,_result:t},_init:QH}};Pt.memo=function(t,e){return{$$typeof:HH,type:t,compare:e===void 0?null:e}};Pt.startTransition=function(t){var e=Pd.transition;Pd.transition={};try{t()}finally{Pd.transition=e}};Pt.unstable_act=OP;Pt.useCallback=function(t,e){return Wn.current.useCallback(t,e)};Pt.useContext=function(t){return Wn.current.useContext(t)};Pt.useDebugValue=function(){};Pt.useDeferredValue=function(t){return Wn.current.useDeferredValue(t)};Pt.useEffect=function(t,e){return Wn.current.useEffect(t,e)};Pt.useId=function(){return Wn.current.useId()};Pt.useImperativeHandle=function(t,e,n){return Wn.current.useImperativeHandle(t,e,n)};Pt.useInsertionEffect=function(t,e){return Wn.current.useInsertionEffect(t,e)};Pt.useLayoutEffect=function(t,e){return Wn.current.useLayoutEffect(t,e)};Pt.useMemo=function(t,e){return Wn.current.useMemo(t,e)};Pt.useReducer=function(t,e,n){return Wn.current.useReducer(t,e,n)};Pt.useRef=function(t){return Wn.current.useRef(t)};Pt.useState=function(t){return Wn.current.useState(t)};Pt.useSyncExternalStore=function(t,e,n){return Wn.current.useSyncExternalStore(t,e,n)};Pt.useTransition=function(){return Wn.current.useTransition()};Pt.version="18.3.1";_P.exports=Pt;var H=_P.exports,ae=BT(H),Cv=Kj({__proto__:null,default:ae},[H]);const Rc={},mx=(t,e)=>t.unstable_is?t.unstable_is(e):e===t,yx=t=>"init"in t,ty=t=>!!t.write,vx=t=>"v"in t||"e"in t,nd=t=>{if("e"in t)throw t.e;if((Rc?"production":void 0)!=="production"&&!("v"in t))throw new Error("[Bug] atom state is not initialized");return t.v},yh=new WeakMap,_x=t=>{var e;return vh(t)&&!!((e=yh.get(t))!=null&&e[0])},tG=t=>{const e=yh.get(t);e!=null&&e[0]&&(e[0]=!1,e[1].forEach(n=>n()))},AP=(t,e)=>{let n=yh.get(t);if(!n){n=[!0,new Set],yh.set(t,n);const r=()=>{n[0]=!1};t.then(r,r)}n[1].add(e)},vh=t=>typeof(t==null?void 0:t.then)=="function",kP=(t,e,n)=>{n.p.has(t)||(n.p.add(t),e.then(()=>{n.p.delete(t)},()=>{n.p.delete(t)}))},ey=(t,e,n)=>{const r=n(t),i="v"in r,s=r.v;if(vh(e))for(const a of r.d.keys())kP(t,e,n(a));r.v=e,delete r.e,(!i||!Object.is(s,r.v))&&(++r.n,vh(s)&&tG(s))},bx=(t,e,n)=>{var r;const i=new Set;for(const s of((r=n.get(t))==null?void 0:r.t)||[])n.has(s)&&i.add(s);for(const s of e.p)i.add(s);return i},eG=()=>{const t=new Set,e=()=>{t.forEach(n=>n())};return e.add=n=>(t.add(n),()=>{t.delete(n)}),e},ny=()=>{const t={},e=new WeakMap,n=r=>{var i,s;(i=e.get(t))==null||i.forEach(a=>a(r)),(s=e.get(r))==null||s.forEach(a=>a())};return n.add=(r,i)=>{const s=r||t,a=(e.has(s)?e:e.set(s,new Set)).get(s);return a.add(i),()=>{a==null||a.delete(i),a.size||e.delete(s)}},n},nG=t=>(t.c||(t.c=ny()),t.m||(t.m=ny()),t.u||(t.u=ny()),t.f||(t.f=eG()),t),rG=Symbol(),iG=(t=new WeakMap,e=new WeakMap,n=new WeakMap,r=new Set,i=new Set,s=new Set,a={},c=(m,...y)=>m.read(...y),l=(m,...y)=>m.write(...y),d=(m,y)=>{var w;return(w=m.unstable_onInit)==null?void 0:w.call(m,y)},h=(m,y)=>{var w;return(w=m.onMount)==null?void 0:w.call(m,y)},...g)=>{const m=g[0]||(k=>{if((Rc?"production":void 0)!=="production"&&!k)throw new Error("Atom is undefined or null");let z=t.get(k);return z||(z={d:new Map,p:new Set,n:0},t.set(k,z),d==null||d(k,B)),z}),y=g[1]||(()=>{const k=[],z=K=>{try{K()}catch(b){k.push(b)}};do{a.f&&z(a.f);const K=new Set,b=K.add.bind(K);r.forEach(N=>{var D;return(D=e.get(N))==null?void 0:D.l.forEach(b)}),r.clear(),s.forEach(b),s.clear(),i.forEach(b),i.clear(),K.forEach(z),r.size&&w()}while(r.size||s.size||i.size);if(k.length)throw new AggregateError(k)}),w=g[2]||(()=>{const k=[],z=new WeakSet,K=new WeakSet,b=Array.from(r);for(;b.length;){const N=b[b.length-1],D=m(N);if(K.has(N)){b.pop();continue}if(z.has(N)){if(n.get(N)===D.n)k.push([N,D]);else if((Rc?"production":void 0)!=="production"&&n.has(N))throw new Error("[Bug] invalidated atom exists");K.add(N),b.pop();continue}z.add(N);for(const X of bx(N,D,e))z.has(X)||b.push(X)}for(let N=k.length-1;N>=0;--N){const[D,X]=k[N];let nt=!1;for(const mt of X.d.keys())if(mt!==D&&r.has(mt)){nt=!0;break}nt&&(x(D),$(D)),n.delete(D)}}),x=g[3]||(k=>{var z;const K=m(k);if(vx(K)&&(e.has(k)&&n.get(k)!==K.n||Array.from(K.d).every(([rt,ot])=>x(rt).n===ot)))return K;K.d.clear();let b=!0;const N=()=>{e.has(k)&&($(k),w(),y())},D=rt=>{var ot;if(mx(k,rt)){const Ze=m(rt);if(!vx(Ze))if(yx(rt))ey(rt,rt.init,m);else throw new Error("no atom init");return nd(Ze)}const Mt=x(rt);try{return nd(Mt)}finally{K.d.set(rt,Mt.n),_x(K.v)&&kP(k,K.v,Mt),(ot=e.get(rt))==null||ot.t.add(k),b||N()}};let X,nt;const mt={get signal(){return X||(X=new AbortController),X.signal},get setSelf(){return(Rc?"production":void 0)!=="production"&&!ty(k)&&console.warn("setSelf function cannot be used with read-only atom"),!nt&&ty(k)&&(nt=(...rt)=>{if((Rc?"production":void 0)!=="production"&&b&&console.warn("setSelf function cannot be called in sync"),!b)try{return T(k,...rt)}finally{w(),y()}}),nt}},ht=K.n;try{const rt=c(k,D,mt);return ey(k,rt,m),vh(rt)&&(AP(rt,()=>X==null?void 0:X.abort()),rt.then(N,N)),K}catch(rt){return delete K.v,K.e=rt,++K.n,K}finally{b=!1,ht!==K.n&&n.get(k)===ht&&(n.set(k,K.n),r.add(k),(z=a.c)==null||z.call(a,k))}}),C=g[4]||(k=>{const z=[k];for(;z.length;){const K=z.pop(),b=m(K);for(const N of bx(K,b,e)){const D=m(N);n.set(N,D.n),z.push(N)}}}),T=g[5]||((k,...z)=>{let K=!0;const b=D=>nd(x(D)),N=(D,...X)=>{var nt;const mt=m(D);try{if(mx(k,D)){if(!yx(D))throw new Error("atom not writable");const ht=mt.n,rt=X[0];ey(D,rt,m),$(D),ht!==mt.n&&(r.add(D),(nt=a.c)==null||nt.call(a,D),C(D));return}else return T(D,...X)}finally{K||(w(),y())}};try{return l(k,b,N,...z)}finally{K=!1}}),$=g[6]||(k=>{var z;const K=m(k),b=e.get(k);if(b&&!_x(K.v)){for(const[N,D]of K.d)if(!b.d.has(N)){const X=m(N);M(N).t.add(k),b.d.add(N),D!==X.n&&(r.add(N),(z=a.c)==null||z.call(a,N),C(N))}for(const N of b.d||[])if(!K.d.has(N)){b.d.delete(N);const D=P(N);D==null||D.t.delete(k)}}}),M=g[7]||(k=>{var z;const K=m(k);let b=e.get(k);if(!b){x(k);for(const N of K.d.keys())M(N).t.add(k);if(b={l:new Set,d:new Set(K.d.keys()),t:new Set},e.set(k,b),(z=a.m)==null||z.call(a,k),ty(k)){const N=()=>{let D=!0;const X=(...nt)=>{try{return T(k,...nt)}finally{D||(w(),y())}};try{const nt=h(k,X);nt&&(b.u=()=>{D=!0;try{nt()}finally{D=!1}})}finally{D=!1}};i.add(N)}}return b}),P=g[8]||(k=>{var z;const K=m(k);let b=e.get(k);if(b&&!b.l.size&&!Array.from(b.t).some(N=>{var D;return(D=e.get(N))==null?void 0:D.d.has(k)})){b.u&&s.add(b.u),b=void 0,e.delete(k),(z=a.u)==null||z.call(a,k);for(const N of K.d.keys()){const D=P(N);D==null||D.t.delete(k)}return}return b}),j=[t,e,n,r,i,s,a,c,l,d,h,m,y,w,x,C,T,$,M,P],B={get:k=>nd(x(k)),set:(k,...z)=>{try{return T(k,...z)}finally{w(),y()}},sub:(k,z)=>{const b=M(k).l;return b.add(z),y(),()=>{b.delete(z),P(k),y()}}};return Object.defineProperty(B,rG,{value:j}),B},IP=iG,oG=nG,Sx=AP,R_={};let sG=0;function se(t,e){const n=`atom${++sG}`,r={toString(){return(R_?"production":void 0)!=="production"&&this.debugLabel?n+":"+this.debugLabel:n}};return typeof t=="function"?r.read=t:(r.init=t,r.read=aG,r.write=uG),e&&(r.write=e),r}function aG(t){return t(this)}function uG(t,e,n){return e(this,typeof n=="function"?n(t(this)):n)}const cG=()=>{let t=0;const e=oG({}),n=new WeakMap,r=new WeakMap,i=IP(n,r,void 0,void 0,void 0,void 0,e,void 0,(c,l,d,...h)=>t?d(c,...h):c.write(l,d,...h)),s=new Set;return e.m.add(void 0,c=>{s.add(c);const l=n.get(c);l.m=r.get(c)}),e.u.add(void 0,c=>{s.delete(c);const l=n.get(c);delete l.m}),Object.assign(i,{dev4_get_internal_weak_map:()=>n,dev4_get_mounted_atoms:()=>s,dev4_restore_atoms:c=>{const l={read:()=>null,write:(d,h)=>{++t;try{for(const[g,m]of c)"init"in g&&h(g,m)}finally{--t}}};i.set(l)}})};function lG(){return(R_?"production":void 0)!=="production"?cG():IP()}let xc;function $_(){return xc||(xc=lG(),(R_?"production":void 0)!=="production"&&(globalThis.__JOTAI_DEFAULT_STORE__||(globalThis.__JOTAI_DEFAULT_STORE__=xc),globalThis.__JOTAI_DEFAULT_STORE__!==xc&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044"))),xc}const fG={},dG=H.createContext(void 0);function PP(t){return H.useContext(dG)||$_()}const RP=t=>typeof(t==null?void 0:t.then)=="function",hG=t=>{t.status="pending",t.then(e=>{t.status="fulfilled",t.value=e},e=>{t.status="rejected",t.reason=e})},pG=ae.use||(t=>{if(t.status==="pending")throw t;if(t.status==="fulfilled")return t.value;throw t.status==="rejected"?t.reason:(hG(t),t)}),ry=new WeakMap,gG=(t,e)=>{let n=ry.get(t);return n||(n=new Promise((r,i)=>{let s=t;const a=d=>h=>{s===d&&r(h)},c=d=>h=>{s===d&&i(h)},l=()=>{try{const d=e();RP(d)?(ry.set(d,n),s=d,d.then(a(d),c(d)),Sx(d,l)):r(d)}catch(d){i(d)}};t.then(a(t),c(t)),Sx(t,l)}),ry.set(t,n)),n};function wx(t,e){const n=PP(),[[r,i,s],a]=H.useReducer(d=>{const h=n.get(t);return Object.is(d[0],h)&&d[1]===n&&d[2]===t?d:[h,n,t]},void 0,()=>[n.get(t),n,t]);let c=r;if((i!==n||s!==t)&&(a(),c=n.get(t)),H.useEffect(()=>{const d=n.sub(t,()=>{a()});return a(),d},[n,t,void 0]),H.useDebugValue(c),RP(c)){const d=gG(c,()=>n.get(t));return pG(d)}return c}function mG(t,e){const n=PP();return H.useCallback((...i)=>{if((fG?"production":void 0)!=="production"&&!("write"in t))throw new Error("not writable atom");return n.set(t,...i)},[n,t])}const mp={},yG=Symbol((mp?"production":void 0)!=="production"?"RESET":"");function vG(t,e){let n=null;const r=new Map,i=new Set,s=c=>{let l;if(l=r.get(c),l!==void 0)if(n!=null&&n(l[1],c))s.remove(c);else return l[0];const d=t(c);return r.set(c,[d,Date.now()]),a("CREATE",c,d),d},a=(c,l,d)=>{for(const h of i)h({type:c,param:l,atom:d})};return s.unstable_listen=c=>(i.add(c),()=>{i.delete(c)}),s.getParams=()=>r.keys(),s.remove=c=>{{if(!r.has(c))return;const[l]=r.get(c);r.delete(c),a("REMOVE",c,l)}},s.setShouldRemove=c=>{if(n=c,!!n)for(const[l,[d,h]]of r)n(h,l)&&(r.delete(l),a("REMOVE",l,d))},s}const Ex=(t,e,n)=>(e.has(n)?e:e.set(n,t())).get(n),_G=new WeakMap,bG=(t,e,n)=>{const r=Ex(()=>new WeakMap,_G,e);return Ex(t,r,n)},SG={},xx=t=>!!t.write,wG=t=>typeof t=="function";function Cx(t,e){return bG(()=>{const n=new WeakMap,r=(a,c)=>{let l=n.get(a);if(l)return l;const d=c&&n.get(c),h=[],g=[];return a.forEach((m,y)=>{const w=y;g[y]=w;const x=d&&d.atomList[d.keyList.indexOf(w)];if(x){h[y]=x;return}const C=$=>{const M=$(i),P=$(t),B=r(P,M==null?void 0:M.arr).keyList.indexOf(w);if(B<0||B>=P.length){const k=a[r(a).keyList.indexOf(w)];if(k)return k;throw new Error("splitAtom: index out of bounds for read")}return P[B]},T=($,M,P)=>{const j=$(i),B=$(t),z=r(B,j==null?void 0:j.arr).keyList.indexOf(w);if(z<0||z>=B.length)throw new Error("splitAtom: index out of bounds for write");const K=wG(P)?P(B[z]):P;Object.is(B[z],K)||M(t,[...B.slice(0,z),K,...B.slice(z+1)])};h[y]=xx(t)?se(C,T):se(C)}),d&&d.keyList.length===g.length&&d.keyList.every((m,y)=>m===g[y])?l=d:l={arr:a,atomList:h,keyList:g},n.set(a,l),l},i=se(a=>{const c=a(i),l=a(t);return r(l,c==null?void 0:c.arr)});(mp?"production":void 0)!=="production"&&(i.debugPrivate=!0),i.init=void 0;const s=xx(t)?se(a=>a(i).atomList,(a,c,l)=>{switch(l.type){case"remove":{const d=a(s).indexOf(l.atom);if(d>=0){const h=a(t);c(t,[...h.slice(0,d),...h.slice(d+1)])}break}case"insert":{const d=l.before?a(s).indexOf(l.before):a(s).length;if(d>=0){const h=a(t);c(t,[...h.slice(0,d),l.value,...h.slice(d)])}break}case"move":{const d=a(s).indexOf(l.atom),h=l.before?a(s).indexOf(l.before):a(s).length;if(d>=0&&h>=0){const g=a(t);d<h?c(t,[...g.slice(0,d),...g.slice(d+1,h),g[d],...g.slice(h)]):c(t,[...g.slice(0,h),g[d],...g.slice(h,d),...g.slice(d+1)])}break}}}):se(a=>a(i).atomList);return s},t,SG)}const EG=t=>typeof(t==null?void 0:t.then)=="function";function $P(t=()=>{try{return window.localStorage}catch(n){(mp?"production":void 0)!=="production"&&typeof window<"u"&&console.warn(n);return}},e){var n;let r,i;const s={getItem:(l,d)=>{var h,g;const m=w=>{if(w=w||"",r!==w){try{i=JSON.parse(w,e==null?void 0:e.reviver)}catch{return d}r=w}return i},y=(g=(h=t())==null?void 0:h.getItem(l))!=null?g:null;return EG(y)?y.then(m):m(y)},setItem:(l,d)=>{var h;return(h=t())==null?void 0:h.setItem(l,JSON.stringify(d,void 0))},removeItem:l=>{var d;return(d=t())==null?void 0:d.removeItem(l)}},a=l=>(d,h,g)=>l(d,m=>{let y;try{y=JSON.parse(m||"")}catch{y=g}h(y)});let c;try{c=(n=t())==null?void 0:n.subscribe}catch{}return!c&&typeof window<"u"&&typeof window.addEventListener=="function"&&window.Storage&&(c=(l,d)=>{if(!(t()instanceof window.Storage))return()=>{};const h=g=>{g.storageArea===t()&&g.key===l&&d(g.newValue)};return window.addEventListener("storage",h),()=>{window.removeEventListener("storage",h)}}),c&&(s.subscribe=a(c)),s}const xG=$P();function CG(t,e,n=xG,r){const i=r==null?void 0:r.getOnInit,s=se(i?n.getItem(t,e):e);return(mp?"production":void 0)!=="production"&&(s.debugPrivate=!0),s.onMount=c=>{c(n.getItem(t,e));let l;return n.subscribe&&(l=n.subscribe(t,c,e)),l},se(c=>c(s),(c,l,d)=>{const h=typeof d=="function"?d(c(s)):d;return h===yG?(l(s,e),n.removeItem(t)):h instanceof Promise?h.then(g=>(l(s,g),n.setItem(t,g))):(l(s,h),n.setItem(t,h))})}var TG=Object.defineProperty,OG=(t,e,n)=>e in t?TG(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,He=(t,e,n)=>(OG(t,typeof e!="symbol"?e+"":e,n),n);function Gr(t){return new Promise((e,n)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>n(t.error)})}function AG(t,e){const n=indexedDB.open(t);n.onupgradeneeded=()=>n.result.createObjectStore(e);const r=Gr(n);return(i,s)=>r.then(a=>s(a.transaction(e,i).objectStore(e)))}let iy;function Kl(){return iy||(iy=AG("keyval-store","keyval")),iy}function kG(t,e,n=Kl()){return n("readwrite",r=>(r.put(e,t),Gr(r.transaction)))}function Tx(t,e=Kl()){return e("readwrite",n=>(t.forEach(r=>n.put(r[1],r[0])),Gr(n.transaction)))}function IG(t,e=Kl()){return e("readwrite",n=>(n.delete(t),Gr(n.transaction)))}function PG(t=Kl()){return t("readwrite",e=>(e.clear(),Gr(e.transaction)))}function RG(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},Gr(t.transaction)}function oy(t=Kl()){return t("readonly",e=>{if(e.getAll&&e.getAllKeys)return Promise.all([Gr(e.getAllKeys()),Gr(e.getAll())]).then(([r,i])=>r.map((s,a)=>[s,i[a]]));const n=[];return t("readonly",r=>RG(r,i=>n.push([i.key,i.value])).then(()=>n))})}const $G="jotai-minidb",MG={name:$G,version:0,migrations:{},onMigrationCompleted:()=>{alert("Data has been migrated. Page will be reloaded"),window.location.reload()},onVersionMissmatch:()=>{}};class NG{constructor(e={}){He(this,"channel"),He(this,"cache",se(void 0)),He(this,"idbStorage"),He(this,"metaStorage"),He(this,"config"),He(this,"initStarted",se(!1)),He(this,"initialDataThenable",LG()),He(this,"suspendBeforeInit",se(async i=>{i(this.items),await i(this.initialDataThenable).promise})),He(this,"isInitialized",se(!1)),He(this,"items",se((i,{setSelf:s})=>(i(this.initStarted)||Promise.resolve().then(s),i(this.cache)),async(i,s)=>{i(this.initStarted)||(s(this.initStarted,!0),this.preloadData().then(a=>{s(this.cache,a),i(this.initialDataThenable).resolve()}),this.channel.onmessage=async a=>{const c=a.data;c.type==="UPDATE"?s(this.cache,l=>({...l,[c.id]:c.item})):c.type==="DELETE"?s(this.cache,l=>{const d={...l};return delete d[c.id],d}):c.type==="UPDATE_MANY"?s(this.cache,Object.fromEntries(await oy(this.idbStorage))):c.type==="MIGRATION_COMPLETED"&&this.config.onMigrationCompleted()})})),He(this,"entries",se(i=>Object.entries(i(this.items)||{}))),He(this,"keys",se(i=>Object.keys(i(this.items)||{}))),He(this,"values",se(i=>Object.values(i(this.items)||{}))),He(this,"item",vG(i=>se(s=>{var a;return(a=s(this.items))==null?void 0:a[i]},async(s,a,c)=>{await a(this.set,i,c)}))),He(this,"set",se(null,async(i,s,a,c)=>{i(this.cache)||await i(this.suspendBeforeInit);const l=i(this.cache);if(!l)throw new Error("Cache was not initialized");const d=BG(c)?c(l[a]):c;s(this.cache,h=>({...h,[a]:d})),await kG(a,d,this.idbStorage),this.channel.postMessage({type:"UPDATE",id:a,item:d})})),He(this,"setMany",se(null,async(i,s,a)=>{i(this.cache)||await i(this.suspendBeforeInit);const c={...i(this.cache)};for(const[l,d]of a)c[l]=d;s(this.cache,c),await Tx(a,this.idbStorage),this.channel.postMessage({type:"UPDATE_MANY"})})),He(this,"delete",se(null,async(i,s,a)=>{i(this.cache)||await i(this.suspendBeforeInit),s(this.cache,c=>{const l={...c};return delete l[a],l}),await IG(a,this.idbStorage),this.channel.postMessage({type:"DELETE",id:a})})),He(this,"clear",se(null,async(i,s)=>{i(this.cache)||await i(this.suspendBeforeInit),s(this.cache,{}),await PG(this.idbStorage),this.channel.postMessage({type:"UPDATE_MANY"})})),this.config={...MG,initialData:{},...e};const{keyvalStorage:n,metaStorage:r}=FG(this.config.name,"key-value",this.config.initialData);this.idbStorage=n,this.metaStorage=r,this.channel=new BroadcastChannel(`jotai-minidb-broadcast:${this.config.name}`)}async preloadData(){return await this.migrate(),Object.fromEntries(await oy(this.idbStorage))}async migrate(){const e=await this.metaStorage("readonly",n=>Gr(n.get("version")))||0;if(this.config.version>e){let n=await oy(this.idbStorage);for(let r=e+1;r<=this.config.version;r++){const i=this.config.migrations[r];if(!i)throw new Error(`Migrate function for version ${r} is not provided`);n=await Promise.all(n.map(async([s,a])=>[s,await i(a)]))}await Tx(n,this.idbStorage),await this.metaStorage("readwrite",r=>Gr(r.put(this.config.version,"version"))),this.channel.postMessage({type:"MIGRATION_COMPLETED"})}else if(this.config.version<e)throw this.config.onVersionMissmatch(),new Error(`[jotai-minidb] Minimal client version is ${this.config.version} but indexeddb database version is ${e}`)}}function LG(){return se(()=>{let t,e;return{promise:new Promise((n,r)=>{t=n,e=r}),resolve:t,reject:e}})}function FG(t,e,n){const r=indexedDB.open(t),i=[];r.onupgradeneeded=a=>{const c=r.result.createObjectStore(e);r.result.createObjectStore("_meta");for(const[l,d]of Object.entries(n))i.push(Gr(c.add(d,l)))};const s=Gr(r);return{keyvalStorage:async(a,c)=>{const l=await s;return await Promise.all(i),c(l.transaction(e,a).objectStore(e))},metaStorage:(a,c)=>s.then(l=>c(l.transaction("_meta",a).objectStore("_meta")))}}function BG(t){return typeof t=="function"}new NG;const jG=()=>$P(),DG=(t,e)=>CG(t,e,jG(),{getOnInit:!0}),zG={atom:DG},rn=[];for(let t=0;t<256;++t)rn.push((t+256).toString(16).slice(1));function UG(t,e=0){return(rn[t[e+0]]+rn[t[e+1]]+rn[t[e+2]]+rn[t[e+3]]+"-"+rn[t[e+4]]+rn[t[e+5]]+"-"+rn[t[e+6]]+rn[t[e+7]]+"-"+rn[t[e+8]]+rn[t[e+9]]+"-"+rn[t[e+10]]+rn[t[e+11]]+rn[t[e+12]]+rn[t[e+13]]+rn[t[e+14]]+rn[t[e+15]]).toLowerCase()}let sy;const WG=new Uint8Array(16);function KG(){if(!sy){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");sy=crypto.getRandomValues.bind(crypto)}return sy(WG)}const qG=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var Ox={randomUUID:qG};function VG(t,e,n){var i;if(Ox.randomUUID&&!t)return Ox.randomUUID();t=t||{};const r=t.random??((i=t.rng)==null?void 0:i.call(t))??KG();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,UG(r)}const HG=typeof window>"u",GG=()=>HG&&typeof self<"u"?self.name==="project"?"project":"controller":"main",Tv=GG(),JG=t=>t==="main"?"32":t==="project"?"34":"33",YG=JG(Tv),_h={type:Tv,isMain:Tv==="main",color:YG},Ax=()=>{},XG=()=>{const t=_h.type,n=`\x1B[${_h.color}m[${t}]\x1B[0m %s`;return{debug:console.debug.bind(console,n),info:console.info.bind(console,n),warn:console.warn.bind(console,n),error:console.error.bind(console,n),noop:Ax,enabled:(r,i)=>r?i:Ax}},mu=XG(),kx=$_(),MP=(t,e,n,r="mem")=>{const i=r==="mem",s=t===_h.type,a=!i&&_h.isMain?zG.atom(e,n):se(n),c=new Set,l=new BroadcastChannel(e),d=VG(),h=mu.enabled(!1,mu.info);h("Creating",{owner:t,isOwner:s,key:e,id:d});let g;const m=se(x=>x(a),(x,C,T)=>{const $=typeof T.value=="function"?T.value(x(a)):T.value;s?(C(a,T.value),g=$,h("Posting message",$),l.postMessage({type:"update",value:$})):T.isEvent&&C(a,T.value)}),y=x=>{(x.data.type==="update"||x.data.type==="init-ack")&&kx.set(m,{isEvent:!0,value:x.data.value})};return l.onmessage=x=>{const C=x;h("Received message",C.data),C.data.type==="update"&&y(C),s&&C.data.type==="init"?l.postMessage({type:"init-ack",id:C.data.id,value:g||kx.get(a)}):!s&&C.data.type==="init-ack"&&C.data.id===d&&y(C)},m.onMount=x=>{h("on mount");const C=T=>{h("Received listener",T.data),(T.data.type==="update"||T.data.type==="init-ack")&&x({isEvent:!0,value:T.data.value})};return c.add(C),()=>{c.delete(C)}},s||(h("Posting init"),l.postMessage({type:"init",id:d})),se(x=>x(m),(x,C,T)=>{h("Atom set",T),C(m,{isEvent:!1,value:T})})},_o=t=>t,M_=t=>({_tag:"Left",value:t}),yp=t=>({_tag:"Right",value:t}),QG=(t,e,n)=>n._tag==="Left"?t(n.value):e(n.value),NP={dimap:(t,e,n)=>r=>e(n(t(r))),first:t=>([e,n])=>[t(e),n],right:t=>e=>e._tag==="Left"?e:yp(t(e.value)),wander:t=>e=>e.map(t)},ZG={empty:()=>{},foldMap:(t,e)=>{for(let n=0;n<e.length;n++){const r=t(e[n]);if(r!=null)return r}}},tJ={empty:()=>[],foldMap:(t,e)=>{let n=[];return e.forEach(r=>{n=n.concat(t(r))}),n}},N_=t=>({dimap:(e,n,r)=>i=>r(e(i)),first:e=>([n,r])=>e(n),right:e=>n=>n._tag==="Left"?t.empty():e(n.value),wander:e=>n=>t.foldMap(e,n)}),ay={Equivalence:{Equivalence:"Equivalence",Iso:"Iso",Lens:"Lens",Prism:"Prism",Traversal:"Traversal",Getter:"Getter",AffineFold:"AffineFold",Fold:"Fold",Setter:"Setter"},Iso:{Equivalence:"Iso",Iso:"Iso",Lens:"Lens",Prism:"Prism",Traversal:"Traversal",Getter:"Getter",AffineFold:"AffineFold",Fold:"Fold",Setter:"Setter"},Lens:{Equivalence:"Lens",Iso:"Lens",Lens:"Lens",Prism:"Prism",Traversal:"Traversal",Getter:"Getter",AffineFold:"AffineFold",Fold:"Fold",Setter:"Setter"},Prism:{Equivalence:"Prism",Iso:"Prism",Lens:"Prism",Prism:"Prism",Traversal:"Traversal",Getter:"AffineFold",AffineFold:"AffineFold",Fold:"Fold",Setter:"Setter"},Traversal:{Equivalence:"Traversal",Iso:"Traversal",Lens:"Traversal",Prism:"Traversal",Traversal:"Traversal",Getter:"Fold",AffineFold:"Fold",Fold:"Fold",Setter:"Setter"},Getter:{Equivalence:"Getter",Iso:"Getter",Lens:"Getter",Prism:"AffineFold",Traversal:"Fold",Getter:"Getter",AffineFold:"AffineFold",Fold:"Fold",Setter:void 0},AffineFold:{Equivalence:"AffineFold",Iso:"AffineFold",Lens:"AffineFold",Prism:"AffineFold",Traversal:"Fold",Getter:"AffineFold",AffineFold:"AffineFold",Fold:"Fold",Setter:void 0},Fold:{Equivalence:"Fold",Iso:"Fold",Lens:"Fold",Prism:"Fold",Traversal:"Fold",Getter:"Fold",AffineFold:"Fold",Fold:"Fold",Setter:void 0},Setter:{Equivalence:void 0,Iso:void 0,Lens:void 0,Prism:void 0,Traversal:void 0,Getter:void 0,AffineFold:void 0,Fold:void 0,Setter:void 0}},Bu=(t,e)=>{const n=e;return n._tag=t,n},LP=t=>(t._removable=!0,t);function zt(t,e,n){switch(arguments.length){case 2:{const r=(i,s)=>t(i,e(i,s));return r._tag=ay[t._tag][e._tag],r._removable=e._removable||!1,r}default:{const r=ay[t._tag][e._tag],i=(s,a)=>t(s,e(s,n(s,a)));return i._tag=ay[r][n._tag],i._removable=n._removable||!1,i}}}const eJ=Bu("Equivalence",(t,e)=>e),vp=(t,e)=>Bu("Iso",(n,r)=>n.dimap(t,e,r)),Or=(t,e)=>Bu("Lens",(n,r)=>n.dimap(i=>[t(i),i],e,n.first(r))),L_=(t,e)=>Bu("Prism",(n,r)=>n.dimap(t,i=>QG(_o,e,i),n.right(r))),F_=Bu("Traversal",(t,e)=>t.dimap(_o,_o,t.wander(e))),nJ=t=>Bu("Getter",(e,n)=>e.dimap(t,_o,n)),FP=(t,e,n)=>t(NP,e)(n),rJ=(t,e,n)=>t(NP,()=>e)(n),iJ=(t,e)=>t(N_({}),_o)(e),oJ=(t,e)=>t(N_(ZG),_o)(e),BP=(t,e)=>t(N_(tJ),n=>[n])(e),sJ=vp(t=>t.map((e,n)=>[n,e]),t=>{const e=[...t].sort((r,i)=>r[0]-i[0]),n=[];for(let r=0;r<e.length;++r)(r===e.length-1||e[r][0]!==e[r+1][0])&&n.push(e[r][1]);return n}),Ix=t=>Or(e=>e[t],([e,n])=>Object.assign(Object.assign({},n),{[t]:e})),aJ=t=>Or(e=>{const n={};for(const r of t)n[r]=e[r];return n},([e,n])=>{const r=Object.assign({},n);for(const i of t)delete r[i];return Object.assign(r,e)}),jP=t=>Or(e=>e[t],([e,n])=>{const r=n.slice();return r[t]=e,r}),B_=jP(0),j_=t=>L_(e=>t(e)?yp(e):M_(e),_o),ol=Symbol("__no_match__"),DP=j_(t=>t!==ol),zP=Symbol("__remove_me__"),uy=t=>LP(zt(Or(e=>0<=t&&t<e.length?e[t]:ol,([e,n])=>{if(e===ol)return n;if(e===zP)return typeof n=="string"?n.substring(0,t)+n.substring(t+1):[...n.slice(0,t),...n.slice(t+1)];if(typeof n=="string")return t===0?e+n.substring(1):t===n.length?n.substring(0,t-1)+e:n.substring(0,t)+e+n.substring(t+1);{const r=n.slice();return r[t]=e,r}}),DP)),uJ=L_(t=>t===void 0?M_(void 0):yp(t),_o),cJ=t=>L_(e=>t(e)?yp(e):M_(e),_o),lJ=t=>LP(zt(Or(e=>{const n=e.findIndex(t);return n===-1?[ol,-1]:[e[n],n]},([[e,n],r])=>{if(e===ol)return r;if(e===zP)return[...r.slice(0,n),...r.slice(n+1)];const i=r.slice();return i[n]=e,i}),B_,DP)),fJ=t=>zt(Or(e=>{const n=e.map((r,i)=>t(r)?i:null).filter(r=>r!=null);return[n.map(r=>e[r]),n]},([[e,n],r])=>{const i=r.length,s=e.length;let a=0,c=0,l=0;const d=[];for(;a<i;)n[c]===a?(++c,l<s&&(d.push(e[l]),++l)):d.push(r[a]),++a;for(;l<s;)d.push(e[l++]);return d}),B_),dJ=t=>Or(e=>e===void 0?t:e,([e,n])=>e),hJ=t=>zt(Or(e=>{const n=BP(t,e);return[n,n.length]},([[e,n],r])=>{if(e.length!==n)throw new Error("cannot add/remove elements through partsOf");let i=0;return FP(t,()=>e[i++],r)}),B_),pJ=t=>Or(e=>t(e),([e,n])=>e),gJ=t=>Or(e=>e,([e,n])=>t(e)),mJ=Or(t=>{},([t,e])=>t===void 0?e:[t,...e]),yJ=Or(t=>{},([t,e])=>t===void 0?e:[...e,t]),vJ=zt(vp(t=>t.split(""),t=>t.join("")),F_),_J=zt(vp(t=>t.split(/\b/),t=>t.join("")),F_,j_(t=>!/\s+/.test(t)));class Yt{constructor(e){this._ref=e}get _tag(){return this._ref._tag}get _removable(){return this._ref._removable}compose(e){return new Yt(zt(this._ref,e._ref))}iso(e,n){return new Yt(zt(this._ref,vp(e,n)))}lens(e,n){return new Yt(zt(this._ref,Or(e,([r,i])=>n(i,r))))}indexed(){return new Yt(zt(this._ref,sJ))}prop(e){return new Yt(zt(this._ref,Ix(e)))}path(...e){return e.length===1&&(e=e[0].split(".")),new Yt(e.reduce((n,r)=>zt(n,Ix(r)),this._ref))}pick(e){return new Yt(zt(this._ref,aJ(e)))}nth(e){return new Yt(zt(this._ref,jP(e)))}filter(e){return new Yt(zt(this._ref,fJ(e)))}valueOr(e){return new Yt(zt(this._ref,dJ(e)))}partsOf(e){const n=typeof e=="function"?e(UP):e;return new Yt(zt(this._ref,hJ(n._ref)))}reread(e){return new Yt(zt(this._ref,pJ(e)))}rewrite(e){return new Yt(zt(this._ref,gJ(e)))}optional(){return new Yt(zt(this._ref,uJ))}guard_(){return e=>this.guard(e)}guard(e){return new Yt(zt(this._ref,cJ(e)))}at(e){return new Yt(zt(this._ref,uy(e)))}head(){return new Yt(zt(this._ref,uy(0)))}index(e){return new Yt(zt(this._ref,uy(e)))}find(e){return new Yt(zt(this._ref,lJ(e)))}elems(){return new Yt(zt(this._ref,F_))}to(e){return new Yt(zt(this._ref,nJ(e)))}when(e){return new Yt(zt(this._ref,j_(e)))}chars(){return new Yt(zt(this._ref,vJ))}words(){return new Yt(zt(this._ref,_J))}prependTo(){return new Yt(zt(this._ref,mJ))}appendTo(){return new Yt(zt(this._ref,yJ))}}const UP=new Yt(eJ);function bJ(){return UP}function SJ(t){return e=>iJ(t._ref,e)}function wJ(t){return e=>oJ(t._ref,e)}function EJ(t){return e=>BP(t._ref,e)}function xJ(t){return e=>n=>FP(t._ref,e,n)}function CJ(t){return e=>n=>rJ(t._ref,e,n)}const Px=(t,e,n)=>(e.has(n)?e:e.set(n,t())).get(n),TJ=new WeakMap,OJ=(t,e,n)=>{const r=Px(()=>new WeakMap,TJ,e);return Px(t,r,n)},AJ=t=>typeof t=="function";function kJ(t,e){return OJ(()=>{const n=e(bJ());return se(i=>{const s=i(t);return s instanceof Promise?s.then(a=>Rx(n,a)):Rx(n,s)},(i,s,a)=>{const c=AJ(a)?xJ(n)(a):CJ(n)(a),l=i(t);return s(t,l instanceof Promise?l.then(c):c(l))})},t,e)}const Rx=(t,e)=>t._tag==="Traversal"?EJ(t)(e):t._tag==="Prism"?wJ(t)(e):SJ(t)(e),rd=$_(),qa=(t,e)=>{const n=()=>rd.get(t),r=C=>{rd.set(t,C)};let i;const s=(C,T)=>{const $=()=>{const P=C(n());typeof P=="function"&&(i=P)};T&&$();const M=rd.sub(t,()=>{i!==void 0&&i(),$()});return()=>{M()}},a=C=>s(C,!1),c=C=>s(C,!0),l=()=>wx(t),d=()=>mG(t),h=()=>[l(),d()],g=C=>qa(kJ(t,C));return{get:n,set:r,sub:a,subAndInit:c,useValue:l,useSet:d,use:h,focus:g,useFocus:C=>{const T=ae.useCallback($=>$.prop(C),[C]);return g(T)},useFocusMemo:C=>{const T=l();return ae.useMemo(()=>g(C),[T])},array:()=>{const C=t;return rd.get(Cx(C)).map(T=>qa(T))},useArray:()=>wx(Cx(t)).map(T=>qa(T))}},IJ=(t,e)=>qa(se(e)),PJ=(t,e,n)=>qa(MP(t,e,n)),RJ=(t,e)=>qa(MP("main",t,e,"storage")),$x={},$J=t=>e=>{const n=$x[e];if(n!==void 0)return n;{const r=t(e);return $x[e]=r,r}},on={mem:PJ,memSingle:IJ,storage:RJ,family:$J},_p=()=>({label:"Default",key:"default",controllers:[],style:{accent:{color1:"#6a11cb",color2:"#2575fc"}}}),MJ=()=>({label:"Reload",key:"reload-project",controllers:[],style:{accent:{color1:"#6a11cb",color2:"#2575fc"}}}),NJ=()=>({active:"default",projects:[_p(),MJ()]}),gt={initArrangement:on.mem("project","init-arrangement",[]),importStatus:on.mem("project","import-status",{type:"none"}),project:{config:on.storage("projects-config",NJ()),abletonName:on.mem("project","ableton-name",void 0),arrangement:on.mem("project","arrangement",PH())},realTime:{beats:on.mem("project","real-time-beats",0),barBeats:on.mem("project","real-time-bar-beats",1),timeSignature:on.mem("project","real-time-time-signature",{noteCount:4,noteLength:4}),tempo:on.mem("project","real-time-tempo",0),isPlaying:on.mem("project","real-time-is-playing",!1),metronomeState:on.mem("project","real-time-metronome-state",!1),loopState:on.mem("project","real-time-loop-state",!1),halfBeat:on.mem("project","real-time-half-beat",!1)}},na=pt({channel:Le}),LJ=pt({type:gn("sysex"),manufacturer:Le,body:gu(Le)}),FJ=pt({type:gn("noteon"),note:Le,velocity:Le,...na.fields}),BJ=pt({type:gn("noteoff"),note:Le,velocity:Le,...na.fields}),jJ=pt({type:gn("cc"),controllerNumber:Le,data:Le,...na.fields}),DJ=pt({type:gn("pc"),programNumber:Le,...na.fields}),zJ=pt({type:gn("clock")}),UJ=pt({type:gn("measureend")}),WJ=pt({type:gn("start")}),KJ=pt({type:gn("continue")}),qJ=pt({type:gn("stop")}),VJ=pt({type:gn("reset")}),HJ=pt({type:gn("activesensing")}),GJ=pt({type:gn("mtcquarterframe"),data:Le}),JJ=pt({type:gn("unknown")}),YJ=pt({type:gn("error"),message:Dn}),XJ=ss(LJ,FJ,BJ,jJ,DJ,zJ,UJ,WJ,KJ,qJ,VJ,HJ,GJ,JJ,YJ),WP=(t,e)=>{const n=[...e];return st.forEach(t,(r,i)=>{n.push(t.charCodeAt(i))}),n},D_=(t,e=0)=>({type:"sysex",manufacturer:e,body:t}),QJ=(t,e=[],n=0)=>D_(WP(JSON.stringify(t),e),n),ZJ=(t,e,n=[],r=0)=>D_(WP(In(jV(e)(t),{onSome:i=>JSON.stringify(i),onNone:()=>"Error encoding schema sysex"}),n),r),tY=t=>{const e=[];return st.forEach(t,n=>{e.push(String.fromCharCode(n))}),e.join("")},eY=(t,e,n=0)=>{const r=tY(t.body.slice(n));return iH(pP(e))(r)},nY=t=>({raw:[],time:new Date,...t}),sl={schema:XJ,sysex:D_,jsonSysex:QJ,jsonSchemaSysex:ZJ,parseJsonSysex:eY,raw:nY},KP=t=>({targets:t.targets,init:t.init,render:t.render,loading:t.loading||(()=>()=>()=>{}),listenFilter:t.listenFilter||(()=>!0)}),rY=KP({targets:[],init:()=>()=>{},render:()=>()=>{}}),z_={of:KP,empty:rY},ra=dV(),iY=ss(On("Note",{note:Le}),On("CC",{controllerNumber:Le}),On("PC",{programNumber:Le})).annotations(mP.annotation("MidiTarget")),oY=({from:t,to:e})=>{const n=[];for(let r=t;r<=e;r++)n.push(U_(r));return n},sY=({from:t,to:e})=>{const n=[];for(let r=t;r<=e;r++)n.push(W_(r));return n},U_=t=>ra.Note({note:t}),W_=t=>ra.CC({controllerNumber:t}),aY=t=>ra.PC({programNumber:t}),uY=t=>ra.$match({Note:({note:e})=>`noteon-${e}`,CC:({controllerNumber:e})=>`cc-${e}`,PC:({programNumber:e})=>`pc-${e}`})(t),cY=(t,e)=>ra.$match({Note:({note:n})=>({type:"noteon",channel:1,note:n,velocity:e}),CC:({controllerNumber:n})=>({type:"cc",channel:1,controllerNumber:n,data:e}),PC:()=>({type:"pc",programNumber:e})})(t),lY=Array.from({length:127}).map((t,e)=>W_(e)),fY=Array.from({length:127}).map((t,e)=>U_(e)),dY=[...lY,...fY],hY=t=>ra.$match({Note:({note:e})=>e,CC:({controllerNumber:e})=>e,PC:({programNumber:e})=>e})(t),Li={note:U_,notes:oY,cc:W_,ccs:sY,pc:aY,toKey:uY,toMessage:cY,toValue:hY,allTargets:dY,match:ra.$match,Schema:iY},K_=t=>{const e=st.fromPairs(st.map(t,s=>[s.name,s])),n=ss(...t.map(s=>s.schema)),r=s=>s.widgets.flatMap(a=>In(i(a._tag),{onSome:c=>({name:c.name,targets:()=>{const l=c.targets(a);return l._tag==="none"?[]:l._tag==="one"?[l.target]:l.targets},component:()=>c.component(a),widget:a,tracks:()=>c.tracks(a)}),onNone:()=>(console.error("No widget found for config",a),[])})),i=s=>Js(st.get(e,s,void 0));return{schema:n,resolve:r,getByName:i,widgets:t}},pY=t=>t,gY={name:"empty",controller:z_.empty,widgets:K_([])},qP={of:pY,empty:gY};var VP={exports:{}},bp={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mY=H,yY=Symbol.for("react.element"),vY=Symbol.for("react.fragment"),_Y=Object.prototype.hasOwnProperty,bY=mY.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,SY={key:!0,ref:!0,__self:!0,__source:!0};function HP(t,e,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)_Y.call(e,r)&&!SY.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:yY,type:t,key:s,ref:a,props:i,_owner:bY.current}}bp.Fragment=vY;bp.jsx=HP;bp.jsxs=HP;VP.exports=bp;var G=VP.exports;const GP=pt({target:Li.Schema}),JP=pt({targets:gu(Li.Schema)}),wY=On("none",{}),EY=On("one",GP.fields),xY=On("many",JP.fields);ss(wY,EY,xY);const YP=t=>({name:t.name,schema:On(t.name,t.schema.fields),targets:t.targets,component:t.component,tracks:t.tracks||(()=>[]),init:t.init,inputType:t.inputType}),CY=t=>({name:t.name,schema:On(t.name,{...t.schema.fields}),targets:e=>({_tag:"none"}),component:t.component,tracks:t.tracks||(()=>[]),init:()=>({_tag:t.name,...t.init()}),inputType:"none"}),TY=t=>({name:t.name,schema:On(t.name,{...GP.fields,...t.schema.fields}),targets:e=>({_tag:"one",target:e.target}),component:t.component,tracks:t.tracks||(()=>[]),init:e=>({_tag:t.name,target:e.target,...t.init()}),inputType:"one"}),OY=t=>({name:t.name,schema:On(t.name,{...JP.fields,...t.schema.fields}),targets:e=>({_tag:"many",targets:e.targets}),component:t.component,tracks:t.tracks||(()=>[]),init:e=>({_tag:t.name,targets:e.targets,...t.init()}),inputType:"many"}),AY=(t,e,n)=>YP({name:t.name,schema:pt({...t.schema.fields,...e.fields}),targets:r=>t.targets(r),component:r=>t.component(r),tracks:r=>t.tracks!==void 0?t.tracks(r):[],init:r=>({...t.init(r),...n(r)}),inputType:t.inputType}),_e={of:YP,none:CY,one:TY,many:OY,intersect:AY},kY=()=>({send:t=>{mu.debug("Empty send",t)}}),XP={empty:kY},IY=()=>({on:t=>()=>{console.log("Empty listener",t)}}),PY={empty:IY},RY={isAllowed:!1,getInput:t=>ft(),getOutput:t=>ft(),inputs:[],outputs:[]},$Y={deviceManager:on.memSingle("device-manager",RY)},QP={state:$Y.deviceManager},Mx=t=>on.storage(t,ft()),pi={daw:{emitter:on.memSingle("daw-emitter",XP.empty()),listener:on.memSingle("daw-listener",e0()),selected:{input:Mx("daw-midi-input-selected"),output:Mx("daw-midi-output-selected")}}},ZP=()=>QP.state.get(),Nx=()=>{const t=J(pi.daw.selected.input.get(),Au(ZP().getInput));pi.daw.listener.set(Fe(t,()=>PY.empty()))},Lx=()=>{const t=J(pi.daw.selected.output.get(),Au(ZP().getOutput));pi.daw.emitter.set(Fe(t,()=>XP.empty()))},bh=t=>t==="input"?pi.daw.selected.input:pi.daw.selected.output,MY=()=>{pi.daw.selected.input.sub(Nx),Nx(),pi.daw.selected.output.sub(Lx),Lx()},NY=(t,e)=>{bh(e).set(t)},LY=t=>bh(t).get(),FY=t=>{const e=QP.state.useValue(),n=ae.useMemo(()=>t==="input"?e.inputs:e.outputs,[e]),r=bh(t).useValue(),i=bh(t).useSet();return{type:t,devices:n,selected:ai(r),setSelected:s=>{i(Js(s))}}},as={init:MY,useMidiDevices:FY,setSelected:NY,getSelected:LY,states:pi,useDawEmitter:()=>pi.daw.emitter.useValue(),useDawListener:()=>pi.daw.listener.useValue()},tR=_e.one({name:"play",schema:pt({color:tt.Schema}),init:()=>({color:tt.GREEN}),component:({target:t,color:e})=>{const n=as.useDawEmitter();return G.jsx("pad",{color:e,target:t,onClick:()=>n.send(an.play())})}}),eR=_e.one({name:"stop",schema:pt({color:tt.Schema}),init:()=>({color:tt.RED}),component:({target:t,color:e})=>{const n=as.useDawEmitter();return G.jsx("pad",{color:e,target:t,onClick:()=>n.send(an.stop())})}}),BY=_e.one({name:"record",schema:pt({color:tt.Schema}),init:()=>({color:tt.PURPLE}),component:({target:t,color:e})=>{const n=as.useDawEmitter();return G.jsx("pad",{color:e,target:t,onClick:()=>n.send(an.record())})}}),jY=()=>{let t=[],e=!1,n=120,r=100,i=4;const s=h=>t.forEach(g=>g(h)),a=h=>{s({beat:h,halfBeat:!1,isPlaying:e}),setTimeout(()=>{s({beat:h,halfBeat:!0,isPlaying:e})},r)},c=h=>{if(e=h,!h){const g=()=>setTimeout(()=>{a(1),e||g()},r*2);g()}};c(!1);const l=()=>{i<=4?r=60/n/2*1e3:r=60/n/4*1e3};return l(),gt.realTime.tempo.sub(h=>{n=h,l()}),gt.realTime.timeSignature.sub(h=>{i=h.noteLength,l()}),gt.realTime.isPlaying.sub(c),gt.realTime.barBeats.sub(a),{onTick:h=>(t=[...t,h],()=>{t=t.filter(g=>g!==h)})}};let cy;const DY=()=>(cy===void 0&&(cy=jY()),cy),zY=t=>DY().onTick(t),nR={onTick:zY},bo=t=>{const[e,n]=ae.useState(t.color);return ae.useEffect(()=>t.isFlashing?nR.onTick(r=>n(r.halfBeat?tt.BLACK:t.color)):(n(t.color),()=>{}),[t.color,t.isFlashing]),G.jsx("pad",{...t,color:e})};/**
 * @license
 * MIT License
 * 
 * Copyright (c) 2014-present, Lee Byron and other contributors.
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */var ql="delete",ne=5,pr=1<<ne,jn=pr-1,Ft={};function Ov(){return{value:!1}}function Vr(t){t&&(t.value=!0)}function q_(){}function yu(t){return t.size===void 0&&(t.size=t.__iterate(rR)),t.size}function es(t,e){if(typeof e!="number"){var n=e>>>0;if(""+n!==e||n===4294967295)return NaN;e=n}return e<0?yu(t)+e:e}function rR(){return!0}function Sp(t,e,n){return(t===0&&!oR(t)||n!==void 0&&t<=-n)&&(e===void 0||n!==void 0&&e>=n)}function Vl(t,e){return iR(t,e,0)}function wp(t,e){return iR(t,e,e)}function iR(t,e,n){return t===void 0?n:oR(t)?e===1/0?e:Math.max(0,e+t)|0:e===void 0||e===t?t:Math.min(e,t)|0}function oR(t){return t<0||t===0&&1/t===-1/0}var sR="@@__IMMUTABLE_ITERABLE__@@";function wr(t){return!!(t&&t[sR])}var Sh="@@__IMMUTABLE_KEYED__@@";function pe(t){return!!(t&&t[Sh])}var wh="@@__IMMUTABLE_INDEXED__@@";function Jr(t){return!!(t&&t[wh])}function V_(t){return pe(t)||Jr(t)}var An=function(e){return wr(e)?e:er(e)},Yr=function(t){function e(n){return pe(n)?n:us(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(An),ia=function(t){function e(n){return Jr(n)?n:vi(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(An),ju=function(t){function e(n){return wr(n)&&!V_(n)?n:Uu(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(An);An.Keyed=Yr;An.Indexed=ia;An.Set=ju;var aR="@@__IMMUTABLE_SEQ__@@";function H_(t){return!!(t&&t[aR])}var uR="@@__IMMUTABLE_RECORD__@@";function oa(t){return!!(t&&t[uR])}function Gi(t){return wr(t)||oa(t)}var ns="@@__IMMUTABLE_ORDERED__@@";function Wi(t){return!!(t&&t[ns])}var Du=0,Er=1,xr=2,Av=typeof Symbol=="function"&&Symbol.iterator,cR="@@iterator",Ep=Av||cR,Dt=function(e){this.next=e};Dt.prototype.toString=function(){return"[Iterator]"};Dt.KEYS=Du;Dt.VALUES=Er;Dt.ENTRIES=xr;Dt.prototype.inspect=Dt.prototype.toSource=function(){return this.toString()};Dt.prototype[Ep]=function(){return this};function ge(t,e,n,r){var i=t===Du?e:t===Er?n:[e,n];return r?r.value=i:r={value:i,done:!1},r}function zn(){return{value:void 0,done:!0}}function lR(t){return Array.isArray(t)?!0:!!xp(t)}function Fx(t){return t&&typeof t.next=="function"}function kv(t){var e=xp(t);return e&&e.call(t)}function xp(t){var e=t&&(Av&&t[Av]||t[cR]);if(typeof e=="function")return e}function UY(t){var e=xp(t);return e&&e===t.entries}function WY(t){var e=xp(t);return e&&e===t.keys}var zu=Object.prototype.hasOwnProperty;function fR(t){return Array.isArray(t)||typeof t=="string"?!0:t&&typeof t=="object"&&Number.isInteger(t.length)&&t.length>=0&&(t.length===0?Object.keys(t).length===1:t.hasOwnProperty(t.length-1))}var er=function(t){function e(n){return n==null?J_():Gi(n)?n.toSeq():qY(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq {","}")},e.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},e.prototype.__iterate=function(r,i){var s=this._cache;if(s){for(var a=s.length,c=0;c!==a;){var l=s[i?a-++c:c++];if(r(l[1],l[0],this)===!1)break}return c}return this.__iterateUncached(r,i)},e.prototype.__iterator=function(r,i){var s=this._cache;if(s){var a=s.length,c=0;return new Dt(function(){if(c===a)return zn();var l=s[i?a-++c:c++];return ge(r,l[0],l[1])})}return this.__iteratorUncached(r,i)},e}(An),us=function(t){function e(n){return n==null?J_().toKeyedSeq():wr(n)?pe(n)?n.toSeq():n.fromEntrySeq():oa(n)?n.toSeq():Y_(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toKeyedSeq=function(){return this},e}(er),vi=function(t){function e(n){return n==null?J_():wr(n)?pe(n)?n.entrySeq():n.toIndexedSeq():oa(n)?n.toSeq().entrySeq():dR(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return e(arguments)},e.prototype.toIndexedSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq [","]")},e}(er),Uu=function(t){function e(n){return(wr(n)&&!V_(n)?n:vi(n)).toSetSeq()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return e(arguments)},e.prototype.toSetSeq=function(){return this},e}(er);er.isSeq=H_;er.Keyed=us;er.Set=Uu;er.Indexed=vi;er.prototype[aR]=!0;var vu=function(t){function e(n){this._array=n,this.size=n.length}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(r,i){return this.has(r)?this._array[es(this,r)]:i},e.prototype.__iterate=function(r,i){for(var s=this._array,a=s.length,c=0;c!==a;){var l=i?a-++c:c++;if(r(s[l],l,this)===!1)break}return c},e.prototype.__iterator=function(r,i){var s=this._array,a=s.length,c=0;return new Dt(function(){if(c===a)return zn();var l=i?a-++c:c++;return ge(r,l,s[l])})},e}(vi),G_=function(t){function e(n){var r=Object.keys(n).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(n):[]);this._object=n,this._keys=r,this.size=r.length}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(r,i){return i!==void 0&&!this.has(r)?i:this._object[r]},e.prototype.has=function(r){return zu.call(this._object,r)},e.prototype.__iterate=function(r,i){for(var s=this._object,a=this._keys,c=a.length,l=0;l!==c;){var d=a[i?c-++l:l++];if(r(s[d],d,this)===!1)break}return l},e.prototype.__iterator=function(r,i){var s=this._object,a=this._keys,c=a.length,l=0;return new Dt(function(){if(l===c)return zn();var d=a[i?c-++l:l++];return ge(r,d,s[d])})},e}(us);G_.prototype[ns]=!0;var KY=function(t){function e(n){this._collection=n,this.size=n.length||n.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__iterateUncached=function(r,i){if(i)return this.cacheResult().__iterate(r,i);var s=this._collection,a=kv(s),c=0;if(Fx(a))for(var l;!(l=a.next()).done&&r(l.value,c++,this)!==!1;);return c},e.prototype.__iteratorUncached=function(r,i){if(i)return this.cacheResult().__iterator(r,i);var s=this._collection,a=kv(s);if(!Fx(a))return new Dt(zn);var c=0;return new Dt(function(){var l=a.next();return l.done?l:ge(r,c++,l.value)})},e}(vi),Bx;function J_(){return Bx||(Bx=new vu([]))}function Y_(t){var e=X_(t);if(e)return e.fromEntrySeq();if(typeof t=="object")return new G_(t);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+t)}function dR(t){var e=X_(t);if(e)return e;throw new TypeError("Expected Array or collection object of values: "+t)}function qY(t){var e=X_(t);if(e)return UY(t)?e.fromEntrySeq():WY(t)?e.toSetSeq():e;if(typeof t=="object")return new G_(t);throw new TypeError("Expected Array or collection object of values, or keyed object: "+t)}function X_(t){return fR(t)?new vu(t):lR(t)?new KY(t):void 0}var hR="@@__IMMUTABLE_MAP__@@";function Q_(t){return!!(t&&t[hR])}function pR(t){return Q_(t)&&Wi(t)}function jx(t){return!!(t&&typeof t.equals=="function"&&typeof t.hashCode=="function")}function gr(t,e){if(t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1;if(typeof t.valueOf=="function"&&typeof e.valueOf=="function"){if(t=t.valueOf(),e=e.valueOf(),t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1}return!!(jx(t)&&jx(e)&&t.equals(e))}var Cc=typeof Math.imul=="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(e,n){e|=0,n|=0;var r=e&65535,i=n&65535;return r*i+((e>>>16)*i+r*(n>>>16)<<16>>>0)|0};function Cp(t){return t>>>1&1073741824|t&3221225471}var VY=Object.prototype.valueOf;function fr(t){if(t==null)return Dx(t);if(typeof t.hashCode=="function")return Cp(t.hashCode(t));var e=QY(t);if(e==null)return Dx(e);switch(typeof e){case"boolean":return e?1108378657:1108378656;case"number":return HY(e);case"string":return e.length>ZY?GY(e):Iv(e);case"object":case"function":return YY(e);case"symbol":return JY(e);default:if(typeof e.toString=="function")return Iv(e.toString());throw new Error("Value type "+typeof e+" cannot be hashed.")}}function Dx(t){return t===null?1108378658:1108378659}function HY(t){if(t!==t||t===1/0)return 0;var e=t|0;for(e!==t&&(e^=t*4294967295);t>4294967295;)t/=4294967295,e^=t;return Cp(e)}function GY(t){var e=dy[t];return e===void 0&&(e=Iv(t),fy===tX&&(fy=0,dy={}),fy++,dy[t]=e),e}function Iv(t){for(var e=0,n=0;n<t.length;n++)e=31*e+t.charCodeAt(n)|0;return Cp(e)}function JY(t){var e=Wx[t];return e!==void 0||(e=gR(),Wx[t]=e),e}function YY(t){var e;if(Pv&&(e=Rv.get(t),e!==void 0)||(e=t[Cs],e!==void 0)||!Ux&&(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[Cs],e!==void 0||(e=XY(t),e!==void 0)))return e;if(e=gR(),Pv)Rv.set(t,e);else{if(zx!==void 0&&zx(t)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(Ux)Object.defineProperty(t,Cs,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(t.propertyIsEnumerable!==void 0&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[Cs]=e;else if(t.nodeType!==void 0)t[Cs]=e;else throw new Error("Unable to set a non-enumerable property on object.")}return e}var zx=Object.isExtensible,Ux=function(){try{return Object.defineProperty({},"@",{}),!0}catch{return!1}}();function XY(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}function QY(t){return t.valueOf!==VY&&typeof t.valueOf=="function"?t.valueOf(t):t}function gR(){var t=++ly;return ly&1073741824&&(ly=0),t}var Pv=typeof WeakMap=="function",Rv;Pv&&(Rv=new WeakMap);var Wx=Object.create(null),ly=0,Cs="__immutablehash__";typeof Symbol=="function"&&(Cs=Symbol(Cs));var ZY=16,tX=255,fy=0,dy={},Tp=function(t){function e(n,r){this._iter=n,this._useKeys=r,this.size=n.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(r,i){return this._iter.get(r,i)},e.prototype.has=function(r){return this._iter.has(r)},e.prototype.valueSeq=function(){return this._iter.valueSeq()},e.prototype.reverse=function(){var r=this,i=Z_(this,!0);return this._useKeys||(i.valueSeq=function(){return r._iter.toSeq().reverse()}),i},e.prototype.map=function(r,i){var s=this,a=bR(this,r,i);return this._useKeys||(a.valueSeq=function(){return s._iter.toSeq().map(r,i)}),a},e.prototype.__iterate=function(r,i){var s=this;return this._iter.__iterate(function(a,c){return r(a,c,s)},i)},e.prototype.__iterator=function(r,i){return this._iter.__iterator(r,i)},e}(us);Tp.prototype[ns]=!0;var mR=function(t){function e(n){this._iter=n,this.size=n.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.includes=function(r){return this._iter.includes(r)},e.prototype.__iterate=function(r,i){var s=this,a=0;return i&&yu(this),this._iter.__iterate(function(c){return r(c,i?s.size-++a:a++,s)},i)},e.prototype.__iterator=function(r,i){var s=this,a=this._iter.__iterator(Er,i),c=0;return i&&yu(this),new Dt(function(){var l=a.next();return l.done?l:ge(r,i?s.size-++c:c++,l.value,l)})},e}(vi),yR=function(t){function e(n){this._iter=n,this.size=n.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.has=function(r){return this._iter.includes(r)},e.prototype.__iterate=function(r,i){var s=this;return this._iter.__iterate(function(a){return r(a,a,s)},i)},e.prototype.__iterator=function(r,i){var s=this._iter.__iterator(Er,i);return new Dt(function(){var a=s.next();return a.done?a:ge(r,a.value,a.value,a)})},e}(Uu),vR=function(t){function e(n){this._iter=n,this.size=n.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.entrySeq=function(){return this._iter.toSeq()},e.prototype.__iterate=function(r,i){var s=this;return this._iter.__iterate(function(a){if(a){qx(a);var c=wr(a);return r(c?a.get(1):a[1],c?a.get(0):a[0],s)}},i)},e.prototype.__iterator=function(r,i){var s=this._iter.__iterator(Er,i);return new Dt(function(){for(;;){var a=s.next();if(a.done)return a;var c=a.value;if(c){qx(c);var l=wr(c);return ge(r,l?c.get(0):c[0],l?c.get(1):c[1],a)}}})},e}(us);mR.prototype.cacheResult=Tp.prototype.cacheResult=yR.prototype.cacheResult=vR.prototype.cacheResult=nb;function _R(t){var e=Ji(t);return e._iter=t,e.size=t.size,e.flip=function(){return t},e.reverse=function(){var n=t.reverse.apply(this);return n.flip=function(){return t.reverse()},n},e.has=function(n){return t.includes(n)},e.includes=function(n){return t.has(n)},e.cacheResult=nb,e.__iterateUncached=function(n,r){var i=this;return t.__iterate(function(s,a){return n(a,s,i)!==!1},r)},e.__iteratorUncached=function(n,r){if(n===xr){var i=t.__iterator(n,r);return new Dt(function(){var s=i.next();if(!s.done){var a=s.value[0];s.value[0]=s.value[1],s.value[1]=a}return s})}return t.__iterator(n===Er?Du:Er,r)},e}function bR(t,e,n){var r=Ji(t);return r.size=t.size,r.has=function(i){return t.has(i)},r.get=function(i,s){var a=t.get(i,Ft);return a===Ft?s:e.call(n,a,i,t)},r.__iterateUncached=function(i,s){var a=this;return t.__iterate(function(c,l,d){return i(e.call(n,c,l,d),l,a)!==!1},s)},r.__iteratorUncached=function(i,s){var a=t.__iterator(xr,s);return new Dt(function(){var c=a.next();if(c.done)return c;var l=c.value,d=l[0];return ge(i,d,e.call(n,l[1],d,t),c)})},r}function Z_(t,e){var n=this,r=Ji(t);return r._iter=t,r.size=t.size,r.reverse=function(){return t},t.flip&&(r.flip=function(){var i=_R(t);return i.reverse=function(){return t.flip()},i}),r.get=function(i,s){return t.get(e?i:-1-i,s)},r.has=function(i){return t.has(e?i:-1-i)},r.includes=function(i){return t.includes(i)},r.cacheResult=nb,r.__iterate=function(i,s){var a=this,c=0;return s&&yu(t),t.__iterate(function(l,d){return i(l,e?d:s?a.size-++c:c++,a)},!s)},r.__iterator=function(i,s){var a=0;s&&yu(t);var c=t.__iterator(xr,!s);return new Dt(function(){var l=c.next();if(l.done)return l;var d=l.value;return ge(i,e?d[0]:s?n.size-++a:a++,d[1],l)})},r}function SR(t,e,n,r){var i=Ji(t);return r&&(i.has=function(s){var a=t.get(s,Ft);return a!==Ft&&!!e.call(n,a,s,t)},i.get=function(s,a){var c=t.get(s,Ft);return c!==Ft&&e.call(n,c,s,t)?c:a}),i.__iterateUncached=function(s,a){var c=this,l=0;return t.__iterate(function(d,h,g){if(e.call(n,d,h,g))return l++,s(d,r?h:l-1,c)},a),l},i.__iteratorUncached=function(s,a){var c=t.__iterator(xr,a),l=0;return new Dt(function(){for(;;){var d=c.next();if(d.done)return d;var h=d.value,g=h[0],m=h[1];if(e.call(n,m,g,t))return ge(s,r?g:l++,m,d)}})},i}function eX(t,e,n){var r=Ku().asMutable();return t.__iterate(function(i,s){r.update(e.call(n,i,s,t),0,function(a){return a+1})}),r.asImmutable()}function nX(t,e,n){var r=pe(t),i=(Wi(t)?wo():Ku()).asMutable();t.__iterate(function(a,c){i.update(e.call(n,a,c,t),function(l){return l=l||[],l.push(r?[c,a]:a),l})});var s=eb(t);return i.map(function(a){return ee(t,s(a))}).asImmutable()}function rX(t,e,n){var r=pe(t),i=[[],[]];t.__iterate(function(a,c){i[e.call(n,a,c,t)?1:0].push(r?[c,a]:a)});var s=eb(t);return i.map(function(a){return ee(t,s(a))})}function tb(t,e,n,r){var i=t.size;if(Sp(e,n,i))return t;if(typeof i>"u"&&(e<0||n<0))return tb(t.toSeq().cacheResult(),e,n,r);var s=Vl(e,i),a=wp(n,i),c=a-s,l;c===c&&(l=c<0?0:c);var d=Ji(t);return d.size=l===0?l:t.size&&l||void 0,!r&&H_(t)&&l>=0&&(d.get=function(h,g){return h=es(this,h),h>=0&&h<l?t.get(h+s,g):g}),d.__iterateUncached=function(h,g){var m=this;if(l===0)return 0;if(g)return this.cacheResult().__iterate(h,g);var y=0,w=!0,x=0;return t.__iterate(function(C,T){if(!(w&&(w=y++<s)))return x++,h(C,r?T:x-1,m)!==!1&&x!==l}),x},d.__iteratorUncached=function(h,g){if(l!==0&&g)return this.cacheResult().__iterator(h,g);if(l===0)return new Dt(zn);var m=t.__iterator(h,g),y=0,w=0;return new Dt(function(){for(;y++<s;)m.next();if(++w>l)return zn();var x=m.next();return r||h===Er||x.done?x:h===Du?ge(h,w-1,void 0,x):ge(h,w-1,x.value[1],x)})},d}function iX(t,e,n){var r=Ji(t);return r.__iterateUncached=function(i,s){var a=this;if(s)return this.cacheResult().__iterate(i,s);var c=0;return t.__iterate(function(l,d,h){return e.call(n,l,d,h)&&++c&&i(l,d,a)}),c},r.__iteratorUncached=function(i,s){var a=this;if(s)return this.cacheResult().__iterator(i,s);var c=t.__iterator(xr,s),l=!0;return new Dt(function(){if(!l)return zn();var d=c.next();if(d.done)return d;var h=d.value,g=h[0],m=h[1];return e.call(n,m,g,a)?i===xr?d:ge(i,g,m,d):(l=!1,zn())})},r}function wR(t,e,n,r){var i=Ji(t);return i.__iterateUncached=function(s,a){var c=this;if(a)return this.cacheResult().__iterate(s,a);var l=!0,d=0;return t.__iterate(function(h,g,m){if(!(l&&(l=e.call(n,h,g,m))))return d++,s(h,r?g:d-1,c)}),d},i.__iteratorUncached=function(s,a){var c=this;if(a)return this.cacheResult().__iterator(s,a);var l=t.__iterator(xr,a),d=!0,h=0;return new Dt(function(){var g,m,y;do{if(g=l.next(),g.done)return r||s===Er?g:s===Du?ge(s,h++,void 0,g):ge(s,h++,g.value[1],g);var w=g.value;m=w[0],y=w[1],d&&(d=e.call(n,y,m,c))}while(d);return s===xr?g:ge(s,m,y,g)})},i}var oX=function(t){function e(n){this._wrappedIterables=n.flatMap(function(r){return r._wrappedIterables?r._wrappedIterables:[r]}),this.size=this._wrappedIterables.reduce(function(r,i){if(r!==void 0){var s=i.size;if(s!==void 0)return r+s}},0),this[Sh]=this._wrappedIterables[0][Sh],this[wh]=this._wrappedIterables[0][wh],this[ns]=this._wrappedIterables[0][ns]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__iterateUncached=function(r,i){if(this._wrappedIterables.length!==0){if(i)return this.cacheResult().__iterate(r,i);for(var s=0,a=pe(this),c=a?xr:Er,l=this._wrappedIterables[s].__iterator(c,i),d=!0,h=0;d;){for(var g=l.next();g.done;){if(s++,s===this._wrappedIterables.length)return h;l=this._wrappedIterables[s].__iterator(c,i),g=l.next()}var m=a?r(g.value[1],g.value[0],this):r(g.value,h,this);d=m!==!1,h++}return h}},e.prototype.__iteratorUncached=function(r,i){var s=this;if(this._wrappedIterables.length===0)return new Dt(zn);if(i)return this.cacheResult().__iterator(r,i);var a=0,c=this._wrappedIterables[a].__iterator(r,i);return new Dt(function(){for(var l=c.next();l.done;){if(a++,a===s._wrappedIterables.length)return l;c=s._wrappedIterables[a].__iterator(r,i),l=c.next()}return l})},e}(er);function sX(t,e){var n=pe(t),r=[t].concat(e).map(function(s){return wr(s)?n&&(s=Yr(s)):s=n?Y_(s):dR(Array.isArray(s)?s:[s]),s}).filter(function(s){return s.size!==0});if(r.length===0)return t;if(r.length===1){var i=r[0];if(i===t||n&&pe(i)||Jr(t)&&Jr(i))return i}return new oX(r)}function ER(t,e,n){var r=Ji(t);return r.__iterateUncached=function(i,s){if(s)return this.cacheResult().__iterate(i,s);var a=0,c=!1;function l(d,h){d.__iterate(function(g,m){return(!e||h<e)&&wr(g)?l(g,h+1):(a++,i(g,n?m:a-1,r)===!1&&(c=!0)),!c},s)}return l(t,0),a},r.__iteratorUncached=function(i,s){if(s)return this.cacheResult().__iterator(i,s);var a=t.__iterator(i,s),c=[],l=0;return new Dt(function(){for(;a;){var d=a.next();if(d.done!==!1){a=c.pop();continue}var h=d.value;if(i===xr&&(h=h[1]),(!e||c.length<e)&&wr(h))c.push(a),a=h.__iterator(i,s);else return n?d:ge(i,l++,h,d)}return zn()})},r}function aX(t,e,n){var r=eb(t);return t.toSeq().map(function(i,s){return r(e.call(n,i,s,t))}).flatten(!0)}function uX(t,e){var n=Ji(t);return n.size=t.size&&t.size*2-1,n.__iterateUncached=function(r,i){var s=this,a=0;return t.__iterate(function(c){return(!a||r(e,a++,s)!==!1)&&r(c,a++,s)!==!1},i),a},n.__iteratorUncached=function(r,i){var s=t.__iterator(Er,i),a=0,c;return new Dt(function(){return(!c||a%2)&&(c=s.next(),c.done)?c:a%2?ge(r,a++,e):ge(r,a++,c.value,c)})},n}function _u(t,e,n){e||(e=xR);var r=pe(t),i=0,s=t.toSeq().map(function(a,c){return[c,a,i++,n?n(a,c,t):a]}).valueSeq().toArray();return s.sort(function(a,c){return e(a[3],c[3])||a[2]-c[2]}).forEach(r?function(a,c){s[c].length=2}:function(a,c){s[c]=a[1]}),r?us(s):Jr(t)?vi(s):Uu(s)}function id(t,e,n){if(e||(e=xR),n){var r=t.toSeq().map(function(i,s){return[i,n(i,s,t)]}).reduce(function(i,s){return Kx(e,i[1],s[1])?s:i});return r&&r[0]}return t.reduce(function(i,s){return Kx(e,i,s)?s:i})}function Kx(t,e,n){var r=t(n,e);return r===0&&n!==e&&(n==null||n!==n)||r>0}function od(t,e,n,r){var i=Ji(t),s=new vu(n).map(function(a){return a.size});return i.size=r?s.max():s.min(),i.__iterate=function(a,c){for(var l=this.__iterator(Er,c),d,h=0;!(d=l.next()).done&&a(d.value,h++,this)!==!1;);return h},i.__iteratorUncached=function(a,c){var l=n.map(function(g){return g=An(g),kv(c?g.reverse():g)}),d=0,h=!1;return new Dt(function(){var g;return h||(g=l.map(function(m){return m.next()}),h=r?g.every(function(m){return m.done}):g.some(function(m){return m.done})),h?zn():ge(a,d++,e.apply(null,g.map(function(m){return m.value})))})},i}function ee(t,e){return t===e?t:H_(t)?e:t.constructor(e)}function qx(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function eb(t){return pe(t)?Yr:Jr(t)?ia:ju}function Ji(t){return Object.create((pe(t)?us:Jr(t)?vi:Uu).prototype)}function nb(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):er.prototype.cacheResult.call(this)}function xR(t,e){return t===void 0&&e===void 0?0:t===void 0?1:e===void 0?-1:t>e?1:t<e?-1:0}function Fi(t,e){e=e||0;for(var n=Math.max(0,t.length-e),r=new Array(n),i=0;i<n;i++)r[i]=t[i+e];return r}function Wc(t,e){if(!t)throw new Error(e)}function dr(t){Wc(t!==1/0,"Cannot perform this action with an infinite size.")}function CR(t){if(fR(t)&&typeof t!="string")return t;if(Wi(t))return t.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+t)}var cX=Object.prototype.toString;function lX(t){if(!t||typeof t!="object"||cX.call(t)!=="[object Object]")return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var n=e,r=Object.getPrototypeOf(e);r!==null;)n=r,r=Object.getPrototypeOf(n);return n===e}function rs(t){return typeof t=="object"&&(Gi(t)||Array.isArray(t)||lX(t))}function al(t){try{return typeof t=="string"?JSON.stringify(t):String(t)}catch{return JSON.stringify(t)}}function fX(t,e){return Gi(t)?t.has(e):rs(t)&&zu.call(t,e)}function TR(t,e,n){return Gi(t)?t.get(e,n):fX(t,e)?typeof t.get=="function"?t.get(e):t[e]:n}function Eh(t){if(Array.isArray(t))return Fi(t);var e={};for(var n in t)zu.call(t,n)&&(e[n]=t[n]);return e}function dX(t,e){if(!rs(t))throw new TypeError("Cannot update non-data-structure value: "+t);if(Gi(t)){if(!t.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+t);return t.remove(e)}if(!zu.call(t,e))return t;var n=Eh(t);return Array.isArray(n)?n.splice(e,1):delete n[e],n}function hX(t,e,n){if(!rs(t))throw new TypeError("Cannot update non-data-structure value: "+t);if(Gi(t)){if(!t.set)throw new TypeError("Cannot update immutable value without .set() method: "+t);return t.set(e,n)}if(zu.call(t,e)&&n===t[e])return t;var r=Eh(t);return r[e]=n,r}function Wu(t,e,n,r){r||(r=n,n=void 0);var i=OR(Gi(t),t,CR(e),0,n,r);return i===Ft?n:i}function OR(t,e,n,r,i,s){var a=e===Ft;if(r===n.length){var c=a?i:e,l=s(c);return l===c?e:l}if(!a&&!rs(e))throw new TypeError("Cannot update within non-data-structure value in path ["+Array.from(n).slice(0,r).map(al)+"]: "+e);var d=n[r],h=a?Ft:TR(e,d,Ft),g=OR(h===Ft?t:Gi(h),h,n,r+1,i,s);return g===h?e:g===Ft?dX(e,d):hX(a?t?ji():{}:e,d,g)}function pX(t,e,n){return Wu(t,e,Ft,function(){return n})}function rb(t,e){return pX(this,t,e)}function gX(t,e){return Wu(t,e,function(){return Ft})}function ib(t){return gX(this,t)}function AR(t,e,n,r){return Wu(t,[e],n,r)}function ob(t,e,n){return arguments.length===1?t(this):AR(this,t,e,n)}function sb(t,e,n){return Wu(this,t,e,n)}function kR(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return PR(this,t)}function IR(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];if(typeof t!="function")throw new TypeError("Invalid merger function: "+t);return PR(this,e,t)}function PR(t,e,n){for(var r=[],i=0;i<e.length;i++){var s=Yr(e[i]);s.size!==0&&r.push(s)}return r.length===0?t:t.toSeq().size===0&&!t.__ownerID&&r.length===1?oa(t)?t:t.constructor(r[0]):t.withMutations(function(a){for(var c=n?function(d,h){AR(a,h,Ft,function(g){return g===Ft?d:n(g,d,h)})}:function(d,h){a.set(h,d)},l=0;l<r.length;l++)r[l].forEach(c)})}function ab(t,e,n){return ub(t,e,mX(n))}function ub(t,e,n){if(!rs(t))throw new TypeError("Cannot merge into non-data-structure value: "+t);if(Gi(t))return typeof n=="function"&&t.mergeWith?t.mergeWith.apply(t,[n].concat(e)):t.merge?t.merge.apply(t,e):t.concat.apply(t,e);for(var r=Array.isArray(t),i=t,s=r?ia:Yr,a=r?function(l){i===t&&(i=Eh(i)),i.push(l)}:function(l,d){var h=zu.call(i,d),g=h&&n?n(i[d],l,d):l;(!h||g!==i[d])&&(i===t&&(i=Eh(i)),i[d]=g)},c=0;c<e.length;c++)s(e[c]).forEach(a);return i}function mX(t){function e(n,r,i){return rs(n)&&rs(r)&&yX(n,r)?ub(n,[r],e):t?t(n,r,i):r}return e}function yX(t,e){var n=er(t),r=er(e);return Jr(n)===Jr(r)&&pe(n)===pe(r)}function RR(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return ab(this,t)}function $R(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return ab(this,e,t)}function cb(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return Wu(this,t,ji(),function(r){return ub(r,e)})}function lb(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return Wu(this,t,ji(),function(r){return ab(r,e)})}function Hl(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this}function Gl(){return this.__ownerID?this:this.__ensureOwner(new q_)}function Jl(){return this.__ensureOwner()}function fb(){return this.__altered}var Ku=function(t){function e(n){return n==null?ji():Q_(n)&&!Wi(n)?n:ji().withMutations(function(r){var i=t(n);dr(i.size),i.forEach(function(s,a){return r.set(a,s)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return this.__toString("Map {","}")},e.prototype.get=function(r,i){return this._root?this._root.get(0,void 0,r,i):i},e.prototype.set=function(r,i){return Gx(this,r,i)},e.prototype.remove=function(r){return Gx(this,r,Ft)},e.prototype.deleteAll=function(r){var i=An(r);return i.size===0?this:this.withMutations(function(s){i.forEach(function(a){return s.remove(a)})})},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):ji()},e.prototype.sort=function(r){return wo(_u(this,r))},e.prototype.sortBy=function(r,i){return wo(_u(this,i,r))},e.prototype.map=function(r,i){var s=this;return this.withMutations(function(a){a.forEach(function(c,l){a.set(l,r.call(i,c,l,s))})})},e.prototype.__iterator=function(r,i){return new vX(this,r,i)},e.prototype.__iterate=function(r,i){var s=this,a=0;return this._root&&this._root.iterate(function(c){return a++,r(c[1],c[0],s)},i),a},e.prototype.__ensureOwner=function(r){return r===this.__ownerID?this:r?db(this.size,this._root,r,this.__hash):this.size===0?ji():(this.__ownerID=r,this.__altered=!1,this)},e}(Yr);Ku.isMap=Q_;var fe=Ku.prototype;fe[hR]=!0;fe[ql]=fe.remove;fe.removeAll=fe.deleteAll;fe.setIn=rb;fe.removeIn=fe.deleteIn=ib;fe.update=ob;fe.updateIn=sb;fe.merge=fe.concat=kR;fe.mergeWith=IR;fe.mergeDeep=RR;fe.mergeDeepWith=$R;fe.mergeIn=cb;fe.mergeDeepIn=lb;fe.withMutations=Hl;fe.wasAltered=fb;fe.asImmutable=Jl;fe["@@transducer/init"]=fe.asMutable=Gl;fe["@@transducer/step"]=function(t,e){return t.set(e[0],e[1])};fe["@@transducer/result"]=function(t){return t.asImmutable()};var ul=function(e,n){this.ownerID=e,this.entries=n};ul.prototype.get=function(e,n,r,i){for(var s=this.entries,a=0,c=s.length;a<c;a++)if(gr(r,s[a][0]))return s[a][1];return i};ul.prototype.update=function(e,n,r,i,s,a,c){for(var l=s===Ft,d=this.entries,h=0,g=d.length;h<g&&!gr(i,d[h][0]);h++);var m=h<g;if(m?d[h][1]===s:l)return this;if(Vr(c),(l||!m)&&Vr(a),!(l&&d.length===1)){if(!m&&!l&&d.length>=xX)return _X(e,d,i,s);var y=e&&e===this.ownerID,w=y?d:Fi(d);return m?l?h===g-1?w.pop():w[h]=w.pop():w[h]=[i,s]:w.push([i,s]),y?(this.entries=w,this):new ul(e,w)}};var bu=function(e,n,r){this.ownerID=e,this.bitmap=n,this.nodes=r};bu.prototype.get=function(e,n,r,i){n===void 0&&(n=fr(r));var s=1<<((e===0?n:n>>>e)&jn),a=this.bitmap;return a&s?this.nodes[MR(a&s-1)].get(e+ne,n,r,i):i};bu.prototype.update=function(e,n,r,i,s,a,c){r===void 0&&(r=fr(i));var l=(n===0?r:r>>>n)&jn,d=1<<l,h=this.bitmap,g=(h&d)!==0;if(!g&&s===Ft)return this;var m=MR(h&d-1),y=this.nodes,w=g?y[m]:void 0,x=hb(w,e,n+ne,r,i,s,a,c);if(x===w)return this;if(!g&&x&&y.length>=CX)return SX(e,y,h,l,x);if(g&&!x&&y.length===2&&Jx(y[m^1]))return y[m^1];if(g&&x&&y.length===1&&Jx(x))return x;var C=e&&e===this.ownerID,T=g?x?h:h^d:h|d,$=g?x?NR(y,m,x,C):EX(y,m,C):wX(y,m,x,C);return C?(this.bitmap=T,this.nodes=$,this):new bu(e,T,$)};var cl=function(e,n,r){this.ownerID=e,this.count=n,this.nodes=r};cl.prototype.get=function(e,n,r,i){n===void 0&&(n=fr(r));var s=(e===0?n:n>>>e)&jn,a=this.nodes[s];return a?a.get(e+ne,n,r,i):i};cl.prototype.update=function(e,n,r,i,s,a,c){r===void 0&&(r=fr(i));var l=(n===0?r:r>>>n)&jn,d=s===Ft,h=this.nodes,g=h[l];if(d&&!g)return this;var m=hb(g,e,n+ne,r,i,s,a,c);if(m===g)return this;var y=this.count;if(!g)y++;else if(!m&&(y--,y<TX))return bX(e,h,y,l);var w=e&&e===this.ownerID,x=NR(h,l,m,w);return w?(this.count=y,this.nodes=x,this):new cl(e,y,x)};var Su=function(e,n,r){this.ownerID=e,this.keyHash=n,this.entries=r};Su.prototype.get=function(e,n,r,i){for(var s=this.entries,a=0,c=s.length;a<c;a++)if(gr(r,s[a][0]))return s[a][1];return i};Su.prototype.update=function(e,n,r,i,s,a,c){r===void 0&&(r=fr(i));var l=s===Ft;if(r!==this.keyHash)return l?this:(Vr(c),Vr(a),pb(this,e,n,r,[i,s]));for(var d=this.entries,h=0,g=d.length;h<g&&!gr(i,d[h][0]);h++);var m=h<g;if(m?d[h][1]===s:l)return this;if(Vr(c),(l||!m)&&Vr(a),l&&g===2)return new So(e,this.keyHash,d[h^1]);var y=e&&e===this.ownerID,w=y?d:Fi(d);return m?l?h===g-1?w.pop():w[h]=w.pop():w[h]=[i,s]:w.push([i,s]),y?(this.entries=w,this):new Su(e,this.keyHash,w)};var So=function(e,n,r){this.ownerID=e,this.keyHash=n,this.entry=r};So.prototype.get=function(e,n,r,i){return gr(r,this.entry[0])?this.entry[1]:i};So.prototype.update=function(e,n,r,i,s,a,c){var l=s===Ft,d=gr(i,this.entry[0]);if(d?s===this.entry[1]:l)return this;if(Vr(c),l){Vr(a);return}return d?e&&e===this.ownerID?(this.entry[1]=s,this):new So(e,this.keyHash,[i,s]):(Vr(a),pb(this,e,n,fr(i),[i,s]))};ul.prototype.iterate=Su.prototype.iterate=function(t,e){for(var n=this.entries,r=0,i=n.length-1;r<=i;r++)if(t(n[e?i-r:r])===!1)return!1};bu.prototype.iterate=cl.prototype.iterate=function(t,e){for(var n=this.nodes,r=0,i=n.length-1;r<=i;r++){var s=n[e?i-r:r];if(s&&s.iterate(t,e)===!1)return!1}};So.prototype.iterate=function(t,e){return t(this.entry)};var vX=function(t){function e(n,r,i){this._type=r,this._reverse=i,this._stack=n._root&&Vx(n._root)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){for(var r=this._type,i=this._stack;i;){var s=i.node,a=i.index++,c=void 0;if(s.entry){if(a===0)return hy(r,s.entry)}else if(s.entries){if(c=s.entries.length-1,a<=c)return hy(r,s.entries[this._reverse?c-a:a])}else if(c=s.nodes.length-1,a<=c){var l=s.nodes[this._reverse?c-a:a];if(l){if(l.entry)return hy(r,l.entry);i=this._stack=Vx(l,i)}continue}i=this._stack=this._stack.__prev}return zn()},e}(Dt);function hy(t,e){return ge(t,e[0],e[1])}function Vx(t,e){return{node:t,index:0,__prev:e}}function db(t,e,n,r){var i=Object.create(fe);return i.size=t,i._root=e,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}var Hx;function ji(){return Hx||(Hx=db(0))}function Gx(t,e,n){var r,i;if(t._root){var s=Ov(),a=Ov();if(r=hb(t._root,t.__ownerID,0,void 0,e,n,s,a),!a.value)return t;i=t.size+(s.value?n===Ft?-1:1:0)}else{if(n===Ft)return t;i=1,r=new ul(t.__ownerID,[[e,n]])}return t.__ownerID?(t.size=i,t._root=r,t.__hash=void 0,t.__altered=!0,t):r?db(i,r):ji()}function hb(t,e,n,r,i,s,a,c){return t?t.update(e,n,r,i,s,a,c):s===Ft?t:(Vr(c),Vr(a),new So(e,r,[i,s]))}function Jx(t){return t.constructor===So||t.constructor===Su}function pb(t,e,n,r,i){if(t.keyHash===r)return new Su(e,r,[t.entry,i]);var s=(n===0?t.keyHash:t.keyHash>>>n)&jn,a=(n===0?r:r>>>n)&jn,c,l=s===a?[pb(t,e,n+ne,r,i)]:(c=new So(e,r,i),s<a?[t,c]:[c,t]);return new bu(e,1<<s|1<<a,l)}function _X(t,e,n,r){t||(t=new q_);for(var i=new So(t,fr(n),[n,r]),s=0;s<e.length;s++){var a=e[s];i=i.update(t,0,void 0,a[0],a[1])}return i}function bX(t,e,n,r){for(var i=0,s=0,a=new Array(n),c=0,l=1,d=e.length;c<d;c++,l<<=1){var h=e[c];h!==void 0&&c!==r&&(i|=l,a[s++]=h)}return new bu(t,i,a)}function SX(t,e,n,r,i){for(var s=0,a=new Array(pr),c=0;n!==0;c++,n>>>=1)a[c]=n&1?e[s++]:void 0;return a[r]=i,new cl(t,s+1,a)}function MR(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),t=t+(t>>4)&252645135,t+=t>>8,t+=t>>16,t&127}function NR(t,e,n,r){var i=r?t:Fi(t);return i[e]=n,i}function wX(t,e,n,r){var i=t.length+1;if(r&&e+1===i)return t[e]=n,t;for(var s=new Array(i),a=0,c=0;c<i;c++)c===e?(s[c]=n,a=-1):s[c]=t[c+a];return s}function EX(t,e,n){var r=t.length-1;if(n&&e===r)return t.pop(),t;for(var i=new Array(r),s=0,a=0;a<r;a++)a===e&&(s=1),i[a]=t[a+s];return i}var xX=pr/4,CX=pr/2,TX=pr/4,LR="@@__IMMUTABLE_LIST__@@";function FR(t){return!!(t&&t[LR])}var qu=function(t){function e(n){var r=Rd();if(n==null)return r;if(FR(n))return n;var i=t(n),s=i.size;return s===0?r:(dr(s),s>0&&s<pr?ll(0,s,ne,null,new Xo(i.toArray())):r.withMutations(function(a){a.setSize(s),i.forEach(function(c,l){return a.set(l,c)})}))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("List [","]")},e.prototype.get=function(r,i){if(r=es(this,r),r>=0&&r<this.size){r+=this._origin;var s=BR(this,r);return s&&s.array[r&jn]}return i},e.prototype.set=function(r,i){return OX(this,r,i)},e.prototype.remove=function(r){return this.has(r)?r===0?this.shift():r===this.size-1?this.pop():this.splice(r,1):this},e.prototype.insert=function(r,i){return this.splice(r,0,i)},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=ne,this._root=this._tail=this.__hash=void 0,this.__altered=!0,this):Rd()},e.prototype.push=function(){var r=arguments,i=this.size;return this.withMutations(function(s){Ko(s,0,i+r.length);for(var a=0;a<r.length;a++)s.set(i+a,r[a])})},e.prototype.pop=function(){return Ko(this,0,-1)},e.prototype.unshift=function(){var r=arguments;return this.withMutations(function(i){Ko(i,-r.length);for(var s=0;s<r.length;s++)i.set(s,r[s])})},e.prototype.shift=function(){return Ko(this,1)},e.prototype.shuffle=function(r){return r===void 0&&(r=Math.random),this.withMutations(function(i){for(var s=i.size,a,c;s;)a=Math.floor(r()*s--),c=i.get(a),i.set(a,i.get(s)),i.set(s,c)})},e.prototype.concat=function(){for(var r=arguments,i=[],s=0;s<arguments.length;s++){var a=r[s],c=t(typeof a!="string"&&lR(a)?a:[a]);c.size!==0&&i.push(c)}return i.length===0?this:this.size===0&&!this.__ownerID&&i.length===1?this.constructor(i[0]):this.withMutations(function(l){i.forEach(function(d){return d.forEach(function(h){return l.push(h)})})})},e.prototype.setSize=function(r){return Ko(this,0,r)},e.prototype.map=function(r,i){var s=this;return this.withMutations(function(a){for(var c=0;c<s.size;c++)a.set(c,r.call(i,a.get(c),c,s))})},e.prototype.slice=function(r,i){var s=this.size;return Sp(r,i,s)?this:Ko(this,Vl(r,s),wp(i,s))},e.prototype.__iterator=function(r,i){var s=i?this.size:0,a=Yx(this,i);return new Dt(function(){var c=a();return c===Kc?zn():ge(r,i?--s:s++,c)})},e.prototype.__iterate=function(r,i){for(var s=i?this.size:0,a=Yx(this,i),c;(c=a())!==Kc&&r(c,i?--s:s++,this)!==!1;);return s},e.prototype.__ensureOwner=function(r){return r===this.__ownerID?this:r?ll(this._origin,this._capacity,this._level,this._root,this._tail,r,this.__hash):this.size===0?Rd():(this.__ownerID=r,this.__altered=!1,this)},e}(ia);qu.isList=FR;var Be=qu.prototype;Be[LR]=!0;Be[ql]=Be.remove;Be.merge=Be.concat;Be.setIn=rb;Be.deleteIn=Be.removeIn=ib;Be.update=ob;Be.updateIn=sb;Be.mergeIn=cb;Be.mergeDeepIn=lb;Be.withMutations=Hl;Be.wasAltered=fb;Be.asImmutable=Jl;Be["@@transducer/init"]=Be.asMutable=Gl;Be["@@transducer/step"]=function(t,e){return t.push(e)};Be["@@transducer/result"]=function(t){return t.asImmutable()};var Xo=function(e,n){this.array=e,this.ownerID=n};Xo.prototype.removeBefore=function(e,n,r){if(!(r&(1<<n+ne)-1)||this.array.length===0)return this;var i=r>>>n&jn;if(i>=this.array.length)return new Xo([],e);var s=i===0,a;if(n>0){var c=this.array[i];if(a=c&&c.removeBefore(e,n-ne,r),a===c&&s)return this}if(s&&!a)return this;var l=wu(this,e);if(!s)for(var d=0;d<i;d++)l.array[d]=void 0;return a&&(l.array[i]=a),l};Xo.prototype.removeAfter=function(e,n,r){if(r===(n?1<<n+ne:pr)||this.array.length===0)return this;var i=r-1>>>n&jn;if(i>=this.array.length)return this;var s;if(n>0){var a=this.array[i];if(s=a&&a.removeAfter(e,n-ne,r),s===a&&i===this.array.length-1)return this}var c=wu(this,e);return c.array.splice(i+1),s&&(c.array[i]=s),c};var Kc={};function Yx(t,e){var n=t._origin,r=t._capacity,i=fl(r),s=t._tail;return a(t._root,t._level,0);function a(d,h,g){return h===0?c(d,g):l(d,h,g)}function c(d,h){var g=h===i?s&&s.array:d&&d.array,m=h>n?0:n-h,y=r-h;return y>pr&&(y=pr),function(){if(m===y)return Kc;var w=e?--y:m++;return g&&g[w]}}function l(d,h,g){var m,y=d&&d.array,w=g>n?0:n-g>>h,x=(r-g>>h)+1;return x>pr&&(x=pr),function(){for(;;){if(m){var C=m();if(C!==Kc)return C;m=null}if(w===x)return Kc;var T=e?--x:w++;m=a(y&&y[T],h-ne,g+(T<<h))}}}}function ll(t,e,n,r,i,s,a){var c=Object.create(Be);return c.size=e-t,c._origin=t,c._capacity=e,c._level=n,c._root=r,c._tail=i,c.__ownerID=s,c.__hash=a,c.__altered=!1,c}function Rd(){return ll(0,0,ne)}function OX(t,e,n){if(e=es(t,e),e!==e)return t;if(e>=t.size||e<0)return t.withMutations(function(a){e<0?Ko(a,e).set(0,n):Ko(a,0,e+1).set(e,n)});e+=t._origin;var r=t._tail,i=t._root,s=Ov();return e>=fl(t._capacity)?r=$v(r,t.__ownerID,0,e,n,s):i=$v(i,t.__ownerID,t._level,e,n,s),s.value?t.__ownerID?(t._root=i,t._tail=r,t.__hash=void 0,t.__altered=!0,t):ll(t._origin,t._capacity,t._level,i,r):t}function $v(t,e,n,r,i,s){var a=r>>>n&jn,c=t&&a<t.array.length;if(!c&&i===void 0)return t;var l;if(n>0){var d=t&&t.array[a],h=$v(d,e,n-ne,r,i,s);return h===d?t:(l=wu(t,e),l.array[a]=h,l)}return c&&t.array[a]===i?t:(s&&Vr(s),l=wu(t,e),i===void 0&&a===l.array.length-1?l.array.pop():l.array[a]=i,l)}function wu(t,e){return e&&t&&e===t.ownerID?t:new Xo(t?t.array.slice():[],e)}function BR(t,e){if(e>=fl(t._capacity))return t._tail;if(e<1<<t._level+ne){for(var n=t._root,r=t._level;n&&r>0;)n=n.array[e>>>r&jn],r-=ne;return n}}function Ko(t,e,n){e!==void 0&&(e|=0),n!==void 0&&(n|=0);var r=t.__ownerID||new q_,i=t._origin,s=t._capacity,a=i+e,c=n===void 0?s:n<0?s+n:i+n;if(a===i&&c===s)return t;if(a>=c)return t.clear();for(var l=t._level,d=t._root,h=0;a+h<0;)d=new Xo(d&&d.array.length?[void 0,d]:[],r),l+=ne,h+=1<<l;h&&(a+=h,i+=h,c+=h,s+=h);for(var g=fl(s),m=fl(c);m>=1<<l+ne;)d=new Xo(d&&d.array.length?[d]:[],r),l+=ne;var y=t._tail,w=m<g?BR(t,c-1):m>g?new Xo([],r):y;if(y&&m>g&&a<s&&y.array.length){d=wu(d,r);for(var x=d,C=l;C>ne;C-=ne){var T=g>>>C&jn;x=x.array[T]=wu(x.array[T],r)}x.array[g>>>ne&jn]=y}if(c<s&&(w=w&&w.removeAfter(r,0,c)),a>=m)a-=m,c-=m,l=ne,d=null,w=w&&w.removeBefore(r,0,a);else if(a>i||m<g){for(h=0;d;){var $=a>>>l&jn;if($!==m>>>l&jn)break;$&&(h+=(1<<l)*$),l-=ne,d=d.array[$]}d&&a>i&&(d=d.removeBefore(r,l,a-h)),d&&m<g&&(d=d.removeAfter(r,l,m-h)),h&&(a-=h,c-=h)}return t.__ownerID?(t.size=c-a,t._origin=a,t._capacity=c,t._level=l,t._root=d,t._tail=w,t.__hash=void 0,t.__altered=!0,t):ll(a,c,l,d,w)}function fl(t){return t<pr?0:t-1>>>ne<<ne}var wo=function(t){function e(n){return n==null?$c():pR(n)?n:$c().withMutations(function(r){var i=Yr(n);dr(i.size),i.forEach(function(s,a){return r.set(a,s)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("OrderedMap {","}")},e.prototype.get=function(r,i){var s=this._map.get(r);return s!==void 0?this._list.get(s)[1]:i},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this.__altered=!0,this):$c()},e.prototype.set=function(r,i){return Qx(this,r,i)},e.prototype.remove=function(r){return Qx(this,r,Ft)},e.prototype.__iterate=function(r,i){var s=this;return this._list.__iterate(function(a){return a&&r(a[1],a[0],s)},i)},e.prototype.__iterator=function(r,i){return this._list.fromEntrySeq().__iterator(r,i)},e.prototype.__ensureOwner=function(r){if(r===this.__ownerID)return this;var i=this._map.__ensureOwner(r),s=this._list.__ensureOwner(r);return r?gb(i,s,r,this.__hash):this.size===0?$c():(this.__ownerID=r,this.__altered=!1,this._map=i,this._list=s,this)},e}(Ku);wo.isOrderedMap=pR;wo.prototype[ns]=!0;wo.prototype[ql]=wo.prototype.remove;function gb(t,e,n,r){var i=Object.create(wo.prototype);return i.size=t?t.size:0,i._map=t,i._list=e,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}var Xx;function $c(){return Xx||(Xx=gb(ji(),Rd()))}function Qx(t,e,n){var r=t._map,i=t._list,s=r.get(e),a=s!==void 0,c,l;if(n===Ft){if(!a)return t;i.size>=pr&&i.size>=r.size*2?(l=i.filter(function(d,h){return d!==void 0&&s!==h}),c=l.toKeyedSeq().map(function(d){return d[0]}).flip().toMap(),t.__ownerID&&(c.__ownerID=l.__ownerID=t.__ownerID)):(c=r.remove(e),l=s===i.size-1?i.pop():i.set(s,void 0))}else if(a){if(n===i.get(s)[1])return t;c=r,l=i.set(s,[e,n])}else c=r.set(e,i.size),l=i.set(i.size,[e,n]);return t.__ownerID?(t.size=c.size,t._map=c,t._list=l,t.__hash=void 0,t.__altered=!0,t):gb(c,l)}var jR="@@__IMMUTABLE_STACK__@@";function Mv(t){return!!(t&&t[jR])}var mb=function(t){function e(n){return n==null?sd():Mv(n)?n:sd().pushAll(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("Stack [","]")},e.prototype.get=function(r,i){var s=this._head;for(r=es(this,r);s&&r--;)s=s.next;return s?s.value:i},e.prototype.peek=function(){return this._head&&this._head.value},e.prototype.push=function(){var r=arguments;if(arguments.length===0)return this;for(var i=this.size+arguments.length,s=this._head,a=arguments.length-1;a>=0;a--)s={value:r[a],next:s};return this.__ownerID?(this.size=i,this._head=s,this.__hash=void 0,this.__altered=!0,this):Mc(i,s)},e.prototype.pushAll=function(r){if(r=t(r),r.size===0)return this;if(this.size===0&&Mv(r))return r;dr(r.size);var i=this.size,s=this._head;return r.__iterate(function(a){i++,s={value:a,next:s}},!0),this.__ownerID?(this.size=i,this._head=s,this.__hash=void 0,this.__altered=!0,this):Mc(i,s)},e.prototype.pop=function(){return this.slice(1)},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):sd()},e.prototype.slice=function(r,i){if(Sp(r,i,this.size))return this;var s=Vl(r,this.size),a=wp(i,this.size);if(a!==this.size)return t.prototype.slice.call(this,r,i);for(var c=this.size-s,l=this._head;s--;)l=l.next;return this.__ownerID?(this.size=c,this._head=l,this.__hash=void 0,this.__altered=!0,this):Mc(c,l)},e.prototype.__ensureOwner=function(r){return r===this.__ownerID?this:r?Mc(this.size,this._head,r,this.__hash):this.size===0?sd():(this.__ownerID=r,this.__altered=!1,this)},e.prototype.__iterate=function(r,i){var s=this;if(i)return new vu(this.toArray()).__iterate(function(l,d){return r(l,d,s)},i);for(var a=0,c=this._head;c&&r(c.value,a++,this)!==!1;)c=c.next;return a},e.prototype.__iterator=function(r,i){if(i)return new vu(this.toArray()).__iterator(r,i);var s=0,a=this._head;return new Dt(function(){if(a){var c=a.value;return a=a.next,ge(r,s++,c)}return zn()})},e}(ia);mb.isStack=Mv;var Un=mb.prototype;Un[jR]=!0;Un.shift=Un.pop;Un.unshift=Un.push;Un.unshiftAll=Un.pushAll;Un.withMutations=Hl;Un.wasAltered=fb;Un.asImmutable=Jl;Un["@@transducer/init"]=Un.asMutable=Gl;Un["@@transducer/step"]=function(t,e){return t.unshift(e)};Un["@@transducer/result"]=function(t){return t.asImmutable()};function Mc(t,e,n,r){var i=Object.create(Un);return i.size=t,i._head=e,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}var Zx;function sd(){return Zx||(Zx=Mc(0))}var DR="@@__IMMUTABLE_SET__@@";function yb(t){return!!(t&&t[DR])}function zR(t){return yb(t)&&Wi(t)}function UR(t,e){if(t===e)return!0;if(!wr(e)||t.size!==void 0&&e.size!==void 0&&t.size!==e.size||t.__hash!==void 0&&e.__hash!==void 0&&t.__hash!==e.__hash||pe(t)!==pe(e)||Jr(t)!==Jr(e)||Wi(t)!==Wi(e))return!1;if(t.size===0&&e.size===0)return!0;var n=!V_(t);if(Wi(t)){var r=t.entries();return e.every(function(l,d){var h=r.next().value;return h&&gr(h[1],l)&&(n||gr(h[0],d))})&&r.next().done}var i=!1;if(t.size===void 0)if(e.size===void 0)typeof t.cacheResult=="function"&&t.cacheResult();else{i=!0;var s=t;t=e,e=s}var a=!0,c=e.__iterate(function(l,d){if(n?!t.has(l):i?!gr(l,t.get(d,Ft)):!gr(t.get(d,Ft),l))return a=!1,!1});return a&&t.size===c}function sa(t,e){var n=function(r){t.prototype[r]=e[r]};return Object.keys(e).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(n),t}function xh(t){if(!t||typeof t!="object")return t;if(!wr(t)){if(!rs(t))return t;t=er(t)}if(pe(t)){var e={};return t.__iterate(function(r,i){e[i]=xh(r)}),e}var n=[];return t.__iterate(function(r){n.push(xh(r))}),n}var Yl=function(t){function e(n){return n==null?Nc():yb(n)&&!Wi(n)?n:Nc().withMutations(function(r){var i=t(n);dr(i.size),i.forEach(function(s){return r.add(s)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(r){return this(Yr(r).keySeq())},e.intersect=function(r){return r=An(r).toArray(),r.length?hn.intersect.apply(e(r.pop()),r):Nc()},e.union=function(r){return r=An(r).toArray(),r.length?hn.union.apply(e(r.pop()),r):Nc()},e.prototype.toString=function(){return this.__toString("Set {","}")},e.prototype.has=function(r){return this._map.has(r)},e.prototype.add=function(r){return ad(this,this._map.set(r,r))},e.prototype.remove=function(r){return ad(this,this._map.remove(r))},e.prototype.clear=function(){return ad(this,this._map.clear())},e.prototype.map=function(r,i){var s=this,a=!1,c=ad(this,this._map.mapEntries(function(l){var d=l[1],h=r.call(i,d,d,s);return h!==d&&(a=!0),[h,h]},i));return a?c:this},e.prototype.union=function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];return r=r.filter(function(s){return s.size!==0}),r.length===0?this:this.size===0&&!this.__ownerID&&r.length===1?this.constructor(r[0]):this.withMutations(function(s){for(var a=0;a<r.length;a++)typeof r[a]=="string"?s.add(r[a]):t(r[a]).forEach(function(c){return s.add(c)})})},e.prototype.intersect=function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];if(r.length===0)return this;r=r.map(function(a){return t(a)});var s=[];return this.forEach(function(a){r.every(function(c){return c.includes(a)})||s.push(a)}),this.withMutations(function(a){s.forEach(function(c){a.remove(c)})})},e.prototype.subtract=function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];if(r.length===0)return this;r=r.map(function(a){return t(a)});var s=[];return this.forEach(function(a){r.some(function(c){return c.includes(a)})&&s.push(a)}),this.withMutations(function(a){s.forEach(function(c){a.remove(c)})})},e.prototype.sort=function(r){return dl(_u(this,r))},e.prototype.sortBy=function(r,i){return dl(_u(this,i,r))},e.prototype.wasAltered=function(){return this._map.wasAltered()},e.prototype.__iterate=function(r,i){var s=this;return this._map.__iterate(function(a){return r(a,a,s)},i)},e.prototype.__iterator=function(r,i){return this._map.__iterator(r,i)},e.prototype.__ensureOwner=function(r){if(r===this.__ownerID)return this;var i=this._map.__ensureOwner(r);return r?this.__make(i,r):this.size===0?this.__empty():(this.__ownerID=r,this._map=i,this)},e}(ju);Yl.isSet=yb;var hn=Yl.prototype;hn[DR]=!0;hn[ql]=hn.remove;hn.merge=hn.concat=hn.union;hn.withMutations=Hl;hn.asImmutable=Jl;hn["@@transducer/init"]=hn.asMutable=Gl;hn["@@transducer/step"]=function(t,e){return t.add(e)};hn["@@transducer/result"]=function(t){return t.asImmutable()};hn.__empty=Nc;hn.__make=WR;function ad(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:e.size===0?t.__empty():t.__make(e)}function WR(t,e){var n=Object.create(hn);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}var tC;function Nc(){return tC||(tC=WR(ji()))}var AX=function(t){function e(n,r,i){if(i===void 0&&(i=1),!(this instanceof e))return new e(n,r,i);if(Wc(i!==0,"Cannot step a Range by 0"),Wc(n!==void 0,"You must define a start value when using Range"),Wc(r!==void 0,"You must define an end value when using Range"),i=Math.abs(i),r<n&&(i=-i),this._start=n,this._end=r,this._step=i,this.size=Math.max(0,Math.ceil((r-n)/i-1)+1),this.size===0){if(py)return py;py=this}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step!==1?" by "+this._step:"")+" ]"},e.prototype.get=function(r,i){return this.has(r)?this._start+es(this,r)*this._step:i},e.prototype.includes=function(r){var i=(r-this._start)/this._step;return i>=0&&i<this.size&&i===Math.floor(i)},e.prototype.slice=function(r,i){return Sp(r,i,this.size)?this:(r=Vl(r,this.size),i=wp(i,this.size),i<=r?new e(0,0):new e(this.get(r,this._end),this.get(i,this._end),this._step))},e.prototype.indexOf=function(r){var i=r-this._start;if(i%this._step===0){var s=i/this._step;if(s>=0&&s<this.size)return s}return-1},e.prototype.lastIndexOf=function(r){return this.indexOf(r)},e.prototype.__iterate=function(r,i){for(var s=this.size,a=this._step,c=i?this._start+(s-1)*a:this._start,l=0;l!==s&&r(c,i?s-++l:l++,this)!==!1;)c+=i?-a:a;return l},e.prototype.__iterator=function(r,i){var s=this.size,a=this._step,c=i?this._start+(s-1)*a:this._start,l=0;return new Dt(function(){if(l===s)return zn();var d=c;return c+=i?-a:a,ge(r,i?s-++l:l++,d)})},e.prototype.equals=function(r){return r instanceof e?this._start===r._start&&this._end===r._end&&this._step===r._step:UR(this,r)},e}(vi),py;function KR(t,e,n){for(var r=CR(e),i=0;i!==r.length;)if(t=TR(t,r[i++],Ft),t===Ft)return n;return t}function qR(t,e){return KR(this,t,e)}function kX(t,e){return KR(t,e,Ft)!==Ft}function IX(t){return kX(this,t)}function VR(){dr(this.size);var t={};return this.__iterate(function(e,n){t[n]=e}),t}An.Iterator=Dt;sa(An,{toArray:function(){dr(this.size);var e=new Array(this.size||0),n=pe(this),r=0;return this.__iterate(function(i,s){e[r++]=n?[s,i]:i}),e},toIndexedSeq:function(){return new mR(this)},toJS:function(){return xh(this)},toKeyedSeq:function(){return new Tp(this,!0)},toMap:function(){return Ku(this.toKeyedSeq())},toObject:VR,toOrderedMap:function(){return wo(this.toKeyedSeq())},toOrderedSet:function(){return dl(pe(this)?this.valueSeq():this)},toSet:function(){return Yl(pe(this)?this.valueSeq():this)},toSetSeq:function(){return new yR(this)},toSeq:function(){return Jr(this)?this.toIndexedSeq():pe(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return mb(pe(this)?this.valueSeq():this)},toList:function(){return qu(pe(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(e,n){return this.size===0?e+n:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+n},concat:function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];return ee(this,sX(this,e))},includes:function(e){return this.some(function(n){return gr(n,e)})},entries:function(){return this.__iterator(xr)},every:function(e,n){dr(this.size);var r=!0;return this.__iterate(function(i,s,a){if(!e.call(n,i,s,a))return r=!1,!1}),r},filter:function(e,n){return ee(this,SR(this,e,n,!0))},partition:function(e,n){return rX(this,e,n)},find:function(e,n,r){var i=this.findEntry(e,n);return i?i[1]:r},forEach:function(e,n){return dr(this.size),this.__iterate(n?e.bind(n):e)},join:function(e){dr(this.size),e=e!==void 0?""+e:",";var n="",r=!0;return this.__iterate(function(i){r?r=!1:n+=e,n+=i!=null?i.toString():""}),n},keys:function(){return this.__iterator(Du)},map:function(e,n){return ee(this,bR(this,e,n))},reduce:function(e,n,r){return eC(this,e,n,r,arguments.length<2,!1)},reduceRight:function(e,n,r){return eC(this,e,n,r,arguments.length<2,!0)},reverse:function(){return ee(this,Z_(this,!0))},slice:function(e,n){return ee(this,tb(this,e,n,!0))},some:function(e,n){dr(this.size);var r=!1;return this.__iterate(function(i,s,a){if(e.call(n,i,s,a))return r=!0,!1}),r},sort:function(e){return ee(this,_u(this,e))},values:function(){return this.__iterator(Er)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(e,n){return yu(e?this.toSeq().filter(e,n):this)},countBy:function(e,n){return eX(this,e,n)},equals:function(e){return UR(this,e)},entrySeq:function(){var e=this;if(e._cache)return new vu(e._cache);var n=e.toSeq().map(RX).toIndexedSeq();return n.fromEntrySeq=function(){return e.toSeq()},n},filterNot:function(e,n){return this.filter(gy(e),n)},findEntry:function(e,n,r){var i=r;return this.__iterate(function(s,a,c){if(e.call(n,s,a,c))return i=[a,s],!1}),i},findKey:function(e,n){var r=this.findEntry(e,n);return r&&r[0]},findLast:function(e,n,r){return this.toKeyedSeq().reverse().find(e,n,r)},findLastEntry:function(e,n,r){return this.toKeyedSeq().reverse().findEntry(e,n,r)},findLastKey:function(e,n){return this.toKeyedSeq().reverse().findKey(e,n)},first:function(e){return this.find(rR,null,e)},flatMap:function(e,n){return ee(this,aX(this,e,n))},flatten:function(e){return ee(this,ER(this,e,!0))},fromEntrySeq:function(){return new vR(this)},get:function(e,n){return this.find(function(r,i){return gr(i,e)},void 0,n)},getIn:qR,groupBy:function(e,n){return nX(this,e,n)},has:function(e){return this.get(e,Ft)!==Ft},hasIn:IX,isSubset:function(e){return e=typeof e.includes=="function"?e:An(e),this.every(function(n){return e.includes(n)})},isSuperset:function(e){return e=typeof e.isSubset=="function"?e:An(e),e.isSubset(this)},keyOf:function(e){return this.findKey(function(n){return gr(n,e)})},keySeq:function(){return this.toSeq().map(PX).toIndexedSeq()},last:function(e){return this.toSeq().reverse().first(e)},lastKeyOf:function(e){return this.toKeyedSeq().reverse().keyOf(e)},max:function(e){return id(this,e)},maxBy:function(e,n){return id(this,n,e)},min:function(e){return id(this,e?nC(e):iC)},minBy:function(e,n){return id(this,n?nC(n):iC,e)},rest:function(){return this.slice(1)},skip:function(e){return e===0?this:this.slice(Math.max(0,e))},skipLast:function(e){return e===0?this:this.slice(0,-Math.max(0,e))},skipWhile:function(e,n){return ee(this,wR(this,e,n,!0))},skipUntil:function(e,n){return this.skipWhile(gy(e),n)},sortBy:function(e,n){return ee(this,_u(this,n,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return this.slice(-Math.max(0,e))},takeWhile:function(e,n){return ee(this,iX(this,e,n))},takeUntil:function(e,n){return this.takeWhile(gy(e),n)},update:function(e){return e(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=$X(this))}});var Pn=An.prototype;Pn[sR]=!0;Pn[Ep]=Pn.values;Pn.toJSON=Pn.toArray;Pn.__toStringMapper=al;Pn.inspect=Pn.toSource=function(){return this.toString()};Pn.chain=Pn.flatMap;Pn.contains=Pn.includes;sa(Yr,{flip:function(){return ee(this,_R(this))},mapEntries:function(e,n){var r=this,i=0;return ee(this,this.toSeq().map(function(s,a){return e.call(n,[a,s],i++,r)}).fromEntrySeq())},mapKeys:function(e,n){var r=this;return ee(this,this.toSeq().flip().map(function(i,s){return e.call(n,i,s,r)}).flip())}});var Xl=Yr.prototype;Xl[Sh]=!0;Xl[Ep]=Pn.entries;Xl.toJSON=VR;Xl.__toStringMapper=function(t,e){return al(e)+": "+al(t)};sa(ia,{toKeyedSeq:function(){return new Tp(this,!1)},filter:function(e,n){return ee(this,SR(this,e,n,!1))},findIndex:function(e,n){var r=this.findEntry(e,n);return r?r[0]:-1},indexOf:function(e){var n=this.keyOf(e);return n===void 0?-1:n},lastIndexOf:function(e){var n=this.lastKeyOf(e);return n===void 0?-1:n},reverse:function(){return ee(this,Z_(this,!1))},slice:function(e,n){return ee(this,tb(this,e,n,!1))},splice:function(e,n){var r=arguments.length;if(n=Math.max(n||0,0),r===0||r===2&&!n)return this;e=Vl(e,e<0?this.count():this.size);var i=this.slice(0,e);return ee(this,r===1?i:i.concat(Fi(arguments,2),this.slice(e+n)))},findLastIndex:function(e,n){var r=this.findLastEntry(e,n);return r?r[0]:-1},first:function(e){return this.get(0,e)},flatten:function(e){return ee(this,ER(this,e,!1))},get:function(e,n){return e=es(this,e),e<0||this.size===1/0||this.size!==void 0&&e>this.size?n:this.find(function(r,i){return i===e},void 0,n)},has:function(e){return e=es(this,e),e>=0&&(this.size!==void 0?this.size===1/0||e<this.size:this.indexOf(e)!==-1)},interpose:function(e){return ee(this,uX(this,e))},interleave:function(){var e=[this].concat(Fi(arguments)),n=od(this.toSeq(),vi.of,e),r=n.flatten(!0);return n.size&&(r.size=n.size*e.length),ee(this,r)},keySeq:function(){return AX(0,this.size)},last:function(e){return this.get(-1,e)},skipWhile:function(e,n){return ee(this,wR(this,e,n,!1))},zip:function(){var e=[this].concat(Fi(arguments));return ee(this,od(this,rC,e))},zipAll:function(){var e=[this].concat(Fi(arguments));return ee(this,od(this,rC,e,!0))},zipWith:function(e){var n=Fi(arguments);return n[0]=this,ee(this,od(this,e,n))}});var Vu=ia.prototype;Vu[wh]=!0;Vu[ns]=!0;sa(ju,{get:function(e,n){return this.has(e)?e:n},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}});var Eu=ju.prototype;Eu.has=Pn.includes;Eu.contains=Eu.includes;Eu.keys=Eu.values;sa(us,Xl);sa(vi,Vu);sa(Uu,Eu);function eC(t,e,n,r,i,s){return dr(t.size),t.__iterate(function(a,c,l){i?(i=!1,n=a):n=e.call(r,n,a,c,l)},s),n}function PX(t,e){return e}function RX(t,e){return[e,t]}function gy(t){return function(){return!t.apply(this,arguments)}}function nC(t){return function(){return-t.apply(this,arguments)}}function rC(){return Fi(arguments)}function iC(t,e){return t<e?1:t>e?-1:0}function $X(t){if(t.size===1/0)return 0;var e=Wi(t),n=pe(t),r=e?1:0;return t.__iterate(n?e?function(i,s){r=31*r+oC(fr(i),fr(s))|0}:function(i,s){r=r+oC(fr(i),fr(s))|0}:e?function(i){r=31*r+fr(i)|0}:function(i){r=r+fr(i)|0}),MX(t.size,r)}function MX(t,e){return e=Cc(e,3432918353),e=Cc(e<<15|e>>>-15,461845907),e=Cc(e<<13|e>>>-13,5),e=(e+3864292196|0)^t,e=Cc(e^e>>>16,2246822507),e=Cc(e^e>>>13,3266489909),e=Cp(e^e>>>16),e}function oC(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}var dl=function(t){function e(n){return n==null?Nv():zR(n)?n:Nv().withMutations(function(r){var i=ju(n);dr(i.size),i.forEach(function(s){return r.add(s)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(r){return this(Yr(r).keySeq())},e.prototype.toString=function(){return this.__toString("OrderedSet {","}")},e}(Yl);dl.isOrderedSet=zR;var aa=dl.prototype;aa[ns]=!0;aa.zip=Vu.zip;aa.zipWith=Vu.zipWith;aa.zipAll=Vu.zipAll;aa.__empty=Nv;aa.__make=HR;function HR(t,e){var n=Object.create(aa);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}var sC;function Nv(){return sC||(sC=HR($c()))}function NX(t){if(oa(t))throw new Error("Can not call `Record` with an immutable Record as default values. Use a plain javascript object instead.");if(Gi(t))throw new Error("Can not call `Record` with an immutable Collection as default values. Use a plain javascript object instead.");if(t===null||typeof t!="object")throw new Error("Can not call `Record` with a non-object as default values. Use a plain javascript object instead.")}var Xe=function(e,n){var r;NX(e);var i=function(c){var l=this;if(c instanceof i)return c;if(!(this instanceof i))return new i(c);if(!r){r=!0;var d=Object.keys(e),h=s._indices={};s._name=n,s._keys=d,s._defaultValues=e;for(var g=0;g<d.length;g++){var m=d[g];h[m]=g,s[m]?typeof console=="object"&&console.warn&&console.warn("Cannot define "+_b(this)+' with property "'+m+'" since that property name is part of the Record API.'):LX(s,m)}}return this.__ownerID=void 0,this._values=qu().withMutations(function(y){y.setSize(l._keys.length),Yr(c).forEach(function(w,x){y.set(l._indices[x],w===l._defaultValues[x]?void 0:w)})}),this},s=i.prototype=Object.create(ue);return s.constructor=i,n&&(i.displayName=n),i};Xe.prototype.toString=function(){for(var e=_b(this)+" { ",n=this._keys,r,i=0,s=n.length;i!==s;i++)r=n[i],e+=(i?", ":"")+r+": "+al(this.get(r));return e+" }"};Xe.prototype.equals=function(e){return this===e||oa(e)&&xu(this).equals(xu(e))};Xe.prototype.hashCode=function(){return xu(this).hashCode()};Xe.prototype.has=function(e){return this._indices.hasOwnProperty(e)};Xe.prototype.get=function(e,n){if(!this.has(e))return n;var r=this._indices[e],i=this._values.get(r);return i===void 0?this._defaultValues[e]:i};Xe.prototype.set=function(e,n){if(this.has(e)){var r=this._values.set(this._indices[e],n===this._defaultValues[e]?void 0:n);if(r!==this._values&&!this.__ownerID)return vb(this,r)}return this};Xe.prototype.remove=function(e){return this.set(e)};Xe.prototype.clear=function(){var e=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:vb(this,e)};Xe.prototype.wasAltered=function(){return this._values.wasAltered()};Xe.prototype.toSeq=function(){return xu(this)};Xe.prototype.toJS=function(){return xh(this)};Xe.prototype.entries=function(){return this.__iterator(xr)};Xe.prototype.__iterator=function(e,n){return xu(this).__iterator(e,n)};Xe.prototype.__iterate=function(e,n){return xu(this).__iterate(e,n)};Xe.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var n=this._values.__ensureOwner(e);return e?vb(this,n,e):(this.__ownerID=e,this._values=n,this)};Xe.isRecord=oa;Xe.getDescriptiveName=_b;var ue=Xe.prototype;ue[uR]=!0;ue[ql]=ue.remove;ue.deleteIn=ue.removeIn=ib;ue.getIn=qR;ue.hasIn=Pn.hasIn;ue.merge=kR;ue.mergeWith=IR;ue.mergeIn=cb;ue.mergeDeep=RR;ue.mergeDeepWith=$R;ue.mergeDeepIn=lb;ue.setIn=rb;ue.update=ob;ue.updateIn=sb;ue.withMutations=Hl;ue.asMutable=Gl;ue.asImmutable=Jl;ue[Ep]=ue.entries;ue.toJSON=ue.toObject=Pn.toObject;ue.inspect=ue.toSource=function(){return this.toString()};function vb(t,e,n){var r=Object.create(Object.getPrototypeOf(t));return r._values=e,r.__ownerID=n,r}function _b(t){return t.constructor.displayName||t.constructor.name||"Record"}function xu(t){return Y_(t._keys.map(function(e){return[e,t.get(e)]}))}function LX(t,e){try{Object.defineProperty(t,e,{get:function(){return this.get(e)},set:function(n){Wc(this.__ownerID,"Cannot set on an immutable record."),this.set(e,n)}})}catch{}}const FX=t=>{const e=t.useValue(),n=t.useSet();return{add:a=>{n(c=>[...c,a])},remove:a=>{n(c=>c.filter(l=>l!==a))},update:(a,c)=>{n(l=>l.map(d=>d===a?c:d))},values:e}},BX=(t,e)=>e>=t.startTime&&(t.endTime===void 0||e<t.endTime),jX=(t,e)=>st.find(t,n=>BX(n,e)),DX=t=>{const e=ZR();return ae.useMemo(()=>jX(t.clips,e),[e])},GR=()=>gt.project.arrangement.useValue(),JR=()=>GR().tracks,YR=t=>JR().find(n=>n.name===t),zX=t=>{const e=YR(t);return e===void 0?IH:e},bb=()=>gt.project.config.useFocus("active").useSet(),Hu=()=>gt.project.config.useFocus("active").useValue(),XR=()=>{const t=Hu(),e=gt.project.config.useValue();return st.find(e.projects,r=>r.key===t)||_p()},UX=()=>{const t=Hu(),e=gt.project.config.useValue(),n=st.findIndex(e.projects,r=>r.key===t);return gt.project.config.useFocus("projects").useArray()[n]},QR=()=>{const t=Hu(),e=gt.project.config.useValue(),n=gt.project.config.useSet(),r=qu(e.projects),i=r.findIndex(s=>s.key===t);return s=>{const a=i!==void 0?r.set(i,s(e.projects[i])):r;console.log("useUpdateActiveProject",a),n({active:t,projects:a.toArray()})}},Op=()=>gt.project.config.useValue(),WX=()=>{const t=QR(),e=Op();return n=>e.projects.findIndex(i=>i.label===n)===-1?(t(i=>({...i,label:n})),ft()):$t(`Project ${n} already exists`)},KX=()=>{const t=XR(),e={..._p().style,...t.style};return{...e,horizontalGradient:`linear-gradient(to right, ${e.accent.color1}, ${e.accent.color2})`,leftVerticalGradient:`linear-gradient(to bottom, ${e.accent.color1}, ${e.accent.color2})`,rightVerticalGradient:`linear-gradient(to top, ${e.accent.color1}, ${e.accent.color2})`}},qX=()=>Op(),VX=()=>{const t=Hu(),e=Op(),n=st.find(e.projects,r=>r.key===t);if(n!==void 0)return n.label},HX=()=>{const t=gt.project.config.useFocusMemo(e=>e.prop("projects"));return FX(t)},GX=()=>gt.project.abletonName.useValue(),JX=t=>{const e=gt.importStatus.useValue();ae.useEffect(()=>t(e),[e])},YX=()=>gt.importStatus.useValue().type!=="done",ZR=()=>gt.realTime.beats.useValue(),XX=()=>gt.realTime.barBeats.useValue(),QX=()=>gt.realTime.timeSignature.useValue(),ZX=()=>gt.realTime.tempo.useValue(),tQ=()=>gt.realTime.isPlaying.useValue(),eQ=()=>gt.realTime.metronomeState.useValue(),nQ=()=>gt.realTime.metronomeState.get(),rQ=()=>gt.realTime.loopState.useValue(),iQ=()=>gt.realTime.loopState.get(),oQ=()=>{const t=Op(),e=Hu(),n=bb();return r=>{const i=qu(t.projects).find(s=>s.abletonProject===r);i!==void 0&&r!==e&&n(i.key)}},t$="reload-project",sQ=()=>{const t=bb();return()=>{t(e=>(setTimeout(()=>{t(e)},500),t$))}},aQ=()=>Vt.useActiveProjectName()===t$,Vt={useOnStatusChange:JX,useBeat:ZR,useBarBeats:XX,useTimeSignature:QX,useTempo:ZX,useIsPlaying:tQ,useActiveClip:DX,useArrangement:GR,useProjectsConfig:qX,useProjectsListAtom:HX,useActiveProjectLabel:VX,useSetActiveProject:bb,useProjectStyle:KX,useAbletonProjectName:GX,useSetActiveProjectName:WX,useActiveProjectValue:XR,useActiveProjectName:Hu,useActiveProjectState:UX,useUpdateActiveProject:QR,useTracks:JR,useTrack:zX,useTrackOrUndefined:YR,useMetronomeState:eQ,getMetronomeState:nQ,useLoopState:rQ,getLoopState:iQ,useOnProjectLoad:oQ,useIsProjectLoading:YX,useRefreshProject:sQ,useIsReloadProject:aQ},e$=_e.one({name:"metronome-control",schema:pt({color:tt.Schema}),init:()=>({color:tt.BLUE}),component:({target:t,color:e})=>{const n=as.useDawEmitter(),r=Vt.useMetronomeState();return G.jsx(bo,{isFlashing:r,color:e,target:t,onClick:()=>n.send(an.metronome(!Vt.getMetronomeState())),options:{metronomeState:r}})}}),uQ=_e.one({name:"loop-control",schema:pt({color:tt.Schema}),init:()=>({color:tt.GREEN}),component:({target:t,color:e})=>{const n=as.useDawEmitter(),r=Vt.useLoopState();return G.jsx(bo,{isFlashing:r,color:e,target:t,onClick:()=>n.send(an.loop(!Vt.getLoopState()))})}}),n$=_e.one({name:"play-stop",schema:pt({playColor:tt.Schema,stopColor:tt.Schema}),init:()=>({playColor:tt.GREEN,stopColor:tt.RED}),component:({target:t,playColor:e,stopColor:n})=>Vt.useIsPlaying()?eR.component({target:t,color:n}):tR.component({target:t,color:e})}),cQ=_e.one({name:"metronome",schema:pt({oneColor:tt.Schema,restColor:tt.Schema}),init:()=>({oneColor:tt.GREEN,restColor:tt.RED}),component:({target:t,oneColor:e,restColor:n})=>{const[r,i]=ae.useState(tt.BLACK);return ae.useEffect(()=>nR.onTick(s=>{!s.halfBeat&&s.isPlaying?i(s.beat===1?e:n):i(tt.BLACK)}),[]),G.jsx("pad",{color:r,target:t})}}),lQ=(t,e,n,r)=>{const i=e+1;return i<=t?i===1?n:r:tt.BLACK},r$=_e.many({name:"beats",schema:pt({oneColor:tt.Schema,restColor:tt.Schema}),init:()=>({oneColor:tt.GREEN,restColor:tt.RED}),component:({targets:t,oneColor:e,restColor:n})=>{const r=Vt.useBarBeats(),i=Vt.useTimeSignature(),s=st.map(t,(a,c)=>G.jsx("pad",{color:lQ(r,c,e,n),target:a,options:{timeSignature:i}},`beat-${c}`));return G.jsx(G.Fragment,{children:s})}}),fQ=_e.many({name:"time-sig-count",schema:pt({color:tt.Schema}),init:()=>({color:tt.BLUE}),component:({targets:t,color:e})=>{const n=Vt.useTimeSignature(),r=t.map((i,s)=>G.jsx("pad",{target:i,color:s+1<=n.noteCount?e:tt.BLACK},`time-sig-count-${s}`));return G.jsx(G.Fragment,{children:r})}}),dQ=_e.many({name:"time-sig-length",schema:pt({color:tt.Schema}),init:()=>({color:tt.PURPLE}),component:({targets:t,color:e})=>{const n=Vt.useTimeSignature(),r=t.map((i,s)=>G.jsx("pad",{target:i,color:s+1<=n.noteLength?e:tt.BLACK},`time-sig-length-${s}`));return G.jsx(G.Fragment,{children:r})}}),i$=_e.many({name:"nav-clips",schema:pt({trackName:Dn,sort:Qn(gn("alphabetical","order"))}),init:()=>({trackName:"Nav Clip Track",sort:"order"}),tracks:t=>[t.trackName],component:({targets:t,trackName:e,sort:n})=>{const r=as.useDawEmitter(),i=Vt.useArrangement(),s=Vt.useTrack(e),a=Vt.useActiveClip(s),c=ae.useMemo(()=>st.fromPairs(st.map(i.cues,y=>[y.time,y])),[i.cues]),l=s.clips.filter(y=>y.type==="real"),d=n==="alphabetical"?l.sort((y,w)=>y.name.localeCompare(w.name)):l,h=ae.useMemo(()=>{const y=[];for(let w=0;w<d.length;w++){const x=t==null?void 0:t[w],C=d==null?void 0:d[w];if(C!==void 0&&x!==void 0){const T=c==null?void 0:c[C.startTime];T!==void 0&&y.push({clip:C,cue:T,target:x})}}return y},[s,c,t]),g=y=>{r.send(an.jumpToCue(y.cue.index))},m=h.map((y,w)=>G.jsx(bo,{isFlashing:y.clip===a,color:y.clip.color,target:y.target,onClick:()=>g(y),options:{label:y.clip.name}},`song-${w}`));return G.jsx(G.Fragment,{children:m})}}),hQ=_e.many({name:"bar-tracker",schema:pt({trackName:Dn,color:tt.Schema}),init:()=>({trackName:"Track",color:tt.GREEN}),tracks:t=>[t.trackName],component:({targets:t,trackName:e,color:n})=>{const r=Vt.useTrack(e),i=Vt.useBeat(),s=Vt.useBarBeats(),a=Vt.useActiveClip(r),c=Vt.useTimeSignature(),[l,d]=ae.useState(0),h=ae.useMemo(()=>{if(a.type==="real"){const y=Number(a.name);if(!isNaN(y))return y}return 0},[a]);ae.useEffect(()=>{if(s===1&&vP.isReal(a)){const y=Math.floor(i-a.startTime);c.noteLength===4?d(Math.floor(y/c.noteCount)):c.noteLength===8&&(c.noteCount%2===0?d(Math.floor(y/(c.noteCount/2))):y%c.noteCount===0?d(Math.floor(y/c.noteCount)*2):d(Math.floor((y+.5)*2/c.noteCount)))}},[s,i,a,c]);const g=l%h+1,m=t.map((y,w)=>G.jsx(bo,{color:w<g?n:tt.BLACK,target:y},`bar-tracker-${w}`));return G.jsx(G.Fragment,{children:m})}}),pQ=t=>e=>t.type==="real"&&t.endTime!==void 0&&e.startTime<t.endTime,o$=_e.many({name:"track-sections",schema:pt({trackName:Dn,parentTrackName:Dn}),init:()=>({trackName:"Track Sections",parentTrackName:"Parent Track Sections"}),tracks:t=>[t.trackName,t.parentTrackName],component:({targets:t,trackName:e,parentTrackName:n=""})=>{const r=Vt.useTrack(e),i=Vt.useActiveClip(r),s=Vt.useTrack(n),a=Vt.useActiveClip(s),c=Vt.useBeat(),l=ae.useMemo(()=>{const g=[];return r.clips.forEach(m=>{m.startTime>=i.startTime&&g.push(m)}),g.filter(pQ(a))},[r,i,a]),d=ae.useMemo(()=>{if(i&&i.endTime!==void 0){const g=i.endTime-i.startTime;return(c-i.startTime)/g*100}else return},[i,c]),h=t.map((g,m)=>{const y=l==null?void 0:l[m],w=y!==void 0&&y.type==="real"?y.color:tt.BLACK,x=y!==void 0&&y.type==="real"?y.name:"";return G.jsx(bo,{color:w,target:g,options:{label:x,progress:d,isActive:y===i}},`track-sections-${m}`)});return G.jsx(G.Fragment,{children:h})}}),my=[void 0,"c#","d#",void 0,"f#","g#","a#"],yy=["c","d","e","f","g","a","b","c"],gQ=_e.of({name:"keyboard",schema:pt({topTargets:gu(Li.Schema),bottomTargets:gu(Li.Schema),trackName:Dn,topColor:tt.Schema,bottomColor:tt.Schema}),init:()=>({topTargets:[],bottomTargets:[],trackName:"Keyboard Track",topColor:tt.GREEN,bottomColor:tt.RED}),targets:t=>({_tag:"many",targets:[...t.topTargets,...t.bottomTargets]}),inputType:"many",tracks:t=>[t.trackName],component:({topTargets:t,bottomTargets:e,trackName:n,topColor:r,bottomColor:i})=>{const s=Vt.useTrack(n),a=Vt.useActiveClip(s),[c,l]=ae.useMemo(()=>vP.isReal(a)?[a.name.toLowerCase(),a.color]:[void 0,void 0],[a]),d=y=>y===void 0||c===void 0?!1:y===c,h=y=>()=>{},g=t.map((y,w)=>{const x=my==null?void 0:my[w];return G.jsx(bo,{color:x!==void 0?d(x)&&l!==void 0?l:r:tt.BLACK,target:y,isFlashing:d(x),onClick:h()},`keyboard-top-${w}`)}),m=e.map((y,w)=>{const x=yy==null?void 0:yy[w];return G.jsx(bo,{color:x!==void 0?d(x)&&l!==void 0?l:i:tt.BLACK,target:y,isFlashing:d(x),onClick:h()},`keyboard-bottom-${w}`)});return G.jsxs(G.Fragment,{children:[g,m]})}}),s$=_e.one({name:"button",schema:pt({color:tt.Schema,isFlashing:C_,midi:gu(sl.schema),text:Qn(pt({content:Dn,color:Qn(tt.Schema),size:Qn(Dn)}))}),init:()=>({color:tt.GREEN,isFlashing:!1,midi:[]}),component:({target:t,color:e,isFlashing:n,midi:r})=>{const i=as.useDawEmitter();return G.jsx(bo,{isFlashing:n,color:e,target:t,onClick:()=>{r.forEach(i.send)}})}}),Lv={10927616:74,16149507:84,4047616:76,6441901:69,14402304:99,8754719:19,16725558:5,3947580:71,10056267:10,8237133:18,12026454:11,12565097:73,13381230:58,12243060:111,16249980:13,13013643:4,10208397:88,695438:65,13821080:110,3101346:46,16749734:107,8962746:102,5538020:79,13684944:117,15064289:119,14183652:94,11442405:44,13408551:100,1090798:78,11096369:127,16753961:96,1769263:87,5480241:64,1698303:90,16773172:97,7491393:126,8940772:80,14837594:10,8912743:16,10060650:105,13872497:14,16753524:108,8092539:70,2319236:39,1716118:47,12349846:59,11481907:121,15029152:57,2490280:25,11119017:112,10701741:81,15597486:8,49071:77,10851765:93,12558270:48,32192:43,8758722:103,10204100:104,11958214:55,8623052:66,16726484:95,12581632:86,13958625:28,12173795:115,13482980:116,16777215:3,6094824:33,13496824:114,9611263:92,9160191:36},a$={};for(const t in Lv){const e=Lv[t];e!==void 0&&(a$[e]=t)}const mQ=t=>st.get(Lv,t,void 0),yQ=t=>{const e=st.get(a$,t,void 0);if(e!==void 0)return parseInt(e)},vQ={getNovationColor:mQ,getColorFromNovation:yQ},_Q=_e.one({name:"soft-refresh",schema:pt({color:tt.Schema}),init:()=>({color:tt.PURPLE}),component:({target:t,color:e})=>{const n=Vt.useRefreshProject();return G.jsx("pad",{color:e,target:t,onClick:()=>{n()}})}}),bQ=(t,e)=>t,SQ=z_.of({init:t=>()=>{t.send(sl.sysex([32,41,2,13,14,1]))},render:t=>e=>{const n=[32,41,2,13,3];st.forEach(e,r=>{if(r.color!==void 0){const i=vQ.getNovationColor(r.color);if(i!==void 0)n.push(0,Li.toValue(r.target),i);else{const[s,a,c]=tt.toRGB(bQ(r.color));n.push(3,Li.toValue(r.target),Math.floor(s/2),Math.floor(a/2),Math.floor(c/2))}}}),t.send(sl.sysex(n))},loading:t=>e=>{const n=Li.notes({from:11,to:99}),r=(a,c)=>{const l=Math.floor(c/10),d=c%10;return l<=a+1&&d<=a+1?tt.ROYGBIV[(Math.max(l,d)-1)%7]||tt.WHITE:tt.BLACK};let i=0;const s=setInterval(()=>{const a=i%9;e.render(t)(n.map((c,l)=>({target:c,color:r(a,Li.toValue(c))}))),i++},250);return()=>{clearInterval(s)}},listenFilter:t=>!(t.type==="noteon"&&t.velocity===0||t.type==="cc"&&t.data===0),targets:Li.notes({from:11,to:99})}),wQ=qP.of({name:"Launchpad Mini [MK3]",controller:SQ,widgets:K_([tR,eR,BY,e$,uQ,n$,cQ,r$,fQ,dQ,i$,hQ,o$,gQ,s$,_Q])}),u$={device:wQ},hl={black:"#000",white:"#fff"},Ia={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Pa={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Ra={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},$a={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Ma={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},Tc={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},EQ={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function Vs(t,...e){const n=new URL(`https://mui.com/production-error/?code=${t}`);return e.forEach(r=>n.searchParams.append("args[]",r)),`Minified MUI error #${t}; visit ${n} for the full message.`}var c$="$$material";function Ch(){return Ch=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ch.apply(null,arguments)}function xQ(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function CQ(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var TQ=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(CQ(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=xQ(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Cn="-ms-",Th="-moz-",Wt="-webkit-",l$="comm",Sb="rule",wb="decl",OQ="@import",f$="@keyframes",AQ="@layer",kQ=Math.abs,Ap=String.fromCharCode,IQ=Object.assign;function PQ(t,e){return cn(t,0)^45?(((e<<2^cn(t,0))<<2^cn(t,1))<<2^cn(t,2))<<2^cn(t,3):0}function d$(t){return t.trim()}function RQ(t,e){return(t=e.exec(t))?t[0]:t}function Kt(t,e,n){return t.replace(e,n)}function Fv(t,e){return t.indexOf(e)}function cn(t,e){return t.charCodeAt(e)|0}function pl(t,e,n){return t.slice(e,n)}function Mi(t){return t.length}function Eb(t){return t.length}function ud(t,e){return e.push(t),t}function $Q(t,e){return t.map(e).join("")}var kp=1,Cu=1,h$=0,nr=0,$e=0,Gu="";function Ip(t,e,n,r,i,s,a){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:kp,column:Cu,length:a,return:""}}function Oc(t,e){return IQ(Ip("",null,null,"",null,null,0),t,{length:-t.length},e)}function MQ(){return $e}function NQ(){return $e=nr>0?cn(Gu,--nr):0,Cu--,$e===10&&(Cu=1,kp--),$e}function mr(){return $e=nr<h$?cn(Gu,nr++):0,Cu++,$e===10&&(Cu=1,kp++),$e}function Ki(){return cn(Gu,nr)}function $d(){return nr}function Ql(t,e){return pl(Gu,t,e)}function gl(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function p$(t){return kp=Cu=1,h$=Mi(Gu=t),nr=0,[]}function g$(t){return Gu="",t}function Md(t){return d$(Ql(nr-1,Bv(t===91?t+2:t===40?t+1:t)))}function LQ(t){for(;($e=Ki())&&$e<33;)mr();return gl(t)>2||gl($e)>3?"":" "}function FQ(t,e){for(;--e&&mr()&&!($e<48||$e>102||$e>57&&$e<65||$e>70&&$e<97););return Ql(t,$d()+(e<6&&Ki()==32&&mr()==32))}function Bv(t){for(;mr();)switch($e){case t:return nr;case 34:case 39:t!==34&&t!==39&&Bv($e);break;case 40:t===41&&Bv(t);break;case 92:mr();break}return nr}function BQ(t,e){for(;mr()&&t+$e!==57;)if(t+$e===84&&Ki()===47)break;return"/*"+Ql(e,nr-1)+"*"+Ap(t===47?t:mr())}function jQ(t){for(;!gl(Ki());)mr();return Ql(t,nr)}function DQ(t){return g$(Nd("",null,null,null,[""],t=p$(t),0,[0],t))}function Nd(t,e,n,r,i,s,a,c,l){for(var d=0,h=0,g=a,m=0,y=0,w=0,x=1,C=1,T=1,$=0,M="",P=i,j=s,B=r,k=M;C;)switch(w=$,$=mr()){case 40:if(w!=108&&cn(k,g-1)==58){Fv(k+=Kt(Md($),"&","&\f"),"&\f")!=-1&&(T=-1);break}case 34:case 39:case 91:k+=Md($);break;case 9:case 10:case 13:case 32:k+=LQ(w);break;case 92:k+=FQ($d()-1,7);continue;case 47:switch(Ki()){case 42:case 47:ud(zQ(BQ(mr(),$d()),e,n),l);break;default:k+="/"}break;case 123*x:c[d++]=Mi(k)*T;case 125*x:case 59:case 0:switch($){case 0:case 125:C=0;case 59+h:T==-1&&(k=Kt(k,/\f/g,"")),y>0&&Mi(k)-g&&ud(y>32?uC(k+";",r,n,g-1):uC(Kt(k," ","")+";",r,n,g-2),l);break;case 59:k+=";";default:if(ud(B=aC(k,e,n,d,h,i,c,M,P=[],j=[],g),s),$===123)if(h===0)Nd(k,e,B,B,P,s,g,c,j);else switch(m===99&&cn(k,3)===110?100:m){case 100:case 108:case 109:case 115:Nd(t,B,B,r&&ud(aC(t,B,B,0,0,i,c,M,i,P=[],g),j),i,j,g,c,r?P:j);break;default:Nd(k,B,B,B,[""],j,0,c,j)}}d=h=y=0,x=T=1,M=k="",g=a;break;case 58:g=1+Mi(k),y=w;default:if(x<1){if($==123)--x;else if($==125&&x++==0&&NQ()==125)continue}switch(k+=Ap($),$*x){case 38:T=h>0?1:(k+="\f",-1);break;case 44:c[d++]=(Mi(k)-1)*T,T=1;break;case 64:Ki()===45&&(k+=Md(mr())),m=Ki(),h=g=Mi(M=k+=jQ($d())),$++;break;case 45:w===45&&Mi(k)==2&&(x=0)}}return s}function aC(t,e,n,r,i,s,a,c,l,d,h){for(var g=i-1,m=i===0?s:[""],y=Eb(m),w=0,x=0,C=0;w<r;++w)for(var T=0,$=pl(t,g+1,g=kQ(x=a[w])),M=t;T<y;++T)(M=d$(x>0?m[T]+" "+$:Kt($,/&\f/g,m[T])))&&(l[C++]=M);return Ip(t,e,n,i===0?Sb:c,l,d,h)}function zQ(t,e,n){return Ip(t,e,n,l$,Ap(MQ()),pl(t,2,-2),0)}function uC(t,e,n,r){return Ip(t,e,n,wb,pl(t,0,r),pl(t,r+1,-1),r)}function Va(t,e){for(var n="",r=Eb(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function UQ(t,e,n,r){switch(t.type){case AQ:if(t.children.length)break;case OQ:case wb:return t.return=t.return||t.value;case l$:return"";case f$:return t.return=t.value+"{"+Va(t.children,r)+"}";case Sb:t.value=t.props.join(",")}return Mi(n=Va(t.children,r))?t.return=t.value+"{"+n+"}":""}function WQ(t){var e=Eb(t);return function(n,r,i,s){for(var a="",c=0;c<e;c++)a+=t[c](n,r,i,s)||"";return a}}function KQ(t){return function(e){e.root||(e=e.return)&&t(e)}}function m$(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var qQ=function(e,n,r){for(var i=0,s=0;i=s,s=Ki(),i===38&&s===12&&(n[r]=1),!gl(s);)mr();return Ql(e,nr)},VQ=function(e,n){var r=-1,i=44;do switch(gl(i)){case 0:i===38&&Ki()===12&&(n[r]=1),e[r]+=qQ(nr-1,n,r);break;case 2:e[r]+=Md(i);break;case 4:if(i===44){e[++r]=Ki()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Ap(i)}while(i=mr());return e},HQ=function(e,n){return g$(VQ(p$(e),n))},cC=new WeakMap,GQ=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!cC.get(r))&&!i){cC.set(e,!0);for(var s=[],a=HQ(n,s),c=r.props,l=0,d=0;l<a.length;l++)for(var h=0;h<c.length;h++,d++)e.props[d]=s[l]?a[l].replace(/&\f/g,c[h]):c[h]+" "+a[l]}}},JQ=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function y$(t,e){switch(PQ(t,e)){case 5103:return Wt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Wt+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Wt+t+Th+t+Cn+t+t;case 6828:case 4268:return Wt+t+Cn+t+t;case 6165:return Wt+t+Cn+"flex-"+t+t;case 5187:return Wt+t+Kt(t,/(\w+).+(:[^]+)/,Wt+"box-$1$2"+Cn+"flex-$1$2")+t;case 5443:return Wt+t+Cn+"flex-item-"+Kt(t,/flex-|-self/,"")+t;case 4675:return Wt+t+Cn+"flex-line-pack"+Kt(t,/align-content|flex-|-self/,"")+t;case 5548:return Wt+t+Cn+Kt(t,"shrink","negative")+t;case 5292:return Wt+t+Cn+Kt(t,"basis","preferred-size")+t;case 6060:return Wt+"box-"+Kt(t,"-grow","")+Wt+t+Cn+Kt(t,"grow","positive")+t;case 4554:return Wt+Kt(t,/([^-])(transform)/g,"$1"+Wt+"$2")+t;case 6187:return Kt(Kt(Kt(t,/(zoom-|grab)/,Wt+"$1"),/(image-set)/,Wt+"$1"),t,"")+t;case 5495:case 3959:return Kt(t,/(image-set\([^]*)/,Wt+"$1$`$1");case 4968:return Kt(Kt(t,/(.+:)(flex-)?(.*)/,Wt+"box-pack:$3"+Cn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Wt+t+t;case 4095:case 3583:case 4068:case 2532:return Kt(t,/(.+)-inline(.+)/,Wt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Mi(t)-1-e>6)switch(cn(t,e+1)){case 109:if(cn(t,e+4)!==45)break;case 102:return Kt(t,/(.+:)(.+)-([^]+)/,"$1"+Wt+"$2-$3$1"+Th+(cn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Fv(t,"stretch")?y$(Kt(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(cn(t,e+1)!==115)break;case 6444:switch(cn(t,Mi(t)-3-(~Fv(t,"!important")&&10))){case 107:return Kt(t,":",":"+Wt)+t;case 101:return Kt(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Wt+(cn(t,14)===45?"inline-":"")+"box$3$1"+Wt+"$2$3$1"+Cn+"$2box$3")+t}break;case 5936:switch(cn(t,e+11)){case 114:return Wt+t+Cn+Kt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Wt+t+Cn+Kt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Wt+t+Cn+Kt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Wt+t+Cn+t+t}return t}var YQ=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case wb:e.return=y$(e.value,e.length);break;case f$:return Va([Oc(e,{value:Kt(e.value,"@","@"+Wt)})],i);case Sb:if(e.length)return $Q(e.props,function(s){switch(RQ(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Va([Oc(e,{props:[Kt(s,/:(read-\w+)/,":"+Th+"$1")]})],i);case"::placeholder":return Va([Oc(e,{props:[Kt(s,/:(plac\w+)/,":"+Wt+"input-$1")]}),Oc(e,{props:[Kt(s,/:(plac\w+)/,":"+Th+"$1")]}),Oc(e,{props:[Kt(s,/:(plac\w+)/,Cn+"input-$1")]})],i)}return""})}},XQ=[YQ],QQ=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(x){var C=x.getAttribute("data-emotion");C.indexOf(" ")!==-1&&(document.head.appendChild(x),x.setAttribute("data-s",""))})}var i=e.stylisPlugins||XQ,s={},a,c=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(x){for(var C=x.getAttribute("data-emotion").split(" "),T=1;T<C.length;T++)s[C[T]]=!0;c.push(x)});var l,d=[GQ,JQ];{var h,g=[UQ,KQ(function(x){h.insert(x)})],m=WQ(d.concat(i,g)),y=function(C){return Va(DQ(C),m)};l=function(C,T,$,M){h=$,y(C?C+"{"+T.styles+"}":T.styles),M&&(w.inserted[T.name]=!0)}}var w={key:n,sheet:new TQ({key:n,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return w.sheet.hydrate(c),w},v$={exports:{}},Jt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qe=typeof Symbol=="function"&&Symbol.for,xb=Qe?Symbol.for("react.element"):60103,Cb=Qe?Symbol.for("react.portal"):60106,Pp=Qe?Symbol.for("react.fragment"):60107,Rp=Qe?Symbol.for("react.strict_mode"):60108,$p=Qe?Symbol.for("react.profiler"):60114,Mp=Qe?Symbol.for("react.provider"):60109,Np=Qe?Symbol.for("react.context"):60110,Tb=Qe?Symbol.for("react.async_mode"):60111,Lp=Qe?Symbol.for("react.concurrent_mode"):60111,Fp=Qe?Symbol.for("react.forward_ref"):60112,Bp=Qe?Symbol.for("react.suspense"):60113,ZQ=Qe?Symbol.for("react.suspense_list"):60120,jp=Qe?Symbol.for("react.memo"):60115,Dp=Qe?Symbol.for("react.lazy"):60116,tZ=Qe?Symbol.for("react.block"):60121,eZ=Qe?Symbol.for("react.fundamental"):60117,nZ=Qe?Symbol.for("react.responder"):60118,rZ=Qe?Symbol.for("react.scope"):60119;function Ar(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case xb:switch(t=t.type,t){case Tb:case Lp:case Pp:case $p:case Rp:case Bp:return t;default:switch(t=t&&t.$$typeof,t){case Np:case Fp:case Dp:case jp:case Mp:return t;default:return e}}case Cb:return e}}}function _$(t){return Ar(t)===Lp}Jt.AsyncMode=Tb;Jt.ConcurrentMode=Lp;Jt.ContextConsumer=Np;Jt.ContextProvider=Mp;Jt.Element=xb;Jt.ForwardRef=Fp;Jt.Fragment=Pp;Jt.Lazy=Dp;Jt.Memo=jp;Jt.Portal=Cb;Jt.Profiler=$p;Jt.StrictMode=Rp;Jt.Suspense=Bp;Jt.isAsyncMode=function(t){return _$(t)||Ar(t)===Tb};Jt.isConcurrentMode=_$;Jt.isContextConsumer=function(t){return Ar(t)===Np};Jt.isContextProvider=function(t){return Ar(t)===Mp};Jt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===xb};Jt.isForwardRef=function(t){return Ar(t)===Fp};Jt.isFragment=function(t){return Ar(t)===Pp};Jt.isLazy=function(t){return Ar(t)===Dp};Jt.isMemo=function(t){return Ar(t)===jp};Jt.isPortal=function(t){return Ar(t)===Cb};Jt.isProfiler=function(t){return Ar(t)===$p};Jt.isStrictMode=function(t){return Ar(t)===Rp};Jt.isSuspense=function(t){return Ar(t)===Bp};Jt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Pp||t===Lp||t===$p||t===Rp||t===Bp||t===ZQ||typeof t=="object"&&t!==null&&(t.$$typeof===Dp||t.$$typeof===jp||t.$$typeof===Mp||t.$$typeof===Np||t.$$typeof===Fp||t.$$typeof===eZ||t.$$typeof===nZ||t.$$typeof===rZ||t.$$typeof===tZ)};Jt.typeOf=Ar;v$.exports=Jt;var iZ=v$.exports,b$=iZ,oZ={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},sZ={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},S$={};S$[b$.ForwardRef]=oZ;S$[b$.Memo]=sZ;var aZ=!0;function w$(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(r+=i+" ")}),r}var Ob=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||aZ===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},E$=function(e,n,r){Ob(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function uZ(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var cZ={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},lZ=/[A-Z]|^ms/g,fZ=/_EMO_([^_]+?)_([^]*?)_EMO_/g,x$=function(e){return e.charCodeAt(1)===45},lC=function(e){return e!=null&&typeof e!="boolean"},vy=m$(function(t){return x$(t)?t:t.replace(lZ,"-$&").toLowerCase()}),fC=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(fZ,function(r,i,s){return Ni={name:i,styles:s,next:Ni},i})}return cZ[e]!==1&&!x$(e)&&typeof n=="number"&&n!==0?n+"px":n};function ml(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return Ni={name:i.name,styles:i.styles,next:Ni},i.name;var s=n;if(s.styles!==void 0){var a=s.next;if(a!==void 0)for(;a!==void 0;)Ni={name:a.name,styles:a.styles,next:Ni},a=a.next;var c=s.styles+";";return c}return dZ(t,e,n)}case"function":{if(t!==void 0){var l=Ni,d=n(t);return Ni=l,ml(t,e,d)}break}}var h=n;if(e==null)return h;var g=e[h];return g!==void 0?g:h}function dZ(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=ml(t,e,n[i])+";";else for(var s in n){var a=n[s];if(typeof a!="object"){var c=a;e!=null&&e[c]!==void 0?r+=s+"{"+e[c]+"}":lC(c)&&(r+=vy(s)+":"+fC(s,c)+";")}else if(Array.isArray(a)&&typeof a[0]=="string"&&(e==null||e[a[0]]===void 0))for(var l=0;l<a.length;l++)lC(a[l])&&(r+=vy(s)+":"+fC(s,a[l])+";");else{var d=ml(t,e,a);switch(s){case"animation":case"animationName":{r+=vy(s)+":"+d+";";break}default:r+=s+"{"+d+"}"}}}return r}var dC=/label:\s*([^\s;{]+)\s*(;|$)/g,Ni;function zp(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";Ni=void 0;var s=t[0];if(s==null||s.raw===void 0)r=!1,i+=ml(n,e,s);else{var a=s;i+=a[0]}for(var c=1;c<t.length;c++)if(i+=ml(n,e,t[c]),r){var l=s;i+=l[c]}dC.lastIndex=0;for(var d="",h;(h=dC.exec(i))!==null;)d+="-"+h[1];var g=uZ(i)+d;return{name:g,styles:i,next:Ni}}var hZ=function(e){return e()},pZ=Cv.useInsertionEffect?Cv.useInsertionEffect:!1,C$=pZ||hZ,T$=H.createContext(typeof HTMLElement<"u"?QQ({key:"css"}):null);T$.Provider;var O$=function(e){return H.forwardRef(function(n,r){var i=H.useContext(T$);return e(n,i,r)})},Ab=H.createContext({}),kb={}.hasOwnProperty,jv="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",gZ=function(e,n){var r={};for(var i in n)kb.call(n,i)&&(r[i]=n[i]);return r[jv]=e,r},mZ=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return Ob(n,r,i),C$(function(){return E$(n,r,i)}),null},yZ=O$(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[jv],s=[r],a="";typeof t.className=="string"?a=w$(e.registered,s,t.className):t.className!=null&&(a=t.className+" ");var c=zp(s,void 0,H.useContext(Ab));a+=e.key+"-"+c.name;var l={};for(var d in t)kb.call(t,d)&&d!=="css"&&d!==jv&&(l[d]=t[d]);return l.className=a,n&&(l.ref=n),H.createElement(H.Fragment,null,H.createElement(mZ,{cache:e,serialized:c,isStringTag:typeof i=="string"}),H.createElement(i,l))}),vZ=yZ,hC=function(e,n){var r=arguments;if(n==null||!kb.call(n,"css"))return H.createElement.apply(void 0,r);var i=r.length,s=new Array(i);s[0]=vZ,s[1]=gZ(e,n);for(var a=2;a<i;a++)s[a]=r[a];return H.createElement.apply(null,s)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(hC||(hC={}));function Ib(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return zp(e)}function Zl(){var t=Ib.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var _Z=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,bZ=m$(function(t){return _Z.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),SZ=bZ,wZ=function(e){return e!=="theme"},pC=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?SZ:wZ},gC=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(a){return e.__emotion_forwardProp(a)&&s(a)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},EZ=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return Ob(n,r,i),C$(function(){return E$(n,r,i)}),null},xZ=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,a;n!==void 0&&(s=n.label,a=n.target);var c=gC(e,n,r),l=c||pC(i),d=!l("as");return function(){var h=arguments,g=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&g.push("label:"+s+";"),h[0]==null||h[0].raw===void 0)g.push.apply(g,h);else{var m=h[0];g.push(m[0]);for(var y=h.length,w=1;w<y;w++)g.push(h[w],m[w])}var x=O$(function(C,T,$){var M=d&&C.as||i,P="",j=[],B=C;if(C.theme==null){B={};for(var k in C)B[k]=C[k];B.theme=H.useContext(Ab)}typeof C.className=="string"?P=w$(T.registered,j,C.className):C.className!=null&&(P=C.className+" ");var z=zp(g.concat(j),T.registered,B);P+=T.key+"-"+z.name,a!==void 0&&(P+=" "+a);var K=d&&c===void 0?pC(M):l,b={};for(var N in C)d&&N==="as"||K(N)&&(b[N]=C[N]);return b.className=P,$&&(b.ref=$),H.createElement(H.Fragment,null,H.createElement(EZ,{cache:T,serialized:z,isStringTag:typeof M=="string"}),H.createElement(M,b))});return x.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",x.defaultProps=e.defaultProps,x.__emotion_real=x,x.__emotion_base=i,x.__emotion_styles=g,x.__emotion_forwardProp=c,Object.defineProperty(x,"toString",{value:function(){return"."+a}}),x.withComponent=function(C,T){var $=t(C,Ch({},n,T,{shouldForwardProp:gC(x,T,!0)}));return $.apply(void 0,g)},x}},CZ=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Dv=xZ.bind(null);CZ.forEach(function(t){Dv[t]=Dv(t)});/**
 * @mui/styled-engine v6.4.9
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function A$(t,e){return Dv(t,e)}function TZ(t,e){Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))}const mC=[];function yC(t){return mC[0]=t,zp(mC)}var k$={exports:{}},re={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pb=Symbol.for("react.transitional.element"),Rb=Symbol.for("react.portal"),Up=Symbol.for("react.fragment"),Wp=Symbol.for("react.strict_mode"),Kp=Symbol.for("react.profiler"),qp=Symbol.for("react.consumer"),Vp=Symbol.for("react.context"),Hp=Symbol.for("react.forward_ref"),Gp=Symbol.for("react.suspense"),Jp=Symbol.for("react.suspense_list"),Yp=Symbol.for("react.memo"),Xp=Symbol.for("react.lazy"),OZ=Symbol.for("react.offscreen"),AZ=Symbol.for("react.client.reference");function Xr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Pb:switch(t=t.type,t){case Up:case Kp:case Wp:case Gp:case Jp:return t;default:switch(t=t&&t.$$typeof,t){case Vp:case Hp:case Xp:case Yp:return t;case qp:return t;default:return e}}case Rb:return e}}}re.ContextConsumer=qp;re.ContextProvider=Vp;re.Element=Pb;re.ForwardRef=Hp;re.Fragment=Up;re.Lazy=Xp;re.Memo=Yp;re.Portal=Rb;re.Profiler=Kp;re.StrictMode=Wp;re.Suspense=Gp;re.SuspenseList=Jp;re.isContextConsumer=function(t){return Xr(t)===qp};re.isContextProvider=function(t){return Xr(t)===Vp};re.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Pb};re.isForwardRef=function(t){return Xr(t)===Hp};re.isFragment=function(t){return Xr(t)===Up};re.isLazy=function(t){return Xr(t)===Xp};re.isMemo=function(t){return Xr(t)===Yp};re.isPortal=function(t){return Xr(t)===Rb};re.isProfiler=function(t){return Xr(t)===Kp};re.isStrictMode=function(t){return Xr(t)===Wp};re.isSuspense=function(t){return Xr(t)===Gp};re.isSuspenseList=function(t){return Xr(t)===Jp};re.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Up||t===Kp||t===Wp||t===Gp||t===Jp||t===OZ||typeof t=="object"&&t!==null&&(t.$$typeof===Xp||t.$$typeof===Yp||t.$$typeof===Vp||t.$$typeof===qp||t.$$typeof===Hp||t.$$typeof===AZ||t.getModuleId!==void 0)};re.typeOf=Xr;k$.exports=re;var I$=k$.exports;function Bi(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function P$(t){if(H.isValidElement(t)||I$.isValidElementType(t)||!Bi(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=P$(t[n])}),e}function yr(t,e,n={clone:!0}){const r=n.clone?{...t}:t;return Bi(t)&&Bi(e)&&Object.keys(e).forEach(i=>{H.isValidElement(e[i])||I$.isValidElementType(e[i])?r[i]=e[i]:Bi(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&Bi(t[i])?r[i]=yr(t[i],e[i],n):n.clone?r[i]=Bi(e[i])?P$(e[i]):e[i]:r[i]=e[i]}),r}const kZ=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function IZ(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...i}=t,s=kZ(e),a=Object.keys(s);function c(m){return`@media (min-width:${typeof e[m]=="number"?e[m]:m}${n})`}function l(m){return`@media (max-width:${(typeof e[m]=="number"?e[m]:m)-r/100}${n})`}function d(m,y){const w=a.indexOf(y);return`@media (min-width:${typeof e[m]=="number"?e[m]:m}${n}) and (max-width:${(w!==-1&&typeof e[a[w]]=="number"?e[a[w]]:y)-r/100}${n})`}function h(m){return a.indexOf(m)+1<a.length?d(m,a[a.indexOf(m)+1]):c(m)}function g(m){const y=a.indexOf(m);return y===0?c(a[1]):y===a.length-1?l(a[y]):d(m,a[a.indexOf(m)+1]).replace("@media","@media not all and")}return{keys:a,values:s,up:c,down:l,between:d,only:h,not:g,unit:n,...i}}function PZ(t,e){if(!t.containerQueries)return e;const n=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,i)=>{var a,c;const s=/min-width:\s*([0-9.]+)/;return+(((a=r.match(s))==null?void 0:a[1])||0)-+(((c=i.match(s))==null?void 0:c[1])||0)});return n.length?n.reduce((r,i)=>{const s=e[i];return delete r[i],r[i]=s,r},{...e}):e}function RZ(t,e){return e==="@"||e.startsWith("@")&&(t.some(n=>e.startsWith(`@${n}`))||!!e.match(/^@\d/))}function $Z(t,e){const n=e.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,i]=n,s=Number.isNaN(+r)?r||0:+r;return t.containerQueries(i).up(s)}function MZ(t){const e=(s,a)=>s.replace("@media",a?`@container ${a}`:"@container");function n(s,a){s.up=(...c)=>e(t.breakpoints.up(...c),a),s.down=(...c)=>e(t.breakpoints.down(...c),a),s.between=(...c)=>e(t.breakpoints.between(...c),a),s.only=(...c)=>e(t.breakpoints.only(...c),a),s.not=(...c)=>{const l=e(t.breakpoints.not(...c),a);return l.includes("not all and")?l.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):l}}const r={},i=s=>(n(r,s),r);return n(i),{...t,containerQueries:i}}const NZ={borderRadius:4};function qc(t,e){return e?yr(t,e,{clone:!1}):t}const Qp={xs:0,sm:600,md:900,lg:1200,xl:1536},vC={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${Qp[t]}px)`},LZ={containerQueries:t=>({up:e=>{let n=typeof e=="number"?e:Qp[e]||e;return typeof n=="number"&&(n=`${n}px`),t?`@container ${t} (min-width:${n})`:`@container (min-width:${n})`}})};function Eo(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const s=r.breakpoints||vC;return e.reduce((a,c,l)=>(a[s.up(s.keys[l])]=n(e[l]),a),{})}if(typeof e=="object"){const s=r.breakpoints||vC;return Object.keys(e).reduce((a,c)=>{if(RZ(s.keys,c)){const l=$Z(r.containerQueries?r:LZ,c);l&&(a[l]=n(e[c],c))}else if(Object.keys(s.values||Qp).includes(c)){const l=s.up(c);a[l]=n(e[c],c)}else{const l=c;a[l]=e[l]}return a},{})}return n(e)}function FZ(t={}){var n;return((n=t.keys)==null?void 0:n.reduce((r,i)=>{const s=t.up(i);return r[s]={},r},{}))||{}}function BZ(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function qt(t){if(typeof t!="string")throw new Error(Vs(7));return t.charAt(0).toUpperCase()+t.slice(1)}function Zp(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function Oh(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=Zp(t,n)||r,e&&(i=e(i,r,t)),i}function Ae(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,s=a=>{if(a[e]==null)return null;const c=a[e],l=a.theme,d=Zp(l,r)||{};return Eo(a,c,g=>{let m=Oh(d,i,g);return g===m&&typeof g=="string"&&(m=Oh(d,i,`${e}${g==="default"?"":qt(g)}`,g)),n===!1?m:{[n]:m}})};return s.propTypes={},s.filterProps=[e],s}function jZ(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const DZ={m:"margin",p:"padding"},zZ={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},_C={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},UZ=jZ(t=>{if(t.length>2)if(_C[t])t=_C[t];else return[t];const[e,n]=t.split(""),r=DZ[e],i=zZ[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),$b=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Mb=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...$b,...Mb];function tf(t,e,n,r){const i=Zp(t,e,!0)??n;return typeof i=="number"||typeof i=="string"?s=>typeof s=="string"?s:typeof i=="string"?`calc(${s} * ${i})`:i*s:Array.isArray(i)?s=>{if(typeof s=="string")return s;const a=Math.abs(s),c=i[a];return s>=0?c:typeof c=="number"?-c:`-${c}`}:typeof i=="function"?i:()=>{}}function Nb(t){return tf(t,"spacing",8)}function ef(t,e){return typeof e=="string"||e==null?e:t(e)}function WZ(t,e){return n=>t.reduce((r,i)=>(r[i]=ef(e,n),r),{})}function KZ(t,e,n,r){if(!e.includes(n))return null;const i=UZ(n),s=WZ(i,r),a=t[n];return Eo(t,a,s)}function R$(t,e){const n=Nb(t.theme);return Object.keys(t).map(r=>KZ(t,e,r,n)).reduce(qc,{})}function Se(t){return R$(t,$b)}Se.propTypes={};Se.filterProps=$b;function we(t){return R$(t,Mb)}we.propTypes={};we.filterProps=Mb;function $$(t=8,e=Nb({spacing:t})){if(t.mui)return t;const n=(...r)=>(r.length===0?[1]:r).map(s=>{const a=e(s);return typeof a=="number"?`${a}px`:a}).join(" ");return n.mui=!0,n}function tg(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>e[s]?qc(i,e[s](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function Kr(t){return typeof t!="number"?t:`${t}px solid`}function Qr(t,e){return Ae({prop:t,themeKey:"borders",transform:e})}const qZ=Qr("border",Kr),VZ=Qr("borderTop",Kr),HZ=Qr("borderRight",Kr),GZ=Qr("borderBottom",Kr),JZ=Qr("borderLeft",Kr),YZ=Qr("borderColor"),XZ=Qr("borderTopColor"),QZ=Qr("borderRightColor"),ZZ=Qr("borderBottomColor"),ttt=Qr("borderLeftColor"),ett=Qr("outline",Kr),ntt=Qr("outlineColor"),eg=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=tf(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:ef(e,r)});return Eo(t,t.borderRadius,n)}return null};eg.propTypes={};eg.filterProps=["borderRadius"];tg(qZ,VZ,HZ,GZ,JZ,YZ,XZ,QZ,ZZ,ttt,eg,ett,ntt);const ng=t=>{if(t.gap!==void 0&&t.gap!==null){const e=tf(t.theme,"spacing",8),n=r=>({gap:ef(e,r)});return Eo(t,t.gap,n)}return null};ng.propTypes={};ng.filterProps=["gap"];const rg=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=tf(t.theme,"spacing",8),n=r=>({columnGap:ef(e,r)});return Eo(t,t.columnGap,n)}return null};rg.propTypes={};rg.filterProps=["columnGap"];const ig=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=tf(t.theme,"spacing",8),n=r=>({rowGap:ef(e,r)});return Eo(t,t.rowGap,n)}return null};ig.propTypes={};ig.filterProps=["rowGap"];const rtt=Ae({prop:"gridColumn"}),itt=Ae({prop:"gridRow"}),ott=Ae({prop:"gridAutoFlow"}),stt=Ae({prop:"gridAutoColumns"}),att=Ae({prop:"gridAutoRows"}),utt=Ae({prop:"gridTemplateColumns"}),ctt=Ae({prop:"gridTemplateRows"}),ltt=Ae({prop:"gridTemplateAreas"}),ftt=Ae({prop:"gridArea"});tg(ng,rg,ig,rtt,itt,ott,stt,att,utt,ctt,ltt,ftt);function Ha(t,e){return e==="grey"?e:t}const dtt=Ae({prop:"color",themeKey:"palette",transform:Ha}),htt=Ae({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Ha}),ptt=Ae({prop:"backgroundColor",themeKey:"palette",transform:Ha});tg(dtt,htt,ptt);function hr(t){return t<=1&&t!==0?`${t*100}%`:t}const gtt=Ae({prop:"width",transform:hr}),Lb=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var i,s,a,c,l;const r=((a=(s=(i=t.theme)==null?void 0:i.breakpoints)==null?void 0:s.values)==null?void 0:a[n])||Qp[n];return r?((l=(c=t.theme)==null?void 0:c.breakpoints)==null?void 0:l.unit)!=="px"?{maxWidth:`${r}${t.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:hr(n)}};return Eo(t,t.maxWidth,e)}return null};Lb.filterProps=["maxWidth"];const mtt=Ae({prop:"minWidth",transform:hr}),ytt=Ae({prop:"height",transform:hr}),vtt=Ae({prop:"maxHeight",transform:hr}),_tt=Ae({prop:"minHeight",transform:hr});Ae({prop:"size",cssProperty:"width",transform:hr});Ae({prop:"size",cssProperty:"height",transform:hr});const btt=Ae({prop:"boxSizing"});tg(gtt,Lb,mtt,ytt,vtt,_tt,btt);const nf={border:{themeKey:"borders",transform:Kr},borderTop:{themeKey:"borders",transform:Kr},borderRight:{themeKey:"borders",transform:Kr},borderBottom:{themeKey:"borders",transform:Kr},borderLeft:{themeKey:"borders",transform:Kr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Kr},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:eg},color:{themeKey:"palette",transform:Ha},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Ha},backgroundColor:{themeKey:"palette",transform:Ha},p:{style:we},pt:{style:we},pr:{style:we},pb:{style:we},pl:{style:we},px:{style:we},py:{style:we},padding:{style:we},paddingTop:{style:we},paddingRight:{style:we},paddingBottom:{style:we},paddingLeft:{style:we},paddingX:{style:we},paddingY:{style:we},paddingInline:{style:we},paddingInlineStart:{style:we},paddingInlineEnd:{style:we},paddingBlock:{style:we},paddingBlockStart:{style:we},paddingBlockEnd:{style:we},m:{style:Se},mt:{style:Se},mr:{style:Se},mb:{style:Se},ml:{style:Se},mx:{style:Se},my:{style:Se},margin:{style:Se},marginTop:{style:Se},marginRight:{style:Se},marginBottom:{style:Se},marginLeft:{style:Se},marginX:{style:Se},marginY:{style:Se},marginInline:{style:Se},marginInlineStart:{style:Se},marginInlineEnd:{style:Se},marginBlock:{style:Se},marginBlockStart:{style:Se},marginBlockEnd:{style:Se},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:ng},rowGap:{style:ig},columnGap:{style:rg},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:hr},maxWidth:{style:Lb},minWidth:{transform:hr},height:{transform:hr},maxHeight:{transform:hr},minHeight:{transform:hr},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function Stt(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function wtt(t,e){return typeof t=="function"?t(e):t}function Ett(){function t(n,r,i,s){const a={[n]:r,theme:i},c=s[n];if(!c)return{[n]:r};const{cssProperty:l=n,themeKey:d,transform:h,style:g}=c;if(r==null)return null;if(d==="typography"&&r==="inherit")return{[n]:r};const m=Zp(i,d)||{};return g?g(a):Eo(a,r,w=>{let x=Oh(m,h,w);return w===x&&typeof w=="string"&&(x=Oh(m,h,`${n}${w==="default"?"":qt(w)}`,w)),l===!1?x:{[l]:x}})}function e(n){const{sx:r,theme:i={}}=n||{};if(!r)return null;const s=i.unstable_sxConfig??nf;function a(c){let l=c;if(typeof c=="function")l=c(i);else if(typeof c!="object")return c;if(!l)return null;const d=FZ(i.breakpoints),h=Object.keys(d);let g=d;return Object.keys(l).forEach(m=>{const y=wtt(l[m],i);if(y!=null)if(typeof y=="object")if(s[m])g=qc(g,t(m,y,i,s));else{const w=Eo({theme:i},y,x=>({[m]:x}));Stt(w,y)?g[m]=e({sx:y,theme:i}):g=qc(g,w)}else g=qc(g,t(m,y,i,s))}),PZ(i,BZ(h,g))}return Array.isArray(r)?r.map(a):a(r)}return e}const Hs=Ett();Hs.filterProps=["sx"];function xtt(t,e){var r;const n=this;if(n.vars){if(!((r=n.colorSchemes)!=null&&r[t])||typeof n.getColorSchemeSelector!="function")return{};let i=n.getColorSchemeSelector(t);return i==="&"?e:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:e})}return n.palette.mode===t?e:{}}function Fb(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:s={},...a}=t,c=IZ(n),l=$$(i);let d=yr({breakpoints:c,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:l,shape:{...NZ,...s}},a);return d=MZ(d),d.applyStyles=xtt,d=e.reduce((h,g)=>yr(h,g),d),d.unstable_sxConfig={...nf,...a==null?void 0:a.unstable_sxConfig},d.unstable_sx=function(g){return Hs({sx:g,theme:this})},d}function Ctt(t){return Object.keys(t).length===0}function Ttt(t=null){const e=H.useContext(Ab);return!e||Ctt(e)?t:e}const Ott=Fb();function Att(t=Ott){return Ttt(t)}const ktt=t=>{var r;const e={systemProps:{},otherProps:{}},n=((r=t==null?void 0:t.theme)==null?void 0:r.unstable_sxConfig)??nf;return Object.keys(t).forEach(i=>{n[i]?e.systemProps[i]=t[i]:e.otherProps[i]=t[i]}),e};function M$(t){const{sx:e,...n}=t,{systemProps:r,otherProps:i}=ktt(n);let s;return Array.isArray(e)?s=[r,...e]:typeof e=="function"?s=(...a)=>{const c=e(...a);return Bi(c)?{...r,...c}:r}:s={...r,...e},{...i,sx:s}}const bC=t=>t,Itt=()=>{let t=bC;return{configure(e){t=e},generate(e){return t(e)},reset(){t=bC}}},N$=Itt();function L$(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=L$(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ln(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=L$(t))&&(r&&(r+=" "),r+=e);return r}function Ptt(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=t,s=A$("div",{shouldForwardProp:c=>c!=="theme"&&c!=="sx"&&c!=="as"})(Hs);return H.forwardRef(function(l,d){const h=Att(n),{className:g,component:m="div",...y}=M$(l);return G.jsx(s,{as:m,ref:d,className:ln(g,i?i(r):r),theme:e&&h[e]||h,...y})})}const Rtt={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function ua(t,e,n="Mui"){const r=Rtt[e];return r?`${n}-${r}`:`${N$.generate(t)}-${e}`}function cs(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=ua(t,i,n)}),r}function F$(t){const{variants:e,...n}=t,r={variants:e,style:yC(n),isProcessed:!0};return r.style===n||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=yC(i.style))}),r}const $tt=Fb();function _y(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function Mtt(t){return t?(e,n)=>n[t]:null}function Ntt(t,e,n){t.theme=Btt(t.theme)?n:t.theme[e]||t.theme}function Ld(t,e){const n=typeof e=="function"?e(t):e;if(Array.isArray(n))return n.flatMap(r=>Ld(t,r));if(Array.isArray(n==null?void 0:n.variants)){let r;if(n.isProcessed)r=n.style;else{const{variants:i,...s}=n;r=s}return B$(t,n.variants,[r])}return n!=null&&n.isProcessed?n.style:n}function B$(t,e,n=[]){var i;let r;t:for(let s=0;s<e.length;s+=1){const a=e[s];if(typeof a.props=="function"){if(r??(r={...t,...t.ownerState,ownerState:t.ownerState}),!a.props(r))continue}else for(const c in a.props)if(t[c]!==a.props[c]&&((i=t.ownerState)==null?void 0:i[c])!==a.props[c])continue t;typeof a.style=="function"?(r??(r={...t,...t.ownerState,ownerState:t.ownerState}),n.push(a.style(r))):n.push(a.style)}return n}function Ltt(t={}){const{themeId:e,defaultTheme:n=$tt,rootShouldForwardProp:r=_y,slotShouldForwardProp:i=_y}=t;function s(c){Ntt(c,e,n)}return(c,l={})=>{TZ(c,j=>j.filter(B=>B!==Hs));const{name:d,slot:h,skipVariantsResolver:g,skipSx:m,overridesResolver:y=Mtt(Dtt(h)),...w}=l,x=g!==void 0?g:h&&h!=="Root"&&h!=="root"||!1,C=m||!1;let T=_y;h==="Root"||h==="root"?T=r:h?T=i:jtt(c)&&(T=void 0);const $=A$(c,{shouldForwardProp:T,label:Ftt(),...w}),M=j=>{if(typeof j=="function"&&j.__emotion_real!==j)return function(k){return Ld(k,j)};if(Bi(j)){const B=F$(j);return B.variants?function(z){return Ld(z,B)}:B.style}return j},P=(...j)=>{const B=[],k=j.map(M),z=[];if(B.push(s),d&&y&&z.push(function(D){var ht,rt;const nt=(rt=(ht=D.theme.components)==null?void 0:ht[d])==null?void 0:rt.styleOverrides;if(!nt)return null;const mt={};for(const ot in nt)mt[ot]=Ld(D,nt[ot]);return y(D,mt)}),d&&!x&&z.push(function(D){var mt,ht;const X=D.theme,nt=(ht=(mt=X==null?void 0:X.components)==null?void 0:mt[d])==null?void 0:ht.variants;return nt?B$(D,nt):null}),C||z.push(Hs),Array.isArray(k[0])){const N=k.shift(),D=new Array(B.length).fill(""),X=new Array(z.length).fill("");let nt;nt=[...D,...N,...X],nt.raw=[...D,...N.raw,...X],B.unshift(nt)}const K=[...B,...k,...z],b=$(...K);return c.muiName&&(b.muiName=c.muiName),b};return $.withConfig&&(P.withConfig=$.withConfig),P}}function Ftt(t,e){return void 0}function Btt(t){for(const e in t)return!1;return!0}function jtt(t){return typeof t=="string"&&t.charCodeAt(0)>96}function Dtt(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}function Ah(t,e){const n={...e};for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const i=r;if(i==="components"||i==="slots")n[i]={...t[i],...n[i]};else if(i==="componentsProps"||i==="slotProps"){const s=t[i],a=e[i];if(!a)n[i]=s||{};else if(!s)n[i]=a;else{n[i]={...a};for(const c in s)if(Object.prototype.hasOwnProperty.call(s,c)){const l=c;n[i][l]=Ah(s[l],a[l])}}}else n[i]===void 0&&(n[i]=t[i])}return n}const ztt=typeof window<"u"?H.useLayoutEffect:H.useEffect;function Utt(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}function Bb(t,e=0,n=1){return Utt(t,e,n)}function Wtt(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function is(t){if(t.type)return t;if(t.charAt(0)==="#")return is(Wtt(t));const e=t.indexOf("("),n=t.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(Vs(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(Vs(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}const Ktt=t=>{const e=is(t);return e.values.slice(0,3).map((n,r)=>e.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},Lc=(t,e)=>{try{return Ktt(t)}catch{return t}};function og(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.includes("rgb")?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function j$(t){t=is(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),a=(d,h=(d+n/30)%12)=>i-s*Math.max(Math.min(h-3,9-h,1),-1);let c="rgb";const l=[Math.round(a(0)*255),Math.round(a(8)*255),Math.round(a(4)*255)];return t.type==="hsla"&&(c+="a",l.push(e[3])),og({type:c,values:l})}function zv(t){t=is(t);let e=t.type==="hsl"||t.type==="hsla"?is(j$(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function qtt(t,e){const n=zv(t),r=zv(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function Ho(t,e){return t=is(t),e=Bb(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,og(t)}function cd(t,e,n){try{return Ho(t,e)}catch{return t}}function jb(t,e){if(t=is(t),e=Bb(e),t.type.includes("hsl"))t.values[2]*=1-e;else if(t.type.includes("rgb")||t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]*=1-e;return og(t)}function Zt(t,e,n){try{return jb(t,e)}catch{return t}}function Db(t,e){if(t=is(t),e=Bb(e),t.type.includes("hsl"))t.values[2]+=(100-t.values[2])*e;else if(t.type.includes("rgb"))for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return og(t)}function te(t,e,n){try{return Db(t,e)}catch{return t}}function Vtt(t,e=.15){return zv(t)>.5?jb(t,e):Db(t,e)}function ld(t,e,n){try{return Vtt(t,e)}catch{return t}}function Htt(t,e){typeof t=="function"?t(e):t&&(t.current=e)}let SC=0;function Gtt(t){const[e,n]=H.useState(t),r=t||e;return H.useEffect(()=>{e==null&&(SC+=1,n(`mui-${SC}`))},[e]),r}const Jtt={...Cv},wC=Jtt.useId;function D$(t){if(wC!==void 0){const e=wC();return t??e}return Gtt(t)}function Fd(t){const e=H.useRef(t);return ztt(()=>{e.current=t}),H.useRef((...n)=>(0,e.current)(...n)).current}function EC(...t){return H.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{Htt(n,e)})},t)}const xC={};function z$(t,e){const n=H.useRef(xC);return n.current===xC&&(n.current=t(e)),n}const Ytt=[];function Xtt(t){H.useEffect(t,Ytt)}class zb{constructor(){_(this,"currentId",null);_(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});_(this,"disposeEffect",()=>this.clear)}static create(){return new zb}start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}}function Qtt(){const t=z$(zb.create).current;return Xtt(t.disposeEffect),t}function CC(t){try{return t.matches(":focus-visible")}catch{}return!1}function Ju(t,e,n=void 0){const r={};for(const i in t){const s=t[i];let a="",c=!0;for(let l=0;l<s.length;l+=1){const d=s[l];d&&(a+=(c===!0?"":" ")+e(d),c=!1,n&&n[d]&&(a+=" "+n[d]))}r[i]=a}return r}const Ztt=H.createContext(void 0);function tet(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const i=e.components[n];return i.defaultProps?Ah(i.defaultProps,r):!i.styleOverrides&&!i.variants?Ah(i,r):r}function eet({props:t,name:e}){const n=H.useContext(Ztt);return tet({props:t,name:e,theme:{components:n}})}const TC={theme:void 0};function net(t){let e,n;return function(i){let s=e;return(s===void 0||i.theme!==n)&&(TC.theme=i.theme,s=F$(t(TC)),e=s,n=i.theme),s}}function ret(t=""){function e(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${t?`${t}-`:""}${i}${e(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${t?`${t}-`:""}${r}${e(...i)})`}const OC=(t,e,n,r=[])=>{let i=t;e.forEach((s,a)=>{a===e.length-1?Array.isArray(i)?i[Number(s)]=n:i&&typeof i=="object"&&(i[s]=n):i&&typeof i=="object"&&(i[s]||(i[s]=r.includes(s)?[]:{}),i=i[s])})},iet=(t,e,n)=>{function r(i,s=[],a=[]){Object.entries(i).forEach(([c,l])=>{(!n||n&&!n([...s,c]))&&l!=null&&(typeof l=="object"&&Object.keys(l).length>0?r(l,[...s,c],Array.isArray(l)?[...a,c]:a):e([...s,c],l,a))})}r(t)},oet=(t,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>t.includes(r))||t[t.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function by(t,e){const{prefix:n,shouldSkipGeneratingVar:r}=e||{},i={},s={},a={};return iet(t,(c,l,d)=>{if((typeof l=="string"||typeof l=="number")&&(!r||!r(c,l))){const h=`--${n?`${n}-`:""}${c.join("-")}`,g=oet(c,l);Object.assign(i,{[h]:g}),OC(s,c,`var(${h})`,d),OC(a,c,`var(${h}, ${g})`,d)}},c=>c[0]==="vars"),{css:i,vars:s,varsWithDefaults:a}}function set(t,e={}){const{getSelector:n=C,disableCssColorScheme:r,colorSchemeSelector:i}=e,{colorSchemes:s={},components:a,defaultColorScheme:c="light",...l}=t,{vars:d,css:h,varsWithDefaults:g}=by(l,e);let m=g;const y={},{[c]:w,...x}=s;if(Object.entries(x||{}).forEach(([M,P])=>{const{vars:j,css:B,varsWithDefaults:k}=by(P,e);m=yr(m,k),y[M]={css:B,vars:j}}),w){const{css:M,vars:P,varsWithDefaults:j}=by(w,e);m=yr(m,j),y[c]={css:M,vars:P}}function C(M,P){var B,k;let j=i;if(i==="class"&&(j=".%s"),i==="data"&&(j="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(j=`[${i}="%s"]`),M){if(j==="media")return t.defaultColorScheme===M?":root":{[`@media (prefers-color-scheme: ${((k=(B=s[M])==null?void 0:B.palette)==null?void 0:k.mode)||M})`]:{":root":P}};if(j)return t.defaultColorScheme===M?`:root, ${j.replace("%s",String(M))}`:j.replace("%s",String(M))}return":root"}return{vars:m,generateThemeVars:()=>{let M={...d};return Object.entries(y).forEach(([,{vars:P}])=>{M=yr(M,P)}),M},generateStyleSheets:()=>{var z,K;const M=[],P=t.defaultColorScheme||"light";function j(b,N){Object.keys(N).length&&M.push(typeof b=="string"?{[b]:{...N}}:b)}j(n(void 0,{...h}),h);const{[P]:B,...k}=y;if(B){const{css:b}=B,N=(K=(z=s[P])==null?void 0:z.palette)==null?void 0:K.mode,D=!r&&N?{colorScheme:N,...b}:{...b};j(n(P,{...D}),D)}return Object.entries(k).forEach(([b,{css:N}])=>{var nt,mt;const D=(mt=(nt=s[b])==null?void 0:nt.palette)==null?void 0:mt.mode,X=!r&&D?{colorScheme:D,...N}:{...N};j(n(b,{...X}),X)}),M}}}function aet(t){return function(n){return t==="media"?`@media (prefers-color-scheme: ${n})`:t?t.startsWith("data-")&&!t.includes("%s")?`[${t}="${n}"] &`:t==="class"?`.${n} &`:t==="data"?`[data-${n}] &`:`${t.replace("%s",n)} &`:"&"}}function U$(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:hl.white,default:hl.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const uet=U$();function W$(){return{text:{primary:hl.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:hl.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const AC=W$();function kC(t,e,n,r){const i=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=Db(t.main,i):e==="dark"&&(t.dark=jb(t.main,s)))}function cet(t="light"){return t==="dark"?{main:Ra[200],light:Ra[50],dark:Ra[400]}:{main:Ra[700],light:Ra[400],dark:Ra[800]}}function fet(t="light"){return t==="dark"?{main:Pa[200],light:Pa[50],dark:Pa[400]}:{main:Pa[500],light:Pa[300],dark:Pa[700]}}function det(t="light"){return t==="dark"?{main:Ia[500],light:Ia[300],dark:Ia[700]}:{main:Ia[700],light:Ia[400],dark:Ia[800]}}function het(t="light"){return t==="dark"?{main:$a[400],light:$a[300],dark:$a[700]}:{main:$a[700],light:$a[500],dark:$a[900]}}function pet(t="light"){return t==="dark"?{main:Ma[400],light:Ma[300],dark:Ma[700]}:{main:Ma[800],light:Ma[500],dark:Ma[900]}}function get(t="light"){return t==="dark"?{main:Tc[400],light:Tc[300],dark:Tc[700]}:{main:"#ed6c02",light:Tc[500],dark:Tc[900]}}function Ub(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2,...i}=t,s=t.primary||cet(e),a=t.secondary||fet(e),c=t.error||det(e),l=t.info||het(e),d=t.success||pet(e),h=t.warning||get(e);function g(x){return qtt(x,AC.text.primary)>=n?AC.text.primary:uet.text.primary}const m=({color:x,name:C,mainShade:T=500,lightShade:$=300,darkShade:M=700})=>{if(x={...x},!x.main&&x[T]&&(x.main=x[T]),!x.hasOwnProperty("main"))throw new Error(Vs(11,C?` (${C})`:"",T));if(typeof x.main!="string")throw new Error(Vs(12,C?` (${C})`:"",JSON.stringify(x.main)));return kC(x,"light",$,r),kC(x,"dark",M,r),x.contrastText||(x.contrastText=g(x.main)),x};let y;return e==="light"?y=U$():e==="dark"&&(y=W$()),yr({common:{...hl},mode:e,primary:m({color:s,name:"primary"}),secondary:m({color:a,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:m({color:c,name:"error"}),warning:m({color:h,name:"warning"}),info:m({color:l,name:"info"}),success:m({color:d,name:"success"}),grey:EQ,contrastThreshold:n,getContrastText:g,augmentColor:m,tonalOffset:r,...y},i)}function met(t){const e={};return Object.entries(t).forEach(r=>{const[i,s]=r;typeof s=="object"&&(e[i]=`${s.fontStyle?`${s.fontStyle} `:""}${s.fontVariant?`${s.fontVariant} `:""}${s.fontWeight?`${s.fontWeight} `:""}${s.fontStretch?`${s.fontStretch} `:""}${s.fontSize||""}${s.lineHeight?`/${s.lineHeight} `:""}${s.fontFamily||""}`)}),e}function yet(t,e){return{toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}},...e}}function vet(t){return Math.round(t*1e5)/1e5}const IC={textTransform:"uppercase"},PC='"Roboto", "Helvetica", "Arial", sans-serif';function _et(t,e){const{fontFamily:n=PC,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:s=400,fontWeightMedium:a=500,fontWeightBold:c=700,htmlFontSize:l=16,allVariants:d,pxToRem:h,...g}=typeof e=="function"?e(t):e,m=r/14,y=h||(C=>`${C/l*m}rem`),w=(C,T,$,M,P)=>({fontFamily:n,fontWeight:C,fontSize:y(T),lineHeight:$,...n===PC?{letterSpacing:`${vet(M/T)}em`}:{},...P,...d}),x={h1:w(i,96,1.167,-1.5),h2:w(i,60,1.2,-.5),h3:w(s,48,1.167,0),h4:w(s,34,1.235,.25),h5:w(s,24,1.334,0),h6:w(a,20,1.6,.15),subtitle1:w(s,16,1.75,.15),subtitle2:w(a,14,1.57,.1),body1:w(s,16,1.5,.15),body2:w(s,14,1.43,.15),button:w(a,14,1.75,.4,IC),caption:w(s,12,1.66,.4),overline:w(s,12,2.66,1,IC),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return yr({htmlFontSize:l,pxToRem:y,fontFamily:n,fontSize:r,fontWeightLight:i,fontWeightRegular:s,fontWeightMedium:a,fontWeightBold:c,...x},g,{clone:!1})}const bet=.2,wet=.14,Eet=.12;function he(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${bet})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${wet})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${Eet})`].join(",")}const xet=["none",he(0,2,1,-1,0,1,1,0,0,1,3,0),he(0,3,1,-2,0,2,2,0,0,1,5,0),he(0,3,3,-2,0,3,4,0,0,1,8,0),he(0,2,4,-1,0,4,5,0,0,1,10,0),he(0,3,5,-1,0,5,8,0,0,1,14,0),he(0,3,5,-1,0,6,10,0,0,1,18,0),he(0,4,5,-2,0,7,10,1,0,2,16,1),he(0,5,5,-3,0,8,10,1,0,3,14,2),he(0,5,6,-3,0,9,12,1,0,3,16,2),he(0,6,6,-3,0,10,14,1,0,4,18,3),he(0,6,7,-4,0,11,15,1,0,4,20,3),he(0,7,8,-4,0,12,17,2,0,5,22,4),he(0,7,8,-4,0,13,19,2,0,5,24,4),he(0,7,9,-4,0,14,21,2,0,5,26,4),he(0,8,9,-5,0,15,22,2,0,6,28,5),he(0,8,10,-5,0,16,24,2,0,6,30,5),he(0,8,11,-5,0,17,26,2,0,6,32,5),he(0,9,11,-5,0,18,28,2,0,7,34,6),he(0,9,12,-6,0,19,29,2,0,7,36,6),he(0,10,13,-6,0,20,31,3,0,8,38,7),he(0,10,13,-6,0,21,33,3,0,8,40,7),he(0,10,14,-6,0,22,35,3,0,8,42,7),he(0,11,14,-7,0,23,36,3,0,9,44,8),he(0,11,15,-7,0,24,38,3,0,9,46,8)],Cet={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Tet={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function RC(t){return`${Math.round(t)}ms`}function Oet(t){if(!t)return 0;const e=t/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function Aet(t){const e={...Cet,...t.easing},n={...Tet,...t.duration};return{getAutoHeightDuration:Oet,create:(i=["all"],s={})=>{const{duration:a=n.standard,easing:c=e.easeInOut,delay:l=0,...d}=s;return(Array.isArray(i)?i:[i]).map(h=>`${h} ${typeof a=="string"?a:RC(a)} ${c} ${typeof l=="string"?l:RC(l)}`).join(",")},...t,easing:e,duration:n}}const ket={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function Iet(t){return Bi(t)||typeof t>"u"||typeof t=="string"||typeof t=="boolean"||typeof t=="number"||Array.isArray(t)}function K$(t={}){const e={...t};function n(r){const i=Object.entries(r);for(let s=0;s<i.length;s++){const[a,c]=i[s];!Iet(c)||a.startsWith("unstable_")?delete r[a]:Bi(c)&&(r[a]={...c},n(r[a]))}}return n(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function Uv(t={},...e){const{breakpoints:n,mixins:r={},spacing:i,palette:s={},transitions:a={},typography:c={},shape:l,...d}=t;if(t.vars&&t.generateThemeVars===void 0)throw new Error(Vs(20));const h=Ub(s),g=Fb(t);let m=yr(g,{mixins:yet(g.breakpoints,r),palette:h,shadows:xet.slice(),typography:_et(h,c),transitions:Aet(a),zIndex:{...ket}});return m=yr(m,d),m=e.reduce((y,w)=>yr(y,w),m),m.unstable_sxConfig={...nf,...d==null?void 0:d.unstable_sxConfig},m.unstable_sx=function(w){return Hs({sx:w,theme:this})},m.toRuntimeSource=K$,m}function Pet(t){let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,Math.round(e*10)/1e3}const Ret=[...Array(25)].map((t,e)=>{if(e===0)return"none";const n=Pet(e);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function q$(t){return{inputPlaceholder:t==="dark"?.5:.42,inputUnderline:t==="dark"?.7:.42,switchTrackDisabled:t==="dark"?.2:.12,switchTrack:t==="dark"?.3:.38}}function V$(t){return t==="dark"?Ret:[]}function $et(t){const{palette:e={mode:"light"},opacity:n,overlays:r,...i}=t,s=Ub(e);return{palette:s,opacity:{...q$(s.mode),...n},overlays:r||V$(s.mode),...i}}function Met(t){var e;return!!t[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!t[0].match(/sxConfig$/)||t[0]==="palette"&&!!((e=t[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const Net=t=>[...[...Array(25)].map((e,n)=>`--${t?`${t}-`:""}overlays-${n}`),`--${t?`${t}-`:""}palette-AppBar-darkBg`,`--${t?`${t}-`:""}palette-AppBar-darkColor`];var Let=t=>(e,n)=>{const r=t.rootSelector||":root",i=t.colorSchemeSelector;let s=i;if(i==="class"&&(s=".%s"),i==="data"&&(s="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(s=`[${i}="%s"]`),t.defaultColorScheme===e){if(e==="dark"){const a={};return Net(t.cssVarPrefix).forEach(c=>{a[c]=n[c],delete n[c]}),s==="media"?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:a}}:s?{[s.replace("%s",e)]:a,[`${r}, ${s.replace("%s",e)}`]:n}:{[r]:{...n,...a}}}if(s&&s!=="media")return`${r}, ${s.replace("%s",String(e))}`}else if(e){if(s==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:n}};if(s)return s.replace("%s",String(e))}return r};function Fet(t,e){e.forEach(n=>{t[n]||(t[n]={})})}function U(t,e,n){!t[e]&&n&&(t[e]=n)}function Fc(t){return typeof t!="string"||!t.startsWith("hsl")?t:j$(t)}function co(t,e){`${e}Channel`in t||(t[`${e}Channel`]=Lc(Fc(t[e])))}function Bet(t){return typeof t=="number"?`${t}px`:typeof t=="string"||typeof t=="function"||Array.isArray(t)?t:"8px"}const Ti=t=>{try{return t()}catch{}},jet=(t="mui")=>ret(t);function Sy(t,e,n,r){if(!e)return;e=e===!0?{}:e;const i=r==="dark"?"dark":"light";if(!n){t[r]=$et({...e,palette:{mode:i,...e==null?void 0:e.palette}});return}const{palette:s,...a}=Uv({...n,palette:{mode:i,...e==null?void 0:e.palette}});return t[r]={...e,palette:s,opacity:{...q$(i),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||V$(i)},a}function Det(t={},...e){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:s="mui",shouldSkipGeneratingVar:a=Met,colorSchemeSelector:c=n.light&&n.dark?"media":void 0,rootSelector:l=":root",...d}=t,h=Object.keys(n)[0],g=r||(n.light&&h!=="light"?"light":h),m=jet(s),{[g]:y,light:w,dark:x,...C}=n,T={...C};let $=y;if((g==="dark"&&!("dark"in n)||g==="light"&&!("light"in n))&&($=!0),!$)throw new Error(Vs(21,g));const M=Sy(T,$,d,g);w&&!T.light&&Sy(T,w,void 0,"light"),x&&!T.dark&&Sy(T,x,void 0,"dark");let P={defaultColorScheme:g,...M,cssVarPrefix:s,colorSchemeSelector:c,rootSelector:l,getCssVar:m,colorSchemes:T,font:{...met(M.typography),...M.font},spacing:Bet(d.spacing)};Object.keys(P.colorSchemes).forEach(K=>{const b=P.colorSchemes[K].palette,N=D=>{const X=D.split("-"),nt=X[1],mt=X[2];return m(D,b[nt][mt])};if(b.mode==="light"&&(U(b.common,"background","#fff"),U(b.common,"onBackground","#000")),b.mode==="dark"&&(U(b.common,"background","#000"),U(b.common,"onBackground","#fff")),Fet(b,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),b.mode==="light"){U(b.Alert,"errorColor",Zt(b.error.light,.6)),U(b.Alert,"infoColor",Zt(b.info.light,.6)),U(b.Alert,"successColor",Zt(b.success.light,.6)),U(b.Alert,"warningColor",Zt(b.warning.light,.6)),U(b.Alert,"errorFilledBg",N("palette-error-main")),U(b.Alert,"infoFilledBg",N("palette-info-main")),U(b.Alert,"successFilledBg",N("palette-success-main")),U(b.Alert,"warningFilledBg",N("palette-warning-main")),U(b.Alert,"errorFilledColor",Ti(()=>b.getContrastText(b.error.main))),U(b.Alert,"infoFilledColor",Ti(()=>b.getContrastText(b.info.main))),U(b.Alert,"successFilledColor",Ti(()=>b.getContrastText(b.success.main))),U(b.Alert,"warningFilledColor",Ti(()=>b.getContrastText(b.warning.main))),U(b.Alert,"errorStandardBg",te(b.error.light,.9)),U(b.Alert,"infoStandardBg",te(b.info.light,.9)),U(b.Alert,"successStandardBg",te(b.success.light,.9)),U(b.Alert,"warningStandardBg",te(b.warning.light,.9)),U(b.Alert,"errorIconColor",N("palette-error-main")),U(b.Alert,"infoIconColor",N("palette-info-main")),U(b.Alert,"successIconColor",N("palette-success-main")),U(b.Alert,"warningIconColor",N("palette-warning-main")),U(b.AppBar,"defaultBg",N("palette-grey-100")),U(b.Avatar,"defaultBg",N("palette-grey-400")),U(b.Button,"inheritContainedBg",N("palette-grey-300")),U(b.Button,"inheritContainedHoverBg",N("palette-grey-A100")),U(b.Chip,"defaultBorder",N("palette-grey-400")),U(b.Chip,"defaultAvatarColor",N("palette-grey-700")),U(b.Chip,"defaultIconColor",N("palette-grey-700")),U(b.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),U(b.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),U(b.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),U(b.LinearProgress,"primaryBg",te(b.primary.main,.62)),U(b.LinearProgress,"secondaryBg",te(b.secondary.main,.62)),U(b.LinearProgress,"errorBg",te(b.error.main,.62)),U(b.LinearProgress,"infoBg",te(b.info.main,.62)),U(b.LinearProgress,"successBg",te(b.success.main,.62)),U(b.LinearProgress,"warningBg",te(b.warning.main,.62)),U(b.Skeleton,"bg",`rgba(${N("palette-text-primaryChannel")} / 0.11)`),U(b.Slider,"primaryTrack",te(b.primary.main,.62)),U(b.Slider,"secondaryTrack",te(b.secondary.main,.62)),U(b.Slider,"errorTrack",te(b.error.main,.62)),U(b.Slider,"infoTrack",te(b.info.main,.62)),U(b.Slider,"successTrack",te(b.success.main,.62)),U(b.Slider,"warningTrack",te(b.warning.main,.62));const D=ld(b.background.default,.8);U(b.SnackbarContent,"bg",D),U(b.SnackbarContent,"color",Ti(()=>b.getContrastText(D))),U(b.SpeedDialAction,"fabHoverBg",ld(b.background.paper,.15)),U(b.StepConnector,"border",N("palette-grey-400")),U(b.StepContent,"border",N("palette-grey-400")),U(b.Switch,"defaultColor",N("palette-common-white")),U(b.Switch,"defaultDisabledColor",N("palette-grey-100")),U(b.Switch,"primaryDisabledColor",te(b.primary.main,.62)),U(b.Switch,"secondaryDisabledColor",te(b.secondary.main,.62)),U(b.Switch,"errorDisabledColor",te(b.error.main,.62)),U(b.Switch,"infoDisabledColor",te(b.info.main,.62)),U(b.Switch,"successDisabledColor",te(b.success.main,.62)),U(b.Switch,"warningDisabledColor",te(b.warning.main,.62)),U(b.TableCell,"border",te(cd(b.divider,1),.88)),U(b.Tooltip,"bg",cd(b.grey[700],.92))}if(b.mode==="dark"){U(b.Alert,"errorColor",te(b.error.light,.6)),U(b.Alert,"infoColor",te(b.info.light,.6)),U(b.Alert,"successColor",te(b.success.light,.6)),U(b.Alert,"warningColor",te(b.warning.light,.6)),U(b.Alert,"errorFilledBg",N("palette-error-dark")),U(b.Alert,"infoFilledBg",N("palette-info-dark")),U(b.Alert,"successFilledBg",N("palette-success-dark")),U(b.Alert,"warningFilledBg",N("palette-warning-dark")),U(b.Alert,"errorFilledColor",Ti(()=>b.getContrastText(b.error.dark))),U(b.Alert,"infoFilledColor",Ti(()=>b.getContrastText(b.info.dark))),U(b.Alert,"successFilledColor",Ti(()=>b.getContrastText(b.success.dark))),U(b.Alert,"warningFilledColor",Ti(()=>b.getContrastText(b.warning.dark))),U(b.Alert,"errorStandardBg",Zt(b.error.light,.9)),U(b.Alert,"infoStandardBg",Zt(b.info.light,.9)),U(b.Alert,"successStandardBg",Zt(b.success.light,.9)),U(b.Alert,"warningStandardBg",Zt(b.warning.light,.9)),U(b.Alert,"errorIconColor",N("palette-error-main")),U(b.Alert,"infoIconColor",N("palette-info-main")),U(b.Alert,"successIconColor",N("palette-success-main")),U(b.Alert,"warningIconColor",N("palette-warning-main")),U(b.AppBar,"defaultBg",N("palette-grey-900")),U(b.AppBar,"darkBg",N("palette-background-paper")),U(b.AppBar,"darkColor",N("palette-text-primary")),U(b.Avatar,"defaultBg",N("palette-grey-600")),U(b.Button,"inheritContainedBg",N("palette-grey-800")),U(b.Button,"inheritContainedHoverBg",N("palette-grey-700")),U(b.Chip,"defaultBorder",N("palette-grey-700")),U(b.Chip,"defaultAvatarColor",N("palette-grey-300")),U(b.Chip,"defaultIconColor",N("palette-grey-300")),U(b.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),U(b.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),U(b.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),U(b.LinearProgress,"primaryBg",Zt(b.primary.main,.5)),U(b.LinearProgress,"secondaryBg",Zt(b.secondary.main,.5)),U(b.LinearProgress,"errorBg",Zt(b.error.main,.5)),U(b.LinearProgress,"infoBg",Zt(b.info.main,.5)),U(b.LinearProgress,"successBg",Zt(b.success.main,.5)),U(b.LinearProgress,"warningBg",Zt(b.warning.main,.5)),U(b.Skeleton,"bg",`rgba(${N("palette-text-primaryChannel")} / 0.13)`),U(b.Slider,"primaryTrack",Zt(b.primary.main,.5)),U(b.Slider,"secondaryTrack",Zt(b.secondary.main,.5)),U(b.Slider,"errorTrack",Zt(b.error.main,.5)),U(b.Slider,"infoTrack",Zt(b.info.main,.5)),U(b.Slider,"successTrack",Zt(b.success.main,.5)),U(b.Slider,"warningTrack",Zt(b.warning.main,.5));const D=ld(b.background.default,.98);U(b.SnackbarContent,"bg",D),U(b.SnackbarContent,"color",Ti(()=>b.getContrastText(D))),U(b.SpeedDialAction,"fabHoverBg",ld(b.background.paper,.15)),U(b.StepConnector,"border",N("palette-grey-600")),U(b.StepContent,"border",N("palette-grey-600")),U(b.Switch,"defaultColor",N("palette-grey-300")),U(b.Switch,"defaultDisabledColor",N("palette-grey-600")),U(b.Switch,"primaryDisabledColor",Zt(b.primary.main,.55)),U(b.Switch,"secondaryDisabledColor",Zt(b.secondary.main,.55)),U(b.Switch,"errorDisabledColor",Zt(b.error.main,.55)),U(b.Switch,"infoDisabledColor",Zt(b.info.main,.55)),U(b.Switch,"successDisabledColor",Zt(b.success.main,.55)),U(b.Switch,"warningDisabledColor",Zt(b.warning.main,.55)),U(b.TableCell,"border",Zt(cd(b.divider,1),.68)),U(b.Tooltip,"bg",cd(b.grey[700],.92))}co(b.background,"default"),co(b.background,"paper"),co(b.common,"background"),co(b.common,"onBackground"),co(b,"divider"),Object.keys(b).forEach(D=>{const X=b[D];D!=="tonalOffset"&&X&&typeof X=="object"&&(X.main&&U(b[D],"mainChannel",Lc(Fc(X.main))),X.light&&U(b[D],"lightChannel",Lc(Fc(X.light))),X.dark&&U(b[D],"darkChannel",Lc(Fc(X.dark))),X.contrastText&&U(b[D],"contrastTextChannel",Lc(Fc(X.contrastText))),D==="text"&&(co(b[D],"primary"),co(b[D],"secondary")),D==="action"&&(X.active&&co(b[D],"active"),X.selected&&co(b[D],"selected")))})}),P=e.reduce((K,b)=>yr(K,b),P);const j={prefix:s,disableCssColorScheme:i,shouldSkipGeneratingVar:a,getSelector:Let(P)},{vars:B,generateThemeVars:k,generateStyleSheets:z}=set(P,j);return P.vars=B,Object.entries(P.colorSchemes[P.defaultColorScheme]).forEach(([K,b])=>{P[K]=b}),P.generateThemeVars=k,P.generateStyleSheets=z,P.generateSpacing=function(){return $$(d.spacing,Nb(this))},P.getColorSchemeSelector=aet(c),P.spacing=P.generateSpacing(),P.shouldSkipGeneratingVar=a,P.unstable_sxConfig={...nf,...d==null?void 0:d.unstable_sxConfig},P.unstable_sx=function(b){return Hs({sx:b,theme:this})},P.toRuntimeSource=K$,P}function $C(t,e,n){t.colorSchemes&&n&&(t.colorSchemes[e]={...n!==!0&&n,palette:Ub({...n===!0?{}:n.palette,mode:e})})}function H$(t={},...e){const{palette:n,cssVariables:r=!1,colorSchemes:i=n?void 0:{light:!0},defaultColorScheme:s=n==null?void 0:n.mode,...a}=t,c=s||"light",l=i==null?void 0:i[c],d={...i,...n?{[c]:{...typeof l!="boolean"&&l,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in t))return Uv(t,...e);let h=n;"palette"in t||d[c]&&(d[c]!==!0?h=d[c].palette:c==="dark"&&(h={mode:"dark"}));const g=Uv({...t,palette:h},...e);return g.defaultColorScheme=c,g.colorSchemes=d,g.palette.mode==="light"&&(g.colorSchemes.light={...d.light!==!0&&d.light,palette:g.palette},$C(g,"dark",d.dark)),g.palette.mode==="dark"&&(g.colorSchemes.dark={...d.dark!==!0&&d.dark,palette:g.palette},$C(g,"light",d.light)),g}return!n&&!("light"in d)&&c==="light"&&(d.light=!0),Det({...a,colorSchemes:d,defaultColorScheme:c,...typeof r!="boolean"&&r},...e)}const zet=H$();function Uet(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const G$=t=>Uet(t)&&t!=="classes",Kn=Ltt({themeId:c$,defaultTheme:zet,rootShouldForwardProp:G$});function Wet(){return M$}const Gs=net;function ca(t){return eet(t)}function Ket(t){return ua("MuiSvgIcon",t)}cs("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const qet=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${qt(e)}`,`fontSize${qt(n)}`]};return Ju(i,Ket,r)},Vet=Kn("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${qt(n.color)}`],e[`fontSize${qt(n.fontSize)}`]]}})(Gs(({theme:t})=>{var e,n,r,i,s,a,c,l,d,h,g,m,y,w;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(i=(e=t.transitions)==null?void 0:e.create)==null?void 0:i.call(e,"fill",{duration:(r=(n=(t.vars??t).transitions)==null?void 0:n.duration)==null?void 0:r.shorter}),variants:[{props:x=>!x.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((a=(s=t.typography)==null?void 0:s.pxToRem)==null?void 0:a.call(s,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((l=(c=t.typography)==null?void 0:c.pxToRem)==null?void 0:l.call(c,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((h=(d=t.typography)==null?void 0:d.pxToRem)==null?void 0:h.call(d,35))||"2.1875rem"}},...Object.entries((t.vars??t).palette).filter(([,x])=>x&&x.main).map(([x])=>{var C,T;return{props:{color:x},style:{color:(T=(C=(t.vars??t).palette)==null?void 0:C[x])==null?void 0:T.main}}}),{props:{color:"action"},style:{color:(m=(g=(t.vars??t).palette)==null?void 0:g.action)==null?void 0:m.active}},{props:{color:"disabled"},style:{color:(w=(y=(t.vars??t).palette)==null?void 0:y.action)==null?void 0:w.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),Wv=H.forwardRef(function(e,n){const r=ca({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:a="inherit",component:c="svg",fontSize:l="medium",htmlColor:d,inheritViewBox:h=!1,titleAccess:g,viewBox:m="0 0 24 24",...y}=r,w=H.isValidElement(i)&&i.type==="svg",x={...r,color:a,component:c,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:h,viewBox:m,hasSvgAsChild:w},C={};h||(C.viewBox=m);const T=qet(x);return G.jsxs(Vet,{as:c,className:ln(T.root,s),focusable:"false",color:d,"aria-hidden":g?void 0:!0,role:g?"img":void 0,ref:n,...C,...y,...w&&i.props,ownerState:x,children:[w?i.props.children:i,g?G.jsx("title",{children:g}):null]})});Wv.muiName="SvgIcon";function Wb(t,e){function n(r,i){return G.jsx(Wv,{"data-testid":`${e}Icon`,ref:i,...r,children:t})}return n.muiName=Wv.muiName,H.memo(H.forwardRef(n))}function Het(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Kv(t,e){return Kv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Kv(t,e)}function Get(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Kv(t,e)}var MC=ae.createContext(null);function Jet(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Kb(t,e){var n=function(s){return e&&H.isValidElement(s)?e(s):s},r=Object.create(null);return t&&H.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function Yet(t,e){t=t||{},e=e||{};function n(h){return h in e?e[h]:t[h]}var r=Object.create(null),i=[];for(var s in t)s in e?i.length&&(r[s]=i,i=[]):i.push(s);var a,c={};for(var l in e){if(r[l])for(a=0;a<r[l].length;a++){var d=r[l][a];c[r[l][a]]=n(d)}c[l]=n(l)}for(a=0;a<i.length;a++)c[i[a]]=n(i[a]);return c}function Is(t,e,n){return n[e]!=null?n[e]:t.props[e]}function Xet(t,e){return Kb(t.children,function(n){return H.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:Is(n,"appear",t),enter:Is(n,"enter",t),exit:Is(n,"exit",t)})})}function Qet(t,e,n){var r=Kb(t.children),i=Yet(e,r);return Object.keys(i).forEach(function(s){var a=i[s];if(H.isValidElement(a)){var c=s in e,l=s in r,d=e[s],h=H.isValidElement(d)&&!d.props.in;l&&(!c||h)?i[s]=H.cloneElement(a,{onExited:n.bind(null,a),in:!0,exit:Is(a,"exit",t),enter:Is(a,"enter",t)}):!l&&c&&!h?i[s]=H.cloneElement(a,{in:!1}):l&&c&&H.isValidElement(d)&&(i[s]=H.cloneElement(a,{onExited:n.bind(null,a),in:d.props.in,exit:Is(a,"exit",t),enter:Is(a,"enter",t)}))}}),i}var Zet=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},tnt={component:"div",childFactory:function(e){return e}},qb=function(t){Get(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var a=s.handleExited.bind(Jet(s));return s.state={contextValue:{isMounting:!0},handleExited:a,firstRender:!0},s}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,s){var a=s.children,c=s.handleExited,l=s.firstRender;return{children:l?Xet(i,c):Qet(i,a,c),firstRender:!1}},n.handleExited=function(i,s){var a=Kb(this.props.children);i.key in a||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(c){var l=Ch({},c.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,s=i.component,a=i.childFactory,c=Het(i,["component","childFactory"]),l=this.state.contextValue,d=Zet(this.state.children).map(a);return delete c.appear,delete c.enter,delete c.exit,s===null?ae.createElement(MC.Provider,{value:l},d):ae.createElement(MC.Provider,{value:l},ae.createElement(s,c,d))},e}(ae.Component);qb.propTypes={};qb.defaultProps=tnt;class kh{constructor(){_(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new kh}static use(){const e=z$(kh.create).current,[n,r]=H.useState(!1);return e.shouldMount=n,e.setShouldMount=r,H.useEffect(e.mountEffect,[n]),e}mount(){return this.mounted||(this.mounted=nnt(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.start(...e)})}stop(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.stop(...e)})}pulsate(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.pulsate(...e)})}}function ent(){return kh.use()}function nnt(){let t,e;const n=new Promise((r,i)=>{t=r,e=i});return n.resolve=t,n.reject=e,n}function rnt(t){const{className:e,classes:n,pulsate:r=!1,rippleX:i,rippleY:s,rippleSize:a,in:c,onExited:l,timeout:d}=t,[h,g]=H.useState(!1),m=ln(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),y={width:a,height:a,top:-(a/2)+s,left:-(a/2)+i},w=ln(n.child,h&&n.childLeaving,r&&n.childPulsate);return!c&&!h&&g(!0),H.useEffect(()=>{if(!c&&l!=null){const x=setTimeout(l,d);return()=>{clearTimeout(x)}}},[l,c,d]),G.jsx("span",{className:m,style:y,children:G.jsx("span",{className:w})})}const Ur=cs("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),qv=550,int=80,ont=Zl`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,snt=Zl`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,ant=Zl`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,unt=Kn("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),cnt=Kn(rnt,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${Ur.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${ont};
    animation-duration: ${qv}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  &.${Ur.ripplePulsate} {
    animation-duration: ${({theme:t})=>t.transitions.duration.shorter}ms;
  }

  & .${Ur.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${Ur.childLeaving} {
    opacity: 0;
    animation-name: ${snt};
    animation-duration: ${qv}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  & .${Ur.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${ant};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,lnt=H.forwardRef(function(e,n){const r=ca({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:a,...c}=r,[l,d]=H.useState([]),h=H.useRef(0),g=H.useRef(null);H.useEffect(()=>{g.current&&(g.current(),g.current=null)},[l]);const m=H.useRef(!1),y=Qtt(),w=H.useRef(null),x=H.useRef(null),C=H.useCallback(P=>{const{pulsate:j,rippleX:B,rippleY:k,rippleSize:z,cb:K}=P;d(b=>[...b,G.jsx(cnt,{classes:{ripple:ln(s.ripple,Ur.ripple),rippleVisible:ln(s.rippleVisible,Ur.rippleVisible),ripplePulsate:ln(s.ripplePulsate,Ur.ripplePulsate),child:ln(s.child,Ur.child),childLeaving:ln(s.childLeaving,Ur.childLeaving),childPulsate:ln(s.childPulsate,Ur.childPulsate)},timeout:qv,pulsate:j,rippleX:B,rippleY:k,rippleSize:z},h.current)]),h.current+=1,g.current=K},[s]),T=H.useCallback((P={},j={},B=()=>{})=>{const{pulsate:k=!1,center:z=i||j.pulsate,fakeElement:K=!1}=j;if((P==null?void 0:P.type)==="mousedown"&&m.current){m.current=!1;return}(P==null?void 0:P.type)==="touchstart"&&(m.current=!0);const b=K?null:x.current,N=b?b.getBoundingClientRect():{width:0,height:0,left:0,top:0};let D,X,nt;if(z||P===void 0||P.clientX===0&&P.clientY===0||!P.clientX&&!P.touches)D=Math.round(N.width/2),X=Math.round(N.height/2);else{const{clientX:mt,clientY:ht}=P.touches&&P.touches.length>0?P.touches[0]:P;D=Math.round(mt-N.left),X=Math.round(ht-N.top)}if(z)nt=Math.sqrt((2*N.width**2+N.height**2)/3),nt%2===0&&(nt+=1);else{const mt=Math.max(Math.abs((b?b.clientWidth:0)-D),D)*2+2,ht=Math.max(Math.abs((b?b.clientHeight:0)-X),X)*2+2;nt=Math.sqrt(mt**2+ht**2)}P!=null&&P.touches?w.current===null&&(w.current=()=>{C({pulsate:k,rippleX:D,rippleY:X,rippleSize:nt,cb:B})},y.start(int,()=>{w.current&&(w.current(),w.current=null)})):C({pulsate:k,rippleX:D,rippleY:X,rippleSize:nt,cb:B})},[i,C,y]),$=H.useCallback(()=>{T({},{pulsate:!0})},[T]),M=H.useCallback((P,j)=>{if(y.clear(),(P==null?void 0:P.type)==="touchend"&&w.current){w.current(),w.current=null,y.start(0,()=>{M(P,j)});return}w.current=null,d(B=>B.length>0?B.slice(1):B),g.current=j},[y]);return H.useImperativeHandle(n,()=>({pulsate:$,start:T,stop:M}),[$,T,M]),G.jsx(unt,{className:ln(Ur.root,s.root,a),ref:x,...c,children:G.jsx(qb,{component:null,exit:!0,children:l})})});function fnt(t){return ua("MuiButtonBase",t)}const dnt=cs("MuiButtonBase",["root","disabled","focusVisible"]),hnt=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:i}=t,a=Ju({root:["root",e&&"disabled",n&&"focusVisible"]},fnt,i);return n&&r&&(a.root+=` ${r}`),a},pnt=Kn("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${dnt.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),J$=H.forwardRef(function(e,n){const r=ca({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:a,className:c,component:l="button",disabled:d=!1,disableRipple:h=!1,disableTouchRipple:g=!1,focusRipple:m=!1,focusVisibleClassName:y,LinkComponent:w="a",onBlur:x,onClick:C,onContextMenu:T,onDragLeave:$,onFocus:M,onFocusVisible:P,onKeyDown:j,onKeyUp:B,onMouseDown:k,onMouseLeave:z,onMouseUp:K,onTouchEnd:b,onTouchMove:N,onTouchStart:D,tabIndex:X=0,TouchRippleProps:nt,touchRippleRef:mt,type:ht,...rt}=r,ot=H.useRef(null),Mt=ent(),Ze=EC(Mt.ref,mt),[ie,Oo]=H.useState(!1);d&&ie&&Oo(!1),H.useImperativeHandle(i,()=>({focusVisible:()=>{Oo(!0),ot.current.focus()}}),[]);const Yu=Mt.shouldMount&&!h&&!d;H.useEffect(()=>{ie&&m&&!h&&Mt.pulsate()},[h,m,ie,Mt]);const Xu=lo(Mt,"start",k,g),bi=lo(Mt,"stop",T,g),Ao=lo(Mt,"stop",$,g),ls=lo(Mt,"stop",K,g),Yi=lo(Mt,"stop",Q=>{ie&&Q.preventDefault(),z&&z(Q)},g),qn=lo(Mt,"start",D,g),Qu=lo(Mt,"stop",b,g),ko=lo(Mt,"stop",N,g),Io=lo(Mt,"stop",Q=>{CC(Q.target)||Oo(!1),x&&x(Q)},!1),la=Fd(Q=>{ot.current||(ot.current=Q.currentTarget),CC(Q.target)&&(Oo(!0),P&&P(Q)),M&&M(Q)}),tn=()=>{const Q=ot.current;return l&&l!=="button"&&!(Q.tagName==="A"&&Q.href)},Xi=Fd(Q=>{m&&!Q.repeat&&ie&&Q.key===" "&&Mt.stop(Q,()=>{Mt.start(Q)}),Q.target===Q.currentTarget&&tn()&&Q.key===" "&&Q.preventDefault(),j&&j(Q),Q.target===Q.currentTarget&&tn()&&Q.key==="Enter"&&!d&&(Q.preventDefault(),C&&C(Q))}),Zu=Fd(Q=>{m&&Q.key===" "&&ie&&!Q.defaultPrevented&&Mt.stop(Q,()=>{Mt.pulsate(Q)}),B&&B(Q),C&&Q.target===Q.currentTarget&&tn()&&Q.key===" "&&!Q.defaultPrevented&&C(Q)});let mn=l;mn==="button"&&(rt.href||rt.to)&&(mn=w);const Si={};mn==="button"?(Si.type=ht===void 0?"button":ht,Si.disabled=d):(!rt.href&&!rt.to&&(Si.role="button"),d&&(Si["aria-disabled"]=d));const tc=EC(n,ot),wi={...r,centerRipple:s,component:l,disabled:d,disableRipple:h,disableTouchRipple:g,focusRipple:m,tabIndex:X,focusVisible:ie},$n=hnt(wi);return G.jsxs(pnt,{as:mn,className:ln($n.root,c),ownerState:wi,onBlur:Io,onClick:C,onContextMenu:bi,onFocus:la,onKeyDown:Xi,onKeyUp:Zu,onMouseDown:Xu,onMouseLeave:Yi,onMouseUp:ls,onDragLeave:Ao,onTouchEnd:Qu,onTouchMove:ko,onTouchStart:qn,ref:tc,tabIndex:d?-1:X,type:ht,...Si,...rt,children:[a,Yu?G.jsx(lnt,{ref:Ze,center:s,...nt}):null]})});function lo(t,e,n,r=!1){return Fd(i=>(n&&n(i),r||t[e](i),!0))}function gnt(t){return typeof t.main=="string"}function mnt(t,e=[]){if(!gnt(t))return!1;for(const n of e)if(!t.hasOwnProperty(n)||typeof t[n]!="string")return!1;return!0}function yl(t=[]){return([,e])=>e&&mnt(e,t)}function ynt(t){return ua("MuiCircularProgress",t)}cs("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Uo=44,Vv=Zl`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,Hv=Zl`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,vnt=typeof Vv!="string"?Ib`
        animation: ${Vv} 1.4s linear infinite;
      `:null,_nt=typeof Hv!="string"?Ib`
        animation: ${Hv} 1.4s ease-in-out infinite;
      `:null,bnt=t=>{const{classes:e,variant:n,color:r,disableShrink:i}=t,s={root:["root",n,`color${qt(r)}`],svg:["svg"],circle:["circle",`circle${qt(n)}`,i&&"circleDisableShrink"]};return Ju(s,ynt,e)},Snt=Kn("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`color${qt(n.color)}`]]}})(Gs(({theme:t})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("transform")}},{props:{variant:"indeterminate"},style:vnt||{animation:`${Vv} 1.4s linear infinite`}},...Object.entries(t.palette).filter(yl()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}}))]}))),wnt=Kn("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(t,e)=>e.svg})({display:"block"}),Ent=Kn("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.circle,e[`circle${qt(n.variant)}`],n.disableShrink&&e.circleDisableShrink]}})(Gs(({theme:t})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink,style:_nt||{animation:`${Hv} 1.4s ease-in-out infinite`}}]}))),Y$=H.forwardRef(function(e,n){const r=ca({props:e,name:"MuiCircularProgress"}),{className:i,color:s="primary",disableShrink:a=!1,size:c=40,style:l,thickness:d=3.6,value:h=0,variant:g="indeterminate",...m}=r,y={...r,color:s,disableShrink:a,size:c,thickness:d,value:h,variant:g},w=bnt(y),x={},C={},T={};if(g==="determinate"){const $=2*Math.PI*((Uo-d)/2);x.strokeDasharray=$.toFixed(3),T["aria-valuenow"]=Math.round(h),x.strokeDashoffset=`${((100-h)/100*$).toFixed(3)}px`,C.transform="rotate(-90deg)"}return G.jsx(Snt,{className:ln(w.root,i),style:{width:c,height:c,...C,...l},ownerState:y,ref:n,role:"progressbar",...T,...m,children:G.jsx(wnt,{className:w.svg,ownerState:y,viewBox:`${Uo/2} ${Uo/2} ${Uo} ${Uo}`,children:G.jsx(Ent,{className:w.circle,style:x,ownerState:y,cx:Uo,cy:Uo,r:(Uo-d)/2,fill:"none",strokeWidth:d})})})});function xnt(t){return ua("MuiIconButton",t)}const NC=cs("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),Cnt=t=>{const{classes:e,disabled:n,color:r,edge:i,size:s,loading:a}=t,c={root:["root",a&&"loading",n&&"disabled",r!=="default"&&`color${qt(r)}`,i&&`edge${qt(i)}`,`size${qt(s)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return Ju(c,xnt,e)},Tnt=Kn(J$,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.loading&&e.loading,n.color!=="default"&&e[`color${qt(n.color)}`],n.edge&&e[`edge${qt(n.edge)}`],e[`size${qt(n.size)}`]]}})(Gs(({theme:t})=>({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:Ho(t.palette.action.active,t.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),Gs(({theme:t})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(t.palette).filter(yl()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}})),...Object.entries(t.palette).filter(yl()).map(([e])=>({props:{color:e},style:{"--IconButton-hoverBg":t.vars?`rgba(${(t.vars||t).palette[e].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Ho((t.vars||t).palette[e].main,t.palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:t.typography.pxToRem(28)}}],[`&.${NC.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled},[`&.${NC.loading}`]:{color:"transparent"}}))),Ont=Kn("span",{name:"MuiIconButton",slot:"LoadingIndicator",overridesResolver:(t,e)=>e.loadingIndicator})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(t.vars||t).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),Vb=H.forwardRef(function(e,n){const r=ca({props:e,name:"MuiIconButton"}),{edge:i=!1,children:s,className:a,color:c="default",disabled:l=!1,disableFocusRipple:d=!1,size:h="medium",id:g,loading:m=null,loadingIndicator:y,...w}=r,x=D$(g),C=y??G.jsx(Y$,{"aria-labelledby":x,color:"inherit",size:16}),T={...r,edge:i,color:c,disabled:l,disableFocusRipple:d,loading:m,loadingIndicator:C,size:h},$=Cnt(T);return G.jsxs(Tnt,{id:m?x:g,className:ln($.root,a),centerRipple:!0,focusRipple:!d,disabled:l||m,ref:n,...w,ownerState:T,children:[typeof m=="boolean"&&G.jsx("span",{className:$.loadingWrapper,style:{display:"contents"},children:G.jsx(Ont,{className:$.loadingIndicator,ownerState:T,children:m&&C})}),s]})});function Ant(t){return ua("MuiTypography",t)}cs("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const knt={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},Int=Wet(),Pnt=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:i,variant:s,classes:a}=t,c={root:["root",s,t.align!=="inherit"&&`align${qt(e)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return Ju(c,Ant,a)},Rnt=Kn("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${qt(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(Gs(({theme:t})=>{var e;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(t.typography).filter(([n,r])=>n!=="inherit"&&r&&typeof r=="object").map(([n,r])=>({props:{variant:n},style:r})),...Object.entries(t.palette).filter(yl()).map(([n])=>({props:{color:n},style:{color:(t.vars||t).palette[n].main}})),...Object.entries(((e=t.palette)==null?void 0:e.text)||{}).filter(([,n])=>typeof n=="string").map(([n])=>({props:{color:`text${qt(n)}`},style:{color:(t.vars||t).palette.text[n]}})),{props:({ownerState:n})=>n.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:n})=>n.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:n})=>n.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:n})=>n.paragraph,style:{marginBottom:16}}]}})),LC={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},To=H.forwardRef(function(e,n){const{color:r,...i}=ca({props:e,name:"MuiTypography"}),s=!knt[r],a=Int({...i,...s&&{color:r}}),{align:c="inherit",className:l,component:d,gutterBottom:h=!1,noWrap:g=!1,paragraph:m=!1,variant:y="body1",variantMapping:w=LC,...x}=a,C={...a,align:c,color:r,className:l,component:d,gutterBottom:h,noWrap:g,paragraph:m,variant:y,variantMapping:w},T=d||(m?"p":w[y]||LC[y])||"span",$=Pnt(C);return G.jsx(Rnt,{as:T,ref:n,className:ln($.root,l),...x,ownerState:C,style:{...c!=="inherit"&&{"--Typography-textAlign":c},...x.style}})}),$nt=cs("MuiBox",["root"]),Mnt=H$(),Hr=Ptt({themeId:c$,defaultTheme:Mnt,defaultClassName:$nt.root,generateClassName:N$.generate});function Nnt(t){return ua("MuiButton",t)}const Ss=cs("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),Lnt=H.createContext({}),Fnt=H.createContext(void 0),Bnt=t=>{const{color:e,disableElevation:n,fullWidth:r,size:i,variant:s,loading:a,loadingPosition:c,classes:l}=t,d={root:["root",a&&"loading",s,`${s}${qt(e)}`,`size${qt(i)}`,`${s}Size${qt(i)}`,`color${qt(e)}`,n&&"disableElevation",r&&"fullWidth",a&&`loadingPosition${qt(c)}`],startIcon:["icon","startIcon",`iconSize${qt(i)}`],endIcon:["icon","endIcon",`iconSize${qt(i)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},h=Ju(d,Nnt,l);return{...l,...h}},X$=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],jnt=Kn(J$,{shouldForwardProp:t=>G$(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${qt(n.color)}`],e[`size${qt(n.size)}`],e[`${n.variant}Size${qt(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth,n.loading&&e.loading]}})(Gs(({theme:t})=>{const e=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],n=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return{...t.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${Ss.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(t.vars||t).shadows[2],"&:hover":{boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2]}},"&:active":{boxShadow:(t.vars||t).shadows[8]},[`&.${Ss.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]},[`&.${Ss.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${Ss.disabled}`]:{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(t.palette).filter(yl()).map(([r])=>({props:{color:r},style:{"--variant-textColor":(t.vars||t).palette[r].main,"--variant-outlinedColor":(t.vars||t).palette[r].main,"--variant-outlinedBorder":t.vars?`rgba(${t.vars.palette[r].mainChannel} / 0.5)`:Ho(t.palette[r].main,.5),"--variant-containedColor":(t.vars||t).palette[r].contrastText,"--variant-containedBg":(t.vars||t).palette[r].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(t.vars||t).palette[r].dark,"--variant-textBg":t.vars?`rgba(${t.vars.palette[r].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Ho(t.palette[r].main,t.palette.action.hoverOpacity),"--variant-outlinedBorder":(t.vars||t).palette[r].main,"--variant-outlinedBg":t.vars?`rgba(${t.vars.palette[r].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Ho(t.palette[r].main,t.palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedBg:e,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedHoverBg:n,"--variant-textBg":t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:Ho(t.palette.text.primary,t.palette.action.hoverOpacity),"--variant-outlinedBg":t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:Ho(t.palette.text.primary,t.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:t.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Ss.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Ss.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),[`&.${Ss.loading}`]:{color:"transparent"}}}]}})),Dnt=Kn("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,n.loading&&e.startIconLoadingStart,e[`iconSize${qt(n.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...X$]})),znt=Kn("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,n.loading&&e.endIconLoadingEnd,e[`iconSize${qt(n.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...X$]})),Unt=Kn("span",{name:"MuiButton",slot:"LoadingIndicator",overridesResolver:(t,e)=>e.loadingIndicator})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(t.vars||t).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),FC=Kn("span",{name:"MuiButton",slot:"LoadingIconPlaceholder",overridesResolver:(t,e)=>e.loadingIconPlaceholder})({display:"inline-block",width:"1em",height:"1em"}),Wnt=H.forwardRef(function(e,n){const r=H.useContext(Lnt),i=H.useContext(Fnt),s=Ah(r,e),a=ca({props:s,name:"MuiButton"}),{children:c,color:l="primary",component:d="button",className:h,disabled:g=!1,disableElevation:m=!1,disableFocusRipple:y=!1,endIcon:w,focusVisibleClassName:x,fullWidth:C=!1,id:T,loading:$=null,loadingIndicator:M,loadingPosition:P="center",size:j="medium",startIcon:B,type:k,variant:z="text",...K}=a,b=D$(T),N=M??G.jsx(Y$,{"aria-labelledby":b,color:"inherit",size:16}),D={...a,color:l,component:d,disabled:g,disableElevation:m,disableFocusRipple:y,fullWidth:C,loading:$,loadingIndicator:N,loadingPosition:P,size:j,type:k,variant:z},X=Bnt(D),nt=(B||$&&P==="start")&&G.jsx(Dnt,{className:X.startIcon,ownerState:D,children:B||G.jsx(FC,{className:X.loadingIconPlaceholder,ownerState:D})}),mt=(w||$&&P==="end")&&G.jsx(znt,{className:X.endIcon,ownerState:D,children:w||G.jsx(FC,{className:X.loadingIconPlaceholder,ownerState:D})}),ht=i||"",rt=typeof $=="boolean"?G.jsx("span",{className:X.loadingWrapper,style:{display:"contents"},children:$&&G.jsx(Unt,{className:X.loadingIndicator,ownerState:D,children:N})}):null;return G.jsxs(jnt,{ownerState:D,className:ln(r.className,X.root,h,ht),component:d,disabled:g||$,focusRipple:!y,focusVisibleClassName:ln(X.focusVisible,x),ref:n,type:k,id:$?b:T,...K,classes:X,children:[nt,P!=="end"&&rt,c,P==="end"&&rt,mt]})}),_i=({children:t})=>G.jsx(Hr,{sx:{height:100,width:"100%",display:"flex"},children:t}),Knt=pt({label:Qn(Dn),border:Qn(pt({sizePx:Qn(Le),color:Qn(Dn)})),visible:Qn(C_)}),qnt=()=>({}),Vnt=t=>({widget:_e.intersect(t.widget,Knt,qnt),Component:t.Component}),Zr={of:Vnt};var Hnt=Wb(G.jsx("path",{d:"M8 5v14l11-7z"}),"PlayArrow");const Gnt=({onPlay:t})=>G.jsx(Hr,{sx:{borderRadius:"5px",backgroundColor:"success.main"},children:G.jsx(Vb,{sx:{width:100,height:100},"aria-label":"play",onClick:t,children:G.jsx(Hnt,{sx:{fontSize:80}})})});var Jnt=Wb(G.jsx("path",{d:"M6 6h12v12H6z"}),"Stop");const Ynt=({onStop:t})=>G.jsx(Hr,{sx:{borderRadius:"5px",backgroundColor:"error.main"},children:G.jsx(Vb,{sx:{width:100,height:100},"aria-label":"play",onClick:t,children:G.jsx(Jnt,{sx:{fontSize:80}})})}),Xnt=Zr.of({widget:n$,Component:(t,e,n)=>G.jsx(_i,{children:n.color===t.playColor?G.jsx(Gnt,{onPlay:()=>e(t.target)}):G.jsx(Ynt,{onStop:()=>e(t.target)})})}),Qnt=Zr.of({widget:r$,Component:(t,e,n)=>{var i,s,a;const r=((a=(s=(i=st.head(n))==null?void 0:i.options)==null?void 0:s.timeSignature)==null?void 0:a.noteCount)||8;return G.jsx(_i,{children:n.slice(0,r).map((c,l)=>G.jsx(Hr,{sx:{borderRadius:"5px",border:"1px solid black",width:100,backgroundColor:`#${c.color===tt.BLACK?"777777":tt.toHex(c.color)}`,display:"flex"},children:G.jsx(To,{sx:{width:"100%"},variant:"h1",lineHeight:1,align:"center",children:l+1})},l))})}}),Znt=_e.one({name:"active-clip",schema:pt({trackName:Dn}),init:()=>({trackName:"Track"}),tracks:t=>[t.trackName],component:({target:t,trackName:e})=>{const n=Vt.useTrack(e),r=Vt.useActiveClip(n);return G.jsx("pad",{target:t,color:r.type==="real"?r.color:tt.BLACK,options:{label:r.type==="real"?r.name:void 0}})}}),trt=Zr.of({widget:Znt,Component:(t,e,n)=>{var r;return G.jsx(_i,{children:G.jsx(To,{sx:{borderRadius:"5px",width:"100%",px:1,backgroundColor:`#${tt.toHex(n.color)}`},variant:"h1",lineHeight:1,align:"center",children:((r=n.options)==null?void 0:r.label)||""})})}}),ert=t=>{const e=st.fromPairs(st.map(t,a=>[a.widget.name,a])),n=a=>e[a],r=(a,c,l)=>{const d=n(a._tag);return a.target!==void 0?d.Component(a,c,state(l).one(a.target)):a.targets!==void 0?d.Component(a,c,state(l).many(a.targets)):d.Component(a)},i=st.map(t,a=>a.widget),s=ss(...i.map(a=>a.schema));return{widgets:t,controllerWidgets:i,getByName:n,Component:r,schema:s}},nrt=_e.one({name:"tempo",schema:pt({}),init:()=>({}),component:({target:t})=>{const e=Vt.useTempo();return G.jsx("pad",{color:tt.BLACK,target:t,options:{label:e}})}}),rrt=Zr.of({widget:nrt,Component:(t,e,n)=>{var r;return G.jsx(_i,{children:G.jsx(To,{sx:{borderRadius:"5px",width:"100%",backgroundColor:`#${tt.toHex(n.color)}`},variant:"h1",lineHeight:1,align:"center",children:((r=n.options)==null?void 0:r.label)||"0"})})}}),irt=_e.one({name:"time-signature",schema:pt({}),init:()=>({}),component:({target:t})=>{const e=Vt.useTimeSignature();return G.jsx("pad",{color:tt.BLACK,target:t,options:{label:`${e.noteCount}/${e.noteLength}`}})}}),ort=Zr.of({widget:irt,Component:(t,e,n)=>{var r;return G.jsx(_i,{children:G.jsx(To,{sx:{borderRadius:"5px",width:"100%",backgroundColor:`#${tt.toHex(n.color)}`},variant:"h1",lineHeight:1,align:"center",children:((r=n.options)==null?void 0:r.label)||"4/4"})})}}),srt=_e.one({name:"beat",schema:pt({}),init:()=>({}),component:({target:t})=>{const e=Vt.useBarBeats();return G.jsx("pad",{color:tt.BLACK,target:t,options:{label:`${e}`}})}}),art=Zr.of({widget:srt,Component:(t,e,n)=>{var r;return G.jsx(_i,{children:G.jsx(To,{sx:{borderRadius:"5px",width:"100%",backgroundColor:`#${tt.toHex(n.color)}`},variant:"h1",lineHeight:1,align:"center",children:((r=n.options)==null?void 0:r.label)||"0"})})}}),urt=Zr.of({widget:i$,Component:(t,e,n)=>G.jsx(_i,{children:n.map((r,i)=>{var s;return r.options!==void 0?G.jsx(Hr,{sx:{borderRadius:"5px",border:"1px solid black",backgroundColor:`#${tt.toHex(r.color)}`,display:"flex",width:100,cursor:"pointer",alignItems:"center",justifyContent:"center"},onClick:()=>e(r.target),children:G.jsx(To,{sx:{width:"100%",px:1},lineHeight:1,align:"center",children:((s=r.options)==null?void 0:s.label)||""})},i):null})})}),crt=t=>{var e;return((e=t.options)==null?void 0:e.isActive)||!1},lrt=Zr.of({widget:o$,Component:(t,e,n)=>G.jsx(_i,{children:n.map((r,i)=>{var s,a,c;return r.options!==void 0?G.jsxs(Hr,{sx:{position:"relative",borderRadius:"5px",border:"1px solid black",backgroundColor:`#${tt.toHex(r.color)}`,display:"flex",width:100,alignItems:"center",justifyContent:"center"},children:[crt(r)&&((s=r.options)==null?void 0:s.progress)!==void 0?G.jsx(Hr,{sx:{position:"absolute",top:0,left:(a=r.options)==null?void 0:a.progress,height:"100%",width:"5px",backgroundColor:"black"}}):null,G.jsx(To,{sx:{width:"100%",px:1},lineHeight:1,align:"center",children:((c=r.options)==null?void 0:c.label)||""})]},i):null})})}),frt=Zr.of({widget:_e.none({name:"spacer",schema:pt({width:Le,isLineBreaking:Qn(C_)}),init:()=>({width:100}),component:({})=>G.jsx(G.Fragment,{})}),Component:t=>G.jsx(Hr,{sx:{width:`${t.width}px`}})}),drt=Zr.of({widget:s$,Component:(t,e,n)=>{var r,i,s;return G.jsx(_i,{children:G.jsx(Wnt,{sx:{height:100,width:100,backgroundColor:`#${tt.toHex(t.color)}`,textDecoration:"none"},onClick:()=>e(n.target),variant:"text",children:G.jsx(To,{sx:{fontWeight:"bold",color:`#${tt.toHex(((r=t.text)==null?void 0:r.color)||tt.BLACK)}`,fontSize:(i=t.text)==null?void 0:i.size},children:((s=t.text)==null?void 0:s.content)||""})})})}}),hrt=On("midi-note-vary-velocity",{note:Le,...na.fields}),prt=On("midi-note-vary-note",{velocity:Le,...na.fields}),grt=On("midi-cc-vary-data",{controllerNumber:Le,...na.fields}),mrt=ss(prt,hrt,grt),yrt=_e.one({name:"knob",schema:pt({color:tt.Schema,midi:mrt,text:Qn(pt({content:Dn,color:Qn(tt.Schema),size:Qn(Dn)}))}),init:()=>({color:tt.GREEN,midi:{_tag:"midi-note-vary-velocity",note:1,channel:1}}),component:({target:t,color:e,midi:n})=>(as.useDawEmitter(),G.jsx(bo,{color:e,target:t,onClick:()=>{console.log("idk what to do here yet")}}))});var vrt={};function _rt(t){if(Array.isArray(t))return t}function brt(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,c=[],l=!0,d=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(c.push(r.value),c.length!==e);l=!0);}catch(h){d=!0,i=h}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(d)throw i}}return c}}function Gv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Q$(t,e){if(t){if(typeof t=="string")return Gv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gv(t,e)}}function Srt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bd(t,e){return _rt(t)||brt(t,e)||Q$(t,e)||Srt()}function fn(t){"@babel/helpers - typeof";return fn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fn(t)}function Ih(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(e){for(var r=[],i=0;i<e.length;i++){var s=e[i];if(s){var a=fn(s);if(a==="string"||a==="number")r.push(s);else if(a==="object"){var c=Array.isArray(s)?s:Object.entries(s).map(function(l){var d=Bd(l,2),h=d[0],g=d[1];return g?h:null});r=c.length?r.concat(c.filter(function(l){return!!l})):r}}}return r.join(" ").trim()}}function wrt(t){if(Array.isArray(t))return Gv(t)}function Ert(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function xrt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jv(t){return wrt(t)||Ert(t)||Q$(t)||xrt()}function Z$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Crt(t,e){if(fn(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fn(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tM(t){var e=Crt(t,"string");return fn(e)==="symbol"?e:String(e)}function Trt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,tM(r.key),r)}}function eM(t,e,n){return n&&Trt(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hb(t,e,n){return e=tM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wy(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Ort(t))||e){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(d){throw d},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,a=!1,c;return{s:function(){n=n.call(t)},n:function(){var d=n.next();return s=d.done,d},e:function(d){a=!0,c=d},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(a)throw c}}}}function Ort(t,e){if(t){if(typeof t=="string")return BC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BC(t,e)}}function BC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ls=function(){function t(){Z$(this,t)}return eM(t,null,[{key:"innerWidth",value:function(n){if(n){var r=n.offsetWidth,i=getComputedStyle(n);return r=r+(parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)),r}return 0}},{key:"width",value:function(n){if(n){var r=n.offsetWidth,i=getComputedStyle(n);return r=r-(parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)),r}return 0}},{key:"getBrowserLanguage",value:function(){return navigator.userLanguage||navigator.languages&&navigator.languages.length&&navigator.languages[0]||navigator.language||navigator.browserLanguage||navigator.systemLanguage||"en"}},{key:"getWindowScrollTop",value:function(){var n=document.documentElement;return(window.pageYOffset||n.scrollTop)-(n.clientTop||0)}},{key:"getWindowScrollLeft",value:function(){var n=document.documentElement;return(window.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}},{key:"getOuterWidth",value:function(n,r){if(n){var i=n.getBoundingClientRect().width||n.offsetWidth;if(r){var s=getComputedStyle(n);i=i+(parseFloat(s.marginLeft)+parseFloat(s.marginRight))}return i}return 0}},{key:"getOuterHeight",value:function(n,r){if(n){var i=n.getBoundingClientRect().height||n.offsetHeight;if(r){var s=getComputedStyle(n);i=i+(parseFloat(s.marginTop)+parseFloat(s.marginBottom))}return i}return 0}},{key:"getClientHeight",value:function(n,r){if(n){var i=n.clientHeight;if(r){var s=getComputedStyle(n);i=i+(parseFloat(s.marginTop)+parseFloat(s.marginBottom))}return i}return 0}},{key:"getClientWidth",value:function(n,r){if(n){var i=n.clientWidth;if(r){var s=getComputedStyle(n);i=i+(parseFloat(s.marginLeft)+parseFloat(s.marginRight))}return i}return 0}},{key:"getViewport",value:function(){var n=window,r=document,i=r.documentElement,s=r.getElementsByTagName("body")[0],a=n.innerWidth||i.clientWidth||s.clientWidth,c=n.innerHeight||i.clientHeight||s.clientHeight;return{width:a,height:c}}},{key:"getOffset",value:function(n){if(n){var r=n.getBoundingClientRect();return{top:r.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:r.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}return{top:"auto",left:"auto"}}},{key:"index",value:function(n){if(n)for(var r=n.parentNode.childNodes,i=0,s=0;s<r.length;s++){if(r[s]===n)return i;r[s].nodeType===1&&i++}return-1}},{key:"addMultipleClasses",value:function(n,r){if(n&&r)if(n.classList)for(var i=r.split(" "),s=0;s<i.length;s++)n.classList.add(i[s]);else for(var a=r.split(" "),c=0;c<a.length;c++)n.className=n.className+(" "+a[c])}},{key:"removeMultipleClasses",value:function(n,r){if(n&&r)if(n.classList)for(var i=r.split(" "),s=0;s<i.length;s++)n.classList.remove(i[s]);else for(var a=r.split(" "),c=0;c<a.length;c++)n.className=n.className.replace(new RegExp("(^|\\b)"+a[c].split(" ").join("|")+"(\\b|$)","gi")," ")}},{key:"addClass",value:function(n,r){n&&r&&(n.classList?n.classList.add(r):n.className=n.className+(" "+r))}},{key:"removeClass",value:function(n,r){n&&r&&(n.classList?n.classList.remove(r):n.className=n.className.replace(new RegExp("(^|\\b)"+r.split(" ").join("|")+"(\\b|$)","gi")," "))}},{key:"hasClass",value:function(n,r){return n?n.classList?n.classList.contains(r):new RegExp("(^| )"+r+"( |$)","gi").test(n.className):!1}},{key:"addStyles",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};n&&Object.entries(r).forEach(function(i){var s=Bd(i,2),a=s[0],c=s[1];return n.style[a]=c})}},{key:"find",value:function(n,r){return n?Array.from(n.querySelectorAll(r)):[]}},{key:"findSingle",value:function(n,r){return n?n.querySelector(r):null}},{key:"setAttributes",value:function(n){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(n){var s=function(c,l){var d,h,g=n!=null&&(d=n.$attrs)!==null&&d!==void 0&&d[c]?[n==null||(h=n.$attrs)===null||h===void 0?void 0:h[c]]:[];return[l].flat().reduce(function(m,y){if(y!=null){var w=fn(y);if(w==="string"||w==="number")m.push(y);else if(w==="object"){var x=Array.isArray(y)?s(c,y):Object.entries(y).map(function(C){var T=Bd(C,2),$=T[0],M=T[1];return c==="style"&&(M||M===0)?"".concat($.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),":").concat(M):M?$:void 0});m=x.length?m.concat(x.filter(function(C){return!!C})):m}}return m},g)};Object.entries(i).forEach(function(a){var c=Bd(a,2),l=c[0],d=c[1];if(d!=null){var h=l.match(/^on(.+)/);h?n.addEventListener(h[1].toLowerCase(),d):l==="p-bind"?r.setAttributes(n,d):(d=l==="class"?Jv(new Set(s("class",d))).join(" ").trim():l==="style"?s("style",d).join(";").trim():d,(n.$attrs=n.$attrs||{})&&(n.$attrs[l]=d),n.setAttribute(l,d))}})}}},{key:"getAttribute",value:function(n,r){if(n){var i=n.getAttribute(r);return isNaN(i)?i==="true"||i==="false"?i==="true":i:+i}}},{key:"isAttributeEquals",value:function(n,r,i){return n?this.getAttribute(n,r)===i:!1}},{key:"isAttributeNotEquals",value:function(n,r,i){return!this.isAttributeEquals(n,r,i)}},{key:"getHeight",value:function(n){if(n){var r=n.offsetHeight,i=getComputedStyle(n);return r=r-(parseFloat(i.paddingTop)+parseFloat(i.paddingBottom)+parseFloat(i.borderTopWidth)+parseFloat(i.borderBottomWidth)),r}return 0}},{key:"getWidth",value:function(n){if(n){var r=n.offsetWidth,i=getComputedStyle(n);return r=r-(parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)+parseFloat(i.borderLeftWidth)+parseFloat(i.borderRightWidth)),r}return 0}},{key:"alignOverlay",value:function(n,r,i){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;n&&r&&(i==="self"?this.relativePosition(n,r):(s&&(n.style.minWidth=t.getOuterWidth(r)+"px"),this.absolutePosition(n,r)))}},{key:"absolutePosition",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"left";if(n&&r){var s=n.offsetParent?{width:n.offsetWidth,height:n.offsetHeight}:this.getHiddenElementDimensions(n),a=s.height,c=s.width,l=r.offsetHeight,d=r.offsetWidth,h=r.getBoundingClientRect(),g=this.getWindowScrollTop(),m=this.getWindowScrollLeft(),y=this.getViewport(),w,x;h.top+l+a>y.height?(w=h.top+g-a,w<0&&(w=g),n.style.transformOrigin="bottom"):(w=l+h.top+g,n.style.transformOrigin="top");var C=h.left,T=i==="left"?0:c-d;C+d+c>y.width?x=Math.max(0,C+m+d-c):x=C-T+m,n.style.top=w+"px",n.style.left=x+"px"}}},{key:"relativePosition",value:function(n,r){if(n&&r){var i=n.offsetParent?{width:n.offsetWidth,height:n.offsetHeight}:this.getHiddenElementDimensions(n),s=r.offsetHeight,a=r.getBoundingClientRect(),c=this.getViewport(),l,d;a.top+s+i.height>c.height?(l=-1*i.height,a.top+l<0&&(l=-1*a.top),n.style.transformOrigin="bottom"):(l=s,n.style.transformOrigin="top"),i.width>c.width?d=a.left*-1:a.left+i.width>c.width?d=(a.left+i.width-c.width)*-1:d=0,n.style.top=l+"px",n.style.left=d+"px"}}},{key:"flipfitCollision",value:function(n,r){var i=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"left top",a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"left bottom",c=arguments.length>4?arguments[4]:void 0;if(n&&r){var l=r.getBoundingClientRect(),d=this.getViewport(),h=s.split(" "),g=a.split(" "),m=function(T,$){return $?+T.substring(T.search(/(\+|-)/g))||0:T.substring(0,T.search(/(\+|-)/g))||T},y={my:{x:m(h[0]),y:m(h[1]||h[0]),offsetX:m(h[0],!0),offsetY:m(h[1]||h[0],!0)},at:{x:m(g[0]),y:m(g[1]||g[0]),offsetX:m(g[0],!0),offsetY:m(g[1]||g[0],!0)}},w={left:function(){var T=y.my.offsetX+y.at.offsetX;return T+l.left+(y.my.x==="left"?0:-1*(y.my.x==="center"?i.getOuterWidth(n)/2:i.getOuterWidth(n)))},top:function(){var T=y.my.offsetY+y.at.offsetY;return T+l.top+(y.my.y==="top"?0:-1*(y.my.y==="center"?i.getOuterHeight(n)/2:i.getOuterHeight(n)))}},x={count:{x:0,y:0},left:function(){var T=w.left(),$=t.getWindowScrollLeft();n.style.left=T+$+"px",this.count.x===2?(n.style.left=$+"px",this.count.x=0):T<0&&(this.count.x++,y.my.x="left",y.at.x="right",y.my.offsetX*=-1,y.at.offsetX*=-1,this.right())},right:function(){var T=w.left()+t.getOuterWidth(r),$=t.getWindowScrollLeft();n.style.left=T+$+"px",this.count.x===2?(n.style.left=d.width-t.getOuterWidth(n)+$+"px",this.count.x=0):T+t.getOuterWidth(n)>d.width&&(this.count.x++,y.my.x="right",y.at.x="left",y.my.offsetX*=-1,y.at.offsetX*=-1,this.left())},top:function(){var T=w.top(),$=t.getWindowScrollTop();n.style.top=T+$+"px",this.count.y===2?(n.style.left=$+"px",this.count.y=0):T<0&&(this.count.y++,y.my.y="top",y.at.y="bottom",y.my.offsetY*=-1,y.at.offsetY*=-1,this.bottom())},bottom:function(){var T=w.top()+t.getOuterHeight(r),$=t.getWindowScrollTop();n.style.top=T+$+"px",this.count.y===2?(n.style.left=d.height-t.getOuterHeight(n)+$+"px",this.count.y=0):T+t.getOuterHeight(r)>d.height&&(this.count.y++,y.my.y="bottom",y.at.y="top",y.my.offsetY*=-1,y.at.offsetY*=-1,this.top())},center:function(T){if(T==="y"){var $=w.top()+t.getOuterHeight(r)/2;n.style.top=$+t.getWindowScrollTop()+"px",$<0?this.bottom():$+t.getOuterHeight(r)>d.height&&this.top()}else{var M=w.left()+t.getOuterWidth(r)/2;n.style.left=M+t.getWindowScrollLeft()+"px",M<0?this.left():M+t.getOuterWidth(n)>d.width&&this.right()}}};x[y.at.x]("x"),x[y.at.y]("y"),this.isFunction(c)&&c(y)}}},{key:"findCollisionPosition",value:function(n){if(n){var r=n==="top"||n==="bottom",i=n==="left"?"right":"left",s=n==="top"?"bottom":"top";return r?{axis:"y",my:"center ".concat(s),at:"center ".concat(n)}:{axis:"x",my:"".concat(i," center"),at:"".concat(n," center")}}}},{key:"getParents",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return n.parentNode===null?r:this.getParents(n.parentNode,r.concat([n.parentNode]))}},{key:"getScrollableParents",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=[];if(n){var s=this.getParents(n),a=/(auto|scroll)/,c=function(P){var j=P?getComputedStyle(P):null;return j&&(a.test(j.getPropertyValue("overflow"))||a.test(j.getPropertyValue("overflow-x"))||a.test(j.getPropertyValue("overflow-y")))},l=function(P){r&&i.push(P.nodeName==="BODY"||P.nodeName==="HTML"||P.nodeType===9?window:P)},d=wy(s),h;try{for(d.s();!(h=d.n()).done;){var g,m=h.value,y=m.nodeType===1&&((g=m.dataset)===null||g===void 0?void 0:g.scrollselectors);if(y){var w=y.split(","),x=wy(w),C;try{for(x.s();!(C=x.n()).done;){var T=C.value,$=this.findSingle(m,T);$&&c($)&&l($)}}catch(M){x.e(M)}finally{x.f()}}m.nodeType===1&&c(m)&&l(m)}}catch(M){d.e(M)}finally{d.f()}}return i.some(function(M){return M===document.body||M===window})||i.push(r?window:document.body),i}},{key:"getHiddenElementOuterHeight",value:function(n){if(n){n.style.visibility="hidden",n.style.display="block";var r=n.offsetHeight;return n.style.display="none",n.style.visibility="visible",r}return 0}},{key:"getHiddenElementOuterWidth",value:function(n){if(n){n.style.visibility="hidden",n.style.display="block";var r=n.offsetWidth;return n.style.display="none",n.style.visibility="visible",r}return 0}},{key:"getHiddenElementDimensions",value:function(n){var r={};return n&&(n.style.visibility="hidden",n.style.display="block",r.width=n.offsetWidth,r.height=n.offsetHeight,n.style.display="none",n.style.visibility="visible"),r}},{key:"fadeIn",value:function(n,r){if(n){n.style.opacity=0;var i=+new Date,s=0,a=function(){s=+n.style.opacity+(new Date().getTime()-i)/r,n.style.opacity=s,i=+new Date,+s<1&&(window.requestAnimationFrame&&requestAnimationFrame(a)||setTimeout(a,16))};a()}}},{key:"fadeOut",value:function(n,r){if(n)var i=1,s=50,a=s/r,c=setInterval(function(){i=i-a,i<=0&&(i=0,clearInterval(c)),n.style.opacity=i},s)}},{key:"getUserAgent",value:function(){return navigator.userAgent}},{key:"isIOS",value:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}},{key:"isAndroid",value:function(){return/(android)/i.test(navigator.userAgent)}},{key:"isChrome",value:function(){return/(chrome)/i.test(navigator.userAgent)}},{key:"isClient",value:function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}},{key:"isTouchDevice",value:function(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}},{key:"isFunction",value:function(n){return!!(n&&n.constructor&&n.call&&n.apply)}},{key:"appendChild",value:function(n,r){if(this.isElement(r))r.appendChild(n);else if(r.el&&r.el.nativeElement)r.el.nativeElement.appendChild(n);else throw new Error("Cannot append "+r+" to "+n)}},{key:"removeChild",value:function(n,r){if(this.isElement(r))r.removeChild(n);else if(r.el&&r.el.nativeElement)r.el.nativeElement.removeChild(n);else throw new Error("Cannot remove "+n+" from "+r)}},{key:"isElement",value:function(n){return(typeof HTMLElement>"u"?"undefined":fn(HTMLElement))==="object"?n instanceof HTMLElement:n&&fn(n)==="object"&&n!==null&&n.nodeType===1&&typeof n.nodeName=="string"}},{key:"scrollInView",value:function(n,r){var i=getComputedStyle(n).getPropertyValue("border-top-width"),s=i?parseFloat(i):0,a=getComputedStyle(n).getPropertyValue("padding-top"),c=a?parseFloat(a):0,l=n.getBoundingClientRect(),d=r.getBoundingClientRect(),h=d.top+document.body.scrollTop-(l.top+document.body.scrollTop)-s-c,g=n.scrollTop,m=n.clientHeight,y=this.getOuterHeight(r);h<0?n.scrollTop=g+h:h+y>m&&(n.scrollTop=g+h-m+y)}},{key:"clearSelection",value:function(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}},{key:"calculateScrollbarWidth",value:function(n){if(n){var r=getComputedStyle(n);return n.offsetWidth-n.clientWidth-parseFloat(r.borderLeftWidth)-parseFloat(r.borderRightWidth)}if(this.calculatedScrollbarWidth!=null)return this.calculatedScrollbarWidth;var i=document.createElement("div");i.className="p-scrollbar-measure",document.body.appendChild(i);var s=i.offsetWidth-i.clientWidth;return document.body.removeChild(i),this.calculatedScrollbarWidth=s,s}},{key:"calculateBodyScrollbarWidth",value:function(){return window.innerWidth-document.documentElement.offsetWidth}},{key:"getBrowser",value:function(){if(!this.browser){var n=this.resolveUserAgent();this.browser={},n.browser&&(this.browser[n.browser]=!0,this.browser.version=n.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}},{key:"resolveUserAgent",value:function(){var n=navigator.userAgent.toLowerCase(),r=/(chrome)[ ]([\w.]+)/.exec(n)||/(webkit)[ ]([\w.]+)/.exec(n)||/(opera)(?:.*version|)[ ]([\w.]+)/.exec(n)||/(msie) ([\w.]+)/.exec(n)||n.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(n)||[];return{browser:r[1]||"",version:r[2]||"0"}}},{key:"blockBodyScroll",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"p-overflow-hidden",r=!!document.body.style.getPropertyValue("--scrollbar-width");!r&&document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,n)}},{key:"unblockBodyScroll",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"p-overflow-hidden";document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,n)}},{key:"isVisible",value:function(n){return n&&(n.clientHeight!==0||n.getClientRects().length!==0||getComputedStyle(n).display!=="none")}},{key:"isExist",value:function(n){return!!(n!==null&&typeof n<"u"&&n.nodeName&&n.parentNode)}},{key:"getFocusableElements",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=t.find(n,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])'.concat(r,`,
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r,`,
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r,`,
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r,`,
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r,`,
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r,`,
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r)),s=[],a=wy(i),c;try{for(a.s();!(c=a.n()).done;){var l=c.value;getComputedStyle(l).display!=="none"&&getComputedStyle(l).visibility!=="hidden"&&s.push(l)}}catch(d){a.e(d)}finally{a.f()}return s}},{key:"getFirstFocusableElement",value:function(n,r){var i=t.getFocusableElements(n,r);return i.length>0?i[0]:null}},{key:"getLastFocusableElement",value:function(n,r){var i=t.getFocusableElements(n,r);return i.length>0?i[i.length-1]:null}},{key:"focus",value:function(n,r){var i=r===void 0?!0:!r;n&&document.activeElement!==n&&n.focus({preventScroll:i})}},{key:"focusFirstElement",value:function(n,r){if(n){var i=t.getFirstFocusableElement(n);return i&&t.focus(i,r),i}}},{key:"getCursorOffset",value:function(n,r,i,s){if(n){var a=getComputedStyle(n),c=document.createElement("div");c.style.position="absolute",c.style.top="0px",c.style.left="0px",c.style.visibility="hidden",c.style.pointerEvents="none",c.style.overflow=a.overflow,c.style.width=a.width,c.style.height=a.height,c.style.padding=a.padding,c.style.border=a.border,c.style.overflowWrap=a.overflowWrap,c.style.whiteSpace=a.whiteSpace,c.style.lineHeight=a.lineHeight,c.innerHTML=r.replace(/\r\n|\r|\n/g,"<br />");var l=document.createElement("span");l.textContent=s,c.appendChild(l);var d=document.createTextNode(i);c.appendChild(d),document.body.appendChild(c);var h=l.offsetLeft,g=l.offsetTop,m=l.clientHeight;return document.body.removeChild(c),{left:Math.abs(h-n.scrollLeft),top:Math.abs(g-n.scrollTop)+m}}return{top:"auto",left:"auto"}}},{key:"invokeElementMethod",value:function(n,r,i){n[r].apply(n,i)}},{key:"isClickable",value:function(n){var r=n.nodeName,i=n.parentElement&&n.parentElement.nodeName;return r==="INPUT"||r==="TEXTAREA"||r==="BUTTON"||r==="A"||i==="INPUT"||i==="TEXTAREA"||i==="BUTTON"||i==="A"||this.hasClass(n,"p-button")||this.hasClass(n.parentElement,"p-button")||this.hasClass(n.parentElement,"p-checkbox")||this.hasClass(n.parentElement,"p-radiobutton")}},{key:"applyStyle",value:function(n,r){if(typeof r=="string")n.style.cssText=r;else for(var i in r)n.style[i]=r[i]}},{key:"exportCSV",value:function(n,r){var i=new Blob([n],{type:"application/csv;charset=utf-8;"});if(window.navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(i,r+".csv");else{var s=t.saveAs({name:r+".csv",src:URL.createObjectURL(i)});s||(n="data:text/csv;charset=utf-8,"+n,window.open(encodeURI(n)))}}},{key:"saveAs",value:function(n){if(n){var r=document.createElement("a");if(r.download!==void 0){var i=n.name,s=n.src;return r.setAttribute("href",s),r.setAttribute("download",i),r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r),!0}}return!1}},{key:"createInlineStyle",value:function(n,r){var i=document.createElement("style");return t.addNonce(i,n),r||(r=document.head),r.appendChild(i),i}},{key:"removeInlineStyle",value:function(n){if(this.isExist(n)){try{n.parentNode.removeChild(n)}catch{}n=null}return n}},{key:"addNonce",value:function(n,r){try{r||(r=vrt.REACT_APP_CSS_NONCE)}catch{}r&&n.setAttribute("nonce",r)}},{key:"getTargetElement",value:function(n){if(!n)return null;if(n==="document")return document;if(n==="window")return window;if(fn(n)==="object"&&n.hasOwnProperty("current"))return this.isExist(n.current)?n.current:null;var r=function(a){return!!(a&&a.constructor&&a.call&&a.apply)},i=r(n)?n():n;return i&&i.nodeType===9||this.isExist(i)?i:null}},{key:"getAttributeNames",value:function(n){var r,i,s;for(i=[],s=n.attributes,r=0;r<s.length;++r)i.push(s[r].nodeName);return i.sort(),i}},{key:"isEqualElement",value:function(n,r){var i,s,a,c,l;if(i=t.getAttributeNames(n),s=t.getAttributeNames(r),i.join(",")!==s.join(","))return!1;for(var d=0;d<i.length;++d)if(a=i[d],a==="style")for(var h=n.style,g=r.style,m=/^\d+$/,y=0,w=Object.keys(h);y<w.length;y++){var x=w[y];if(!m.test(x)&&h[x]!==g[x])return!1}else if(n.getAttribute(a)!==r.getAttribute(a))return!1;for(c=n.firstChild,l=r.firstChild;c&&l;c=c.nextSibling,l=l.nextSibling){if(c.nodeType!==l.nodeType)return!1;if(c.nodeType===1){if(!t.isEqualElement(c,l))return!1}else if(c.nodeValue!==l.nodeValue)return!1}return!(c||l)}},{key:"hasCSSAnimation",value:function(n){if(n){var r=getComputedStyle(n),i=parseFloat(r.getPropertyValue("animation-duration")||"0");return i>0}return!1}},{key:"hasCSSTransition",value:function(n){if(n){var r=getComputedStyle(n),i=parseFloat(r.getPropertyValue("transition-duration")||"0");return i>0}return!1}}])}();Hb(Ls,"DATA_PROPS",["data-"]);Hb(Ls,"ARIA_PROPS",["aria","focus-target"]);function Art(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=krt(t))||e){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(d){throw d},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,a=!1,c;return{s:function(){n=n.call(t)},n:function(){var d=n.next();return s=d.done,d},e:function(d){a=!0,c=d},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(a)throw c}}}}function krt(t,e){if(t){if(typeof t=="string")return jC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jC(t,e)}}function jC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ee=function(){function t(){Z$(this,t)}return eM(t,null,[{key:"equals",value:function(n,r,i){return i&&n&&fn(n)==="object"&&r&&fn(r)==="object"?this.deepEquals(this.resolveFieldData(n,i),this.resolveFieldData(r,i)):this.deepEquals(n,r)}},{key:"deepEquals",value:function(n,r){if(n===r)return!0;if(n&&r&&fn(n)==="object"&&fn(r)==="object"){var i=Array.isArray(n),s=Array.isArray(r),a,c,l;if(i&&s){if(c=n.length,c!==r.length)return!1;for(a=c;a--!==0;)if(!this.deepEquals(n[a],r[a]))return!1;return!0}if(i!==s)return!1;var d=n instanceof Date,h=r instanceof Date;if(d!==h)return!1;if(d&&h)return n.getTime()===r.getTime();var g=n instanceof RegExp,m=r instanceof RegExp;if(g!==m)return!1;if(g&&m)return n.toString()===r.toString();var y=Object.keys(n);if(c=y.length,c!==Object.keys(r).length)return!1;for(a=c;a--!==0;)if(!Object.prototype.hasOwnProperty.call(r,y[a]))return!1;for(a=c;a--!==0;)if(l=y[a],!this.deepEquals(n[l],r[l]))return!1;return!0}return n!==n&&r!==r}},{key:"resolveFieldData",value:function(n,r){if(!n||!r)return null;try{var i=n[r];if(this.isNotEmpty(i))return i}catch{}if(Object.keys(n).length){if(this.isFunction(r))return r(n);if(this.isNotEmpty(n[r]))return n[r];if(r.indexOf(".")===-1)return n[r];for(var s=r.split("."),a=n,c=0,l=s.length;c<l;++c){if(a==null)return null;a=a[s[c]]}return a}return null}},{key:"findDiffKeys",value:function(n,r){return!n||!r?{}:Object.keys(n).filter(function(i){return!r.hasOwnProperty(i)}).reduce(function(i,s){return i[s]=n[s],i},{})}},{key:"reduceKeys",value:function(n,r){var i={};return!n||!r||r.length===0||Object.keys(n).filter(function(s){return r.some(function(a){return s.startsWith(a)})}).forEach(function(s){i[s]=n[s],delete n[s]}),i}},{key:"reorderArray",value:function(n,r,i){n&&r!==i&&(i>=n.length&&(i=i%n.length,r=r%n.length),n.splice(i,0,n.splice(r,1)[0]))}},{key:"findIndexInList",value:function(n,r,i){var s=this;return r?i?r.findIndex(function(a){return s.equals(a,n,i)}):r.findIndex(function(a){return a===n}):-1}},{key:"getJSXElement",value:function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return this.isFunction(n)?n.apply(void 0,i):n}},{key:"getItemValue",value:function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return this.isFunction(n)?n.apply(void 0,i):n}},{key:"getProp",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=n?n[r]:void 0;return s===void 0?i[r]:s}},{key:"getPropCaseInsensitive",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=this.toFlatCase(r);for(var a in n)if(n.hasOwnProperty(a)&&this.toFlatCase(a)===s)return n[a];for(var c in i)if(i.hasOwnProperty(c)&&this.toFlatCase(c)===s)return i[c]}},{key:"getMergedProps",value:function(n,r){return Object.assign({},r,n)}},{key:"getDiffProps",value:function(n,r){return this.findDiffKeys(n,r)}},{key:"getPropValue",value:function(n){if(!this.isFunction(n))return n;for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];if(i.length===1){var a=i[0];return n(Array.isArray(a)?a[0]:a)}return n(i)}},{key:"getComponentProp",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.isNotEmpty(n)?this.getProp(n.props,r,i):void 0}},{key:"getComponentProps",value:function(n,r){return this.isNotEmpty(n)?this.getMergedProps(n.props,r):void 0}},{key:"getComponentDiffProps",value:function(n,r){return this.isNotEmpty(n)?this.getDiffProps(n.props,r):void 0}},{key:"isValidChild",value:function(n,r,i){if(n){var s,a=this.getComponentProp(n,"__TYPE")||(n.type?n.type.displayName:void 0);!a&&n!==null&&n!==void 0&&(s=n.type)!==null&&s!==void 0&&(s=s._payload)!==null&&s!==void 0&&s.value&&(a=n.type._payload.value.find(function(d){return d===r}));var c=a===r;try{var l}catch{}return c}return!1}},{key:"getRefElement",value:function(n){return n?fn(n)==="object"&&n.hasOwnProperty("current")?n.current:n:null}},{key:"combinedRefs",value:function(n,r){n&&r&&(typeof r=="function"?r(n.current):r.current=n.current)}},{key:"removeAccents",value:function(n){return n&&n.search(/[\xC0-\xFF]/g)>-1&&(n=n.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),n}},{key:"toFlatCase",value:function(n){return this.isNotEmpty(n)&&this.isString(n)?n.replace(/(-|_)/g,"").toLowerCase():n}},{key:"toCapitalCase",value:function(n){return this.isNotEmpty(n)&&this.isString(n)?n[0].toUpperCase()+n.slice(1):n}},{key:"trim",value:function(n){return this.isNotEmpty(n)&&this.isString(n)?n.trim():n}},{key:"isEmpty",value:function(n){return n==null||n===""||Array.isArray(n)&&n.length===0||!(n instanceof Date)&&fn(n)==="object"&&Object.keys(n).length===0}},{key:"isNotEmpty",value:function(n){return!this.isEmpty(n)}},{key:"isFunction",value:function(n){return!!(n&&n.constructor&&n.call&&n.apply)}},{key:"isObject",value:function(n){return n!==null&&n instanceof Object&&n.constructor===Object}},{key:"isDate",value:function(n){return n!==null&&n instanceof Date&&n.constructor===Date}},{key:"isArray",value:function(n){return n!==null&&Array.isArray(n)}},{key:"isString",value:function(n){return n!==null&&typeof n=="string"}},{key:"isPrintableCharacter",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return this.isNotEmpty(n)&&n.length===1&&n.match(/\S| /)}},{key:"isLetter",value:function(n){return/^[a-zA-Z\u00C0-\u017F]$/.test(n)}},{key:"isScalar",value:function(n){return n!=null&&(typeof n=="string"||typeof n=="number"||typeof n=="bigint"||typeof n=="boolean")}},{key:"findLast",value:function(n,r){var i;if(this.isNotEmpty(n))try{i=n.findLast(r)}catch{i=Jv(n).reverse().find(r)}return i}},{key:"findLastIndex",value:function(n,r){var i=-1;if(this.isNotEmpty(n))try{i=n.findLastIndex(r)}catch{i=n.lastIndexOf(Jv(n).reverse().find(r))}return i}},{key:"sort",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,s=arguments.length>3?arguments[3]:void 0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,c=this.compare(n,r,s,i),l=i;return(this.isEmpty(n)||this.isEmpty(r))&&(l=a===1?i:a),l*c}},{key:"compare",value:function(n,r,i){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,a=-1,c=this.isEmpty(n),l=this.isEmpty(r);return c&&l?a=0:c?a=s:l?a=-s:typeof n=="string"&&typeof r=="string"?a=i(n,r):a=n<r?-1:n>r?1:0,a}},{key:"localeComparator",value:function(n){return new Intl.Collator(n,{numeric:!0}).compare}},{key:"findChildrenByKey",value:function(n,r){var i=Art(n),s;try{for(i.s();!(s=i.n()).done;){var a=s.value;if(a.key===r)return a.children||[];if(a.children){var c=this.findChildrenByKey(a.children,r);if(c.length>0)return c}}}catch(l){i.e(l)}finally{i.f()}return[]}},{key:"mutateFieldData",value:function(n,r,i){if(!(fn(n)!=="object"||typeof r!="string"))for(var s=r.split("."),a=n,c=0,l=s.length;c<l;++c){if(c+1-l===0){a[s[c]]=i;break}a[s[c]]||(a[s[c]]={}),a=a[s[c]]}}}])}();function DC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DC(Object(n),!0).forEach(function(r){Hb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ph(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t){var n=function(a){return typeof a=="function"},r=e.classNameMergeFunction,i=n(r);return t.reduce(function(s,a){if(!a)return s;var c=function(){var h=a[l];if(l==="style")s.style=zC(zC({},s.style),a.style);else if(l==="className"){var g="";i?g=r(s.className,a.className):g=[s.className,a.className].join(" ").trim(),s.className=g||void 0}else if(n(h)){var m=s[l];s[l]=m?function(){m.apply(void 0,arguments),h.apply(void 0,arguments)}:h}else s[l]=h};for(var l in a)c();return s},{})}}var wn=Object.freeze({STARTS_WITH:"startsWith",CONTAINS:"contains",NOT_CONTAINS:"notContains",ENDS_WITH:"endsWith",EQUALS:"equals",NOT_EQUALS:"notEquals",IN:"in",LESS_THAN:"lt",LESS_THAN_OR_EQUAL_TO:"lte",GREATER_THAN:"gt",GREATER_THAN_OR_EQUAL_TO:"gte",BETWEEN:"between",DATE_IS:"dateIs",DATE_IS_NOT:"dateIsNot",DATE_BEFORE:"dateBefore",DATE_AFTER:"dateAfter",CUSTOM:"custom"});function vl(t){"@babel/helpers - typeof";return vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vl(t)}function Irt(t,e){if(vl(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Prt(t){var e=Irt(t,"string");return vl(e)==="symbol"?e:String(e)}function kr(t,e,n){return e=Prt(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rrt(t,e,n){return Object.defineProperty(t,"prototype",{writable:!1}),t}function $rt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var rr=Rrt(function t(){$rt(this,t)});kr(rr,"ripple",!1);kr(rr,"inputStyle","outlined");kr(rr,"locale","en");kr(rr,"appendTo",null);kr(rr,"cssTransition",!0);kr(rr,"autoZIndex",!0);kr(rr,"hideOverlaysOnDocumentScrolling",!1);kr(rr,"nonce",null);kr(rr,"nullSortOrder",1);kr(rr,"zIndex",{modal:1100,overlay:1e3,menu:1e3,tooltip:1100,toast:1200});kr(rr,"pt",void 0);kr(rr,"filterMatchModeOptions",{text:[wn.STARTS_WITH,wn.CONTAINS,wn.NOT_CONTAINS,wn.ENDS_WITH,wn.EQUALS,wn.NOT_EQUALS],numeric:[wn.EQUALS,wn.NOT_EQUALS,wn.LESS_THAN,wn.LESS_THAN_OR_EQUAL_TO,wn.GREATER_THAN,wn.GREATER_THAN_OR_EQUAL_TO],date:[wn.DATE_IS,wn.DATE_IS_NOT,wn.DATE_BEFORE,wn.DATE_AFTER]});kr(rr,"changeTheme",function(t,e,n,r){var i,s=document.getElementById(n);if(!s)throw Error("Element with id ".concat(n," not found."));var a=s.getAttribute("href").replace(t,e),c=document.createElement("link");c.setAttribute("rel","stylesheet"),c.setAttribute("id",n),c.setAttribute("href",a),c.addEventListener("load",function(){r&&r()}),(i=s.parentNode)===null||i===void 0||i.replaceChild(c,s)});var Gb=ae.createContext(),sg=rr;function Mrt(t){if(Array.isArray(t))return t}function Nrt(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,c=[],l=!0,d=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(c.push(r.value),c.length!==e);l=!0);}catch(h){d=!0,i=h}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(d)throw i}}return c}}function UC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Lrt(t,e){if(t){if(typeof t=="string")return UC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return UC(t,e)}}function Frt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Brt(t,e){return Mrt(t)||Nrt(t,e)||Lrt(t,e)||Frt()}var WC=function(e){var n=H.useRef(null);return H.useEffect(function(){return n.current=e,function(){n.current=null}},[e]),n.current},nM=function(e){return H.useEffect(function(){return e},[])},fd=function(e){var n=e.target,r=n===void 0?"document":n,i=e.type,s=e.listener,a=e.options,c=e.when,l=c===void 0?!0:c,d=H.useRef(null),h=H.useRef(null),g=WC(s),m=WC(a),y=function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},M=$.target;Ee.isNotEmpty(M)&&(w(),($.when||l)&&(d.current=Ls.getTargetElement(M))),!h.current&&d.current&&(h.current=function(P){return s&&s(P)},d.current.addEventListener(i,h.current,a))},w=function(){h.current&&(d.current.removeEventListener(i,h.current,a),h.current=null)},x=function(){w(),g=null,m=null},C=H.useCallback(function(){l?d.current=Ls.getTargetElement(r):(w(),d.current=null)},[r,l]);return H.useEffect(function(){C()},[C]),H.useEffect(function(){var T="".concat(g)!=="".concat(s),$=m!==a,M=h.current;M&&(T||$)?(w(),l&&y()):M||x()},[s,a,l]),nM(function(){x()}),[y,w]},jrt=function(){var e=H.useContext(Gb);return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ph(r,e==null?void 0:e.ptOptions)}},Drt=function(e){var n=H.useRef(!1);return H.useEffect(function(){if(!n.current)return n.current=!0,e&&e()},[])},zrt=0,dd=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=H.useState(!1),i=Brt(r,2),s=i[0],a=i[1],c=H.useRef(null),l=H.useContext(Gb),d=Ls.isClient()?window.document:void 0,h=n.document,g=h===void 0?d:h,m=n.manual,y=m===void 0?!1:m,w=n.name,x=w===void 0?"style_".concat(++zrt):w,C=n.id,T=C===void 0?void 0:C,$=n.media,M=$===void 0?void 0:$,P=function(K){var b=K.querySelector('style[data-primereact-style-id="'.concat(x,'"]'));if(b)return b;if(T!==void 0){var N=g.getElementById(T);if(N)return N}return g.createElement("style")},j=function(K){s&&e!==K&&(c.current.textContent=K)},B=function(){if(!(!g||s)){var K=(l==null?void 0:l.styleContainer)||g.head;c.current=P(K),c.current.isConnected||(c.current.type="text/css",T&&(c.current.id=T),M&&(c.current.media=M),Ls.addNonce(c.current,l&&l.nonce||sg.nonce),K.appendChild(c.current),x&&c.current.setAttribute("data-primereact-style-id",x)),c.current.textContent=e,a(!0)}},k=function(){!g||!c.current||(Ls.removeInlineStyle(c.current),a(!1))};return H.useEffect(function(){y||B()},[y]),{id:T,name:x,update:j,unload:k,load:B,isLoaded:s}},Urt=function(e,n){var r=H.useRef(!1);return H.useEffect(function(){if(!r.current){r.current=!0;return}return e&&e()},n)};function Yv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Wrt(t){if(Array.isArray(t))return Yv(t)}function Krt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qrt(t,e){if(t){if(typeof t=="string")return Yv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yv(t,e)}}function Vrt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KC(t){return Wrt(t)||Krt(t)||qrt(t)||Vrt()}function _l(t){"@babel/helpers - typeof";return _l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_l(t)}function Hrt(t,e){if(_l(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_l(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Grt(t){var e=Hrt(t,"string");return _l(e)==="symbol"?e:String(e)}function Xv(t,e,n){return e=Grt(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ge(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qC(Object(n),!0).forEach(function(r){Xv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Jrt=`
.p-hidden-accessible {
    border: 0;
    clip: rect(0 0 0 0);
    height: 1px;
    margin: -1px;
    opacity: 0;
    overflow: hidden;
    padding: 0;
    pointer-events: none;
    position: absolute;
    white-space: nowrap;
    width: 1px;
}

.p-overflow-hidden {
    overflow: hidden;
    padding-right: var(--scrollbar-width);
}
`,Yrt=`
.p-button {
    margin: 0;
    display: inline-flex;
    cursor: pointer;
    user-select: none;
    align-items: center;
    vertical-align: bottom;
    text-align: center;
    overflow: hidden;
    position: relative;
}

.p-button-label {
    flex: 1 1 auto;
}

.p-button-icon-right {
    order: 1;
}

.p-button:disabled {
    cursor: default;
}

.p-button-icon-only {
    justify-content: center;
}

.p-button-icon-only .p-button-label {
    visibility: hidden;
    width: 0;
    flex: 0 0 auto;
}

.p-button-vertical {
    flex-direction: column;
}

.p-button-icon-bottom {
    order: 2;
}

.p-button-group .p-button {
    margin: 0;
}

.p-button-group .p-button:not(:last-child) {
    border-right: 0 none;
}

.p-button-group .p-button:not(:first-of-type):not(:last-of-type) {
    border-radius: 0;
}

.p-button-group .p-button:first-of-type {
    border-top-right-radius: 0;
    border-bottom-right-radius: 0;
}

.p-button-group .p-button:last-of-type {
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
}

.p-button-group .p-button:focus {
    position: relative;
    z-index: 1;
}

.p-button-group-single .p-button:first-of-type {
    border-top-right-radius: var(--border-radius) !important;
    border-bottom-right-radius: var(--border-radius) !important;
}

.p-button-group-single .p-button:last-of-type {
    border-top-left-radius: var(--border-radius) !important;
    border-bottom-left-radius: var(--border-radius) !important;
}
`,Xrt=`
.p-inputtext {
    margin: 0;
}

.p-fluid .p-inputtext {
    width: 100%;
}

/* InputGroup */
.p-inputgroup {
    display: flex;
    align-items: stretch;
    width: 100%;
}

.p-inputgroup-addon {
    display: flex;
    align-items: center;
    justify-content: center;
}

.p-inputgroup .p-float-label {
    display: flex;
    align-items: stretch;
    width: 100%;
}

.p-inputgroup .p-inputtext,
.p-fluid .p-inputgroup .p-inputtext,
.p-inputgroup .p-inputwrapper,
.p-fluid .p-inputgroup .p-input {
    flex: 1 1 auto;
    width: 1%;
}

/* Floating Label */
.p-float-label {
    display: block;
    position: relative;
}

.p-float-label label {
    position: absolute;
    pointer-events: none;
    top: 50%;
    margin-top: -0.5rem;
    transition-property: all;
    transition-timing-function: ease;
    line-height: 1;
}

.p-float-label textarea ~ label,
.p-float-label .p-mention ~ label {
    top: 1rem;
}

.p-float-label input:focus ~ label,
.p-float-label input:-webkit-autofill ~ label,
.p-float-label input.p-filled ~ label,
.p-float-label textarea:focus ~ label,
.p-float-label textarea.p-filled ~ label,
.p-float-label .p-inputwrapper-focus ~ label,
.p-float-label .p-inputwrapper-filled ~ label,
.p-float-label .p-tooltip-target-wrapper ~ label {
    top: -0.75rem;
    font-size: 12px;
}

.p-float-label .p-placeholder,
.p-float-label input::placeholder,
.p-float-label .p-inputtext::placeholder {
    opacity: 0;
    transition-property: all;
    transition-timing-function: ease;
}

.p-float-label .p-focus .p-placeholder,
.p-float-label input:focus::placeholder,
.p-float-label .p-inputtext:focus::placeholder {
    opacity: 1;
    transition-property: all;
    transition-timing-function: ease;
}

.p-input-icon-left,
.p-input-icon-right {
    position: relative;
    display: inline-block;
}

.p-input-icon-left > i,
.p-input-icon-right > i,
.p-input-icon-left > svg,
.p-input-icon-right > svg,
.p-input-icon-left > .p-input-prefix,
.p-input-icon-right > .p-input-suffix {
    position: absolute;
    top: 50%;
    margin-top: -0.5rem;
}

.p-fluid .p-input-icon-left,
.p-fluid .p-input-icon-right {
    display: block;
    width: 100%;
}
`,Qrt=`
.p-icon {
    display: inline-block;
}

.p-icon-spin {
    -webkit-animation: p-icon-spin 2s infinite linear;
    animation: p-icon-spin 2s infinite linear;
}

svg.p-icon {
    pointer-events: auto;
}

svg.p-icon g,
.p-disabled svg.p-icon {
    pointer-events: none;
}

@-webkit-keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}

@keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}
`,Zrt=`
@layer primereact {
    .p-component, .p-component * {
        box-sizing: border-box;
    }

    .p-hidden {
        display: none;
    }

    .p-hidden-space {
        visibility: hidden;
    }

    .p-reset {
        margin: 0;
        padding: 0;
        border: 0;
        outline: 0;
        text-decoration: none;
        font-size: 100%;
        list-style: none;
    }

    .p-disabled, .p-disabled * {
        cursor: default;
        pointer-events: none;
        user-select: none;
    }

    .p-component-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }

    .p-unselectable-text {
        user-select: none;
    }

    .p-scrollbar-measure {
        width: 100px;
        height: 100px;
        overflow: scroll;
        position: absolute;
        top: -9999px;
    }

    @-webkit-keyframes p-fadein {
      0%   { opacity: 0; }
      100% { opacity: 1; }
    }
    @keyframes p-fadein {
      0%   { opacity: 0; }
      100% { opacity: 1; }
    }

    .p-link {
        text-align: left;
        background-color: transparent;
        margin: 0;
        padding: 0;
        border: none;
        cursor: pointer;
        user-select: none;
    }

    .p-link:disabled {
        cursor: default;
    }

    /* Non react overlay animations */
    .p-connected-overlay {
        opacity: 0;
        transform: scaleY(0.8);
        transition: transform .12s cubic-bezier(0, 0, 0.2, 1), opacity .12s cubic-bezier(0, 0, 0.2, 1);
    }

    .p-connected-overlay-visible {
        opacity: 1;
        transform: scaleY(1);
    }

    .p-connected-overlay-hidden {
        opacity: 0;
        transform: scaleY(1);
        transition: opacity .1s linear;
    }

    /* React based overlay animations */
    .p-connected-overlay-enter {
        opacity: 0;
        transform: scaleY(0.8);
    }

    .p-connected-overlay-enter-active {
        opacity: 1;
        transform: scaleY(1);
        transition: transform .12s cubic-bezier(0, 0, 0.2, 1), opacity .12s cubic-bezier(0, 0, 0.2, 1);
    }

    .p-connected-overlay-enter-done {
        transform: none;
    }

    .p-connected-overlay-exit {
        opacity: 1;
    }

    .p-connected-overlay-exit-active {
        opacity: 0;
        transition: opacity .1s linear;
    }

    /* Toggleable Content */
    .p-toggleable-content-enter {
        max-height: 0;
    }

    .p-toggleable-content-enter-active {
        overflow: hidden;
        max-height: 1000px;
        transition: max-height 1s ease-in-out;
    }

    .p-toggleable-content-enter-done {
        transform: none;
    }

    .p-toggleable-content-exit {
        max-height: 1000px;
    }

    .p-toggleable-content-exit-active {
        overflow: hidden;
        max-height: 0;
        transition: max-height 0.45s cubic-bezier(0, 1, 0, 1);
    }

    /* @todo Refactor */
    .p-menu .p-menuitem-link {
        cursor: pointer;
        display: flex;
        align-items: center;
        text-decoration: none;
        overflow: hidden;
        position: relative;
    }

    `.concat(Yrt,`
    `).concat(Xrt,`
    `).concat(Qrt,`
}
`),Ie={cProps:void 0,cParams:void 0,cName:void 0,defaultProps:{pt:void 0,ptOptions:void 0,unstyled:!1},context:{},globalCSS:void 0,classes:{},styles:"",extend:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.css,r=Ge(Ge({},e.defaultProps),Ie.defaultProps),i={},s=function(h){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Ie.context=g,Ie.cProps=h,Ee.getMergedProps(h,r)},a=function(h){return Ee.getDiffProps(h,r)},c=function(){var h,g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},w=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;g.hasOwnProperty("pt")&&g.pt!==void 0&&(g=g.pt);var x=m,C=/./g.test(x)&&!!y[x.split(".")[0]],T=C?Ee.toFlatCase(x.split(".")[1]):Ee.toFlatCase(x),$=y.hostName&&Ee.toFlatCase(y.hostName),M=$||y.props&&y.props.__TYPE&&Ee.toFlatCase(y.props.__TYPE)||"",P=T==="transition",j="data-pc-",B=function(ot){return ot!=null&&ot.props?ot.hostName?ot.props.__TYPE===ot.hostName?ot.props:B(ot.parent):ot.parent:void 0},k=function(ot){var Mt,Ze;return((Mt=y.props)===null||Mt===void 0?void 0:Mt[ot])||((Ze=B(y))===null||Ze===void 0?void 0:Ze[ot])};Ie.cParams=y,Ie.cName=M;var z=k("ptOptions")||Ie.context.ptOptions||{},K=z.mergeSections,b=K===void 0?!0:K,N=z.mergeProps,D=N===void 0?!1:N,X=function(){var ot=go.apply(void 0,arguments);return Array.isArray(ot)?{className:Ih.apply(void 0,KC(ot))}:Ee.isString(ot)?{className:ot}:ot!=null&&ot.hasOwnProperty("className")&&Array.isArray(ot.className)?{className:Ih.apply(void 0,KC(ot.className))}:ot},nt=w?C?rM(X,x,y):iM(X,x,y):void 0,mt=C?void 0:ug(ag(g,M),X,x,y),ht=!P&&Ge(Ge({},T==="root"&&Xv({},"".concat(j,"name"),y.props&&y.props.__parentMetadata?Ee.toFlatCase(y.props.__TYPE):M)),{},Xv({},"".concat(j,"section"),T));return b||!b&&mt?D?Ph([nt,mt,Object.keys(ht).length?ht:{}],{classNameMergeFunction:(h=Ie.context.ptOptions)===null||h===void 0?void 0:h.classNameMergeFunction}):Ge(Ge(Ge({},nt),mt),Object.keys(ht).length?ht:{}):Ge(Ge({},mt),Object.keys(ht).length?ht:{})},l=function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},g=h.props,m=h.state,y=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return c((g||{}).pt,M,Ge(Ge({},h),P))},w=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return c(M,P,j,!1)},x=function(){return Ie.context.unstyled||sg.unstyled||g.unstyled},C=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return x()?void 0:go(n&&n.classes,M,Ge({props:g,state:m},P))},T=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(j){var B,k=go(n&&n.inlineStyles,M,Ge({props:g,state:m},P)),z=go(i,M,Ge({props:g,state:m},P));return Ph([z,k],{classNameMergeFunction:(B=Ie.context.ptOptions)===null||B===void 0?void 0:B.classNameMergeFunction})}};return{ptm:y,ptmo:w,sx:T,cx:C,isUnstyled:x}};return Ge(Ge({getProps:s,getOtherProps:a,setMetaData:l},e),{},{defaultProps:r})}},go=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=String(Ee.toFlatCase(n)).split("."),s=i.shift(),a=Ee.isNotEmpty(e)?Object.keys(e).find(function(c){return Ee.toFlatCase(c)===s}):"";return s?Ee.isObject(e)?go(Ee.getItemValue(e[a],r),i.join("."),r):void 0:Ee.getItemValue(e,r)},ag=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,i=e==null?void 0:e._usept,s=function(c){var l,d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,h=r?r(c):c,g=Ee.toFlatCase(n);return(l=d?g!==Ie.cName?h==null?void 0:h[g]:void 0:h==null?void 0:h[g])!==null&&l!==void 0?l:h};return Ee.isNotEmpty(i)?{_usept:i,originalValue:s(e.originalValue),value:s(e.value)}:s(e,!0)},ug=function(e,n,r,i){var s=function(x){return n(x,r,i)};if(e!=null&&e.hasOwnProperty("_usept")){var a=e._usept||Ie.context.ptOptions||{},c=a.mergeSections,l=c===void 0?!0:c,d=a.mergeProps,h=d===void 0?!1:d,g=a.classNameMergeFunction,m=s(e.originalValue),y=s(e.value);return m===void 0&&y===void 0?void 0:Ee.isString(y)?y:Ee.isString(m)?m:l||!l&&y?h?Ph([m,y],{classNameMergeFunction:g}):Ge(Ge({},m),y):y}return s(e)},tit=function(){return ag(Ie.context.pt||sg.pt,void 0,function(e){return Ee.getItemValue(e,Ie.cParams)})},eit=function(){return ag(Ie.context.pt||sg.pt,void 0,function(e){return go(e,Ie.cName,Ie.cParams)||Ee.getItemValue(e,Ie.cParams)})},rM=function(e,n,r){return ug(tit(),e,n,r)},iM=function(e,n,r){return ug(eit(),e,n,r)},nit=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},r=arguments.length>2?arguments[2]:void 0,i=r.name,s=r.styled,a=s===void 0?!1:s,c=r.hostName,l=c===void 0?"":c,d=rM(go,"global.css",Ie.cParams),h=Ee.toFlatCase(i),g=dd(Jrt,{name:"base",manual:!0}),m=g.load,y=dd(Zrt,{name:"common",manual:!0}),w=y.load,x=dd(d,{name:"global",manual:!0}),C=x.load,T=dd(e,{name:i,manual:!0}),$=T.load,M=function(j){if(!l){var B=ug(ag((Ie.cProps||{}).pt,h),go,"hooks.".concat(j)),k=iM(go,"hooks.".concat(j));B==null||B(),k==null||k()}};M("useMountEffect"),Drt(function(){m(),C(),n()||(w(),a||$())}),Urt(function(){M("useUpdateEffect")}),nM(function(){M("useUnmountEffect")})};function rit(t){if(Array.isArray(t))return t}function iit(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,c=[],l=!0,d=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(c.push(r.value),c.length!==e);l=!0);}catch(h){d=!0,i=h}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(d)throw i}}return c}}function VC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function oit(t,e){if(t){if(typeof t=="string")return VC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VC(t,e)}}function sit(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hd(t,e){return rit(t)||iit(t,e)||oit(t,e)||sit()}var Ey=Ie.extend({defaultProps:{__TYPE:"Knob",id:null,style:null,className:null,value:null,size:100,disabled:!1,readOnly:!1,showValue:!0,tabIndex:0,step:1,min:0,max:100,strokeWidth:14,name:null,valueColor:"var(--primary-color, Black)",rangeColor:"var(--surface-border, LightGray)",textColor:"var(--text-color-secondary, Black)",valueTemplate:"{value}",onChange:null,children:void 0},css:{classes:{range:"p-knob-range",value:"p-knob-value",label:"p-knob-text",root:function(e){var n=e.props;return Ih("p-knob p-component",{"p-disabled":n.disabled})}},styles:`
        @keyframes dash-frame {
            100% {
                stroke-dashoffset: 0;
            }
        }
        @layer primereact {
            .p-knob-range {
                fill: none;
                transition: stroke .1s ease-in;
            }
            .p-knob-value {
                animation-name: dash-frame;
                animation-fill-mode: forwards;
                fill: none;
            }
            .p-knob-text {
                font-size: 1.3rem;
                text-align: center;
            }
        }
        `}}),jr=40,pd=50,gd=50,Na=4*Math.PI/3,ws=-Math.PI/3,oM=H.memo(H.forwardRef(function(t,e){var n=jrt(),r=H.useContext(Gb),i=Ey.getProps(t,r),s=Ey.setMetaData({props:i}),a=s.ptm,c=s.cx,l=s.isUnstyled;nit(Ey.css.styles,l,{name:"knob"});var d=H.useRef(null),h=!i.disabled&&!i.readOnly,g=fd({target:"window",type:"mousemove",listener:function(dt){ls(dt.offsetX,dt.offsetY),dt.preventDefault()},when:h}),m=hd(g,2),y=m[0],w=m[1],x=fd({target:"window",type:"mouseup",listener:function(dt){w(),$(),dt.preventDefault()},when:h}),C=hd(x,2),T=C[0],$=C[1],M=fd({target:"window",type:"touchmove",listener:function(dt){if(dt.touches.length===1){var yn=d.current.getBoundingClientRect(),vn=dt.targetTouches.item(0),Po=vn.clientX-yn.left,ti=vn.clientY-yn.top;ls(Po,ti),dt.preventDefault()}},when:h}),P=hd(M,2),j=P[0],B=P[1],k=fd({target:"window",type:"touchend",listener:function(){B(),b()},when:h}),z=hd(k,2),K=z[0],b=z[1],N=function(dt,yn,vn,Po,ti){return(dt-yn)*(ti-Po)/(vn-yn)+Po},D=function(){return N(i.min>0&&i.max>0?i.min:0,i.min,i.max,Na,ws)},X=function(){return N(i.value,i.min,i.max,Na,ws)},nt=function(){return pd+Math.cos(Na)*jr},mt=function(){return gd-Math.sin(Na)*jr},ht=function(){return pd+Math.cos(ws)*jr},rt=function(){return gd-Math.sin(ws)*jr},ot=function(){return pd+Math.cos(D())*jr},Mt=function(){return gd-Math.sin(D())*jr},Ze=function(){return pd+Math.cos(X())*jr},ie=function(){return gd-Math.sin(X())*jr},Oo=function(){return Math.abs(D()-X())<Math.PI?0:1},Yu=function(){return X()>D()?0:1},Xu="M ".concat(nt()," ").concat(mt()," A ").concat(jr," ").concat(jr," 0 1 1 ").concat(ht()," ").concat(rt()),bi="M ".concat(ot()," ").concat(Mt()," A ").concat(jr," ").concat(jr," 0 ").concat(Oo()," ").concat(Yu()," ").concat(Ze()," ").concat(ie()),Ao=function(){return i.valueTemplate.replace("{value}",i.value.toString())},ls=function(dt,yn){var vn=dt-i.size/2,Po=i.size/2-yn,ti=Math.atan2(Po,vn),Ro=-Math.PI/2-Math.PI/6;Yi(ti,Ro)},Yi=function(dt,yn){var vn;if(dt>ws)vn=N(dt,Na,ws,i.min,i.max);else if(dt<yn)vn=N(dt+2*Math.PI,Na,ws,i.min,i.max);else return;i.onChange&&i.onChange({value:Math.round((vn-i.min)/i.step)*i.step+i.min})},qn=function(dt){var yn;dt>i.max?yn=i.max:dt<i.min?yn=i.min:yn=dt,i.onChange&&i.onChange({value:yn})},Qu=function(dt){!i.disabled&&!i.readOnly&&ls(dt.nativeEvent.offsetX,dt.nativeEvent.offsetY)},ko=function(dt){y(),T(),dt.preventDefault()},Io=function(){w(),$()},la=function(){j(),K()},tn=function(){B(),b()},Xi=function(dt){if(!i.disabled&&!i.readonly)switch(dt.code){case"ArrowRight":case"ArrowUp":dt.preventDefault(),qn(i.value+1);break;case"ArrowLeft":case"ArrowDown":{dt.preventDefault(),qn(i.value-1);break}case"Home":{dt.preventDefault(),qn(i.min);break}case"End":{dt.preventDefault(),qn(i.max);break}case"PageUp":{dt.preventDefault(),qn(i.value+10);break}case"PageDown":{dt.preventDefault(),qn(i.value-10);break}}};H.useImperativeHandle(e,function(){return{props:i,getElement:function(){return d.current}}});var Zu=n({x:50,y:57,textAnchor:"middle",fill:i.textColor,className:c("label"),name:i.name},a("label")),mn=i.showValue&&H.createElement("text",Zu,Ao()),Si=n({ref:d,id:i.id,className:Ih(i.className,c("root")),style:i.style},a("root")),tc=n({viewBox:"0 0 100 100",width:i.size,height:i.size,"aria-valuemin":i.min,"aria-valuemax":i.max,"aria-valuenow":i.value,"aria-labelledby":i.ariaLabelledby,"aria-label":i.ariaLabel,role:"slider",tabIndex:i.readonly||i.disabled?-1:i.tabIndex,onClick:function(dt){return Qu(dt)},onMouseDown:function(dt){return ko(dt)},onMouseUp:function(dt){return Io()},onTouchStart:function(dt){return la()},onTouchEnd:function(dt){return tn()},onKeyDown:function(dt){return Xi(dt)}},a("svg")),wi=n({d:Xu,strokeWidth:i.strokeWidth,stroke:i.rangeColor,className:c("range")},a("range")),$n=n({d:bi,strokeWidth:i.strokeWidth,stroke:i.valueColor,className:c("value")},a("value"));return H.createElement("div",Si,H.createElement("svg",tc,H.createElement("path",wi),H.createElement("path",$n),mn))}));oM.displayName="Knob";const ait=Zr.of({widget:yrt,Component:(t,e,n)=>{var a;const[r,i]=ae.useState(0),s=c=>{i(c)};return G.jsx(_i,{children:G.jsxs(Hr,{sx:{height:100,width:100,backgroundColor:`#${tt.toHex(t.color)}`,display:"flex",justifyContent:"center",flexDirection:"column"},children:[G.jsx(Hr,{sx:{display:"flex",justifyContent:"center"},children:G.jsx(To,{sx:{fontWeight:"bold"},children:((a=t.text)==null?void 0:a.content)||""})}),G.jsx(Hr,{sx:{p:0,mt:1},children:G.jsx(oM,{value:r,onChange:c=>s(c.value),min:0,max:127})})]})})}});var uit=Wb(G.jsx("path",{d:"M12 2c-4.42 0-8 .5-8 4v9.5C4 17.43 5.57 19 7.5 19L6 20.5v.5h12v-.5L16.5 19c1.93 0 3.5-1.57 3.5-3.5V6c0-3.5-3.58-4-8-4M7.5 17c-.83 0-1.5-.67-1.5-1.5S6.67 14 7.5 14s1.5.67 1.5 1.5S8.33 17 7.5 17m3.5-6H6V6h5zm5.5 6c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m1.5-6h-5V6h5z"}),"DirectionsTransit");const cit=Zr.of({widget:e$,Component:(t,e,n)=>{const i=(n.options.metronomeState!==void 0?n.options.metronomeState:!1)?t.color:tt.BLACK;return G.jsx(_i,{children:G.jsx(Hr,{sx:{borderRadius:"5px",backgroundColor:`#${tt.toHex(i)}`},children:G.jsx(Vb,{sx:{width:100,height:100},"aria-label":"metro-control",onClick:()=>e(n.target),children:G.jsx(uit,{sx:{fontSize:80}})})})})}}),lit=ert([Xnt,Qnt,trt,rrt,ort,art,urt,lrt,frt,drt,ait,cit]),fit=K_(lit.controllerWidgets),dit={controller:fit},Qv=On("init",{widgets:gu(rP)}),Zv=On("pad",{target:Li.Schema,color:tt.Schema,options:Qn(rP)});ss(Qv,Zv);const xy={sysexControlCode:50,manufacturer:3},hit=dit.controller;On("resend",{});const pit=z_.of({init:t=>e=>{const n=Qv.make({widgets:e.map(r=>r.widget)});t.send(sl.jsonSchemaSysex(n,Qv,[xy.sysexControlCode],xy.manufacturer))},render:t=>e=>{e.forEach(n=>{t.send(sl.jsonSchemaSysex(Zv.make({target:n.target,color:n.color,options:n.options}),Zv,[xy.sysexControlCode]))})},targets:[]}),git=qP.of({name:"MIDI Structor UI",controller:pit,widgets:hit}),mit={device:git},sM=[u$.device,mit.device],yit=st.keyBy(sM,"name"),vit=u$.device,_it=t=>Js(st.get(yit,t,void 0)),bit=()=>st.map(sM,"name"),Sit={defaultDevice:vit,findByName:_it,getNames:bit},wit=t=>{const e=n=>{if(n.type==="init-ack")gt.importStatus.set({type:"ack",projectName:n.projectName}),gt.project.abletonName.set(n.projectName);else if(n.type==="init-project")gt.importStatus.set({type:"importing"}),gt.initArrangement.set(MH());else if(n.type==="init-track")gt.initArrangement.set(NH(n));else if(n.type==="init-clip")gt.initArrangement.set(LH(n));else if(n.type==="init-cue")gt.initArrangement.set(FH(n));else if(n.type==="init-done"){gt.importStatus.set({type:"finalizing"});const r=BH(gt.initArrangement.get());gt.project.arrangement.set(r),gt.importStatus.set({type:"done"})}else n.type==="beat"?gt.realTime.beats.set(n.value):n.type==="sig"?gt.realTime.timeSignature.set({noteCount:n.numer,noteLength:n.denom}):n.type==="bar-beat"?gt.realTime.barBeats.set(n.value):n.type==="tempo"?gt.realTime.tempo.set(n.value):n.type==="is-playing"?gt.realTime.isPlaying.set(n.value):n.type==="metronome-state"?gt.realTime.metronomeState.set(n.value):n.type==="loop-state"?gt.realTime.loopState.set(n.value):n.type==="half-beat"&&gt.realTime.halfBeat.set(n.isHalf)};t.on("sysex",n=>{const r=i3(n);r!==void 0&&e(r)})},Eit=(t,e)=>(t.emit(an.init()),gt.importStatus.sub(n=>{n.type==="ack"&&t.emit(an.initReady(e))})),xit=t=>st.find(t.projects,e=>e.key===t.active)||_p(),Cit=t=>{const e=t.controllers.flatMap(n=>In(Sit.findByName(n.device),{onSome:r=>r.widgets.resolve(n.config),onNone:()=>[]}));return Yl(e.flatMap(n=>n.tracks())).toArray()},Tit=(t,e)=>{mu.info("Project Main"),gt.project.config.sub(n=>{const r=xit(n);if(mu.info("Active project",r),r.key!=="reload-project"){const i=Cit(r);return Eit(e,i)}}),wit(t)},Oit={init:Tit};mu.info("Loading Project Worker Main");const aM=e0(),uM=e0();onmessage=t=>{st.isArray(t.data)&&t.data.length==2&&t.data[0]==="DAW_LISTENER"&&aM.emit(t.data[1])};uM.on("*",t=>postMessage(["DAW_EMITTER",t]));Oit.init(aM,uM);
