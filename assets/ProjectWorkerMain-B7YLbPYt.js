var xD=Object.defineProperty;var Jw=t=>{throw TypeError(t)};var CD=(t,e,n)=>e in t?xD(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var _=(t,e,n)=>CD(t,typeof e!="symbol"?e+"":e,n),Yw=(t,e,n)=>e.has(t)||Jw("Cannot "+n);var Xw=(t,e,n)=>(Yw(t,e,"read from private field"),n?n.call(t):e.get(t)),Qw=(t,e,n)=>e.has(t)?Jw("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Zw=(t,e,n,r)=>(Yw(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);function TD(t,e){return e.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(r){if(r!=="default"&&!(r in t)){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}})}),Object.freeze(t)}var bc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fO(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var f0={exports:{}},Ka=typeof Reflect=="object"?Reflect:null,tE=Ka&&typeof Ka.apply=="function"?Ka.apply:function(e,n,r){return Function.prototype.apply.call(e,n,r)},wd;Ka&&typeof Ka.ownKeys=="function"?wd=Ka.ownKeys:Object.getOwnPropertySymbols?wd=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:wd=function(e){return Object.getOwnPropertyNames(e)};function OD(t){console&&console.warn&&console.warn(t)}var dO=Number.isNaN||function(e){return e!==e};function Xt(){Xt.init.call(this)}f0.exports=Xt;f0.exports.once=$D;Xt.EventEmitter=Xt;Xt.prototype._events=void 0;Xt.prototype._eventsCount=0;Xt.prototype._maxListeners=void 0;var eE=10;function Dh(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(Xt,"defaultMaxListeners",{enumerable:!0,get:function(){return eE},set:function(t){if(typeof t!="number"||t<0||dO(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");eE=t}});Xt.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Xt.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||dO(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function hO(t){return t._maxListeners===void 0?Xt.defaultMaxListeners:t._maxListeners}Xt.prototype.getMaxListeners=function(){return hO(this)};Xt.prototype.emit=function(e){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var i=e==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var a;if(n.length>0&&(a=n[0]),a instanceof Error)throw a;var c=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw c.context=a,c}var l=s[e];if(l===void 0)return!1;if(typeof l=="function")tE(l,this,n);else for(var d=l.length,h=vO(l,d),r=0;r<d;++r)tE(h[r],this,n);return!0};function pO(t,e,n,r){var i,s,a;if(Dh(n),s=t._events,s===void 0?(s=t._events=Object.create(null),t._eventsCount=0):(s.newListener!==void 0&&(t.emit("newListener",e,n.listener?n.listener:n),s=t._events),a=s[e]),a===void 0)a=s[e]=n,++t._eventsCount;else if(typeof a=="function"?a=s[e]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),i=hO(t),i>0&&a.length>i&&!a.warned){a.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=t,c.type=e,c.count=a.length,OD(c)}return t}Xt.prototype.addListener=function(e,n){return pO(this,e,n,!1)};Xt.prototype.on=Xt.prototype.addListener;Xt.prototype.prependListener=function(e,n){return pO(this,e,n,!0)};function AD(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function gO(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=AD.bind(r);return i.listener=n,r.wrapFn=i,i}Xt.prototype.once=function(e,n){return Dh(n),this.on(e,gO(this,e,n)),this};Xt.prototype.prependOnceListener=function(e,n){return Dh(n),this.prependListener(e,gO(this,e,n)),this};Xt.prototype.removeListener=function(e,n){var r,i,s,a,c;if(Dh(n),i=this._events,i===void 0)return this;if(r=i[e],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,r.listener||n));else if(typeof r!="function"){for(s=-1,a=r.length-1;a>=0;a--)if(r[a]===n||r[a].listener===n){c=r[a].listener,s=a;break}if(s<0)return this;s===0?r.shift():kD(r,s),r.length===1&&(i[e]=r[0]),i.removeListener!==void 0&&this.emit("removeListener",e,c||n)}return this};Xt.prototype.off=Xt.prototype.removeListener;Xt.prototype.removeAllListeners=function(e){var n,r,i;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var s=Object.keys(r),a;for(i=0;i<s.length;++i)a=s[i],a!=="removeListener"&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[e],typeof n=="function")this.removeListener(e,n);else if(n!==void 0)for(i=n.length-1;i>=0;i--)this.removeListener(e,n[i]);return this};function mO(t,e,n){var r=t._events;if(r===void 0)return[];var i=r[e];return i===void 0?[]:typeof i=="function"?n?[i.listener||i]:[i]:n?ID(i):vO(i,i.length)}Xt.prototype.listeners=function(e){return mO(this,e,!0)};Xt.prototype.rawListeners=function(e){return mO(this,e,!1)};Xt.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):yO.call(t,e)};Xt.prototype.listenerCount=yO;function yO(t){var e=this._events;if(e!==void 0){var n=e[t];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}Xt.prototype.eventNames=function(){return this._eventsCount>0?wd(this._events):[]};function vO(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function kD(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function ID(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}function $D(t,e){return new Promise(function(n,r){function i(a){t.removeListener(e,s),r(a)}function s(){typeof t.removeListener=="function"&&t.removeListener("error",i),n([].slice.call(arguments))}_O(t,e,s,{once:!0}),e!=="error"&&RD(t,i,{once:!0})})}function RD(t,e,n){typeof t.on=="function"&&_O(t,"error",e,n)}function _O(t,e,n,r){if(typeof t.on=="function")r.once?t.once(e,n):t.on(e,n);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(s){r.once&&t.removeEventListener(e,i),n(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var PD=f0.exports;const MD=typeof window>"u",ND=()=>MD&&typeof self<"u"?self.name==="project"?"project":"controller":"main",Fy=ND(),LD=t=>t==="main"?"32":t==="project"?"34":"33",FD=LD(Fy),qd={type:Fy,isMain:Fy==="main",color:FD},nE=()=>{},BD=()=>{const t=qd.type,n=`\x1B[${qd.color}m[${t}]\x1B[0m %s`;return{debug:console.debug.bind(console,n),info:console.info.bind(console,n),warn:console.warn.bind(console,n),error:console.error.bind(console,n),noop:nE,enabled:(r,i)=>r?i:nE}},Rn=BD(),Yc=()=>jD(new PD.EventEmitter),jD=t=>({on:(e,n)=>(t.on(e,n),()=>{t.off(e,n)}),emit:e=>{t.emit("*",e),t.emit(e.type,e)}}),d0=t=>{const e=Rn.enabled(!1,Rn.info),n=Yc(),r=Yc(),i=new BroadcastChannel(t);return i.onmessage=s=>{e("Received message",s),r.emit(s.data)},n.on("*",s=>{e("Emitting event",s),i.postMessage(s)}),{emitter:n,listener:r}};var Vd={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Vd.exports;(function(t,e){(function(){var n,r="4.17.21",i=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",c="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",d=500,h="__lodash_placeholder__",g=1,y=2,v=4,S=1,x=2,T=1,O=2,N=4,P=8,$=16,j=32,B=64,k=128,U=256,K=512,b=30,M="...",D=800,X=16,nt=1,mt=2,gt=3,it=1/0,at=9007199254740991,Nt=17976931348623157e292,sn=NaN,se=4294967295,Mo=se-1,tc=se>>>1,ec=[["ary",k],["bind",T],["bindKey",O],["curry",P],["curryRight",$],["flip",K],["partial",j],["partialRight",B],["rearg",U]],Ei="[object Arguments]",No="[object Array]",ms="[object AsyncFunction]",to="[object Boolean]",Jn="[object Date]",nc="[object DOMException]",Lo="[object Error]",Fo="[object Function]",ga="[object GeneratorFunction]",an="[object Map]",eo="[object Number]",rc="[object Null]",bn="[object Object]",xi="[object Promise]",ic="[object Proxy]",Ci="[object RegExp]",Bn="[object Set]",Q="[object String]",ht="[object Symbol]",Sn="[object Undefined]",wn="[object WeakMap]",Bo="[object WeakSet]",ri="[object ArrayBuffer]",jo="[object DataView]",bg="[object Float32Array]",Sg="[object Float64Array]",wg="[object Int8Array]",Eg="[object Int16Array]",xg="[object Int32Array]",Cg="[object Uint8Array]",Tg="[object Uint8ClampedArray]",Og="[object Uint16Array]",Ag="[object Uint32Array]",qM=/\b__p \+= '';/g,VM=/\b(__p \+=) '' \+/g,HM=/(__e\(.*?\)|\b__t\)) \+\n'';/g,bS=/&(?:amp|lt|gt|quot|#39);/g,SS=/[&<>"']/g,GM=RegExp(bS.source),JM=RegExp(SS.source),YM=/<%-([\s\S]+?)%>/g,XM=/<%([\s\S]+?)%>/g,wS=/<%=([\s\S]+?)%>/g,QM=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ZM=/^\w*$/,tN=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,kg=/[\\^$.*+?()[\]{}|]/g,eN=RegExp(kg.source),Ig=/^\s+/,nN=/\s/,rN=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,iN=/\{\n\/\* \[wrapped with (.+)\] \*/,oN=/,? & /,sN=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,aN=/[()=,{}\[\]\/\s]/,uN=/\\(\\)?/g,cN=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ES=/\w*$/,lN=/^[-+]0x[0-9a-f]+$/i,fN=/^0b[01]+$/i,dN=/^\[object .+?Constructor\]$/,hN=/^0o[0-7]+$/i,pN=/^(?:0|[1-9]\d*)$/,gN=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,lf=/($^)/,mN=/['\n\r\u2028\u2029\\]/g,ff="\\ud800-\\udfff",yN="\\u0300-\\u036f",vN="\\ufe20-\\ufe2f",_N="\\u20d0-\\u20ff",xS=yN+vN+_N,CS="\\u2700-\\u27bf",TS="a-z\\xdf-\\xf6\\xf8-\\xff",bN="\\xac\\xb1\\xd7\\xf7",SN="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",wN="\\u2000-\\u206f",EN=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",OS="A-Z\\xc0-\\xd6\\xd8-\\xde",AS="\\ufe0e\\ufe0f",kS=bN+SN+wN+EN,$g="['’]",xN="["+ff+"]",IS="["+kS+"]",df="["+xS+"]",$S="\\d+",CN="["+CS+"]",RS="["+TS+"]",PS="[^"+ff+kS+$S+CS+TS+OS+"]",Rg="\\ud83c[\\udffb-\\udfff]",TN="(?:"+df+"|"+Rg+")",MS="[^"+ff+"]",Pg="(?:\\ud83c[\\udde6-\\uddff]){2}",Mg="[\\ud800-\\udbff][\\udc00-\\udfff]",ma="["+OS+"]",NS="\\u200d",LS="(?:"+RS+"|"+PS+")",ON="(?:"+ma+"|"+PS+")",FS="(?:"+$g+"(?:d|ll|m|re|s|t|ve))?",BS="(?:"+$g+"(?:D|LL|M|RE|S|T|VE))?",jS=TN+"?",DS="["+AS+"]?",AN="(?:"+NS+"(?:"+[MS,Pg,Mg].join("|")+")"+DS+jS+")*",kN="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",IN="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",US=DS+jS+AN,$N="(?:"+[CN,Pg,Mg].join("|")+")"+US,RN="(?:"+[MS+df+"?",df,Pg,Mg,xN].join("|")+")",PN=RegExp($g,"g"),MN=RegExp(df,"g"),Ng=RegExp(Rg+"(?="+Rg+")|"+RN+US,"g"),NN=RegExp([ma+"?"+RS+"+"+FS+"(?="+[IS,ma,"$"].join("|")+")",ON+"+"+BS+"(?="+[IS,ma+LS,"$"].join("|")+")",ma+"?"+LS+"+"+FS,ma+"+"+BS,IN,kN,$S,$N].join("|"),"g"),LN=RegExp("["+NS+ff+xS+AS+"]"),FN=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,BN=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],jN=-1,le={};le[bg]=le[Sg]=le[wg]=le[Eg]=le[xg]=le[Cg]=le[Tg]=le[Og]=le[Ag]=!0,le[Ei]=le[No]=le[ri]=le[to]=le[jo]=le[Jn]=le[Lo]=le[Fo]=le[an]=le[eo]=le[bn]=le[Ci]=le[Bn]=le[Q]=le[wn]=!1;var ae={};ae[Ei]=ae[No]=ae[ri]=ae[jo]=ae[to]=ae[Jn]=ae[bg]=ae[Sg]=ae[wg]=ae[Eg]=ae[xg]=ae[an]=ae[eo]=ae[bn]=ae[Ci]=ae[Bn]=ae[Q]=ae[ht]=ae[Cg]=ae[Tg]=ae[Og]=ae[Ag]=!0,ae[Lo]=ae[Fo]=ae[wn]=!1;var DN={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},UN={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},zN={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},WN={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},KN=parseFloat,qN=parseInt,zS=typeof bc=="object"&&bc&&bc.Object===Object&&bc,VN=typeof self=="object"&&self&&self.Object===Object&&self,un=zS||VN||Function("return this")(),Lg=e&&!e.nodeType&&e,ys=Lg&&!0&&t&&!t.nodeType&&t,WS=ys&&ys.exports===Lg,Fg=WS&&zS.process,Rr=function(){try{var I=ys&&ys.require&&ys.require("util").types;return I||Fg&&Fg.binding&&Fg.binding("util")}catch{}}(),KS=Rr&&Rr.isArrayBuffer,qS=Rr&&Rr.isDate,VS=Rr&&Rr.isMap,HS=Rr&&Rr.isRegExp,GS=Rr&&Rr.isSet,JS=Rr&&Rr.isTypedArray;function sr(I,W,F){switch(F.length){case 0:return I.call(W);case 1:return I.call(W,F[0]);case 2:return I.call(W,F[0],F[1]);case 3:return I.call(W,F[0],F[1],F[2])}return I.apply(W,F)}function HN(I,W,F,et){for(var yt=-1,zt=I==null?0:I.length;++yt<zt;){var ze=I[yt];W(et,ze,F(ze),I)}return et}function Pr(I,W){for(var F=-1,et=I==null?0:I.length;++F<et&&W(I[F],F,I)!==!1;);return I}function GN(I,W){for(var F=I==null?0:I.length;F--&&W(I[F],F,I)!==!1;);return I}function YS(I,W){for(var F=-1,et=I==null?0:I.length;++F<et;)if(!W(I[F],F,I))return!1;return!0}function Do(I,W){for(var F=-1,et=I==null?0:I.length,yt=0,zt=[];++F<et;){var ze=I[F];W(ze,F,I)&&(zt[yt++]=ze)}return zt}function hf(I,W){var F=I==null?0:I.length;return!!F&&ya(I,W,0)>-1}function Bg(I,W,F){for(var et=-1,yt=I==null?0:I.length;++et<yt;)if(F(W,I[et]))return!0;return!1}function he(I,W){for(var F=-1,et=I==null?0:I.length,yt=Array(et);++F<et;)yt[F]=W(I[F],F,I);return yt}function Uo(I,W){for(var F=-1,et=W.length,yt=I.length;++F<et;)I[yt+F]=W[F];return I}function jg(I,W,F,et){var yt=-1,zt=I==null?0:I.length;for(et&&zt&&(F=I[++yt]);++yt<zt;)F=W(F,I[yt],yt,I);return F}function JN(I,W,F,et){var yt=I==null?0:I.length;for(et&&yt&&(F=I[--yt]);yt--;)F=W(F,I[yt],yt,I);return F}function Dg(I,W){for(var F=-1,et=I==null?0:I.length;++F<et;)if(W(I[F],F,I))return!0;return!1}var YN=Ug("length");function XN(I){return I.split("")}function QN(I){return I.match(sN)||[]}function XS(I,W,F){var et;return F(I,function(yt,zt,ze){if(W(yt,zt,ze))return et=zt,!1}),et}function pf(I,W,F,et){for(var yt=I.length,zt=F+(et?1:-1);et?zt--:++zt<yt;)if(W(I[zt],zt,I))return zt;return-1}function ya(I,W,F){return W===W?lL(I,W,F):pf(I,QS,F)}function ZN(I,W,F,et){for(var yt=F-1,zt=I.length;++yt<zt;)if(et(I[yt],W))return yt;return-1}function QS(I){return I!==I}function ZS(I,W){var F=I==null?0:I.length;return F?Wg(I,W)/F:sn}function Ug(I){return function(W){return W==null?n:W[I]}}function zg(I){return function(W){return I==null?n:I[W]}}function t1(I,W,F,et,yt){return yt(I,function(zt,ze,Qt){F=et?(et=!1,zt):W(F,zt,ze,Qt)}),F}function tL(I,W){var F=I.length;for(I.sort(W);F--;)I[F]=I[F].value;return I}function Wg(I,W){for(var F,et=-1,yt=I.length;++et<yt;){var zt=W(I[et]);zt!==n&&(F=F===n?zt:F+zt)}return F}function Kg(I,W){for(var F=-1,et=Array(I);++F<I;)et[F]=W(F);return et}function eL(I,W){return he(W,function(F){return[F,I[F]]})}function e1(I){return I&&I.slice(0,o1(I)+1).replace(Ig,"")}function ar(I){return function(W){return I(W)}}function qg(I,W){return he(W,function(F){return I[F]})}function oc(I,W){return I.has(W)}function n1(I,W){for(var F=-1,et=I.length;++F<et&&ya(W,I[F],0)>-1;);return F}function r1(I,W){for(var F=I.length;F--&&ya(W,I[F],0)>-1;);return F}function nL(I,W){for(var F=I.length,et=0;F--;)I[F]===W&&++et;return et}var rL=zg(DN),iL=zg(UN);function oL(I){return"\\"+WN[I]}function sL(I,W){return I==null?n:I[W]}function va(I){return LN.test(I)}function aL(I){return FN.test(I)}function uL(I){for(var W,F=[];!(W=I.next()).done;)F.push(W.value);return F}function Vg(I){var W=-1,F=Array(I.size);return I.forEach(function(et,yt){F[++W]=[yt,et]}),F}function i1(I,W){return function(F){return I(W(F))}}function zo(I,W){for(var F=-1,et=I.length,yt=0,zt=[];++F<et;){var ze=I[F];(ze===W||ze===h)&&(I[F]=h,zt[yt++]=F)}return zt}function gf(I){var W=-1,F=Array(I.size);return I.forEach(function(et){F[++W]=et}),F}function cL(I){var W=-1,F=Array(I.size);return I.forEach(function(et){F[++W]=[et,et]}),F}function lL(I,W,F){for(var et=F-1,yt=I.length;++et<yt;)if(I[et]===W)return et;return-1}function fL(I,W,F){for(var et=F+1;et--;)if(I[et]===W)return et;return et}function _a(I){return va(I)?hL(I):YN(I)}function ii(I){return va(I)?pL(I):XN(I)}function o1(I){for(var W=I.length;W--&&nN.test(I.charAt(W)););return W}var dL=zg(zN);function hL(I){for(var W=Ng.lastIndex=0;Ng.test(I);)++W;return W}function pL(I){return I.match(Ng)||[]}function gL(I){return I.match(NN)||[]}var mL=function I(W){W=W==null?un:ba.defaults(un.Object(),W,ba.pick(un,BN));var F=W.Array,et=W.Date,yt=W.Error,zt=W.Function,ze=W.Math,Qt=W.Object,Hg=W.RegExp,yL=W.String,Mr=W.TypeError,mf=F.prototype,vL=zt.prototype,Sa=Qt.prototype,yf=W["__core-js_shared__"],vf=vL.toString,Gt=Sa.hasOwnProperty,_L=0,s1=function(){var o=/[^.]+$/.exec(yf&&yf.keys&&yf.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""}(),_f=Sa.toString,bL=vf.call(Qt),SL=un._,wL=Hg("^"+vf.call(Gt).replace(kg,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),bf=WS?W.Buffer:n,Wo=W.Symbol,Sf=W.Uint8Array,a1=bf?bf.allocUnsafe:n,wf=i1(Qt.getPrototypeOf,Qt),u1=Qt.create,c1=Sa.propertyIsEnumerable,Ef=mf.splice,l1=Wo?Wo.isConcatSpreadable:n,sc=Wo?Wo.iterator:n,vs=Wo?Wo.toStringTag:n,xf=function(){try{var o=Es(Qt,"defineProperty");return o({},"",{}),o}catch{}}(),EL=W.clearTimeout!==un.clearTimeout&&W.clearTimeout,xL=et&&et.now!==un.Date.now&&et.now,CL=W.setTimeout!==un.setTimeout&&W.setTimeout,Cf=ze.ceil,Tf=ze.floor,Gg=Qt.getOwnPropertySymbols,TL=bf?bf.isBuffer:n,f1=W.isFinite,OL=mf.join,AL=i1(Qt.keys,Qt),We=ze.max,En=ze.min,kL=et.now,IL=W.parseInt,d1=ze.random,$L=mf.reverse,Jg=Es(W,"DataView"),ac=Es(W,"Map"),Yg=Es(W,"Promise"),wa=Es(W,"Set"),uc=Es(W,"WeakMap"),cc=Es(Qt,"create"),Of=uc&&new uc,Ea={},RL=xs(Jg),PL=xs(ac),ML=xs(Yg),NL=xs(wa),LL=xs(uc),Af=Wo?Wo.prototype:n,lc=Af?Af.valueOf:n,h1=Af?Af.toString:n;function w(o){if(Se(o)&&!bt(o)&&!(o instanceof Mt)){if(o instanceof Nr)return o;if(Gt.call(o,"__wrapped__"))return pw(o)}return new Nr(o)}var xa=function(){function o(){}return function(u){if(!ye(u))return{};if(u1)return u1(u);o.prototype=u;var f=new o;return o.prototype=n,f}}();function kf(){}function Nr(o,u){this.__wrapped__=o,this.__actions__=[],this.__chain__=!!u,this.__index__=0,this.__values__=n}w.templateSettings={escape:YM,evaluate:XM,interpolate:wS,variable:"",imports:{_:w}},w.prototype=kf.prototype,w.prototype.constructor=w,Nr.prototype=xa(kf.prototype),Nr.prototype.constructor=Nr;function Mt(o){this.__wrapped__=o,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=se,this.__views__=[]}function FL(){var o=new Mt(this.__wrapped__);return o.__actions__=Yn(this.__actions__),o.__dir__=this.__dir__,o.__filtered__=this.__filtered__,o.__iteratees__=Yn(this.__iteratees__),o.__takeCount__=this.__takeCount__,o.__views__=Yn(this.__views__),o}function BL(){if(this.__filtered__){var o=new Mt(this);o.__dir__=-1,o.__filtered__=!0}else o=this.clone(),o.__dir__*=-1;return o}function jL(){var o=this.__wrapped__.value(),u=this.__dir__,f=bt(o),p=u<0,m=f?o.length:0,E=X2(0,m,this.__views__),C=E.start,A=E.end,R=A-C,q=p?A:C-1,V=this.__iteratees__,Y=V.length,Z=0,ot=En(R,this.__takeCount__);if(!f||!p&&m==R&&ot==R)return F1(o,this.__actions__);var ft=[];t:for(;R--&&Z<ot;){q+=u;for(var Tt=-1,dt=o[q];++Tt<Y;){var Rt=V[Tt],Lt=Rt.iteratee,lr=Rt.type,Un=Lt(dt);if(lr==mt)dt=Un;else if(!Un){if(lr==nt)continue t;break t}}ft[Z++]=dt}return ft}Mt.prototype=xa(kf.prototype),Mt.prototype.constructor=Mt;function _s(o){var u=-1,f=o==null?0:o.length;for(this.clear();++u<f;){var p=o[u];this.set(p[0],p[1])}}function DL(){this.__data__=cc?cc(null):{},this.size=0}function UL(o){var u=this.has(o)&&delete this.__data__[o];return this.size-=u?1:0,u}function zL(o){var u=this.__data__;if(cc){var f=u[o];return f===l?n:f}return Gt.call(u,o)?u[o]:n}function WL(o){var u=this.__data__;return cc?u[o]!==n:Gt.call(u,o)}function KL(o,u){var f=this.__data__;return this.size+=this.has(o)?0:1,f[o]=cc&&u===n?l:u,this}_s.prototype.clear=DL,_s.prototype.delete=UL,_s.prototype.get=zL,_s.prototype.has=WL,_s.prototype.set=KL;function no(o){var u=-1,f=o==null?0:o.length;for(this.clear();++u<f;){var p=o[u];this.set(p[0],p[1])}}function qL(){this.__data__=[],this.size=0}function VL(o){var u=this.__data__,f=If(u,o);if(f<0)return!1;var p=u.length-1;return f==p?u.pop():Ef.call(u,f,1),--this.size,!0}function HL(o){var u=this.__data__,f=If(u,o);return f<0?n:u[f][1]}function GL(o){return If(this.__data__,o)>-1}function JL(o,u){var f=this.__data__,p=If(f,o);return p<0?(++this.size,f.push([o,u])):f[p][1]=u,this}no.prototype.clear=qL,no.prototype.delete=VL,no.prototype.get=HL,no.prototype.has=GL,no.prototype.set=JL;function ro(o){var u=-1,f=o==null?0:o.length;for(this.clear();++u<f;){var p=o[u];this.set(p[0],p[1])}}function YL(){this.size=0,this.__data__={hash:new _s,map:new(ac||no),string:new _s}}function XL(o){var u=zf(this,o).delete(o);return this.size-=u?1:0,u}function QL(o){return zf(this,o).get(o)}function ZL(o){return zf(this,o).has(o)}function t2(o,u){var f=zf(this,o),p=f.size;return f.set(o,u),this.size+=f.size==p?0:1,this}ro.prototype.clear=YL,ro.prototype.delete=XL,ro.prototype.get=QL,ro.prototype.has=ZL,ro.prototype.set=t2;function bs(o){var u=-1,f=o==null?0:o.length;for(this.__data__=new ro;++u<f;)this.add(o[u])}function e2(o){return this.__data__.set(o,l),this}function n2(o){return this.__data__.has(o)}bs.prototype.add=bs.prototype.push=e2,bs.prototype.has=n2;function oi(o){var u=this.__data__=new no(o);this.size=u.size}function r2(){this.__data__=new no,this.size=0}function i2(o){var u=this.__data__,f=u.delete(o);return this.size=u.size,f}function o2(o){return this.__data__.get(o)}function s2(o){return this.__data__.has(o)}function a2(o,u){var f=this.__data__;if(f instanceof no){var p=f.__data__;if(!ac||p.length<i-1)return p.push([o,u]),this.size=++f.size,this;f=this.__data__=new ro(p)}return f.set(o,u),this.size=f.size,this}oi.prototype.clear=r2,oi.prototype.delete=i2,oi.prototype.get=o2,oi.prototype.has=s2,oi.prototype.set=a2;function p1(o,u){var f=bt(o),p=!f&&Cs(o),m=!f&&!p&&Go(o),E=!f&&!p&&!m&&Aa(o),C=f||p||m||E,A=C?Kg(o.length,yL):[],R=A.length;for(var q in o)(u||Gt.call(o,q))&&!(C&&(q=="length"||m&&(q=="offset"||q=="parent")||E&&(q=="buffer"||q=="byteLength"||q=="byteOffset")||ao(q,R)))&&A.push(q);return A}function g1(o){var u=o.length;return u?o[am(0,u-1)]:n}function u2(o,u){return Wf(Yn(o),Ss(u,0,o.length))}function c2(o){return Wf(Yn(o))}function Xg(o,u,f){(f!==n&&!si(o[u],f)||f===n&&!(u in o))&&io(o,u,f)}function fc(o,u,f){var p=o[u];(!(Gt.call(o,u)&&si(p,f))||f===n&&!(u in o))&&io(o,u,f)}function If(o,u){for(var f=o.length;f--;)if(si(o[f][0],u))return f;return-1}function l2(o,u,f,p){return Ko(o,function(m,E,C){u(p,m,f(m),C)}),p}function m1(o,u){return o&&Oi(u,Ye(u),o)}function f2(o,u){return o&&Oi(u,Qn(u),o)}function io(o,u,f){u=="__proto__"&&xf?xf(o,u,{configurable:!0,enumerable:!0,value:f,writable:!0}):o[u]=f}function Qg(o,u){for(var f=-1,p=u.length,m=F(p),E=o==null;++f<p;)m[f]=E?n:Rm(o,u[f]);return m}function Ss(o,u,f){return o===o&&(f!==n&&(o=o<=f?o:f),u!==n&&(o=o>=u?o:u)),o}function Lr(o,u,f,p,m,E){var C,A=u&g,R=u&y,q=u&v;if(f&&(C=m?f(o,p,m,E):f(o)),C!==n)return C;if(!ye(o))return o;var V=bt(o);if(V){if(C=Z2(o),!A)return Yn(o,C)}else{var Y=xn(o),Z=Y==Fo||Y==ga;if(Go(o))return D1(o,A);if(Y==bn||Y==Ei||Z&&!m){if(C=R||Z?{}:ow(o),!A)return R?z2(o,f2(C,o)):U2(o,m1(C,o))}else{if(!ae[Y])return m?o:{};C=tF(o,Y,A)}}E||(E=new oi);var ot=E.get(o);if(ot)return ot;E.set(o,C),Mw(o)?o.forEach(function(dt){C.add(Lr(dt,u,f,dt,o,E))}):Rw(o)&&o.forEach(function(dt,Rt){C.set(Rt,Lr(dt,u,f,Rt,o,E))});var ft=q?R?vm:ym:R?Qn:Ye,Tt=V?n:ft(o);return Pr(Tt||o,function(dt,Rt){Tt&&(Rt=dt,dt=o[Rt]),fc(C,Rt,Lr(dt,u,f,Rt,o,E))}),C}function d2(o){var u=Ye(o);return function(f){return y1(f,o,u)}}function y1(o,u,f){var p=f.length;if(o==null)return!p;for(o=Qt(o);p--;){var m=f[p],E=u[m],C=o[m];if(C===n&&!(m in o)||!E(C))return!1}return!0}function v1(o,u,f){if(typeof o!="function")throw new Mr(a);return vc(function(){o.apply(n,f)},u)}function dc(o,u,f,p){var m=-1,E=hf,C=!0,A=o.length,R=[],q=u.length;if(!A)return R;f&&(u=he(u,ar(f))),p?(E=Bg,C=!1):u.length>=i&&(E=oc,C=!1,u=new bs(u));t:for(;++m<A;){var V=o[m],Y=f==null?V:f(V);if(V=p||V!==0?V:0,C&&Y===Y){for(var Z=q;Z--;)if(u[Z]===Y)continue t;R.push(V)}else E(u,Y,p)||R.push(V)}return R}var Ko=q1(Ti),_1=q1(tm,!0);function h2(o,u){var f=!0;return Ko(o,function(p,m,E){return f=!!u(p,m,E),f}),f}function $f(o,u,f){for(var p=-1,m=o.length;++p<m;){var E=o[p],C=u(E);if(C!=null&&(A===n?C===C&&!cr(C):f(C,A)))var A=C,R=E}return R}function p2(o,u,f,p){var m=o.length;for(f=xt(f),f<0&&(f=-f>m?0:m+f),p=p===n||p>m?m:xt(p),p<0&&(p+=m),p=f>p?0:Lw(p);f<p;)o[f++]=u;return o}function b1(o,u){var f=[];return Ko(o,function(p,m,E){u(p,m,E)&&f.push(p)}),f}function cn(o,u,f,p,m){var E=-1,C=o.length;for(f||(f=nF),m||(m=[]);++E<C;){var A=o[E];u>0&&f(A)?u>1?cn(A,u-1,f,p,m):Uo(m,A):p||(m[m.length]=A)}return m}var Zg=V1(),S1=V1(!0);function Ti(o,u){return o&&Zg(o,u,Ye)}function tm(o,u){return o&&S1(o,u,Ye)}function Rf(o,u){return Do(u,function(f){return uo(o[f])})}function ws(o,u){u=Vo(u,o);for(var f=0,p=u.length;o!=null&&f<p;)o=o[Ai(u[f++])];return f&&f==p?o:n}function w1(o,u,f){var p=u(o);return bt(o)?p:Uo(p,f(o))}function jn(o){return o==null?o===n?Sn:rc:vs&&vs in Qt(o)?Y2(o):cF(o)}function em(o,u){return o>u}function g2(o,u){return o!=null&&Gt.call(o,u)}function m2(o,u){return o!=null&&u in Qt(o)}function y2(o,u,f){return o>=En(u,f)&&o<We(u,f)}function nm(o,u,f){for(var p=f?Bg:hf,m=o[0].length,E=o.length,C=E,A=F(E),R=1/0,q=[];C--;){var V=o[C];C&&u&&(V=he(V,ar(u))),R=En(V.length,R),A[C]=!f&&(u||m>=120&&V.length>=120)?new bs(C&&V):n}V=o[0];var Y=-1,Z=A[0];t:for(;++Y<m&&q.length<R;){var ot=V[Y],ft=u?u(ot):ot;if(ot=f||ot!==0?ot:0,!(Z?oc(Z,ft):p(q,ft,f))){for(C=E;--C;){var Tt=A[C];if(!(Tt?oc(Tt,ft):p(o[C],ft,f)))continue t}Z&&Z.push(ft),q.push(ot)}}return q}function v2(o,u,f,p){return Ti(o,function(m,E,C){u(p,f(m),E,C)}),p}function hc(o,u,f){u=Vo(u,o),o=cw(o,u);var p=o==null?o:o[Ai(Br(u))];return p==null?n:sr(p,o,f)}function E1(o){return Se(o)&&jn(o)==Ei}function _2(o){return Se(o)&&jn(o)==ri}function b2(o){return Se(o)&&jn(o)==Jn}function pc(o,u,f,p,m){return o===u?!0:o==null||u==null||!Se(o)&&!Se(u)?o!==o&&u!==u:S2(o,u,f,p,pc,m)}function S2(o,u,f,p,m,E){var C=bt(o),A=bt(u),R=C?No:xn(o),q=A?No:xn(u);R=R==Ei?bn:R,q=q==Ei?bn:q;var V=R==bn,Y=q==bn,Z=R==q;if(Z&&Go(o)){if(!Go(u))return!1;C=!0,V=!1}if(Z&&!V)return E||(E=new oi),C||Aa(o)?nw(o,u,f,p,m,E):G2(o,u,R,f,p,m,E);if(!(f&S)){var ot=V&&Gt.call(o,"__wrapped__"),ft=Y&&Gt.call(u,"__wrapped__");if(ot||ft){var Tt=ot?o.value():o,dt=ft?u.value():u;return E||(E=new oi),m(Tt,dt,f,p,E)}}return Z?(E||(E=new oi),J2(o,u,f,p,m,E)):!1}function w2(o){return Se(o)&&xn(o)==an}function rm(o,u,f,p){var m=f.length,E=m,C=!p;if(o==null)return!E;for(o=Qt(o);m--;){var A=f[m];if(C&&A[2]?A[1]!==o[A[0]]:!(A[0]in o))return!1}for(;++m<E;){A=f[m];var R=A[0],q=o[R],V=A[1];if(C&&A[2]){if(q===n&&!(R in o))return!1}else{var Y=new oi;if(p)var Z=p(q,V,R,o,u,Y);if(!(Z===n?pc(V,q,S|x,p,Y):Z))return!1}}return!0}function x1(o){if(!ye(o)||iF(o))return!1;var u=uo(o)?wL:dN;return u.test(xs(o))}function E2(o){return Se(o)&&jn(o)==Ci}function x2(o){return Se(o)&&xn(o)==Bn}function C2(o){return Se(o)&&Jf(o.length)&&!!le[jn(o)]}function C1(o){return typeof o=="function"?o:o==null?Zn:typeof o=="object"?bt(o)?A1(o[0],o[1]):O1(o):Hw(o)}function im(o){if(!yc(o))return AL(o);var u=[];for(var f in Qt(o))Gt.call(o,f)&&f!="constructor"&&u.push(f);return u}function T2(o){if(!ye(o))return uF(o);var u=yc(o),f=[];for(var p in o)p=="constructor"&&(u||!Gt.call(o,p))||f.push(p);return f}function om(o,u){return o<u}function T1(o,u){var f=-1,p=Xn(o)?F(o.length):[];return Ko(o,function(m,E,C){p[++f]=u(m,E,C)}),p}function O1(o){var u=bm(o);return u.length==1&&u[0][2]?aw(u[0][0],u[0][1]):function(f){return f===o||rm(f,o,u)}}function A1(o,u){return wm(o)&&sw(u)?aw(Ai(o),u):function(f){var p=Rm(f,o);return p===n&&p===u?Pm(f,o):pc(u,p,S|x)}}function Pf(o,u,f,p,m){o!==u&&Zg(u,function(E,C){if(m||(m=new oi),ye(E))O2(o,u,C,f,Pf,p,m);else{var A=p?p(xm(o,C),E,C+"",o,u,m):n;A===n&&(A=E),Xg(o,C,A)}},Qn)}function O2(o,u,f,p,m,E,C){var A=xm(o,f),R=xm(u,f),q=C.get(R);if(q){Xg(o,f,q);return}var V=E?E(A,R,f+"",o,u,C):n,Y=V===n;if(Y){var Z=bt(R),ot=!Z&&Go(R),ft=!Z&&!ot&&Aa(R);V=R,Z||ot||ft?bt(A)?V=A:Oe(A)?V=Yn(A):ot?(Y=!1,V=D1(R,!0)):ft?(Y=!1,V=U1(R,!0)):V=[]:_c(R)||Cs(R)?(V=A,Cs(A)?V=Fw(A):(!ye(A)||uo(A))&&(V=ow(R))):Y=!1}Y&&(C.set(R,V),m(V,R,p,E,C),C.delete(R)),Xg(o,f,V)}function k1(o,u){var f=o.length;if(f)return u+=u<0?f:0,ao(u,f)?o[u]:n}function I1(o,u,f){u.length?u=he(u,function(E){return bt(E)?function(C){return ws(C,E.length===1?E[0]:E)}:E}):u=[Zn];var p=-1;u=he(u,ar(lt()));var m=T1(o,function(E,C,A){var R=he(u,function(q){return q(E)});return{criteria:R,index:++p,value:E}});return tL(m,function(E,C){return D2(E,C,f)})}function A2(o,u){return $1(o,u,function(f,p){return Pm(o,p)})}function $1(o,u,f){for(var p=-1,m=u.length,E={};++p<m;){var C=u[p],A=ws(o,C);f(A,C)&&gc(E,Vo(C,o),A)}return E}function k2(o){return function(u){return ws(u,o)}}function sm(o,u,f,p){var m=p?ZN:ya,E=-1,C=u.length,A=o;for(o===u&&(u=Yn(u)),f&&(A=he(o,ar(f)));++E<C;)for(var R=0,q=u[E],V=f?f(q):q;(R=m(A,V,R,p))>-1;)A!==o&&Ef.call(A,R,1),Ef.call(o,R,1);return o}function R1(o,u){for(var f=o?u.length:0,p=f-1;f--;){var m=u[f];if(f==p||m!==E){var E=m;ao(m)?Ef.call(o,m,1):lm(o,m)}}return o}function am(o,u){return o+Tf(d1()*(u-o+1))}function I2(o,u,f,p){for(var m=-1,E=We(Cf((u-o)/(f||1)),0),C=F(E);E--;)C[p?E:++m]=o,o+=f;return C}function um(o,u){var f="";if(!o||u<1||u>at)return f;do u%2&&(f+=o),u=Tf(u/2),u&&(o+=o);while(u);return f}function kt(o,u){return Cm(uw(o,u,Zn),o+"")}function $2(o){return g1(ka(o))}function R2(o,u){var f=ka(o);return Wf(f,Ss(u,0,f.length))}function gc(o,u,f,p){if(!ye(o))return o;u=Vo(u,o);for(var m=-1,E=u.length,C=E-1,A=o;A!=null&&++m<E;){var R=Ai(u[m]),q=f;if(R==="__proto__"||R==="constructor"||R==="prototype")return o;if(m!=C){var V=A[R];q=p?p(V,R,A):n,q===n&&(q=ye(V)?V:ao(u[m+1])?[]:{})}fc(A,R,q),A=A[R]}return o}var P1=Of?function(o,u){return Of.set(o,u),o}:Zn,P2=xf?function(o,u){return xf(o,"toString",{configurable:!0,enumerable:!1,value:Nm(u),writable:!0})}:Zn;function M2(o){return Wf(ka(o))}function Fr(o,u,f){var p=-1,m=o.length;u<0&&(u=-u>m?0:m+u),f=f>m?m:f,f<0&&(f+=m),m=u>f?0:f-u>>>0,u>>>=0;for(var E=F(m);++p<m;)E[p]=o[p+u];return E}function N2(o,u){var f;return Ko(o,function(p,m,E){return f=u(p,m,E),!f}),!!f}function Mf(o,u,f){var p=0,m=o==null?p:o.length;if(typeof u=="number"&&u===u&&m<=tc){for(;p<m;){var E=p+m>>>1,C=o[E];C!==null&&!cr(C)&&(f?C<=u:C<u)?p=E+1:m=E}return m}return cm(o,u,Zn,f)}function cm(o,u,f,p){var m=0,E=o==null?0:o.length;if(E===0)return 0;u=f(u);for(var C=u!==u,A=u===null,R=cr(u),q=u===n;m<E;){var V=Tf((m+E)/2),Y=f(o[V]),Z=Y!==n,ot=Y===null,ft=Y===Y,Tt=cr(Y);if(C)var dt=p||ft;else q?dt=ft&&(p||Z):A?dt=ft&&Z&&(p||!ot):R?dt=ft&&Z&&!ot&&(p||!Tt):ot||Tt?dt=!1:dt=p?Y<=u:Y<u;dt?m=V+1:E=V}return En(E,Mo)}function M1(o,u){for(var f=-1,p=o.length,m=0,E=[];++f<p;){var C=o[f],A=u?u(C):C;if(!f||!si(A,R)){var R=A;E[m++]=C===0?0:C}}return E}function N1(o){return typeof o=="number"?o:cr(o)?sn:+o}function ur(o){if(typeof o=="string")return o;if(bt(o))return he(o,ur)+"";if(cr(o))return h1?h1.call(o):"";var u=o+"";return u=="0"&&1/o==-1/0?"-0":u}function qo(o,u,f){var p=-1,m=hf,E=o.length,C=!0,A=[],R=A;if(f)C=!1,m=Bg;else if(E>=i){var q=u?null:V2(o);if(q)return gf(q);C=!1,m=oc,R=new bs}else R=u?[]:A;t:for(;++p<E;){var V=o[p],Y=u?u(V):V;if(V=f||V!==0?V:0,C&&Y===Y){for(var Z=R.length;Z--;)if(R[Z]===Y)continue t;u&&R.push(Y),A.push(V)}else m(R,Y,f)||(R!==A&&R.push(Y),A.push(V))}return A}function lm(o,u){return u=Vo(u,o),o=cw(o,u),o==null||delete o[Ai(Br(u))]}function L1(o,u,f,p){return gc(o,u,f(ws(o,u)),p)}function Nf(o,u,f,p){for(var m=o.length,E=p?m:-1;(p?E--:++E<m)&&u(o[E],E,o););return f?Fr(o,p?0:E,p?E+1:m):Fr(o,p?E+1:0,p?m:E)}function F1(o,u){var f=o;return f instanceof Mt&&(f=f.value()),jg(u,function(p,m){return m.func.apply(m.thisArg,Uo([p],m.args))},f)}function fm(o,u,f){var p=o.length;if(p<2)return p?qo(o[0]):[];for(var m=-1,E=F(p);++m<p;)for(var C=o[m],A=-1;++A<p;)A!=m&&(E[m]=dc(E[m]||C,o[A],u,f));return qo(cn(E,1),u,f)}function B1(o,u,f){for(var p=-1,m=o.length,E=u.length,C={};++p<m;){var A=p<E?u[p]:n;f(C,o[p],A)}return C}function dm(o){return Oe(o)?o:[]}function hm(o){return typeof o=="function"?o:Zn}function Vo(o,u){return bt(o)?o:wm(o,u)?[o]:hw(Vt(o))}var L2=kt;function Ho(o,u,f){var p=o.length;return f=f===n?p:f,!u&&f>=p?o:Fr(o,u,f)}var j1=EL||function(o){return un.clearTimeout(o)};function D1(o,u){if(u)return o.slice();var f=o.length,p=a1?a1(f):new o.constructor(f);return o.copy(p),p}function pm(o){var u=new o.constructor(o.byteLength);return new Sf(u).set(new Sf(o)),u}function F2(o,u){var f=u?pm(o.buffer):o.buffer;return new o.constructor(f,o.byteOffset,o.byteLength)}function B2(o){var u=new o.constructor(o.source,ES.exec(o));return u.lastIndex=o.lastIndex,u}function j2(o){return lc?Qt(lc.call(o)):{}}function U1(o,u){var f=u?pm(o.buffer):o.buffer;return new o.constructor(f,o.byteOffset,o.length)}function z1(o,u){if(o!==u){var f=o!==n,p=o===null,m=o===o,E=cr(o),C=u!==n,A=u===null,R=u===u,q=cr(u);if(!A&&!q&&!E&&o>u||E&&C&&R&&!A&&!q||p&&C&&R||!f&&R||!m)return 1;if(!p&&!E&&!q&&o<u||q&&f&&m&&!p&&!E||A&&f&&m||!C&&m||!R)return-1}return 0}function D2(o,u,f){for(var p=-1,m=o.criteria,E=u.criteria,C=m.length,A=f.length;++p<C;){var R=z1(m[p],E[p]);if(R){if(p>=A)return R;var q=f[p];return R*(q=="desc"?-1:1)}}return o.index-u.index}function W1(o,u,f,p){for(var m=-1,E=o.length,C=f.length,A=-1,R=u.length,q=We(E-C,0),V=F(R+q),Y=!p;++A<R;)V[A]=u[A];for(;++m<C;)(Y||m<E)&&(V[f[m]]=o[m]);for(;q--;)V[A++]=o[m++];return V}function K1(o,u,f,p){for(var m=-1,E=o.length,C=-1,A=f.length,R=-1,q=u.length,V=We(E-A,0),Y=F(V+q),Z=!p;++m<V;)Y[m]=o[m];for(var ot=m;++R<q;)Y[ot+R]=u[R];for(;++C<A;)(Z||m<E)&&(Y[ot+f[C]]=o[m++]);return Y}function Yn(o,u){var f=-1,p=o.length;for(u||(u=F(p));++f<p;)u[f]=o[f];return u}function Oi(o,u,f,p){var m=!f;f||(f={});for(var E=-1,C=u.length;++E<C;){var A=u[E],R=p?p(f[A],o[A],A,f,o):n;R===n&&(R=o[A]),m?io(f,A,R):fc(f,A,R)}return f}function U2(o,u){return Oi(o,Sm(o),u)}function z2(o,u){return Oi(o,rw(o),u)}function Lf(o,u){return function(f,p){var m=bt(f)?HN:l2,E=u?u():{};return m(f,o,lt(p,2),E)}}function Ca(o){return kt(function(u,f){var p=-1,m=f.length,E=m>1?f[m-1]:n,C=m>2?f[2]:n;for(E=o.length>3&&typeof E=="function"?(m--,E):n,C&&Dn(f[0],f[1],C)&&(E=m<3?n:E,m=1),u=Qt(u);++p<m;){var A=f[p];A&&o(u,A,p,E)}return u})}function q1(o,u){return function(f,p){if(f==null)return f;if(!Xn(f))return o(f,p);for(var m=f.length,E=u?m:-1,C=Qt(f);(u?E--:++E<m)&&p(C[E],E,C)!==!1;);return f}}function V1(o){return function(u,f,p){for(var m=-1,E=Qt(u),C=p(u),A=C.length;A--;){var R=C[o?A:++m];if(f(E[R],R,E)===!1)break}return u}}function W2(o,u,f){var p=u&T,m=mc(o);function E(){var C=this&&this!==un&&this instanceof E?m:o;return C.apply(p?f:this,arguments)}return E}function H1(o){return function(u){u=Vt(u);var f=va(u)?ii(u):n,p=f?f[0]:u.charAt(0),m=f?Ho(f,1).join(""):u.slice(1);return p[o]()+m}}function Ta(o){return function(u){return jg(qw(Kw(u).replace(PN,"")),o,"")}}function mc(o){return function(){var u=arguments;switch(u.length){case 0:return new o;case 1:return new o(u[0]);case 2:return new o(u[0],u[1]);case 3:return new o(u[0],u[1],u[2]);case 4:return new o(u[0],u[1],u[2],u[3]);case 5:return new o(u[0],u[1],u[2],u[3],u[4]);case 6:return new o(u[0],u[1],u[2],u[3],u[4],u[5]);case 7:return new o(u[0],u[1],u[2],u[3],u[4],u[5],u[6])}var f=xa(o.prototype),p=o.apply(f,u);return ye(p)?p:f}}function K2(o,u,f){var p=mc(o);function m(){for(var E=arguments.length,C=F(E),A=E,R=Oa(m);A--;)C[A]=arguments[A];var q=E<3&&C[0]!==R&&C[E-1]!==R?[]:zo(C,R);if(E-=q.length,E<f)return Q1(o,u,Ff,m.placeholder,n,C,q,n,n,f-E);var V=this&&this!==un&&this instanceof m?p:o;return sr(V,this,C)}return m}function G1(o){return function(u,f,p){var m=Qt(u);if(!Xn(u)){var E=lt(f,3);u=Ye(u),f=function(A){return E(m[A],A,m)}}var C=o(u,f,p);return C>-1?m[E?u[C]:C]:n}}function J1(o){return so(function(u){var f=u.length,p=f,m=Nr.prototype.thru;for(o&&u.reverse();p--;){var E=u[p];if(typeof E!="function")throw new Mr(a);if(m&&!C&&Uf(E)=="wrapper")var C=new Nr([],!0)}for(p=C?p:f;++p<f;){E=u[p];var A=Uf(E),R=A=="wrapper"?_m(E):n;R&&Em(R[0])&&R[1]==(k|P|j|U)&&!R[4].length&&R[9]==1?C=C[Uf(R[0])].apply(C,R[3]):C=E.length==1&&Em(E)?C[A]():C.thru(E)}return function(){var q=arguments,V=q[0];if(C&&q.length==1&&bt(V))return C.plant(V).value();for(var Y=0,Z=f?u[Y].apply(this,q):V;++Y<f;)Z=u[Y].call(this,Z);return Z}})}function Ff(o,u,f,p,m,E,C,A,R,q){var V=u&k,Y=u&T,Z=u&O,ot=u&(P|$),ft=u&K,Tt=Z?n:mc(o);function dt(){for(var Rt=arguments.length,Lt=F(Rt),lr=Rt;lr--;)Lt[lr]=arguments[lr];if(ot)var Un=Oa(dt),fr=nL(Lt,Un);if(p&&(Lt=W1(Lt,p,m,ot)),E&&(Lt=K1(Lt,E,C,ot)),Rt-=fr,ot&&Rt<q){var Ae=zo(Lt,Un);return Q1(o,u,Ff,dt.placeholder,f,Lt,Ae,A,R,q-Rt)}var ai=Y?f:this,lo=Z?ai[o]:o;return Rt=Lt.length,A?Lt=lF(Lt,A):ft&&Rt>1&&Lt.reverse(),V&&R<Rt&&(Lt.length=R),this&&this!==un&&this instanceof dt&&(lo=Tt||mc(lo)),lo.apply(ai,Lt)}return dt}function Y1(o,u){return function(f,p){return v2(f,o,u(p),{})}}function Bf(o,u){return function(f,p){var m;if(f===n&&p===n)return u;if(f!==n&&(m=f),p!==n){if(m===n)return p;typeof f=="string"||typeof p=="string"?(f=ur(f),p=ur(p)):(f=N1(f),p=N1(p)),m=o(f,p)}return m}}function gm(o){return so(function(u){return u=he(u,ar(lt())),kt(function(f){var p=this;return o(u,function(m){return sr(m,p,f)})})})}function jf(o,u){u=u===n?" ":ur(u);var f=u.length;if(f<2)return f?um(u,o):u;var p=um(u,Cf(o/_a(u)));return va(u)?Ho(ii(p),0,o).join(""):p.slice(0,o)}function q2(o,u,f,p){var m=u&T,E=mc(o);function C(){for(var A=-1,R=arguments.length,q=-1,V=p.length,Y=F(V+R),Z=this&&this!==un&&this instanceof C?E:o;++q<V;)Y[q]=p[q];for(;R--;)Y[q++]=arguments[++A];return sr(Z,m?f:this,Y)}return C}function X1(o){return function(u,f,p){return p&&typeof p!="number"&&Dn(u,f,p)&&(f=p=n),u=co(u),f===n?(f=u,u=0):f=co(f),p=p===n?u<f?1:-1:co(p),I2(u,f,p,o)}}function Df(o){return function(u,f){return typeof u=="string"&&typeof f=="string"||(u=jr(u),f=jr(f)),o(u,f)}}function Q1(o,u,f,p,m,E,C,A,R,q){var V=u&P,Y=V?C:n,Z=V?n:C,ot=V?E:n,ft=V?n:E;u|=V?j:B,u&=~(V?B:j),u&N||(u&=-4);var Tt=[o,u,m,ot,Y,ft,Z,A,R,q],dt=f.apply(n,Tt);return Em(o)&&lw(dt,Tt),dt.placeholder=p,fw(dt,o,u)}function mm(o){var u=ze[o];return function(f,p){if(f=jr(f),p=p==null?0:En(xt(p),292),p&&f1(f)){var m=(Vt(f)+"e").split("e"),E=u(m[0]+"e"+(+m[1]+p));return m=(Vt(E)+"e").split("e"),+(m[0]+"e"+(+m[1]-p))}return u(f)}}var V2=wa&&1/gf(new wa([,-0]))[1]==it?function(o){return new wa(o)}:Bm;function Z1(o){return function(u){var f=xn(u);return f==an?Vg(u):f==Bn?cL(u):eL(u,o(u))}}function oo(o,u,f,p,m,E,C,A){var R=u&O;if(!R&&typeof o!="function")throw new Mr(a);var q=p?p.length:0;if(q||(u&=-97,p=m=n),C=C===n?C:We(xt(C),0),A=A===n?A:xt(A),q-=m?m.length:0,u&B){var V=p,Y=m;p=m=n}var Z=R?n:_m(o),ot=[o,u,f,p,m,V,Y,E,C,A];if(Z&&aF(ot,Z),o=ot[0],u=ot[1],f=ot[2],p=ot[3],m=ot[4],A=ot[9]=ot[9]===n?R?0:o.length:We(ot[9]-q,0),!A&&u&(P|$)&&(u&=-25),!u||u==T)var ft=W2(o,u,f);else u==P||u==$?ft=K2(o,u,A):(u==j||u==(T|j))&&!m.length?ft=q2(o,u,f,p):ft=Ff.apply(n,ot);var Tt=Z?P1:lw;return fw(Tt(ft,ot),o,u)}function tw(o,u,f,p){return o===n||si(o,Sa[f])&&!Gt.call(p,f)?u:o}function ew(o,u,f,p,m,E){return ye(o)&&ye(u)&&(E.set(u,o),Pf(o,u,n,ew,E),E.delete(u)),o}function H2(o){return _c(o)?n:o}function nw(o,u,f,p,m,E){var C=f&S,A=o.length,R=u.length;if(A!=R&&!(C&&R>A))return!1;var q=E.get(o),V=E.get(u);if(q&&V)return q==u&&V==o;var Y=-1,Z=!0,ot=f&x?new bs:n;for(E.set(o,u),E.set(u,o);++Y<A;){var ft=o[Y],Tt=u[Y];if(p)var dt=C?p(Tt,ft,Y,u,o,E):p(ft,Tt,Y,o,u,E);if(dt!==n){if(dt)continue;Z=!1;break}if(ot){if(!Dg(u,function(Rt,Lt){if(!oc(ot,Lt)&&(ft===Rt||m(ft,Rt,f,p,E)))return ot.push(Lt)})){Z=!1;break}}else if(!(ft===Tt||m(ft,Tt,f,p,E))){Z=!1;break}}return E.delete(o),E.delete(u),Z}function G2(o,u,f,p,m,E,C){switch(f){case jo:if(o.byteLength!=u.byteLength||o.byteOffset!=u.byteOffset)return!1;o=o.buffer,u=u.buffer;case ri:return!(o.byteLength!=u.byteLength||!E(new Sf(o),new Sf(u)));case to:case Jn:case eo:return si(+o,+u);case Lo:return o.name==u.name&&o.message==u.message;case Ci:case Q:return o==u+"";case an:var A=Vg;case Bn:var R=p&S;if(A||(A=gf),o.size!=u.size&&!R)return!1;var q=C.get(o);if(q)return q==u;p|=x,C.set(o,u);var V=nw(A(o),A(u),p,m,E,C);return C.delete(o),V;case ht:if(lc)return lc.call(o)==lc.call(u)}return!1}function J2(o,u,f,p,m,E){var C=f&S,A=ym(o),R=A.length,q=ym(u),V=q.length;if(R!=V&&!C)return!1;for(var Y=R;Y--;){var Z=A[Y];if(!(C?Z in u:Gt.call(u,Z)))return!1}var ot=E.get(o),ft=E.get(u);if(ot&&ft)return ot==u&&ft==o;var Tt=!0;E.set(o,u),E.set(u,o);for(var dt=C;++Y<R;){Z=A[Y];var Rt=o[Z],Lt=u[Z];if(p)var lr=C?p(Lt,Rt,Z,u,o,E):p(Rt,Lt,Z,o,u,E);if(!(lr===n?Rt===Lt||m(Rt,Lt,f,p,E):lr)){Tt=!1;break}dt||(dt=Z=="constructor")}if(Tt&&!dt){var Un=o.constructor,fr=u.constructor;Un!=fr&&"constructor"in o&&"constructor"in u&&!(typeof Un=="function"&&Un instanceof Un&&typeof fr=="function"&&fr instanceof fr)&&(Tt=!1)}return E.delete(o),E.delete(u),Tt}function so(o){return Cm(uw(o,n,yw),o+"")}function ym(o){return w1(o,Ye,Sm)}function vm(o){return w1(o,Qn,rw)}var _m=Of?function(o){return Of.get(o)}:Bm;function Uf(o){for(var u=o.name+"",f=Ea[u],p=Gt.call(Ea,u)?f.length:0;p--;){var m=f[p],E=m.func;if(E==null||E==o)return m.name}return u}function Oa(o){var u=Gt.call(w,"placeholder")?w:o;return u.placeholder}function lt(){var o=w.iteratee||Lm;return o=o===Lm?C1:o,arguments.length?o(arguments[0],arguments[1]):o}function zf(o,u){var f=o.__data__;return rF(u)?f[typeof u=="string"?"string":"hash"]:f.map}function bm(o){for(var u=Ye(o),f=u.length;f--;){var p=u[f],m=o[p];u[f]=[p,m,sw(m)]}return u}function Es(o,u){var f=sL(o,u);return x1(f)?f:n}function Y2(o){var u=Gt.call(o,vs),f=o[vs];try{o[vs]=n;var p=!0}catch{}var m=_f.call(o);return p&&(u?o[vs]=f:delete o[vs]),m}var Sm=Gg?function(o){return o==null?[]:(o=Qt(o),Do(Gg(o),function(u){return c1.call(o,u)}))}:jm,rw=Gg?function(o){for(var u=[];o;)Uo(u,Sm(o)),o=wf(o);return u}:jm,xn=jn;(Jg&&xn(new Jg(new ArrayBuffer(1)))!=jo||ac&&xn(new ac)!=an||Yg&&xn(Yg.resolve())!=xi||wa&&xn(new wa)!=Bn||uc&&xn(new uc)!=wn)&&(xn=function(o){var u=jn(o),f=u==bn?o.constructor:n,p=f?xs(f):"";if(p)switch(p){case RL:return jo;case PL:return an;case ML:return xi;case NL:return Bn;case LL:return wn}return u});function X2(o,u,f){for(var p=-1,m=f.length;++p<m;){var E=f[p],C=E.size;switch(E.type){case"drop":o+=C;break;case"dropRight":u-=C;break;case"take":u=En(u,o+C);break;case"takeRight":o=We(o,u-C);break}}return{start:o,end:u}}function Q2(o){var u=o.match(iN);return u?u[1].split(oN):[]}function iw(o,u,f){u=Vo(u,o);for(var p=-1,m=u.length,E=!1;++p<m;){var C=Ai(u[p]);if(!(E=o!=null&&f(o,C)))break;o=o[C]}return E||++p!=m?E:(m=o==null?0:o.length,!!m&&Jf(m)&&ao(C,m)&&(bt(o)||Cs(o)))}function Z2(o){var u=o.length,f=new o.constructor(u);return u&&typeof o[0]=="string"&&Gt.call(o,"index")&&(f.index=o.index,f.input=o.input),f}function ow(o){return typeof o.constructor=="function"&&!yc(o)?xa(wf(o)):{}}function tF(o,u,f){var p=o.constructor;switch(u){case ri:return pm(o);case to:case Jn:return new p(+o);case jo:return F2(o,f);case bg:case Sg:case wg:case Eg:case xg:case Cg:case Tg:case Og:case Ag:return U1(o,f);case an:return new p;case eo:case Q:return new p(o);case Ci:return B2(o);case Bn:return new p;case ht:return j2(o)}}function eF(o,u){var f=u.length;if(!f)return o;var p=f-1;return u[p]=(f>1?"& ":"")+u[p],u=u.join(f>2?", ":" "),o.replace(rN,`{
/* [wrapped with `+u+`] */
`)}function nF(o){return bt(o)||Cs(o)||!!(l1&&o&&o[l1])}function ao(o,u){var f=typeof o;return u=u??at,!!u&&(f=="number"||f!="symbol"&&pN.test(o))&&o>-1&&o%1==0&&o<u}function Dn(o,u,f){if(!ye(f))return!1;var p=typeof u;return(p=="number"?Xn(f)&&ao(u,f.length):p=="string"&&u in f)?si(f[u],o):!1}function wm(o,u){if(bt(o))return!1;var f=typeof o;return f=="number"||f=="symbol"||f=="boolean"||o==null||cr(o)?!0:ZM.test(o)||!QM.test(o)||u!=null&&o in Qt(u)}function rF(o){var u=typeof o;return u=="string"||u=="number"||u=="symbol"||u=="boolean"?o!=="__proto__":o===null}function Em(o){var u=Uf(o),f=w[u];if(typeof f!="function"||!(u in Mt.prototype))return!1;if(o===f)return!0;var p=_m(f);return!!p&&o===p[0]}function iF(o){return!!s1&&s1 in o}var oF=yf?uo:Dm;function yc(o){var u=o&&o.constructor,f=typeof u=="function"&&u.prototype||Sa;return o===f}function sw(o){return o===o&&!ye(o)}function aw(o,u){return function(f){return f==null?!1:f[o]===u&&(u!==n||o in Qt(f))}}function sF(o){var u=Hf(o,function(p){return f.size===d&&f.clear(),p}),f=u.cache;return u}function aF(o,u){var f=o[1],p=u[1],m=f|p,E=m<(T|O|k),C=p==k&&f==P||p==k&&f==U&&o[7].length<=u[8]||p==(k|U)&&u[7].length<=u[8]&&f==P;if(!(E||C))return o;p&T&&(o[2]=u[2],m|=f&T?0:N);var A=u[3];if(A){var R=o[3];o[3]=R?W1(R,A,u[4]):A,o[4]=R?zo(o[3],h):u[4]}return A=u[5],A&&(R=o[5],o[5]=R?K1(R,A,u[6]):A,o[6]=R?zo(o[5],h):u[6]),A=u[7],A&&(o[7]=A),p&k&&(o[8]=o[8]==null?u[8]:En(o[8],u[8])),o[9]==null&&(o[9]=u[9]),o[0]=u[0],o[1]=m,o}function uF(o){var u=[];if(o!=null)for(var f in Qt(o))u.push(f);return u}function cF(o){return _f.call(o)}function uw(o,u,f){return u=We(u===n?o.length-1:u,0),function(){for(var p=arguments,m=-1,E=We(p.length-u,0),C=F(E);++m<E;)C[m]=p[u+m];m=-1;for(var A=F(u+1);++m<u;)A[m]=p[m];return A[u]=f(C),sr(o,this,A)}}function cw(o,u){return u.length<2?o:ws(o,Fr(u,0,-1))}function lF(o,u){for(var f=o.length,p=En(u.length,f),m=Yn(o);p--;){var E=u[p];o[p]=ao(E,f)?m[E]:n}return o}function xm(o,u){if(!(u==="constructor"&&typeof o[u]=="function")&&u!="__proto__")return o[u]}var lw=dw(P1),vc=CL||function(o,u){return un.setTimeout(o,u)},Cm=dw(P2);function fw(o,u,f){var p=u+"";return Cm(o,eF(p,fF(Q2(p),f)))}function dw(o){var u=0,f=0;return function(){var p=kL(),m=X-(p-f);if(f=p,m>0){if(++u>=D)return arguments[0]}else u=0;return o.apply(n,arguments)}}function Wf(o,u){var f=-1,p=o.length,m=p-1;for(u=u===n?p:u;++f<u;){var E=am(f,m),C=o[E];o[E]=o[f],o[f]=C}return o.length=u,o}var hw=sF(function(o){var u=[];return o.charCodeAt(0)===46&&u.push(""),o.replace(tN,function(f,p,m,E){u.push(m?E.replace(uN,"$1"):p||f)}),u});function Ai(o){if(typeof o=="string"||cr(o))return o;var u=o+"";return u=="0"&&1/o==-1/0?"-0":u}function xs(o){if(o!=null){try{return vf.call(o)}catch{}try{return o+""}catch{}}return""}function fF(o,u){return Pr(ec,function(f){var p="_."+f[0];u&f[1]&&!hf(o,p)&&o.push(p)}),o.sort()}function pw(o){if(o instanceof Mt)return o.clone();var u=new Nr(o.__wrapped__,o.__chain__);return u.__actions__=Yn(o.__actions__),u.__index__=o.__index__,u.__values__=o.__values__,u}function dF(o,u,f){(f?Dn(o,u,f):u===n)?u=1:u=We(xt(u),0);var p=o==null?0:o.length;if(!p||u<1)return[];for(var m=0,E=0,C=F(Cf(p/u));m<p;)C[E++]=Fr(o,m,m+=u);return C}function hF(o){for(var u=-1,f=o==null?0:o.length,p=0,m=[];++u<f;){var E=o[u];E&&(m[p++]=E)}return m}function pF(){var o=arguments.length;if(!o)return[];for(var u=F(o-1),f=arguments[0],p=o;p--;)u[p-1]=arguments[p];return Uo(bt(f)?Yn(f):[f],cn(u,1))}var gF=kt(function(o,u){return Oe(o)?dc(o,cn(u,1,Oe,!0)):[]}),mF=kt(function(o,u){var f=Br(u);return Oe(f)&&(f=n),Oe(o)?dc(o,cn(u,1,Oe,!0),lt(f,2)):[]}),yF=kt(function(o,u){var f=Br(u);return Oe(f)&&(f=n),Oe(o)?dc(o,cn(u,1,Oe,!0),n,f):[]});function vF(o,u,f){var p=o==null?0:o.length;return p?(u=f||u===n?1:xt(u),Fr(o,u<0?0:u,p)):[]}function _F(o,u,f){var p=o==null?0:o.length;return p?(u=f||u===n?1:xt(u),u=p-u,Fr(o,0,u<0?0:u)):[]}function bF(o,u){return o&&o.length?Nf(o,lt(u,3),!0,!0):[]}function SF(o,u){return o&&o.length?Nf(o,lt(u,3),!0):[]}function wF(o,u,f,p){var m=o==null?0:o.length;return m?(f&&typeof f!="number"&&Dn(o,u,f)&&(f=0,p=m),p2(o,u,f,p)):[]}function gw(o,u,f){var p=o==null?0:o.length;if(!p)return-1;var m=f==null?0:xt(f);return m<0&&(m=We(p+m,0)),pf(o,lt(u,3),m)}function mw(o,u,f){var p=o==null?0:o.length;if(!p)return-1;var m=p-1;return f!==n&&(m=xt(f),m=f<0?We(p+m,0):En(m,p-1)),pf(o,lt(u,3),m,!0)}function yw(o){var u=o==null?0:o.length;return u?cn(o,1):[]}function EF(o){var u=o==null?0:o.length;return u?cn(o,it):[]}function xF(o,u){var f=o==null?0:o.length;return f?(u=u===n?1:xt(u),cn(o,u)):[]}function CF(o){for(var u=-1,f=o==null?0:o.length,p={};++u<f;){var m=o[u];p[m[0]]=m[1]}return p}function vw(o){return o&&o.length?o[0]:n}function TF(o,u,f){var p=o==null?0:o.length;if(!p)return-1;var m=f==null?0:xt(f);return m<0&&(m=We(p+m,0)),ya(o,u,m)}function OF(o){var u=o==null?0:o.length;return u?Fr(o,0,-1):[]}var AF=kt(function(o){var u=he(o,dm);return u.length&&u[0]===o[0]?nm(u):[]}),kF=kt(function(o){var u=Br(o),f=he(o,dm);return u===Br(f)?u=n:f.pop(),f.length&&f[0]===o[0]?nm(f,lt(u,2)):[]}),IF=kt(function(o){var u=Br(o),f=he(o,dm);return u=typeof u=="function"?u:n,u&&f.pop(),f.length&&f[0]===o[0]?nm(f,n,u):[]});function $F(o,u){return o==null?"":OL.call(o,u)}function Br(o){var u=o==null?0:o.length;return u?o[u-1]:n}function RF(o,u,f){var p=o==null?0:o.length;if(!p)return-1;var m=p;return f!==n&&(m=xt(f),m=m<0?We(p+m,0):En(m,p-1)),u===u?fL(o,u,m):pf(o,QS,m,!0)}function PF(o,u){return o&&o.length?k1(o,xt(u)):n}var MF=kt(_w);function _w(o,u){return o&&o.length&&u&&u.length?sm(o,u):o}function NF(o,u,f){return o&&o.length&&u&&u.length?sm(o,u,lt(f,2)):o}function LF(o,u,f){return o&&o.length&&u&&u.length?sm(o,u,n,f):o}var FF=so(function(o,u){var f=o==null?0:o.length,p=Qg(o,u);return R1(o,he(u,function(m){return ao(m,f)?+m:m}).sort(z1)),p});function BF(o,u){var f=[];if(!(o&&o.length))return f;var p=-1,m=[],E=o.length;for(u=lt(u,3);++p<E;){var C=o[p];u(C,p,o)&&(f.push(C),m.push(p))}return R1(o,m),f}function Tm(o){return o==null?o:$L.call(o)}function jF(o,u,f){var p=o==null?0:o.length;return p?(f&&typeof f!="number"&&Dn(o,u,f)?(u=0,f=p):(u=u==null?0:xt(u),f=f===n?p:xt(f)),Fr(o,u,f)):[]}function DF(o,u){return Mf(o,u)}function UF(o,u,f){return cm(o,u,lt(f,2))}function zF(o,u){var f=o==null?0:o.length;if(f){var p=Mf(o,u);if(p<f&&si(o[p],u))return p}return-1}function WF(o,u){return Mf(o,u,!0)}function KF(o,u,f){return cm(o,u,lt(f,2),!0)}function qF(o,u){var f=o==null?0:o.length;if(f){var p=Mf(o,u,!0)-1;if(si(o[p],u))return p}return-1}function VF(o){return o&&o.length?M1(o):[]}function HF(o,u){return o&&o.length?M1(o,lt(u,2)):[]}function GF(o){var u=o==null?0:o.length;return u?Fr(o,1,u):[]}function JF(o,u,f){return o&&o.length?(u=f||u===n?1:xt(u),Fr(o,0,u<0?0:u)):[]}function YF(o,u,f){var p=o==null?0:o.length;return p?(u=f||u===n?1:xt(u),u=p-u,Fr(o,u<0?0:u,p)):[]}function XF(o,u){return o&&o.length?Nf(o,lt(u,3),!1,!0):[]}function QF(o,u){return o&&o.length?Nf(o,lt(u,3)):[]}var ZF=kt(function(o){return qo(cn(o,1,Oe,!0))}),tB=kt(function(o){var u=Br(o);return Oe(u)&&(u=n),qo(cn(o,1,Oe,!0),lt(u,2))}),eB=kt(function(o){var u=Br(o);return u=typeof u=="function"?u:n,qo(cn(o,1,Oe,!0),n,u)});function nB(o){return o&&o.length?qo(o):[]}function rB(o,u){return o&&o.length?qo(o,lt(u,2)):[]}function iB(o,u){return u=typeof u=="function"?u:n,o&&o.length?qo(o,n,u):[]}function Om(o){if(!(o&&o.length))return[];var u=0;return o=Do(o,function(f){if(Oe(f))return u=We(f.length,u),!0}),Kg(u,function(f){return he(o,Ug(f))})}function bw(o,u){if(!(o&&o.length))return[];var f=Om(o);return u==null?f:he(f,function(p){return sr(u,n,p)})}var oB=kt(function(o,u){return Oe(o)?dc(o,u):[]}),sB=kt(function(o){return fm(Do(o,Oe))}),aB=kt(function(o){var u=Br(o);return Oe(u)&&(u=n),fm(Do(o,Oe),lt(u,2))}),uB=kt(function(o){var u=Br(o);return u=typeof u=="function"?u:n,fm(Do(o,Oe),n,u)}),cB=kt(Om);function lB(o,u){return B1(o||[],u||[],fc)}function fB(o,u){return B1(o||[],u||[],gc)}var dB=kt(function(o){var u=o.length,f=u>1?o[u-1]:n;return f=typeof f=="function"?(o.pop(),f):n,bw(o,f)});function Sw(o){var u=w(o);return u.__chain__=!0,u}function hB(o,u){return u(o),o}function Kf(o,u){return u(o)}var pB=so(function(o){var u=o.length,f=u?o[0]:0,p=this.__wrapped__,m=function(E){return Qg(E,o)};return u>1||this.__actions__.length||!(p instanceof Mt)||!ao(f)?this.thru(m):(p=p.slice(f,+f+(u?1:0)),p.__actions__.push({func:Kf,args:[m],thisArg:n}),new Nr(p,this.__chain__).thru(function(E){return u&&!E.length&&E.push(n),E}))});function gB(){return Sw(this)}function mB(){return new Nr(this.value(),this.__chain__)}function yB(){this.__values__===n&&(this.__values__=Nw(this.value()));var o=this.__index__>=this.__values__.length,u=o?n:this.__values__[this.__index__++];return{done:o,value:u}}function vB(){return this}function _B(o){for(var u,f=this;f instanceof kf;){var p=pw(f);p.__index__=0,p.__values__=n,u?m.__wrapped__=p:u=p;var m=p;f=f.__wrapped__}return m.__wrapped__=o,u}function bB(){var o=this.__wrapped__;if(o instanceof Mt){var u=o;return this.__actions__.length&&(u=new Mt(this)),u=u.reverse(),u.__actions__.push({func:Kf,args:[Tm],thisArg:n}),new Nr(u,this.__chain__)}return this.thru(Tm)}function SB(){return F1(this.__wrapped__,this.__actions__)}var wB=Lf(function(o,u,f){Gt.call(o,f)?++o[f]:io(o,f,1)});function EB(o,u,f){var p=bt(o)?YS:h2;return f&&Dn(o,u,f)&&(u=n),p(o,lt(u,3))}function xB(o,u){var f=bt(o)?Do:b1;return f(o,lt(u,3))}var CB=G1(gw),TB=G1(mw);function OB(o,u){return cn(qf(o,u),1)}function AB(o,u){return cn(qf(o,u),it)}function kB(o,u,f){return f=f===n?1:xt(f),cn(qf(o,u),f)}function ww(o,u){var f=bt(o)?Pr:Ko;return f(o,lt(u,3))}function Ew(o,u){var f=bt(o)?GN:_1;return f(o,lt(u,3))}var IB=Lf(function(o,u,f){Gt.call(o,f)?o[f].push(u):io(o,f,[u])});function $B(o,u,f,p){o=Xn(o)?o:ka(o),f=f&&!p?xt(f):0;var m=o.length;return f<0&&(f=We(m+f,0)),Yf(o)?f<=m&&o.indexOf(u,f)>-1:!!m&&ya(o,u,f)>-1}var RB=kt(function(o,u,f){var p=-1,m=typeof u=="function",E=Xn(o)?F(o.length):[];return Ko(o,function(C){E[++p]=m?sr(u,C,f):hc(C,u,f)}),E}),PB=Lf(function(o,u,f){io(o,f,u)});function qf(o,u){var f=bt(o)?he:T1;return f(o,lt(u,3))}function MB(o,u,f,p){return o==null?[]:(bt(u)||(u=u==null?[]:[u]),f=p?n:f,bt(f)||(f=f==null?[]:[f]),I1(o,u,f))}var NB=Lf(function(o,u,f){o[f?0:1].push(u)},function(){return[[],[]]});function LB(o,u,f){var p=bt(o)?jg:t1,m=arguments.length<3;return p(o,lt(u,4),f,m,Ko)}function FB(o,u,f){var p=bt(o)?JN:t1,m=arguments.length<3;return p(o,lt(u,4),f,m,_1)}function BB(o,u){var f=bt(o)?Do:b1;return f(o,Gf(lt(u,3)))}function jB(o){var u=bt(o)?g1:$2;return u(o)}function DB(o,u,f){(f?Dn(o,u,f):u===n)?u=1:u=xt(u);var p=bt(o)?u2:R2;return p(o,u)}function UB(o){var u=bt(o)?c2:M2;return u(o)}function zB(o){if(o==null)return 0;if(Xn(o))return Yf(o)?_a(o):o.length;var u=xn(o);return u==an||u==Bn?o.size:im(o).length}function WB(o,u,f){var p=bt(o)?Dg:N2;return f&&Dn(o,u,f)&&(u=n),p(o,lt(u,3))}var KB=kt(function(o,u){if(o==null)return[];var f=u.length;return f>1&&Dn(o,u[0],u[1])?u=[]:f>2&&Dn(u[0],u[1],u[2])&&(u=[u[0]]),I1(o,cn(u,1),[])}),Vf=xL||function(){return un.Date.now()};function qB(o,u){if(typeof u!="function")throw new Mr(a);return o=xt(o),function(){if(--o<1)return u.apply(this,arguments)}}function xw(o,u,f){return u=f?n:u,u=o&&u==null?o.length:u,oo(o,k,n,n,n,n,u)}function Cw(o,u){var f;if(typeof u!="function")throw new Mr(a);return o=xt(o),function(){return--o>0&&(f=u.apply(this,arguments)),o<=1&&(u=n),f}}var Am=kt(function(o,u,f){var p=T;if(f.length){var m=zo(f,Oa(Am));p|=j}return oo(o,p,u,f,m)}),Tw=kt(function(o,u,f){var p=T|O;if(f.length){var m=zo(f,Oa(Tw));p|=j}return oo(u,p,o,f,m)});function Ow(o,u,f){u=f?n:u;var p=oo(o,P,n,n,n,n,n,u);return p.placeholder=Ow.placeholder,p}function Aw(o,u,f){u=f?n:u;var p=oo(o,$,n,n,n,n,n,u);return p.placeholder=Aw.placeholder,p}function kw(o,u,f){var p,m,E,C,A,R,q=0,V=!1,Y=!1,Z=!0;if(typeof o!="function")throw new Mr(a);u=jr(u)||0,ye(f)&&(V=!!f.leading,Y="maxWait"in f,E=Y?We(jr(f.maxWait)||0,u):E,Z="trailing"in f?!!f.trailing:Z);function ot(Ae){var ai=p,lo=m;return p=m=n,q=Ae,C=o.apply(lo,ai),C}function ft(Ae){return q=Ae,A=vc(Rt,u),V?ot(Ae):C}function Tt(Ae){var ai=Ae-R,lo=Ae-q,Gw=u-ai;return Y?En(Gw,E-lo):Gw}function dt(Ae){var ai=Ae-R,lo=Ae-q;return R===n||ai>=u||ai<0||Y&&lo>=E}function Rt(){var Ae=Vf();if(dt(Ae))return Lt(Ae);A=vc(Rt,Tt(Ae))}function Lt(Ae){return A=n,Z&&p?ot(Ae):(p=m=n,C)}function lr(){A!==n&&j1(A),q=0,p=R=m=A=n}function Un(){return A===n?C:Lt(Vf())}function fr(){var Ae=Vf(),ai=dt(Ae);if(p=arguments,m=this,R=Ae,ai){if(A===n)return ft(R);if(Y)return j1(A),A=vc(Rt,u),ot(R)}return A===n&&(A=vc(Rt,u)),C}return fr.cancel=lr,fr.flush=Un,fr}var VB=kt(function(o,u){return v1(o,1,u)}),HB=kt(function(o,u,f){return v1(o,jr(u)||0,f)});function GB(o){return oo(o,K)}function Hf(o,u){if(typeof o!="function"||u!=null&&typeof u!="function")throw new Mr(a);var f=function(){var p=arguments,m=u?u.apply(this,p):p[0],E=f.cache;if(E.has(m))return E.get(m);var C=o.apply(this,p);return f.cache=E.set(m,C)||E,C};return f.cache=new(Hf.Cache||ro),f}Hf.Cache=ro;function Gf(o){if(typeof o!="function")throw new Mr(a);return function(){var u=arguments;switch(u.length){case 0:return!o.call(this);case 1:return!o.call(this,u[0]);case 2:return!o.call(this,u[0],u[1]);case 3:return!o.call(this,u[0],u[1],u[2])}return!o.apply(this,u)}}function JB(o){return Cw(2,o)}var YB=L2(function(o,u){u=u.length==1&&bt(u[0])?he(u[0],ar(lt())):he(cn(u,1),ar(lt()));var f=u.length;return kt(function(p){for(var m=-1,E=En(p.length,f);++m<E;)p[m]=u[m].call(this,p[m]);return sr(o,this,p)})}),km=kt(function(o,u){var f=zo(u,Oa(km));return oo(o,j,n,u,f)}),Iw=kt(function(o,u){var f=zo(u,Oa(Iw));return oo(o,B,n,u,f)}),XB=so(function(o,u){return oo(o,U,n,n,n,u)});function QB(o,u){if(typeof o!="function")throw new Mr(a);return u=u===n?u:xt(u),kt(o,u)}function ZB(o,u){if(typeof o!="function")throw new Mr(a);return u=u==null?0:We(xt(u),0),kt(function(f){var p=f[u],m=Ho(f,0,u);return p&&Uo(m,p),sr(o,this,m)})}function t5(o,u,f){var p=!0,m=!0;if(typeof o!="function")throw new Mr(a);return ye(f)&&(p="leading"in f?!!f.leading:p,m="trailing"in f?!!f.trailing:m),kw(o,u,{leading:p,maxWait:u,trailing:m})}function e5(o){return xw(o,1)}function n5(o,u){return km(hm(u),o)}function r5(){if(!arguments.length)return[];var o=arguments[0];return bt(o)?o:[o]}function i5(o){return Lr(o,v)}function o5(o,u){return u=typeof u=="function"?u:n,Lr(o,v,u)}function s5(o){return Lr(o,g|v)}function a5(o,u){return u=typeof u=="function"?u:n,Lr(o,g|v,u)}function u5(o,u){return u==null||y1(o,u,Ye(u))}function si(o,u){return o===u||o!==o&&u!==u}var c5=Df(em),l5=Df(function(o,u){return o>=u}),Cs=E1(function(){return arguments}())?E1:function(o){return Se(o)&&Gt.call(o,"callee")&&!c1.call(o,"callee")},bt=F.isArray,f5=KS?ar(KS):_2;function Xn(o){return o!=null&&Jf(o.length)&&!uo(o)}function Oe(o){return Se(o)&&Xn(o)}function d5(o){return o===!0||o===!1||Se(o)&&jn(o)==to}var Go=TL||Dm,h5=qS?ar(qS):b2;function p5(o){return Se(o)&&o.nodeType===1&&!_c(o)}function g5(o){if(o==null)return!0;if(Xn(o)&&(bt(o)||typeof o=="string"||typeof o.splice=="function"||Go(o)||Aa(o)||Cs(o)))return!o.length;var u=xn(o);if(u==an||u==Bn)return!o.size;if(yc(o))return!im(o).length;for(var f in o)if(Gt.call(o,f))return!1;return!0}function m5(o,u){return pc(o,u)}function y5(o,u,f){f=typeof f=="function"?f:n;var p=f?f(o,u):n;return p===n?pc(o,u,n,f):!!p}function Im(o){if(!Se(o))return!1;var u=jn(o);return u==Lo||u==nc||typeof o.message=="string"&&typeof o.name=="string"&&!_c(o)}function v5(o){return typeof o=="number"&&f1(o)}function uo(o){if(!ye(o))return!1;var u=jn(o);return u==Fo||u==ga||u==ms||u==ic}function $w(o){return typeof o=="number"&&o==xt(o)}function Jf(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=at}function ye(o){var u=typeof o;return o!=null&&(u=="object"||u=="function")}function Se(o){return o!=null&&typeof o=="object"}var Rw=VS?ar(VS):w2;function _5(o,u){return o===u||rm(o,u,bm(u))}function b5(o,u,f){return f=typeof f=="function"?f:n,rm(o,u,bm(u),f)}function S5(o){return Pw(o)&&o!=+o}function w5(o){if(oF(o))throw new yt(s);return x1(o)}function E5(o){return o===null}function x5(o){return o==null}function Pw(o){return typeof o=="number"||Se(o)&&jn(o)==eo}function _c(o){if(!Se(o)||jn(o)!=bn)return!1;var u=wf(o);if(u===null)return!0;var f=Gt.call(u,"constructor")&&u.constructor;return typeof f=="function"&&f instanceof f&&vf.call(f)==bL}var $m=HS?ar(HS):E2;function C5(o){return $w(o)&&o>=-9007199254740991&&o<=at}var Mw=GS?ar(GS):x2;function Yf(o){return typeof o=="string"||!bt(o)&&Se(o)&&jn(o)==Q}function cr(o){return typeof o=="symbol"||Se(o)&&jn(o)==ht}var Aa=JS?ar(JS):C2;function T5(o){return o===n}function O5(o){return Se(o)&&xn(o)==wn}function A5(o){return Se(o)&&jn(o)==Bo}var k5=Df(om),I5=Df(function(o,u){return o<=u});function Nw(o){if(!o)return[];if(Xn(o))return Yf(o)?ii(o):Yn(o);if(sc&&o[sc])return uL(o[sc]());var u=xn(o),f=u==an?Vg:u==Bn?gf:ka;return f(o)}function co(o){if(!o)return o===0?o:0;if(o=jr(o),o===it||o===-1/0){var u=o<0?-1:1;return u*Nt}return o===o?o:0}function xt(o){var u=co(o),f=u%1;return u===u?f?u-f:u:0}function Lw(o){return o?Ss(xt(o),0,se):0}function jr(o){if(typeof o=="number")return o;if(cr(o))return sn;if(ye(o)){var u=typeof o.valueOf=="function"?o.valueOf():o;o=ye(u)?u+"":u}if(typeof o!="string")return o===0?o:+o;o=e1(o);var f=fN.test(o);return f||hN.test(o)?qN(o.slice(2),f?2:8):lN.test(o)?sn:+o}function Fw(o){return Oi(o,Qn(o))}function $5(o){return o?Ss(xt(o),-9007199254740991,at):o===0?o:0}function Vt(o){return o==null?"":ur(o)}var R5=Ca(function(o,u){if(yc(u)||Xn(u)){Oi(u,Ye(u),o);return}for(var f in u)Gt.call(u,f)&&fc(o,f,u[f])}),Bw=Ca(function(o,u){Oi(u,Qn(u),o)}),Xf=Ca(function(o,u,f,p){Oi(u,Qn(u),o,p)}),P5=Ca(function(o,u,f,p){Oi(u,Ye(u),o,p)}),M5=so(Qg);function N5(o,u){var f=xa(o);return u==null?f:m1(f,u)}var L5=kt(function(o,u){o=Qt(o);var f=-1,p=u.length,m=p>2?u[2]:n;for(m&&Dn(u[0],u[1],m)&&(p=1);++f<p;)for(var E=u[f],C=Qn(E),A=-1,R=C.length;++A<R;){var q=C[A],V=o[q];(V===n||si(V,Sa[q])&&!Gt.call(o,q))&&(o[q]=E[q])}return o}),F5=kt(function(o){return o.push(n,ew),sr(jw,n,o)});function B5(o,u){return XS(o,lt(u,3),Ti)}function j5(o,u){return XS(o,lt(u,3),tm)}function D5(o,u){return o==null?o:Zg(o,lt(u,3),Qn)}function U5(o,u){return o==null?o:S1(o,lt(u,3),Qn)}function z5(o,u){return o&&Ti(o,lt(u,3))}function W5(o,u){return o&&tm(o,lt(u,3))}function K5(o){return o==null?[]:Rf(o,Ye(o))}function q5(o){return o==null?[]:Rf(o,Qn(o))}function Rm(o,u,f){var p=o==null?n:ws(o,u);return p===n?f:p}function V5(o,u){return o!=null&&iw(o,u,g2)}function Pm(o,u){return o!=null&&iw(o,u,m2)}var H5=Y1(function(o,u,f){u!=null&&typeof u.toString!="function"&&(u=_f.call(u)),o[u]=f},Nm(Zn)),G5=Y1(function(o,u,f){u!=null&&typeof u.toString!="function"&&(u=_f.call(u)),Gt.call(o,u)?o[u].push(f):o[u]=[f]},lt),J5=kt(hc);function Ye(o){return Xn(o)?p1(o):im(o)}function Qn(o){return Xn(o)?p1(o,!0):T2(o)}function Y5(o,u){var f={};return u=lt(u,3),Ti(o,function(p,m,E){io(f,u(p,m,E),p)}),f}function X5(o,u){var f={};return u=lt(u,3),Ti(o,function(p,m,E){io(f,m,u(p,m,E))}),f}var Q5=Ca(function(o,u,f){Pf(o,u,f)}),jw=Ca(function(o,u,f,p){Pf(o,u,f,p)}),Z5=so(function(o,u){var f={};if(o==null)return f;var p=!1;u=he(u,function(E){return E=Vo(E,o),p||(p=E.length>1),E}),Oi(o,vm(o),f),p&&(f=Lr(f,g|y|v,H2));for(var m=u.length;m--;)lm(f,u[m]);return f});function tj(o,u){return Dw(o,Gf(lt(u)))}var ej=so(function(o,u){return o==null?{}:A2(o,u)});function Dw(o,u){if(o==null)return{};var f=he(vm(o),function(p){return[p]});return u=lt(u),$1(o,f,function(p,m){return u(p,m[0])})}function nj(o,u,f){u=Vo(u,o);var p=-1,m=u.length;for(m||(m=1,o=n);++p<m;){var E=o==null?n:o[Ai(u[p])];E===n&&(p=m,E=f),o=uo(E)?E.call(o):E}return o}function rj(o,u,f){return o==null?o:gc(o,u,f)}function ij(o,u,f,p){return p=typeof p=="function"?p:n,o==null?o:gc(o,u,f,p)}var Uw=Z1(Ye),zw=Z1(Qn);function oj(o,u,f){var p=bt(o),m=p||Go(o)||Aa(o);if(u=lt(u,4),f==null){var E=o&&o.constructor;m?f=p?new E:[]:ye(o)?f=uo(E)?xa(wf(o)):{}:f={}}return(m?Pr:Ti)(o,function(C,A,R){return u(f,C,A,R)}),f}function sj(o,u){return o==null?!0:lm(o,u)}function aj(o,u,f){return o==null?o:L1(o,u,hm(f))}function uj(o,u,f,p){return p=typeof p=="function"?p:n,o==null?o:L1(o,u,hm(f),p)}function ka(o){return o==null?[]:qg(o,Ye(o))}function cj(o){return o==null?[]:qg(o,Qn(o))}function lj(o,u,f){return f===n&&(f=u,u=n),f!==n&&(f=jr(f),f=f===f?f:0),u!==n&&(u=jr(u),u=u===u?u:0),Ss(jr(o),u,f)}function fj(o,u,f){return u=co(u),f===n?(f=u,u=0):f=co(f),o=jr(o),y2(o,u,f)}function dj(o,u,f){if(f&&typeof f!="boolean"&&Dn(o,u,f)&&(u=f=n),f===n&&(typeof u=="boolean"?(f=u,u=n):typeof o=="boolean"&&(f=o,o=n)),o===n&&u===n?(o=0,u=1):(o=co(o),u===n?(u=o,o=0):u=co(u)),o>u){var p=o;o=u,u=p}if(f||o%1||u%1){var m=d1();return En(o+m*(u-o+KN("1e-"+((m+"").length-1))),u)}return am(o,u)}var hj=Ta(function(o,u,f){return u=u.toLowerCase(),o+(f?Ww(u):u)});function Ww(o){return Mm(Vt(o).toLowerCase())}function Kw(o){return o=Vt(o),o&&o.replace(gN,rL).replace(MN,"")}function pj(o,u,f){o=Vt(o),u=ur(u);var p=o.length;f=f===n?p:Ss(xt(f),0,p);var m=f;return f-=u.length,f>=0&&o.slice(f,m)==u}function gj(o){return o=Vt(o),o&&JM.test(o)?o.replace(SS,iL):o}function mj(o){return o=Vt(o),o&&eN.test(o)?o.replace(kg,"\\$&"):o}var yj=Ta(function(o,u,f){return o+(f?"-":"")+u.toLowerCase()}),vj=Ta(function(o,u,f){return o+(f?" ":"")+u.toLowerCase()}),_j=H1("toLowerCase");function bj(o,u,f){o=Vt(o),u=xt(u);var p=u?_a(o):0;if(!u||p>=u)return o;var m=(u-p)/2;return jf(Tf(m),f)+o+jf(Cf(m),f)}function Sj(o,u,f){o=Vt(o),u=xt(u);var p=u?_a(o):0;return u&&p<u?o+jf(u-p,f):o}function wj(o,u,f){o=Vt(o),u=xt(u);var p=u?_a(o):0;return u&&p<u?jf(u-p,f)+o:o}function Ej(o,u,f){return f||u==null?u=0:u&&(u=+u),IL(Vt(o).replace(Ig,""),u||0)}function xj(o,u,f){return(f?Dn(o,u,f):u===n)?u=1:u=xt(u),um(Vt(o),u)}function Cj(){var o=arguments,u=Vt(o[0]);return o.length<3?u:u.replace(o[1],o[2])}var Tj=Ta(function(o,u,f){return o+(f?"_":"")+u.toLowerCase()});function Oj(o,u,f){return f&&typeof f!="number"&&Dn(o,u,f)&&(u=f=n),f=f===n?se:f>>>0,f?(o=Vt(o),o&&(typeof u=="string"||u!=null&&!$m(u))&&(u=ur(u),!u&&va(o))?Ho(ii(o),0,f):o.split(u,f)):[]}var Aj=Ta(function(o,u,f){return o+(f?" ":"")+Mm(u)});function kj(o,u,f){return o=Vt(o),f=f==null?0:Ss(xt(f),0,o.length),u=ur(u),o.slice(f,f+u.length)==u}function Ij(o,u,f){var p=w.templateSettings;f&&Dn(o,u,f)&&(u=n),o=Vt(o),u=Xf({},u,p,tw);var m=Xf({},u.imports,p.imports,tw),E=Ye(m),C=qg(m,E),A,R,q=0,V=u.interpolate||lf,Y="__p += '",Z=Hg((u.escape||lf).source+"|"+V.source+"|"+(V===wS?cN:lf).source+"|"+(u.evaluate||lf).source+"|$","g"),ot="//# sourceURL="+(Gt.call(u,"sourceURL")?(u.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++jN+"]")+`
`;o.replace(Z,function(dt,Rt,Lt,lr,Un,fr){return Lt||(Lt=lr),Y+=o.slice(q,fr).replace(mN,oL),Rt&&(A=!0,Y+=`' +
__e(`+Rt+`) +
'`),Un&&(R=!0,Y+=`';
`+Un+`;
__p += '`),Lt&&(Y+=`' +
((__t = (`+Lt+`)) == null ? '' : __t) +
'`),q=fr+dt.length,dt}),Y+=`';
`;var ft=Gt.call(u,"variable")&&u.variable;if(!ft)Y=`with (obj) {
`+Y+`
}
`;else if(aN.test(ft))throw new yt(c);Y=(R?Y.replace(qM,""):Y).replace(VM,"$1").replace(HM,"$1;"),Y="function("+(ft||"obj")+`) {
`+(ft?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(A?", __e = _.escape":"")+(R?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Y+`return __p
}`;var Tt=Vw(function(){return zt(E,ot+"return "+Y).apply(n,C)});if(Tt.source=Y,Im(Tt))throw Tt;return Tt}function $j(o){return Vt(o).toLowerCase()}function Rj(o){return Vt(o).toUpperCase()}function Pj(o,u,f){if(o=Vt(o),o&&(f||u===n))return e1(o);if(!o||!(u=ur(u)))return o;var p=ii(o),m=ii(u),E=n1(p,m),C=r1(p,m)+1;return Ho(p,E,C).join("")}function Mj(o,u,f){if(o=Vt(o),o&&(f||u===n))return o.slice(0,o1(o)+1);if(!o||!(u=ur(u)))return o;var p=ii(o),m=r1(p,ii(u))+1;return Ho(p,0,m).join("")}function Nj(o,u,f){if(o=Vt(o),o&&(f||u===n))return o.replace(Ig,"");if(!o||!(u=ur(u)))return o;var p=ii(o),m=n1(p,ii(u));return Ho(p,m).join("")}function Lj(o,u){var f=b,p=M;if(ye(u)){var m="separator"in u?u.separator:m;f="length"in u?xt(u.length):f,p="omission"in u?ur(u.omission):p}o=Vt(o);var E=o.length;if(va(o)){var C=ii(o);E=C.length}if(f>=E)return o;var A=f-_a(p);if(A<1)return p;var R=C?Ho(C,0,A).join(""):o.slice(0,A);if(m===n)return R+p;if(C&&(A+=R.length-A),$m(m)){if(o.slice(A).search(m)){var q,V=R;for(m.global||(m=Hg(m.source,Vt(ES.exec(m))+"g")),m.lastIndex=0;q=m.exec(V);)var Y=q.index;R=R.slice(0,Y===n?A:Y)}}else if(o.indexOf(ur(m),A)!=A){var Z=R.lastIndexOf(m);Z>-1&&(R=R.slice(0,Z))}return R+p}function Fj(o){return o=Vt(o),o&&GM.test(o)?o.replace(bS,dL):o}var Bj=Ta(function(o,u,f){return o+(f?" ":"")+u.toUpperCase()}),Mm=H1("toUpperCase");function qw(o,u,f){return o=Vt(o),u=f?n:u,u===n?aL(o)?gL(o):QN(o):o.match(u)||[]}var Vw=kt(function(o,u){try{return sr(o,n,u)}catch(f){return Im(f)?f:new yt(f)}}),jj=so(function(o,u){return Pr(u,function(f){f=Ai(f),io(o,f,Am(o[f],o))}),o});function Dj(o){var u=o==null?0:o.length,f=lt();return o=u?he(o,function(p){if(typeof p[1]!="function")throw new Mr(a);return[f(p[0]),p[1]]}):[],kt(function(p){for(var m=-1;++m<u;){var E=o[m];if(sr(E[0],this,p))return sr(E[1],this,p)}})}function Uj(o){return d2(Lr(o,g))}function Nm(o){return function(){return o}}function zj(o,u){return o==null||o!==o?u:o}var Wj=J1(),Kj=J1(!0);function Zn(o){return o}function Lm(o){return C1(typeof o=="function"?o:Lr(o,g))}function qj(o){return O1(Lr(o,g))}function Vj(o,u){return A1(o,Lr(u,g))}var Hj=kt(function(o,u){return function(f){return hc(f,o,u)}}),Gj=kt(function(o,u){return function(f){return hc(o,f,u)}});function Fm(o,u,f){var p=Ye(u),m=Rf(u,p);f==null&&!(ye(u)&&(m.length||!p.length))&&(f=u,u=o,o=this,m=Rf(u,Ye(u)));var E=!(ye(f)&&"chain"in f)||!!f.chain,C=uo(o);return Pr(m,function(A){var R=u[A];o[A]=R,C&&(o.prototype[A]=function(){var q=this.__chain__;if(E||q){var V=o(this.__wrapped__),Y=V.__actions__=Yn(this.__actions__);return Y.push({func:R,args:arguments,thisArg:o}),V.__chain__=q,V}return R.apply(o,Uo([this.value()],arguments))})}),o}function Jj(){return un._===this&&(un._=SL),this}function Bm(){}function Yj(o){return o=xt(o),kt(function(u){return k1(u,o)})}var Xj=gm(he),Qj=gm(YS),Zj=gm(Dg);function Hw(o){return wm(o)?Ug(Ai(o)):k2(o)}function tD(o){return function(u){return o==null?n:ws(o,u)}}var eD=X1(),nD=X1(!0);function jm(){return[]}function Dm(){return!1}function rD(){return{}}function iD(){return""}function oD(){return!0}function sD(o,u){if(o=xt(o),o<1||o>at)return[];var f=se,p=En(o,se);u=lt(u),o-=se;for(var m=Kg(p,u);++f<o;)u(f);return m}function aD(o){return bt(o)?he(o,Ai):cr(o)?[o]:Yn(hw(Vt(o)))}function uD(o){var u=++_L;return Vt(o)+u}var cD=Bf(function(o,u){return o+u},0),lD=mm("ceil"),fD=Bf(function(o,u){return o/u},1),dD=mm("floor");function hD(o){return o&&o.length?$f(o,Zn,em):n}function pD(o,u){return o&&o.length?$f(o,lt(u,2),em):n}function gD(o){return ZS(o,Zn)}function mD(o,u){return ZS(o,lt(u,2))}function yD(o){return o&&o.length?$f(o,Zn,om):n}function vD(o,u){return o&&o.length?$f(o,lt(u,2),om):n}var _D=Bf(function(o,u){return o*u},1),bD=mm("round"),SD=Bf(function(o,u){return o-u},0);function wD(o){return o&&o.length?Wg(o,Zn):0}function ED(o,u){return o&&o.length?Wg(o,lt(u,2)):0}return w.after=qB,w.ary=xw,w.assign=R5,w.assignIn=Bw,w.assignInWith=Xf,w.assignWith=P5,w.at=M5,w.before=Cw,w.bind=Am,w.bindAll=jj,w.bindKey=Tw,w.castArray=r5,w.chain=Sw,w.chunk=dF,w.compact=hF,w.concat=pF,w.cond=Dj,w.conforms=Uj,w.constant=Nm,w.countBy=wB,w.create=N5,w.curry=Ow,w.curryRight=Aw,w.debounce=kw,w.defaults=L5,w.defaultsDeep=F5,w.defer=VB,w.delay=HB,w.difference=gF,w.differenceBy=mF,w.differenceWith=yF,w.drop=vF,w.dropRight=_F,w.dropRightWhile=bF,w.dropWhile=SF,w.fill=wF,w.filter=xB,w.flatMap=OB,w.flatMapDeep=AB,w.flatMapDepth=kB,w.flatten=yw,w.flattenDeep=EF,w.flattenDepth=xF,w.flip=GB,w.flow=Wj,w.flowRight=Kj,w.fromPairs=CF,w.functions=K5,w.functionsIn=q5,w.groupBy=IB,w.initial=OF,w.intersection=AF,w.intersectionBy=kF,w.intersectionWith=IF,w.invert=H5,w.invertBy=G5,w.invokeMap=RB,w.iteratee=Lm,w.keyBy=PB,w.keys=Ye,w.keysIn=Qn,w.map=qf,w.mapKeys=Y5,w.mapValues=X5,w.matches=qj,w.matchesProperty=Vj,w.memoize=Hf,w.merge=Q5,w.mergeWith=jw,w.method=Hj,w.methodOf=Gj,w.mixin=Fm,w.negate=Gf,w.nthArg=Yj,w.omit=Z5,w.omitBy=tj,w.once=JB,w.orderBy=MB,w.over=Xj,w.overArgs=YB,w.overEvery=Qj,w.overSome=Zj,w.partial=km,w.partialRight=Iw,w.partition=NB,w.pick=ej,w.pickBy=Dw,w.property=Hw,w.propertyOf=tD,w.pull=MF,w.pullAll=_w,w.pullAllBy=NF,w.pullAllWith=LF,w.pullAt=FF,w.range=eD,w.rangeRight=nD,w.rearg=XB,w.reject=BB,w.remove=BF,w.rest=QB,w.reverse=Tm,w.sampleSize=DB,w.set=rj,w.setWith=ij,w.shuffle=UB,w.slice=jF,w.sortBy=KB,w.sortedUniq=VF,w.sortedUniqBy=HF,w.split=Oj,w.spread=ZB,w.tail=GF,w.take=JF,w.takeRight=YF,w.takeRightWhile=XF,w.takeWhile=QF,w.tap=hB,w.throttle=t5,w.thru=Kf,w.toArray=Nw,w.toPairs=Uw,w.toPairsIn=zw,w.toPath=aD,w.toPlainObject=Fw,w.transform=oj,w.unary=e5,w.union=ZF,w.unionBy=tB,w.unionWith=eB,w.uniq=nB,w.uniqBy=rB,w.uniqWith=iB,w.unset=sj,w.unzip=Om,w.unzipWith=bw,w.update=aj,w.updateWith=uj,w.values=ka,w.valuesIn=cj,w.without=oB,w.words=qw,w.wrap=n5,w.xor=sB,w.xorBy=aB,w.xorWith=uB,w.zip=cB,w.zipObject=lB,w.zipObjectDeep=fB,w.zipWith=dB,w.entries=Uw,w.entriesIn=zw,w.extend=Bw,w.extendWith=Xf,Fm(w,w),w.add=cD,w.attempt=Vw,w.camelCase=hj,w.capitalize=Ww,w.ceil=lD,w.clamp=lj,w.clone=i5,w.cloneDeep=s5,w.cloneDeepWith=a5,w.cloneWith=o5,w.conformsTo=u5,w.deburr=Kw,w.defaultTo=zj,w.divide=fD,w.endsWith=pj,w.eq=si,w.escape=gj,w.escapeRegExp=mj,w.every=EB,w.find=CB,w.findIndex=gw,w.findKey=B5,w.findLast=TB,w.findLastIndex=mw,w.findLastKey=j5,w.floor=dD,w.forEach=ww,w.forEachRight=Ew,w.forIn=D5,w.forInRight=U5,w.forOwn=z5,w.forOwnRight=W5,w.get=Rm,w.gt=c5,w.gte=l5,w.has=V5,w.hasIn=Pm,w.head=vw,w.identity=Zn,w.includes=$B,w.indexOf=TF,w.inRange=fj,w.invoke=J5,w.isArguments=Cs,w.isArray=bt,w.isArrayBuffer=f5,w.isArrayLike=Xn,w.isArrayLikeObject=Oe,w.isBoolean=d5,w.isBuffer=Go,w.isDate=h5,w.isElement=p5,w.isEmpty=g5,w.isEqual=m5,w.isEqualWith=y5,w.isError=Im,w.isFinite=v5,w.isFunction=uo,w.isInteger=$w,w.isLength=Jf,w.isMap=Rw,w.isMatch=_5,w.isMatchWith=b5,w.isNaN=S5,w.isNative=w5,w.isNil=x5,w.isNull=E5,w.isNumber=Pw,w.isObject=ye,w.isObjectLike=Se,w.isPlainObject=_c,w.isRegExp=$m,w.isSafeInteger=C5,w.isSet=Mw,w.isString=Yf,w.isSymbol=cr,w.isTypedArray=Aa,w.isUndefined=T5,w.isWeakMap=O5,w.isWeakSet=A5,w.join=$F,w.kebabCase=yj,w.last=Br,w.lastIndexOf=RF,w.lowerCase=vj,w.lowerFirst=_j,w.lt=k5,w.lte=I5,w.max=hD,w.maxBy=pD,w.mean=gD,w.meanBy=mD,w.min=yD,w.minBy=vD,w.stubArray=jm,w.stubFalse=Dm,w.stubObject=rD,w.stubString=iD,w.stubTrue=oD,w.multiply=_D,w.nth=PF,w.noConflict=Jj,w.noop=Bm,w.now=Vf,w.pad=bj,w.padEnd=Sj,w.padStart=wj,w.parseInt=Ej,w.random=dj,w.reduce=LB,w.reduceRight=FB,w.repeat=xj,w.replace=Cj,w.result=nj,w.round=bD,w.runInContext=I,w.sample=jB,w.size=zB,w.snakeCase=Tj,w.some=WB,w.sortedIndex=DF,w.sortedIndexBy=UF,w.sortedIndexOf=zF,w.sortedLastIndex=WF,w.sortedLastIndexBy=KF,w.sortedLastIndexOf=qF,w.startCase=Aj,w.startsWith=kj,w.subtract=SD,w.sum=wD,w.sumBy=ED,w.template=Ij,w.times=sD,w.toFinite=co,w.toInteger=xt,w.toLength=Lw,w.toLower=$j,w.toNumber=jr,w.toSafeInteger=$5,w.toString=Vt,w.toUpper=Rj,w.trim=Pj,w.trimEnd=Mj,w.trimStart=Nj,w.truncate=Lj,w.unescape=Fj,w.uniqueId=uD,w.upperCase=Bj,w.upperFirst=Mm,w.each=ww,w.eachRight=Ew,w.first=vw,Fm(w,function(){var o={};return Ti(w,function(u,f){Gt.call(w.prototype,f)||(o[f]=u)}),o}(),{chain:!1}),w.VERSION=r,Pr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(o){w[o].placeholder=w}),Pr(["drop","take"],function(o,u){Mt.prototype[o]=function(f){f=f===n?1:We(xt(f),0);var p=this.__filtered__&&!u?new Mt(this):this.clone();return p.__filtered__?p.__takeCount__=En(f,p.__takeCount__):p.__views__.push({size:En(f,se),type:o+(p.__dir__<0?"Right":"")}),p},Mt.prototype[o+"Right"]=function(f){return this.reverse()[o](f).reverse()}}),Pr(["filter","map","takeWhile"],function(o,u){var f=u+1,p=f==nt||f==gt;Mt.prototype[o]=function(m){var E=this.clone();return E.__iteratees__.push({iteratee:lt(m,3),type:f}),E.__filtered__=E.__filtered__||p,E}}),Pr(["head","last"],function(o,u){var f="take"+(u?"Right":"");Mt.prototype[o]=function(){return this[f](1).value()[0]}}),Pr(["initial","tail"],function(o,u){var f="drop"+(u?"":"Right");Mt.prototype[o]=function(){return this.__filtered__?new Mt(this):this[f](1)}}),Mt.prototype.compact=function(){return this.filter(Zn)},Mt.prototype.find=function(o){return this.filter(o).head()},Mt.prototype.findLast=function(o){return this.reverse().find(o)},Mt.prototype.invokeMap=kt(function(o,u){return typeof o=="function"?new Mt(this):this.map(function(f){return hc(f,o,u)})}),Mt.prototype.reject=function(o){return this.filter(Gf(lt(o)))},Mt.prototype.slice=function(o,u){o=xt(o);var f=this;return f.__filtered__&&(o>0||u<0)?new Mt(f):(o<0?f=f.takeRight(-o):o&&(f=f.drop(o)),u!==n&&(u=xt(u),f=u<0?f.dropRight(-u):f.take(u-o)),f)},Mt.prototype.takeRightWhile=function(o){return this.reverse().takeWhile(o).reverse()},Mt.prototype.toArray=function(){return this.take(se)},Ti(Mt.prototype,function(o,u){var f=/^(?:filter|find|map|reject)|While$/.test(u),p=/^(?:head|last)$/.test(u),m=w[p?"take"+(u=="last"?"Right":""):u],E=p||/^find/.test(u);m&&(w.prototype[u]=function(){var C=this.__wrapped__,A=p?[1]:arguments,R=C instanceof Mt,q=A[0],V=R||bt(C),Y=function(Rt){var Lt=m.apply(w,Uo([Rt],A));return p&&Z?Lt[0]:Lt};V&&f&&typeof q=="function"&&q.length!=1&&(R=V=!1);var Z=this.__chain__,ot=!!this.__actions__.length,ft=E&&!Z,Tt=R&&!ot;if(!E&&V){C=Tt?C:new Mt(this);var dt=o.apply(C,A);return dt.__actions__.push({func:Kf,args:[Y],thisArg:n}),new Nr(dt,Z)}return ft&&Tt?o.apply(this,A):(dt=this.thru(Y),ft?p?dt.value()[0]:dt.value():dt)})}),Pr(["pop","push","shift","sort","splice","unshift"],function(o){var u=mf[o],f=/^(?:push|sort|unshift)$/.test(o)?"tap":"thru",p=/^(?:pop|shift)$/.test(o);w.prototype[o]=function(){var m=arguments;if(p&&!this.__chain__){var E=this.value();return u.apply(bt(E)?E:[],m)}return this[f](function(C){return u.apply(bt(C)?C:[],m)})}}),Ti(Mt.prototype,function(o,u){var f=w[u];if(f){var p=f.name+"";Gt.call(Ea,p)||(Ea[p]=[]),Ea[p].push({name:u,func:f})}}),Ea[Ff(n,O).name]=[{name:"wrapper",func:n}],Mt.prototype.clone=FL,Mt.prototype.reverse=BL,Mt.prototype.value=jL,w.prototype.at=pB,w.prototype.chain=gB,w.prototype.commit=mB,w.prototype.next=yB,w.prototype.plant=_B,w.prototype.reverse=bB,w.prototype.toJSON=w.prototype.valueOf=w.prototype.value=SB,w.prototype.first=w.prototype.head,sc&&(w.prototype[sc]=vB),w},ba=mL();ys?((ys.exports=ba)._=ba,Lg._=ba):un._=ba}).call(bc)})(Vd,Vd.exports);var DD=Vd.exports,rt=fO(DD);const UD=1,By=2,zD={INIT_ACK:{statusByte:2,parse:t=>({type:"init-ack",projectName:t[0]})},INIT:{statusByte:3,parse:t=>({type:"init-project",tracksCount:t[0]})},DONE:{statusByte:4,parse:t=>({type:"init-done"})},TRACK:{statusByte:5,parse:t=>({type:"init-track",name:t[0],trackIndex:rt.toNumber(t[1]),color:rt.toNumber(t[2])})},CLIP:{statusByte:6,parse:t=>({type:"init-clip",name:t[0],trackIndex:rt.toNumber(t[1]),clipIndex:rt.toNumber(t[2]),color:rt.toNumber(t[3]),startTime:rt.toNumber(t[4]),endTime:rt.toNumber(t[5])})},BEAT:{statusByte:7,parse:t=>({type:"beat",value:rt.toNumber(t[0])})},BAR_BEAT:{statusByte:8,parse:t=>({type:"bar-beat",value:rt.toNumber(t[0])})},SIG:{statusByte:9,parse:t=>({type:"sig",numer:rt.toNumber(t[0]),denom:rt.toNumber(t[1])})},TEMPO:{statusByte:10,parse:t=>({type:"tempo",value:rt.toNumber(t[0])})},IS_PLAYING:{statusByte:11,parse:t=>({type:"is-playing",value:rt.toNumber(t[0])===1})},CUE:{statusByte:12,parse:t=>({type:"init-cue",id:rt.toNumber(t[0]),name:t[1],time:rt.toNumber(t[2]),index:rt.toNumber(t[3])})},METRONOME_STATE:{statusByte:13,parse:t=>({type:"metronome-state",value:rt.toNumber(t[0])===1})},LOOP_STATE:{statusByte:14,parse:t=>({type:"loop-state",value:rt.toNumber(t[0])===1})},HALF_BEAT:{statusByte:15,parse:t=>({type:"half-beat",isHalf:rt.toNumber(t[0])===1})}},WD=rt.fromPairs(rt.map(zD,t=>[t.statusByte,t])),KD=t=>{const e=rt.join(rt.map(t,r=>String.fromCharCode(r)),""),n=rt.split(e,String.fromCharCode(UD));return[rt.toNumber(n[0]),n.splice(1)]},qD=t=>{try{if(t.manufacturer===By){const[e,n]=KD(t.body),r=WD[e];if(r!==void 0)return r.parse(n);console.warn("Did not find parser for message",t)}}catch(e){console.error("Got error parsing message",e)}},rE=t=>{const e=[];return rt.forEach(t,(n,r)=>{e.push(t.charCodeAt(r))}),e},hn={base:(t,e)=>({type:"sysex",manufacturer:By,body:[t,...rE(e.toString())]}),baseJSON:(t,e)=>({type:"sysex",manufacturer:By,body:[t,...rE(JSON.stringify(e))]}),init:()=>hn.base(64,1),initReady:t=>hn.baseJSON(65,{tracks:t}),play:()=>hn.base(80,1),stop:()=>hn.base(81,1),jumpToCue:t=>hn.base(82,t),jumpBy:t=>hn.base(84,t),record:()=>hn.base(85,1),metronome:t=>hn.base(86,t?1:0),loop:t=>hn.base(87,t?1:0)},VD=t=>typeof t=="function",L=function(t,e){if(typeof t=="function")return function(){return t(arguments)?e.apply(this,arguments):n=>e(n,...arguments)};switch(t){case 0:case 1:throw new RangeError(`Invalid arity ${t}`);case 2:return function(n,r){return arguments.length>=2?e(n,r):function(i){return e(i,n)}};case 3:return function(n,r,i){return arguments.length>=3?e(n,r,i):function(s){return e(s,n,r)}};case 4:return function(n,r,i,s){return arguments.length>=4?e(n,r,i,s):function(a){return e(a,n,r,i)}};case 5:return function(n,r,i,s,a){return arguments.length>=5?e(n,r,i,s,a):function(c){return e(c,n,r,i,s)}};default:return function(){if(arguments.length>=t)return e.apply(this,arguments);const n=arguments;return function(r){return e(r,...n)}}}},Be=t=>t,Uh=t=>()=>t,iE=Uh(!0),jy=Uh(!1),bO=Uh(void 0),HD=bO;function H(t,e,n,r,i,s,a,c,l){switch(arguments.length){case 1:return t;case 2:return e(t);case 3:return n(e(t));case 4:return r(n(e(t)));case 5:return i(r(n(e(t))));case 6:return s(i(r(n(e(t)))));case 7:return a(s(i(r(n(e(t))))));case 8:return c(a(s(i(r(n(e(t)))))));case 9:return l(c(a(s(i(r(n(e(t))))))));default:{let d=arguments[0];for(let h=1;h<arguments.length;h++)d=arguments[h](d);return d}}}const zh=t=>(e,n)=>e===n||t(e,n),GD=L(2,(t,e)=>zh((n,r)=>t(e(n),e(r)))),JD=t=>zh((e,n)=>{if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++)if(!t(e[r],n[r]))return!1;return!0});let YD="3.13.12";const Wh=()=>YD,Qf=`effect/GlobalValue/globalStoreId/${Wh()}`;let Sc;const jt=(t,e)=>(Sc||(globalThis[Qf]??(globalThis[Qf]=new Map),Sc=globalThis[Qf]),Sc.has(t)||Sc.set(t,e()),Sc.get(t)),Hi=t=>typeof t=="string",Ks=t=>typeof t=="number",h0=t=>typeof t=="boolean",Kh=t=>typeof t=="bigint",Dy=t=>typeof t=="symbol",Iu=VD,XD=t=>t===void 0,QD=t=>!1,p0=t=>typeof t=="object"&&t!==null,ds=t=>p0(t)||Iu(t),Ct=L(2,(t,e)=>ds(t)&&e in t),g0=L(2,(t,e)=>Ct(t,"_tag")&&t._tag===e),Ia=t=>t==null,ZD=t=>t!=null,t3=t=>t instanceof Date,SO=t=>Ct(t,Symbol.iterator),e3=t=>p0(t)&&!Array.isArray(t),n3=t=>Ct(t,"then")&&Iu(t.then),qh=t=>`BUG: ${t} - please report an issue at https://github.com/Effect-TS/effect/issues`;let wO=class EO{constructor(e){_(this,"self");_(this,"called",!1);this.self=e}next(e){return this.called?{value:e,done:!0}:(this.called=!0,{value:this.self,done:!1})}return(e){return{value:e,done:!0}}throw(e){throw e}[Symbol.iterator](){return new EO(this.self)}};const r3=335903614,i3=4150755663,o3=1481765933,s3=1284865837,a3=9007199254740992,u3=134217728;class c3{constructor(e,n,r,i){_(this,"_state");return Ia(n)&&Ia(e)?(n=Math.random()*4294967295>>>0,e=0):Ia(n)&&(n=e,e=0),Ia(i)&&Ia(r)?(i=this._state?this._state[3]:i3,r=this._state?this._state[2]:r3):Ia(i)&&(i=r,r=0),this._state=new Int32Array([0,0,r>>>0,((i||0)|1)>>>0]),this._next(),oE(this._state,this._state[0],this._state[1],e>>>0,n>>>0),this._next(),this}getState(){return[this._state[0],this._state[1],this._state[2],this._state[3]]}setState(e){this._state[0]=e[0],this._state[1]=e[1],this._state[2]=e[2],this._state[3]=e[3]|1}integer(e){return Math.round(this.number()*Number.MAX_SAFE_INTEGER)%e}number(){const e=(this._next()&67108863)*1,n=(this._next()&134217727)*1;return(e*u3+n)/a3}_next(){const e=this._state[0]>>>0,n=this._state[1]>>>0;l3(this._state,e,n,o3,s3),oE(this._state,this._state[0],this._state[1],this._state[2],this._state[3]);let r=e>>>18,i=(n>>>18|e<<14)>>>0;r=(r^e)>>>0,i=(i^n)>>>0;const s=(i>>>27|r<<5)>>>0,a=e>>>27,c=(-a>>>0&31)>>>0;return(s>>>a|s<<c)>>>0}}function l3(t,e,n,r,i){let s=(n>>>16)*(i&65535)>>>0,a=(n&65535)*(i>>>16)>>>0,c=(n&65535)*(i&65535)>>>0,l=(n>>>16)*(i>>>16)+((a>>>16)+(s>>>16))>>>0;a=a<<16>>>0,c=c+a>>>0,c>>>0<a>>>0&&(l=l+1>>>0),s=s<<16>>>0,c=c+s>>>0,c>>>0<s>>>0&&(l=l+1>>>0),l=l+Math.imul(n,r)>>>0,l=l+Math.imul(e,i)>>>0,t[0]=l,t[1]=c}function oE(t,e,n,r,i){let s=e+r>>>0;const a=n+i>>>0;a>>>0<n>>>0&&(s=s+1|0),t[0]=s,t[1]=a}const Uy=Symbol.for("effect/Utils/YieldWrap");var Cl;class Tl{constructor(e){Qw(this,Cl);Zw(this,Cl,e)}[Uy](){return Xw(this,Cl)}}Cl=new WeakMap;function f3(t){if(typeof t=="object"&&t!==null&&Uy in t)return t[Uy]();throw new Error(qh("yieldWrapGet"))}const zr=jt("effect/Utils/isStructuralRegion",()=>({enabled:!1,tester:void 0})),d3=t=>{const e={[t](n){return n()}};return function(n){return e[t](n)}},Wn=d3("effect_internal_function"),Um=jt(Symbol.for("effect/Hash/randomHashCache"),()=>new WeakMap),It=Symbol.for("effect/Hash"),ct=t=>{if(zr.enabled===!0)return 0;switch(typeof t){case"number":return y0(t);case"bigint":return Ne(t.toString(10));case"boolean":return Ne(String(t));case"symbol":return Ne(String(t));case"string":return Ne(t);case"undefined":return Ne("undefined");case"function":case"object":return t===null?Ne("null"):t instanceof Date?ct(t.toISOString()):h3(t)?t[It]():m0(t);default:throw new Error(`BUG: unhandled typeof ${typeof t} - please report an issue at https://github.com/Effect-TS/effect/issues`)}},m0=t=>(Um.has(t)||Um.set(t,y0(Math.floor(Math.random()*Number.MAX_SAFE_INTEGER))),Um.get(t)),Bt=t=>e=>e*53^t,Vh=t=>t&3221225471|t>>>1&1073741824,h3=t=>Ct(t,It),y0=t=>{if(t!==t||t===1/0)return 0;let e=t|0;for(e!==t&&(e^=t*4294967295);t>4294967295;)e^=t/=4294967295;return Vh(e)},Ne=t=>{let e=5381,n=t.length;for(;n;)e=e*33^t.charCodeAt(--n);return Vh(e)},p3=(t,e)=>{let n=12289;for(let r=0;r<e.length;r++)n^=H(Ne(e[r]),Bt(ct(t[e[r]])));return Vh(n)},xO=t=>p3(t,Object.keys(t)),Ol=t=>{let e=6151;for(let n=0;n<t.length;n++)e=H(e,Bt(ct(t[n])));return Vh(e)},Te=function(){if(arguments.length===1){const n=arguments[0];return function(r){return Object.defineProperty(n,It,{value(){return r},enumerable:!1}),r}}const t=arguments[0],e=arguments[1];return Object.defineProperty(t,It,{value(){return e},enumerable:!1}),e},Ot=Symbol.for("effect/Equal");function At(){return arguments.length===1?t=>Hd(t,arguments[0]):Hd(arguments[0],arguments[1])}function Hd(t,e){if(t===e)return!0;const n=typeof t;if(n!==typeof e)return!1;if(n==="object"||n==="function"){if(t!==null&&e!==null){if(Gd(t)&&Gd(e))return ct(t)===ct(e)&&t[Ot](e)?!0:zr.enabled&&zr.tester?zr.tester(t,e):!1;if(t instanceof Date&&e instanceof Date)return t.toISOString()===e.toISOString()}if(zr.enabled){if(Array.isArray(t)&&Array.isArray(e))return t.length===e.length&&t.every((r,i)=>Hd(r,e[i]));if(Object.getPrototypeOf(t)===Object.prototype&&Object.getPrototypeOf(t)===Object.prototype){const r=Object.keys(t),i=Object.keys(e);if(r.length===i.length){for(const s of r)if(!(s in e&&Hd(t[s],e[s])))return zr.tester?zr.tester(t,e):!1;return!0}}return zr.tester?zr.tester(t,e):!1}}return zr.enabled&&zr.tester?zr.tester(t,e):!1}const Gd=t=>Ct(t,Ot),v0=()=>At,_e=Symbol.for("nodejs.util.inspect.custom"),He=t=>{try{if(Ct(t,"toJSON")&&Iu(t.toJSON)&&t.toJSON.length===0)return t.toJSON();if(Array.isArray(t))return t.map(He)}catch{return{}}return m3(t)},en=t=>JSON.stringify(t,null,2),tu=(t,e=2)=>{if(typeof t=="string")return t;try{return typeof t=="object"?CO(t,e):String(t)}catch{return String(t)}},CO=(t,e)=>{let n=[];const r=JSON.stringify(t,(i,s)=>typeof s=="object"&&s!==null?n.includes(s)?void 0:n.push(s)&&(Bs.fiberRefs!==void 0&&TO(s)?s[_0](Bs.fiberRefs):s):s,e);return n=void 0,r},_0=Symbol.for("effect/Inspectable/Redactable"),TO=t=>typeof t=="object"&&t!==null&&_0 in t,Bs=jt("effect/Inspectable/redactableState",()=>({fiberRefs:void 0})),g3=(t,e)=>{const n=Bs.fiberRefs;Bs.fiberRefs=t;try{return e()}finally{Bs.fiberRefs=n}},m3=t=>TO(t)&&Bs.fiberRefs!==void 0?t[_0](Bs.fiberRefs):t,_t=(t,e)=>{switch(e.length){case 0:return t;case 1:return e[0](t);case 2:return e[1](e[0](t));case 3:return e[2](e[1](e[0](t)));case 4:return e[3](e[2](e[1](e[0](t))));case 5:return e[4](e[3](e[2](e[1](e[0](t)))));case 6:return e[5](e[4](e[3](e[2](e[1](e[0](t))))));case 7:return e[6](e[5](e[4](e[3](e[2](e[1](e[0](t)))))));case 8:return e[7](e[6](e[5](e[4](e[3](e[2](e[1](e[0](t))))))));case 9:return e[8](e[7](e[6](e[5](e[4](e[3](e[2](e[1](e[0](t)))))))));default:{let n=t;for(let r=0,i=e.length;r<i;r++)n=e[r](n);return n}}},zc="Async",Hh="Commit",mi="Failure",zm="OnFailure",Jd="OnSuccess",Yd="OnSuccessAndFailure",yi="Success",OO="Sync",y3="Tag",Al="UpdateRuntimeFlags",Xd="While",Ed="Iterator",AO="WithRuntime",xd="Yield",b0="RevertFlags",v3=Symbol.for("effect/Effect"),_3=Symbol.for("effect/Stream"),b3=Symbol.for("effect/Sink"),S3=Symbol.for("effect/Channel"),eu={_R:t=>t,_E:t=>t,_A:t=>t,_V:Wh()},w3={_A:t=>t,_In:t=>t,_L:t=>t,_E:t=>t,_R:t=>t},E3={_Env:t=>t,_InErr:t=>t,_InElem:t=>t,_InDone:t=>t,_OutErr:t=>t,_OutElem:t=>t,_OutDone:t=>t},kl={[v3]:eu,[_3]:eu,[b3]:w3,[S3]:E3,[Ot](t){return this===t},[It](){return Te(this,m0(this))},[Symbol.iterator](){return new wO(new Tl(this))},pipe(){return _t(this,arguments)}},Il={[It](){return Te(this,xO(this))},[Ot](t){const e=Object.keys(this),n=Object.keys(t);if(e.length!==n.length)return!1;for(const r of e)if(!(r in t&&At(this[r],t[r])))return!1;return!0}},$l={...kl,_op:Hh},x3={...$l,...Il},C3=function(){function t(){}return t.prototype=$l,t}(),kO=Symbol.for("effect/Option"),IO={...kl,[kO]:{_A:t=>t},[_e](){return this.toJSON()},toString(){return en(this.toJSON())}},T3=Object.assign(Object.create(IO),{_tag:"Some",_op:"Some",[Ot](t){return S0(t)&&RO(t)&&At(this.value,t.value)},[It](){return Te(this,Bt(ct(this._tag))(ct(this.value)))},toJSON(){return{_id:"Option",_tag:this._tag,value:He(this.value)}}}),O3=ct("None"),A3=Object.assign(Object.create(IO),{_tag:"None",_op:"None",[Ot](t){return S0(t)&&$O(t)},[It](){return O3},toJSON(){return{_id:"Option",_tag:this._tag}}}),S0=t=>Ct(t,kO),$O=t=>t._tag==="None",RO=t=>t._tag==="Some",w0=Object.create(A3),Qd=t=>{const e=Object.create(T3);return e.value=t,e},PO=Symbol.for("effect/Either"),MO={...kl,[PO]:{_R:t=>t},[_e](){return this.toJSON()},toString(){return en(this.toJSON())}},k3=Object.assign(Object.create(MO),{_tag:"Right",_op:"Right",[Ot](t){return E0(t)&&NO(t)&&At(this.right,t.right)},[It](){return Bt(ct(this._tag))(ct(this.right))},toJSON(){return{_id:"Either",_tag:this._tag,right:He(this.right)}}}),I3=Object.assign(Object.create(MO),{_tag:"Left",_op:"Left",[Ot](t){return E0(t)&&x0(t)&&At(this.left,t.left)},[It](){return Bt(ct(this._tag))(ct(this.left))},toJSON(){return{_id:"Either",_tag:this._tag,left:He(this.left)}}}),E0=t=>Ct(t,PO),x0=t=>t._tag==="Left",NO=t=>t._tag==="Right",$3=t=>{const e=Object.create(I3);return e.left=t,e},R3=t=>{const e=Object.create(k3);return e.right=t,e},P3=t=>x0(t)?w0:Qd(t.right),Et=R3,vt=$3,M3=t=>{if(Iu(t))try{return Et(t())}catch(e){return vt(e)}else try{return Et(t.try())}catch(e){return vt(t.catch(e))}},N3=E0,Ze=x0,yo=NO,L3=L(2,(t,{onLeft:e,onRight:n})=>Ze(t)?vt(e(t.left)):Et(n(t.right))),C0=L(2,(t,e)=>Ze(t)?vt(e(t.left)):Et(t.right)),F3=L(2,(t,e)=>yo(t)?Et(e(t.right)):vt(t.left)),$u=L(2,(t,{onLeft:e,onRight:n})=>Ze(t)?e(t.left):n(t.right)),B3=$u({onLeft:Be,onRight:Be}),LO=L(2,(t,e)=>{if(yo(t))return t.right;throw e(t.left)}),FO=LO(()=>new Error("getOrThrow called on a Left")),BO=t=>t.length>0,jO=t=>(e,n)=>e===n?0:t(e,n),j3=jO((t,e)=>t<e?-1:1),DO=L(2,(t,e)=>jO((n,r)=>t(e(n),e(r)))),D3=t=>L(2,(e,n)=>t(e,n)===1),ut=()=>w0,$t=Qd,U3=S0,Ie=$O,Nn=RO,$e=L(2,(t,{onNone:e,onSome:n})=>Ie(t)?e():n(t.value)),z3=P3,Ce=L(2,(t,e)=>Ie(t)?e():t.value),es=L(2,(t,e)=>Ie(t)?e():t),W3=L(2,(t,e)=>Ie(t)?$t(e()):t),Ao=t=>t==null?ut():$t(t),li=Ce(bO),K3=t=>(...e)=>{try{return $t(t(...e))}catch{return ut()}},UO=L(2,(t,e)=>Ie(t)?ut():$t(e(t.value))),is=L(2,(t,e)=>Ie(t)?ut():e(t.value)),q3=L(2,(t,e)=>Ie(t)?ut():Ao(e(t.value))),V3=t=>zh((e,n)=>Ie(e)?Ie(n):Ie(n)?!1:t(e.value,n.value)),H3=t=>L(2,(e,n)=>Ie(e)?!1:t(e.value,n)),G3=v0(),J3=H3(G3),Y3=L(2,(t,e)=>Ie(t)?!1:e(t.value)),X3=(...t)=>t,Gh=t=>new Array(t),Q3=L(2,(t,e)=>{const n=Math.max(1,Math.floor(t)),r=new Array(n);for(let i=0;i<n;i++)r[i]=e(i);return r}),je=t=>Array.isArray(t)?t:Array.from(t),Z3=t=>Array.isArray(t)?t:[t],tU=L(2,(t,{onEmpty:e,onNonEmpty:n})=>nn(t)?n(nr(t),qs(t)):e()),Zd=L(2,(t,e)=>[e,...t]),eU=L(2,(t,e)=>[...t,e]),zO=L(2,(t,e)=>je(t).concat(je(e))),nU=Array.isArray,rU=t=>t.length===0,iU=rU,Cd=BO,nn=BO,WO=(t,e)=>t<0||t>=e.length,oU=(t,e)=>Math.floor(Math.min(Math.max(0,t),e.length)),sU=L(2,(t,e)=>{const n=Math.floor(e);return WO(n,t)?ut():$t(t[n])}),KO=L(2,(t,e)=>{const n=Math.floor(e);if(WO(n,t))throw new Error(`Index ${n} out of bounds`);return t[n]}),Wc=sU(0),nr=KO(0),aU=t=>nn(t)?$t(qO(t)):ut(),qO=t=>t[t.length-1],qs=t=>t.slice(1),uU=(t,e)=>{let n=0;for(const r of t){if(!e(r,n))break;n++}return n},cU=L(2,(t,e)=>hU(t,uU(t,e))),lU=L(2,(t,e)=>{const n=je(t);return n.slice(oU(e,n),n.length)}),sE=t=>Array.from(t).reverse(),Xc=L(2,(t,e)=>{const n=Array.from(t);return n.sort(e),n}),aE=L(2,(t,e)=>fU(t,e,X3)),fU=L(3,(t,e,n)=>{const r=je(t),i=je(e);if(nn(r)&&nn(i)){const s=[n(nr(r),nr(i))],a=Math.min(r.length,i.length);for(let c=1;c<a;c++)s[c]=n(r[c],i[c]);return s}return[]}),dU=v0(),hU=L(2,(t,e)=>{const n=Array.from(t),r=Math.floor(e);return nn(n)?r>=1?pU(n,r):[[],n]:[n,[]]}),pU=L(2,(t,e)=>{const n=Math.max(1,Math.floor(e));return n>=t.length?[Rc(t),[]]:[Zd(t.slice(1,n),nr(t)),t.slice(n)]}),Rc=t=>t.slice(),gU=L(3,(t,e,n)=>{const r=je(t),i=je(e);return nn(r)?nn(i)?JO(n)(zO(r,i)):r:i}),Td=L(2,(t,e)=>gU(t,e,dU)),nu=()=>[],ci=t=>[t],qa=L(2,(t,e)=>t.map(e)),VO=L(2,(t,e)=>{if(iU(t))return[];const n=[];for(let r=0;r<t.length;r++){const i=e(t[r],r);for(let s=0;s<i.length;s++)n.push(i[s])}return n}),HO=VO(Be),GO=L(3,(t,e,n)=>je(t).reduce((r,i,s)=>n(r,i,s),e)),uE=(t,e)=>{const n=[];let r=t,i;for(;Nn(i=e(r));){const[s,a]=i.value;n.push(s),r=a}return n},T0=JD,JO=L(2,(t,e)=>{const n=je(t);if(nn(n)){const r=[nr(n)],i=qs(n);for(const s of i)r.every(a=>!e(s,a))&&r.push(s);return r}return[]}),mU=t=>JO(t,v0()),Ru=L(2,(t,e)=>je(t).join(e)),YO=(t,e)=>{switch(e._tag){case"StringKeyword":case"TemplateLiteral":return Object.keys(t);case"SymbolKeyword":return Object.getOwnPropertySymbols(t);case"Refinement":return YO(t,e.from)}},Va=t=>Object.keys(t).concat(Object.getOwnPropertySymbols(t)),XO=t=>{let e=!1,n;return()=>(e||(n=t(),e=!0),n)},yU=t=>{try{return t.toISOString()}catch{return String(t)}},zi=(t,e=!0)=>{if(Array.isArray(t))return`[${t.map(n=>zi(n,e)).join(",")}]`;if(t3(t))return yU(t);if(Ct(t,"toString")&&Iu(t.toString)&&t.toString!==Object.prototype.toString)return t.toString();if(Hi(t))return JSON.stringify(t);if(Ks(t)||t==null||h0(t)||Dy(t))return String(t);if(Kh(t))return String(t)+"n";if(SO(t))return`${t.constructor.name}(${zi(Array.from(t),e)})`;try{e&&JSON.stringify(t);const n=`{${Va(t).map(i=>`${Hi(i)?JSON.stringify(i):String(i)}:${zi(t[i],!1)}`).join(",")}}`,r=t.constructor.name;return t.constructor!==Object.prototype.constructor?`${r}(${n})`:n}catch{return"<circular structure>"}},vU=t=>typeof t=="string"?JSON.stringify(t):String(t),O0=t=>Array.isArray(t),cE=t=>`[${vU(t)}]`,_U=t=>O0(t)?t.map(cE).join(""):cE(t),na=(t,e,n,r)=>{let i=t;return e!==void 0&&(i+=`
details: ${e}`),r&&(i+=`
schema (${r._tag}): ${r}`),i},bU=t=>na("Unsupported key schema",void 0,void 0,t),SU=t=>na("Unsupported literal",`literal value: ${zi(t)}`),lE=t=>na("Duplicate index signature",`${t} index signature`),wU=na("Unsupported index signature parameter","An index signature parameter type must be `string`, `symbol`, a template literal type or a refinement of the previous types"),EU=na("Invalid element","A required element cannot follow an optional element. ts(1257)"),fE=t=>na("Duplicate property signature transformation",`Duplicate key ${zi(t)}`),xU=t=>na("Duplicate property signature",`Duplicate key ${zi(t)}`),ru=j3,th=t=>t.replace(/[/\\^$*+?.()|[\]{}]/g,"\\$&"),CU=Symbol.for("effect/annotation/Brand"),TU=Symbol.for("effect/annotation/SchemaId"),QO=Symbol.for("effect/annotation/Message"),A0=Symbol.for("effect/annotation/MissingMessage"),ZO=Symbol.for("effect/annotation/Identifier"),ko=Symbol.for("effect/annotation/Title"),zy=Symbol.for("effect/annotation/AutoTitle"),Rl=Symbol.for("effect/annotation/Description"),tA=Symbol.for("effect/annotation/Examples"),eA=Symbol.for("effect/annotation/Default"),nA=Symbol.for("effect/annotation/JSONSchema"),rA=Symbol.for("effect/annotation/Arbitrary"),iA=Symbol.for("effect/annotation/Pretty"),oA=Symbol.for("effect/annotation/Equivalence"),OU=Symbol.for("effect/annotation/Documentation"),sA=Symbol.for("effect/annotation/Concurrency"),aA=Symbol.for("effect/annotation/Batching"),uA=Symbol.for("effect/annotation/ParseIssueTitle"),cA=Symbol.for("effect/annotation/ParseOptions"),lA=Symbol.for("effect/annotation/DecodingFallback"),fA=Symbol.for("effect/annotation/Surrogate"),AU=Symbol.for("effect/annotation/StableFilter"),Fn=L(2,(t,e)=>Object.prototype.hasOwnProperty.call(t.annotations,e)?$t(t.annotations[e]):ut()),kU=Fn(CU),IU=Fn(QO),$U=Fn(A0),dA=Fn(ko),hA=Fn(zy),Jh=Fn(ZO),pA=Fn(Rl),RU=Fn(sA),PU=Fn(aA),MU=Fn(uA),NU=Fn(cA),LU=Fn(lA),gA=Fn(fA),FU=Fn(AU),BU=t=>Y3(FU(t),e=>e===!0),mA=Symbol.for("effect/annotation/JSONIdentifier"),jU=Fn(mA),DU=t=>es(jU(t),()=>Jh(t)),UU=Symbol.for("effect/schema/ParseJson");class Yh{constructor(e,n,r,i={}){_(this,"typeParameters");_(this,"decodeUnknown");_(this,"encodeUnknown");_(this,"annotations");_(this,"_tag","Declaration");this.typeParameters=e,this.decodeUnknown=n,this.encodeUnknown=r,this.annotations=i}toString(){return Ce(Gi(this),()=>"<declaration schema>")}toJSON(){return{_tag:this._tag,typeParameters:this.typeParameters.map(e=>e.toJSON()),annotations:Ge(this.annotations)}}}const Pl=t=>e=>e._tag===t;let Wy=class{constructor(e,n={}){_(this,"literal");_(this,"annotations");_(this,"_tag","Literal");this.literal=e,this.annotations=n}toString(){return Ce(Gi(this),()=>zi(this.literal))}toJSON(){return{_tag:this._tag,literal:Kh(this.literal)?String(this.literal):this.literal,annotations:Ge(this.annotations)}}};const dE=Pl("Literal");class zU{constructor(e,n={}){_(this,"symbol");_(this,"annotations");_(this,"_tag","UniqueSymbol");this.symbol=e,this.annotations=n}toString(){return Ce(Gi(this),()=>zi(this.symbol))}toJSON(){return{_tag:this._tag,symbol:String(this.symbol),annotations:Ge(this.annotations)}}}class WU{constructor(e={}){_(this,"annotations");_(this,"_tag","UndefinedKeyword");this.annotations=e}toString(){return ia(this)}toJSON(){return{_tag:this._tag,annotations:Ge(this.annotations)}}}const Ky=new WU({[ko]:"undefined"});class KU{constructor(e={}){_(this,"annotations");_(this,"_tag","NeverKeyword");this.annotations=e}toString(){return ia(this)}toJSON(){return{_tag:this._tag,annotations:Ge(this.annotations)}}}const k0=new KU({[ko]:"never"});class qU{constructor(e={}){_(this,"annotations");_(this,"_tag","UnknownKeyword");this.annotations=e}toString(){return ia(this)}toJSON(){return{_tag:this._tag,annotations:Ge(this.annotations)}}}const yA=new qU({[ko]:"unknown"});class VU{constructor(e={}){_(this,"annotations");_(this,"_tag","AnyKeyword");this.annotations=e}toString(){return ia(this)}toJSON(){return{_tag:this._tag,annotations:Ge(this.annotations)}}}const vA=new VU({[ko]:"any"});class HU{constructor(e={}){_(this,"annotations");_(this,"_tag","StringKeyword");this.annotations=e}toString(){return ia(this)}toJSON(){return{_tag:this._tag,annotations:Ge(this.annotations)}}}const GU=new HU({[ko]:"string",[Rl]:"a string"}),JU=Pl("StringKeyword");class YU{constructor(e={}){_(this,"annotations");_(this,"_tag","NumberKeyword");this.annotations=e}toString(){return ia(this)}toJSON(){return{_tag:this._tag,annotations:Ge(this.annotations)}}}const XU=new YU({[ko]:"number",[Rl]:"a number"});class QU{constructor(e={}){_(this,"annotations");_(this,"_tag","BooleanKeyword");this.annotations=e}toString(){return ia(this)}toJSON(){return{_tag:this._tag,annotations:Ge(this.annotations)}}}const ZU=new QU({[ko]:"boolean",[Rl]:"a boolean"}),tz=Pl("SymbolKeyword");let Xh=class{constructor(e,n={}){_(this,"type");_(this,"annotations");this.type=e,this.annotations=n}toJSON(){return{type:this.type.toJSON(),annotations:Ge(this.annotations)}}toString(){return String(this.type)}};class ra extends Xh{constructor(n,r,i={}){super(n,i);_(this,"isOptional");this.isOptional=r}toJSON(){return{type:this.type.toJSON(),isOptional:this.isOptional,annotations:Ge(this.annotations)}}toString(){return String(this.type)+(this.isOptional?"?":"")}}const _A=t=>t.map(e=>e.type);class I0{constructor(e,n,r,i={}){_(this,"elements");_(this,"rest");_(this,"isReadonly");_(this,"annotations");_(this,"_tag","TupleType");this.elements=e,this.rest=n,this.isReadonly=r,this.annotations=i;let s=!1,a=!1;for(const c of e)if(c.isOptional)s=!0;else if(s){a=!0;break}if(a||s&&n.length>1)throw new Error(EU)}toString(){return Ce(Gi(this),()=>ez(this))}toJSON(){return{_tag:this._tag,elements:this.elements.map(e=>e.toJSON()),rest:this.rest.map(e=>e.toJSON()),isReadonly:this.isReadonly,annotations:Ge(this.annotations)}}}const ez=t=>{const e=t.elements.map(String).join(", ");return tU(t.rest,{onEmpty:()=>`readonly [${e}]`,onNonEmpty:(n,r)=>{const i=String(n),s=i.includes(" | ")?`(${i})`:i;if(r.length>0){const a=r.map(String).join(", ");return t.elements.length>0?`readonly [${e}, ...${s}[], ${a}]`:`readonly [...${s}[], ${a}]`}else return t.elements.length>0?`readonly [${e}, ...${s}[]]`:`ReadonlyArray<${i}>`}})};class kn extends ra{constructor(n,r,i,s,a){super(r,i,a);_(this,"name");_(this,"isReadonly");this.name=n,this.isReadonly=s}toString(){return(this.isReadonly?"readonly ":"")+String(this.name)+(this.isOptional?"?":"")+": "+this.type}toJSON(){return{name:String(this.name),type:this.type.toJSON(),isOptional:this.isOptional,isReadonly:this.isReadonly,annotations:Ge(this.annotations)}}}const bA=t=>{switch(t._tag){case"StringKeyword":case"SymbolKeyword":case"TemplateLiteral":return!0;case"Refinement":return bA(t.from)}return!1};class Qh{constructor(e,n,r){_(this,"type");_(this,"isReadonly");_(this,"parameter");if(this.type=n,this.isReadonly=r,bA(e))this.parameter=e;else throw new Error(wU)}toString(){return(this.isReadonly?"readonly ":"")+`[x: ${this.parameter}]: ${this.type}`}toJSON(){return{parameter:this.parameter.toJSON(),type:this.type.toJSON(),isReadonly:this.isReadonly}}}class js{constructor(e,n,r={}){_(this,"annotations");_(this,"_tag","TypeLiteral");_(this,"propertySignatures");_(this,"indexSignatures");this.annotations=r;const i={};for(let a=0;a<e.length;a++){const c=e[a].name;if(Object.prototype.hasOwnProperty.call(i,c))throw new Error(xU(c));i[c]=null}const s={string:!1,symbol:!1};for(let a=0;a<n.length;a++){const c=OA(n[a].parameter);if(JU(c)){if(s.string)throw new Error(lE("string"));s.string=!0}else if(tz(c)){if(s.symbol)throw new Error(lE("symbol"));s.symbol=!0}}this.propertySignatures=e,this.indexSignatures=n}toString(){return Ce(Gi(this),()=>nz(this))}toJSON(){return{_tag:this._tag,propertySignatures:this.propertySignatures.map(e=>e.toJSON()),indexSignatures:this.indexSignatures.map(e=>e.toJSON()),annotations:Ge(this.annotations)}}}const hE=t=>t.map(String).join("; "),nz=t=>{if(t.propertySignatures.length>0){const e=t.propertySignatures.map(String).join("; ");return t.indexSignatures.length>0?`{ ${e}; ${hE(t.indexSignatures)} }`:`{ ${e} }`}else return t.indexSignatures.length>0?`{ ${hE(t.indexSignatures)} }`:"{}"},rz=Xc(DO(ru,t=>{switch(t._tag){case"AnyKeyword":return 0;case"UnknownKeyword":return 1;case"ObjectKeyword":return 2;case"StringKeyword":case"NumberKeyword":case"BooleanKeyword":case"BigIntKeyword":case"SymbolKeyword":return 3}return 4})),iz={string:"StringKeyword",number:"NumberKeyword",boolean:"BooleanKeyword",bigint:"BigIntKeyword"},SA=t=>VO(t,e=>wA(e)?SA(e.types):[e]),oz=t=>{const e=rz(t),n=[],r={},i=[];for(const s of e)switch(s._tag){case"NeverKeyword":break;case"AnyKeyword":return[vA];case"UnknownKeyword":return[yA];case"ObjectKeyword":case"UndefinedKeyword":case"VoidKeyword":case"StringKeyword":case"NumberKeyword":case"BooleanKeyword":case"BigIntKeyword":case"SymbolKeyword":{r[s._tag]||(r[s._tag]=s,n.push(s));break}case"Literal":{const a=typeof s.literal;switch(a){case"string":case"number":case"bigint":case"boolean":{const c=iz[a];!r[c]&&!i.includes(s.literal)&&(i.push(s.literal),n.push(s));break}case"object":{i.includes(s.literal)||(i.push(s.literal),n.push(s));break}}break}case"UniqueSymbol":{!r.SymbolKeyword&&!i.includes(s.symbol)&&(i.push(s.symbol),n.push(s));break}case"TupleType":{r.ObjectKeyword||n.push(s);break}case"TypeLiteral":{s.propertySignatures.length===0&&s.indexSignatures.length===0?r["{}"]||(r["{}"]=s,n.push(s)):r.ObjectKeyword||n.push(s);break}default:n.push(s)}return n};var mo;let Mi=(mo=class{constructor(e,n={}){_(this,"types");_(this,"annotations");_(this,"_tag","Union");this.types=e,this.annotations=n}toString(){return Ce(Gi(this),()=>this.types.map(String).join(" | "))}toJSON(){return{_tag:this._tag,types:this.types.map(e=>e.toJSON()),annotations:Ge(this.annotations)}}},_(mo,"make",(e,n)=>$0(e)?new mo(e,n):e.length===1?e[0]:k0),_(mo,"unify",(e,n)=>mo.make(oz(SA(e)),n)),mo);const sz=(t,e)=>t.map(e),$0=t=>t.length>1,wA=Pl("Union"),Wm=jt(Symbol.for("effect/Schema/AST/toJSONMemoMap"),()=>new WeakMap);class EA{constructor(e,n={}){_(this,"f");_(this,"annotations");_(this,"_tag","Suspend");this.f=e,this.annotations=n,this.f=XO(e)}toString(){return Gi(this).pipe(es(()=>is(K3(this.f)(),e=>Gi(e))),Ce(()=>"<suspended schema>"))}toJSON(){const e=this.f();let n=Wm.get(e);return n||(Wm.set(e,{_tag:this._tag}),n={_tag:this._tag,ast:e.toJSON(),annotations:Ge(this.annotations)},Wm.set(e,n),n)}}let az=class{constructor(e,n,r={}){_(this,"from");_(this,"filter");_(this,"annotations");_(this,"_tag","Refinement");this.from=e,this.filter=n,this.annotations=r}toString(){return Jh(this).pipe(Ce(()=>$e(AA(this),{onNone:()=>`{ ${this.from} | filter }`,onSome:e=>R0(this.from)?String(this.from)+" & "+e:e})))}toJSON(){return{_tag:this._tag,from:this.from.toJSON(),annotations:Ge(this.annotations)}}};const R0=Pl("Refinement"),Km={};let P0=class{constructor(e,n,r,i={}){_(this,"from");_(this,"to");_(this,"transformation");_(this,"annotations");_(this,"_tag","Transformation");this.from=e,this.to=n,this.transformation=r,this.annotations=i}toString(){return Ce(Gi(this),()=>`(${String(this.from)} <-> ${String(this.to)})`)}toJSON(){return{_tag:this._tag,from:this.from.toJSON(),to:this.to.toJSON(),annotations:Ge(this.annotations)}}};class uz{constructor(e,n){_(this,"decode");_(this,"encode");_(this,"_tag","FinalTransformation");this.decode=e,this.encode=n}}class cz{constructor(){_(this,"_tag","ComposeTransformation")}}const lz=new cz;let fz=class{constructor(e,n,r,i){_(this,"from");_(this,"to");_(this,"decode");_(this,"encode");this.from=e,this.to=n,this.decode=r,this.encode=i}};class dz{constructor(e){_(this,"propertySignatureTransformations");_(this,"_tag","TypeLiteralTransformation");this.propertySignatureTransformations=e;const n={},r={};for(const i of e){const s=i.from;if(n[s])throw new Error(fE(s));n[s]=!0;const a=i.to;if(r[a])throw new Error(fE(a));r[a]=!0}}}const iu=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={...t.annotations,...e},i=gA(t);return Nn(i)&&(r[fA]=iu(i.value,e)),n.annotations.value=r,Object.create(Object.getPrototypeOf(t),n)},hz="[\\s\\S]*",pz="[+-]?\\d*\\.?\\d+(?:[Ee][+-]?\\d+)?",xA=(t,e)=>{switch(t._tag){case"Literal":return th(String(t.literal));case"StringKeyword":return hz;case"NumberKeyword":return pz;case"TemplateLiteral":return CA(t);case"Union":return t.types.map(n=>xA(n)).join("|")}},gz=(t,e,n,r)=>wA(t)?`(${e})`:e,CA=(t,e,n)=>{let r="";if(t.head!==""){const i=th(t.head);r+=i}for(const i of t.spans){const s=xA(i.type);if(r+=gz(i.type,s),i.literal!==""){const a=th(i.literal);r+=a}}return r},mz=t=>new RegExp(`^${CA(t)}$`),pE=(t,e)=>{const n=[],r=[],i=s=>{switch(s._tag){case"NeverKeyword":break;case"StringKeyword":case"SymbolKeyword":case"TemplateLiteral":case"Refinement":r.push(new Qh(s,e,!0));break;case"Literal":if(Hi(s.literal)||Ks(s.literal))n.push(new kn(s.literal,e,!1,!0));else throw new Error(SU(s.literal));break;case"Enums":{for(const[a,c]of s.enums)n.push(new kn(c,e,!1,!0));break}case"UniqueSymbol":n.push(new kn(s.symbol,e,!1,!0));break;case"Union":s.types.forEach(i);break;default:throw new Error(bU(s))}};return i(t),{propertySignatures:n,indexSignatures:r}},TA=t=>e=>{let n;for(const r of t)Object.prototype.hasOwnProperty.call(e.annotations,r)&&(n===void 0&&(n={}),n[r]=e.annotations[r]);return n},yz=TA([tA,eA,nA,rA,iA,oA]),tn=t=>{switch(t._tag){case"Declaration":{const e=qr(t.typeParameters,tn);return e===t.typeParameters?t:new Yh(e,t.decodeUnknown,t.encodeUnknown,t.annotations)}case"TupleType":{const e=qr(t.elements,i=>{const s=tn(i.type);return s===i.type?i:new ra(s,i.isOptional)}),n=_A(t.rest),r=qr(n,tn);return e===t.elements&&r===n?t:new I0(e,r.map(i=>new Xh(i)),t.isReadonly,t.annotations)}case"TypeLiteral":{const e=qr(t.propertySignatures,r=>{const i=tn(r.type);return i===r.type?r:new kn(r.name,i,r.isOptional,r.isReadonly)}),n=qr(t.indexSignatures,r=>{const i=tn(r.type);return i===r.type?r:new Qh(r.parameter,i,r.isReadonly)});return e===t.propertySignatures&&n===t.indexSignatures?t:new js(e,n,t.annotations)}case"Union":{const e=qr(t.types,tn);return e===t.types?t:Mi.make(e,t.annotations)}case"Suspend":return new EA(()=>tn(t.f()),t.annotations);case"Refinement":{const e=tn(t.from);return e===t.from?t:new az(e,t.filter,t.annotations)}case"Transformation":{const e=yz(t);return tn(e!==void 0?iu(t.to,e):t.to)}}return t},$a=t=>$e(DU(t),{onNone:()=>{},onSome:e=>({[mA]:e})});function qr(t,e){let n=!1;const r=Gh(t.length);for(let i=0;i<t.length;i++){const s=t[i],a=e(s);a!==s&&(n=!0),r[i]=a}return n?r:t}const Ii=(t,e)=>{switch(t._tag){case"Declaration":{const n=qr(t.typeParameters,r=>Ii(r));return n===t.typeParameters?t:new Yh(n,t.decodeUnknown,t.encodeUnknown,t.annotations)}case"TupleType":{const n=qr(t.elements,s=>{const a=Ii(s.type);return a===s.type?s:new ra(a,s.isOptional)}),r=_A(t.rest),i=qr(r,s=>Ii(s));return n===t.elements&&i===r?t:new I0(n,i.map(s=>new Xh(s)),t.isReadonly,$a(t))}case"TypeLiteral":{const n=qr(t.propertySignatures,i=>{const s=Ii(i.type);return s===i.type?i:new kn(i.name,s,i.isOptional,i.isReadonly)}),r=qr(t.indexSignatures,i=>{const s=Ii(i.type);return s===i.type?i:new Qh(i.parameter,s,i.isReadonly)});return n===t.propertySignatures&&r===t.indexSignatures?t:new js(n,r,$a(t))}case"Union":{const n=qr(t.types,r=>Ii(r));return n===t.types?t:Mi.make(n,$a(t))}case"Suspend":return new EA(()=>Ii(t.f()),$a(t));case"Refinement":{const n=Ii(t.from),r=$a(t);return r?iu(n,r):n}case"Transformation":{const n=$a(t);return Ii(n?iu(t.from,n):t.from)}}return t},gE=t=>Ii(t),Ge=t=>{const e={};for(const n of Object.getOwnPropertySymbols(t))e[String(n)]=t[n];return e},OA=t=>{switch(t._tag){case"StringKeyword":case"SymbolKeyword":case"TemplateLiteral":return t;case"Refinement":return OA(t.from)}},vz=(t,e)=>new P0(t,e,lz),ia=t=>Ce(Gi(t),()=>t._tag);function _z(t){return $e(kU(t),{onNone:()=>"",onSome:e=>e.map(n=>` & Brand<${zi(n)}>`).join("")})}const AA=t=>dA(t).pipe(es(()=>pA(t)),es(()=>hA(t)),UO(e=>e+_z(t))),Gi=t=>es(Jh(t),()=>AA(t)),bz=Symbol.for("effect/Context/Tag"),eh=Symbol.for("effect/Context/Reference"),Sz="effect/STM",wz=Symbol.for(Sz),kA={...kl,_op:"Tag",[wz]:eu,[bz]:{_Service:t=>t,_Identifier:t=>t},toString(){return en(this.toJSON())},toJSON(){return{_id:"Tag",key:this.key,stack:this.stack}},[_e](){return this.toJSON()},of(t){return t},context(t){return $A(this,t)}},Ez={...kA,[eh]:eh},xz=t=>{const e=Error.stackTraceLimit;Error.stackTraceLimit=2;const n=new Error;Error.stackTraceLimit=e;const r=Object.create(kA);return Object.defineProperty(r,"stack",{get(){return n.stack}}),r.key=t,r},Cz=()=>(t,e)=>{const n=Error.stackTraceLimit;Error.stackTraceLimit=2;const r=new Error;Error.stackTraceLimit=n;function i(){}return Object.setPrototypeOf(i,Ez),i.key=t,i.defaultValue=e.defaultValue,Object.defineProperty(i,"stack",{get(){return r.stack}}),i},IA=Symbol.for("effect/Context"),Tz={[IA]:{_Services:t=>t},[Ot](t){if(Az(t)&&this.unsafeMap.size===t.unsafeMap.size){for(const e of this.unsafeMap.keys())if(!t.unsafeMap.has(e)||!At(this.unsafeMap.get(e),t.unsafeMap.get(e)))return!1;return!0}return!1},[It](){return Te(this,y0(this.unsafeMap.size))},pipe(){return _t(this,arguments)},toString(){return en(this.toJSON())},toJSON(){return{_id:"Context",services:Array.from(this.unsafeMap).map(He)}},[_e](){return this.toJSON()}},ou=t=>{const e=Object.create(Tz);return e.unsafeMap=t,e},Oz=t=>{const e=new Error(`Service not found${t.key?`: ${String(t.key)}`:""}`);if(t.stack){const n=t.stack.split(`
`);if(n.length>2){const r=n[2].match(/at (.*)/);r&&(e.message=e.message+` (defined at ${r[1]})`)}}if(e.stack){const n=e.stack.split(`
`);n.splice(1,3),e.stack=n.join(`
`)}return e},Az=t=>Ct(t,IA),kz=t=>Ct(t,eh),Iz=ou(new Map),$z=()=>Iz,$A=(t,e)=>ou(new Map([[t.key,e]])),Rz=L(3,(t,e,n)=>{const r=new Map(t.unsafeMap);return r.set(e.key,n),ou(r)}),qm=jt("effect/Context/defaultValueCache",()=>new Map),M0=t=>{if(qm.has(t.key))return qm.get(t.key);const e=t.defaultValue();return qm.set(t.key,e),e},Pz=(t,e)=>t.unsafeMap.has(e.key)?t.unsafeMap.get(e.key):M0(e),RA=L(2,(t,e)=>{if(!t.unsafeMap.has(e.key)){if(eh in e)return M0(e);throw Oz(e)}return t.unsafeMap.get(e.key)}),Mz=RA,Nz=L(2,(t,e)=>t.unsafeMap.has(e.key)?Qd(t.unsafeMap.get(e.key)):kz(e)?Qd(M0(e)):w0),Lz=L(2,(t,e)=>{const n=new Map(t.unsafeMap);for(const[r,i]of e.unsafeMap)n.set(r,i);return ou(n)}),oa=xz,N0=$z,Fz=$A,wc=Rz,PA=Mz,MA=RA,Ml=Nz,NA=Lz,LA=Cz,FA=Symbol.for("effect/Chunk");function Bz(t,e,n,r,i){for(let s=e;s<Math.min(t.length,e+i);s++)n[r+s-e]=t[s];return n}const BA=[],jz=t=>zh((e,n)=>e.length===n.length&&Ds(e).every((r,i)=>t(r,Ha(n,i)))),Dz=jz(At),Uz={[FA]:{_A:t=>t},toString(){return en(this.toJSON())},toJSON(){return{_id:"Chunk",values:Ds(this).map(He)}},[_e](){return this.toJSON()},[Ot](t){return jA(t)&&Dz(this,t)},[It](){return Te(this,Ol(Ds(this)))},[Symbol.iterator](){switch(this.backing._tag){case"IArray":return this.backing.array[Symbol.iterator]();case"IEmpty":return BA[Symbol.iterator]();default:return Ds(this)[Symbol.iterator]()}},pipe(){return _t(this,arguments)}},Ke=t=>{const e=Object.create(Uz);switch(e.backing=t,t._tag){case"IEmpty":{e.length=0,e.depth=0,e.left=e,e.right=e;break}case"IConcat":{e.length=t.left.length+t.right.length,e.depth=1+Math.max(t.left.depth,t.right.depth),e.left=t.left,e.right=t.right;break}case"IArray":{e.length=t.array.length,e.depth=0,e.left=Ni,e.right=Ni;break}case"ISingleton":{e.length=1,e.depth=0,e.left=Ni,e.right=Ni;break}case"ISlice":{e.length=t.length,e.depth=t.chunk.depth+1,e.left=Ni,e.right=Ni;break}}return e},jA=t=>Ct(t,FA),Ni=Ke({_tag:"IEmpty"}),So=()=>Ni,Vm=(...t)=>Kz(t),Sr=t=>Ke({_tag:"ISingleton",a:t}),DA=t=>jA(t)?t:Zh(je(t)),qy=(t,e,n)=>{switch(t.backing._tag){case"IArray":{Bz(t.backing.array,0,e,n,t.length);break}case"IConcat":{qy(t.left,e,n),qy(t.right,e,n+t.left.length);break}case"ISingleton":{e[n]=t.backing.a;break}case"ISlice":{let r=0,i=n;for(;r<t.length;)e[i]=Ha(t,r),r+=1,i+=1;break}}},zz=t=>{switch(t.backing._tag){case"IEmpty":return BA;case"IArray":return t.backing.array;default:{const e=new Array(t.length);return qy(t,e,0),t.backing={_tag:"IArray",array:e},t.left=Ni,t.right=Ni,t.depth=0,e}}},Ds=zz,Wz=t=>{switch(t.backing._tag){case"IEmpty":case"ISingleton":return t;case"IArray":return Ke({_tag:"IArray",array:sE(t.backing.array)});case"IConcat":return Ke({_tag:"IConcat",left:su(t.backing.right),right:su(t.backing.left)});case"ISlice":return Zh(sE(Ds(t)))}},su=Wz,Zh=t=>t.length===0?So():t.length===1?Sr(t[0]):Ke({_tag:"IArray",array:t}),Kz=t=>Zh(t),Ha=L(2,(t,e)=>{switch(t.backing._tag){case"IEmpty":throw new Error("Index out of bounds");case"ISingleton":{if(e!==0)throw new Error("Index out of bounds");return t.backing.a}case"IArray":{if(e>=t.length||e<0)throw new Error("Index out of bounds");return t.backing.array[e]}case"IConcat":return e<t.left.length?Ha(t.left,e):Ha(t.right,e-t.left.length);case"ISlice":return Ha(t.backing.chunk,e+t.backing.offset)}}),qz=L(2,(t,e)=>di(t,Sr(e))),vi=L(2,(t,e)=>di(Sr(e),t)),Vy=L(2,(t,e)=>{if(e<=0)return t;if(e>=t.length)return Ni;switch(t.backing._tag){case"ISlice":return Ke({_tag:"ISlice",chunk:t.backing.chunk,offset:t.backing.offset+e,length:t.backing.length-e});case"IConcat":return e>t.left.length?Vy(t.right,e-t.left.length):Ke({_tag:"IConcat",left:Vy(t.left,e),right:t.right});default:return Ke({_tag:"ISlice",chunk:t,offset:e,length:t.length-e})}}),di=L(2,(t,e)=>{if(t.backing._tag==="IEmpty")return e;if(e.backing._tag==="IEmpty")return t;const n=e.depth-t.depth;if(Math.abs(n)<=1)return Ke({_tag:"IConcat",left:t,right:e});if(n<-1)if(t.left.depth>=t.right.depth){const r=di(t.right,e);return Ke({_tag:"IConcat",left:t.left,right:r})}else{const r=di(t.right.right,e);if(r.depth===t.depth-3){const i=Ke({_tag:"IConcat",left:t.right.left,right:r});return Ke({_tag:"IConcat",left:t.left,right:i})}else{const i=Ke({_tag:"IConcat",left:t.left,right:t.right.left});return Ke({_tag:"IConcat",left:i,right:r})}}else if(e.right.depth>=e.left.depth){const r=di(t,e.left);return Ke({_tag:"IConcat",left:r,right:e.right})}else{const r=di(t,e.left.left);if(r.depth===e.depth-3){const i=Ke({_tag:"IConcat",left:r,right:e.left.right});return Ke({_tag:"IConcat",left:i,right:e.right})}else{const i=Ke({_tag:"IConcat",left:e.left.right,right:e.right});return Ke({_tag:"IConcat",left:r,right:i})}}}),Vz=t=>t.length===0,au=t=>t.length>0,UA=t=>Ha(t,0),uu=UA,Ps=t=>Vy(t,1),Hy=Symbol.for("effect/Duration"),zA=BigInt(0),mE=BigInt(24),Zf=BigInt(60),Gy=BigInt(1e3),yE=BigInt(1e6),vE=BigInt(1e9),Hz=/^(-?\d+(?:\.\d+)?)\s+(nanos?|micros?|millis?|seconds?|minutes?|hours?|days?|weeks?)$/,wo=t=>{if(WA(t))return t;if(Ks(t))return Jy(t);if(Kh(t))return Hm(t);if(Array.isArray(t)&&t.length===2&&t.every(Ks))return t[0]===-1/0||t[1]===-1/0||Number.isNaN(t[0])||Number.isNaN(t[1])?KA:t[0]===1/0||t[1]===1/0?Xz:Hm(BigInt(Math.round(t[0]*1e9))+BigInt(Math.round(t[1])));if(Hi(t)){const e=Hz.exec(t);if(e){const[n,r,i]=e,s=Number(r);switch(i){case"nano":case"nanos":return Hm(BigInt(r));case"micro":case"micros":return Qz(BigInt(r));case"milli":case"millis":return Jy(s);case"second":case"seconds":return Zz(s);case"minute":case"minutes":return tW(s);case"hour":case"hours":return eW(s);case"day":case"days":return nW(s);case"week":case"weeks":return rW(s)}}}throw new Error("Invalid DurationInput")},_E={_tag:"Millis",millis:0},Gz={_tag:"Infinity"},Jz={[Hy]:Hy,[It](){return Te(this,xO(this.value))},[Ot](t){return WA(t)&&cW(this,t)},toString(){return`Duration(${fW(this)})`},toJSON(){switch(this.value._tag){case"Millis":return{_id:"Duration",_tag:"Millis",millis:this.value.millis};case"Nanos":return{_id:"Duration",_tag:"Nanos",hrtime:oW(this)};case"Infinity":return{_id:"Duration",_tag:"Infinity"}}},[_e](){return this.toJSON()},pipe(){return _t(this,arguments)}},Xi=t=>{const e=Object.create(Jz);return Ks(t)?isNaN(t)||t<=0?e.value=_E:Number.isFinite(t)?Number.isInteger(t)?e.value={_tag:"Millis",millis:t}:e.value={_tag:"Nanos",nanos:BigInt(Math.round(t*1e6))}:e.value=Gz:t<=zA?e.value=_E:e.value={_tag:"Nanos",nanos:t},e},WA=t=>Ct(t,Hy),Yz=t=>{switch(t.value._tag){case"Millis":return t.value.millis===0;case"Nanos":return t.value.nanos===zA;case"Infinity":return!1}},KA=Xi(0),Xz=Xi(1/0),Hm=t=>Xi(t),Qz=t=>Xi(t*Gy),Jy=t=>Xi(t),Zz=t=>Xi(t*1e3),tW=t=>Xi(t*6e4),eW=t=>Xi(t*36e5),nW=t=>Xi(t*864e5),rW=t=>Xi(t*6048e5),Yy=t=>sW(t,{onMillis:e=>e,onNanos:e=>Number(e)/1e6}),iW=t=>{const e=wo(t);switch(e.value._tag){case"Infinity":throw new Error("Cannot convert infinite duration to nanos");case"Nanos":return e.value.nanos;case"Millis":return BigInt(Math.round(e.value.millis*1e6))}},oW=t=>{const e=wo(t);switch(e.value._tag){case"Infinity":return[1/0,0];case"Nanos":return[Number(e.value.nanos/vE),Number(e.value.nanos%vE)];case"Millis":return[Math.floor(e.value.millis/1e3),Math.round(e.value.millis%1e3*1e6)]}},sW=L(2,(t,e)=>{const n=wo(t);switch(n.value._tag){case"Nanos":return e.onNanos(n.value.nanos);case"Infinity":return e.onMillis(1/0);case"Millis":return e.onMillis(n.value.millis)}}),qA=L(3,(t,e,n)=>{const r=wo(t),i=wo(e);if(r.value._tag==="Infinity"||i.value._tag==="Infinity")return n.onMillis(Yy(r),Yy(i));if(r.value._tag==="Nanos"||i.value._tag==="Nanos"){const s=r.value._tag==="Nanos"?r.value.nanos:BigInt(Math.round(r.value.millis*1e6)),a=i.value._tag==="Nanos"?i.value.nanos:BigInt(Math.round(i.value.millis*1e6));return n.onNanos(s,a)}return n.onMillis(r.value.millis,i.value.millis)}),aW=(t,e)=>qA(t,e,{onMillis:(n,r)=>n===r,onNanos:(n,r)=>n===r}),uW=L(2,(t,e)=>qA(t,e,{onMillis:(n,r)=>n>=r,onNanos:(n,r)=>n>=r})),cW=L(2,(t,e)=>aW(wo(t),wo(e))),lW=t=>{const e=wo(t);if(e.value._tag==="Infinity")return{days:1/0,hours:1/0,minutes:1/0,seconds:1/0,millis:1/0,nanos:1/0};const n=iW(e),r=n/yE,i=r/Gy,s=i/Zf,a=s/Zf,c=a/mE;return{days:Number(c),hours:Number(a%mE),minutes:Number(s%Zf),seconds:Number(i%Zf),millis:Number(r%Gy),nanos:Number(n%yE)}},fW=t=>{const e=wo(t);if(e.value._tag==="Infinity")return"Infinity";if(Yz(e))return"0";const n=lW(e),r=[];return n.days!==0&&r.push(`${n.days}d`),n.hours!==0&&r.push(`${n.hours}h`),n.minutes!==0&&r.push(`${n.minutes}m`),n.seconds!==0&&r.push(`${n.seconds}s`),n.millis!==0&&r.push(`${n.millis}ms`),n.nanos!==0&&r.push(`${n.nanos}ns`),r.join(" ")},Vs=5,L0=Math.pow(2,Vs),dW=L0-1,hW=L0/2,pW=L0/4;function gW(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),t=t+(t>>4)&252645135,t+=t>>8,t+=t>>16,t&127}function cu(t,e){return e>>>t&dW}function Wa(t){return 1<<t}function VA(t,e){return gW(t&e-1)}const mW=(t,e)=>({value:t,previous:e});function Ga(t,e,n,r){let i=r;if(!t){const s=r.length;i=new Array(s);for(let a=0;a<s;++a)i[a]=r[a]}return i[e]=n,i}function HA(t,e,n){const r=n.length-1;let i=0,s=0,a=n;if(t)i=s=e;else for(a=new Array(r);i<e;)a[s++]=n[i++];for(++i;i<=r;)a[s++]=n[i++];return t&&(a.length=r),a}function yW(t,e,n,r){const i=r.length;if(t){let l=i;for(;l>=e;)r[l--]=r[l];return r[e]=n,r}let s=0,a=0;const c=new Array(i+1);for(;s<e;)c[a++]=r[s++];for(c[e]=n;s<i;)c[++a]=r[s++];return c}class os{constructor(){_(this,"_tag","EmptyNode")}modify(e,n,r,i,s,a){const c=r(ut());return Ie(c)?new os:(++a.value,new Us(e,i,s,c))}}function hi(t){return g0(t,"EmptyNode")}function vW(t){return hi(t)||t._tag==="LeafNode"||t._tag==="CollisionNode"}function tp(t,e){return hi(t)?!1:e===t.edit}class Us{constructor(e,n,r,i){_(this,"edit");_(this,"hash");_(this,"key");_(this,"value");_(this,"_tag","LeafNode");this.edit=e,this.hash=n,this.key=r,this.value=i}modify(e,n,r,i,s,a){if(At(s,this.key)){const l=r(this.value);return l===this.value?this:Ie(l)?(--a.value,new os):tp(this,e)?(this.value=l,this):new Us(e,i,s,l)}const c=r(ut());return Ie(c)?this:(++a.value,GA(e,n,this.hash,this,i,new Us(e,i,s,c)))}}class F0{constructor(e,n,r){_(this,"edit");_(this,"hash");_(this,"children");_(this,"_tag","CollisionNode");this.edit=e,this.hash=n,this.children=r}modify(e,n,r,i,s,a){if(i===this.hash){const l=tp(this,e),d=this.updateCollisionList(l,e,this.hash,this.children,r,s,a);return d===this.children?this:d.length>1?new F0(e,this.hash,d):d[0]}const c=r(ut());return Ie(c)?this:(++a.value,GA(e,n,this.hash,this,i,new Us(e,i,s,c)))}updateCollisionList(e,n,r,i,s,a,c){const l=i.length;for(let h=0;h<l;++h){const g=i[h];if("key"in g&&At(a,g.key)){const y=g.value,v=s(y);return v===y?i:Ie(v)?(--c.value,HA(e,h,i)):Ga(e,h,new Us(n,r,a,v),i)}}const d=s(ut());return Ie(d)?i:(++c.value,Ga(e,l,new Us(n,r,a,d),i))}}class lu{constructor(e,n,r){_(this,"edit");_(this,"mask");_(this,"children");_(this,"_tag","IndexedNode");this.edit=e,this.mask=n,this.children=r}modify(e,n,r,i,s,a){const c=this.mask,l=this.children,d=cu(n,i),h=Wa(d),g=VA(c,h),y=c&h,v=tp(this,e);if(!y){const N=new os().modify(e,n+Vs,r,i,s,a);return N?l.length>=hW?bW(e,d,N,c,l):new lu(e,c|h,yW(v,g,N,l)):this}const S=l[g],x=S.modify(e,n+Vs,r,i,s,a);if(S===x)return this;let T=c,O;if(hi(x)){if(T&=~h,!T)return new os;if(l.length<=2&&vW(l[g^1]))return l[g^1];O=HA(v,g,l)}else O=Ga(v,g,x,l);return v?(this.mask=T,this.children=O,this):new lu(e,T,O)}}class B0{constructor(e,n,r){_(this,"edit");_(this,"size");_(this,"children");_(this,"_tag","ArrayNode");this.edit=e,this.size=n,this.children=r}modify(e,n,r,i,s,a){let c=this.size;const l=this.children,d=cu(n,i),h=l[d],g=(h||new os).modify(e,n+Vs,r,i,s,a);if(h===g)return this;const y=tp(this,e);let v;if(hi(h)&&!hi(g))++c,v=Ga(y,d,g,l);else if(!hi(h)&&hi(g)){if(--c,c<=pW)return _W(e,c,d,l);v=Ga(y,d,new os,l)}else v=Ga(y,d,g,l);return y?(this.size=c,this.children=v,this):new B0(e,c,v)}}function _W(t,e,n,r){const i=new Array(e-1);let s=0,a=0;for(let c=0,l=r.length;c<l;++c)if(c!==n){const d=r[c];d&&!hi(d)&&(i[s++]=d,a|=1<<c)}return new lu(t,a,i)}function bW(t,e,n,r,i){const s=[];let a=r,c=0;for(let l=0;a;++l)a&1&&(s[l]=i[c++]),a>>>=1;return s[e]=n,new B0(t,c+1,s)}function SW(t,e,n,r,i,s){if(n===i)return new F0(t,n,[s,r]);const a=cu(e,n),c=cu(e,i);if(a===c)return l=>new lu(t,Wa(a)|Wa(c),[l]);{const l=a<c?[r,s]:[s,r];return new lu(t,Wa(a)|Wa(c),l)}}function GA(t,e,n,r,i,s){let a,c=e;for(;;){const l=SW(t,c,n,r,i,s);if(typeof l=="function")a=mW(l,a),c=c+Vs;else{let d=l;for(;a!=null;)d=a.value(d),a=a.previous;return d}}}const JA="effect/HashMap",Xy=Symbol.for(JA),wW={[Xy]:Xy,[Symbol.iterator](){return new ep(this,(t,e)=>[t,e])},[It](){let t=ct(JA);for(const e of this)t^=H(ct(e[0]),Bt(ct(e[1])));return Te(this,t)},[Ot](t){if(CW(t)){if(t._size!==this._size)return!1;for(const e of this){const n=H(t,D0(e[0],ct(e[0])));if(Ie(n))return!1;if(!At(e[1],n.value))return!1}return!0}return!1},toString(){return en(this.toJSON())},toJSON(){return{_id:"HashMap",values:Array.from(this).map(He)}},[_e](){return this.toJSON()},pipe(){return _t(this,arguments)}},j0=(t,e,n,r)=>{const i=Object.create(wW);return i._editable=t,i._edit=e,i._root=n,i._size=r,i};class ep{constructor(e,n){_(this,"map");_(this,"f");_(this,"v");this.map=e,this.f=n,this.v=YA(this.map._root,this.f,void 0)}next(){if(Ie(this.v))return{done:!0,value:void 0};const e=this.v.value;return this.v=nh(e.cont),{done:!1,value:e.value}}[Symbol.iterator](){return new ep(this.map,this.f)}}const nh=t=>t?XA(t[0],t[1],t[2],t[3],t[4]):ut(),YA=(t,e,n=void 0)=>{switch(t._tag){case"LeafNode":return Nn(t.value)?$t({value:e(t.key,t.value.value),cont:n}):nh(n);case"CollisionNode":case"ArrayNode":case"IndexedNode":{const r=t.children;return XA(r.length,r,0,e,n)}default:return nh(n)}},XA=(t,e,n,r,i)=>{for(;n<t;){const s=e[n++];if(s&&!hi(s))return YA(s,r,[t,e,n,r,i])}return nh(i)},EW=j0(!1,0,new os,0),np=()=>EW,xW=t=>{const e=ZA(np());for(const n of t)Qc(e,n[0],n[1]);return IW(e)},CW=t=>Ct(t,Xy),TW=t=>t&&hi(t._root),OW=L(2,(t,e)=>D0(t,e,ct(e))),D0=L(3,(t,e,n)=>{let r=t._root,i=0;for(;;)switch(r._tag){case"LeafNode":return At(e,r.key)?r.value:ut();case"CollisionNode":{if(n===r.hash){const s=r.children;for(let a=0,c=s.length;a<c;++a){const l=s[a];if("key"in l&&At(e,l.key))return l.value}}return ut()}case"IndexedNode":{const s=cu(i,n),a=Wa(s);if(r.mask&a){r=r.children[VA(r.mask,a)],i+=Vs;break}return ut()}case"ArrayNode":{if(r=r.children[cu(i,n)],r){i+=Vs;break}return ut()}default:return ut()}}),AW=L(2,(t,e)=>Nn(D0(t,e,ct(e)))),Qc=L(3,(t,e,n)=>U0(t,e,()=>$t(n))),kW=L(3,(t,e,n)=>t._editable?(t._root=e,t._size=n,t):e===t._root?t:j0(t._editable,t._edit,e,n)),QA=t=>new ep(t,e=>e),Qy=t=>t._size,ZA=t=>j0(!0,t._edit+1,t._root,t._size),IW=t=>(t._editable=!1,t),U0=L(3,(t,e,n)=>$W(t,e,ct(e),n)),$W=L(4,(t,e,n,r)=>{const i={value:t._size},s=t._root.modify(t._editable?t._edit:NaN,0,r,n,e,i);return H(t,kW(s,i.value))}),bE=L(2,(t,e)=>U0(t,e,ut)),RW=L(2,(t,e)=>rp(t,np(),(n,r,i)=>Qc(n,i,e(r,i)))),PW=L(2,(t,e)=>rp(t,void 0,(n,r,i)=>e(r,i))),rp=L(3,(t,e,n)=>{const r=t._root;if(r._tag==="LeafNode")return Nn(r.value)?n(e,r.value.value,r.key):e;if(r._tag==="EmptyNode")return e;const i=[r.children];let s;for(;s=i.pop();)for(let a=0,c=s.length;a<c;){const l=s[a++];l&&!hi(l)&&(l._tag==="LeafNode"?Nn(l.value)&&(e=n(e,l.value.value,l.key)):i.push(l.children))}return e}),tk="effect/HashSet",Zy=Symbol.for(tk),MW={[Zy]:Zy,[Symbol.iterator](){return QA(this._keyMap)},[It](){return Te(this,Bt(ct(this._keyMap))(ct(tk)))},[Ot](t){return NW(t)?Qy(this._keyMap)===Qy(t._keyMap)&&At(this._keyMap,t._keyMap):!1},toString(){return en(this.toJSON())},toJSON(){return{_id:"HashSet",values:Array.from(this).map(He)}},[_e](){return this.toJSON()},pipe(){return _t(this,arguments)}},ip=t=>{const e=Object.create(MW);return e._keyMap=t,e},NW=t=>Ct(t,Zy),LW=ip(np()),op=()=>LW,FW=t=>{const e=z0(op());for(const n of t)Zc(e,n);return W0(e)},BW=(...t)=>{const e=z0(op());for(const n of t)Zc(e,n);return W0(e)},jW=L(2,(t,e)=>AW(t._keyMap,e)),DW=t=>Qy(t._keyMap),z0=t=>ip(ZA(t._keyMap)),W0=t=>(t._keyMap._editable=!1,t),ek=L(2,(t,e)=>{const n=z0(t);return e(n),W0(n)}),Zc=L(2,(t,e)=>t._keyMap._editable?(Qc(e,!0)(t._keyMap),t):ip(Qc(e,!0)(t._keyMap))),nk=L(2,(t,e)=>t._keyMap._editable?(bE(e)(t._keyMap),t):ip(bE(e)(t._keyMap))),UW=L(2,(t,e)=>ek(t,n=>{for(const r of e)nk(n,r)})),zW=L(2,(t,e)=>ek(op(),n=>{WW(t,r=>Zc(n,r));for(const r of e)Zc(n,r)})),WW=L(2,(t,e)=>PW(t._keyMap,(n,r)=>e(r))),KW=L(3,(t,e,n)=>rp(t._keyMap,e,(r,i,s)=>n(r,s))),Hs=op,qW=FW,K0=BW,VW=jW,rk=DW,Kc=Zc,ik=nk,SE=UW,tl=zW,rh=KW,wE=Symbol.for("effect/MutableRef"),HW={[wE]:wE,toString(){return en(this.toJSON())},toJSON(){return{_id:"MutableRef",current:He(this.current)}},[_e](){return this.toJSON()},pipe(){return _t(this,arguments)}},ok=t=>{const e=Object.create(HW);return e.current=t,e},sp=t=>t.current,sk=L(2,(t,e)=>(t.current=e,t)),q0="effect/FiberId",el=Symbol.for(q0),ih="None",tv="Runtime",GW="Composite",JW=Ne(`${q0}-${ih}`);var bT;let YW=class{constructor(){_(this,bT,el);_(this,"_tag",ih);_(this,"id",-1);_(this,"startTimeMillis",-1)}[(bT=el,It)](){return JW}[Ot](e){return ak(e)&&e._tag===ih}toString(){return en(this.toJSON())}toJSON(){return{_id:"FiberId",_tag:this._tag}}[_e](){return this.toJSON()}};var ST;class XW{constructor(e,n){_(this,"id");_(this,"startTimeMillis");_(this,ST,el);_(this,"_tag",tv);this.id=e,this.startTimeMillis=n}[(ST=el,It)](){return Te(this,Ne(`${q0}-${this._tag}-${this.id}-${this.startTimeMillis}`))}[Ot](e){return ak(e)&&e._tag===tv&&this.id===e.id&&this.startTimeMillis===e.startTimeMillis}toString(){return en(this.toJSON())}toJSON(){return{_id:"FiberId",_tag:this._tag,id:this.id,startTimeMillis:this.startTimeMillis}}[_e](){return this.toJSON()}}const QW=new YW,ak=t=>Ct(t,el),ev=t=>{switch(t._tag){case ih:return Hs();case tv:return K0(t.id);case GW:return H(ev(t.left),tl(ev(t.right)))}},EE=jt(Symbol.for("effect/Fiber/Id/_fiberCounter"),()=>ok(0)),uk=t=>Array.from(ev(t)).map(n=>`#${n}`).join(","),ZW=()=>{const t=sp(EE);return H(EE,sk(t+1)),new XW(t,Date.now())},fu=QW,t4=uk,ck=ZW,V0=np,e4=xW,n4=TW,lk=OW,fk=Qc,dk=QA,r4=U0,i4=RW,hk=rp,nl=Symbol.for("effect/List"),nv=t=>je(t),o4=t=>GD(T0(t),nv),s4=o4(At),a4={[nl]:nl,_tag:"Cons",toString(){return en(this.toJSON())},toJSON(){return{_id:"List",_tag:"Cons",values:nv(this).map(He)}},[_e](){return this.toJSON()},[Ot](t){return gk(t)&&this._tag===t._tag&&s4(this,t)},[It](){return Te(this,Ol(nv(this)))},[Symbol.iterator](){let t=!1,e=this;return{next(){if(t)return this.return();if(e._tag==="Nil")return t=!0,this.return();const n=e.head;return e=e.tail,{done:t,value:n}},return(n){return t||(t=!0),{done:!0,value:n}}}},pipe(){return _t(this,arguments)}},oh=(t,e)=>{const n=Object.create(a4);return n.head=t,n.tail=e,n},u4=Ne("Nil"),c4={[nl]:nl,_tag:"Nil",toString(){return en(this.toJSON())},toJSON(){return{_id:"List",_tag:"Nil"}},[_e](){return this.toJSON()},[It](){return u4},[Ot](t){return gk(t)&&this._tag===t._tag},[Symbol.iterator](){return{next(){return{done:!0,value:void 0}}}},pipe(){return _t(this,arguments)}},pk=Object.create(c4),gk=t=>Ct(t,nl),bo=t=>t._tag==="Nil",l4=t=>t._tag==="Cons",f4=()=>pk,Gs=(t,e)=>oh(t,e),du=f4,H0=t=>oh(t,pk),d4=L(2,(t,e)=>p4(e,t)),h4=L(2,(t,e)=>Gs(e,t)),p4=L(2,(t,e)=>{if(bo(t))return e;if(bo(e))return t;{const n=oh(e.head,t);let r=n,i=e.tail;for(;!bo(i);){const s=oh(i.head,t);r.tail=s,r=s,i=i.tail}return n}}),g4=L(3,(t,e,n)=>{let r=e,i=t;for(;!bo(i);)r=n(r,i.head),i=i.tail;return r}),m4=t=>{let e=du(),n=t;for(;!bo(n);)e=h4(e,n.head),n=n.tail;return e},G0=function(){function t(e){e&&Object.assign(this,e)}return t.prototype=Il,t}(),y4=t=>Object.assign(Object.create(Il),t),v4=Symbol.for("effect/DifferContextPatch");function xE(t){return t}const Nl={...G0.prototype,[v4]:{_Value:xE,_Patch:xE}},_4=Object.assign(Object.create(Nl),{_tag:"Empty"}),b4=Object.create(_4),mk=()=>b4,S4=Object.assign(Object.create(Nl),{_tag:"AndThen"}),w4=(t,e)=>{const n=Object.create(S4);return n.first=t,n.second=e,n},E4=Object.assign(Object.create(Nl),{_tag:"AddService"}),x4=(t,e)=>{const n=Object.create(E4);return n.key=t,n.service=e,n},C4=Object.assign(Object.create(Nl),{_tag:"RemoveService"}),T4=t=>{const e=Object.create(C4);return e.key=t,e},O4=Object.assign(Object.create(Nl),{_tag:"UpdateService"}),A4=(t,e)=>{const n=Object.create(O4);return n.key=t,n.update=e,n},k4=(t,e)=>{const n=new Map(t.unsafeMap);let r=mk();for(const[i,s]of e.unsafeMap.entries())if(n.has(i)){const a=n.get(i);n.delete(i),At(a,s)||(r=Od(A4(i,()=>s))(r))}else n.delete(i),r=Od(x4(i,s))(r);for(const[i]of n.entries())r=Od(T4(i))(r);return r},Od=L(2,(t,e)=>w4(t,e)),I4=L(2,(t,e)=>{if(t._tag==="Empty")return e;let n=!1,r=Sr(t);const i=new Map(e.unsafeMap);for(;au(r);){const a=uu(r),c=Ps(r);switch(a._tag){case"Empty":{r=c;break}case"AddService":{i.set(a.key,a.service),r=c;break}case"AndThen":{r=vi(vi(c,a.second),a.first);break}case"RemoveService":{i.delete(a.key),r=c;break}case"UpdateService":{i.set(a.key,a.update(i.get(a.key))),n=!0,r=c;break}}}if(!n)return ou(i);const s=new Map;for(const[a]of e.unsafeMap)i.has(a)&&(s.set(a,i.get(a)),i.delete(a));for(const[a,c]of i)s.set(a,c);return ou(s)}),$4=Symbol.for("effect/DifferHashSetPatch");function Gm(t){return t}const ap={...G0.prototype,[$4]:{_Value:Gm,_Key:Gm,_Patch:Gm}},R4=Object.assign(Object.create(ap),{_tag:"Empty"}),P4=Object.create(R4),yk=()=>P4,M4=Object.assign(Object.create(ap),{_tag:"AndThen"}),N4=(t,e)=>{const n=Object.create(M4);return n.first=t,n.second=e,n},L4=Object.assign(Object.create(ap),{_tag:"Add"}),F4=t=>{const e=Object.create(L4);return e.value=t,e},B4=Object.assign(Object.create(ap),{_tag:"Remove"}),j4=t=>{const e=Object.create(B4);return e.value=t,e},D4=(t,e)=>{const[n,r]=rh([t,yk()],([i,s],a)=>VW(a)(i)?[ik(a)(i),s]:[i,rv(F4(a))(s)])(e);return rh(r,(i,s)=>rv(j4(s))(i))(n)},rv=L(2,(t,e)=>N4(t,e)),U4=L(2,(t,e)=>{if(t._tag==="Empty")return e;let n=e,r=Sr(t);for(;au(r);){const i=uu(r),s=Ps(r);switch(i._tag){case"Empty":{r=s;break}case"AndThen":{r=vi(i.first)(vi(i.second)(s));break}case"Add":{n=Kc(i.value)(n),r=s;break}case"Remove":n=ik(i.value)(n),r=s}}return n}),z4=Symbol.for("effect/DifferReadonlyArrayPatch");function CE(t){return t}const Ll={...G0.prototype,[z4]:{_Value:CE,_Patch:CE}},W4=Object.assign(Object.create(Ll),{_tag:"Empty"}),K4=Object.create(W4),vk=()=>K4,q4=Object.assign(Object.create(Ll),{_tag:"AndThen"}),V4=(t,e)=>{const n=Object.create(q4);return n.first=t,n.second=e,n},H4=Object.assign(Object.create(Ll),{_tag:"Append"}),G4=t=>{const e=Object.create(H4);return e.values=t,e},J4=Object.assign(Object.create(Ll),{_tag:"Slice"}),Y4=(t,e)=>{const n=Object.create(J4);return n.from=t,n.until=e,n},X4=Object.assign(Object.create(Ll),{_tag:"Update"}),Q4=(t,e)=>{const n=Object.create(X4);return n.index=t,n.patch=e,n},Z4=t=>{let e=0,n=vk();for(;e<t.oldValue.length&&e<t.newValue.length;){const r=t.oldValue[e],i=t.newValue[e],s=t.differ.diff(r,i);At(s,t.differ.empty)||(n=Ad(n,Q4(e,s))),e=e+1}return e<t.oldValue.length&&(n=Ad(n,Y4(0,e))),e<t.newValue.length&&(n=Ad(n,G4(lU(e)(t.newValue)))),n},Ad=L(2,(t,e)=>V4(t,e)),t6=L(3,(t,e,n)=>{if(t._tag==="Empty")return e;let r=e.slice(),i=ci(t);for(;Cd(i);){const s=nr(i),a=qs(i);switch(s._tag){case"Empty":{i=a;break}case"AndThen":{a.unshift(s.first,s.second),i=a;break}case"Append":{for(const c of s.values)r.push(c);i=a;break}case"Slice":{r=r.slice(s.from,s.until),i=a;break}case"Update":{r[s.index]=n.patch(s.patch,r[s.index]),i=a;break}}}return r}),e6=Symbol.for("effect/Differ"),n6={[e6]:{_P:Be,_V:Be},pipe(){return _t(this,arguments)}},Pu=t=>{const e=Object.create(n6);return e.empty=t.empty,e.diff=t.diff,e.combine=t.combine,e.patch=t.patch,e},r6=()=>Pu({empty:mk(),combine:(t,e)=>Od(e)(t),diff:(t,e)=>k4(t,e),patch:(t,e)=>I4(e)(t)}),i6=()=>Pu({empty:yk(),combine:(t,e)=>rv(e)(t),diff:(t,e)=>D4(t,e),patch:(t,e)=>U4(e)(t)}),o6=t=>Pu({empty:vk(),combine:(e,n)=>Ad(e,n),diff:(e,n)=>Z4({oldValue:e,newValue:n,differ:t}),patch:(e,n)=>t6(e,n,t)}),_k=()=>s6((t,e)=>e),s6=t=>Pu({empty:Be,combine:(e,n)=>e===Be?n:n===Be?e:r=>n(e(r)),diff:(e,n)=>At(e,n)?Be:Uh(n),patch:(e,n)=>t(n,e(n))}),rl=255,bk=8,iv=t=>t&rl,ov=t=>t>>bk&rl,Fl=(t,e)=>(t&rl)+((e&t&rl)<<bk),a6=Fl(0,0),u6=t=>Fl(t,t),c6=t=>Fl(t,0),l6=L(2,(t,e)=>Fl(iv(t)&~e,ov(t))),f6=L(2,(t,e)=>t|e),d6=t=>~t>>>0&rl,h6=0,Mu=1,p6=2,Sk=4,sv=16,wk=32,g6=t=>up(t,wk),m6=L(2,(t,e)=>t|e),Yo=t=>Ek(t)&&!v6(t),Ek=t=>up(t,Mu),up=L(2,(t,e)=>(t&e)!==0),xk=(...t)=>t.reduce((e,n)=>e|n,0),y6=xk(h6),TE=t=>up(t,Sk),v6=t=>up(t,sv),kd=L(2,(t,e)=>Fl(t^e,e)),Id=L(2,(t,e)=>t&(d6(iv(e))|ov(e))|iv(e)&ov(e)),OE=Pu({empty:a6,diff:(t,e)=>kd(t,e),combine:(t,e)=>f6(e)(t),patch:(t,e)=>Id(e,t)}),_6=u6,Ck=c6,AE=l6,Tk=(t,e)=>({_tag:"Par",left:t,right:e}),td=(t,e)=>({_tag:"Seq",left:t,right:e}),b6=t=>{let e=H0(t),n=du();for(;;){const[r,i]=g4(e,[Ok(),du()],([s,a],c)=>{const[l,d]=S6(c);return[T6(s,l),d4(a,d)]});if(n=w6(n,r),bo(i))return m4(n);e=i}throw new Error("BUG: BlockedRequests.flatten - please report an issue at https://github.com/Effect-TS/effect/issues")},S6=t=>{let e=t,n=Ok(),r=du(),i=du();for(;;)switch(e._tag){case"Empty":{if(bo(r))return[n,i];e=r.head,r=r.tail;break}case"Par":{r=Gs(e.right,r),e=e.left;break}case"Seq":{const s=e.left,a=e.right;switch(s._tag){case"Empty":{e=a;break}case"Par":{const c=s.left,l=s.right;e=Tk(td(c,a),td(l,a));break}case"Seq":{const c=s.left,l=s.right;e=td(c,td(l,a));break}case"Single":{e=s,i=Gs(a,i);break}}break}case"Single":{if(n=C6(n,e),bo(r))return[n,i];e=r.head,r=r.tail;break}}throw new Error("BUG: BlockedRequests.step - please report an issue at https://github.com/Effect-TS/effect/issues")},w6=(t,e)=>{if(bo(t))return H0(Jm(e));if(O6(e))return t;const n=P6(t.head),r=A6(e);return n.length===1&&r.length===1&&At(n[0],r[0])?Gs(R6(t.head,Jm(e)),t.tail):Gs(Jm(e),t)},E6=Symbol.for("effect/RequestBlock/RequestBlockParallel"),x6={_R:t=>t};var wT;wT=E6;class J0{constructor(e){_(this,"map");_(this,wT,x6);this.map=e}}const Ok=()=>new J0(V0()),C6=(t,e)=>new J0(r4(t.map,e.dataSource,n=>W3(UO(n,qz(e.blockedRequest)),()=>Sr(e.blockedRequest)))),T6=(t,e)=>new J0(hk(t.map,e.map,(n,r,i)=>fk(n,i,$e(lk(n,i),{onNone:()=>r,onSome:s=>di(r,s)})))),O6=t=>n4(t.map),A6=t=>Array.from(dk(t.map)),Jm=t=>$6(i4(t.map,e=>Sr(e))),k6=Symbol.for("effect/RequestBlock/RequestBlockSequential"),I6={_R:t=>t};var ET;ET=k6;class Ak{constructor(e){_(this,"map");_(this,ET,I6);this.map=e}}const $6=t=>new Ak(t),R6=(t,e)=>new Ak(hk(e.map,t.map,(n,r,i)=>fk(n,i,$e(lk(n,i),{onNone:()=>So(),onSome:s=>di(s,r)})))),P6=t=>Array.from(dk(t.map)),M6=t=>Array.from(t.map),Bl="Die",Js="Empty",sa="Fail",Nu="Interrupt",hu="Parallel",pu="Sequential",kk="effect/Cause",Ik=Symbol.for(kk),N6={_E:t=>t},Lu={[Ik]:N6,[It](){return H(ct(kk),Bt(ct(J6(this))),Te(this))},[Ot](t){return L6(t)&&G6(this,t)},pipe(){return _t(this,arguments)},toJSON(){switch(this._tag){case"Empty":return{_id:"Cause",_tag:this._tag};case"Die":return{_id:"Cause",_tag:this._tag,defect:He(this.defect)};case"Interrupt":return{_id:"Cause",_tag:this._tag,fiberId:this.fiberId.toJSON()};case"Fail":return{_id:"Cause",_tag:this._tag,failure:He(this.error)};case"Sequential":case"Parallel":return{_id:"Cause",_tag:this._tag,left:He(this.left),right:He(this.right)}}},toString(){return Fu(this)},[_e](){return this.toJSON()}},il=(()=>{const t=Object.create(Lu);return t._tag=Js,t})(),sh=t=>{const e=Object.create(Lu);return e._tag=sa,e.error=t,e},Wi=t=>{const e=Object.create(Lu);return e._tag=Bl,e.defect=t,e},Qo=t=>{const e=Object.create(Lu);return e._tag=Nu,e.fiberId=t,e},cp=(t,e)=>{const n=Object.create(Lu);return n._tag=hu,n.left=t,n.right=e,n},Gr=(t,e)=>{const n=Object.create(Lu);return n._tag=pu,n.left=t,n.right=e,n},L6=t=>Ct(t,Ik),F6=t=>t._tag===Js,B6=t=>t._tag===sa,j6=t=>t._tag===Js?!0:gu(t,!0,(e,n)=>{switch(n._tag){case Js:return $t(e);case Bl:case sa:case Nu:return $t(!1);default:return ut()}}),D6=t=>Nn(V6(t)),Y0=t=>X0(void 0,X6)(t),U6=t=>su(gu(t,So(),(e,n)=>n._tag===sa?$t(H(e,vi(n.error))):ut())),z6=t=>su(gu(t,So(),(e,n)=>n._tag===Bl?$t(H(e,vi(n.defect))):ut())),W6=t=>gu(t,Hs(),(e,n)=>n._tag===Nu?$t(H(e,Kc(n.fiberId))):ut()),K6=t=>$k(t,e=>e._tag===sa?$t(e.error):ut()),q6=t=>{const e=K6(t);switch(e._tag){case"None":return Et(t);case"Some":return vt(e.value)}},V6=t=>$k(t,e=>e._tag===Nu?$t(e.fiberId):ut()),kE=t=>Rk(t,{onEmpty:il,onFail:()=>il,onDie:Wi,onInterrupt:Qo,onSequential:Gr,onParallel:cp}),H6=t=>Rk(t,{onEmpty:il,onFail:Wi,onDie:Wi,onInterrupt:Qo,onSequential:Gr,onParallel:cp}),G6=(t,e)=>{let n=Sr(t),r=Sr(e);for(;au(n)&&au(r);){const[i,s]=H(uu(n),gu([Hs(),So()],([l,d],h)=>{const[g,y]=av(h);return $t([H(l,tl(g)),H(d,di(y))])})),[a,c]=H(uu(r),gu([Hs(),So()],([l,d],h)=>{const[g,y]=av(h);return $t([H(l,tl(g)),H(d,di(y))])}));if(!At(i,a))return!1;n=s,r=c}return!0},J6=t=>Y6(Sr(t),So()),Y6=(t,e)=>{for(;;){const[n,r]=H(t,GO([Hs(),So()],([s,a],c)=>{const[l,d]=av(c);return[H(s,tl(l)),H(a,di(d))]})),i=rk(n)>0?H(e,vi(n)):e;if(Vz(r))return su(i);t=r,e=i}throw new Error(qh("Cause.flattenCauseLoop"))},$k=L(2,(t,e)=>{const n=[t];for(;n.length>0;){const r=n.pop(),i=e(r);switch(i._tag){case"None":{switch(r._tag){case pu:case hu:{n.push(r.right),n.push(r.left);break}}break}case"Some":return i}}return ut()}),av=t=>{let e=t;const n=[];let r=Hs(),i=So();for(;e!==void 0;)switch(e._tag){case Js:{if(n.length===0)return[r,i];e=n.pop();break}case sa:{if(r=Kc(r,Vm(e._tag,e.error)),n.length===0)return[r,i];e=n.pop();break}case Bl:{if(r=Kc(r,Vm(e._tag,e.defect)),n.length===0)return[r,i];e=n.pop();break}case Nu:{if(r=Kc(r,Vm(e._tag,e.fiberId)),n.length===0)return[r,i];e=n.pop();break}case pu:{switch(e.left._tag){case Js:{e=e.right;break}case pu:{e=Gr(e.left.left,Gr(e.left.right,e.right));break}case hu:{e=cp(Gr(e.left.left,e.right),Gr(e.left.right,e.right));break}default:{i=vi(i,e.right),e=e.left;break}}break}case hu:{n.push(e.right),e=e.left;break}}throw new Error(qh("Cause.evaluateCauseLoop"))},X6={emptyCase:iE,failCase:jy,dieCase:jy,interruptCase:iE,sequentialCase:(t,e,n)=>e&&n,parallelCase:(t,e,n)=>e&&n},IE="SequentialCase",$E="ParallelCase",Rk=L(2,(t,{onDie:e,onEmpty:n,onFail:r,onInterrupt:i,onParallel:s,onSequential:a})=>X0(t,void 0,{emptyCase:()=>n,failCase:(c,l)=>r(l),dieCase:(c,l)=>e(l),interruptCase:(c,l)=>i(l),sequentialCase:(c,l,d)=>a(l,d),parallelCase:(c,l,d)=>s(l,d)})),gu=L(3,(t,e,n)=>{let r=e,i=t;const s=[];for(;i!==void 0;){const a=n(r,i);switch(r=Nn(a)?a.value:r,i._tag){case pu:{s.push(i.right),i=i.left;break}case hu:{s.push(i.right),i=i.left;break}default:{i=void 0;break}}i===void 0&&s.length>0&&(i=s.pop())}return r}),X0=L(3,(t,e,n)=>{const r=[t],i=[];for(;r.length>0;){const a=r.pop();switch(a._tag){case Js:{i.push(Et(n.emptyCase(e)));break}case sa:{i.push(Et(n.failCase(e,a.error)));break}case Bl:{i.push(Et(n.dieCase(e,a.defect)));break}case Nu:{i.push(Et(n.interruptCase(e,a.fiberId)));break}case pu:{r.push(a.right),r.push(a.left),i.push(vt({_tag:IE}));break}case hu:{r.push(a.right),r.push(a.left),i.push(vt({_tag:$E}));break}}}const s=[];for(;i.length>0;){const a=i.pop();switch(a._tag){case"Left":{switch(a.left._tag){case IE:{const c=s.pop(),l=s.pop(),d=n.sequentialCase(e,c,l);s.push(d);break}case $E:{const c=s.pop(),l=s.pop(),d=n.parallelCase(e,c,l);s.push(d);break}}break}case"Right":{s.push(a.right);break}}}if(s.length===0)throw new Error("BUG: Cause.reduceWithContext - please report an issue at https://github.com/Effect-TS/effect/issues");return s.pop()}),Fu=(t,e)=>Y0(t)?"All fibers interrupted without errors.":Mk(t).map(function(n){return(e==null?void 0:e.renderErrorCause)!==!0||n.cause===void 0?n.stack:`${n.stack} {
${Pk(n.cause,"  ")}
}`}).join(`
`),Pk=(t,e)=>{const n=t.stack.split(`
`);let r=`${e}[cause]: ${n[0]}`;for(let i=1,s=n.length;i<s;i++)r+=`
${e}${n[i]}`;return t.cause&&(r+=` {
${Pk(t.cause,`${e}  `)}
${e}}`),r};class ah extends globalThis.Error{constructor(n){const r=typeof n=="object"&&n!==null,i=Error.stackTraceLimit;Error.stackTraceLimit=1;super(Q6(n),r&&"cause"in n&&typeof n.cause<"u"?{cause:new ah(n.cause)}:void 0);_(this,"span");this.message===""&&(this.message="An error has occurred"),Error.stackTraceLimit=i,this.name=n instanceof Error?n.name:"Error",r&&(mu in n&&(this.span=n[mu]),Object.keys(n).forEach(s=>{s in this||(this[s]=n[s])})),this.stack=eK(`${this.name}: ${this.message}`,n instanceof Error&&n.stack?n.stack:"",this.span)}}const Q6=t=>{if(typeof t=="string")return t;if(typeof t=="object"&&t!==null&&t instanceof Error)return t.message;try{if(Ct(t,"toString")&&Iu(t.toString)&&t.toString!==Object.prototype.toString&&t.toString!==globalThis.Array.prototype.toString)return t.toString()}catch{}return CO(t)},Z6=/\((.*)\)/g,tK=jt("effect/Tracer/spanToTrace",()=>new WeakMap),eK=(t,e,n)=>{const r=[t],i=e.startsWith(t)?e.slice(t.length).split(`
`):e.split(`
`);for(let s=1;s<i.length&&!i[s].includes("Generator.next");s++){if(i[s].includes("effect_internal_function")){r.pop();break}r.push(i[s].replace(/at .*effect_instruction_i.*\((.*)\)/,"at $1").replace(/EffectPrimitive\.\w+/,"<anonymous>"))}if(n){let s=n,a=0;for(;s&&s._tag==="Span"&&a<10;){const c=tK.get(s);if(typeof c=="function"){const l=c();if(typeof l=="string"){const d=l.matchAll(Z6);let h=!1;for(const[,g]of d)h=!0,r.push(`    at ${s.name} (${g})`);h||r.push(`    at ${s.name} (${l.replace(/^at /,"")})`)}else r.push(`    at ${s.name}`)}else r.push(`    at ${s.name}`);s=li(s.parent),a++}}return r.join(`
`)},mu=Symbol.for("effect/SpanAnnotation"),Mk=t=>X0(t,void 0,{emptyCase:()=>[],dieCase:(e,n)=>[new ah(n)],failCase:(e,n)=>[new ah(n)],interruptCase:()=>[],parallelCase:(e,n,r)=>[...n,...r],sequentialCase:(e,n,r)=>[...n,...r]}),lp="Pending",Nk="Done",nK="effect/Deferred",rK=Symbol.for(nK),iK={_E:t=>t,_A:t=>t},oK=t=>({_tag:lp,joiners:t}),sK=t=>({_tag:Nk,effect:t});class jl{constructor(e){_(this,"self");_(this,"called",!1);this.self=e}next(e){return this.called?{value:e,done:!0}:(this.called=!0,{value:this.self,done:!1})}return(e){return{value:e,done:!0}}throw(e){throw e}[Symbol.iterator](){return new jl(this.self)}}const Lk=(t,e)=>{const n=new _n("Blocked");return n.effect_instruction_i0=t,n.effect_instruction_i1=e,n},aK=t=>{const e=new _n("RunBlocked");return e.effect_instruction_i0=t,e},yu=Symbol.for("effect/Effect");class uK{constructor(e,n){_(this,"patch");_(this,"op");_(this,"_op",b0);this.patch=e,this.op=n}}var xT;class _n{constructor(e){_(this,"_op");_(this,"effect_instruction_i0");_(this,"effect_instruction_i1");_(this,"effect_instruction_i2");_(this,"trace");_(this,xT,eu);this._op=e}[(xT=yu,Ot)](e){return this===e}[It](){return Te(this,m0(this))}pipe(){return _t(this,arguments)}toJSON(){return{_id:"Effect",_op:this._op,effect_instruction_i0:He(this.effect_instruction_i0),effect_instruction_i1:He(this.effect_instruction_i1),effect_instruction_i2:He(this.effect_instruction_i2)}}toString(){return en(this.toJSON())}[_e](){return this.toJSON()}[Symbol.iterator](){return new jl(new Tl(this))}}var CT;class Fk{constructor(e){_(this,"_op");_(this,"effect_instruction_i0");_(this,"effect_instruction_i1");_(this,"effect_instruction_i2");_(this,"trace");_(this,CT,eu);this._op=e,this._tag=e}[(CT=yu,Ot)](e){return a_(e)&&e._op==="Failure"&&At(this.effect_instruction_i0,e.effect_instruction_i0)}[It](){return H(Ne(this._tag),Bt(ct(this.effect_instruction_i0)),Te(this))}get cause(){return this.effect_instruction_i0}pipe(){return _t(this,arguments)}toJSON(){return{_id:"Exit",_tag:this._op,cause:this.cause.toJSON()}}toString(){return en(this.toJSON())}[_e](){return this.toJSON()}[Symbol.iterator](){return new jl(new Tl(this))}}var TT;class Bk{constructor(e){_(this,"_op");_(this,"effect_instruction_i0");_(this,"effect_instruction_i1");_(this,"effect_instruction_i2");_(this,"trace");_(this,TT,eu);this._op=e,this._tag=e}[(TT=yu,Ot)](e){return a_(e)&&e._op==="Success"&&At(this.effect_instruction_i0,e.effect_instruction_i0)}[It](){return H(Ne(this._tag),Bt(ct(this.effect_instruction_i0)),Te(this))}get value(){return this.effect_instruction_i0}pipe(){return _t(this,arguments)}toJSON(){return{_id:"Exit",_tag:this._op,value:He(this.value)}}toString(){return en(this.toJSON())}[_e](){return this.toJSON()}[Symbol.iterator](){return new jl(new Tl(this))}}const fp=t=>Ct(t,yu),wr=t=>{const e=new _n(AO);return e.effect_instruction_i0=t,e},cK=L(3,(t,e,n)=>pp(r=>St(t,i=>St(Dk(qe(()=>r(e(i)))),s=>qe(()=>n(i,s)).pipe(vu({onFailure:a=>{switch(s._tag){case mi:return _i(Gr(s.effect_instruction_i0,a));case yi:return _i(a)}},onSuccess:()=>s})))))),Dl=L(2,(t,e)=>St(t,()=>ve(e))),Ul=t=>Dl(t,void 0),jk=function(){const t=new _n(Hh);switch(arguments.length){case 2:{t.effect_instruction_i0=arguments[0],t.commit=arguments[1];break}case 3:{t.effect_instruction_i0=arguments[0],t.effect_instruction_i1=arguments[1],t.commit=arguments[2];break}case 4:{t.effect_instruction_i0=arguments[0],t.effect_instruction_i1=arguments[1],t.effect_instruction_i2=arguments[2],t.commit=arguments[3];break}default:throw new Error(qh("you're not supposed to end up here"))}return t},uh=(t,e=fu)=>{const n=new _n(zc);let r;return n.effect_instruction_i0=i=>{r=t(i)},n.effect_instruction_i1=e,qk(n,i=>fp(r)?r:bi)},lK=(t,e=fu)=>qe(()=>uh(t,e)),ol=(t,e=fu)=>jk(t,function(){let n,r;function i(l){n?n(l):r===void 0&&(r=l)}const s=new _n(zc);s.effect_instruction_i0=l=>{n=l,r&&l(r)},s.effect_instruction_i1=e;let a,c;return this.effect_instruction_i0.length!==1?(c=new AbortController,a=Wn(()=>this.effect_instruction_i0(i,c.signal))):a=Wn(()=>this.effect_instruction_i0(i)),a||c?qk(s,l=>(c&&c.abort(),a??bi)):s}),uv=L(2,(t,e)=>Z0(t,{onFailure:e,onSuccess:ve})),RE=Symbol.for("effect/OriginalAnnotation"),Q0=(t,e)=>Nn(e)?new Proxy(t,{has(n,r){return r===mu||r===RE||r in n},get(n,r){return r===mu?e.value:r===RE?t:n[r]}}):t,PE=t=>ds(t)&&!(mu in t)?wr(e=>_i(Wi(Q0(t,u_(e))))):_i(Wi(t)),ME=t=>fK(()=>Wi(new UK(t))),ch=t=>Z0(t,{onFailure:e=>ve(vt(e)),onSuccess:e=>ve(Et(e))}),Dk=t=>pK(t,{onFailure:fe,onSuccess:Le}),tr=t=>ds(t)&&!(mu in t)?wr(e=>_i(sh(Q0(t,u_(e))))):_i(sh(t)),Uk=t=>St(wt(t),tr),_i=t=>{const e=new Fk(mi);return e.effect_instruction_i0=t,e},fK=t=>St(wt(t),_i),dK=wr(t=>ve(t.id())),zk=t=>wr(e=>t(e.id())),St=L(2,(t,e)=>{const n=new _n(Jd);return n.effect_instruction_i0=t,n.effect_instruction_i1=e,n}),hK=t=>{const e=new _n("OnStep");return e.effect_instruction_i0=t,e},Wk=t=>St(t,Be),pK=L(2,(t,e)=>vu(t,{onFailure:n=>ve(e.onFailure(n)),onSuccess:n=>ve(e.onSuccess(n))})),vu=L(2,(t,e)=>{const n=new _n(Yd);return n.effect_instruction_i0=t,n.effect_instruction_i1=e.onFailure,n.effect_instruction_i2=e.onSuccess,n}),Z0=L(2,(t,e)=>vu(t,{onFailure:n=>{if(z6(n).length>0)return _i(H6(n));const i=U6(n);return i.length>0?e.onFailure(UA(i)):_i(n)},onSuccess:e.onSuccess})),ts=L(2,(t,e)=>qe(()=>{const n=je(t),r=Gh(n.length);let i=0;return Dl(n_({while:()=>i<n.length,body:()=>e(n[i],i),step:s=>{r[i++]=s}}),r)})),dp=L(2,(t,e)=>qe(()=>{const n=je(t);let r=0;return n_({while:()=>r<n.length,body:()=>e(n[r],r),step:()=>{r++}})})),Kk=t=>{const e=new _n(Al);return e.effect_instruction_i0=_6(Mu),e.effect_instruction_i1=()=>t,e},er=L(2,(t,e)=>St(t,n=>wt(()=>e(n)))),t_=L(2,(t,e)=>Z0(t,{onFailure:n=>Uk(()=>e.onFailure(n)),onSuccess:n=>wt(()=>e.onSuccess(n))})),hp=L(2,(t,e)=>vu(t,{onFailure:n=>{const r=q6(n);switch(r._tag){case"Left":return Uk(()=>e(r.left));case"Right":return _i(r.right)}},onSuccess:ve})),e_=L(2,(t,e)=>pp(n=>vu(n(t),{onFailure:r=>{const i=fe(r);return vu(e(i),{onFailure:s=>fe(Gr(r,s)),onSuccess:()=>i})},onSuccess:r=>{const i=Le(r);return gp(e(i),i)}}))),qk=L(2,(t,e)=>e_(t,nI({onFailure:n=>Y0(n)?Ul(e(W6(n))):bi,onSuccess:()=>bi}))),ve=t=>{const e=new Bk(yi);return e.effect_instruction_i0=t,e},qe=t=>{const e=new _n(Hh);return e.commit=t,e},wt=t=>{const e=new _n(OO);return e.effect_instruction_i0=t,e},gK=L(t=>t.length===3||t.length===2&&!(ds(t[1])&&"onlyEffect"in t[1]),(t,e)=>St(t,n=>{const r=typeof e=="function"?e(n):e;return fp(r)?Dl(r,n):n3(r)?uh(i=>{r.then(s=>i(ve(n)),s=>i(tr(new KK(s,"An unknown error occurred in Effect.tap"))))}):ve(n)})),mK=t=>wr(e=>{const n=e.getFiberRef(lv),r=H(n,Ce(()=>e.scope()));return t(mp(lv,$t(r)))}),Vk=t=>{const e=new _n(Al);return e.effect_instruction_i0=Ck(Mu),e.effect_instruction_i1=()=>t,e},pp=t=>jk(t,function(){const e=new _n(Al);return e.effect_instruction_i0=Ck(Mu),e.effect_instruction_i1=n=>Ek(n)?Wn(()=>this.effect_instruction_i0(Kk)):Wn(()=>this.effect_instruction_i0(Vk)),e}),bi=ve(void 0),yK=t=>{const e=new _n(Al);return e.effect_instruction_i0=t,e.effect_instruction_i1=void 0,e},n_=t=>{const e=new _n(Xd);return e.effect_instruction_i0=t.while,e.effect_instruction_i1=t.body,e.effect_instruction_i2=t.step,e},r_=t=>{const e=new _n(xd);return typeof(t==null?void 0:t.priority)<"u"?NK(e,t.priority):e},Hk=L(2,(t,e)=>St(t,n=>er(e,r=>[n,r]))),Gk=L(2,(t,e)=>St(t,n=>Dl(e,n))),gp=L(2,(t,e)=>St(t,()=>e)),vK=t=>St(dK,e=>H(t,Jk(e))),Jk=L(2,(t,e)=>St(t.interruptAsFork(e),()=>t.await)),_K={_tag:"All",syslog:0,label:"ALL",ordinal:Number.MIN_SAFE_INTEGER,pipe(){return _t(this,arguments)}},bK={_tag:"Fatal",syslog:2,label:"FATAL",ordinal:5e4,pipe(){return _t(this,arguments)}},SK={_tag:"Error",syslog:3,label:"ERROR",ordinal:4e4,pipe(){return _t(this,arguments)}},wK={_tag:"Warning",syslog:4,label:"WARN",ordinal:3e4,pipe(){return _t(this,arguments)}},Yk={_tag:"Info",syslog:6,label:"INFO",ordinal:2e4,pipe(){return _t(this,arguments)}},Xk={_tag:"Debug",syslog:7,label:"DEBUG",ordinal:1e4,pipe(){return _t(this,arguments)}},EK={_tag:"Trace",syslog:7,label:"TRACE",ordinal:0,pipe(){return _t(this,arguments)}},xK={_tag:"None",syslog:7,label:"OFF",ordinal:Number.MAX_SAFE_INTEGER,pipe(){return _t(this,arguments)}},CK="effect/FiberRef",TK=Symbol.for(CK),OK={_A:t=>t},i_=t=>wr(e=>Le(e.getFiberRef(t))),o_=L(2,(t,e)=>St(i_(t),e)),NE=L(2,(t,e)=>AK(t,()=>[void 0,e])),AK=L(2,(t,e)=>wr(n=>{const[r,i]=e(n.getFiberRef(t));return n.setFiberRef(t,i),ve(r)})),mp=L(3,(t,e,n)=>cK(Gk(i_(e),NE(e,n)),()=>t,r=>NE(e,r))),Ar=(t,e)=>Bu(t,{differ:_k(),fork:(e==null?void 0:e.fork)??Be,join:e==null?void 0:e.join}),kK=t=>{const e=i6();return Bu(t,{differ:e,fork:e.empty})},IK=t=>{const e=o6(_k());return Bu(t,{differ:e,fork:e.empty})},Qk=t=>{const e=r6();return Bu(t,{differ:e,fork:e.empty})},Bu=(t,e)=>({...$l,[TK]:OK,initial:t,commit(){return i_(this)},diff:(r,i)=>e.differ.diff(r,i),combine:(r,i)=>e.differ.combine(r,i),patch:r=>i=>e.differ.patch(r,i),fork:e.fork,join:e.join??((r,i)=>i)}),$K=t=>Bu(t,{differ:OE,fork:OE.empty}),zl=jt(Symbol.for("effect/FiberRef/currentContext"),()=>Qk(N0())),yp=jt(Symbol.for("effect/FiberRef/currentSchedulingPriority"),()=>Ar(0)),Zk=jt(Symbol.for("effect/FiberRef/currentMaxOpsBeforeYield"),()=>Ar(2048)),RK=jt(Symbol.for("effect/FiberRef/currentLogAnnotation"),()=>Ar(V0())),PK=jt(Symbol.for("effect/FiberRef/currentLogLevel"),()=>Ar(Yk)),MK=jt(Symbol.for("effect/FiberRef/currentLogSpan"),()=>Ar(du())),NK=L(2,(t,e)=>mp(t,yp,e)),LK=jt(Symbol.for("effect/FiberRef/currentConcurrency"),()=>Ar("unbounded")),FK=jt(Symbol.for("effect/FiberRef/currentRequestBatching"),()=>Ar(!0)),BK=jt(Symbol.for("effect/FiberRef/currentUnhandledErrorLogLevel"),()=>Ar($t(Xk))),cv=jt(Symbol.for("effect/FiberRef/currentMetricLabels"),()=>IK(nu())),lv=jt(Symbol.for("effect/FiberRef/currentForkScopeOverride"),()=>Ar(ut(),{fork:()=>ut(),join:(t,e)=>t})),ed=jt(Symbol.for("effect/FiberRef/currentInterruptedCause"),()=>Ar(il,{fork:()=>il,join:(t,e)=>t})),jK=(t,e)=>t.addFinalizer(()=>Ul(e)),DK=(t,e)=>t.close(e),vp=(t,e)=>t.fork(e),s_=function(){class t extends globalThis.Error{commit(){return tr(this)}toJSON(){const n={...this};return this.message&&(n.message=this.message),this.cause&&(n.cause=this.cause),n}[_e](){return this.toString!==globalThis.Error.prototype.toString?this.stack?`${this.toString()}
${this.stack.split(`
`).slice(1).join(`
`)}`:this.toString():"Bun"in globalThis?Fu(sh(this),{renderErrorCause:!0}):this}}return Object.assign(t.prototype,x3),t}(),tI=(t,e)=>{class n extends s_{constructor(){super(...arguments);_(this,"_tag",e)}}return Object.assign(n.prototype,t),n.prototype.name=e,n},LE=Symbol.for("effect/Cause/errors/RuntimeException"),UK=tI({[LE]:LE},"RuntimeException"),zK=Symbol.for("effect/Cause/errors/InterruptedException"),WK=t=>Ct(t,zK),FE=Symbol.for("effect/Cause/errors/NoSuchElement"),eI=tI({[FE]:FE},"NoSuchElementException"),BE=Symbol.for("effect/Cause/errors/UnknownException"),KK=function(){class t extends s_{constructor(r,i){super(i??"An unknown error occurred",{cause:r});_(this,"_tag","UnknownException");_(this,"error");this.error=r}}return Object.assign(t.prototype,{[BE]:BE,name:"UnknownException"}),t}(),a_=t=>fp(t)&&"_tag"in t&&(t._tag==="Success"||t._tag==="Failure"),qK=t=>t._tag==="Success",jE=(t,e)=>JK(t,e!=null&&e.parallel?cp:Gr),VK=t=>fe(Wi(t)),DE=t=>fe(sh(t)),fe=t=>{const e=new Fk(mi);return e.effect_instruction_i0=t,e},HK=t=>fe(Qo(t)),Ym=L(2,(t,e)=>{switch(t._tag){case mi:return fe(t.effect_instruction_i0);case yi:return Le(e(t.effect_instruction_i0))}}),nI=L(2,(t,{onFailure:e,onSuccess:n})=>{switch(t._tag){case mi:return e(t.effect_instruction_i0);case yi:return n(t.effect_instruction_i0)}}),Le=t=>{const e=new Bk(yi);return e.effect_instruction_i0=t,e},Ms=Le(void 0),GK=L(3,(t,e,{onFailure:n,onSuccess:r})=>{switch(t._tag){case mi:switch(e._tag){case yi:return fe(t.effect_instruction_i0);case mi:return fe(n(t.effect_instruction_i0,e.effect_instruction_i0))}case yi:switch(e._tag){case yi:return Le(r(t.effect_instruction_i0,e.effect_instruction_i0));case mi:return fe(e.effect_instruction_i0)}}}),JK=(t,e)=>{const n=DA(t);return au(n)?H(Ps(n),GO(H(uu(n),Ym(Sr)),(r,i)=>H(r,GK(i,{onSuccess:(s,a)=>H(s,vi(a)),onFailure:e}))),Ym(su),Ym(r=>Ds(r)),$t):ut()},YK=t=>({...$l,[rK]:iK,state:ok(oK([])),commit(){return rI(this)},blockingOn:t}),rI=t=>lK(e=>{const n=sp(t.state);switch(n._tag){case Nk:return e(n.effect);case lp:return n.joiners.push(e),XK(t,e)}},t.blockingOn),iI=(t,e)=>{const n=sp(t.state);if(n._tag===lp){sk(t.state,sK(e));for(let r=0,i=n.joiners.length;r<i;r++)n.joiners[r](e)}},XK=(t,e)=>wt(()=>{const n=sp(t.state);if(n._tag===lp){const r=n.joiners.indexOf(e);r>=0&&n.joiners.splice(r,1)}}),QK=wr(t=>Le(t.currentContext)),ZK=()=>QK,Wl=t=>St(ZK(),t),tq=L(2,(t,e)=>mp(zl,e)(t)),eq=L(2,(t,e)=>Wl(n=>tq(t,e(n)))),u_=t=>{const e=t.currentSpan;return e!==void 0&&e._tag==="Span"?$t(e):ut()},nq=qK,UE=Symbol.for("effect/MutableHashMap"),rq={[UE]:UE,[Symbol.iterator](){return new c_(this)},toString(){return en(this.toJSON())},toJSON(){return{_id:"MutableHashMap",values:Array.from(this).map(He)}},[_e](){return this.toJSON()},pipe(){return _t(this,arguments)}};class c_{constructor(e){_(this,"self");_(this,"referentialIterator");_(this,"bucketIterator");this.self=e,this.referentialIterator=e.referential[Symbol.iterator]()}next(){if(this.bucketIterator!==void 0)return this.bucketIterator.next();const e=this.referentialIterator.next();return e.done?(this.bucketIterator=new iq(this.self.buckets.values()),this.next()):e}[Symbol.iterator](){return new c_(this.self)}}class iq{constructor(e){_(this,"backing");_(this,"currentBucket");this.backing=e}next(){if(this.currentBucket===void 0){const n=this.backing.next();if(n.done)return n;this.currentBucket=n.value[Symbol.iterator]()}const e=this.currentBucket.next();return e.done?(this.currentBucket=void 0,this.next()):e}}const oq=()=>{const t=Object.create(rq);return t.referential=new Map,t.buckets=new Map,t.bucketsSize=0,t},Is=L(2,(t,e)=>{if(Gd(e)===!1)return t.referential.has(e)?$t(t.referential.get(e)):ut();const n=e[It](),r=t.buckets.get(n);return r===void 0?ut():sq(t,r,e)}),sq=(t,e,n,r=!1)=>{for(let i=0,s=e.length;i<s;i++)if(n[Ot](e[i][0])){const a=e[i][1];return r&&(e.splice(i,1),t.bucketsSize--),$t(a)}return ut()},Ec=L(2,(t,e)=>Nn(Is(t,e))),xc=L(3,(t,e,n)=>{if(Gd(e)===!1)return t.referential.set(e,n),t;const r=e[It](),i=t.buckets.get(r);return i===void 0?(t.buckets.set(r,[[e,n]]),t.bucketsSize++,t):(aq(t,i,e),i.push([e,n]),t.bucketsSize++,t)}),aq=(t,e,n)=>{for(let r=0,i=e.length;r<i;r++)if(n[Ot](e[r][0])){e.splice(r,1),t.bucketsSize--;return}};function uq(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var oI={exports:{}},Re=oI.exports={},Ri,Pi;function fv(){throw new Error("setTimeout has not been defined")}function dv(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Ri=setTimeout:Ri=fv}catch{Ri=fv}try{typeof clearTimeout=="function"?Pi=clearTimeout:Pi=dv}catch{Pi=dv}})();function sI(t){if(Ri===setTimeout)return setTimeout(t,0);if((Ri===fv||!Ri)&&setTimeout)return Ri=setTimeout,setTimeout(t,0);try{return Ri(t,0)}catch{try{return Ri.call(null,t,0)}catch{return Ri.call(this,t,0)}}}function cq(t){if(Pi===clearTimeout)return clearTimeout(t);if((Pi===dv||!Pi)&&clearTimeout)return Pi=clearTimeout,clearTimeout(t);try{return Pi(t)}catch{try{return Pi.call(null,t)}catch{return Pi.call(this,t)}}}var vo=[],Ja=!1,Ns,$d=-1;function lq(){!Ja||!Ns||(Ja=!1,Ns.length?vo=Ns.concat(vo):$d=-1,vo.length&&aI())}function aI(){if(!Ja){var t=sI(lq);Ja=!0;for(var e=vo.length;e;){for(Ns=vo,vo=[];++$d<e;)Ns&&Ns[$d].run();$d=-1,e=vo.length}Ns=null,Ja=!1,cq(t)}}Re.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];vo.push(new uI(t,e)),vo.length===1&&!Ja&&sI(aI)};function uI(t,e){this.fun=t,this.array=e}uI.prototype.run=function(){this.fun.apply(null,this.array)};Re.title="browser";Re.browser=!0;Re.env={};Re.argv=[];Re.version="";Re.versions={};function Io(){}Re.on=Io;Re.addListener=Io;Re.once=Io;Re.off=Io;Re.removeListener=Io;Re.removeAllListeners=Io;Re.emit=Io;Re.prependListener=Io;Re.prependOnceListener=Io;Re.listeners=function(t){return[]};Re.binding=function(t){throw new Error("process.binding is not supported")};Re.cwd=function(){return"/"};Re.chdir=function(t){throw new Error("process.chdir is not supported")};Re.umask=function(){return 0};var fq=oI.exports;const pi=uq(fq),dq="effect/Clock",zE=Symbol.for(dq),l_=oa("effect/Clock"),hq=2**31-1,WE={unsafeSchedule(t,e){const n=Yy(e);if(n>hq)return jy;let r=!1;const i=setTimeout(()=>{r=!0,t()},n);return()=>(clearTimeout(i),!r)}},KE=function(){const t=BigInt(1e6);if(typeof performance>"u")return()=>BigInt(Date.now())*t;if(typeof performance.timeOrigin=="number"&&performance.timeOrigin===0)return()=>BigInt(Math.round(performance.now()*1e6));const e=BigInt(Date.now())*t-BigInt(Math.round(performance.now()*1e6));return()=>e+BigInt(Math.round(performance.now()*1e6))}(),pq=function(){const t=typeof pi=="object"&&"hrtime"in pi&&typeof pi.hrtime.bigint=="function"?pi.hrtime:void 0;if(!t)return KE;const e=KE()-t.bigint();return()=>e+t.bigint()}();var OT;OT=zE;class gq{constructor(){_(this,OT,zE);_(this,"currentTimeMillis",wt(()=>this.unsafeCurrentTimeMillis()));_(this,"currentTimeNanos",wt(()=>this.unsafeCurrentTimeNanos()))}unsafeCurrentTimeMillis(){return Date.now()}unsafeCurrentTimeNanos(){return pq()}scheduler(){return ve(WE)}sleep(e){return ol(n=>{const r=WE.unsafeSchedule(()=>n(bi),e);return Ul(wt(r))})}}const mq=()=>new gq,cI="And",lI="Or",fI="InvalidData",dI="MissingData",hI="SourceUnavailable",pI="Unsupported",yq="effect/ConfigError",qE=Symbol.for(yq),ju={_tag:"ConfigError",[qE]:qE},gI=(t,e)=>{const n=Object.create(ju);return n._op=cI,n.left=t,n.right=e,Object.defineProperty(n,"toString",{enumerable:!1,value(){return`${this.left} and ${this.right}`}}),n},mI=(t,e)=>{const n=Object.create(ju);return n._op=lI,n.left=t,n.right=e,Object.defineProperty(n,"toString",{enumerable:!1,value(){return`${this.left} or ${this.right}`}}),n},vq=(t,e,n={pathDelim:"."})=>{const r=Object.create(ju);return r._op=fI,r.path=t,r.message=e,Object.defineProperty(r,"toString",{enumerable:!1,value(){return`(Invalid data at ${H(this.path,Ru(n.pathDelim))}: "${this.message}")`}}),r},Ys=(t,e,n={pathDelim:"."})=>{const r=Object.create(ju);return r._op=dI,r.path=t,r.message=e,Object.defineProperty(r,"toString",{enumerable:!1,value(){return`(Missing data at ${H(this.path,Ru(n.pathDelim))}: "${this.message}")`}}),r},_q=(t,e,n,r={pathDelim:"."})=>{const i=Object.create(ju);return i._op=hI,i.path=t,i.message=e,i.cause=n,Object.defineProperty(i,"toString",{enumerable:!1,value(){return`(Source unavailable at ${H(this.path,Ru(r.pathDelim))}: "${this.message}")`}}),i},bq=(t,e,n={pathDelim:"."})=>{const r=Object.create(ju);return r._op=pI,r.path=t,r.message=e,Object.defineProperty(r,"toString",{enumerable:!1,value(){return`(Unsupported operation at ${H(this.path,Ru(n.pathDelim))}: "${this.message}")`}}),r},Ls=L(2,(t,e)=>{switch(t._op){case cI:return gI(Ls(t.left,e),Ls(t.right,e));case lI:return mI(Ls(t.left,e),Ls(t.right,e));case fI:return vq([...e,...t.path],t.message);case dI:return Ys([...e,...t.path],t.message);case hI:return _q([...e,...t.path],t.message,t.cause);case pI:return bq([...e,...t.path],t.message)}}),Sq={_tag:"Empty"},Xm=L(2,(t,e)=>{let n=H0(e),r=t;for(;l4(n);){const i=n.head;switch(i._tag){case"Empty":{n=n.tail;break}case"AndThen":{n=Gs(i.first,Gs(i.second,n.tail));break}case"MapName":{r=qa(r,i.f),n=n.tail;break}case"Nested":{r=Zd(r,i.name),n=n.tail;break}case"Unnested":{if(H(Wc(r),J3(i.name)))r=qs(r),n=n.tail;else return vt(Ys(r,`Expected ${i.name} to be in path in ConfigProvider#unnested`));break}}}return Et(r)}),wq="Constant",Eq="Fail",xq="Fallback",Cq="Described",Tq="Lazy",Oq="MapOrFail",Aq="Nested",kq="Primitive",Iq="Sequence",$q="HashMap",Rq="ZipWith";var VE={};const lh=(t,e)=>[...t,...e],Pq="effect/ConfigProvider",HE=Symbol.for(Pq),Mq=oa("effect/ConfigProvider"),Nq="effect/ConfigProviderFlat",GE=Symbol.for(Nq),Lq=t=>({[HE]:HE,pipe(){return _t(this,arguments)},...t}),Fq=t=>({[GE]:GE,patch:t.patch,load:(e,n,r=!0)=>t.load(e,n,r),enumerateChildren:t.enumerateChildren}),Bq=t=>Lq({load:e=>St(Wr(t,nu(),e,!1),n=>$e(Wc(n),{onNone:()=>tr(Ys(nu(),`Expected a single value having structure: ${e}`)),onSome:ve})),flattened:t}),jq=t=>{const{pathDelim:e,seqDelim:n}=Object.assign({},{pathDelim:"_",seqDelim:","},t),r=l=>H(l,Ru(e)),i=l=>l.split(e),s=()=>typeof pi<"u"&&"env"in pi&&typeof VE=="object"?VE:{};return Bq(Fq({load:(l,d,h=!0)=>{const g=r(l),y=s(),v=g in y?$t(y[g]):ut();return H(v,hp(()=>Ys(l,`Expected ${g} to exist in the process context`)),St(S=>Kq(S,l,d,n,h)))},enumerateChildren:l=>wt(()=>{const d=s(),y=Object.keys(d).map(v=>i(v.toUpperCase())).filter(v=>{for(let S=0;S<l.length;S++){const x=H(l,KO(S)),T=v[S];if(T===void 0||x!==T)return!1}return!0}).flatMap(v=>v.slice(l.length,l.length+1));return qW(y)}),patch:Sq}))},Dq=(t,e,n,r)=>{const i=uE(n.length,l=>l>=r.length?ut():$t([t(l),l+1])),s=uE(r.length,l=>l>=n.length?ut():$t([e(l),l+1])),a=lh(n,i),c=lh(r,s);return[a,c]},Uq=(t,e)=>{let n=e;if(n._tag==="Nested"){const r=t.slice();for(;n._tag==="Nested";)r.push(n.name),n=n.config;return r}return t},Wr=(t,e,n,r)=>{const i=n;switch(i._tag){case wq:return ve(ci(i.value));case Cq:return qe(()=>Wr(t,e,i.config,r));case Eq:return tr(Ys(e,i.message));case xq:return H(qe(()=>Wr(t,e,i.first,r)),uv(s=>i.condition(s)?H(Wr(t,e,i.second,r),uv(a=>tr(mI(s,a)))):tr(s)));case Tq:return qe(()=>Wr(t,e,i.config(),r));case Oq:return qe(()=>H(Wr(t,e,i.original,r),St(ts(s=>H(i.mapOrFail(s),hp(Ls(Uq(e,i.original))))))));case Aq:return qe(()=>Wr(t,lh(e,ci(i.name)),i.config,r));case kq:return H(Xm(e,t.patch),St(s=>H(t.load(s,i,r),St(a=>{if(a.length===0){const c=H(aU(s),Ce(()=>"<n/a>"));return tr(Ys([],`Expected ${i.description} with name ${c}`))}return ve(a)}))));case Iq:return H(Xm(e,t.patch),St(s=>H(t.enumerateChildren(s),St(Vq),St(a=>a.length===0?qe(()=>er(Wr(t,e,i.config,!0),ci)):H(ts(a,c=>Wr(t,eU(e,`[${c}]`),i.config,!0)),er(c=>{const l=HO(c);return l.length===0?ci(nu()):ci(l)}))))));case $q:return qe(()=>H(Xm(e,t.patch),St(s=>H(t.enumerateChildren(s),St(a=>H(a,ts(c=>Wr(t,lh(s,ci(c)),i.valueConfig,r)),er(c=>c.length===0?ci(V0()):H(qq(c),qa(l=>e4(aE(je(a),l)))))))))));case Rq:return qe(()=>H(Wr(t,e,i.left,r),ch,St(s=>H(Wr(t,e,i.right,r),ch,St(a=>{if(Ze(s)&&Ze(a))return tr(gI(s.left,a.left));if(Ze(s)&&yo(a))return tr(s.left);if(yo(s)&&Ze(a))return tr(a.left);if(yo(s)&&yo(a)){const c=H(e,Ru(".")),l=zq(e,c),[d,h]=Dq(l,l,H(s.right,qa(Et)),H(a.right,qa(Et)));return H(d,aE(h),ts(([g,y])=>H(Hk(g,y),er(([v,S])=>i.zip(v,S)))))}throw new Error("BUG: ConfigProvider.fromFlatLoop - please report an issue at https://github.com/Effect-TS/effect/issues")})))))}},zq=(t,e)=>n=>vt(Ys(t,`The element at index ${n} in a sequence at path "${e}" was missing`)),Wq=(t,e)=>t.split(new RegExp(`\\s*${th(e)}\\s*`)),Kq=(t,e,n,r,i)=>i?H(Wq(t,r),ts(s=>n.parse(s.trim())),hp(Ls(e))):H(n.parse(t),t_({onFailure:Ls(e),onSuccess:ci})),qq=t=>Object.keys(t[0]).map(e=>t.map(n=>n[e])),Vq=t=>H(ts(t,Gq),t_({onFailure:()=>nu(),onSuccess:Xc(ru)}),ch,er(B3)),Hq=/^(\[(\d+)\])$/,Gq=t=>{const e=t.match(Hq);if(e!==null){const n=e[2];return H(n!==void 0&&n.length>0?$t(n):ut(),is(Jq))}return ut()},Jq=t=>{const e=Number.parseInt(t);return Number.isNaN(e)?ut():$t(e)},JE=Symbol.for("effect/Console"),yI=oa("effect/Console"),Yq={[JE]:JE,assert(t,...e){return wt(()=>{console.assert(t,...e)})},clear:wt(()=>{console.clear()}),count(t){return wt(()=>{console.count(t)})},countReset(t){return wt(()=>{console.countReset(t)})},debug(...t){return wt(()=>{console.debug(...t)})},dir(t,e){return wt(()=>{console.dir(t,e)})},dirxml(...t){return wt(()=>{console.dirxml(...t)})},error(...t){return wt(()=>{console.error(...t)})},group(t){return t!=null&&t.collapsed?wt(()=>console.groupCollapsed(t==null?void 0:t.label)):wt(()=>console.group(t==null?void 0:t.label))},groupEnd:wt(()=>{console.groupEnd()}),info(...t){return wt(()=>{console.info(...t)})},log(...t){return wt(()=>{console.log(...t)})},table(t,e){return wt(()=>{console.table(t,e)})},time(t){return wt(()=>console.time(t))},timeEnd(t){return wt(()=>console.timeEnd(t))},timeLog(t,...e){return wt(()=>{console.timeLog(t,...e)})},trace(...t){return wt(()=>{console.trace(...t)})},warn(...t){return wt(()=>{console.warn(...t)})},unsafe:console},Xq="effect/Random",YE=Symbol.for(Xq),Qq=oa("effect/Random");var AT;AT=YE;class Zq{constructor(e){_(this,"seed");_(this,AT,YE);_(this,"PRNG");this.seed=e,this.PRNG=new c3(e)}get next(){return wt(()=>this.PRNG.number())}get nextBoolean(){return er(this.next,e=>e>.5)}get nextInt(){return wt(()=>this.PRNG.integer(Number.MAX_SAFE_INTEGER))}nextRange(e,n){return er(this.next,r=>(n-e)*r+e)}nextIntBetween(e,n){return wt(()=>this.PRNG.integer(n-e)+e)}shuffle(e){return t8(e,n=>this.nextIntBetween(0,n))}}const t8=(t,e)=>qe(()=>H(wt(()=>Array.from(t)),St(n=>{const r=[];for(let i=n.length;i>=2;i=i-1)r.push(i);return H(r,dp(i=>H(e(i),er(s=>e8(n,i-1,s)))),Dl(DA(n)))}))),e8=(t,e,n)=>{const r=t[e];return t[e]=t[n],t[n]=r,t},n8=t=>new Zq(ct(t)),XE=Symbol.for("effect/Tracer"),r8=t=>({[XE]:XE,...t}),vI=oa("effect/Tracer"),_I=oa("effect/ParentSpan"),QE=function(){const t="abcdef0123456789",e=t.length;return function(n){let r="";for(let i=0;i<n;i++)r+=t.charAt(Math.floor(Math.random()*e));return r}}();class i8{constructor(e,n,r,i,s,a){_(this,"name");_(this,"parent");_(this,"context");_(this,"links");_(this,"startTime");_(this,"kind");_(this,"_tag","Span");_(this,"spanId");_(this,"traceId","native");_(this,"sampled",!0);_(this,"status");_(this,"attributes");_(this,"events",[]);this.name=e,this.parent=n,this.context=r,this.links=i,this.startTime=s,this.kind=a,this.status={_tag:"Started",startTime:s},this.attributes=new Map,this.traceId=n._tag==="Some"?n.value.traceId:QE(32),this.spanId=QE(16)}end(e,n){this.status={_tag:"Ended",endTime:e,exit:n,startTime:this.status.startTime}}attribute(e,n){this.attributes.set(e,n)}event(e,n,r){this.events.push([e,n,r??{}])}}const o8=r8({span:(t,e,n,r,i,s)=>new i8(t,e,n,r,i,s),context:t=>t()}),s8=H(N0(),wc(l_,mq()),wc(yI,Yq),wc(Qq,n8(Math.random())),wc(Mq,jq()),wc(vI,o8)),fh=jt(Symbol.for("effect/DefaultServices/currentServices"),()=>Qk(s8));function a8(t){return new ss(t)}function u8(){return a8(new Map)}const ZE=Symbol.for("effect/FiberRefs");var kT;kT=ZE;class ss{constructor(e){_(this,"locals");_(this,kT,ZE);this.locals=e}pipe(){return _t(this,arguments)}}const c8=(t,e,n,r=!1)=>{const i=t;let s=e,a=n,c=r,l;for(;l===void 0;)if(nn(s)&&nn(a)){const d=nr(s)[0],h=qs(s),g=nr(a)[0],y=nr(a)[1],v=qs(a);d.startTimeMillis<g.startTimeMillis?(a=v,c=!0):d.startTimeMillis>g.startTimeMillis?s=h:d.id<g.id?(a=v,c=!0):d.id>g.id?s=h:l=[y,c]}else l=[i.initial,!0];return l},l8=L(3,(t,e,n)=>{const r=new Map(t.locals);return n.locals.forEach((i,s)=>{const a=i[0][1];if(!i[0][0][Ot](e)){if(!r.has(s)){if(At(a,s.initial))return;r.set(s,[[e,s.join(s.initial,a)]]);return}const c=r.get(s),[l,d]=c8(s,c,i);if(d){const h=s.diff(l,a),g=c[0][1],y=s.join(g,s.patch(h)(g));if(!At(g,y)){let v;const S=c[0][0];S[Ot](e)?v=[[S,y],...c.slice(1)]:v=[[e,y],...c],r.set(s,v)}}}}),new ss(r)}),f8=L(2,(t,e)=>{const n=new Map;return bI(t,n,e),new ss(n)}),bI=(t,e,n)=>{t.locals.forEach((r,i)=>{const s=r[0][1],a=i.patch(i.fork)(s);At(s,a)?e.set(i,r):e.set(i,[[n,a],...r])})},SI=L(2,(t,e)=>{const n=new Map(t.locals);return n.delete(e),new ss(n)}),d8=L(2,(t,e)=>t.locals.has(e)?$t(nr(t.locals.get(e))[1]):ut()),sl=L(2,(t,e)=>H(d8(t,e),Ce(()=>e.initial))),hv=L(2,(t,{fiberId:e,fiberRef:n,value:r})=>{if(t.locals.size===0)return new ss(new Map([[n,[[e,r]]]]));const i=new Map(t.locals);return pv(i,e,n,r),new ss(i)}),pv=(t,e,n,r)=>{const i=t.get(n)??[];let s;if(nn(i)){const[a,c]=nr(i);if(a[Ot](e)){if(At(c,r))return;s=[[e,r],...i.slice(1)]}else s=[[e,r],...i]}else s=[[e,r]];t.set(n,s)},h8=L(2,(t,{entries:e,forkAs:n})=>{if(t.locals.size===0)return new ss(new Map(e));const r=new Map(t.locals);return n!==void 0&&bI(t,r,n),e.forEach(([i,s])=>{s.length===1?pv(r,s[0][0],i,s[0][1]):s.forEach(([a,c])=>{pv(r,a,i,c)})}),new ss(r)}),p8=sl,g8=h8,m8=u8,y8=_K,v8=bK,_8=SK,b8=wK,S8=Yk,w8=Xk,E8=EK,x8=xK,C8=H(ru,DO(t=>t.ordinal)),T8=D3(C8),O8=t=>{switch(t){case"All":return y8;case"Debug":return w8;case"Error":return _8;case"Fatal":return v8;case"Info":return S8;case"Trace":return E8;case"None":return x8;case"Warning":return b8}},wI=t=>t.replace(/[\s="]/g,"_"),A8=t=>e=>`${wI(e.label)}=${t-e.startTime}ms`,k8=kl,I8=C3;class $8 extends I8{}const EI="Empty",xI="Add",CI="Remove",TI="Update",OI="AndThen",R8={_tag:EI},P8=(t,e)=>{const n=new Map(t.locals);let r=R8;for(const[i,s]of e.locals.entries()){const a=nr(s)[1],c=n.get(i);if(c!==void 0){const l=nr(c)[1];At(l,a)||(r=Qm({_tag:TI,fiberRef:i,patch:i.diff(l,a)})(r))}else r=Qm({_tag:xI,fiberRef:i,value:a})(r);n.delete(i)}for(const[i]of n.entries())r=Qm({_tag:CI,fiberRef:i})(r);return r},Qm=L(2,(t,e)=>({_tag:OI,first:t,second:e})),M8=L(3,(t,e,n)=>{let r=n,i=ci(t);for(;nn(i);){const s=nr(i),a=qs(i);switch(s._tag){case EI:{i=a;break}case xI:{r=hv(r,{fiberId:e,fiberRef:s.fiberRef,value:s.value}),i=a;break}case CI:{r=SI(r,s.fiberRef),i=a;break}case TI:{const c=sl(r,s.fiberRef);r=hv(r,{fiberId:e,fiberRef:s.fiberRef,value:s.fiberRef.patch(s.patch)(c)}),i=a;break}case OI:{i=Zd(s.first)(Zd(s.second)(a));break}}}return r}),AI="effect/MetricLabel",gv=Symbol.for(AI);var IT;class N8{constructor(e,n){_(this,"key");_(this,"value");_(this,IT,gv);_(this,"_hash");this.key=e,this.value=n,this._hash=Ne(AI+this.key+this.value)}[(IT=gv,It)](){return this._hash}[Ot](e){return F8(e)&&this.key===e.key&&this.value===e.value}pipe(){return _t(this,arguments)}}const L8=(t,e)=>new N8(t,e),F8=t=>Ct(t,gv),B8="Sequential",j8="Parallel",D8="ParallelN",kI={_tag:B8},U8={_tag:j8},z8=t=>({_tag:D8,parallelism:t}),mv=kI,yv=U8,vv=z8,W8=P8,K8=M8,_p="effect/FiberStatus",Xs=Symbol.for(_p),dh="Done",tx="Running",ex="Suspended",q8=Ne(`${_p}-${dh}`);var $T;class V8{constructor(){_(this,$T,Xs);_(this,"_tag",dh)}[($T=Xs,It)](){return q8}[Ot](e){return f_(e)&&e._tag===dh}}var RT;class H8{constructor(e){_(this,"runtimeFlags");_(this,RT,Xs);_(this,"_tag",tx);this.runtimeFlags=e}[(RT=Xs,It)](){return H(ct(_p),Bt(ct(this._tag)),Bt(ct(this.runtimeFlags)),Te(this))}[Ot](e){return f_(e)&&e._tag===tx&&this.runtimeFlags===e.runtimeFlags}}var PT;class G8{constructor(e,n){_(this,"runtimeFlags");_(this,"blockingOn");_(this,PT,Xs);_(this,"_tag",ex);this.runtimeFlags=e,this.blockingOn=n}[(PT=Xs,It)](){return H(ct(_p),Bt(ct(this._tag)),Bt(ct(this.runtimeFlags)),Bt(ct(this.blockingOn)),Te(this))}[Ot](e){return f_(e)&&e._tag===ex&&this.runtimeFlags===e.runtimeFlags&&At(this.blockingOn,e.blockingOn)}}const J8=new V8,Y8=t=>new H8(t),X8=(t,e)=>new G8(t,e),f_=t=>Ct(t,Xs),Q8=t=>t._tag===dh,Z8=J8,II=Y8,t7=X8,e7=Q8,n7=Symbol.for("effect/Micro"),hh=Symbol.for("effect/Micro/MicroExit"),nx=Symbol.for("effect/Micro/MicroCause"),r7={_E:Be};var MT;class $I extends globalThis.Error{constructor(n,r,i){const s=`MicroCause.${n}`;let a,c,l;if(r instanceof globalThis.Error){a=`(${s}) ${r.name}`,c=r.message;const d=c.split(`
`).length;l=r.stack?`(${s}) ${r.stack.split(`
`).slice(0,d+3).join(`
`)}`:`${a}: ${c}`}else a=s,c=tu(r,0),l=`${a}: ${c}`;i.length>0&&(l+=`
    ${i.join(`
    `)}`);super(c);_(this,"_tag");_(this,"traces");_(this,MT);this._tag=n,this.traces=i,this[nx]=r7,this.name=a,this.stack=l}pipe(){return _t(this,arguments)}toString(){return this.stack}[(MT=nx,_e)](){return this.stack}}class i7 extends $I{constructor(n,r=[]){super("Die",n,r);_(this,"defect");this.defect=n}}const o7=(t,e=[])=>new i7(t,e);class s7 extends $I{constructor(e=[]){super("Interrupt","interrupted",e)}}const a7=(t=[])=>new s7(t),u7=t=>t._tag==="Interrupt",rx=Symbol.for("effect/Micro/MicroFiber"),c7={_A:Be,_E:Be};var NT;NT=rx;class l7{constructor(e,n=!0){_(this,"context");_(this,"interruptible");_(this,NT);_(this,"_stack",[]);_(this,"_observers",[]);_(this,"_exit");_(this,"_children");_(this,"currentOpCount",0);_(this,"_interrupted",!1);_(this,"_yielded");this.context=e,this.interruptible=n,this[rx]=c7}getRef(e){return Pz(this.context,e)}addObserver(e){return this._exit?(e(this._exit),HD):(this._observers.push(e),()=>{const n=this._observers.indexOf(e);n>=0&&this._observers.splice(n,1)})}unsafeInterrupt(){this._exit||(this._interrupted=!0,this.interruptible&&this.evaluate(m_))}unsafePoll(){return this._exit}evaluate(e){if(this._exit)return;if(this._yielded!==void 0){const i=this._yielded;this._yielded=void 0,i()}const n=this.runLoop(e);if(n===nd)return;const r=ix.interruptChildren&&ix.interruptChildren(this);if(r!==void 0)return this.evaluate(gh(r,()=>n));this._exit=n;for(let i=0;i<this._observers.length;i++)this._observers[i](n);this._observers.length=0}runLoop(e){let n=!1,r=e;this.currentOpCount=0;try{for(;;){if(this.currentOpCount++,!n&&this.getRef(y_).shouldYield(this)){n=!0;const i=r;r=gh(g7,()=>i)}if(r=r[_v](this),r===nd){const i=this._yielded;return hh in i?(this._yielded=void 0,i):nd}}}catch(i){return Ct(r,_v)?bv(i):bv(`MicroFiber.runLoop: Not a valid effect: ${String(r)}`)}}getCont(e){for(;;){const n=this._stack.pop();if(!n)return;const r=n[ph]&&n[ph](this);if(r)return{[e]:r};if(n[e])return n}}yieldWith(e){return this._yielded=e,nd}children(){return this._children??(this._children=new Set)}}const ix=jt("effect/Micro/fiberMiddleware",()=>({interruptChildren:void 0})),RI=Symbol.for("effect/Micro/identifier"),Ve=Symbol.for("effect/Micro/args"),_v=Symbol.for("effect/Micro/evaluate"),_u=Symbol.for("effect/Micro/successCont"),Ya=Symbol.for("effect/Micro/failureCont"),ph=Symbol.for("effect/Micro/ensureCont"),nd=Symbol.for("effect/Micro/Yield"),f7={_A:Be,_E:Be,_R:Be},d7={...k8,_op:"Micro",[n7]:f7,pipe(){return _t(this,arguments)},[Symbol.iterator](){return new wO(new Tl(this))},toJSON(){return{_id:"Micro",op:this[RI],...Ve in this?{args:this[Ve]}:void 0}},toString(){return en(this)},[_e](){return en(this)}};function h7(t){return bv("Micro.evaluate: Not implemented")}const bp=t=>({...d7,[RI]:t.op,[_v]:t.eval??h7,[_u]:t.contA,[Ya]:t.contE,[ph]:t.ensure}),d_=t=>{const e=bp(t);return function(){const n=Object.create(e);return n[Ve]=t.single===!1?arguments:arguments[0],n}},PI=t=>{const e={...bp(t),[hh]:hh,_tag:t.op,get[t.prop](){return this[Ve]},toJSON(){return{_id:"MicroExit",_tag:t.op,[t.prop]:this[Ve]}},[Ot](n){return v7(n)&&n._tag===t.op&&At(this[Ve],n[Ve])},[It](){return Te(this,Bt(Ne(t.op))(ct(this[Ve])))}};return function(n){const r=Object.create(e);return r[Ve]=n,r[_u]=void 0,r[Ya]=void 0,r[ph]=void 0,r}},h_=PI({op:"Success",prop:"value",eval(t){const e=t.getCont(_u);return e?e[_u](this[Ve],t):t.yieldWith(this)}}),MI=PI({op:"Failure",prop:"cause",eval(t){let e=t.getCont(Ya);for(;u7(this[Ve])&&e&&t.interruptible;)e=t.getCont(Ya);return e?e[Ya](this[Ve],t):t.yieldWith(this)}}),p7=d_({op:"Yield",eval(t){let e=!1;return t.getRef(y_).scheduleTask(()=>{e||t.evaluate(_7)},this[Ve]??0),t.yieldWith(()=>{e=!0})}}),g7=p7(0),m7=h_(void 0),p_=d_({op:"WithMicroFiber",eval(t){return this[Ve](t)}}),gh=L(2,(t,e)=>{const n=Object.create(y7);return n[Ve]=t,n[_u]=e,n}),y7=bp({op:"OnSuccess",eval(t){return t._stack.push(this),this[Ve]}}),v7=t=>Ct(t,hh),NI=h_,g_=MI,m_=g_(a7()),bv=t=>g_(o7(t)),_7=NI(void 0),b7="setImmediate"in globalThis?globalThis.setImmediate:t=>setTimeout(t,0);class LI{constructor(){_(this,"tasks",[]);_(this,"running",!1);_(this,"afterScheduled",()=>{this.running=!1,this.runTasks()})}scheduleTask(e,n){this.tasks.push(e),this.running||(this.running=!0,b7(this.afterScheduled))}runTasks(){const e=this.tasks;this.tasks=[];for(let n=0,r=e.length;n<r;n++)e[n]()}shouldYield(e){return e.currentOpCount>=e.getRef(E7)}flush(){for(;this.tasks.length>0;)this.runTasks()}}const S7=L(2,(t,e)=>p_(n=>{const r=n.context;return n.context=e(r),T7(t,()=>(n.context=r,m7))})),w7=L(2,(t,e)=>S7(t,NA(e)));class E7 extends LA()("effect/Micro/currentMaxOpsBeforeYield",{defaultValue:()=>2048}){}class y_ extends LA()("effect/Micro/currentScheduler",{defaultValue:()=>new LI}){}const x7=L(2,(t,e)=>{const n=Object.create(C7);return n[Ve]=t,n[_u]=e.onSuccess,n[Ya]=e.onFailure,n}),C7=bp({op:"OnSuccessAndFailure",eval(t){return t._stack.push(this),this[Ve]}}),T7=L(2,(t,e)=>A7(n=>x7(n(t),{onFailure:r=>gh(e(g_(r)),()=>MI(r)),onSuccess:r=>gh(e(NI(r)),()=>h_(r))}))),FI=d_({op:"SetInterruptible",ensure(t){if(t.interruptible=this[Ve],t._interrupted&&t.interruptible)return()=>m_}}),O7=t=>p_(e=>e.interruptible?t:(e.interruptible=!0,e._stack.push(FI(!1)),e._interrupted?m_:t)),A7=t=>p_(e=>e.interruptible?(e.interruptible=!1,e._stack.push(FI(!0)),t(O7)):t(Be)),k7=(t,e)=>{const n=new l7(y_.context(new LI));return n.evaluate(t),n};class BI{constructor(){_(this,"buckets",[])}scheduleTask(e,n){const r=this.buckets.length;let i,s=0;for(;s<r&&this.buckets[s][0]<=n;s++)i=this.buckets[s];i&&i[0]===n?i[1].push(e):s===r?this.buckets.push([n,[e]]):this.buckets.splice(s,0,[n,[e]])}}class I7{constructor(e){_(this,"maxNextTickBeforeTimer");_(this,"running",!1);_(this,"tasks",new BI);this.maxNextTickBeforeTimer=e}starveInternal(e){const n=this.tasks.buckets;this.tasks.buckets=[];for(const[r,i]of n)for(let s=0;s<i.length;s++)i[s]();this.tasks.buckets.length===0?this.running=!1:this.starve(e)}starve(e=0){e>=this.maxNextTickBeforeTimer?setTimeout(()=>this.starveInternal(0),0):Promise.resolve(void 0).then(()=>this.starveInternal(e+1))}shouldYield(e){return e.currentOpCount>e.getFiberRef(Zk)?e.getFiberRef(yp):!1}scheduleTask(e,n){this.tasks.scheduleTask(e,n),this.running||(this.running=!0,this.starve())}}const jI=jt(Symbol.for("effect/Scheduler/defaultScheduler"),()=>new I7(2048));class DI{constructor(){_(this,"tasks",new BI);_(this,"deferred",!1)}scheduleTask(e,n){this.deferred?jI.scheduleTask(e,n):this.tasks.scheduleTask(e,n)}shouldYield(e){return e.currentOpCount>e.getFiberRef(Zk)?e.getFiberRef(yp):!1}flush(){for(;this.tasks.buckets.length>0;){const e=this.tasks.buckets;this.tasks.buckets=[];for(const[n,r]of e)for(let i=0;i<r.length;i++)r[i]()}this.deferred=!0}}const UI=jt(Symbol.for("effect/FiberRef/currentScheduler"),()=>Ar(jI)),zI=jt(Symbol.for("effect/FiberRef/currentRequestMap"),()=>Ar(new Map)),ox=(t,e,n,r)=>{switch(t){case void 0:return e();case"unbounded":return n();case"inherit":return o_(LK,i=>i==="unbounded"?n():i>1?r(i):e());default:return t>1?r(t):e()}},v_="InterruptSignal",__="Stateful",b_="Resume",S_="YieldNow",Zm=t=>({_tag:v_,cause:t}),Rd=t=>({_tag:__,onFiber:t}),Ra=t=>({_tag:b_,effect:t}),$7=()=>({_tag:S_}),R7="effect/FiberScope",mh=Symbol.for(R7);var LT;LT=mh;class P7{constructor(){_(this,LT,mh);_(this,"fiberId",fu);_(this,"roots",new Set)}add(e,n){this.roots.add(n),n.addObserver(()=>{this.roots.delete(n)})}}var FT;FT=mh;class M7{constructor(e,n){_(this,"fiberId");_(this,"parent");_(this,FT,mh);this.fiberId=e,this.parent=n}add(e,n){this.parent.tell(Rd(r=>{r.addChild(n),n.addObserver(()=>{r.removeChild(n)})}))}}const N7=t=>new M7(t.id(),t),w_=jt(Symbol.for("effect/FiberScope/Global"),()=>new P7),L7="effect/Fiber",F7=Symbol.for(L7),B7={_E:t=>t,_A:t=>t},j7="effect/Fiber",D7=Symbol.for(j7),WI=t=>Gk(Wk(t.await),t.inheritAll);({...$l});const Ts="effect/FiberCurrent",U7="effect/Logger",z7=Symbol.for(U7),W7={_Message:t=>t,_Output:t=>t},E_=t=>({[z7]:W7,log:t,pipe(){return _t(this,arguments)}}),K7=/^[^\s"=]*$/,q7=(t,e)=>({annotations:n,cause:r,date:i,fiberId:s,logLevel:a,message:c,spans:l})=>{const d=S=>S.match(K7)?S:t(S),h=(S,x)=>`${wI(S)}=${d(x)}`,g=(S,x)=>" "+h(S,x);let y=h("timestamp",i.toISOString());y+=g("level",a.label),y+=g("fiber",uk(s));const v=Z3(c);for(let S=0;S<v.length;S++)y+=g("message",tu(v[S],e));F6(r)||(y+=g("cause",Fu(r,{renderErrorCause:!0})));for(const S of l)y+=" "+A8(i.getTime())(S);for(const[S,x]of n)y+=g(S,tu(x,e));return y},V7=t=>`"${t.replace(/\\([\s\S])|(")/g,"\\$1$2")}"`,H7=E_(q7(V7)),G7=typeof pi=="object"&&pi!==null&&typeof pi.stdout=="object"&&pi.stdout!==null;G7&&pi.stdout.isTTY;const KI="effect/MetricBoundaries",Sv=Symbol.for(KI);var BT;class J7{constructor(e){_(this,"values");_(this,BT,Sv);_(this,"_hash");this.values=e,this._hash=H(Ne(KI),Bt(Ol(this.values)))}[(BT=Sv,It)](){return this._hash}[Ot](e){return Y7(e)&&At(this.values,e.values)}pipe(){return _t(this,arguments)}}const Y7=t=>Ct(t,Sv),X7=t=>{const e=H(t,zO(Sr(Number.POSITIVE_INFINITY)),mU);return new J7(e)},Q7=t=>H(Q3(t.count-1,e=>t.start*Math.pow(t.factor,e)),Zh,X7),Z7="effect/MetricKeyType",qI=Symbol.for(Z7),VI="effect/MetricKeyType/Counter",wv=Symbol.for(VI),t9="effect/MetricKeyType/Frequency",e9=Symbol.for(t9),n9="effect/MetricKeyType/Gauge",r9=Symbol.for(n9),HI="effect/MetricKeyType/Histogram",Ev=Symbol.for(HI),i9="effect/MetricKeyType/Summary",o9=Symbol.for(i9),GI={_In:t=>t,_Out:t=>t};var jT,DT;class s9{constructor(e,n){_(this,"incremental");_(this,"bigint");_(this,DT,GI);_(this,jT,wv);_(this,"_hash");this.incremental=e,this.bigint=n,this._hash=Ne(VI)}[(DT=qI,jT=wv,It)](){return this._hash}[Ot](e){return JI(e)}pipe(){return _t(this,arguments)}}var UT,zT;class a9{constructor(e){_(this,"boundaries");_(this,zT,GI);_(this,UT,Ev);_(this,"_hash");this.boundaries=e,this._hash=H(Ne(HI),Bt(ct(this.boundaries)))}[(zT=qI,UT=Ev,It)](){return this._hash}[Ot](e){return YI(e)&&At(this.boundaries,e.boundaries)}pipe(){return _t(this,arguments)}}const u9=t=>new s9((t==null?void 0:t.incremental)??!1,(t==null?void 0:t.bigint)??!1),c9=t=>new a9(t),JI=t=>Ct(t,wv),l9=t=>Ct(t,e9),f9=t=>Ct(t,r9),YI=t=>Ct(t,Ev),d9=t=>Ct(t,o9),h9="effect/MetricKey",XI=Symbol.for(h9),p9={_Type:t=>t},g9=T0(At);var WT;class x_{constructor(e,n,r,i=[]){_(this,"name");_(this,"keyType");_(this,"description");_(this,"tags");_(this,WT,p9);_(this,"_hash");this.name=e,this.keyType=n,this.description=r,this.tags=i,this._hash=H(Ne(this.name+this.description),Bt(ct(this.keyType)),Bt(Ol(this.tags)))}[(WT=XI,It)](){return this._hash}[Ot](e){return m9(e)&&this.name===e.name&&At(this.keyType,e.keyType)&&At(this.description,e.description)&&g9(this.tags,e.tags)}pipe(){return _t(this,arguments)}}const m9=t=>Ct(t,XI),y9=(t,e)=>new x_(t,u9(e),Ao(e==null?void 0:e.description)),v9=(t,e,n)=>new x_(t,c9(e),Ao(n)),_9=L(2,(t,e)=>e.length===0?t:new x_(t.name,t.keyType,t.description,Td(t.tags,e))),b9="effect/MetricState",Kl=Symbol.for(b9),QI="effect/MetricState/Counter",xv=Symbol.for(QI),ZI="effect/MetricState/Frequency",Cv=Symbol.for(ZI),t$="effect/MetricState/Gauge",Tv=Symbol.for(t$),e$="effect/MetricState/Histogram",Ov=Symbol.for(e$),n$="effect/MetricState/Summary",Av=Symbol.for(n$),ql={_A:t=>t};var KT,qT;class S9{constructor(e){_(this,"count");_(this,qT,ql);_(this,KT,xv);this.count=e}[(qT=Kl,KT=xv,It)](){return H(ct(QI),Bt(ct(this.count)),Te(this))}[Ot](e){return R9(e)&&this.count===e.count}pipe(){return _t(this,arguments)}}const w9=T0(At);var VT,HT;class E9{constructor(e){_(this,"occurrences");_(this,HT,ql);_(this,VT,Cv);_(this,"_hash");this.occurrences=e}[(HT=Kl,VT=Cv,It)](){return H(Ne(ZI),Bt(Ol(je(this.occurrences.entries()))),Te(this))}[Ot](e){return P9(e)&&w9(je(this.occurrences.entries()),je(e.occurrences.entries()))}pipe(){return _t(this,arguments)}}var GT,JT;class x9{constructor(e){_(this,"value");_(this,JT,ql);_(this,GT,Tv);this.value=e}[(JT=Kl,GT=Tv,It)](){return H(ct(t$),Bt(ct(this.value)),Te(this))}[Ot](e){return M9(e)&&this.value===e.value}pipe(){return _t(this,arguments)}}var YT,XT;class C9{constructor(e,n,r,i,s){_(this,"buckets");_(this,"count");_(this,"min");_(this,"max");_(this,"sum");_(this,XT,ql);_(this,YT,Ov);this.buckets=e,this.count=n,this.min=r,this.max=i,this.sum=s}[(XT=Kl,YT=Ov,It)](){return H(ct(e$),Bt(ct(this.buckets)),Bt(ct(this.count)),Bt(ct(this.min)),Bt(ct(this.max)),Bt(ct(this.sum)),Te(this))}[Ot](e){return N9(e)&&At(this.buckets,e.buckets)&&this.count===e.count&&this.min===e.min&&this.max===e.max&&this.sum===e.sum}pipe(){return _t(this,arguments)}}var QT,ZT;class T9{constructor(e,n,r,i,s,a){_(this,"error");_(this,"quantiles");_(this,"count");_(this,"min");_(this,"max");_(this,"sum");_(this,ZT,ql);_(this,QT,Av);this.error=e,this.quantiles=n,this.count=r,this.min=i,this.max=s,this.sum=a}[(ZT=Kl,QT=Av,It)](){return H(ct(n$),Bt(ct(this.error)),Bt(ct(this.quantiles)),Bt(ct(this.count)),Bt(ct(this.min)),Bt(ct(this.max)),Bt(ct(this.sum)),Te(this))}[Ot](e){return L9(e)&&this.error===e.error&&At(this.quantiles,e.quantiles)&&this.count===e.count&&this.min===e.min&&this.max===e.max&&this.sum===e.sum}pipe(){return _t(this,arguments)}}const O9=t=>new S9(t),A9=t=>new E9(t),k9=t=>new x9(t),I9=t=>new C9(t.buckets,t.count,t.min,t.max,t.sum),$9=t=>new T9(t.error,t.quantiles,t.count,t.min,t.max,t.sum),R9=t=>Ct(t,xv),P9=t=>Ct(t,Cv),M9=t=>Ct(t,Tv),N9=t=>Ct(t,Ov),L9=t=>Ct(t,Av),F9="effect/MetricHook",B9=Symbol.for(F9),j9={_In:t=>t,_Out:t=>t},Vl=t=>({[B9]:j9,pipe(){return _t(this,arguments)},...t}),sx=BigInt(0),D9=t=>{let e=t.keyType.bigint?sx:0;const n=t.keyType.incremental?t.keyType.bigint?i=>i>=sx:i=>i>=0:i=>!0,r=i=>{n(i)&&(e=e+i)};return Vl({get:()=>O9(e),update:r,modify:r})},U9=t=>{const e=new Map;for(const r of t.keyType.preregisteredWords)e.set(r,0);const n=r=>{const i=e.get(r)??0;e.set(r,i+1)};return Vl({get:()=>A9(e),update:n,modify:n})},z9=(t,e)=>{let n=e;return Vl({get:()=>k9(n),update:r=>{n=r},modify:r=>{n=n+r}})},W9=t=>{const e=t.keyType.boundaries.values,n=e.length,r=new Uint32Array(n+1),i=new Float32Array(n);let s=0,a=0,c=Number.MAX_VALUE,l=Number.MIN_VALUE;H(e,Xc(ru),qa((g,y)=>{i[y]=g}));const d=g=>{let y=0,v=n;for(;y!==v;){const S=Math.floor(y+(v-y)/2),x=i[S];g<=x?v=S:y=S,v===y+1&&(g<=i[y]?v=y:y=v)}r[y]=r[y]+1,s=s+1,a=a+g,g<c&&(c=g),g>l&&(l=g)},h=()=>{const g=Gh(n);let y=0;for(let v=0;v<n;v++){const S=i[v],x=r[v];y=y+x,g[v]=[S,y]}return g};return Vl({get:()=>I9({buckets:h(),count:s,min:c,max:l,sum:a}),update:d,modify:d})},K9=t=>{const{error:e,maxAge:n,maxSize:r,quantiles:i}=t.keyType,s=H(i,Xc(ru)),a=Gh(r);let c=0,l=0,d=0,h=Number.MAX_VALUE,g=Number.MIN_VALUE;const y=S=>{const x=[];let T=0;for(;T!==r-1;){const O=a[T];if(O!=null){const[N,P]=O,$=Jy(S-N);uW($,KA)&&$<=n&&x.push(P)}T=T+1}return q9(e,s,Xc(x,ru))},v=(S,x)=>{if(r>0){c=c+1;const T=c%r;a[T]=[x,S]}l=l+1,d=d+S,S<h&&(h=S),S>g&&(g=S)};return Vl({get:()=>$9({error:e,quantiles:y(Date.now()),count:l,min:h,max:g,sum:d}),update:([S,x])=>v(S,x),modify:([S,x])=>v(S,x)})},q9=(t,e,n)=>{const r=n.length;if(!nn(e))return nu();const i=e[0],s=e.slice(1),a=ax(t,r,ut(),0,i,n),c=ci(a);return s.forEach(l=>{c.push(ax(t,r,a.value,a.consumed,l,a.rest))}),qa(c,l=>[l.quantile,l.value])},ax=(t,e,n,r,i,s)=>{let a=t,c=e,l=n,d=r,h=i,g=s,y=t,v=e,S=n,x=r,T=i,O=s;for(;;){if(!nn(g))return{quantile:h,value:ut(),consumed:d,rest:[]};if(h===1)return{quantile:h,value:$t(qO(g)),consumed:d+g.length,rest:[]};const N=cU(g,k=>k<=g[0]),P=h*c,$=a/2*P,j=d+N[0].length,B=Math.abs(j-P);if(j<P-$){y=a,v=c,S=Wc(g),x=j,T=h,O=N[1],a=y,c=v,l=S,d=x,h=T,g=O;continue}if(j>P+$)return{quantile:h,value:l,consumed:d,rest:g};switch(l._tag){case"None":{y=a,v=c,S=Wc(g),x=j,T=h,O=N[1],a=y,c=v,l=S,d=x,h=T,g=O;continue}case"Some":{const k=Math.abs(P-l.value);if(B<k){y=a,v=c,S=Wc(g),x=j,T=h,O=N[1],a=y,c=v,l=S,d=x,h=T,g=O;continue}return{quantile:h,value:$t(l.value),consumed:d,rest:g}}}}throw new Error("BUG: MetricHook.resolveQuantiles - please report an issue at https://github.com/Effect-TS/effect/issues")},V9="effect/MetricPair",H9=Symbol.for(V9),G9={_Type:t=>t},J9=(t,e)=>({[H9]:G9,metricKey:t,metricState:e,pipe(){return _t(this,arguments)}}),Y9="effect/MetricRegistry",ux=Symbol.for(Y9);var tO;tO=ux;class X9{constructor(){_(this,tO,ux);_(this,"map",oq())}snapshot(){const e=[];for(const[n,r]of this.map)e.push(J9(n,r.get()));return e}get(e){const n=H(this.map,Is(e),li);if(n==null){if(JI(e.keyType))return this.getCounter(e);if(f9(e.keyType))return this.getGauge(e);if(l9(e.keyType))return this.getFrequency(e);if(YI(e.keyType))return this.getHistogram(e);if(d9(e.keyType))return this.getSummary(e);throw new Error("BUG: MetricRegistry.get - unknown MetricKeyType - please report an issue at https://github.com/Effect-TS/effect/issues")}else return n}getCounter(e){let n=H(this.map,Is(e),li);if(n==null){const r=D9(e);H(this.map,Ec(e))||H(this.map,xc(e,r)),n=r}return n}getFrequency(e){let n=H(this.map,Is(e),li);if(n==null){const r=U9(e);H(this.map,Ec(e))||H(this.map,xc(e,r)),n=r}return n}getGauge(e){let n=H(this.map,Is(e),li);if(n==null){const r=z9(e,e.keyType.bigint?BigInt(0):0);H(this.map,Ec(e))||H(this.map,xc(e,r)),n=r}return n}getHistogram(e){let n=H(this.map,Is(e),li);if(n==null){const r=W9(e);H(this.map,Ec(e))||H(this.map,xc(e,r)),n=r}return n}getSummary(e){let n=H(this.map,Is(e),li);if(n==null){const r=K9(e);H(this.map,Ec(e))||H(this.map,xc(e,r)),n=r}return n}}const Q9=()=>new X9,Z9="effect/Metric",tV=Symbol.for(Z9),eV={_Type:t=>t,_In:t=>t,_Out:t=>t},cx=jt(Symbol.for("effect/Metric/globalMetricRegistry"),()=>Q9()),r$=function(t,e,n,r){const i=Object.assign(s=>gK(s,a=>oV(i,a)),{[tV]:eV,keyType:t,unsafeUpdate:e,unsafeValue:n,unsafeModify:r,register(){return this.unsafeValue([]),this},pipe(){return _t(this,arguments)}});return i},Sp=(t,e)=>i$(y9(t,e)),i$=t=>{let e;const n=new WeakMap,r=i=>{if(i.length===0)return e!==void 0||(e=cx.get(t)),e;let s=n.get(i);return s!==void 0||(s=cx.get(_9(t,i)),n.set(i,s)),s};return r$(t.keyType,(i,s)=>r(s).update(i),i=>r(i).get(),(i,s)=>r(s).modify(i))},nV=(t,e,n)=>i$(v9(t,e,n)),rV=L(3,(t,e,n)=>iV(t,[L8(e,n)])),iV=L(2,(t,e)=>r$(t.keyType,(n,r)=>t.unsafeUpdate(n,Td(e,r)),n=>t.unsafeValue(Td(e,n)),(n,r)=>t.unsafeModify(n,Td(e,r)))),oV=L(2,(t,e)=>o_(cv,n=>wt(()=>t.unsafeUpdate(e,n))));({...Il});const sV=L(2,(t,e)=>o_(zI,n=>wt(()=>{if(n.has(t)){const r=n.get(t);r.state.completed||(r.state.completed=!0,iI(r.result,e))}}))),aV="effect/Supervisor",wp=Symbol.for(aV),C_={_T:t=>t};var eO;eO=wp;const yS=class yS{constructor(e,n){_(this,"underlying");_(this,"value0");_(this,eO,C_);this.underlying=e,this.value0=n}get value(){return this.value0}onStart(e,n,r,i){this.underlying.onStart(e,n,r,i)}onEnd(e,n){this.underlying.onEnd(e,n)}onEffect(e,n){this.underlying.onEffect(e,n)}onSuspend(e){this.underlying.onSuspend(e)}onResume(e){this.underlying.onResume(e)}map(e){return new yS(this,H(this.value,er(e)))}zip(e){return new vh(this,e)}};let yh=yS;var nO;nO=wp;const vS=class vS{constructor(e,n){_(this,"left");_(this,"right");_(this,"_tag","Zip");_(this,nO,C_);this.left=e,this.right=n}get value(){return Hk(this.left.value,this.right.value)}onStart(e,n,r,i){this.left.onStart(e,n,r,i),this.right.onStart(e,n,r,i)}onEnd(e,n){this.left.onEnd(e,n),this.right.onEnd(e,n)}onEffect(e,n){this.left.onEffect(e,n),this.right.onEffect(e,n)}onSuspend(e){this.left.onSuspend(e),this.right.onSuspend(e)}onResume(e){this.left.onResume(e),this.right.onResume(e)}map(e){return new yh(this,H(this.value,er(e)))}zip(e){return new vS(this,e)}};let vh=vS;const o$=t=>Ct(t,wp)&&g0(t,"Zip");var rO;rO=wp;class uV{constructor(e){_(this,"effect");_(this,rO,C_);this.effect=e}get value(){return this.effect}onStart(e,n,r,i){}onEnd(e,n){}onEffect(e,n){}onSuspend(e){}onResume(e){}map(e){return new yh(this,H(this.value,er(e)))}zip(e){return new vh(this,e)}onRun(e,n){return e()}}const cV=t=>new uV(t),Ep=jt("effect/Supervisor/none",()=>cV(bi)),lV=Pu,s$="Empty",a$="AddSupervisor",u$="RemoveSupervisor",c$="AndThen",qc={_tag:s$},Pd=(t,e)=>({_tag:c$,first:t,second:e}),fV=(t,e)=>dV(e,Sr(t)),dV=(t,e)=>{let n=t,r=e;for(;au(r);){const i=uu(r);switch(i._tag){case s$:{r=Ps(r);break}case a$:{n=n.zip(i.supervisor),r=Ps(r);break}case u$:{n=kv(n,i.supervisor),r=Ps(r);break}case c$:{r=vi(i.first)(vi(i.second)(Ps(r)));break}}}return n},kv=(t,e)=>At(t,e)?Ep:o$(t)?kv(t.left,e).zip(kv(t.right,e)):t,_h=t=>At(t,Ep)?Hs():o$(t)?H(_h(t.left),tl(_h(t.right))):K0(t),hV=(t,e)=>{if(At(t,e))return qc;const n=_h(t),r=_h(e),i=H(r,SE(n),rh(qc,(a,c)=>Pd(a,{_tag:a$,supervisor:c}))),s=H(n,SE(r),rh(qc,(a,c)=>Pd(a,{_tag:u$,supervisor:c})));return Pd(i,s)},pV=lV({empty:qc,patch:fV,combine:Pd,diff:hV}),gV=Sp("effect_fiber_started",{incremental:!0}),lx=Sp("effect_fiber_active"),mV=Sp("effect_fiber_successes",{incremental:!0}),yV=Sp("effect_fiber_failures",{incremental:!0}),vV=rV(nV("effect_fiber_lifetimes",Q7({start:.5,factor:2,count:35})),"time_unit","milliseconds"),Cc="Continue",_V="Done",fx="Yield",bV={_E:t=>t,_A:t=>t},rd=t=>{throw new Error(`BUG: FiberRuntime - ${tu(t)} - please report an issue at https://github.com/Effect-TS/effect/issues`)},fo=Symbol.for("effect/internal/fiberRuntime/YieldedOp"),ho=jt("effect/internal/fiberRuntime/yieldedOpChannel",()=>({currentOp:null})),Tc={[Jd]:(t,e,n)=>Wn(()=>e.effect_instruction_i1(n)),OnStep:(t,e,n)=>Le(Le(n)),[Yd]:(t,e,n)=>Wn(()=>e.effect_instruction_i2(n)),[b0]:(t,e,n)=>(t.patchRuntimeFlags(t.currentRuntimeFlags,e.patch),Yo(t.currentRuntimeFlags)&&t.isInterrupted()?fe(t.getInterruptedCause()):Le(n)),[Xd]:(t,e,n)=>(Wn(()=>e.effect_instruction_i2(n)),Wn(()=>e.effect_instruction_i0())?(t.pushStack(e),Wn(()=>e.effect_instruction_i1())):bi),[Ed]:(t,e,n)=>{const r=Wn(()=>e.effect_instruction_i0.next(n));return r.done?Le(r.value):(t.pushStack(e),f3(r.value))}},SV={[v_]:(t,e,n,r)=>(t.processNewInterruptSignal(r.cause),Yo(e)?fe(r.cause):n),[b_]:(t,e,n,r)=>{throw new Error("It is illegal to have multiple concurrent run loops in a single fiber")},[__]:(t,e,n,r)=>(r.onFiber(t,II(e)),n),[S_]:(t,e,n,r)=>St(r_(),()=>n)},wV=t=>dp(b6(t),e=>zs(M6(e),([n,r])=>{const i=new Map,s=[];for(const c of r){s.push(Ds(c));for(const l of c)i.set(l.request,l)}const a=s.flat();return mp(LV(n.runAll(s),a,()=>a.forEach(c=>{c.listeners.interrupted=!0})),zI,i)},!1,!1)),EV=Wh();var iO,oO;class l$ extends $8{constructor(n,r,i){super();_(this,oO,B7);_(this,iO,bV);_(this,"_fiberRefs");_(this,"_fiberId");_(this,"_queue",new Array);_(this,"_children",null);_(this,"_observers",new Array);_(this,"_running",!1);_(this,"_stack",[]);_(this,"_asyncInterruptor",null);_(this,"_asyncBlockingOn",null);_(this,"_exitValue",null);_(this,"_steps",[]);_(this,"_isYielding",!1);_(this,"currentRuntimeFlags");_(this,"currentOpCount",0);_(this,"currentSupervisor");_(this,"currentScheduler");_(this,"currentTracer");_(this,"currentSpan");_(this,"currentContext");_(this,"currentDefaultServices");_(this,"run",()=>{this.drainQueueOnCurrentThread()});if(this.currentRuntimeFlags=i,this._fiberId=n,this._fiberRefs=r,TE(i)){const s=this.getFiberRef(cv);gV.unsafeUpdate(1,s),lx.unsafeUpdate(1,s)}this.refreshRefCache()}commit(){return WI(this)}id(){return this._fiberId}resume(n){this.tell(Ra(n))}get status(){return this.ask((n,r)=>r)}get runtimeFlags(){return this.ask((n,r)=>e7(r)?n.currentRuntimeFlags:r.runtimeFlags)}scope(){return N7(this)}get children(){return this.ask(n=>Array.from(n.getChildren()))}getChildren(){return this._children===null&&(this._children=new Set),this._children}getInterruptedCause(){return this.getFiberRef(ed)}fiberRefs(){return this.ask(n=>n.getFiberRefs())}ask(n){return qe(()=>{const r=YK(this._fiberId);return this.tell(Rd((i,s)=>{iI(r,wt(()=>n(i,s)))})),rI(r)})}tell(n){this._queue.push(n),this._running||(this._running=!0,this.drainQueueLaterOnExecutor())}get await(){return ol(n=>{const r=i=>n(ve(i));return this.tell(Rd((i,s)=>{i._exitValue!==null?r(this._exitValue):i.addObserver(r)})),wt(()=>this.tell(Rd((i,s)=>{i.removeObserver(r)})))},this.id())}get inheritAll(){return wr((n,r)=>{const i=n.id(),s=n.getFiberRefs(),a=r.runtimeFlags,c=this.getFiberRefs(),l=l8(s,i,c);n.setFiberRefs(l);const d=n.getFiberRef(mx),h=H(kd(a,d),AE(Mu),AE(sv));return yK(h)})}get poll(){return wt(()=>Ao(this._exitValue))}unsafePoll(){return this._exitValue}interruptAsFork(n){return wt(()=>this.tell(Zm(Qo(n))))}unsafeInterruptAsFork(n){this.tell(Zm(Qo(n)))}addObserver(n){this._exitValue!==null?n(this._exitValue):this._observers.push(n)}removeObserver(n){this._observers=this._observers.filter(r=>r!==n)}getFiberRefs(){return this.setFiberRef(mx,this.currentRuntimeFlags),this._fiberRefs}unsafeDeleteFiberRef(n){this._fiberRefs=SI(this._fiberRefs,n)}getFiberRef(n){return this._fiberRefs.locals.has(n)?this._fiberRefs.locals.get(n)[0][1]:n.initial}setFiberRef(n,r){this._fiberRefs=hv(this._fiberRefs,{fiberId:this._fiberId,fiberRef:n,value:r}),this.refreshRefCache()}refreshRefCache(){this.currentDefaultServices=this.getFiberRef(fh),this.currentTracer=this.currentDefaultServices.unsafeMap.get(vI.key),this.currentSupervisor=this.getFiberRef(NV),this.currentScheduler=this.getFiberRef(UI),this.currentContext=this.getFiberRef(zl),this.currentSpan=this.currentContext.unsafeMap.get(_I.key)}setFiberRefs(n){this._fiberRefs=n,this.refreshRefCache()}addChild(n){this.getChildren().add(n)}removeChild(n){this.getChildren().delete(n)}transferChildren(n){const r=this._children;if(this._children=null,r!==null&&r.size>0)for(const i of r)i._exitValue===null&&n.add(this.currentRuntimeFlags,i)}drainQueueOnCurrentThread(){let n=!0;for(;n;){let r=Cc;const i=globalThis[Ts];globalThis[Ts]=this;try{for(;r===Cc;)r=this._queue.length===0?_V:this.evaluateMessageWhileSuspended(this._queue.splice(0,1)[0])}finally{this._running=!1,globalThis[Ts]=i}this._queue.length>0&&!this._running?(this._running=!0,r===fx?(this.drainQueueLaterOnExecutor(),n=!1):n=!0):n=!1}}drainQueueLaterOnExecutor(){this.currentScheduler.scheduleTask(this.run,this.getFiberRef(yp))}drainQueueWhileRunning(n,r){let i=r;for(;this._queue.length>0;){const s=this._queue.splice(0,1)[0];i=SV[s._tag](this,n,i,s)}return i}isInterrupted(){return!j6(this.getFiberRef(ed))}addInterruptedCause(n){const r=this.getFiberRef(ed);this.setFiberRef(ed,Gr(r,n))}processNewInterruptSignal(n){this.addInterruptedCause(n),this.sendInterruptSignalToAllChildren()}sendInterruptSignalToAllChildren(){if(this._children===null||this._children.size===0)return!1;let n=!1;for(const r of this._children)r.tell(Zm(Qo(this.id()))),n=!0;return n}interruptAllChildren(){if(this.sendInterruptSignalToAllChildren()){const n=this._children.values();this._children=null;let r=!1;return n_({while:()=>!r,body:()=>{const s=n.next();return s.done?wt(()=>{r=!0}):Ul(s.value.await)},step:()=>{}})}return null}reportExitValue(n){if(TE(this.currentRuntimeFlags)){const r=this.getFiberRef(cv),i=this.id().startTimeMillis,s=Date.now();switch(vV.unsafeUpdate(s-i,r),lx.unsafeUpdate(-1,r),n._tag){case yi:{mV.unsafeUpdate(1,r);break}case mi:{yV.unsafeUpdate(1,r);break}}}if(n._tag==="Failure"){const r=this.getFiberRef(BK);!Y0(n.cause)&&r._tag==="Some"&&this.log("Fiber terminated with an unhandled error",n.cause,r)}}setExitValue(n){this._exitValue=n,this.reportExitValue(n);for(let r=this._observers.length-1;r>=0;r--)this._observers[r](n);this._observers=[]}getLoggers(){return this.getFiberRef(AV)}log(n,r,i){const s=Nn(i)?i.value:this.getFiberRef(PK),a=this.getFiberRef(xV);if(T8(a,s))return;const c=this.getFiberRef(MK),l=this.getFiberRef(RK),d=this.getLoggers(),h=this.getFiberRefs();if(rk(d)>0){const g=PA(this.getFiberRef(fh),l_),y=new Date(g.unsafeCurrentTimeMillis());g3(h,()=>{for(const v of d)v.log({fiberId:this.id(),logLevel:s,message:n,cause:r,context:h,spans:c,annotations:l,date:y})})}}evaluateMessageWhileSuspended(n){switch(n._tag){case S_:return fx;case v_:return this.processNewInterruptSignal(n.cause),this._asyncInterruptor!==null&&(this._asyncInterruptor(fe(n.cause)),this._asyncInterruptor=null),Cc;case b_:return this._asyncInterruptor=null,this._asyncBlockingOn=null,this.evaluateEffect(n.effect),Cc;case __:return n.onFiber(this,this._exitValue!==null?Z8:t7(this.currentRuntimeFlags,this._asyncBlockingOn)),Cc;default:return rd(n)}}evaluateEffect(n){this.currentSupervisor.onResume(this);try{let r=Yo(this.currentRuntimeFlags)&&this.isInterrupted()?fe(this.getInterruptedCause()):n;for(;r!==null;){const i=r,s=this.runLoop(i);if(s===fo){const a=ho.currentOp;ho.currentOp=null,a._op===xd?g6(this.currentRuntimeFlags)?(this.tell($7()),this.tell(Ra(Ms)),r=null):r=Ms:a._op===zc&&(r=null)}else{this.currentRuntimeFlags=H(this.currentRuntimeFlags,m6(sv));const a=this.interruptAllChildren();a!==null?r=St(a,()=>s):(this._queue.length===0?this.setExitValue(s):this.tell(Ra(s)),r=null)}}}finally{this.currentSupervisor.onSuspend(this)}}start(n){if(this._running)this.tell(Ra(n));else{this._running=!0;const r=globalThis[Ts];globalThis[Ts]=this;try{this.evaluateEffect(n)}finally{this._running=!1,globalThis[Ts]=r,this._queue.length>0&&this.drainQueueLaterOnExecutor()}}}startFork(n){this.tell(Ra(n))}patchRuntimeFlags(n,r){const i=Id(n,r);return globalThis[Ts]=this,this.currentRuntimeFlags=i,i}initiateAsync(n,r){let i=!1;const s=a=>{i||(i=!0,this.tell(Ra(a)))};Yo(n)&&(this._asyncInterruptor=s);try{r(s)}catch(a){s(_i(Wi(a)))}}pushStack(n){this._stack.push(n),n._op==="OnStep"&&this._steps.push({refs:this.getFiberRefs(),flags:this.currentRuntimeFlags})}popStack(){const n=this._stack.pop();if(n)return n._op==="OnStep"&&this._steps.pop(),n}getNextSuccessCont(){let n=this.popStack();for(;n;){if(n._op!==zm)return n;n=this.popStack()}}getNextFailCont(){let n=this.popStack();for(;n;){if(n._op!==Jd&&n._op!==Xd&&n._op!==Ed)return n;n=this.popStack()}}[(oO=F7,iO=D7,y3)](n){return wt(()=>MA(this.currentContext,n))}Left(n){return tr(n.left)}None(n){return tr(new eI)}Right(n){return Le(n.right)}Some(n){return Le(n.value)}Micro(n){return uh(r=>{let i=r;const s=k7(w7(n,this.currentContext));return s.addObserver(a=>{if(a._tag==="Success")return i(Le(a.value));switch(a.cause._tag){case"Interrupt":return i(fe(Qo(fu)));case"Fail":return i(tr(a.cause.error));case"Die":return i(PE(a.cause.defect))}}),uh(a=>{i=c=>{a(bi)},s.unsafeInterrupt()})})}[OO](n){const r=Wn(()=>n.effect_instruction_i0()),i=this.getNextSuccessCont();return i!==void 0?(i._op in Tc||rd(i),Tc[i._op](this,i,r)):(ho.currentOp=Le(r),fo)}[yi](n){const r=n,i=this.getNextSuccessCont();return i!==void 0?(i._op in Tc||rd(i),Tc[i._op](this,i,r.effect_instruction_i0)):(ho.currentOp=r,fo)}[mi](n){const r=n.effect_instruction_i0,i=this.getNextFailCont();if(i!==void 0)switch(i._op){case zm:case Yd:return Yo(this.currentRuntimeFlags)&&this.isInterrupted()?fe(kE(r)):Wn(()=>i.effect_instruction_i1(r));case"OnStep":return Yo(this.currentRuntimeFlags)&&this.isInterrupted()?fe(kE(r)):Le(fe(r));case b0:return this.patchRuntimeFlags(this.currentRuntimeFlags,i.patch),Yo(this.currentRuntimeFlags)&&this.isInterrupted()?fe(Gr(r,this.getInterruptedCause())):fe(r);default:rd(i)}else return ho.currentOp=fe(r),fo}[AO](n){return Wn(()=>n.effect_instruction_i0(this,II(this.currentRuntimeFlags)))}Blocked(n){const r=this.getFiberRefs(),i=this.currentRuntimeFlags;if(this._steps.length>0){const s=[],a=this._steps[this._steps.length-1];let c=this.popStack();for(;c&&c._op!=="OnStep";)s.push(c),c=this.popStack();this.setFiberRefs(a.refs),this.currentRuntimeFlags=a.flags;const l=W8(a.refs,r),d=kd(a.flags,i);return Le(Lk(n.effect_instruction_i0,wr(h=>{for(;s.length>0;)h.pushStack(s.pop());return h.setFiberRefs(K8(h.id(),h.getFiberRefs())(l)),h.currentRuntimeFlags=Id(d)(h.currentRuntimeFlags),n.effect_instruction_i1})))}return pp(s=>St(f$(aK(n.effect_instruction_i0)),()=>s(n.effect_instruction_i1)))}RunBlocked(n){return wV(n.effect_instruction_i0)}[Al](n){const r=n.effect_instruction_i0,i=this.currentRuntimeFlags,s=Id(i,r);if(Yo(s)&&this.isInterrupted())return fe(this.getInterruptedCause());if(this.patchRuntimeFlags(this.currentRuntimeFlags,r),n.effect_instruction_i1){const a=kd(s,i);return this.pushStack(new uK(a,n)),Wn(()=>n.effect_instruction_i1(i))}else return Ms}[Jd](n){return this.pushStack(n),n.effect_instruction_i0}OnStep(n){return this.pushStack(n),n.effect_instruction_i0}[zm](n){return this.pushStack(n),n.effect_instruction_i0}[Yd](n){return this.pushStack(n),n.effect_instruction_i0}[zc](n){return this._asyncBlockingOn=n.effect_instruction_i1,this.initiateAsync(this.currentRuntimeFlags,n.effect_instruction_i0),ho.currentOp=n,fo}[xd](n){return this._isYielding=!1,ho.currentOp=n,fo}[Xd](n){const r=n.effect_instruction_i0,i=n.effect_instruction_i1;return r()?(this.pushStack(n),i()):Ms}[Ed](n){return Tc[Ed](this,n,void 0)}[Hh](n){return Wn(()=>n.commit())}runLoop(n){let r=n;for(this.currentOpCount=0;;){if(this.currentRuntimeFlags&p6&&this.currentSupervisor.onEffect(this,r),this._queue.length>0&&(r=this.drainQueueWhileRunning(this.currentRuntimeFlags,r)),!this._isYielding){this.currentOpCount+=1;const i=this.currentScheduler.shouldYield(this);if(i!==!1){this._isYielding=!0,this.currentOpCount=0;const s=r;r=St(r_({priority:i}),()=>s)}}try{if(r=this.currentTracer.context(()=>EV!==r[yu]._V?ME(`Cannot execute an Effect versioned ${r[yu]._V} with a Runtime of version ${Wh()}`):this[r._op](r),this),r===fo){const i=ho.currentOp;return i._op===xd||i._op===zc?fo:(ho.currentOp=null,i._op===yi||i._op===mi?i:fe(Wi(i)))}}catch(i){r!==fo&&!Ct(r,"_op")||!(r._op in this)?r=ME(`Not a valid effect: ${tu(r)}`):WK(i)?r=fe(Gr(Wi(i),Qo(fu))):r=PE(i)}}}}const xV=jt("effect/FiberRef/currentMinimumLogLevel",()=>Ar(O8("Info"))),CV=t=>E_(e=>{const n=p8(e.context,fh);PA(n,yI).unsafe.log(t.log(e))}),TV=jt(Symbol.for("effect/Logger/defaultLogger"),()=>CV(H7)),OV=jt(Symbol.for("effect/Logger/tracerLogger"),()=>E_(({annotations:t,cause:e,context:n,fiberId:r,logLevel:i,message:s})=>{const a=Ml(sl(n,zl),_I);if(a._tag==="None"||a.value._tag==="ExternalSpan")return;const c=MA(sl(n,fh),l_),l={};for(const[d,h]of t)l[d]=h;l["effect.fiberId"]=t4(r),l["effect.logLevel"]=i.label,e!==null&&e._tag!=="Empty"&&(l["effect.cause"]=Fu(e,{renderErrorCause:!0})),a.value.event(tu(Array.isArray(s)?s[0]:s),c.unsafeCurrentTimeNanos(),l)})),AV=jt(Symbol.for("effect/FiberRef/currentLoggers"),()=>kK(K0(TV,OV))),kV=L(t=>SO(t[0]),(t,e,n)=>wr(r=>{const i=(n==null?void 0:n.batching)===!0||(n==null?void 0:n.batching)==="inherit"&&r.getFiberRef(FK);return n!=null&&n.discard?ox(n.concurrency,()=>Pa(mv,n==null?void 0:n.concurrentFinalizers)(s=>i?zs(t,(a,c)=>s(e(a,c)),!0,!1,1):dp(t,(a,c)=>s(e(a,c)))),()=>Pa(yv,n==null?void 0:n.concurrentFinalizers)(s=>zs(t,(a,c)=>s(e(a,c)),i,!1)),s=>Pa(vv(s),n==null?void 0:n.concurrentFinalizers)(a=>zs(t,(c,l)=>a(e(c,l)),i,!1,s))):ox(n==null?void 0:n.concurrency,()=>Pa(mv,n==null?void 0:n.concurrentFinalizers)(s=>i?dx(t,1,(a,c)=>s(e(a,c)),!0):ts(t,(a,c)=>s(e(a,c)))),()=>Pa(yv,n==null?void 0:n.concurrentFinalizers)(s=>IV(t,(a,c)=>s(e(a,c)),i)),s=>Pa(vv(s),n==null?void 0:n.concurrentFinalizers)(a=>dx(t,s,(c,l)=>a(e(c,l)),i)))})),IV=(t,e,n)=>qe(()=>{const r=je(t),i=new Array(r.length);return gp(zs(r,(a,c)=>St(e(a,c),l=>wt(()=>i[c]=l)),n,!1),ve(i))}),zs=(t,e,n,r,i)=>pp(s=>mK(a=>wr(c=>{let l=Array.from(t).reverse(),d=l.length;if(d===0)return bi;let h=0,g=!1;const y=i?Math.min(l.length,i):l.length,v=new Set,S=new Array,x=()=>v.forEach(U=>{U.currentScheduler.scheduleTask(()=>{U.unsafeInterruptAsFork(c.id())},0)}),T=new Array,O=new Array,N=new Array,P=()=>{const U=S.filter(({exit:K})=>K._tag==="Failure").sort((K,b)=>K.index<b.index?-1:K.index===b.index?0:1).map(({exit:K})=>K);return U.length===0&&U.push(Ms),U},$=(U,K=!1)=>{const b=Vk(a(U)),M=RV(b,c,c.currentRuntimeFlags,w_);return c.currentScheduler.scheduleTask(()=>{K&&M.unsafeInterruptAsFork(c.id()),M.resume(b)},0),M},j=()=>{r||(d-=l.length,l=[]),g=!0,x()},B=n?hK:Dk,k=$(ol(U=>{const K=(M,D)=>{M._op==="Blocked"?N.push(M):(S.push({index:D,exit:M}),M._op==="Failure"&&!g&&j())},b=()=>{if(l.length>0){const M=l.pop();let D=h++;const X=()=>{const it=l.pop();return D=h++,St(r_(),()=>St(B(s(e(it,D))),nt))},nt=it=>l.length>0&&(K(it,D),l.length>0)?X():ve(it),mt=St(B(s(e(M,D))),nt),gt=$(mt);T.push(gt),v.add(gt),g&&gt.currentScheduler.scheduleTask(()=>{gt.unsafeInterruptAsFork(c.id())},0),gt.addObserver(it=>{let at;if(it._op==="Failure"?at=it:at=it.effect_instruction_i0,O.push(gt),v.delete(gt),K(at,D),S.length===d)U(ve(Ce(jE(P(),{parallel:!0}),()=>Ms)));else if(N.length+S.length===d){const Nt=P(),sn=N.map(se=>se.effect_instruction_i0).reduce(Tk);U(ve(Lk(sn,zs([Ce(jE(Nt,{parallel:!0}),()=>Ms),...N.map(se=>se.effect_instruction_i1)],se=>se,n,!0,i))))}else b()})}};for(let M=0;M<y;M++)b()}));return Ul(e_(Wk(s(WI(k))),nI({onFailure:U=>{j();const K=N.length+1,b=Math.min(typeof i=="number"?i:N.length,N.length),M=Array.from(N);return ol(D=>{let X=0,nt=0;const mt=(it,at)=>Nt=>{X++,X===K&&D(Le(fe(U))),M.length>0&&at&&gt()},gt=()=>{$(M.pop(),!0).addObserver(mt(nt,!0)),nt++};k.addObserver(mt(nt,!1)),nt++;for(let it=0;it<b;it++)gt()})},onSuccess:()=>ts(O,U=>U.inheritAll)})))}))),dx=(t,e,n,r)=>qe(()=>{const i=je(t),s=new Array(i.length);return gp(zs(i,(c,l)=>er(n(c,l),d=>s[l]=d),r,!1,e),ve(s))}),f$=t=>PV(t,w_),$V=(t,e,n,r=null)=>{const i=d$(t,e,n,r);return i.resume(t),i},RV=(t,e,n,r=null)=>d$(t,e,n,r),d$=(t,e,n,r=null)=>{const i=ck(),s=e.getFiberRefs(),a=f8(s,i),c=new l$(i,a,n),l=sl(a,zl),d=c.currentSupervisor;return d.onStart(l,t,$t(e),c),c.addObserver(g=>d.onEnd(g,c)),(r!==null?r:H(e.getFiberRef(lv),Ce(()=>e.scope()))).add(n,c),c},PV=(t,e)=>wr((n,r)=>ve($V(t,n,r.runtimeFlags,e))),hx=t=>Wl(e=>$e(Ml(e,Hl),{onNone:()=>t,onSome:n=>{switch(n.strategy._tag){case"Parallel":return t;case"Sequential":case"ParallelN":return St(vp(n,yv),r=>T_(t,r))}}})),px=t=>e=>Wl(n=>$e(Ml(n,Hl),{onNone:()=>e,onSome:r=>r.strategy._tag==="ParallelN"&&r.strategy.parallelism===t?e:St(vp(r,vv(t)),i=>T_(e,i))})),Pa=(t,e)=>n=>Wl(r=>$e(Ml(r,Hl),{onNone:()=>n(Be),onSome:i=>{if(e===!0){const s=t._tag==="Parallel"?hx:t._tag==="Sequential"?gx:px(t.parallelism);switch(i.strategy._tag){case"Parallel":return s(n(hx));case"Sequential":return s(n(gx));case"ParallelN":return s(n(px(i.strategy.parallelism)))}}else return n(Be)}})),gx=t=>Wl(e=>$e(Ml(e,Hl),{onNone:()=>t,onSome:n=>{switch(n.strategy._tag){case"Sequential":return t;case"Parallel":case"ParallelN":return St(vp(n,mv),r=>T_(t,r))}}})),Hl=oa("effect/Scope"),T_=L(2,(t,e)=>eq(t,NA(Fz(Hl,e)))),MV=t=>Bu(t,{differ:pV,fork:qc}),mx=$K(y6),NV=MV(Ep),LV=(t,e,n)=>zk(r=>St(St(f$(Kk(t)),i=>ol(s=>{const a=e.map(d=>d.listeners.count),c=()=>{a.every(d=>d===0)&&e.every(d=>d.result.state.current._tag==="Pending"?!0:!!(d.result.state.current._tag==="Done"&&a_(d.result.state.current.effect)&&d.result.state.current.effect._tag==="Failure"&&D6(d.result.state.current.effect.cause)))&&(l.forEach(d=>d()),n==null||n(),s(vK(i)))};i.addObserver(d=>{l.forEach(h=>h()),s(d)});const l=e.map((d,h)=>{const g=y=>{a[h]=y,c()};return d.listeners.addObserver(g),()=>d.listeners.removeObserver(g)});return c(),wt(()=>{l.forEach(d=>d())})})),()=>qe(()=>{const i=e.flatMap(s=>s.state.completed?[]:[s]);return dp(i,s=>sV(s.request,HK(r)))}))),FV=B6,BV=Fu,jV=DK,DV=vp,UV=y4,zV=t=>e=>{const n=e===void 0?Object.create(Il):UV(e);return n._tag=t,n},WV=()=>new Proxy({},{get(t,e,n){return e==="$is"?g0:e==="$match"?KV:zV(e)}});function KV(){if(arguments.length===1){const n=arguments[0];return function(r){return n[r._tag](r)}}const t=arguments[0];return arguments[1][t._tag](t)}const qV=function(){const t=Symbol.for("effect/Data/Error/plainArgs");return class extends s_{constructor(n){super(n==null?void 0:n.message,n!=null&&n.cause?{cause:n.cause}:void 0),n&&(Object.assign(this,n),Object.defineProperty(this,t,{value:n,enumerable:!1}))}toJSON(){return{...this[t],...this}}}}(),VV=t=>{class e extends qV{constructor(){super(...arguments);_(this,"_tag",t)}}return e.prototype.name=t,e},h$=t=>(e,n)=>{const r=ck(),i=[[zl,[[r,t.context]]]];n!=null&&n.scheduler&&i.push([UI,[[r,n.scheduler]]]);let s=g8(t.fiberRefs,{entries:i,forkAs:r});n!=null&&n.updateRefs&&(s=n.updateRefs(s,r));const a=new l$(r,s,t.runtimeFlags);let c=e;n!=null&&n.scope&&(c=St(DV(n.scope,kI),d=>gp(jK(d,zk(h=>At(h,a.id())?bi:Jk(a,h))),e_(e,h=>jV(d,h)))));const l=a.currentSupervisor;return l!==Ep&&(l.onStart(t.context,c,ut(),a),a.addObserver(d=>l.onEnd(d,a))),w_.add(t.runtimeFlags,a),(n==null?void 0:n.immediate)===!1?a.resume(c):a.start(c),a},HV=t=>e=>{const n=ZV(t)(e);if(n._tag==="Failure")throw XV(n.effect_instruction_i0);return n.effect_instruction_i0};class GV extends Error{constructor(n){super(`Fiber #${n.id().id} cannot be resolved synchronously. This is caused by using runSync on an effect that performs async work`);_(this,"fiber");_(this,"_tag","AsyncFiberException");this.fiber=n,this.name=this._tag,this.stack=this.message}}const JV=t=>{const e=Error.stackTraceLimit;Error.stackTraceLimit=0;const n=new GV(t);return Error.stackTraceLimit=e,n},ty=Symbol.for("effect/Runtime/FiberFailure"),id=Symbol.for("effect/Runtime/FiberFailure/Cause");var sO,aO;class YV extends Error{constructor(n){const r=Mk(n)[0];super((r==null?void 0:r.message)||"An error has occurred");_(this,aO);_(this,sO);this[ty]=ty,this[id]=n,this.name=r?`(FiberFailure) ${r.name}`:"FiberFailure",r!=null&&r.stack&&(this.stack=r.stack)}toJSON(){return{_id:"FiberFailure",cause:this[id].toJSON()}}toString(){return"(FiberFailure) "+Fu(this[id],{renderErrorCause:!0})}[(aO=ty,sO=id,_e)](){return this.toString()}}const XV=t=>{const e=Error.stackTraceLimit;Error.stackTraceLimit=0;const n=new YV(t);return Error.stackTraceLimit=e,n},QV=t=>{const e=t;switch(e._op){case"Failure":case"Success":return e;case"Left":return DE(e.left);case"Right":return Le(e.right);case"Some":return Le(e.value);case"None":return DE(eI())}},ZV=t=>e=>{const n=QV(e);if(n)return n;const r=new DI,i=h$(t)(e,{scheduler:r});r.flush();const s=i.unsafePoll();return s||VK(Q0(JV(i),u_(i)))};class tH{constructor(e,n,r){_(this,"context");_(this,"runtimeFlags");_(this,"fiberRefs");this.context=e,this.runtimeFlags=n,this.fiberRefs=r}pipe(){return _t(this,arguments)}}const eH=t=>new tH(t.context,t.runtimeFlags,t.fiberRefs),nH=xk(Mu,wk,Sk),p$=eH({context:N0(),runtimeFlags:nH,fiberRefs:m8()}),rH=h$(p$),iH=HV(p$),oH=fp,Vc=kV,od=qe,Dr=bi,sH=uv,Iv=er,aH=t_,uH=hp,Ma=ch,$i=St,cH=rH,g$=iH;class Cn{constructor(e,n,r){_(this,"path");_(this,"actual");_(this,"issue");_(this,"_tag","Pointer");this.path=e,this.actual=n,this.issue=r}}class yx{constructor(e,n){_(this,"actual");_(this,"message");_(this,"_tag","Unexpected");this.actual=e,this.message=n}}class Oc{constructor(e,n){_(this,"ast");_(this,"message");_(this,"_tag","Missing");_(this,"actual");this.ast=e,this.message=n}}class ke{constructor(e,n,r,i){_(this,"ast");_(this,"actual");_(this,"issues");_(this,"output");_(this,"_tag","Composite");this.ast=e,this.actual=n,this.issues=r,this.output=i}}class ey{constructor(e,n,r,i){_(this,"ast");_(this,"actual");_(this,"kind");_(this,"issue");_(this,"_tag","Refinement");this.ast=e,this.actual=n,this.kind=r,this.issue=i}}class ny{constructor(e,n,r,i){_(this,"ast");_(this,"actual");_(this,"kind");_(this,"issue");_(this,"_tag","Transformation");this.ast=e,this.actual=n,this.kind=r,this.issue=i}}class Bi{constructor(e,n,r){_(this,"ast");_(this,"actual");_(this,"message");_(this,"_tag","Type");this.ast=e,this.actual=n,this.message=r}}class vx{constructor(e,n,r){_(this,"ast");_(this,"actual");_(this,"message");_(this,"_tag","Forbidden");this.ast=e,this.actual=n,this.message=r}}const _x=Symbol.for("effect/Schema/ParseErrorTypeId");var uO;class lH extends VV("ParseError"){constructor(){super(...arguments);_(this,uO,_x)}get message(){return this.toString()}toString(){return Md.formatIssueSync(this.issue)}toJSON(){return{_id:"ParseError",message:this.toString()}}[(uO=_x,_e)](){return this.toJSON()}}const O_=t=>new lH({issue:t}),bh=Et,m$=vt,bx=M3,In=N3,gi=L(2,(t,e)=>In(t)?$u(t,{onLeft:vt,onRight:e}):$i(t,e)),hr=L(2,(t,e)=>In(t)?F3(t,e):Iv(t,e)),ry=L(2,(t,e)=>In(t)?C0(t,e):uH(t,e)),fH=L(2,(t,e)=>In(t)?L3(t,{onLeft:e.onFailure,onRight:e.onSuccess}):aH(t,e)),y$=L(2,(t,e)=>In(t)?$u(t,{onLeft:e,onRight:Et}):sH(t,e)),A_=(t,e)=>e===void 0||Ks(e)?t:t===void 0?e:{...t,...e},xp=(t,e,n)=>{const r=fn(t,e);return(i,s)=>r(i,A_(n,s))},dH=(t,e,n)=>{const r=xp(t,e,n);return(i,s)=>LO(r(i,s),O_)},hH=(t,e,n)=>{const r=xp(t,e,n);return(i,s)=>z3(r(i,s))},v$=(t,e,n)=>{const r=fn(t,e);return(i,s)=>r(i,{...A_(n,s),isEffectAllowed:!0})},pH=(t,e)=>xp(t.ast,!0,e),gH=(t,e)=>v$(t.ast,!0,e),mH=(t,e)=>hH(t.ast,!1,e),yH=(t,e)=>xp(t.ast,!1,e),vH=(t,e)=>v$(t.ast,!1,e),_H=(t,e)=>dH(tn(t.ast),!0,e),bH=mH,SH=jt(Symbol.for("effect/ParseResult/decodeMemoMap"),()=>new WeakMap),wH=jt(Symbol.for("effect/ParseResult/encodeMemoMap"),()=>new WeakMap),fn=(t,e)=>{const n=e?SH:wH,r=n.get(t);if(r)return r;const i=EH(t,e),s=NU(t),a=Nn(s)?(d,h)=>i(d,A_(h,s.value)):i,c=LU(t),l=e&&Nn(c)?(d,h)=>Mc(y$(a(d,h),c.value),t,d,h):a;return n.set(t,l),l},iy=t=>li(RU(t)),oy=t=>li(PU(t)),EH=(t,e)=>{switch(t._tag){case"Refinement":if(e){const n=fn(t.from,!0);return(r,i)=>{i=i??Km;const s=(i==null?void 0:i.errors)==="all",a=gi(y$(n(r,i),c=>{const l=new ey(t,r,"From",c);return s&&BU(t)&&w$(c)?$e(t.filter(r,i,t),{onNone:()=>vt(l),onSome:d=>vt(new ke(t,r,[l,new ey(t,r,"Predicate",d)]))}):vt(l)}),c=>$e(t.filter(c,i,t),{onNone:()=>Et(c),onSome:l=>vt(new ey(t,r,"Predicate",l))}));return Mc(a,t,r,i)}}else{const n=fn(tn(t),!0),r=fn(_$(t.from),!1);return(i,s)=>Mc(gi(n(i,s),a=>r(a,s)),t,i,s)}case"Transformation":{const n=TH(t.transformation,e),r=e?fn(t.from,!0):fn(t.to,!1),i=e?fn(t.to,!0):fn(t.from,!1);return(s,a)=>Mc(gi(ry(r(s,a),c=>new ny(t,s,e?"Encoded":"Type",c)),c=>gi(ry(n(c,a??Km,t,s),l=>new ny(t,s,"Transformation",l)),l=>ry(i(l,a),d=>new ny(t,s,e?"Type":"Encoded",d)))),t,s,a)}case"Declaration":{const n=e?t.decodeUnknown(...t.typeParameters):t.encodeUnknown(...t.typeParameters);return(r,i)=>Mc(n(r,i??Km,t),t,r,i)}case"Literal":return dr(t,n=>n===t.literal);case"UniqueSymbol":return dr(t,n=>n===t.symbol);case"UndefinedKeyword":return dr(t,XD);case"NeverKeyword":return dr(t,QD);case"UnknownKeyword":case"AnyKeyword":case"VoidKeyword":return Et;case"StringKeyword":return dr(t,Hi);case"NumberKeyword":return dr(t,Ks);case"BooleanKeyword":return dr(t,h0);case"BigIntKeyword":return dr(t,Kh);case"SymbolKeyword":return dr(t,Dy);case"ObjectKeyword":return dr(t,ds);case"Enums":return dr(t,n=>t.enums.some(([r,i])=>i===n));case"TemplateLiteral":{const n=mz(t);return dr(t,r=>Hi(r)&&n.test(r))}case"TupleType":{const n=t.elements.map(d=>fn(d.type,e)),r=t.rest.map(d=>fn(d.type,e));let i=t.elements.filter(d=>!d.isOptional);t.rest.length>0&&(i=i.concat(t.rest.slice(1)));const s=i.length,a=t.elements.length>0?t.elements.map((d,h)=>h).join(" | "):"never",c=iy(t),l=oy(t);return(d,h)=>{if(!nU(d))return vt(new Bi(t,d));const g=(h==null?void 0:h.errors)==="all",y=[];let v=0;const S=[],x=d.length;for(let P=x;P<=s-1;P++){const $=new Cn(P,d,new Oc(i[P-x]));if(g){y.push([v++,$]);continue}else return vt(new ke(t,d,$,S))}if(t.rest.length===0)for(let P=t.elements.length;P<=x-1;P++){const $=new Cn(P,d,new yx(d[P],`is unexpected, expected: ${a}`));if(g){y.push([v++,$]);continue}else return vt(new ke(t,d,$,S))}let T=0,O;for(;T<n.length;T++)if(x<T+1){if(t.elements[T].isOptional)continue}else{const P=n[T],$=P(d[T],h);if(In($)){if(Ze($)){const j=new Cn(T,d,$.left);if(g){y.push([v++,j]);continue}else return vt(new ke(t,d,j,ui(S)))}S.push([v++,$.right])}else{const j=v++,B=T;O||(O=[]),O.push(({es:k,output:U})=>$i(Ma($),K=>{if(Ze(K)){const b=new Cn(B,d,K.left);return g?(k.push([j,b]),Dr):vt(new ke(t,d,b,ui(U)))}return U.push([j,K.right]),Dr}))}}if(nn(r)){const[P,...$]=r;for(;T<x-$.length;T++){const j=P(d[T],h);if(In(j))if(Ze(j)){const B=new Cn(T,d,j.left);if(g){y.push([v++,B]);continue}else return vt(new ke(t,d,B,ui(S)))}else S.push([v++,j.right]);else{const B=v++,k=T;O||(O=[]),O.push(({es:U,output:K})=>$i(Ma(j),b=>{if(Ze(b)){const M=new Cn(k,d,b.left);return g?(U.push([B,M]),Dr):vt(new ke(t,d,M,ui(K)))}else return K.push([B,b.right]),Dr}))}}for(let j=0;j<$.length;j++)if(T+=j,!(x<T+1)){const B=$[j](d[T],h);if(In(B)){if(Ze(B)){const k=new Cn(T,d,B.left);if(g){y.push([v++,k]);continue}else return vt(new ke(t,d,k,ui(S)))}S.push([v++,B.right])}else{const k=v++,U=T;O||(O=[]),O.push(({es:K,output:b})=>$i(Ma(B),M=>{if(Ze(M)){const D=new Cn(U,d,M.left);return g?(K.push([k,D]),Dr):vt(new ke(t,d,D,ui(b)))}return b.push([k,M.right]),Dr}))}}}const N=({es:P,output:$})=>Cd(P)?vt(new ke(t,d,ui(P),ui($))):Et(ui($));if(O&&O.length>0){const P=O;return od(()=>{const $={es:Rc(y),output:Rc(S)};return $i(Vc(P,j=>j($),{concurrency:c,batching:l,discard:!0}),()=>N($))})}return N({output:S,es:y})}}case"TypeLiteral":{if(t.propertySignatures.length===0&&t.indexSignatures.length===0)return dr(t,ZD);const n=[],r={},i=[];for(const h of t.propertySignatures)n.push([fn(h.type,e),h]),r[h.name]=null,i.push(h.name);const s=t.indexSignatures.map(h=>[fn(h.parameter,e),fn(h.type,e),h.parameter]),a=Mi.make(t.indexSignatures.map(h=>h.parameter).concat(i.map(h=>Dy(h)?new zU(h):new Wy(h)))),c=fn(a,e),l=iy(t),d=oy(t);return(h,g)=>{if(!e3(h))return vt(new Bi(t,h));const y=(g==null?void 0:g.errors)==="all",v=[];let S=0;const x=(g==null?void 0:g.onExcessProperty)==="error",T=(g==null?void 0:g.onExcessProperty)==="preserve",O={};let N;if(x||T){N=Va(h);for(const B of N){const k=c(B,g);if(In(k)&&Ze(k))if(x){const U=new Cn(B,h,new yx(h[B],`is unexpected, expected: ${String(a)}`));if(y){v.push([S++,U]);continue}else return vt(new ke(t,h,U,O))}else O[B]=h[B]}}let P;const $=(g==null?void 0:g.exact)===!0;for(let B=0;B<n.length;B++){const k=n[B][1],U=k.name,K=Object.prototype.hasOwnProperty.call(h,U);if(!K){if(k.isOptional)continue;if($){const D=new Cn(U,h,new Oc(k));if(y){v.push([S++,D]);continue}else return vt(new ke(t,h,D,O))}}const b=n[B][0],M=b(h[U],g);if(In(M)){if(Ze(M)){const D=new Cn(U,h,K?M.left:new Oc(k));if(y){v.push([S++,D]);continue}else return vt(new ke(t,h,D,O))}O[U]=M.right}else{const D=S++,X=U;P||(P=[]),P.push(({es:nt,output:mt})=>$i(Ma(M),gt=>{if(Ze(gt)){const it=new Cn(X,h,K?gt.left:new Oc(k));return y?(nt.push([D,it]),Dr):vt(new ke(t,h,it,mt))}return mt[X]=gt.right,Dr}))}}for(let B=0;B<s.length;B++){const k=s[B],U=k[0],K=k[1],b=YO(h,k[2]);for(const M of b){const D=U(M,g);if(In(D)&&yo(D)){const X=K(h[M],g);if(In(X))if(Ze(X)){const nt=new Cn(M,h,X.left);if(y){v.push([S++,nt]);continue}else return vt(new ke(t,h,nt,O))}else Object.prototype.hasOwnProperty.call(r,M)||(O[M]=X.right);else{const nt=S++,mt=M;P||(P=[]),P.push(({es:gt,output:it})=>$i(Ma(X),at=>{if(Ze(at)){const Nt=new Cn(mt,h,at.left);return y?(gt.push([nt,Nt]),Dr):vt(new ke(t,h,Nt,it))}else return Object.prototype.hasOwnProperty.call(r,M)||(it[M]=at.right),Dr}))}}}}const j=({es:B,output:k})=>{if(Cd(B))return vt(new ke(t,h,ui(B),k));if((g==null?void 0:g.propertyOrder)==="original"){const U=N||Va(h);for(const b of i)U.indexOf(b)===-1&&U.push(b);const K={};for(const b of U)Object.prototype.hasOwnProperty.call(k,b)&&(K[b]=k[b]);return Et(K)}return Et(k)};if(P&&P.length>0){const B=P;return od(()=>{const k={es:Rc(v),output:Object.assign({},O)};return $i(Vc(B,U=>U(k),{concurrency:l,batching:d,discard:!0}),()=>j(k))})}return j({es:v,output:O})}}case"Union":{const n=xH(t.types,e),r=Va(n.keys),i=r.length,s=t.types.length,a=new Map;for(let d=0;d<s;d++)a.set(t.types[d],fn(t.types[d],e));const c=iy(t)??1,l=oy(t);return(d,h)=>{const g=[];let y=0,v=[];if(i>0)if(p0(d))for(let T=0;T<i;T++){const O=r[T],N=n.keys[O].buckets;if(Object.prototype.hasOwnProperty.call(d,O)){const P=String(d[O]);if(Object.prototype.hasOwnProperty.call(N,P))v=v.concat(N[P]);else{const{candidates:$,literals:j}=n.keys[O],B=Mi.make(j),k=$.length===s?new js([new kn(O,B,!1,!0)],[]):Mi.make($);g.push([y++,new ke(k,d,new Cn(O,d,new Bi(B,d[O])))])}}else{const{candidates:P,literals:$}=n.keys[O],j=new kn(O,Mi.make($),!1,!0),B=P.length===s?new js([j],[]):Mi.make(P);g.push([y++,new ke(B,d,new Cn(O,d,new Oc(j)))])}}else{const T=n.candidates.length===s?t:Mi.make(n.candidates);g.push([y++,new Bi(T,d)])}n.otherwise.length>0&&(v=v.concat(n.otherwise));let S;for(let T=0;T<v.length;T++){const O=v[T],N=a.get(O)(d,h);if(In(N)&&(!S||S.length===0)){if(yo(N))return N;g.push([y++,N.left])}else{const P=y++;S||(S=[]),S.push($=>od(()=>"finalResult"in $?Dr:$i(Ma(N),j=>(yo(j)?$.finalResult=j:$.es.push([P,j.left]),Dr))))}}const x=T=>Cd(T)?T.length===1&&T[0][1]._tag==="Type"?vt(T[0][1]):vt(new ke(t,d,ui(T))):vt(new Bi(t,d));if(S&&S.length>0){const T=S;return od(()=>{const O={es:Rc(g)};return $i(Vc(T,N=>N(O),{concurrency:c,batching:l,discard:!0}),()=>"finalResult"in O?O.finalResult:x(O.es))})}return x(g)}}case"Suspend":{const n=XO(()=>fn(iu(t.f(),t.annotations),e));return(r,i)=>n()(r,i)}}},dr=(t,e)=>n=>e(n)?Et(n):vt(new Bi(t,n)),Pc=(t,e)=>{switch(t._tag){case"Declaration":{const n=gA(t);if(Nn(n))return Pc(n.value,e);break}case"TypeLiteral":{const n=[];for(let r=0;r<t.propertySignatures.length;r++){const i=t.propertySignatures[r],s=e?gE(i.type):tn(i.type);dE(s)&&!i.isOptional&&n.push([i.name,s])}return n}case"TupleType":{const n=[];for(let r=0;r<t.elements.length;r++){const i=t.elements[r],s=e?gE(i.type):tn(i.type);dE(s)&&!i.isOptional&&n.push([r,s])}return n}case"Refinement":return Pc(t.from,e);case"Suspend":return Pc(t.f(),e);case"Transformation":return Pc(e?t.from:t.to,e)}return[]},xH=(t,e)=>{const n={},r=[],i=[];for(let s=0;s<t.length;s++){const a=t[s],c=Pc(a,e);if(c.length>0){i.push(a);for(let l=0;l<c.length;l++){const[d,h]=c[l],g=String(h.literal);n[d]=n[d]||{buckets:{},literals:[],candidates:[]};const y=n[d].buckets;if(Object.prototype.hasOwnProperty.call(y,g)){if(l<c.length-1)continue;y[g].push(a),n[d].literals.push(h),n[d].candidates.push(a)}else{y[g]=[a],n[d].literals.push(h),n[d].candidates.push(a);break}}}else r.push(a)}return{keys:n,otherwise:r,candidates:i}},_$=t=>R0(t)?_$(t.from):t,Mc=(t,e,n,r)=>{if((r==null?void 0:r.isEffectAllowed)===!0||In(t))return t;const i=new DI,s=cH(t,{scheduler:i});i.flush();const a=s.unsafePoll();if(a){if(nq(a))return Et(a.value);const c=a.cause;return FV(c)?vt(c.error):vt(new vx(e,n,BV(c)))}return vt(new vx(e,n,"cannot be be resolved synchronously, this is caused by using runSync on an effect that performs async work"))},CH=([t],[e])=>t>e?1:t<e?-1:0;function ui(t){return t.sort(CH).map(e=>e[1])}const TH=(t,e)=>{switch(t._tag){case"FinalTransformation":return e?t.decode:t.encode;case"ComposeTransformation":return Et;case"TypeLiteralTransformation":return n=>{let r=Et(n);for(const i of t.propertySignatureTransformations){const[s,a]=e?[i.from,i.to]:[i.to,i.from],c=e?i.decode:i.encode;r=hr(r,d=>{const h=c(Object.prototype.hasOwnProperty.call(d,s)?$t(d[s]):ut());return delete d[s],Nn(h)&&(d[a]=h.value),d})}return r}}},zn=(t,e=[])=>({value:t,forest:e}),Md={formatIssue:t=>hr(Ua(t),OH),formatIssueSync:t=>{const e=Md.formatIssue(t);return In(e)?FO(e):g$(e)},formatError:t=>Md.formatIssue(t.issue),formatErrorSync:t=>Md.formatIssueSync(t.issue)},OH=t=>t.value+b$(`
`,t.forest),b$=(t,e)=>{let n="";const r=e.length;let i;for(let s=0;s<r;s++){i=e[s];const a=s===r-1;n+=t+(a?"└":"├")+"─ "+i.value,n+=b$(t+(r>1&&!a?"│  ":"   "),i.forest)}return n},AH=t=>{switch(t){case"Encoded":return"Encoded side transformation failure";case"Transformation":return"Transformation process failure";case"Type":return"Type side transformation failure"}},kH=t=>{switch(t){case"From":return"From side refinement failure";case"Predicate":return"Predicate refinement failure"}},S$=t=>"ast"in t?$t(t.ast):ut(),$v=Et(void 0),IH=t=>S$(t).pipe(is(IU),$e({onNone:()=>$v,onSome:e=>{const n=e(t);return Hi(n)?Et({message:n,override:!1}):oH(n)?Iv(n,r=>({message:r,override:!1})):Hi(n.message)?Et({message:n.message,override:n.override}):Iv(n.message,r=>({message:r,override:n.override}))}})),k_=t=>e=>e._tag===t,w$=k_("Composite"),Sx=k_("Refinement"),wx=k_("Transformation"),ns=t=>gi(IH(t),e=>e!==void 0?!e.override&&(w$(t)||Sx(t)&&t.kind==="From"||wx(t)&&t.kind!=="Transformation")?wx(t)||Sx(t)?ns(t.issue):$v:Et(e.message):$v),E$=t=>S$(t).pipe(is(MU),q3(e=>e(t)),li);function $H(t){return pA(t).pipe(es(()=>dA(t)),es(()=>hA(t)),es(()=>Jh(t)),Ce(()=>`{ ${t.from} | filter }`))}function RH(t){return t.message!==void 0?t.message:`Expected ${R0(t.ast)?$H(t.ast):String(t.ast)}, actual ${zi(t.actual)}`}const x$=t=>hr(ns(t),e=>e??E$(t)??RH(t)),sd=t=>E$(t)??String(t.ast),C$=t=>t.message??"is forbidden",T$=t=>t.message??"is unexpected",O$=t=>{const e=$U(t.ast);if(Nn(e)){const n=e.value();return Hi(n)?Et(n):n}return Et(t.message??"is missing")},Ua=t=>{switch(t._tag){case"Type":return hr(x$(t),zn);case"Forbidden":return Et(zn(sd(t),[zn(C$(t))]));case"Unexpected":return Et(zn(T$(t)));case"Missing":return hr(O$(t),zn);case"Transformation":return gi(ns(t),e=>e!==void 0?Et(zn(e)):hr(Ua(t.issue),n=>zn(sd(t),[zn(AH(t.kind),[n])])));case"Refinement":return gi(ns(t),e=>e!==void 0?Et(zn(e)):hr(Ua(t.issue),n=>zn(sd(t),[zn(kH(t.kind),[n])])));case"Pointer":return hr(Ua(t.issue),e=>zn(_U(t.path),[e]));case"Composite":return gi(ns(t),e=>{if(e!==void 0)return Et(zn(e));const n=sd(t);return O0(t.issues)?hr(Vc(t.issues,Ua),r=>zn(n,r)):hr(Ua(t.issues),r=>zn(n,[r]))})}},Os=(t,e,n)=>({_tag:t,path:e,message:n}),Nd={formatIssue:t=>za(t,void 0,[]),formatIssueSync:t=>{const e=Nd.formatIssue(t);return In(e)?FO(e):g$(e)},formatError:t=>Nd.formatIssue(t.issue),formatErrorSync:t=>Nd.formatIssueSync(t.issue)},za=(t,e,n)=>{const r=t._tag;switch(r){case"Type":return hr(x$(t),i=>[Os(e??r,n,i)]);case"Forbidden":return Et([Os(r,n,C$(t))]);case"Unexpected":return Et([Os(r,n,T$(t))]);case"Missing":return hr(O$(t),i=>[Os(r,n,i)]);case"Pointer":return za(t.issue,void 0,n.concat(t.path));case"Composite":return gi(ns(t),i=>i!==void 0?Et([Os(r,n,i)]):O0(t.issues)?hr(Vc(t.issues,s=>za(s,void 0,n)),HO):za(t.issues,void 0,n));case"Refinement":return gi(ns(t),i=>i!==void 0?Et([Os(r,n,i)]):za(t.issue,t.kind==="Predicate"?r:void 0,n));case"Transformation":return gi(ns(t),i=>i!==void 0?Et([Os(r,n,i)]):za(t.issue,t.kind==="Transformation"?r:void 0,n))}},PH=L(t=>ds(t[0]),(t,...e)=>{const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}),MH=L(t=>ds(t[0]),(t,...e)=>{const n={...t};for(const r of e)delete n[r];return n}),al=Symbol.for("effect/Schema");function vn(t){var e,n,r;return n=al,e=al,r=class{constructor(){_(this,n,Ex)}static annotations(s){return vn(hs(this.ast,s))}static pipe(){return _t(this,arguments)}static toString(){return String(t)}},_(r,"ast",t),_(r,"Type"),_(r,"Encoded"),_(r,"Context"),_(r,e,Ex),r}const Ex={_A:t=>t,_I:t=>t,_R:t=>t},xx={schemaId:TU,message:QO,missingMessage:A0,identifier:ZO,title:ko,description:Rl,examples:tA,default:eA,documentation:OU,jsonSchema:nA,arbitrary:rA,pretty:iA,equivalence:oA,concurrency:sA,batching:aA,parseIssueTitle:uA,parseOptions:cA,decodingFallback:lA},Gl=t=>{if(!t)return{};const e={...t};for(const n in xx)if(n in t){const r=xx[n];e[r]=t[n],delete e[n]}return e},hs=(t,e)=>iu(t,Gl(e));const I_=t=>String(t.ast),NH=t=>vn(tn(t.ast)),LH=(t,e)=>{const n=yH(t,e);return(r,i)=>C0(n(r,i),O_)},FH=LH,$_=(t,e)=>{const n=pH(t,e);return(r,i)=>C0(n(r,i),O_)},as=t=>Ct(t,al)&&ds(t[al]);function BH(t){return $0(t)?Mi.make(sz(t,e=>new Wy(e))):new Wy(t[0])}function A$(t,e=BH(t)){var n;return n=class extends vn(e){static annotations(i){return A$(this.literals,hs(this.ast,i))}},_(n,"literals",[...t]),n}function Je(...t){return nn(t)?A$(t):k$}const jH=(t,e,n)=>R_(t,new Yh(t.map(r=>r.ast),(...r)=>e.decode(...r.map(vn)),(...r)=>e.encode(...r.map(vn)),Gl(n))),DH=(t,e)=>{const n=()=>(i,s,a)=>t(i)?bh(i):m$(new Bi(a,i)),r=n;return R_([],new Yh([],n,r,Gl(e)))};function R_(t,e){var n;return n=class extends vn(e){static annotations(i){return R_(this.typeParameters,hs(this.ast,i))}},_(n,"typeParameters",[...t]),n}const UH=function(){if(Array.isArray(arguments[0])){const n=arguments[0],r=arguments[1],i=arguments[2];return jH(n,r,i)}const t=arguments[0],e=arguments[1];return DH(t,e)};class zH extends vn(Ky){}class k$ extends vn(k0){}class WH extends vn(yA){}class P_ extends vn(vA){}class re extends vn(GU){}class De extends vn(XU){}class Cp extends vn(ZU){}const KH=t=>Mi.make(t.map(e=>e.ast));function I$(t,e=KH(t)){var n;return n=class extends vn(e){static annotations(i){return I$(this.members,hs(this.ast,i))}},_(n,"members",[...t]),n}function $o(...t){return $0(t)?I$(t):nn(t)?t[0]:k$}const qH=t=>$o(t,zH),VH=(t,e)=>new I0(t.map(n=>as(n)?new ra(n.ast,!1):n.ast),e.map(n=>as(n)?new Xh(n.ast):n.ast),!0);function $$(t,e,n=VH(t,e)){var r;return r=class extends vn(n){static annotations(s){return $$(this.elements,this.rest,hs(this.ast,s))}},_(r,"elements",[...t]),_(r,"rest",[...e]),r}function R$(t,e){var n;return n=class extends $$([],[t],e){static annotations(i){return R$(this.value,hs(this.ast,i))}},_(n,"value",t),n}const Ji=t=>R$(t),Rv=t=>t?'"?:"':'":"';class Tp extends ra{constructor(n,r,i,s,a){super(n,r,s);_(this,"isReadonly");_(this,"defaultValue");_(this,"_tag","PropertySignatureDeclaration");this.isReadonly=i,this.defaultValue=a}toString(){const n=Rv(this.isOptional),r=String(this.type);return`PropertySignature<${n}, ${r}, never, ${n}, ${r}>`}}class HH extends ra{constructor(n,r,i,s,a){super(n,r,s);_(this,"isReadonly");_(this,"fromKey");this.isReadonly=i,this.fromKey=a}}class P$ extends ra{constructor(n,r,i,s,a){super(n,r,s);_(this,"isReadonly");_(this,"defaultValue");this.isReadonly=i,this.defaultValue=a}}const GH=t=>t===void 0?"never":Hi(t)?JSON.stringify(t):String(t);class M${constructor(e,n,r,i){_(this,"from");_(this,"to");_(this,"decode");_(this,"encode");_(this,"_tag","PropertySignatureTransformation");this.from=e,this.to=n,this.decode=r,this.encode=i}toString(){return`PropertySignature<${Rv(this.to.isOptional)}, ${this.to.type}, ${GH(this.from.fromKey)}, ${Rv(this.from.isOptional)}, ${this.from.type}>`}}const N$=(t,e)=>{switch(t._tag){case"PropertySignatureDeclaration":return new Tp(t.type,t.isOptional,t.isReadonly,{...t.annotations,...e},t.defaultValue);case"PropertySignatureTransformation":return new M$(new HH(t.from.type,t.from.isOptional,t.from.isReadonly,t.from.annotations),new P$(t.to.type,t.to.isOptional,t.to.isReadonly,{...t.to.annotations,...e},t.to.defaultValue),t.decode,t.encode)}},L$=Symbol.for("effect/PropertySignature"),F$=t=>Ct(t,L$);var cO,lO;lO=al,cO=L$;const _S=class _S{constructor(e){_(this,"ast");_(this,lO);_(this,cO,null);_(this,"_TypeToken");_(this,"_Key");_(this,"_EncodedToken");_(this,"_HasDefault");this.ast=e}pipe(){return _t(this,arguments)}annotations(e){return new _S(N$(this.ast,Gl(e)))}toString(){return String(this.ast)}};let Sh=_S;const Cx=t=>new Sh(t);class Op extends Sh{constructor(n,r){super(n);_(this,"from");this.from=r}annotations(n){return new Op(N$(this.ast,Gl(n)),this.from)}}const JH=t=>new Op(new Tp(t.ast,!1,!0,{},void 0),t),YH=L(2,(t,e)=>{const n=t.ast;switch(n._tag){case"PropertySignatureDeclaration":return Cx(new Tp(n.type,n.isOptional,n.isReadonly,n.annotations,e));case"PropertySignatureTransformation":return Cx(new M$(n.from,new P$(n.to.type,n.to.isOptional,n.to.isReadonly,n.to.annotations,e),n.decode,n.encode))}}),$n=t=>{const e=t.ast===Ky||t.ast===k0?Ky:qH(t).ast;return new Op(new Tp(e,!0,!0,{},void 0),t)},XH=TA([A0]),QH=(t,e)=>{const n=Va(t),r=[];if(n.length>0){const s=[],a=[],c=[];for(let l=0;l<n.length;l++){const d=n[l],h=t[d];if(F$(h)){const g=h.ast;switch(g._tag){case"PropertySignatureDeclaration":{const y=g.type,v=g.isOptional,S=g.annotations;s.push(new kn(d,y,v,!0,XH(g))),a.push(new kn(d,tn(y),v,!0,S)),r.push(new kn(d,y,v,!0,S));break}case"PropertySignatureTransformation":{const y=g.from.fromKey??d;s.push(new kn(y,g.from.type,g.from.isOptional,!0,g.from.annotations)),a.push(new kn(d,g.to.type,g.to.isOptional,!0,g.to.annotations)),c.push(new fz(y,d,g.decode,g.encode));break}}}else s.push(new kn(d,h.ast,!1,!0)),a.push(new kn(d,tn(h.ast),!1,!0)),r.push(new kn(d,h.ast,!1,!0))}if(nn(c)){const l=[],d=[];for(const h of e){const{indexSignatures:g,propertySignatures:y}=pE(h.key.ast,h.value.ast);y.forEach(v=>{s.push(v),a.push(new kn(v.name,tn(v.type),v.isOptional,v.isReadonly,v.annotations))}),g.forEach(v=>{l.push(v),d.push(new Qh(v.parameter,tn(v.type),v.isReadonly))})}return new P0(new js(s,l,{[zy]:"Struct (Encoded side)"}),new js(a,d,{[zy]:"Struct (Type side)"}),new dz(c))}}const i=[];for(const s of e){const{indexSignatures:a,propertySignatures:c}=pE(s.key.ast,s.value.ast);c.forEach(l=>r.push(l)),a.forEach(l=>i.push(l))}return new js(r,i)},ZH=(t,e)=>{const n=Va(t);for(const r of n){const i=t[r];if(e[r]===void 0&&F$(i)){const s=i.ast,a=s._tag==="PropertySignatureDeclaration"?s.defaultValue:s.to.defaultValue;a!==void 0&&(e[r]=a())}}return e};function B$(t,e,n=QH(t,e)){var r;return r=class extends vn(n){static annotations(s){return B$(this.fields,this.records,hs(this.ast,s))}static pick(...s){return st(PH(t,...s))}static omit(...s){return st(MH(t,...s))}},_(r,"fields",{...t}),_(r,"records",[...e]),_(r,"make",(s,a)=>{const c=ZH(t,{...s});return dG(a)?c:_H(r)(c)}),r}function st(t,...e){return B$(t,e)}const tG=t=>Je(t).pipe(JH,YH(()=>t)),Pn=(t,e)=>st({_tag:tG(t),...e}),eG=L(t=>as(t[1]),(t,e)=>M_(t,e,vz(t.ast,e.ast)));function M_(t,e,n){var r;return r=class extends vn(n){static annotations(s){return M_(this.from,this.to,hs(this.ast,s))}},_(r,"from",t),_(r,"to",e),r}const j$=L(t=>as(t[0])&&as(t[1]),(t,e,n)=>M_(t,e,new P0(t.ast,e.ast,new uz(n.decode,n.encode)))),D$=L(t=>as(t[0])&&as(t[1]),(t,e,n)=>j$(t,e,{strict:!0,decode:(r,i,s,a)=>bh(n.decode(r,a)),encode:(r,i,s,a)=>bh(n.encode(r,a))})),Tx=t=>t instanceof Error?t.message:String(t),nG=t=>j$(re.annotations({description:"a string to be decoded into JSON"}),WH,{strict:!0,decode:(e,n,r)=>bx({try:()=>JSON.parse(e,t==null?void 0:t.reviver),catch:i=>new Bi(r,e,Tx(i))}),encode:(e,n,r)=>bx({try:()=>JSON.stringify(e,t==null?void 0:t.replacer,t==null?void 0:t.space),catch:i=>new Bi(r,e,Tx(i))})}).annotations({title:"parseJson",schemaId:UU}),N_=(t,e)=>as(t)?eG(N_(e),t):nG(t),rG=(t,e,n,r)=>fH(t,{onFailure:i=>new ke(n,r,i),onSuccess:e}),iG=st({_tag:Je("None")}).annotations({description:"NoneEncoded"}),oG=t=>st({_tag:Je("Some"),value:t}).annotations({description:`SomeEncoded<${I_(t)}>`}),sG=t=>$o(iG,oG(t)).annotations({description:`OptionEncoded<${I_(t)}>`}),U$=t=>t._tag==="None"?ut():$t(t.value),aG=(t,e)=>n=>n.oneof(e,n.record({_tag:n.constant("None")}),n.record({_tag:n.constant("Some"),value:t(n)})).map(U$),uG=t=>$e({onNone:()=>"none()",onSome:e=>`some(${t(e)})`}),Ox=t=>(e,n,r)=>U3(e)?Ie(e)?bh(ut()):rG(t(e.value,n),$t,r,e):m$(new Bi(r,e)),cG=t=>UH([t],{decode:e=>Ox(gH(e)),encode:e=>Ox(vH(e))},{description:`Option<${I_(t)}>`,pretty:uG,arbitrary:aG,equivalence:V3}),lG={_tag:"None"},fG=t=>({_tag:"Some",value:t});function Ax(t){const e=t;return D$(sG(e),cG(NH(e)),{strict:!0,decode:r=>U$(r),encode:r=>$e(r,{onNone:()=>lG,onSome:fG})})}function dG(t){return h0(t)?t:(t==null?void 0:t.disableValidation)??!1}const hG=st({widgets:Ji(P_)}),pG={Schema:hG},ln=[];for(let t=0;t<256;++t)ln.push((t+256).toString(16).slice(1));function gG(t,e=0){return(ln[t[e+0]]+ln[t[e+1]]+ln[t[e+2]]+ln[t[e+3]]+"-"+ln[t[e+4]]+ln[t[e+5]]+"-"+ln[t[e+6]]+ln[t[e+7]]+"-"+ln[t[e+8]]+ln[t[e+9]]+"-"+ln[t[e+10]]+ln[t[e+11]]+ln[t[e+12]]+ln[t[e+13]]+ln[t[e+14]]+ln[t[e+15]]).toLowerCase()}let sy;const mG=new Uint8Array(16);function yG(){if(!sy){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");sy=crypto.getRandomValues.bind(crypto)}return sy(mG)}const vG=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var kx={randomUUID:vG};function z$(t,e,n){var i;if(kx.randomUUID&&!t)return kx.randomUUID();t=t||{};const r=t.random??((i=t.rng)==null?void 0:i.call(t))??yG();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,gG(r)}const L_=t=>Nd.formatErrorSync(t).map(e=>`${e.path.join(".")} ${e.message}`).join(`
`),_G=t=>$u($_(t.schema,{errors:"all"})(t.raw),{onRight:t.ok,onLeft:e=>t.error(L_(e))}),bG=t=>$u($_(N_(t.schema),{errors:"all"})(t.str),{onRight:t.ok,onLeft:e=>t.error(L_(e))}),SG=(t,e)=>$u(FH(t)(e),{onRight:n=>JSON.stringify(n,null,2),onLeft:n=>(console.error("Error encoding",L_(n)),`Error encoding ${n}`)}),W$={decodeUnknown:_G,decodeString:bG,encode:SG},K$=Symbol.for("midi/structor/schema/form/annotation"),wG=t=>({[K$]:t}),EG=t=>t._tag==="PropertySignatureDeclaration"||t._tag==="PropertySignatureTransformation"?ut():Fn(K$)(t),q$={annotation:wG,getFormName:EG},aa=WV(),xG=$o(Pn("Note",{note:De}),Pn("CC",{controllerNumber:De}),Pn("PC",{programNumber:De})).annotations(q$.annotation("MidiTarget")),CG=({from:t,to:e})=>{const n=[];for(let r=t;r<=e;r++)n.push(F_(r));return n},TG=({from:t,to:e})=>{const n=[];for(let r=t;r<=e;r++)n.push(B_(r));return n},F_=t=>aa.Note({note:t}),B_=t=>aa.CC({controllerNumber:t}),OG=t=>aa.PC({programNumber:t}),AG=t=>aa.$match({Note:({note:e})=>`noteon-${e}`,CC:({controllerNumber:e})=>`cc-${e}`,PC:({programNumber:e})=>`pc-${e}`})(t),kG=(t,e)=>aa.$match({Note:({note:n})=>({type:"noteon",channel:1,note:n,velocity:e}),CC:({controllerNumber:n})=>({type:"cc",channel:1,controllerNumber:n,data:e}),PC:()=>({type:"pc",programNumber:e})})(t),IG=Array.from({length:127}).map((t,e)=>B_(e)),$G=Array.from({length:127}).map((t,e)=>F_(e)),RG=[...IG,...$G],PG=t=>aa.$match({Note:({note:e})=>e,CC:({controllerNumber:e})=>e,PC:({programNumber:e})=>e})(t),Hr={note:F_,notes:CG,cc:B_,ccs:TG,pc:OG,toKey:AG,toMessage:kG,toValue:PG,allTargets:RG,match:aa.$match,Schema:xG},MG=t=>t.flatMap(e=>e.targets()),NG=(t,e)=>{const n=MG(e),r={};n.forEach(s=>{const a=Hr.toKey(s),c=r[a];c===void 0?r[a]=1:r[a]=c+1});const i=[];return rt.forEach(r,(s,a)=>{s>1&&i.push(a)}),rt.isEmpty(i)?Et(t):vt(`Midi targets duplicated ${i}`)},LG=(t,e)=>{const n=e.widgets.resolve(t);return NG(t,n)},V$=t=>st({widgets:Ji(t.widgets.schema)}),FG=(t,e)=>W$.decodeString({schema:V$(e),str:t,ok:n=>LG(n,e),error:n=>vt(n)}),BG=(t,e)=>W$.encode(V$(e),t),jG=()=>({widgets:[]}),DG={empty:jG,parse:FG,stringify:BG},H$=st({id:re,name:re,enabled:Cp,config:pG.Schema,device:re,color:$n(re),selected:st({input:Ax(re),output:Ax(re)})}),UG=Ji(H$),zG=t=>({name:t,enabled:!0,config:DG.empty(),device:"Launchpad Mini [MK3]",selected:{input:ut(),output:ut()},id:z$()}),WG=t=>d0(`${t.id}:listener`),KG=t=>d0(`${t.id}:emitter`),G$={Schema:H$,SchemaArray:UG,defaultConfiguredController:zG,virtualListener:WG,virtualEmitter:KG},qG=st({label:re,key:re,abletonProject:$n(re),controllers:G$.SchemaArray,style:st({accent:st({color1:re,color2:re})})});st({active:re,projects:Ji(qG)});const VG=t=>Ao(rt.find(t.projects,e=>e.key===t.active)),J$={getActive:VG};function fi(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function bu(t){return!!t&&!!t[Er]}function Qs(t){var e;return!!t&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===tJ}(t)||Array.isArray(t)||!!t[Fx]||!!(!((e=t.constructor)===null||e===void 0)&&e[Fx])||j_(t)||D_(t))}function ul(t,e,n){n===void 0&&(n=!1),Du(t)===0?(n?Object.keys:q_)(t).forEach(function(r){n&&typeof r=="symbol"||e(r,t[r],t)}):t.forEach(function(r,i){return e(i,r,t)})}function Du(t){var e=t[Er];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:j_(t)?2:D_(t)?3:0}function Pv(t,e){return Du(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function HG(t,e){return Du(t)===2?t.get(e):t[e]}function Y$(t,e,n){var r=Du(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function GG(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function j_(t){return QG&&t instanceof Map}function D_(t){return ZG&&t instanceof Set}function $s(t){return t.o||t.t}function U_(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=eJ(t);delete e[Er];for(var n=q_(e),r=0;r<n.length;r++){var i=n[r],s=e[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(e[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),e)}function z_(t,e){return e===void 0&&(e=!1),W_(t)||bu(t)||!Qs(t)||(Du(t)>1&&(t.set=t.add=t.clear=t.delete=JG),Object.freeze(t),e&&ul(t,function(n,r){return z_(r,!0)},!0)),t}function JG(){fi(2)}function W_(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function Ki(t){var e=nJ[t];return e||fi(18,t),e}function Ix(){return cl}function ay(t,e){e&&(Ki("Patches"),t.u=[],t.s=[],t.v=e)}function wh(t){Mv(t),t.p.forEach(YG),t.p=null}function Mv(t){t===cl&&(cl=t.l)}function $x(t){return cl={p:[],l:cl,h:t,m:!0,_:0}}function YG(t){var e=t[Er];e.i===0||e.i===1?e.j():e.g=!0}function uy(t,e){e._=e.p.length;var n=e.p[0],r=t!==void 0&&t!==n;return e.h.O||Ki("ES5").S(e,t,r),r?(n[Er].P&&(wh(e),fi(4)),Qs(t)&&(t=Eh(e,t),e.l||xh(e,t)),e.u&&Ki("Patches").M(n[Er].t,t,e.u,e.s)):t=Eh(e,n,[]),wh(e),e.u&&e.v(e.u,e.s),t!==X$?t:void 0}function Eh(t,e,n){if(W_(e))return e;var r=e[Er];if(!r)return ul(e,function(c,l){return Rx(t,r,e,c,l,n)},!0),e;if(r.A!==t)return e;if(!r.P)return xh(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=U_(r.k):r.o,s=i,a=!1;r.i===3&&(s=new Set(i),i.clear(),a=!0),ul(s,function(c,l){return Rx(t,r,i,c,l,n,a)}),xh(t,i,!1),n&&t.u&&Ki("Patches").N(r,n,t.u,t.s)}return r.o}function Rx(t,e,n,r,i,s,a){if(bu(i)){var c=Eh(t,i,s&&e&&e.i!==3&&!Pv(e.R,r)?s.concat(r):void 0);if(Y$(n,r,c),!bu(c))return;t.m=!1}else a&&n.add(i);if(Qs(i)&&!W_(i)){if(!t.h.D&&t._<1)return;Eh(t,i),e&&e.A.l||xh(t,i)}}function xh(t,e,n){n===void 0&&(n=!1),!t.l&&t.h.D&&t.m&&z_(e,n)}function cy(t,e){var n=t[Er];return(n?$s(n):t)[e]}function Px(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function Nv(t){t.P||(t.P=!0,t.l&&Nv(t.l))}function ly(t){t.o||(t.o=U_(t.t))}function Lv(t,e,n){var r=j_(e)?Ki("MapSet").F(e,n):D_(e)?Ki("MapSet").T(e,n):t.O?function(i,s){var a=Array.isArray(i),c={i:a?1:0,A:s?s.A:Ix(),P:!1,I:!1,R:{},l:s,t:i,k:null,o:null,j:null,C:!1},l=c,d=Fv;a&&(l=[c],d=Nc);var h=Proxy.revocable(l,d),g=h.revoke,y=h.proxy;return c.k=y,c.j=g,y}(e,n):Ki("ES5").J(e,n);return(n?n.A:Ix()).p.push(r),r}function XG(t){return bu(t)||fi(22,t),function e(n){if(!Qs(n))return n;var r,i=n[Er],s=Du(n);if(i){if(!i.P&&(i.i<4||!Ki("ES5").K(i)))return i.t;i.I=!0,r=Mx(n,s),i.I=!1}else r=Mx(n,s);return ul(r,function(a,c){i&&HG(i.t,a)===c||Y$(r,a,e(c))}),s===3?new Set(r):r}(t)}function Mx(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return U_(t)}var Nx,cl,K_=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",QG=typeof Map<"u",ZG=typeof Set<"u",Lx=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",X$=K_?Symbol.for("immer-nothing"):((Nx={})["immer-nothing"]=!0,Nx),Fx=K_?Symbol.for("immer-draftable"):"__$immer_draftable",Er=K_?Symbol.for("immer-state"):"__$immer_state",tJ=""+Object.prototype.constructor,q_=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,eJ=Object.getOwnPropertyDescriptors||function(t){var e={};return q_(t).forEach(function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)}),e},nJ={},Fv={get:function(t,e){if(e===Er)return t;var n=$s(t);if(!Pv(n,e))return function(i,s,a){var c,l=Px(s,a);return l?"value"in l?l.value:(c=l.get)===null||c===void 0?void 0:c.call(i.k):void 0}(t,n,e);var r=n[e];return t.I||!Qs(r)?r:r===cy(t.t,e)?(ly(t),t.o[e]=Lv(t.A.h,r,t)):r},has:function(t,e){return e in $s(t)},ownKeys:function(t){return Reflect.ownKeys($s(t))},set:function(t,e,n){var r=Px($s(t),e);if(r!=null&&r.set)return r.set.call(t.k,n),!0;if(!t.P){var i=cy($s(t),e),s=i==null?void 0:i[Er];if(s&&s.t===n)return t.o[e]=n,t.R[e]=!1,!0;if(GG(n,i)&&(n!==void 0||Pv(t.t,e)))return!0;ly(t),Nv(t)}return t.o[e]===n&&(n!==void 0||e in t.o)||Number.isNaN(n)&&Number.isNaN(t.o[e])||(t.o[e]=n,t.R[e]=!0),!0},deleteProperty:function(t,e){return cy(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,ly(t),Nv(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=$s(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty:function(){fi(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){fi(12)}},Nc={};ul(Fv,function(t,e){Nc[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),Nc.deleteProperty=function(t,e){return Nc.set.call(this,t,e,void 0)},Nc.set=function(t,e,n){return Fv.set.call(this,t[0],e,n,t[0])};var rJ=function(){function t(n){var r=this;this.O=Lx,this.D=!0,this.produce=function(i,s,a){if(typeof i=="function"&&typeof s!="function"){var c=s;s=i;var l=r;return function(x){var T=this;x===void 0&&(x=c);for(var O=arguments.length,N=Array(O>1?O-1:0),P=1;P<O;P++)N[P-1]=arguments[P];return l.produce(x,function($){var j;return(j=s).call.apply(j,[T,$].concat(N))})}}var d;if(typeof s!="function"&&fi(6),a!==void 0&&typeof a!="function"&&fi(7),Qs(i)){var h=$x(r),g=Lv(r,i,void 0),y=!0;try{d=s(g),y=!1}finally{y?wh(h):Mv(h)}return typeof Promise<"u"&&d instanceof Promise?d.then(function(x){return ay(h,a),uy(x,h)},function(x){throw wh(h),x}):(ay(h,a),uy(d,h))}if(!i||typeof i!="object"){if((d=s(i))===void 0&&(d=i),d===X$&&(d=void 0),r.D&&z_(d,!0),a){var v=[],S=[];Ki("Patches").M(i,d,v,S),a(v,S)}return d}fi(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(d){for(var h=arguments.length,g=Array(h>1?h-1:0),y=1;y<h;y++)g[y-1]=arguments[y];return r.produceWithPatches(d,function(v){return i.apply(void 0,[v].concat(g))})};var a,c,l=r.produce(i,s,function(d,h){a=d,c=h});return typeof Promise<"u"&&l instanceof Promise?l.then(function(d){return[d,a,c]}):[l,a,c]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var e=t.prototype;return e.createDraft=function(n){Qs(n)||fi(8),bu(n)&&(n=XG(n));var r=$x(this),i=Lv(this,n,void 0);return i[Er].C=!0,Mv(r),i},e.finishDraft=function(n,r){var i=n&&n[Er],s=i.A;return ay(s,r),uy(void 0,s)},e.setAutoFreeze=function(n){this.D=n},e.setUseProxies=function(n){n&&!Lx&&fi(20),this.O=n},e.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var a=Ki("Patches").$;return bu(n)?a(n,r):this.produce(n,function(c){return a(c,r)})},t}(),xr=new rJ,V_=xr.produce;xr.produceWithPatches.bind(xr);xr.setAutoFreeze.bind(xr);xr.setUseProxies.bind(xr);xr.applyPatches.bind(xr);xr.createDraft.bind(xr);xr.finishDraft.bind(xr);const On=(t,e,n)=>16777216+(t<<16|e<<8|n<<0),iJ=["","0","00","000","0000","00000","000000"],H_=t=>{const e=t.toString(16);if(e.length>6)return e.substring(1,7);{const n=6-e.length;return iJ[n]+e}},oJ=t=>{const e=H_(t);return[parseInt(e.substring(0,2),16),parseInt(e.substring(2,4),16),parseInt(e.substring(4,6),16)]},Q$=t=>{const e=t.substring(0,2),n=t.substring(2,4),r=t.substring(4,6);return On(parseInt(e,16),parseInt(n,16),parseInt(r,16))},sJ=D$(re,De,{strict:!0,decode:Q$,encode:H_}).annotations(q$.annotation("Color")),tt={fromRGB:On,fromHex:Q$,toHex:H_,toRGB:oJ,BLACK:On(0,0,0),RED:On(255,0,0),GREEN:On(0,255,0),BLUE:On(0,0,255),PURPLE:On(128,0,128),YELLOW:On(255,255,0),WHITE:On(255,255,255),ROYGBIV:[On(255,0,0),On(255,165,0),On(255,255,0),On(0,255,0),On(0,0,255),On(75,0,130),On(238,130,238)],Schema:sJ},aJ=t=>t.type==="real",uJ=t=>t.type==="blank",Z$={isReal:aJ,isBlank:uJ},cJ={name:"",color:tt.BLACK,clips:[{type:"blank",startTime:0,endTime:void 0}]},lJ=()=>({tracks:[],cues:[]}),fJ=t=>{let e=0;const n=[];return rt.forEach(t,r=>{e!==r.startTime&&n.push({type:"blank",startTime:e,endTime:r.startTime}),n.push({...r,type:"real"}),e=r.endTime}),n.push({type:"blank",startTime:e,endTime:void 0}),n},dJ=t=>{const e=[],n=[],r=[];rt.forEach(t,a=>{a.type==="init-track"?e.push(a):a.type==="init-clip"?n.push(a):r.push(a)});const i=rt.sortBy(e,a=>a.trackIndex),s=rt.groupBy(n,a=>a.trackIndex);return{tracks:rt.map(i,a=>{const c=rt.get(s,a.trackIndex);return{name:a.name,color:a.color,clips:fJ(c)}}),cues:r}},hJ=t=>()=>[],pJ=t=>V_(e=>{e.push(t)}),gJ=t=>V_(e=>{e.push(t)}),mJ=t=>V_(e=>{e.push(t)}),yJ=t=>dJ(t);var tR={exports:{}},Pt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jl=Symbol.for("react.element"),vJ=Symbol.for("react.portal"),_J=Symbol.for("react.fragment"),bJ=Symbol.for("react.strict_mode"),SJ=Symbol.for("react.profiler"),wJ=Symbol.for("react.provider"),EJ=Symbol.for("react.context"),xJ=Symbol.for("react.forward_ref"),CJ=Symbol.for("react.suspense"),TJ=Symbol.for("react.memo"),OJ=Symbol.for("react.lazy"),Bx=Symbol.iterator;function AJ(t){return t===null||typeof t!="object"?null:(t=Bx&&t[Bx]||t["@@iterator"],typeof t=="function"?t:null)}var eR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nR=Object.assign,rR={};function Uu(t,e,n){this.props=t,this.context=e,this.refs=rR,this.updater=n||eR}Uu.prototype.isReactComponent={};Uu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Uu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function iR(){}iR.prototype=Uu.prototype;function G_(t,e,n){this.props=t,this.context=e,this.refs=rR,this.updater=n||eR}var J_=G_.prototype=new iR;J_.constructor=G_;nR(J_,Uu.prototype);J_.isPureReactComponent=!0;var jx=Array.isArray,oR=Object.prototype.hasOwnProperty,Y_={current:null},sR={key:!0,ref:!0,__self:!0,__source:!0};function aR(t,e,n){var r,i={},s=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)oR.call(e,r)&&!sR.hasOwnProperty(r)&&(i[r]=e[r]);var c=arguments.length-2;if(c===1)i.children=n;else if(1<c){for(var l=Array(c),d=0;d<c;d++)l[d]=arguments[d+2];i.children=l}if(t&&t.defaultProps)for(r in c=t.defaultProps,c)i[r]===void 0&&(i[r]=c[r]);return{$$typeof:Jl,type:t,key:s,ref:a,props:i,_owner:Y_.current}}function kJ(t,e){return{$$typeof:Jl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function X_(t){return typeof t=="object"&&t!==null&&t.$$typeof===Jl}function IJ(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Dx=/\/+/g;function fy(t,e){return typeof t=="object"&&t!==null&&t.key!=null?IJ(""+t.key):e.toString(36)}function Ld(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Jl:case vJ:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+fy(a,0):r,jx(i)?(n="",t!=null&&(n=t.replace(Dx,"$&/")+"/"),Ld(i,e,n,"",function(d){return d})):i!=null&&(X_(i)&&(i=kJ(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Dx,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",jx(t))for(var c=0;c<t.length;c++){s=t[c];var l=r+fy(s,c);a+=Ld(s,e,n,l,i)}else if(l=AJ(t),typeof l=="function")for(t=l.call(t),c=0;!(s=t.next()).done;)s=s.value,l=r+fy(s,c++),a+=Ld(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function ad(t,e,n){if(t==null)return t;var r=[],i=0;return Ld(t,r,"","",function(s){return e.call(n,s,i++)}),r}function $J(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Hn={current:null},Fd={transition:null},RJ={ReactCurrentDispatcher:Hn,ReactCurrentBatchConfig:Fd,ReactCurrentOwner:Y_};function uR(){throw Error("act(...) is not supported in production builds of React.")}Pt.Children={map:ad,forEach:function(t,e,n){ad(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ad(t,function(){e++}),e},toArray:function(t){return ad(t,function(e){return e})||[]},only:function(t){if(!X_(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Pt.Component=Uu;Pt.Fragment=_J;Pt.Profiler=SJ;Pt.PureComponent=G_;Pt.StrictMode=bJ;Pt.Suspense=CJ;Pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RJ;Pt.act=uR;Pt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=nR({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=Y_.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(l in e)oR.call(e,l)&&!sR.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&c!==void 0?c[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){c=Array(l);for(var d=0;d<l;d++)c[d]=arguments[d+2];r.children=c}return{$$typeof:Jl,type:t.type,key:i,ref:s,props:r,_owner:a}};Pt.createContext=function(t){return t={$$typeof:EJ,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:wJ,_context:t},t.Consumer=t};Pt.createElement=aR;Pt.createFactory=function(t){var e=aR.bind(null,t);return e.type=t,e};Pt.createRef=function(){return{current:null}};Pt.forwardRef=function(t){return{$$typeof:xJ,render:t}};Pt.isValidElement=X_;Pt.lazy=function(t){return{$$typeof:OJ,_payload:{_status:-1,_result:t},_init:$J}};Pt.memo=function(t,e){return{$$typeof:TJ,type:t,compare:e===void 0?null:e}};Pt.startTransition=function(t){var e=Fd.transition;Fd.transition={};try{t()}finally{Fd.transition=e}};Pt.unstable_act=uR;Pt.useCallback=function(t,e){return Hn.current.useCallback(t,e)};Pt.useContext=function(t){return Hn.current.useContext(t)};Pt.useDebugValue=function(){};Pt.useDeferredValue=function(t){return Hn.current.useDeferredValue(t)};Pt.useEffect=function(t,e){return Hn.current.useEffect(t,e)};Pt.useId=function(){return Hn.current.useId()};Pt.useImperativeHandle=function(t,e,n){return Hn.current.useImperativeHandle(t,e,n)};Pt.useInsertionEffect=function(t,e){return Hn.current.useInsertionEffect(t,e)};Pt.useLayoutEffect=function(t,e){return Hn.current.useLayoutEffect(t,e)};Pt.useMemo=function(t,e){return Hn.current.useMemo(t,e)};Pt.useReducer=function(t,e,n){return Hn.current.useReducer(t,e,n)};Pt.useRef=function(t){return Hn.current.useRef(t)};Pt.useState=function(t){return Hn.current.useState(t)};Pt.useSyncExternalStore=function(t,e,n){return Hn.current.useSyncExternalStore(t,e,n)};Pt.useTransition=function(){return Hn.current.useTransition()};Pt.version="18.3.1";tR.exports=Pt;var G=tR.exports,ie=fO(G),Bv=TD({__proto__:null,default:ie},[G]);const Lc={},Ux=(t,e)=>t.unstable_is?t.unstable_is(e):e===t,zx=t=>"init"in t,dy=t=>!!t.write,Wx=t=>"v"in t||"e"in t,ud=t=>{if("e"in t)throw t.e;if((Lc?"production":void 0)!=="production"&&!("v"in t))throw new Error("[Bug] atom state is not initialized");return t.v},Ch=new WeakMap,Kx=t=>{var e;return Th(t)&&!!((e=Ch.get(t))!=null&&e[0])},PJ=t=>{const e=Ch.get(t);e!=null&&e[0]&&(e[0]=!1,e[1].forEach(n=>n()))},cR=(t,e)=>{let n=Ch.get(t);if(!n){n=[!0,new Set],Ch.set(t,n);const r=()=>{n[0]=!1};t.then(r,r)}n[1].add(e)},Th=t=>typeof(t==null?void 0:t.then)=="function",lR=(t,e,n)=>{n.p.has(t)||(n.p.add(t),e.then(()=>{n.p.delete(t)},()=>{n.p.delete(t)}))},hy=(t,e,n)=>{const r=n(t),i="v"in r,s=r.v;if(Th(e))for(const a of r.d.keys())lR(t,e,n(a));r.v=e,delete r.e,(!i||!Object.is(s,r.v))&&(++r.n,Th(s)&&PJ(s))},qx=(t,e,n)=>{var r;const i=new Set;for(const s of((r=n.get(t))==null?void 0:r.t)||[])n.has(s)&&i.add(s);for(const s of e.p)i.add(s);return i},MJ=()=>{const t=new Set,e=()=>{t.forEach(n=>n())};return e.add=n=>(t.add(n),()=>{t.delete(n)}),e},py=()=>{const t={},e=new WeakMap,n=r=>{var i,s;(i=e.get(t))==null||i.forEach(a=>a(r)),(s=e.get(r))==null||s.forEach(a=>a())};return n.add=(r,i)=>{const s=r||t,a=(e.has(s)?e:e.set(s,new Set)).get(s);return a.add(i),()=>{a==null||a.delete(i),a.size||e.delete(s)}},n},NJ=t=>(t.c||(t.c=py()),t.m||(t.m=py()),t.u||(t.u=py()),t.f||(t.f=MJ()),t),LJ=Symbol(),FJ=(t=new WeakMap,e=new WeakMap,n=new WeakMap,r=new Set,i=new Set,s=new Set,a={},c=(y,...v)=>y.read(...v),l=(y,...v)=>y.write(...v),d=(y,v)=>{var S;return(S=y.unstable_onInit)==null?void 0:S.call(y,v)},h=(y,v)=>{var S;return(S=y.onMount)==null?void 0:S.call(y,v)},...g)=>{const y=g[0]||(k=>{if((Lc?"production":void 0)!=="production"&&!k)throw new Error("Atom is undefined or null");let U=t.get(k);return U||(U={d:new Map,p:new Set,n:0},t.set(k,U),d==null||d(k,B)),U}),v=g[1]||(()=>{const k=[],U=K=>{try{K()}catch(b){k.push(b)}};do{a.f&&U(a.f);const K=new Set,b=K.add.bind(K);r.forEach(M=>{var D;return(D=e.get(M))==null?void 0:D.l.forEach(b)}),r.clear(),s.forEach(b),s.clear(),i.forEach(b),i.clear(),K.forEach(U),r.size&&S()}while(r.size||s.size||i.size);if(k.length)throw new AggregateError(k)}),S=g[2]||(()=>{const k=[],U=new WeakSet,K=new WeakSet,b=Array.from(r);for(;b.length;){const M=b[b.length-1],D=y(M);if(K.has(M)){b.pop();continue}if(U.has(M)){if(n.get(M)===D.n)k.push([M,D]);else if((Lc?"production":void 0)!=="production"&&n.has(M))throw new Error("[Bug] invalidated atom exists");K.add(M),b.pop();continue}U.add(M);for(const X of qx(M,D,e))U.has(X)||b.push(X)}for(let M=k.length-1;M>=0;--M){const[D,X]=k[M];let nt=!1;for(const mt of X.d.keys())if(mt!==D&&r.has(mt)){nt=!0;break}nt&&(x(D),N(D)),n.delete(D)}}),x=g[3]||(k=>{var U;const K=y(k);if(Wx(K)&&(e.has(k)&&n.get(k)!==K.n||Array.from(K.d).every(([it,at])=>x(it).n===at)))return K;K.d.clear();let b=!0;const M=()=>{e.has(k)&&(N(k),S(),v())},D=it=>{var at;if(Ux(k,it)){const sn=y(it);if(!Wx(sn))if(zx(it))hy(it,it.init,y);else throw new Error("no atom init");return ud(sn)}const Nt=x(it);try{return ud(Nt)}finally{K.d.set(it,Nt.n),Kx(K.v)&&lR(k,K.v,Nt),(at=e.get(it))==null||at.t.add(k),b||M()}};let X,nt;const mt={get signal(){return X||(X=new AbortController),X.signal},get setSelf(){return(Lc?"production":void 0)!=="production"&&!dy(k)&&console.warn("setSelf function cannot be used with read-only atom"),!nt&&dy(k)&&(nt=(...it)=>{if((Lc?"production":void 0)!=="production"&&b&&console.warn("setSelf function cannot be called in sync"),!b)try{return O(k,...it)}finally{S(),v()}}),nt}},gt=K.n;try{const it=c(k,D,mt);return hy(k,it,y),Th(it)&&(cR(it,()=>X==null?void 0:X.abort()),it.then(M,M)),K}catch(it){return delete K.v,K.e=it,++K.n,K}finally{b=!1,gt!==K.n&&n.get(k)===gt&&(n.set(k,K.n),r.add(k),(U=a.c)==null||U.call(a,k))}}),T=g[4]||(k=>{const U=[k];for(;U.length;){const K=U.pop(),b=y(K);for(const M of qx(K,b,e)){const D=y(M);n.set(M,D.n),U.push(M)}}}),O=g[5]||((k,...U)=>{let K=!0;const b=D=>ud(x(D)),M=(D,...X)=>{var nt;const mt=y(D);try{if(Ux(k,D)){if(!zx(D))throw new Error("atom not writable");const gt=mt.n,it=X[0];hy(D,it,y),N(D),gt!==mt.n&&(r.add(D),(nt=a.c)==null||nt.call(a,D),T(D));return}else return O(D,...X)}finally{K||(S(),v())}};try{return l(k,b,M,...U)}finally{K=!1}}),N=g[6]||(k=>{var U;const K=y(k),b=e.get(k);if(b&&!Kx(K.v)){for(const[M,D]of K.d)if(!b.d.has(M)){const X=y(M);P(M).t.add(k),b.d.add(M),D!==X.n&&(r.add(M),(U=a.c)==null||U.call(a,M),T(M))}for(const M of b.d||[])if(!K.d.has(M)){b.d.delete(M);const D=$(M);D==null||D.t.delete(k)}}}),P=g[7]||(k=>{var U;const K=y(k);let b=e.get(k);if(!b){x(k);for(const M of K.d.keys())P(M).t.add(k);if(b={l:new Set,d:new Set(K.d.keys()),t:new Set},e.set(k,b),(U=a.m)==null||U.call(a,k),dy(k)){const M=()=>{let D=!0;const X=(...nt)=>{try{return O(k,...nt)}finally{D||(S(),v())}};try{const nt=h(k,X);nt&&(b.u=()=>{D=!0;try{nt()}finally{D=!1}})}finally{D=!1}};i.add(M)}}return b}),$=g[8]||(k=>{var U;const K=y(k);let b=e.get(k);if(b&&!b.l.size&&!Array.from(b.t).some(M=>{var D;return(D=e.get(M))==null?void 0:D.d.has(k)})){b.u&&s.add(b.u),b=void 0,e.delete(k),(U=a.u)==null||U.call(a,k);for(const M of K.d.keys()){const D=$(M);D==null||D.t.delete(k)}return}return b}),j=[t,e,n,r,i,s,a,c,l,d,h,y,v,S,x,T,O,N,P,$],B={get:k=>ud(x(k)),set:(k,...U)=>{try{return O(k,...U)}finally{S(),v()}},sub:(k,U)=>{const b=P(k).l;return b.add(U),v(),()=>{b.delete(U),$(k),v()}}};return Object.defineProperty(B,LJ,{value:j}),B},fR=FJ,BJ=NJ,Vx=cR,Q_={};let jJ=0;function ue(t,e){const n=`atom${++jJ}`,r={toString(){return(Q_?"production":void 0)!=="production"&&this.debugLabel?n+":"+this.debugLabel:n}};return typeof t=="function"?r.read=t:(r.init=t,r.read=DJ,r.write=UJ),e&&(r.write=e),r}function DJ(t){return t(this)}function UJ(t,e,n){return e(this,typeof n=="function"?n(t(this)):n)}const zJ=()=>{let t=0;const e=BJ({}),n=new WeakMap,r=new WeakMap,i=fR(n,r,void 0,void 0,void 0,void 0,e,void 0,(c,l,d,...h)=>t?d(c,...h):c.write(l,d,...h)),s=new Set;return e.m.add(void 0,c=>{s.add(c);const l=n.get(c);l.m=r.get(c)}),e.u.add(void 0,c=>{s.delete(c);const l=n.get(c);delete l.m}),Object.assign(i,{dev4_get_internal_weak_map:()=>n,dev4_get_mounted_atoms:()=>s,dev4_restore_atoms:c=>{const l={read:()=>null,write:(d,h)=>{++t;try{for(const[g,y]of c)"init"in g&&h(g,y)}finally{--t}}};i.set(l)}})};function WJ(){return(Q_?"production":void 0)!=="production"?zJ():fR()}let Ac;function Z_(){return Ac||(Ac=WJ(),(Q_?"production":void 0)!=="production"&&(globalThis.__JOTAI_DEFAULT_STORE__||(globalThis.__JOTAI_DEFAULT_STORE__=Ac),globalThis.__JOTAI_DEFAULT_STORE__!==Ac&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044"))),Ac}const KJ={},qJ=G.createContext(void 0);function dR(t){return G.useContext(qJ)||Z_()}const hR=t=>typeof(t==null?void 0:t.then)=="function",VJ=t=>{t.status="pending",t.then(e=>{t.status="fulfilled",t.value=e},e=>{t.status="rejected",t.reason=e})},HJ=ie.use||(t=>{if(t.status==="pending")throw t;if(t.status==="fulfilled")return t.value;throw t.status==="rejected"?t.reason:(VJ(t),t)}),gy=new WeakMap,GJ=(t,e)=>{let n=gy.get(t);return n||(n=new Promise((r,i)=>{let s=t;const a=d=>h=>{s===d&&r(h)},c=d=>h=>{s===d&&i(h)},l=()=>{try{const d=e();hR(d)?(gy.set(d,n),s=d,d.then(a(d),c(d)),Vx(d,l)):r(d)}catch(d){i(d)}};t.then(a(t),c(t)),Vx(t,l)}),gy.set(t,n)),n};function Hx(t,e){const n=dR(),[[r,i,s],a]=G.useReducer(d=>{const h=n.get(t);return Object.is(d[0],h)&&d[1]===n&&d[2]===t?d:[h,n,t]},void 0,()=>[n.get(t),n,t]);let c=r;if((i!==n||s!==t)&&(a(),c=n.get(t)),G.useEffect(()=>{const d=n.sub(t,()=>{a()});return a(),d},[n,t,void 0]),G.useDebugValue(c),hR(c)){const d=GJ(c,()=>n.get(t));return HJ(d)}return c}function JJ(t,e){const n=dR();return G.useCallback((...i)=>{if((KJ?"production":void 0)!=="production"&&!("write"in t))throw new Error("not writable atom");return n.set(t,...i)},[n,t])}const Ap={},YJ=Symbol((Ap?"production":void 0)!=="production"?"RESET":"");function XJ(t,e){let n=null;const r=new Map,i=new Set,s=c=>{let l;if(l=r.get(c),l!==void 0)if(n!=null&&n(l[1],c))s.remove(c);else return l[0];const d=t(c);return r.set(c,[d,Date.now()]),a("CREATE",c,d),d},a=(c,l,d)=>{for(const h of i)h({type:c,param:l,atom:d})};return s.unstable_listen=c=>(i.add(c),()=>{i.delete(c)}),s.getParams=()=>r.keys(),s.remove=c=>{{if(!r.has(c))return;const[l]=r.get(c);r.delete(c),a("REMOVE",c,l)}},s.setShouldRemove=c=>{if(n=c,!!n)for(const[l,[d,h]]of r)n(h,l)&&(r.delete(l),a("REMOVE",l,d))},s}const Gx=(t,e,n)=>(e.has(n)?e:e.set(n,t())).get(n),QJ=new WeakMap,ZJ=(t,e,n)=>{const r=Gx(()=>new WeakMap,QJ,e);return Gx(t,r,n)},tY={},Jx=t=>!!t.write,eY=t=>typeof t=="function";function Yx(t,e){return ZJ(()=>{const n=new WeakMap,r=(a,c)=>{let l=n.get(a);if(l)return l;const d=c&&n.get(c),h=[],g=[];return a.forEach((y,v)=>{const S=v;g[v]=S;const x=d&&d.atomList[d.keyList.indexOf(S)];if(x){h[v]=x;return}const T=N=>{const P=N(i),$=N(t),B=r($,P==null?void 0:P.arr).keyList.indexOf(S);if(B<0||B>=$.length){const k=a[r(a).keyList.indexOf(S)];if(k)return k;throw new Error("splitAtom: index out of bounds for read")}return $[B]},O=(N,P,$)=>{const j=N(i),B=N(t),U=r(B,j==null?void 0:j.arr).keyList.indexOf(S);if(U<0||U>=B.length)throw new Error("splitAtom: index out of bounds for write");const K=eY($)?$(B[U]):$;Object.is(B[U],K)||P(t,[...B.slice(0,U),K,...B.slice(U+1)])};h[v]=Jx(t)?ue(T,O):ue(T)}),d&&d.keyList.length===g.length&&d.keyList.every((y,v)=>y===g[v])?l=d:l={arr:a,atomList:h,keyList:g},n.set(a,l),l},i=ue(a=>{const c=a(i),l=a(t);return r(l,c==null?void 0:c.arr)});(Ap?"production":void 0)!=="production"&&(i.debugPrivate=!0),i.init=void 0;const s=Jx(t)?ue(a=>a(i).atomList,(a,c,l)=>{switch(l.type){case"remove":{const d=a(s).indexOf(l.atom);if(d>=0){const h=a(t);c(t,[...h.slice(0,d),...h.slice(d+1)])}break}case"insert":{const d=l.before?a(s).indexOf(l.before):a(s).length;if(d>=0){const h=a(t);c(t,[...h.slice(0,d),l.value,...h.slice(d)])}break}case"move":{const d=a(s).indexOf(l.atom),h=l.before?a(s).indexOf(l.before):a(s).length;if(d>=0&&h>=0){const g=a(t);d<h?c(t,[...g.slice(0,d),...g.slice(d+1,h),g[d],...g.slice(h)]):c(t,[...g.slice(0,h),g[d],...g.slice(h,d),...g.slice(d+1)])}break}}}):ue(a=>a(i).atomList);return s},t,tY)}const nY=t=>typeof(t==null?void 0:t.then)=="function";function pR(t=()=>{try{return window.localStorage}catch(n){(Ap?"production":void 0)!=="production"&&typeof window<"u"&&console.warn(n);return}},e){var n;let r,i;const s={getItem:(l,d)=>{var h,g;const y=S=>{if(S=S||"",r!==S){try{i=JSON.parse(S,e==null?void 0:e.reviver)}catch{return d}r=S}return i},v=(g=(h=t())==null?void 0:h.getItem(l))!=null?g:null;return nY(v)?v.then(y):y(v)},setItem:(l,d)=>{var h;return(h=t())==null?void 0:h.setItem(l,JSON.stringify(d,void 0))},removeItem:l=>{var d;return(d=t())==null?void 0:d.removeItem(l)}},a=l=>(d,h,g)=>l(d,y=>{let v;try{v=JSON.parse(y||"")}catch{v=g}h(v)});let c;try{c=(n=t())==null?void 0:n.subscribe}catch{}return!c&&typeof window<"u"&&typeof window.addEventListener=="function"&&window.Storage&&(c=(l,d)=>{if(!(t()instanceof window.Storage))return()=>{};const h=g=>{g.storageArea===t()&&g.key===l&&d(g.newValue)};return window.addEventListener("storage",h),()=>{window.removeEventListener("storage",h)}}),c&&(s.subscribe=a(c)),s}const rY=pR();function iY(t,e,n=rY,r){const i=r==null?void 0:r.getOnInit,s=ue(i?n.getItem(t,e):e);return(Ap?"production":void 0)!=="production"&&(s.debugPrivate=!0),s.onMount=c=>{c(n.getItem(t,e));let l;return n.subscribe&&(l=n.subscribe(t,c,e)),l},ue(c=>c(s),(c,l,d)=>{const h=typeof d=="function"?d(c(s)):d;return h===YJ?(l(s,e),n.removeItem(t)):h instanceof Promise?h.then(g=>(l(s,g),n.setItem(t,g))):(l(s,h),n.setItem(t,h))})}var oY=Object.defineProperty,sY=(t,e,n)=>e in t?oY(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Xe=(t,e,n)=>(sY(t,typeof e!="symbol"?e+"":e,n),n);function Xr(t){return new Promise((e,n)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>n(t.error)})}function aY(t,e){const n=indexedDB.open(t);n.onupgradeneeded=()=>n.result.createObjectStore(e);const r=Xr(n);return(i,s)=>r.then(a=>s(a.transaction(e,i).objectStore(e)))}let my;function Yl(){return my||(my=aY("keyval-store","keyval")),my}function uY(t,e,n=Yl()){return n("readwrite",r=>(r.put(e,t),Xr(r.transaction)))}function Xx(t,e=Yl()){return e("readwrite",n=>(t.forEach(r=>n.put(r[1],r[0])),Xr(n.transaction)))}function cY(t,e=Yl()){return e("readwrite",n=>(n.delete(t),Xr(n.transaction)))}function lY(t=Yl()){return t("readwrite",e=>(e.clear(),Xr(e.transaction)))}function fY(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},Xr(t.transaction)}function yy(t=Yl()){return t("readonly",e=>{if(e.getAll&&e.getAllKeys)return Promise.all([Xr(e.getAllKeys()),Xr(e.getAll())]).then(([r,i])=>r.map((s,a)=>[s,i[a]]));const n=[];return t("readonly",r=>fY(r,i=>n.push([i.key,i.value])).then(()=>n))})}const dY="jotai-minidb",hY={name:dY,version:0,migrations:{},onMigrationCompleted:()=>{alert("Data has been migrated. Page will be reloaded"),window.location.reload()},onVersionMissmatch:()=>{}};class pY{constructor(e={}){Xe(this,"channel"),Xe(this,"cache",ue(void 0)),Xe(this,"idbStorage"),Xe(this,"metaStorage"),Xe(this,"config"),Xe(this,"initStarted",ue(!1)),Xe(this,"initialDataThenable",gY()),Xe(this,"suspendBeforeInit",ue(async i=>{i(this.items),await i(this.initialDataThenable).promise})),Xe(this,"isInitialized",ue(!1)),Xe(this,"items",ue((i,{setSelf:s})=>(i(this.initStarted)||Promise.resolve().then(s),i(this.cache)),async(i,s)=>{i(this.initStarted)||(s(this.initStarted,!0),this.preloadData().then(a=>{s(this.cache,a),i(this.initialDataThenable).resolve()}),this.channel.onmessage=async a=>{const c=a.data;c.type==="UPDATE"?s(this.cache,l=>({...l,[c.id]:c.item})):c.type==="DELETE"?s(this.cache,l=>{const d={...l};return delete d[c.id],d}):c.type==="UPDATE_MANY"?s(this.cache,Object.fromEntries(await yy(this.idbStorage))):c.type==="MIGRATION_COMPLETED"&&this.config.onMigrationCompleted()})})),Xe(this,"entries",ue(i=>Object.entries(i(this.items)||{}))),Xe(this,"keys",ue(i=>Object.keys(i(this.items)||{}))),Xe(this,"values",ue(i=>Object.values(i(this.items)||{}))),Xe(this,"item",XJ(i=>ue(s=>{var a;return(a=s(this.items))==null?void 0:a[i]},async(s,a,c)=>{await a(this.set,i,c)}))),Xe(this,"set",ue(null,async(i,s,a,c)=>{i(this.cache)||await i(this.suspendBeforeInit);const l=i(this.cache);if(!l)throw new Error("Cache was not initialized");const d=yY(c)?c(l[a]):c;s(this.cache,h=>({...h,[a]:d})),await uY(a,d,this.idbStorage),this.channel.postMessage({type:"UPDATE",id:a,item:d})})),Xe(this,"setMany",ue(null,async(i,s,a)=>{i(this.cache)||await i(this.suspendBeforeInit);const c={...i(this.cache)};for(const[l,d]of a)c[l]=d;s(this.cache,c),await Xx(a,this.idbStorage),this.channel.postMessage({type:"UPDATE_MANY"})})),Xe(this,"delete",ue(null,async(i,s,a)=>{i(this.cache)||await i(this.suspendBeforeInit),s(this.cache,c=>{const l={...c};return delete l[a],l}),await cY(a,this.idbStorage),this.channel.postMessage({type:"DELETE",id:a})})),Xe(this,"clear",ue(null,async(i,s)=>{i(this.cache)||await i(this.suspendBeforeInit),s(this.cache,{}),await lY(this.idbStorage),this.channel.postMessage({type:"UPDATE_MANY"})})),this.config={...hY,initialData:{},...e};const{keyvalStorage:n,metaStorage:r}=mY(this.config.name,"key-value",this.config.initialData);this.idbStorage=n,this.metaStorage=r,this.channel=new BroadcastChannel(`jotai-minidb-broadcast:${this.config.name}`)}async preloadData(){return await this.migrate(),Object.fromEntries(await yy(this.idbStorage))}async migrate(){const e=await this.metaStorage("readonly",n=>Xr(n.get("version")))||0;if(this.config.version>e){let n=await yy(this.idbStorage);for(let r=e+1;r<=this.config.version;r++){const i=this.config.migrations[r];if(!i)throw new Error(`Migrate function for version ${r} is not provided`);n=await Promise.all(n.map(async([s,a])=>[s,await i(a)]))}await Xx(n,this.idbStorage),await this.metaStorage("readwrite",r=>Xr(r.put(this.config.version,"version"))),this.channel.postMessage({type:"MIGRATION_COMPLETED"})}else if(this.config.version<e)throw this.config.onVersionMissmatch(),new Error(`[jotai-minidb] Minimal client version is ${this.config.version} but indexeddb database version is ${e}`)}}function gY(){return ue(()=>{let t,e;return{promise:new Promise((n,r)=>{t=n,e=r}),resolve:t,reject:e}})}function mY(t,e,n){const r=indexedDB.open(t),i=[];r.onupgradeneeded=a=>{const c=r.result.createObjectStore(e);r.result.createObjectStore("_meta");for(const[l,d]of Object.entries(n))i.push(Xr(c.add(d,l)))};const s=Xr(r);return{keyvalStorage:async(a,c)=>{const l=await s;return await Promise.all(i),c(l.transaction(e,a).objectStore(e))},metaStorage:(a,c)=>s.then(l=>c(l.transaction("_meta",a).objectStore("_meta")))}}function yY(t){return typeof t=="function"}new pY;const vY=()=>pR(),_Y=(t,e)=>iY(t,e,vY(),{getOnInit:!0}),bY={atom:_Y},Qx=Z_(),gR=(t,e,n,r="mem")=>{const i=r==="mem",s=t===qd.type,a=!i&&qd.isMain?bY.atom(e,n):ue(n),c=new BroadcastChannel(e),l=z$(),d=Rn.enabled(!1,Rn.info);d("Creating",{owner:t,isOwner:s,key:e,id:l});let h;const g=ue(S=>S(a),(S,x,T)=>{const O=typeof T.value=="function"?T.value(S(a)):T.value;s?(x(a,T.value),h=O,d("Posting message as owner",O),c.postMessage({type:"update",value:O})):T.isEvent?x(a,T.value):(d("Posting message as borrower",O),c.postMessage({type:"update-request",value:O}))}),y=S=>{(S.data.type==="update"||S.data.type==="update-request"||S.data.type==="init-ack")&&Qx.set(g,{isEvent:!0,value:S.data.value})};return c.onmessage=S=>{const x=S;d("Received message",x.data),x.data.type==="update-request"&&s&&y(x),x.data.type==="update"&&y(x),s&&x.data.type==="init"?c.postMessage({type:"init-ack",id:x.data.id,value:h||Qx.get(a)}):!s&&x.data.type==="init-ack"&&x.data.id===l&&y(x)},s||(d("Posting init"),c.postMessage({type:"init",id:l})),ue(S=>S(g),(S,x,T)=>{d("Atom set",T),x(g,{isEvent:!1,value:T})})},Eo=t=>t,tb=t=>({_tag:"Left",value:t}),kp=t=>({_tag:"Right",value:t}),SY=(t,e,n)=>n._tag==="Left"?t(n.value):e(n.value),mR={dimap:(t,e,n)=>r=>e(n(t(r))),first:t=>([e,n])=>[t(e),n],right:t=>e=>e._tag==="Left"?e:kp(t(e.value)),wander:t=>e=>e.map(t)},wY={empty:()=>{},foldMap:(t,e)=>{for(let n=0;n<e.length;n++){const r=t(e[n]);if(r!=null)return r}}},EY={empty:()=>[],foldMap:(t,e)=>{let n=[];return e.forEach(r=>{n=n.concat(t(r))}),n}},eb=t=>({dimap:(e,n,r)=>i=>r(e(i)),first:e=>([n,r])=>e(n),right:e=>n=>n._tag==="Left"?t.empty():e(n.value),wander:e=>n=>t.foldMap(e,n)}),vy={Equivalence:{Equivalence:"Equivalence",Iso:"Iso",Lens:"Lens",Prism:"Prism",Traversal:"Traversal",Getter:"Getter",AffineFold:"AffineFold",Fold:"Fold",Setter:"Setter"},Iso:{Equivalence:"Iso",Iso:"Iso",Lens:"Lens",Prism:"Prism",Traversal:"Traversal",Getter:"Getter",AffineFold:"AffineFold",Fold:"Fold",Setter:"Setter"},Lens:{Equivalence:"Lens",Iso:"Lens",Lens:"Lens",Prism:"Prism",Traversal:"Traversal",Getter:"Getter",AffineFold:"AffineFold",Fold:"Fold",Setter:"Setter"},Prism:{Equivalence:"Prism",Iso:"Prism",Lens:"Prism",Prism:"Prism",Traversal:"Traversal",Getter:"AffineFold",AffineFold:"AffineFold",Fold:"Fold",Setter:"Setter"},Traversal:{Equivalence:"Traversal",Iso:"Traversal",Lens:"Traversal",Prism:"Traversal",Traversal:"Traversal",Getter:"Fold",AffineFold:"Fold",Fold:"Fold",Setter:"Setter"},Getter:{Equivalence:"Getter",Iso:"Getter",Lens:"Getter",Prism:"AffineFold",Traversal:"Fold",Getter:"Getter",AffineFold:"AffineFold",Fold:"Fold",Setter:void 0},AffineFold:{Equivalence:"AffineFold",Iso:"AffineFold",Lens:"AffineFold",Prism:"AffineFold",Traversal:"Fold",Getter:"AffineFold",AffineFold:"AffineFold",Fold:"Fold",Setter:void 0},Fold:{Equivalence:"Fold",Iso:"Fold",Lens:"Fold",Prism:"Fold",Traversal:"Fold",Getter:"Fold",AffineFold:"Fold",Fold:"Fold",Setter:void 0},Setter:{Equivalence:void 0,Iso:void 0,Lens:void 0,Prism:void 0,Traversal:void 0,Getter:void 0,AffineFold:void 0,Fold:void 0,Setter:void 0}},zu=(t,e)=>{const n=e;return n._tag=t,n},yR=t=>(t._removable=!0,t);function Ut(t,e,n){switch(arguments.length){case 2:{const r=(i,s)=>t(i,e(i,s));return r._tag=vy[t._tag][e._tag],r._removable=e._removable||!1,r}default:{const r=vy[t._tag][e._tag],i=(s,a)=>t(s,e(s,n(s,a)));return i._tag=vy[r][n._tag],i._removable=n._removable||!1,i}}}const xY=zu("Equivalence",(t,e)=>e),Ip=(t,e)=>zu("Iso",(n,r)=>n.dimap(t,e,r)),kr=(t,e)=>zu("Lens",(n,r)=>n.dimap(i=>[t(i),i],e,n.first(r))),nb=(t,e)=>zu("Prism",(n,r)=>n.dimap(t,i=>SY(Eo,e,i),n.right(r))),rb=zu("Traversal",(t,e)=>t.dimap(Eo,Eo,t.wander(e))),CY=t=>zu("Getter",(e,n)=>e.dimap(t,Eo,n)),vR=(t,e,n)=>t(mR,e)(n),TY=(t,e,n)=>t(mR,()=>e)(n),OY=(t,e)=>t(eb({}),Eo)(e),AY=(t,e)=>t(eb(wY),Eo)(e),_R=(t,e)=>t(eb(EY),n=>[n])(e),kY=Ip(t=>t.map((e,n)=>[n,e]),t=>{const e=[...t].sort((r,i)=>r[0]-i[0]),n=[];for(let r=0;r<e.length;++r)(r===e.length-1||e[r][0]!==e[r+1][0])&&n.push(e[r][1]);return n}),Zx=t=>kr(e=>e[t],([e,n])=>Object.assign(Object.assign({},n),{[t]:e})),IY=t=>kr(e=>{const n={};for(const r of t)n[r]=e[r];return n},([e,n])=>{const r=Object.assign({},n);for(const i of t)delete r[i];return Object.assign(r,e)}),bR=t=>kr(e=>e[t],([e,n])=>{const r=n.slice();return r[t]=e,r}),ib=bR(0),ob=t=>nb(e=>t(e)?kp(e):tb(e),Eo),ll=Symbol("__no_match__"),SR=ob(t=>t!==ll),wR=Symbol("__remove_me__"),_y=t=>yR(Ut(kr(e=>0<=t&&t<e.length?e[t]:ll,([e,n])=>{if(e===ll)return n;if(e===wR)return typeof n=="string"?n.substring(0,t)+n.substring(t+1):[...n.slice(0,t),...n.slice(t+1)];if(typeof n=="string")return t===0?e+n.substring(1):t===n.length?n.substring(0,t-1)+e:n.substring(0,t)+e+n.substring(t+1);{const r=n.slice();return r[t]=e,r}}),SR)),$Y=nb(t=>t===void 0?tb(void 0):kp(t),Eo),RY=t=>nb(e=>t(e)?kp(e):tb(e),Eo),PY=t=>yR(Ut(kr(e=>{const n=e.findIndex(t);return n===-1?[ll,-1]:[e[n],n]},([[e,n],r])=>{if(e===ll)return r;if(e===wR)return[...r.slice(0,n),...r.slice(n+1)];const i=r.slice();return i[n]=e,i}),ib,SR)),MY=t=>Ut(kr(e=>{const n=e.map((r,i)=>t(r)?i:null).filter(r=>r!=null);return[n.map(r=>e[r]),n]},([[e,n],r])=>{const i=r.length,s=e.length;let a=0,c=0,l=0;const d=[];for(;a<i;)n[c]===a?(++c,l<s&&(d.push(e[l]),++l)):d.push(r[a]),++a;for(;l<s;)d.push(e[l++]);return d}),ib),NY=t=>kr(e=>e===void 0?t:e,([e,n])=>e),LY=t=>Ut(kr(e=>{const n=_R(t,e);return[n,n.length]},([[e,n],r])=>{if(e.length!==n)throw new Error("cannot add/remove elements through partsOf");let i=0;return vR(t,()=>e[i++],r)}),ib),FY=t=>kr(e=>t(e),([e,n])=>e),BY=t=>kr(e=>e,([e,n])=>t(e)),jY=kr(t=>{},([t,e])=>t===void 0?e:[t,...e]),DY=kr(t=>{},([t,e])=>t===void 0?e:[...e,t]),UY=Ut(Ip(t=>t.split(""),t=>t.join("")),rb),zY=Ut(Ip(t=>t.split(/\b/),t=>t.join("")),rb,ob(t=>!/\s+/.test(t)));class Yt{constructor(e){this._ref=e}get _tag(){return this._ref._tag}get _removable(){return this._ref._removable}compose(e){return new Yt(Ut(this._ref,e._ref))}iso(e,n){return new Yt(Ut(this._ref,Ip(e,n)))}lens(e,n){return new Yt(Ut(this._ref,kr(e,([r,i])=>n(i,r))))}indexed(){return new Yt(Ut(this._ref,kY))}prop(e){return new Yt(Ut(this._ref,Zx(e)))}path(...e){return e.length===1&&(e=e[0].split(".")),new Yt(e.reduce((n,r)=>Ut(n,Zx(r)),this._ref))}pick(e){return new Yt(Ut(this._ref,IY(e)))}nth(e){return new Yt(Ut(this._ref,bR(e)))}filter(e){return new Yt(Ut(this._ref,MY(e)))}valueOr(e){return new Yt(Ut(this._ref,NY(e)))}partsOf(e){const n=typeof e=="function"?e(ER):e;return new Yt(Ut(this._ref,LY(n._ref)))}reread(e){return new Yt(Ut(this._ref,FY(e)))}rewrite(e){return new Yt(Ut(this._ref,BY(e)))}optional(){return new Yt(Ut(this._ref,$Y))}guard_(){return e=>this.guard(e)}guard(e){return new Yt(Ut(this._ref,RY(e)))}at(e){return new Yt(Ut(this._ref,_y(e)))}head(){return new Yt(Ut(this._ref,_y(0)))}index(e){return new Yt(Ut(this._ref,_y(e)))}find(e){return new Yt(Ut(this._ref,PY(e)))}elems(){return new Yt(Ut(this._ref,rb))}to(e){return new Yt(Ut(this._ref,CY(e)))}when(e){return new Yt(Ut(this._ref,ob(e)))}chars(){return new Yt(Ut(this._ref,UY))}words(){return new Yt(Ut(this._ref,zY))}prependTo(){return new Yt(Ut(this._ref,jY))}appendTo(){return new Yt(Ut(this._ref,DY))}}const ER=new Yt(xY);function WY(){return ER}function KY(t){return e=>OY(t._ref,e)}function qY(t){return e=>AY(t._ref,e)}function VY(t){return e=>_R(t._ref,e)}function HY(t){return e=>n=>vR(t._ref,e,n)}function GY(t){return e=>n=>TY(t._ref,e,n)}const tC=(t,e,n)=>(e.has(n)?e:e.set(n,t())).get(n),JY=new WeakMap,YY=(t,e,n)=>{const r=tC(()=>new WeakMap,JY,e);return tC(t,r,n)},XY=t=>typeof t=="function";function QY(t,e){return YY(()=>{const n=e(WY());return ue(i=>{const s=i(t);return s instanceof Promise?s.then(a=>eC(n,a)):eC(n,s)},(i,s,a)=>{const c=XY(a)?HY(n)(a):GY(n)(a),l=i(t);return s(t,l instanceof Promise?l.then(c):c(l))})},t,e)}const eC=(t,e)=>t._tag==="Traversal"?VY(t)(e):t._tag==="Prism"?qY(t)(e):KY(t)(e),cd=Z_(),Xa=(t,e)=>{const n=()=>cd.get(t),r=T=>{cd.set(t,T)};let i;const s=(T,O)=>{const N=()=>{const $=T(n());typeof $=="function"&&(i=$)};O&&N();const P=cd.sub(t,()=>{i!==void 0&&i(),N()});return()=>{P()}},a=T=>s(T,!1),c=T=>s(T,!0),l=()=>Hx(t),d=()=>JJ(t),h=()=>[l(),d()],g=T=>Xa(QY(t,T));return{get:n,set:r,sub:a,subAndInit:c,useValue:l,useSet:d,use:h,focus:g,useFocus:T=>{const O=ie.useCallback(N=>N.prop(T),[T]);return g(O)},useFocusMemo:T=>{const O=l();return ie.useMemo(()=>g(T),[O])},array:()=>{const T=t;return cd.get(Yx(T)).map(O=>Xa(O))},useArray:()=>Hx(Yx(t)).map(O=>Xa(O))}},ZY=(t,e)=>Xa(ue(e)),tX=(t,e,n)=>Xa(gR(t,e,n)),eX=(t,e)=>Xa(gR("main",t,e,"storage")),nC={},nX=t=>e=>{const n=nC[e];if(n!==void 0)return n;{const r=t(e);return nC[e]=r,r}},dn={mem:tX,memSingle:ZY,storage:eX,family:nX},sb=()=>({label:"Default",key:"default",controllers:[],style:{accent:{color1:"#6a11cb",color2:"#2575fc"}}}),rX=()=>({label:"Reload",key:"reload-project",controllers:[],style:{accent:{color1:"#6a11cb",color2:"#2575fc"}}}),iX=()=>({active:"default",projects:[sb(),rX()]}),pt={initArrangement:dn.mem("project","init-arrangement",[]),importStatus:dn.mem("project","import-status",{type:"none"}),project:{config:dn.storage("projects-config",iX()),abletonName:dn.mem("project","ableton-name",void 0),arrangement:dn.mem("project","arrangement",lJ())},realTime:{beats:dn.mem("project","real-time-beats",0),barBeats:dn.mem("project","real-time-bar-beats",1),timeSignature:dn.mem("project","real-time-time-signature",{noteCount:4,noteLength:4}),tempo:dn.mem("project","real-time-tempo",0),isPlaying:dn.mem("project","real-time-is-playing",!1),metronomeState:dn.mem("project","real-time-metronome-state",!1),loopState:dn.mem("project","real-time-loop-state",!1),halfBeat:dn.mem("project","real-time-half-beat",!1)}},ua=st({channel:De}),oX=st({type:Je("sysex"),manufacturer:De,body:Ji(De)}),sX=st({type:Je("noteon"),note:De,velocity:De,...ua.fields}),aX=st({type:Je("noteoff"),note:De,velocity:De,...ua.fields}),uX=st({type:Je("cc"),controllerNumber:De,data:De,...ua.fields}),cX=st({type:Je("pc"),programNumber:De,...ua.fields}),lX=st({type:Je("clock")}),fX=st({type:Je("measureend")}),dX=st({type:Je("start")}),hX=st({type:Je("continue")}),pX=st({type:Je("stop")}),gX=st({type:Je("reset")}),mX=st({type:Je("activesensing")}),yX=st({type:Je("mtcquarterframe"),data:De}),vX=st({type:Je("unknown")}),_X=st({type:Je("error"),message:re}),bX=$o(oX,sX,aX,uX,cX,lX,fX,dX,hX,pX,gX,mX,yX,vX,_X),xR=(t,e)=>{const n=[...e];return rt.forEach(t,(r,i)=>{n.push(t.charCodeAt(i))}),n},ab=(t,e=0)=>({type:"sysex",manufacturer:e,body:t}),SX=(t,e=[],n=0)=>ab(xR(JSON.stringify(t),e),n),wX=(t,e,n=[],r=0)=>ab(xR($e(bH(e)(t),{onSome:i=>JSON.stringify(i),onNone:()=>"Error encoding schema sysex"}),n),r),EX=t=>{const e=[];return rt.forEach(t,n=>{e.push(String.fromCharCode(n))}),e.join("")},xX=(t,e,n=0)=>{const r=EX(t.body.slice(n));return $_(N_(e))(r)},CX=t=>({raw:[],time:new Date,...t}),fl={schema:bX,sysex:ab,jsonSysex:SX,jsonSchemaSysex:wX,parseJsonSysex:xX,raw:CX},CR=t=>({targets:t.targets,init:t.init,render:t.render,loading:t.loading||(()=>()=>()=>{}),listenFilter:t.listenFilter||(()=>!0)}),TX=CR({targets:[],init:()=>()=>{},render:()=>()=>{}}),ub={of:CR,empty:TX},cb=t=>{const e=rt.fromPairs(rt.map(t,s=>[s.name,s])),n=$o(...t.map(s=>s.schema)),r=s=>s.widgets.flatMap(a=>$e(i(a._tag),{onSome:c=>({name:c.name,targets:()=>{const l=c.targets(a);return l._tag==="none"?[]:l._tag==="one"?[l.target]:l.targets},component:()=>c.component(a),widget:a,tracks:()=>c.tracks(a)}),onNone:()=>(console.error("No widget found for config",a),[])})),i=s=>Ao(rt.get(e,s,void 0));return{schema:n,resolve:r,getByName:i,widgets:t}},OX=t=>t,AX={name:"empty",controller:ub.empty,widgets:cb([])},lb={of:OX,empty:AX};var TR={exports:{}},$p={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kX=G,IX=Symbol.for("react.element"),$X=Symbol.for("react.fragment"),RX=Object.prototype.hasOwnProperty,PX=kX.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,MX={key:!0,ref:!0,__self:!0,__source:!0};function OR(t,e,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)RX.call(e,r)&&!MX.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:IX,type:t,key:s,ref:a,props:i,_owner:PX.current}}$p.Fragment=$X;$p.jsx=OR;$p.jsxs=OR;TR.exports=$p;var J=TR.exports;const AR=st({target:Hr.Schema}),kR=st({targets:Ji(Hr.Schema)}),NX=Pn("none",{}),LX=Pn("one",AR.fields),FX=Pn("many",kR.fields);$o(NX,LX,FX);const IR=t=>({name:t.name,schema:Pn(t.name,t.schema.fields),targets:t.targets,component:t.component,tracks:t.tracks||(()=>[]),init:t.init,inputType:t.inputType}),BX=t=>({name:t.name,schema:Pn(t.name,{...t.schema.fields}),targets:e=>({_tag:"none"}),component:t.component,tracks:t.tracks||(()=>[]),init:()=>({_tag:t.name,...t.init()}),inputType:"none"}),jX=t=>({name:t.name,schema:Pn(t.name,{...AR.fields,...t.schema.fields}),targets:e=>({_tag:"one",target:e.target}),component:t.component,tracks:t.tracks||(()=>[]),init:e=>({_tag:t.name,target:e.target,...t.init()}),inputType:"one"}),DX=t=>({name:t.name,schema:Pn(t.name,{...kR.fields,...t.schema.fields}),targets:e=>({_tag:"many",targets:e.targets}),component:t.component,tracks:t.tracks||(()=>[]),init:e=>({_tag:t.name,targets:e.targets,...t.init()}),inputType:"many"}),UX=(t,e,n)=>IR({name:t.name,schema:st({...t.schema.fields,...e.fields}),targets:r=>t.targets(r),component:r=>t.component(r),tracks:r=>t.tracks!==void 0?t.tracks(r):[],init:r=>({...t.init(r),...n(r)}),inputType:t.inputType}),be={of:IR,none:BX,one:jX,many:DX,intersect:UX},zX=()=>({send:t=>{Rn.debug("Empty send",t)}}),WX=t=>({send:e=>{t.emit(e)}}),fb={empty:zX,fromEventEmitter:WX},KX=()=>({on:t=>()=>{console.log("Empty listener",t)}}),$R={empty:KX},qX={isAllowed:!1,getInput:t=>ut(),getOutput:t=>ut(),inputs:[],outputs:[]},VX={deviceManager:dn.memSingle("device-manager",qX)},db={state:VX.deviceManager},rC=t=>dn.storage(t,ut()),Yi={daw:{emitter:dn.memSingle("daw-emitter",fb.empty()),listener:dn.memSingle("daw-listener",Yc()),selected:{input:rC("daw-midi-input-selected"),output:rC("daw-midi-output-selected")}}},RR=()=>db.state.get(),iC=()=>{const t=H(Yi.daw.selected.input.get(),is(RR().getInput));Yi.daw.listener.set(Ce(t,()=>$R.empty()))},oC=()=>{const t=H(Yi.daw.selected.output.get(),is(RR().getOutput));Yi.daw.emitter.set(Ce(t,()=>fb.empty()))},Oh=t=>t==="input"?Yi.daw.selected.input:Yi.daw.selected.output,HX=()=>{Yi.daw.selected.input.sub(iC),iC(),Yi.daw.selected.output.sub(oC),oC()},GX=(t,e)=>{Oh(e).set(t)},JX=t=>Oh(t).get(),YX=t=>{const e=db.state.useValue(),n=ie.useMemo(()=>t==="input"?e.inputs:e.outputs,[e]),r=Oh(t).useValue(),i=Oh(t).useSet();return{type:t,devices:n,selected:li(r),setSelected:s=>{i(Ao(s))}}};let by;const PR=()=>(by===void 0&&(by=new BroadcastChannel("project:daw")),by),XX=()=>{const t=PR();return{send:e=>{t.postMessage(e)}}},Ro={init:HX,useMidiDevices:YX,setSelected:GX,getSelected:JX,states:Yi,getChannel:PR,useDawEmitter:XX,useDawListener:()=>Yi.daw.listener.useValue()},MR=be.one({name:"play",schema:st({color:tt.Schema}),init:()=>({color:tt.GREEN}),component:({target:t,color:e})=>{const n=Ro.useDawEmitter();return J.jsx("pad",{color:e,target:t,onClick:()=>n.send(hn.play())})}}),NR=be.one({name:"stop",schema:st({color:tt.Schema}),init:()=>({color:tt.RED}),component:({target:t,color:e})=>{const n=Ro.useDawEmitter();return J.jsx("pad",{color:e,target:t,onClick:()=>n.send(hn.stop())})}}),QX=be.one({name:"record",schema:st({color:tt.Schema}),init:()=>({color:tt.PURPLE}),component:({target:t,color:e})=>{const n=Ro.useDawEmitter();return J.jsx("pad",{color:e,target:t,onClick:()=>n.send(hn.record())})}}),ZX=()=>{let t=[],e=!1,n=120,r=100,i=4;const s=h=>t.forEach(g=>g(h)),a=h=>{s({beat:h,halfBeat:!1,isPlaying:e}),setTimeout(()=>{s({beat:h,halfBeat:!0,isPlaying:e})},r)},c=h=>{if(e=h,!h){const g=()=>setTimeout(()=>{a(1),e||g()},r*2);g()}};c(!1);const l=()=>{i<=4?r=60/n/2*1e3:r=60/n/4*1e3};return l(),pt.realTime.tempo.sub(h=>{n=h,l()}),pt.realTime.timeSignature.sub(h=>{i=h.noteLength,l()}),pt.realTime.isPlaying.sub(c),pt.realTime.barBeats.sub(a),{onTick:h=>(t=[...t,h],()=>{t=t.filter(g=>g!==h)})}};let Sy;const tQ=()=>(Sy===void 0&&(Sy=ZX()),Sy),eQ=t=>tQ().onTick(t),LR={onTick:eQ},xo=t=>{const[e,n]=ie.useState(t.color);return ie.useEffect(()=>t.isFlashing?LR.onTick(r=>n(r.halfBeat?tt.BLACK:t.color)):(n(t.color),()=>{}),[t.color,t.isFlashing]),J.jsx("pad",{...t,color:e})};/**
 * @license
 * MIT License
 * 
 * Copyright (c) 2014-present, Lee Byron and other contributors.
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */var Xl="delete",ne=5,yr=1<<ne,Kn=yr-1,Ft={};function jv(){return{value:!1}}function Jr(t){t&&(t.value=!0)}function hb(){}function Su(t){return t.size===void 0&&(t.size=t.__iterate(FR)),t.size}function us(t,e){if(typeof e!="number"){var n=e>>>0;if(""+n!==e||n===4294967295)return NaN;e=n}return e<0?Su(t)+e:e}function FR(){return!0}function Rp(t,e,n){return(t===0&&!jR(t)||n!==void 0&&t<=-n)&&(e===void 0||n!==void 0&&e>=n)}function Ql(t,e){return BR(t,e,0)}function Pp(t,e){return BR(t,e,e)}function BR(t,e,n){return t===void 0?n:jR(t)?e===1/0?e:Math.max(0,e+t)|0:e===void 0||e===t?t:Math.min(e,t)|0}function jR(t){return t<0||t===0&&1/t===-1/0}var DR="@@__IMMUTABLE_ITERABLE__@@";function Cr(t){return!!(t&&t[DR])}var Ah="@@__IMMUTABLE_KEYED__@@";function ge(t){return!!(t&&t[Ah])}var kh="@@__IMMUTABLE_INDEXED__@@";function Qr(t){return!!(t&&t[kh])}function pb(t){return ge(t)||Qr(t)}var Mn=function(e){return Cr(e)?e:rr(e)},Zr=function(t){function e(n){return ge(n)?n:ps(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Mn),ca=function(t){function e(n){return Qr(n)?n:Si(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Mn),Wu=function(t){function e(n){return Cr(n)&&!pb(n)?n:Vu(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Mn);Mn.Keyed=Zr;Mn.Indexed=ca;Mn.Set=Wu;var UR="@@__IMMUTABLE_SEQ__@@";function gb(t){return!!(t&&t[UR])}var zR="@@__IMMUTABLE_RECORD__@@";function la(t){return!!(t&&t[zR])}function Qi(t){return Cr(t)||la(t)}var cs="@@__IMMUTABLE_ORDERED__@@";function qi(t){return!!(t&&t[cs])}var Ku=0,Tr=1,Or=2,Dv=typeof Symbol=="function"&&Symbol.iterator,WR="@@iterator",Mp=Dv||WR,Dt=function(e){this.next=e};Dt.prototype.toString=function(){return"[Iterator]"};Dt.KEYS=Ku;Dt.VALUES=Tr;Dt.ENTRIES=Or;Dt.prototype.inspect=Dt.prototype.toSource=function(){return this.toString()};Dt.prototype[Mp]=function(){return this};function me(t,e,n,r){var i=t===Ku?e:t===Tr?n:[e,n];return r?r.value=i:r={value:i,done:!1},r}function qn(){return{value:void 0,done:!0}}function KR(t){return Array.isArray(t)?!0:!!Np(t)}function sC(t){return t&&typeof t.next=="function"}function Uv(t){var e=Np(t);return e&&e.call(t)}function Np(t){var e=t&&(Dv&&t[Dv]||t[WR]);if(typeof e=="function")return e}function nQ(t){var e=Np(t);return e&&e===t.entries}function rQ(t){var e=Np(t);return e&&e===t.keys}var qu=Object.prototype.hasOwnProperty;function qR(t){return Array.isArray(t)||typeof t=="string"?!0:t&&typeof t=="object"&&Number.isInteger(t.length)&&t.length>=0&&(t.length===0?Object.keys(t).length===1:t.hasOwnProperty(t.length-1))}var rr=function(t){function e(n){return n==null?yb():Qi(n)?n.toSeq():oQ(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq {","}")},e.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},e.prototype.__iterate=function(r,i){var s=this._cache;if(s){for(var a=s.length,c=0;c!==a;){var l=s[i?a-++c:c++];if(r(l[1],l[0],this)===!1)break}return c}return this.__iterateUncached(r,i)},e.prototype.__iterator=function(r,i){var s=this._cache;if(s){var a=s.length,c=0;return new Dt(function(){if(c===a)return qn();var l=s[i?a-++c:c++];return me(r,l[0],l[1])})}return this.__iteratorUncached(r,i)},e}(Mn),ps=function(t){function e(n){return n==null?yb().toKeyedSeq():Cr(n)?ge(n)?n.toSeq():n.fromEntrySeq():la(n)?n.toSeq():vb(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toKeyedSeq=function(){return this},e}(rr),Si=function(t){function e(n){return n==null?yb():Cr(n)?ge(n)?n.entrySeq():n.toIndexedSeq():la(n)?n.toSeq().entrySeq():VR(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return e(arguments)},e.prototype.toIndexedSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq [","]")},e}(rr),Vu=function(t){function e(n){return(Cr(n)&&!pb(n)?n:Si(n)).toSetSeq()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return e(arguments)},e.prototype.toSetSeq=function(){return this},e}(rr);rr.isSeq=gb;rr.Keyed=ps;rr.Set=Vu;rr.Indexed=Si;rr.prototype[UR]=!0;var wu=function(t){function e(n){this._array=n,this.size=n.length}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(r,i){return this.has(r)?this._array[us(this,r)]:i},e.prototype.__iterate=function(r,i){for(var s=this._array,a=s.length,c=0;c!==a;){var l=i?a-++c:c++;if(r(s[l],l,this)===!1)break}return c},e.prototype.__iterator=function(r,i){var s=this._array,a=s.length,c=0;return new Dt(function(){if(c===a)return qn();var l=i?a-++c:c++;return me(r,l,s[l])})},e}(Si),mb=function(t){function e(n){var r=Object.keys(n).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(n):[]);this._object=n,this._keys=r,this.size=r.length}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(r,i){return i!==void 0&&!this.has(r)?i:this._object[r]},e.prototype.has=function(r){return qu.call(this._object,r)},e.prototype.__iterate=function(r,i){for(var s=this._object,a=this._keys,c=a.length,l=0;l!==c;){var d=a[i?c-++l:l++];if(r(s[d],d,this)===!1)break}return l},e.prototype.__iterator=function(r,i){var s=this._object,a=this._keys,c=a.length,l=0;return new Dt(function(){if(l===c)return qn();var d=a[i?c-++l:l++];return me(r,d,s[d])})},e}(ps);mb.prototype[cs]=!0;var iQ=function(t){function e(n){this._collection=n,this.size=n.length||n.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__iterateUncached=function(r,i){if(i)return this.cacheResult().__iterate(r,i);var s=this._collection,a=Uv(s),c=0;if(sC(a))for(var l;!(l=a.next()).done&&r(l.value,c++,this)!==!1;);return c},e.prototype.__iteratorUncached=function(r,i){if(i)return this.cacheResult().__iterator(r,i);var s=this._collection,a=Uv(s);if(!sC(a))return new Dt(qn);var c=0;return new Dt(function(){var l=a.next();return l.done?l:me(r,c++,l.value)})},e}(Si),aC;function yb(){return aC||(aC=new wu([]))}function vb(t){var e=_b(t);if(e)return e.fromEntrySeq();if(typeof t=="object")return new mb(t);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+t)}function VR(t){var e=_b(t);if(e)return e;throw new TypeError("Expected Array or collection object of values: "+t)}function oQ(t){var e=_b(t);if(e)return nQ(t)?e.fromEntrySeq():rQ(t)?e.toSetSeq():e;if(typeof t=="object")return new mb(t);throw new TypeError("Expected Array or collection object of values, or keyed object: "+t)}function _b(t){return qR(t)?new wu(t):KR(t)?new iQ(t):void 0}var HR="@@__IMMUTABLE_MAP__@@";function bb(t){return!!(t&&t[HR])}function GR(t){return bb(t)&&qi(t)}function uC(t){return!!(t&&typeof t.equals=="function"&&typeof t.hashCode=="function")}function vr(t,e){if(t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1;if(typeof t.valueOf=="function"&&typeof e.valueOf=="function"){if(t=t.valueOf(),e=e.valueOf(),t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1}return!!(uC(t)&&uC(e)&&t.equals(e))}var kc=typeof Math.imul=="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(e,n){e|=0,n|=0;var r=e&65535,i=n&65535;return r*i+((e>>>16)*i+r*(n>>>16)<<16>>>0)|0};function Lp(t){return t>>>1&1073741824|t&3221225471}var sQ=Object.prototype.valueOf;function pr(t){if(t==null)return cC(t);if(typeof t.hashCode=="function")return Lp(t.hashCode(t));var e=dQ(t);if(e==null)return cC(e);switch(typeof e){case"boolean":return e?1108378657:1108378656;case"number":return aQ(e);case"string":return e.length>hQ?uQ(e):zv(e);case"object":case"function":return lQ(e);case"symbol":return cQ(e);default:if(typeof e.toString=="function")return zv(e.toString());throw new Error("Value type "+typeof e+" cannot be hashed.")}}function cC(t){return t===null?1108378658:1108378659}function aQ(t){if(t!==t||t===1/0)return 0;var e=t|0;for(e!==t&&(e^=t*4294967295);t>4294967295;)t/=4294967295,e^=t;return Lp(e)}function uQ(t){var e=xy[t];return e===void 0&&(e=zv(t),Ey===pQ&&(Ey=0,xy={}),Ey++,xy[t]=e),e}function zv(t){for(var e=0,n=0;n<t.length;n++)e=31*e+t.charCodeAt(n)|0;return Lp(e)}function cQ(t){var e=dC[t];return e!==void 0||(e=JR(),dC[t]=e),e}function lQ(t){var e;if(Wv&&(e=Kv.get(t),e!==void 0)||(e=t[Rs],e!==void 0)||!fC&&(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[Rs],e!==void 0||(e=fQ(t),e!==void 0)))return e;if(e=JR(),Wv)Kv.set(t,e);else{if(lC!==void 0&&lC(t)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(fC)Object.defineProperty(t,Rs,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(t.propertyIsEnumerable!==void 0&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[Rs]=e;else if(t.nodeType!==void 0)t[Rs]=e;else throw new Error("Unable to set a non-enumerable property on object.")}return e}var lC=Object.isExtensible,fC=function(){try{return Object.defineProperty({},"@",{}),!0}catch{return!1}}();function fQ(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}function dQ(t){return t.valueOf!==sQ&&typeof t.valueOf=="function"?t.valueOf(t):t}function JR(){var t=++wy;return wy&1073741824&&(wy=0),t}var Wv=typeof WeakMap=="function",Kv;Wv&&(Kv=new WeakMap);var dC=Object.create(null),wy=0,Rs="__immutablehash__";typeof Symbol=="function"&&(Rs=Symbol(Rs));var hQ=16,pQ=255,Ey=0,xy={},Fp=function(t){function e(n,r){this._iter=n,this._useKeys=r,this.size=n.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(r,i){return this._iter.get(r,i)},e.prototype.has=function(r){return this._iter.has(r)},e.prototype.valueSeq=function(){return this._iter.valueSeq()},e.prototype.reverse=function(){var r=this,i=Sb(this,!0);return this._useKeys||(i.valueSeq=function(){return r._iter.toSeq().reverse()}),i},e.prototype.map=function(r,i){var s=this,a=tP(this,r,i);return this._useKeys||(a.valueSeq=function(){return s._iter.toSeq().map(r,i)}),a},e.prototype.__iterate=function(r,i){var s=this;return this._iter.__iterate(function(a,c){return r(a,c,s)},i)},e.prototype.__iterator=function(r,i){return this._iter.__iterator(r,i)},e}(ps);Fp.prototype[cs]=!0;var YR=function(t){function e(n){this._iter=n,this.size=n.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.includes=function(r){return this._iter.includes(r)},e.prototype.__iterate=function(r,i){var s=this,a=0;return i&&Su(this),this._iter.__iterate(function(c){return r(c,i?s.size-++a:a++,s)},i)},e.prototype.__iterator=function(r,i){var s=this,a=this._iter.__iterator(Tr,i),c=0;return i&&Su(this),new Dt(function(){var l=a.next();return l.done?l:me(r,i?s.size-++c:c++,l.value,l)})},e}(Si),XR=function(t){function e(n){this._iter=n,this.size=n.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.has=function(r){return this._iter.includes(r)},e.prototype.__iterate=function(r,i){var s=this;return this._iter.__iterate(function(a){return r(a,a,s)},i)},e.prototype.__iterator=function(r,i){var s=this._iter.__iterator(Tr,i);return new Dt(function(){var a=s.next();return a.done?a:me(r,a.value,a.value,a)})},e}(Vu),QR=function(t){function e(n){this._iter=n,this.size=n.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.entrySeq=function(){return this._iter.toSeq()},e.prototype.__iterate=function(r,i){var s=this;return this._iter.__iterate(function(a){if(a){pC(a);var c=Cr(a);return r(c?a.get(1):a[1],c?a.get(0):a[0],s)}},i)},e.prototype.__iterator=function(r,i){var s=this._iter.__iterator(Tr,i);return new Dt(function(){for(;;){var a=s.next();if(a.done)return a;var c=a.value;if(c){pC(c);var l=Cr(c);return me(r,l?c.get(0):c[0],l?c.get(1):c[1],a)}}})},e}(ps);YR.prototype.cacheResult=Fp.prototype.cacheResult=XR.prototype.cacheResult=QR.prototype.cacheResult=xb;function ZR(t){var e=Zi(t);return e._iter=t,e.size=t.size,e.flip=function(){return t},e.reverse=function(){var n=t.reverse.apply(this);return n.flip=function(){return t.reverse()},n},e.has=function(n){return t.includes(n)},e.includes=function(n){return t.has(n)},e.cacheResult=xb,e.__iterateUncached=function(n,r){var i=this;return t.__iterate(function(s,a){return n(a,s,i)!==!1},r)},e.__iteratorUncached=function(n,r){if(n===Or){var i=t.__iterator(n,r);return new Dt(function(){var s=i.next();if(!s.done){var a=s.value[0];s.value[0]=s.value[1],s.value[1]=a}return s})}return t.__iterator(n===Tr?Ku:Tr,r)},e}function tP(t,e,n){var r=Zi(t);return r.size=t.size,r.has=function(i){return t.has(i)},r.get=function(i,s){var a=t.get(i,Ft);return a===Ft?s:e.call(n,a,i,t)},r.__iterateUncached=function(i,s){var a=this;return t.__iterate(function(c,l,d){return i(e.call(n,c,l,d),l,a)!==!1},s)},r.__iteratorUncached=function(i,s){var a=t.__iterator(Or,s);return new Dt(function(){var c=a.next();if(c.done)return c;var l=c.value,d=l[0];return me(i,d,e.call(n,l[1],d,t),c)})},r}function Sb(t,e){var n=this,r=Zi(t);return r._iter=t,r.size=t.size,r.reverse=function(){return t},t.flip&&(r.flip=function(){var i=ZR(t);return i.reverse=function(){return t.flip()},i}),r.get=function(i,s){return t.get(e?i:-1-i,s)},r.has=function(i){return t.has(e?i:-1-i)},r.includes=function(i){return t.includes(i)},r.cacheResult=xb,r.__iterate=function(i,s){var a=this,c=0;return s&&Su(t),t.__iterate(function(l,d){return i(l,e?d:s?a.size-++c:c++,a)},!s)},r.__iterator=function(i,s){var a=0;s&&Su(t);var c=t.__iterator(Or,!s);return new Dt(function(){var l=c.next();if(l.done)return l;var d=l.value;return me(i,e?d[0]:s?n.size-++a:a++,d[1],l)})},r}function eP(t,e,n,r){var i=Zi(t);return r&&(i.has=function(s){var a=t.get(s,Ft);return a!==Ft&&!!e.call(n,a,s,t)},i.get=function(s,a){var c=t.get(s,Ft);return c!==Ft&&e.call(n,c,s,t)?c:a}),i.__iterateUncached=function(s,a){var c=this,l=0;return t.__iterate(function(d,h,g){if(e.call(n,d,h,g))return l++,s(d,r?h:l-1,c)},a),l},i.__iteratorUncached=function(s,a){var c=t.__iterator(Or,a),l=0;return new Dt(function(){for(;;){var d=c.next();if(d.done)return d;var h=d.value,g=h[0],y=h[1];if(e.call(n,y,g,t))return me(s,r?g:l++,y,d)}})},i}function gQ(t,e,n){var r=Gu().asMutable();return t.__iterate(function(i,s){r.update(e.call(n,i,s,t),0,function(a){return a+1})}),r.asImmutable()}function mQ(t,e,n){var r=ge(t),i=(qi(t)?To():Gu()).asMutable();t.__iterate(function(a,c){i.update(e.call(n,a,c,t),function(l){return l=l||[],l.push(r?[c,a]:a),l})});var s=Eb(t);return i.map(function(a){return ee(t,s(a))}).asImmutable()}function yQ(t,e,n){var r=ge(t),i=[[],[]];t.__iterate(function(a,c){i[e.call(n,a,c,t)?1:0].push(r?[c,a]:a)});var s=Eb(t);return i.map(function(a){return ee(t,s(a))})}function wb(t,e,n,r){var i=t.size;if(Rp(e,n,i))return t;if(typeof i>"u"&&(e<0||n<0))return wb(t.toSeq().cacheResult(),e,n,r);var s=Ql(e,i),a=Pp(n,i),c=a-s,l;c===c&&(l=c<0?0:c);var d=Zi(t);return d.size=l===0?l:t.size&&l||void 0,!r&&gb(t)&&l>=0&&(d.get=function(h,g){return h=us(this,h),h>=0&&h<l?t.get(h+s,g):g}),d.__iterateUncached=function(h,g){var y=this;if(l===0)return 0;if(g)return this.cacheResult().__iterate(h,g);var v=0,S=!0,x=0;return t.__iterate(function(T,O){if(!(S&&(S=v++<s)))return x++,h(T,r?O:x-1,y)!==!1&&x!==l}),x},d.__iteratorUncached=function(h,g){if(l!==0&&g)return this.cacheResult().__iterator(h,g);if(l===0)return new Dt(qn);var y=t.__iterator(h,g),v=0,S=0;return new Dt(function(){for(;v++<s;)y.next();if(++S>l)return qn();var x=y.next();return r||h===Tr||x.done?x:h===Ku?me(h,S-1,void 0,x):me(h,S-1,x.value[1],x)})},d}function vQ(t,e,n){var r=Zi(t);return r.__iterateUncached=function(i,s){var a=this;if(s)return this.cacheResult().__iterate(i,s);var c=0;return t.__iterate(function(l,d,h){return e.call(n,l,d,h)&&++c&&i(l,d,a)}),c},r.__iteratorUncached=function(i,s){var a=this;if(s)return this.cacheResult().__iterator(i,s);var c=t.__iterator(Or,s),l=!0;return new Dt(function(){if(!l)return qn();var d=c.next();if(d.done)return d;var h=d.value,g=h[0],y=h[1];return e.call(n,y,g,a)?i===Or?d:me(i,g,y,d):(l=!1,qn())})},r}function nP(t,e,n,r){var i=Zi(t);return i.__iterateUncached=function(s,a){var c=this;if(a)return this.cacheResult().__iterate(s,a);var l=!0,d=0;return t.__iterate(function(h,g,y){if(!(l&&(l=e.call(n,h,g,y))))return d++,s(h,r?g:d-1,c)}),d},i.__iteratorUncached=function(s,a){var c=this;if(a)return this.cacheResult().__iterator(s,a);var l=t.__iterator(Or,a),d=!0,h=0;return new Dt(function(){var g,y,v;do{if(g=l.next(),g.done)return r||s===Tr?g:s===Ku?me(s,h++,void 0,g):me(s,h++,g.value[1],g);var S=g.value;y=S[0],v=S[1],d&&(d=e.call(n,v,y,c))}while(d);return s===Or?g:me(s,y,v,g)})},i}var _Q=function(t){function e(n){this._wrappedIterables=n.flatMap(function(r){return r._wrappedIterables?r._wrappedIterables:[r]}),this.size=this._wrappedIterables.reduce(function(r,i){if(r!==void 0){var s=i.size;if(s!==void 0)return r+s}},0),this[Ah]=this._wrappedIterables[0][Ah],this[kh]=this._wrappedIterables[0][kh],this[cs]=this._wrappedIterables[0][cs]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__iterateUncached=function(r,i){if(this._wrappedIterables.length!==0){if(i)return this.cacheResult().__iterate(r,i);for(var s=0,a=ge(this),c=a?Or:Tr,l=this._wrappedIterables[s].__iterator(c,i),d=!0,h=0;d;){for(var g=l.next();g.done;){if(s++,s===this._wrappedIterables.length)return h;l=this._wrappedIterables[s].__iterator(c,i),g=l.next()}var y=a?r(g.value[1],g.value[0],this):r(g.value,h,this);d=y!==!1,h++}return h}},e.prototype.__iteratorUncached=function(r,i){var s=this;if(this._wrappedIterables.length===0)return new Dt(qn);if(i)return this.cacheResult().__iterator(r,i);var a=0,c=this._wrappedIterables[a].__iterator(r,i);return new Dt(function(){for(var l=c.next();l.done;){if(a++,a===s._wrappedIterables.length)return l;c=s._wrappedIterables[a].__iterator(r,i),l=c.next()}return l})},e}(rr);function bQ(t,e){var n=ge(t),r=[t].concat(e).map(function(s){return Cr(s)?n&&(s=Zr(s)):s=n?vb(s):VR(Array.isArray(s)?s:[s]),s}).filter(function(s){return s.size!==0});if(r.length===0)return t;if(r.length===1){var i=r[0];if(i===t||n&&ge(i)||Qr(t)&&Qr(i))return i}return new _Q(r)}function rP(t,e,n){var r=Zi(t);return r.__iterateUncached=function(i,s){if(s)return this.cacheResult().__iterate(i,s);var a=0,c=!1;function l(d,h){d.__iterate(function(g,y){return(!e||h<e)&&Cr(g)?l(g,h+1):(a++,i(g,n?y:a-1,r)===!1&&(c=!0)),!c},s)}return l(t,0),a},r.__iteratorUncached=function(i,s){if(s)return this.cacheResult().__iterator(i,s);var a=t.__iterator(i,s),c=[],l=0;return new Dt(function(){for(;a;){var d=a.next();if(d.done!==!1){a=c.pop();continue}var h=d.value;if(i===Or&&(h=h[1]),(!e||c.length<e)&&Cr(h))c.push(a),a=h.__iterator(i,s);else return n?d:me(i,l++,h,d)}return qn()})},r}function SQ(t,e,n){var r=Eb(t);return t.toSeq().map(function(i,s){return r(e.call(n,i,s,t))}).flatten(!0)}function wQ(t,e){var n=Zi(t);return n.size=t.size&&t.size*2-1,n.__iterateUncached=function(r,i){var s=this,a=0;return t.__iterate(function(c){return(!a||r(e,a++,s)!==!1)&&r(c,a++,s)!==!1},i),a},n.__iteratorUncached=function(r,i){var s=t.__iterator(Tr,i),a=0,c;return new Dt(function(){return(!c||a%2)&&(c=s.next(),c.done)?c:a%2?me(r,a++,e):me(r,a++,c.value,c)})},n}function Eu(t,e,n){e||(e=iP);var r=ge(t),i=0,s=t.toSeq().map(function(a,c){return[c,a,i++,n?n(a,c,t):a]}).valueSeq().toArray();return s.sort(function(a,c){return e(a[3],c[3])||a[2]-c[2]}).forEach(r?function(a,c){s[c].length=2}:function(a,c){s[c]=a[1]}),r?ps(s):Qr(t)?Si(s):Vu(s)}function ld(t,e,n){if(e||(e=iP),n){var r=t.toSeq().map(function(i,s){return[i,n(i,s,t)]}).reduce(function(i,s){return hC(e,i[1],s[1])?s:i});return r&&r[0]}return t.reduce(function(i,s){return hC(e,i,s)?s:i})}function hC(t,e,n){var r=t(n,e);return r===0&&n!==e&&(n==null||n!==n)||r>0}function fd(t,e,n,r){var i=Zi(t),s=new wu(n).map(function(a){return a.size});return i.size=r?s.max():s.min(),i.__iterate=function(a,c){for(var l=this.__iterator(Tr,c),d,h=0;!(d=l.next()).done&&a(d.value,h++,this)!==!1;);return h},i.__iteratorUncached=function(a,c){var l=n.map(function(g){return g=Mn(g),Uv(c?g.reverse():g)}),d=0,h=!1;return new Dt(function(){var g;return h||(g=l.map(function(y){return y.next()}),h=r?g.every(function(y){return y.done}):g.some(function(y){return y.done})),h?qn():me(a,d++,e.apply(null,g.map(function(y){return y.value})))})},i}function ee(t,e){return t===e?t:gb(t)?e:t.constructor(e)}function pC(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function Eb(t){return ge(t)?Zr:Qr(t)?ca:Wu}function Zi(t){return Object.create((ge(t)?ps:Qr(t)?Si:Vu).prototype)}function xb(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):rr.prototype.cacheResult.call(this)}function iP(t,e){return t===void 0&&e===void 0?0:t===void 0?1:e===void 0?-1:t>e?1:t<e?-1:0}function ji(t,e){e=e||0;for(var n=Math.max(0,t.length-e),r=new Array(n),i=0;i<n;i++)r[i]=t[i+e];return r}function Hc(t,e){if(!t)throw new Error(e)}function gr(t){Hc(t!==1/0,"Cannot perform this action with an infinite size.")}function oP(t){if(qR(t)&&typeof t!="string")return t;if(qi(t))return t.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+t)}var EQ=Object.prototype.toString;function xQ(t){if(!t||typeof t!="object"||EQ.call(t)!=="[object Object]")return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var n=e,r=Object.getPrototypeOf(e);r!==null;)n=r,r=Object.getPrototypeOf(n);return n===e}function ls(t){return typeof t=="object"&&(Qi(t)||Array.isArray(t)||xQ(t))}function dl(t){try{return typeof t=="string"?JSON.stringify(t):String(t)}catch{return JSON.stringify(t)}}function CQ(t,e){return Qi(t)?t.has(e):ls(t)&&qu.call(t,e)}function sP(t,e,n){return Qi(t)?t.get(e,n):CQ(t,e)?typeof t.get=="function"?t.get(e):t[e]:n}function Ih(t){if(Array.isArray(t))return ji(t);var e={};for(var n in t)qu.call(t,n)&&(e[n]=t[n]);return e}function TQ(t,e){if(!ls(t))throw new TypeError("Cannot update non-data-structure value: "+t);if(Qi(t)){if(!t.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+t);return t.remove(e)}if(!qu.call(t,e))return t;var n=Ih(t);return Array.isArray(n)?n.splice(e,1):delete n[e],n}function OQ(t,e,n){if(!ls(t))throw new TypeError("Cannot update non-data-structure value: "+t);if(Qi(t)){if(!t.set)throw new TypeError("Cannot update immutable value without .set() method: "+t);return t.set(e,n)}if(qu.call(t,e)&&n===t[e])return t;var r=Ih(t);return r[e]=n,r}function Hu(t,e,n,r){r||(r=n,n=void 0);var i=aP(Qi(t),t,oP(e),0,n,r);return i===Ft?n:i}function aP(t,e,n,r,i,s){var a=e===Ft;if(r===n.length){var c=a?i:e,l=s(c);return l===c?e:l}if(!a&&!ls(e))throw new TypeError("Cannot update within non-data-structure value in path ["+Array.from(n).slice(0,r).map(dl)+"]: "+e);var d=n[r],h=a?Ft:sP(e,d,Ft),g=aP(h===Ft?t:Qi(h),h,n,r+1,i,s);return g===h?e:g===Ft?TQ(e,d):OQ(a?t?Ui():{}:e,d,g)}function AQ(t,e,n){return Hu(t,e,Ft,function(){return n})}function Cb(t,e){return AQ(this,t,e)}function kQ(t,e){return Hu(t,e,function(){return Ft})}function Tb(t){return kQ(this,t)}function uP(t,e,n,r){return Hu(t,[e],n,r)}function Ob(t,e,n){return arguments.length===1?t(this):uP(this,t,e,n)}function Ab(t,e,n){return Hu(this,t,e,n)}function cP(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return fP(this,t)}function lP(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];if(typeof t!="function")throw new TypeError("Invalid merger function: "+t);return fP(this,e,t)}function fP(t,e,n){for(var r=[],i=0;i<e.length;i++){var s=Zr(e[i]);s.size!==0&&r.push(s)}return r.length===0?t:t.toSeq().size===0&&!t.__ownerID&&r.length===1?la(t)?t:t.constructor(r[0]):t.withMutations(function(a){for(var c=n?function(d,h){uP(a,h,Ft,function(g){return g===Ft?d:n(g,d,h)})}:function(d,h){a.set(h,d)},l=0;l<r.length;l++)r[l].forEach(c)})}function kb(t,e,n){return Ib(t,e,IQ(n))}function Ib(t,e,n){if(!ls(t))throw new TypeError("Cannot merge into non-data-structure value: "+t);if(Qi(t))return typeof n=="function"&&t.mergeWith?t.mergeWith.apply(t,[n].concat(e)):t.merge?t.merge.apply(t,e):t.concat.apply(t,e);for(var r=Array.isArray(t),i=t,s=r?ca:Zr,a=r?function(l){i===t&&(i=Ih(i)),i.push(l)}:function(l,d){var h=qu.call(i,d),g=h&&n?n(i[d],l,d):l;(!h||g!==i[d])&&(i===t&&(i=Ih(i)),i[d]=g)},c=0;c<e.length;c++)s(e[c]).forEach(a);return i}function IQ(t){function e(n,r,i){return ls(n)&&ls(r)&&$Q(n,r)?Ib(n,[r],e):t?t(n,r,i):r}return e}function $Q(t,e){var n=rr(t),r=rr(e);return Qr(n)===Qr(r)&&ge(n)===ge(r)}function dP(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return kb(this,t)}function hP(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return kb(this,e,t)}function $b(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return Hu(this,t,Ui(),function(r){return Ib(r,e)})}function Rb(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return Hu(this,t,Ui(),function(r){return kb(r,e)})}function Zl(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this}function tf(){return this.__ownerID?this:this.__ensureOwner(new hb)}function ef(){return this.__ensureOwner()}function Pb(){return this.__altered}var Gu=function(t){function e(n){return n==null?Ui():bb(n)&&!qi(n)?n:Ui().withMutations(function(r){var i=t(n);gr(i.size),i.forEach(function(s,a){return r.set(a,s)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return this.__toString("Map {","}")},e.prototype.get=function(r,i){return this._root?this._root.get(0,void 0,r,i):i},e.prototype.set=function(r,i){return yC(this,r,i)},e.prototype.remove=function(r){return yC(this,r,Ft)},e.prototype.deleteAll=function(r){var i=Mn(r);return i.size===0?this:this.withMutations(function(s){i.forEach(function(a){return s.remove(a)})})},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Ui()},e.prototype.sort=function(r){return To(Eu(this,r))},e.prototype.sortBy=function(r,i){return To(Eu(this,i,r))},e.prototype.map=function(r,i){var s=this;return this.withMutations(function(a){a.forEach(function(c,l){a.set(l,r.call(i,c,l,s))})})},e.prototype.__iterator=function(r,i){return new RQ(this,r,i)},e.prototype.__iterate=function(r,i){var s=this,a=0;return this._root&&this._root.iterate(function(c){return a++,r(c[1],c[0],s)},i),a},e.prototype.__ensureOwner=function(r){return r===this.__ownerID?this:r?Mb(this.size,this._root,r,this.__hash):this.size===0?Ui():(this.__ownerID=r,this.__altered=!1,this)},e}(Zr);Gu.isMap=bb;var de=Gu.prototype;de[HR]=!0;de[Xl]=de.remove;de.removeAll=de.deleteAll;de.setIn=Cb;de.removeIn=de.deleteIn=Tb;de.update=Ob;de.updateIn=Ab;de.merge=de.concat=cP;de.mergeWith=lP;de.mergeDeep=dP;de.mergeDeepWith=hP;de.mergeIn=$b;de.mergeDeepIn=Rb;de.withMutations=Zl;de.wasAltered=Pb;de.asImmutable=ef;de["@@transducer/init"]=de.asMutable=tf;de["@@transducer/step"]=function(t,e){return t.set(e[0],e[1])};de["@@transducer/result"]=function(t){return t.asImmutable()};var hl=function(e,n){this.ownerID=e,this.entries=n};hl.prototype.get=function(e,n,r,i){for(var s=this.entries,a=0,c=s.length;a<c;a++)if(vr(r,s[a][0]))return s[a][1];return i};hl.prototype.update=function(e,n,r,i,s,a,c){for(var l=s===Ft,d=this.entries,h=0,g=d.length;h<g&&!vr(i,d[h][0]);h++);var y=h<g;if(y?d[h][1]===s:l)return this;if(Jr(c),(l||!y)&&Jr(a),!(l&&d.length===1)){if(!y&&!l&&d.length>=BQ)return PQ(e,d,i,s);var v=e&&e===this.ownerID,S=v?d:ji(d);return y?l?h===g-1?S.pop():S[h]=S.pop():S[h]=[i,s]:S.push([i,s]),v?(this.entries=S,this):new hl(e,S)}};var xu=function(e,n,r){this.ownerID=e,this.bitmap=n,this.nodes=r};xu.prototype.get=function(e,n,r,i){n===void 0&&(n=pr(r));var s=1<<((e===0?n:n>>>e)&Kn),a=this.bitmap;return a&s?this.nodes[pP(a&s-1)].get(e+ne,n,r,i):i};xu.prototype.update=function(e,n,r,i,s,a,c){r===void 0&&(r=pr(i));var l=(n===0?r:r>>>n)&Kn,d=1<<l,h=this.bitmap,g=(h&d)!==0;if(!g&&s===Ft)return this;var y=pP(h&d-1),v=this.nodes,S=g?v[y]:void 0,x=Nb(S,e,n+ne,r,i,s,a,c);if(x===S)return this;if(!g&&x&&v.length>=jQ)return NQ(e,v,h,l,x);if(g&&!x&&v.length===2&&vC(v[y^1]))return v[y^1];if(g&&x&&v.length===1&&vC(x))return x;var T=e&&e===this.ownerID,O=g?x?h:h^d:h|d,N=g?x?gP(v,y,x,T):FQ(v,y,T):LQ(v,y,x,T);return T?(this.bitmap=O,this.nodes=N,this):new xu(e,O,N)};var pl=function(e,n,r){this.ownerID=e,this.count=n,this.nodes=r};pl.prototype.get=function(e,n,r,i){n===void 0&&(n=pr(r));var s=(e===0?n:n>>>e)&Kn,a=this.nodes[s];return a?a.get(e+ne,n,r,i):i};pl.prototype.update=function(e,n,r,i,s,a,c){r===void 0&&(r=pr(i));var l=(n===0?r:r>>>n)&Kn,d=s===Ft,h=this.nodes,g=h[l];if(d&&!g)return this;var y=Nb(g,e,n+ne,r,i,s,a,c);if(y===g)return this;var v=this.count;if(!g)v++;else if(!y&&(v--,v<DQ))return MQ(e,h,v,l);var S=e&&e===this.ownerID,x=gP(h,l,y,S);return S?(this.count=v,this.nodes=x,this):new pl(e,v,x)};var Cu=function(e,n,r){this.ownerID=e,this.keyHash=n,this.entries=r};Cu.prototype.get=function(e,n,r,i){for(var s=this.entries,a=0,c=s.length;a<c;a++)if(vr(r,s[a][0]))return s[a][1];return i};Cu.prototype.update=function(e,n,r,i,s,a,c){r===void 0&&(r=pr(i));var l=s===Ft;if(r!==this.keyHash)return l?this:(Jr(c),Jr(a),Lb(this,e,n,r,[i,s]));for(var d=this.entries,h=0,g=d.length;h<g&&!vr(i,d[h][0]);h++);var y=h<g;if(y?d[h][1]===s:l)return this;if(Jr(c),(l||!y)&&Jr(a),l&&g===2)return new Co(e,this.keyHash,d[h^1]);var v=e&&e===this.ownerID,S=v?d:ji(d);return y?l?h===g-1?S.pop():S[h]=S.pop():S[h]=[i,s]:S.push([i,s]),v?(this.entries=S,this):new Cu(e,this.keyHash,S)};var Co=function(e,n,r){this.ownerID=e,this.keyHash=n,this.entry=r};Co.prototype.get=function(e,n,r,i){return vr(r,this.entry[0])?this.entry[1]:i};Co.prototype.update=function(e,n,r,i,s,a,c){var l=s===Ft,d=vr(i,this.entry[0]);if(d?s===this.entry[1]:l)return this;if(Jr(c),l){Jr(a);return}return d?e&&e===this.ownerID?(this.entry[1]=s,this):new Co(e,this.keyHash,[i,s]):(Jr(a),Lb(this,e,n,pr(i),[i,s]))};hl.prototype.iterate=Cu.prototype.iterate=function(t,e){for(var n=this.entries,r=0,i=n.length-1;r<=i;r++)if(t(n[e?i-r:r])===!1)return!1};xu.prototype.iterate=pl.prototype.iterate=function(t,e){for(var n=this.nodes,r=0,i=n.length-1;r<=i;r++){var s=n[e?i-r:r];if(s&&s.iterate(t,e)===!1)return!1}};Co.prototype.iterate=function(t,e){return t(this.entry)};var RQ=function(t){function e(n,r,i){this._type=r,this._reverse=i,this._stack=n._root&&gC(n._root)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){for(var r=this._type,i=this._stack;i;){var s=i.node,a=i.index++,c=void 0;if(s.entry){if(a===0)return Cy(r,s.entry)}else if(s.entries){if(c=s.entries.length-1,a<=c)return Cy(r,s.entries[this._reverse?c-a:a])}else if(c=s.nodes.length-1,a<=c){var l=s.nodes[this._reverse?c-a:a];if(l){if(l.entry)return Cy(r,l.entry);i=this._stack=gC(l,i)}continue}i=this._stack=this._stack.__prev}return qn()},e}(Dt);function Cy(t,e){return me(t,e[0],e[1])}function gC(t,e){return{node:t,index:0,__prev:e}}function Mb(t,e,n,r){var i=Object.create(de);return i.size=t,i._root=e,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}var mC;function Ui(){return mC||(mC=Mb(0))}function yC(t,e,n){var r,i;if(t._root){var s=jv(),a=jv();if(r=Nb(t._root,t.__ownerID,0,void 0,e,n,s,a),!a.value)return t;i=t.size+(s.value?n===Ft?-1:1:0)}else{if(n===Ft)return t;i=1,r=new hl(t.__ownerID,[[e,n]])}return t.__ownerID?(t.size=i,t._root=r,t.__hash=void 0,t.__altered=!0,t):r?Mb(i,r):Ui()}function Nb(t,e,n,r,i,s,a,c){return t?t.update(e,n,r,i,s,a,c):s===Ft?t:(Jr(c),Jr(a),new Co(e,r,[i,s]))}function vC(t){return t.constructor===Co||t.constructor===Cu}function Lb(t,e,n,r,i){if(t.keyHash===r)return new Cu(e,r,[t.entry,i]);var s=(n===0?t.keyHash:t.keyHash>>>n)&Kn,a=(n===0?r:r>>>n)&Kn,c,l=s===a?[Lb(t,e,n+ne,r,i)]:(c=new Co(e,r,i),s<a?[t,c]:[c,t]);return new xu(e,1<<s|1<<a,l)}function PQ(t,e,n,r){t||(t=new hb);for(var i=new Co(t,pr(n),[n,r]),s=0;s<e.length;s++){var a=e[s];i=i.update(t,0,void 0,a[0],a[1])}return i}function MQ(t,e,n,r){for(var i=0,s=0,a=new Array(n),c=0,l=1,d=e.length;c<d;c++,l<<=1){var h=e[c];h!==void 0&&c!==r&&(i|=l,a[s++]=h)}return new xu(t,i,a)}function NQ(t,e,n,r,i){for(var s=0,a=new Array(yr),c=0;n!==0;c++,n>>>=1)a[c]=n&1?e[s++]:void 0;return a[r]=i,new pl(t,s+1,a)}function pP(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),t=t+(t>>4)&252645135,t+=t>>8,t+=t>>16,t&127}function gP(t,e,n,r){var i=r?t:ji(t);return i[e]=n,i}function LQ(t,e,n,r){var i=t.length+1;if(r&&e+1===i)return t[e]=n,t;for(var s=new Array(i),a=0,c=0;c<i;c++)c===e?(s[c]=n,a=-1):s[c]=t[c+a];return s}function FQ(t,e,n){var r=t.length-1;if(n&&e===r)return t.pop(),t;for(var i=new Array(r),s=0,a=0;a<r;a++)a===e&&(s=1),i[a]=t[a+s];return i}var BQ=yr/4,jQ=yr/2,DQ=yr/4,mP="@@__IMMUTABLE_LIST__@@";function yP(t){return!!(t&&t[mP])}var Ju=function(t){function e(n){var r=Bd();if(n==null)return r;if(yP(n))return n;var i=t(n),s=i.size;return s===0?r:(gr(s),s>0&&s<yr?gl(0,s,ne,null,new rs(i.toArray())):r.withMutations(function(a){a.setSize(s),i.forEach(function(c,l){return a.set(l,c)})}))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("List [","]")},e.prototype.get=function(r,i){if(r=us(this,r),r>=0&&r<this.size){r+=this._origin;var s=vP(this,r);return s&&s.array[r&Kn]}return i},e.prototype.set=function(r,i){return UQ(this,r,i)},e.prototype.remove=function(r){return this.has(r)?r===0?this.shift():r===this.size-1?this.pop():this.splice(r,1):this},e.prototype.insert=function(r,i){return this.splice(r,0,i)},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=ne,this._root=this._tail=this.__hash=void 0,this.__altered=!0,this):Bd()},e.prototype.push=function(){var r=arguments,i=this.size;return this.withMutations(function(s){Xo(s,0,i+r.length);for(var a=0;a<r.length;a++)s.set(i+a,r[a])})},e.prototype.pop=function(){return Xo(this,0,-1)},e.prototype.unshift=function(){var r=arguments;return this.withMutations(function(i){Xo(i,-r.length);for(var s=0;s<r.length;s++)i.set(s,r[s])})},e.prototype.shift=function(){return Xo(this,1)},e.prototype.shuffle=function(r){return r===void 0&&(r=Math.random),this.withMutations(function(i){for(var s=i.size,a,c;s;)a=Math.floor(r()*s--),c=i.get(a),i.set(a,i.get(s)),i.set(s,c)})},e.prototype.concat=function(){for(var r=arguments,i=[],s=0;s<arguments.length;s++){var a=r[s],c=t(typeof a!="string"&&KR(a)?a:[a]);c.size!==0&&i.push(c)}return i.length===0?this:this.size===0&&!this.__ownerID&&i.length===1?this.constructor(i[0]):this.withMutations(function(l){i.forEach(function(d){return d.forEach(function(h){return l.push(h)})})})},e.prototype.setSize=function(r){return Xo(this,0,r)},e.prototype.map=function(r,i){var s=this;return this.withMutations(function(a){for(var c=0;c<s.size;c++)a.set(c,r.call(i,a.get(c),c,s))})},e.prototype.slice=function(r,i){var s=this.size;return Rp(r,i,s)?this:Xo(this,Ql(r,s),Pp(i,s))},e.prototype.__iterator=function(r,i){var s=i?this.size:0,a=_C(this,i);return new Dt(function(){var c=a();return c===Gc?qn():me(r,i?--s:s++,c)})},e.prototype.__iterate=function(r,i){for(var s=i?this.size:0,a=_C(this,i),c;(c=a())!==Gc&&r(c,i?--s:s++,this)!==!1;);return s},e.prototype.__ensureOwner=function(r){return r===this.__ownerID?this:r?gl(this._origin,this._capacity,this._level,this._root,this._tail,r,this.__hash):this.size===0?Bd():(this.__ownerID=r,this.__altered=!1,this)},e}(ca);Ju.isList=yP;var Ue=Ju.prototype;Ue[mP]=!0;Ue[Xl]=Ue.remove;Ue.merge=Ue.concat;Ue.setIn=Cb;Ue.deleteIn=Ue.removeIn=Tb;Ue.update=Ob;Ue.updateIn=Ab;Ue.mergeIn=$b;Ue.mergeDeepIn=Rb;Ue.withMutations=Zl;Ue.wasAltered=Pb;Ue.asImmutable=ef;Ue["@@transducer/init"]=Ue.asMutable=tf;Ue["@@transducer/step"]=function(t,e){return t.push(e)};Ue["@@transducer/result"]=function(t){return t.asImmutable()};var rs=function(e,n){this.array=e,this.ownerID=n};rs.prototype.removeBefore=function(e,n,r){if(!(r&(1<<n+ne)-1)||this.array.length===0)return this;var i=r>>>n&Kn;if(i>=this.array.length)return new rs([],e);var s=i===0,a;if(n>0){var c=this.array[i];if(a=c&&c.removeBefore(e,n-ne,r),a===c&&s)return this}if(s&&!a)return this;var l=Tu(this,e);if(!s)for(var d=0;d<i;d++)l.array[d]=void 0;return a&&(l.array[i]=a),l};rs.prototype.removeAfter=function(e,n,r){if(r===(n?1<<n+ne:yr)||this.array.length===0)return this;var i=r-1>>>n&Kn;if(i>=this.array.length)return this;var s;if(n>0){var a=this.array[i];if(s=a&&a.removeAfter(e,n-ne,r),s===a&&i===this.array.length-1)return this}var c=Tu(this,e);return c.array.splice(i+1),s&&(c.array[i]=s),c};var Gc={};function _C(t,e){var n=t._origin,r=t._capacity,i=ml(r),s=t._tail;return a(t._root,t._level,0);function a(d,h,g){return h===0?c(d,g):l(d,h,g)}function c(d,h){var g=h===i?s&&s.array:d&&d.array,y=h>n?0:n-h,v=r-h;return v>yr&&(v=yr),function(){if(y===v)return Gc;var S=e?--v:y++;return g&&g[S]}}function l(d,h,g){var y,v=d&&d.array,S=g>n?0:n-g>>h,x=(r-g>>h)+1;return x>yr&&(x=yr),function(){for(;;){if(y){var T=y();if(T!==Gc)return T;y=null}if(S===x)return Gc;var O=e?--x:S++;y=a(v&&v[O],h-ne,g+(O<<h))}}}}function gl(t,e,n,r,i,s,a){var c=Object.create(Ue);return c.size=e-t,c._origin=t,c._capacity=e,c._level=n,c._root=r,c._tail=i,c.__ownerID=s,c.__hash=a,c.__altered=!1,c}function Bd(){return gl(0,0,ne)}function UQ(t,e,n){if(e=us(t,e),e!==e)return t;if(e>=t.size||e<0)return t.withMutations(function(a){e<0?Xo(a,e).set(0,n):Xo(a,0,e+1).set(e,n)});e+=t._origin;var r=t._tail,i=t._root,s=jv();return e>=ml(t._capacity)?r=qv(r,t.__ownerID,0,e,n,s):i=qv(i,t.__ownerID,t._level,e,n,s),s.value?t.__ownerID?(t._root=i,t._tail=r,t.__hash=void 0,t.__altered=!0,t):gl(t._origin,t._capacity,t._level,i,r):t}function qv(t,e,n,r,i,s){var a=r>>>n&Kn,c=t&&a<t.array.length;if(!c&&i===void 0)return t;var l;if(n>0){var d=t&&t.array[a],h=qv(d,e,n-ne,r,i,s);return h===d?t:(l=Tu(t,e),l.array[a]=h,l)}return c&&t.array[a]===i?t:(s&&Jr(s),l=Tu(t,e),i===void 0&&a===l.array.length-1?l.array.pop():l.array[a]=i,l)}function Tu(t,e){return e&&t&&e===t.ownerID?t:new rs(t?t.array.slice():[],e)}function vP(t,e){if(e>=ml(t._capacity))return t._tail;if(e<1<<t._level+ne){for(var n=t._root,r=t._level;n&&r>0;)n=n.array[e>>>r&Kn],r-=ne;return n}}function Xo(t,e,n){e!==void 0&&(e|=0),n!==void 0&&(n|=0);var r=t.__ownerID||new hb,i=t._origin,s=t._capacity,a=i+e,c=n===void 0?s:n<0?s+n:i+n;if(a===i&&c===s)return t;if(a>=c)return t.clear();for(var l=t._level,d=t._root,h=0;a+h<0;)d=new rs(d&&d.array.length?[void 0,d]:[],r),l+=ne,h+=1<<l;h&&(a+=h,i+=h,c+=h,s+=h);for(var g=ml(s),y=ml(c);y>=1<<l+ne;)d=new rs(d&&d.array.length?[d]:[],r),l+=ne;var v=t._tail,S=y<g?vP(t,c-1):y>g?new rs([],r):v;if(v&&y>g&&a<s&&v.array.length){d=Tu(d,r);for(var x=d,T=l;T>ne;T-=ne){var O=g>>>T&Kn;x=x.array[O]=Tu(x.array[O],r)}x.array[g>>>ne&Kn]=v}if(c<s&&(S=S&&S.removeAfter(r,0,c)),a>=y)a-=y,c-=y,l=ne,d=null,S=S&&S.removeBefore(r,0,a);else if(a>i||y<g){for(h=0;d;){var N=a>>>l&Kn;if(N!==y>>>l&Kn)break;N&&(h+=(1<<l)*N),l-=ne,d=d.array[N]}d&&a>i&&(d=d.removeBefore(r,l,a-h)),d&&y<g&&(d=d.removeAfter(r,l,y-h)),h&&(a-=h,c-=h)}return t.__ownerID?(t.size=c-a,t._origin=a,t._capacity=c,t._level=l,t._root=d,t._tail=S,t.__hash=void 0,t.__altered=!0,t):gl(a,c,l,d,S)}function ml(t){return t<yr?0:t-1>>>ne<<ne}var To=function(t){function e(n){return n==null?Fc():GR(n)?n:Fc().withMutations(function(r){var i=Zr(n);gr(i.size),i.forEach(function(s,a){return r.set(a,s)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("OrderedMap {","}")},e.prototype.get=function(r,i){var s=this._map.get(r);return s!==void 0?this._list.get(s)[1]:i},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this.__altered=!0,this):Fc()},e.prototype.set=function(r,i){return SC(this,r,i)},e.prototype.remove=function(r){return SC(this,r,Ft)},e.prototype.__iterate=function(r,i){var s=this;return this._list.__iterate(function(a){return a&&r(a[1],a[0],s)},i)},e.prototype.__iterator=function(r,i){return this._list.fromEntrySeq().__iterator(r,i)},e.prototype.__ensureOwner=function(r){if(r===this.__ownerID)return this;var i=this._map.__ensureOwner(r),s=this._list.__ensureOwner(r);return r?Fb(i,s,r,this.__hash):this.size===0?Fc():(this.__ownerID=r,this.__altered=!1,this._map=i,this._list=s,this)},e}(Gu);To.isOrderedMap=GR;To.prototype[cs]=!0;To.prototype[Xl]=To.prototype.remove;function Fb(t,e,n,r){var i=Object.create(To.prototype);return i.size=t?t.size:0,i._map=t,i._list=e,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}var bC;function Fc(){return bC||(bC=Fb(Ui(),Bd()))}function SC(t,e,n){var r=t._map,i=t._list,s=r.get(e),a=s!==void 0,c,l;if(n===Ft){if(!a)return t;i.size>=yr&&i.size>=r.size*2?(l=i.filter(function(d,h){return d!==void 0&&s!==h}),c=l.toKeyedSeq().map(function(d){return d[0]}).flip().toMap(),t.__ownerID&&(c.__ownerID=l.__ownerID=t.__ownerID)):(c=r.remove(e),l=s===i.size-1?i.pop():i.set(s,void 0))}else if(a){if(n===i.get(s)[1])return t;c=r,l=i.set(s,[e,n])}else c=r.set(e,i.size),l=i.set(i.size,[e,n]);return t.__ownerID?(t.size=c.size,t._map=c,t._list=l,t.__hash=void 0,t.__altered=!0,t):Fb(c,l)}var _P="@@__IMMUTABLE_STACK__@@";function Vv(t){return!!(t&&t[_P])}var Bb=function(t){function e(n){return n==null?dd():Vv(n)?n:dd().pushAll(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("Stack [","]")},e.prototype.get=function(r,i){var s=this._head;for(r=us(this,r);s&&r--;)s=s.next;return s?s.value:i},e.prototype.peek=function(){return this._head&&this._head.value},e.prototype.push=function(){var r=arguments;if(arguments.length===0)return this;for(var i=this.size+arguments.length,s=this._head,a=arguments.length-1;a>=0;a--)s={value:r[a],next:s};return this.__ownerID?(this.size=i,this._head=s,this.__hash=void 0,this.__altered=!0,this):Bc(i,s)},e.prototype.pushAll=function(r){if(r=t(r),r.size===0)return this;if(this.size===0&&Vv(r))return r;gr(r.size);var i=this.size,s=this._head;return r.__iterate(function(a){i++,s={value:a,next:s}},!0),this.__ownerID?(this.size=i,this._head=s,this.__hash=void 0,this.__altered=!0,this):Bc(i,s)},e.prototype.pop=function(){return this.slice(1)},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):dd()},e.prototype.slice=function(r,i){if(Rp(r,i,this.size))return this;var s=Ql(r,this.size),a=Pp(i,this.size);if(a!==this.size)return t.prototype.slice.call(this,r,i);for(var c=this.size-s,l=this._head;s--;)l=l.next;return this.__ownerID?(this.size=c,this._head=l,this.__hash=void 0,this.__altered=!0,this):Bc(c,l)},e.prototype.__ensureOwner=function(r){return r===this.__ownerID?this:r?Bc(this.size,this._head,r,this.__hash):this.size===0?dd():(this.__ownerID=r,this.__altered=!1,this)},e.prototype.__iterate=function(r,i){var s=this;if(i)return new wu(this.toArray()).__iterate(function(l,d){return r(l,d,s)},i);for(var a=0,c=this._head;c&&r(c.value,a++,this)!==!1;)c=c.next;return a},e.prototype.__iterator=function(r,i){if(i)return new wu(this.toArray()).__iterator(r,i);var s=0,a=this._head;return new Dt(function(){if(a){var c=a.value;return a=a.next,me(r,s++,c)}return qn()})},e}(ca);Bb.isStack=Vv;var Vn=Bb.prototype;Vn[_P]=!0;Vn.shift=Vn.pop;Vn.unshift=Vn.push;Vn.unshiftAll=Vn.pushAll;Vn.withMutations=Zl;Vn.wasAltered=Pb;Vn.asImmutable=ef;Vn["@@transducer/init"]=Vn.asMutable=tf;Vn["@@transducer/step"]=function(t,e){return t.unshift(e)};Vn["@@transducer/result"]=function(t){return t.asImmutable()};function Bc(t,e,n,r){var i=Object.create(Vn);return i.size=t,i._head=e,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}var wC;function dd(){return wC||(wC=Bc(0))}var bP="@@__IMMUTABLE_SET__@@";function jb(t){return!!(t&&t[bP])}function SP(t){return jb(t)&&qi(t)}function wP(t,e){if(t===e)return!0;if(!Cr(e)||t.size!==void 0&&e.size!==void 0&&t.size!==e.size||t.__hash!==void 0&&e.__hash!==void 0&&t.__hash!==e.__hash||ge(t)!==ge(e)||Qr(t)!==Qr(e)||qi(t)!==qi(e))return!1;if(t.size===0&&e.size===0)return!0;var n=!pb(t);if(qi(t)){var r=t.entries();return e.every(function(l,d){var h=r.next().value;return h&&vr(h[1],l)&&(n||vr(h[0],d))})&&r.next().done}var i=!1;if(t.size===void 0)if(e.size===void 0)typeof t.cacheResult=="function"&&t.cacheResult();else{i=!0;var s=t;t=e,e=s}var a=!0,c=e.__iterate(function(l,d){if(n?!t.has(l):i?!vr(l,t.get(d,Ft)):!vr(t.get(d,Ft),l))return a=!1,!1});return a&&t.size===c}function fa(t,e){var n=function(r){t.prototype[r]=e[r]};return Object.keys(e).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(n),t}function $h(t){if(!t||typeof t!="object")return t;if(!Cr(t)){if(!ls(t))return t;t=rr(t)}if(ge(t)){var e={};return t.__iterate(function(r,i){e[i]=$h(r)}),e}var n=[];return t.__iterate(function(r){n.push($h(r))}),n}var nf=function(t){function e(n){return n==null?jc():jb(n)&&!qi(n)?n:jc().withMutations(function(r){var i=t(n);gr(i.size),i.forEach(function(s){return r.add(s)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(r){return this(Zr(r).keySeq())},e.intersect=function(r){return r=Mn(r).toArray(),r.length?yn.intersect.apply(e(r.pop()),r):jc()},e.union=function(r){return r=Mn(r).toArray(),r.length?yn.union.apply(e(r.pop()),r):jc()},e.prototype.toString=function(){return this.__toString("Set {","}")},e.prototype.has=function(r){return this._map.has(r)},e.prototype.add=function(r){return hd(this,this._map.set(r,r))},e.prototype.remove=function(r){return hd(this,this._map.remove(r))},e.prototype.clear=function(){return hd(this,this._map.clear())},e.prototype.map=function(r,i){var s=this,a=!1,c=hd(this,this._map.mapEntries(function(l){var d=l[1],h=r.call(i,d,d,s);return h!==d&&(a=!0),[h,h]},i));return a?c:this},e.prototype.union=function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];return r=r.filter(function(s){return s.size!==0}),r.length===0?this:this.size===0&&!this.__ownerID&&r.length===1?this.constructor(r[0]):this.withMutations(function(s){for(var a=0;a<r.length;a++)typeof r[a]=="string"?s.add(r[a]):t(r[a]).forEach(function(c){return s.add(c)})})},e.prototype.intersect=function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];if(r.length===0)return this;r=r.map(function(a){return t(a)});var s=[];return this.forEach(function(a){r.every(function(c){return c.includes(a)})||s.push(a)}),this.withMutations(function(a){s.forEach(function(c){a.remove(c)})})},e.prototype.subtract=function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];if(r.length===0)return this;r=r.map(function(a){return t(a)});var s=[];return this.forEach(function(a){r.some(function(c){return c.includes(a)})&&s.push(a)}),this.withMutations(function(a){s.forEach(function(c){a.remove(c)})})},e.prototype.sort=function(r){return yl(Eu(this,r))},e.prototype.sortBy=function(r,i){return yl(Eu(this,i,r))},e.prototype.wasAltered=function(){return this._map.wasAltered()},e.prototype.__iterate=function(r,i){var s=this;return this._map.__iterate(function(a){return r(a,a,s)},i)},e.prototype.__iterator=function(r,i){return this._map.__iterator(r,i)},e.prototype.__ensureOwner=function(r){if(r===this.__ownerID)return this;var i=this._map.__ensureOwner(r);return r?this.__make(i,r):this.size===0?this.__empty():(this.__ownerID=r,this._map=i,this)},e}(Wu);nf.isSet=jb;var yn=nf.prototype;yn[bP]=!0;yn[Xl]=yn.remove;yn.merge=yn.concat=yn.union;yn.withMutations=Zl;yn.asImmutable=ef;yn["@@transducer/init"]=yn.asMutable=tf;yn["@@transducer/step"]=function(t,e){return t.add(e)};yn["@@transducer/result"]=function(t){return t.asImmutable()};yn.__empty=jc;yn.__make=EP;function hd(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:e.size===0?t.__empty():t.__make(e)}function EP(t,e){var n=Object.create(yn);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}var EC;function jc(){return EC||(EC=EP(Ui()))}var zQ=function(t){function e(n,r,i){if(i===void 0&&(i=1),!(this instanceof e))return new e(n,r,i);if(Hc(i!==0,"Cannot step a Range by 0"),Hc(n!==void 0,"You must define a start value when using Range"),Hc(r!==void 0,"You must define an end value when using Range"),i=Math.abs(i),r<n&&(i=-i),this._start=n,this._end=r,this._step=i,this.size=Math.max(0,Math.ceil((r-n)/i-1)+1),this.size===0){if(Ty)return Ty;Ty=this}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step!==1?" by "+this._step:"")+" ]"},e.prototype.get=function(r,i){return this.has(r)?this._start+us(this,r)*this._step:i},e.prototype.includes=function(r){var i=(r-this._start)/this._step;return i>=0&&i<this.size&&i===Math.floor(i)},e.prototype.slice=function(r,i){return Rp(r,i,this.size)?this:(r=Ql(r,this.size),i=Pp(i,this.size),i<=r?new e(0,0):new e(this.get(r,this._end),this.get(i,this._end),this._step))},e.prototype.indexOf=function(r){var i=r-this._start;if(i%this._step===0){var s=i/this._step;if(s>=0&&s<this.size)return s}return-1},e.prototype.lastIndexOf=function(r){return this.indexOf(r)},e.prototype.__iterate=function(r,i){for(var s=this.size,a=this._step,c=i?this._start+(s-1)*a:this._start,l=0;l!==s&&r(c,i?s-++l:l++,this)!==!1;)c+=i?-a:a;return l},e.prototype.__iterator=function(r,i){var s=this.size,a=this._step,c=i?this._start+(s-1)*a:this._start,l=0;return new Dt(function(){if(l===s)return qn();var d=c;return c+=i?-a:a,me(r,i?s-++l:l++,d)})},e.prototype.equals=function(r){return r instanceof e?this._start===r._start&&this._end===r._end&&this._step===r._step:wP(this,r)},e}(Si),Ty;function xP(t,e,n){for(var r=oP(e),i=0;i!==r.length;)if(t=sP(t,r[i++],Ft),t===Ft)return n;return t}function CP(t,e){return xP(this,t,e)}function WQ(t,e){return xP(t,e,Ft)!==Ft}function KQ(t){return WQ(this,t)}function TP(){gr(this.size);var t={};return this.__iterate(function(e,n){t[n]=e}),t}Mn.Iterator=Dt;fa(Mn,{toArray:function(){gr(this.size);var e=new Array(this.size||0),n=ge(this),r=0;return this.__iterate(function(i,s){e[r++]=n?[s,i]:i}),e},toIndexedSeq:function(){return new YR(this)},toJS:function(){return $h(this)},toKeyedSeq:function(){return new Fp(this,!0)},toMap:function(){return Gu(this.toKeyedSeq())},toObject:TP,toOrderedMap:function(){return To(this.toKeyedSeq())},toOrderedSet:function(){return yl(ge(this)?this.valueSeq():this)},toSet:function(){return nf(ge(this)?this.valueSeq():this)},toSetSeq:function(){return new XR(this)},toSeq:function(){return Qr(this)?this.toIndexedSeq():ge(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Bb(ge(this)?this.valueSeq():this)},toList:function(){return Ju(ge(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(e,n){return this.size===0?e+n:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+n},concat:function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];return ee(this,bQ(this,e))},includes:function(e){return this.some(function(n){return vr(n,e)})},entries:function(){return this.__iterator(Or)},every:function(e,n){gr(this.size);var r=!0;return this.__iterate(function(i,s,a){if(!e.call(n,i,s,a))return r=!1,!1}),r},filter:function(e,n){return ee(this,eP(this,e,n,!0))},partition:function(e,n){return yQ(this,e,n)},find:function(e,n,r){var i=this.findEntry(e,n);return i?i[1]:r},forEach:function(e,n){return gr(this.size),this.__iterate(n?e.bind(n):e)},join:function(e){gr(this.size),e=e!==void 0?""+e:",";var n="",r=!0;return this.__iterate(function(i){r?r=!1:n+=e,n+=i!=null?i.toString():""}),n},keys:function(){return this.__iterator(Ku)},map:function(e,n){return ee(this,tP(this,e,n))},reduce:function(e,n,r){return xC(this,e,n,r,arguments.length<2,!1)},reduceRight:function(e,n,r){return xC(this,e,n,r,arguments.length<2,!0)},reverse:function(){return ee(this,Sb(this,!0))},slice:function(e,n){return ee(this,wb(this,e,n,!0))},some:function(e,n){gr(this.size);var r=!1;return this.__iterate(function(i,s,a){if(e.call(n,i,s,a))return r=!0,!1}),r},sort:function(e){return ee(this,Eu(this,e))},values:function(){return this.__iterator(Tr)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(e,n){return Su(e?this.toSeq().filter(e,n):this)},countBy:function(e,n){return gQ(this,e,n)},equals:function(e){return wP(this,e)},entrySeq:function(){var e=this;if(e._cache)return new wu(e._cache);var n=e.toSeq().map(VQ).toIndexedSeq();return n.fromEntrySeq=function(){return e.toSeq()},n},filterNot:function(e,n){return this.filter(Oy(e),n)},findEntry:function(e,n,r){var i=r;return this.__iterate(function(s,a,c){if(e.call(n,s,a,c))return i=[a,s],!1}),i},findKey:function(e,n){var r=this.findEntry(e,n);return r&&r[0]},findLast:function(e,n,r){return this.toKeyedSeq().reverse().find(e,n,r)},findLastEntry:function(e,n,r){return this.toKeyedSeq().reverse().findEntry(e,n,r)},findLastKey:function(e,n){return this.toKeyedSeq().reverse().findKey(e,n)},first:function(e){return this.find(FR,null,e)},flatMap:function(e,n){return ee(this,SQ(this,e,n))},flatten:function(e){return ee(this,rP(this,e,!0))},fromEntrySeq:function(){return new QR(this)},get:function(e,n){return this.find(function(r,i){return vr(i,e)},void 0,n)},getIn:CP,groupBy:function(e,n){return mQ(this,e,n)},has:function(e){return this.get(e,Ft)!==Ft},hasIn:KQ,isSubset:function(e){return e=typeof e.includes=="function"?e:Mn(e),this.every(function(n){return e.includes(n)})},isSuperset:function(e){return e=typeof e.isSubset=="function"?e:Mn(e),e.isSubset(this)},keyOf:function(e){return this.findKey(function(n){return vr(n,e)})},keySeq:function(){return this.toSeq().map(qQ).toIndexedSeq()},last:function(e){return this.toSeq().reverse().first(e)},lastKeyOf:function(e){return this.toKeyedSeq().reverse().keyOf(e)},max:function(e){return ld(this,e)},maxBy:function(e,n){return ld(this,n,e)},min:function(e){return ld(this,e?CC(e):OC)},minBy:function(e,n){return ld(this,n?CC(n):OC,e)},rest:function(){return this.slice(1)},skip:function(e){return e===0?this:this.slice(Math.max(0,e))},skipLast:function(e){return e===0?this:this.slice(0,-Math.max(0,e))},skipWhile:function(e,n){return ee(this,nP(this,e,n,!0))},skipUntil:function(e,n){return this.skipWhile(Oy(e),n)},sortBy:function(e,n){return ee(this,Eu(this,n,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return this.slice(-Math.max(0,e))},takeWhile:function(e,n){return ee(this,vQ(this,e,n))},takeUntil:function(e,n){return this.takeWhile(Oy(e),n)},update:function(e){return e(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=HQ(this))}});var Ln=Mn.prototype;Ln[DR]=!0;Ln[Mp]=Ln.values;Ln.toJSON=Ln.toArray;Ln.__toStringMapper=dl;Ln.inspect=Ln.toSource=function(){return this.toString()};Ln.chain=Ln.flatMap;Ln.contains=Ln.includes;fa(Zr,{flip:function(){return ee(this,ZR(this))},mapEntries:function(e,n){var r=this,i=0;return ee(this,this.toSeq().map(function(s,a){return e.call(n,[a,s],i++,r)}).fromEntrySeq())},mapKeys:function(e,n){var r=this;return ee(this,this.toSeq().flip().map(function(i,s){return e.call(n,i,s,r)}).flip())}});var rf=Zr.prototype;rf[Ah]=!0;rf[Mp]=Ln.entries;rf.toJSON=TP;rf.__toStringMapper=function(t,e){return dl(e)+": "+dl(t)};fa(ca,{toKeyedSeq:function(){return new Fp(this,!1)},filter:function(e,n){return ee(this,eP(this,e,n,!1))},findIndex:function(e,n){var r=this.findEntry(e,n);return r?r[0]:-1},indexOf:function(e){var n=this.keyOf(e);return n===void 0?-1:n},lastIndexOf:function(e){var n=this.lastKeyOf(e);return n===void 0?-1:n},reverse:function(){return ee(this,Sb(this,!1))},slice:function(e,n){return ee(this,wb(this,e,n,!1))},splice:function(e,n){var r=arguments.length;if(n=Math.max(n||0,0),r===0||r===2&&!n)return this;e=Ql(e,e<0?this.count():this.size);var i=this.slice(0,e);return ee(this,r===1?i:i.concat(ji(arguments,2),this.slice(e+n)))},findLastIndex:function(e,n){var r=this.findLastEntry(e,n);return r?r[0]:-1},first:function(e){return this.get(0,e)},flatten:function(e){return ee(this,rP(this,e,!1))},get:function(e,n){return e=us(this,e),e<0||this.size===1/0||this.size!==void 0&&e>this.size?n:this.find(function(r,i){return i===e},void 0,n)},has:function(e){return e=us(this,e),e>=0&&(this.size!==void 0?this.size===1/0||e<this.size:this.indexOf(e)!==-1)},interpose:function(e){return ee(this,wQ(this,e))},interleave:function(){var e=[this].concat(ji(arguments)),n=fd(this.toSeq(),Si.of,e),r=n.flatten(!0);return n.size&&(r.size=n.size*e.length),ee(this,r)},keySeq:function(){return zQ(0,this.size)},last:function(e){return this.get(-1,e)},skipWhile:function(e,n){return ee(this,nP(this,e,n,!1))},zip:function(){var e=[this].concat(ji(arguments));return ee(this,fd(this,TC,e))},zipAll:function(){var e=[this].concat(ji(arguments));return ee(this,fd(this,TC,e,!0))},zipWith:function(e){var n=ji(arguments);return n[0]=this,ee(this,fd(this,e,n))}});var Yu=ca.prototype;Yu[kh]=!0;Yu[cs]=!0;fa(Wu,{get:function(e,n){return this.has(e)?e:n},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}});var Ou=Wu.prototype;Ou.has=Ln.includes;Ou.contains=Ou.includes;Ou.keys=Ou.values;fa(ps,rf);fa(Si,Yu);fa(Vu,Ou);function xC(t,e,n,r,i,s){return gr(t.size),t.__iterate(function(a,c,l){i?(i=!1,n=a):n=e.call(r,n,a,c,l)},s),n}function qQ(t,e){return e}function VQ(t,e){return[e,t]}function Oy(t){return function(){return!t.apply(this,arguments)}}function CC(t){return function(){return-t.apply(this,arguments)}}function TC(){return ji(arguments)}function OC(t,e){return t<e?1:t>e?-1:0}function HQ(t){if(t.size===1/0)return 0;var e=qi(t),n=ge(t),r=e?1:0;return t.__iterate(n?e?function(i,s){r=31*r+AC(pr(i),pr(s))|0}:function(i,s){r=r+AC(pr(i),pr(s))|0}:e?function(i){r=31*r+pr(i)|0}:function(i){r=r+pr(i)|0}),GQ(t.size,r)}function GQ(t,e){return e=kc(e,3432918353),e=kc(e<<15|e>>>-15,461845907),e=kc(e<<13|e>>>-13,5),e=(e+3864292196|0)^t,e=kc(e^e>>>16,2246822507),e=kc(e^e>>>13,3266489909),e=Lp(e^e>>>16),e}function AC(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}var yl=function(t){function e(n){return n==null?Hv():SP(n)?n:Hv().withMutations(function(r){var i=Wu(n);gr(i.size),i.forEach(function(s){return r.add(s)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(r){return this(Zr(r).keySeq())},e.prototype.toString=function(){return this.__toString("OrderedSet {","}")},e}(nf);yl.isOrderedSet=SP;var da=yl.prototype;da[cs]=!0;da.zip=Yu.zip;da.zipWith=Yu.zipWith;da.zipAll=Yu.zipAll;da.__empty=Hv;da.__make=OP;function OP(t,e){var n=Object.create(da);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}var kC;function Hv(){return kC||(kC=OP(Fc()))}function JQ(t){if(la(t))throw new Error("Can not call `Record` with an immutable Record as default values. Use a plain javascript object instead.");if(Qi(t))throw new Error("Can not call `Record` with an immutable Collection as default values. Use a plain javascript object instead.");if(t===null||typeof t!="object")throw new Error("Can not call `Record` with a non-object as default values. Use a plain javascript object instead.")}var rn=function(e,n){var r;JQ(e);var i=function(c){var l=this;if(c instanceof i)return c;if(!(this instanceof i))return new i(c);if(!r){r=!0;var d=Object.keys(e),h=s._indices={};s._name=n,s._keys=d,s._defaultValues=e;for(var g=0;g<d.length;g++){var y=d[g];h[y]=g,s[y]?typeof console=="object"&&console.warn&&console.warn("Cannot define "+Ub(this)+' with property "'+y+'" since that property name is part of the Record API.'):YQ(s,y)}}return this.__ownerID=void 0,this._values=Ju().withMutations(function(v){v.setSize(l._keys.length),Zr(c).forEach(function(S,x){v.set(l._indices[x],S===l._defaultValues[x]?void 0:S)})}),this},s=i.prototype=Object.create(ce);return s.constructor=i,n&&(i.displayName=n),i};rn.prototype.toString=function(){for(var e=Ub(this)+" { ",n=this._keys,r,i=0,s=n.length;i!==s;i++)r=n[i],e+=(i?", ":"")+r+": "+dl(this.get(r));return e+" }"};rn.prototype.equals=function(e){return this===e||la(e)&&Au(this).equals(Au(e))};rn.prototype.hashCode=function(){return Au(this).hashCode()};rn.prototype.has=function(e){return this._indices.hasOwnProperty(e)};rn.prototype.get=function(e,n){if(!this.has(e))return n;var r=this._indices[e],i=this._values.get(r);return i===void 0?this._defaultValues[e]:i};rn.prototype.set=function(e,n){if(this.has(e)){var r=this._values.set(this._indices[e],n===this._defaultValues[e]?void 0:n);if(r!==this._values&&!this.__ownerID)return Db(this,r)}return this};rn.prototype.remove=function(e){return this.set(e)};rn.prototype.clear=function(){var e=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:Db(this,e)};rn.prototype.wasAltered=function(){return this._values.wasAltered()};rn.prototype.toSeq=function(){return Au(this)};rn.prototype.toJS=function(){return $h(this)};rn.prototype.entries=function(){return this.__iterator(Or)};rn.prototype.__iterator=function(e,n){return Au(this).__iterator(e,n)};rn.prototype.__iterate=function(e,n){return Au(this).__iterate(e,n)};rn.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var n=this._values.__ensureOwner(e);return e?Db(this,n,e):(this.__ownerID=e,this._values=n,this)};rn.isRecord=la;rn.getDescriptiveName=Ub;var ce=rn.prototype;ce[zR]=!0;ce[Xl]=ce.remove;ce.deleteIn=ce.removeIn=Tb;ce.getIn=CP;ce.hasIn=Ln.hasIn;ce.merge=cP;ce.mergeWith=lP;ce.mergeIn=$b;ce.mergeDeep=dP;ce.mergeDeepWith=hP;ce.mergeDeepIn=Rb;ce.setIn=Cb;ce.update=Ob;ce.updateIn=Ab;ce.withMutations=Zl;ce.asMutable=tf;ce.asImmutable=ef;ce[Mp]=ce.entries;ce.toJSON=ce.toObject=Ln.toObject;ce.inspect=ce.toSource=function(){return this.toString()};function Db(t,e,n){var r=Object.create(Object.getPrototypeOf(t));return r._values=e,r.__ownerID=n,r}function Ub(t){return t.constructor.displayName||t.constructor.name||"Record"}function Au(t){return vb(t._keys.map(function(e){return[e,t.get(e)]}))}function YQ(t,e){try{Object.defineProperty(t,e,{get:function(){return this.get(e)},set:function(n){Hc(this.__ownerID,"Cannot set on an immutable record."),this.set(e,n)}})}catch{}}const XQ=t=>{const e=t.useValue(),n=t.useSet();return{add:a=>{n(c=>[...c,a])},remove:a=>{n(c=>c.filter(l=>l!==a))},update:(a,c)=>{n(l=>l.map(d=>d===a?c:d))},values:e}};function QQ(t){return new Worker("https://chris-albert.github.io/midi-structor/assets/ControllerWorkerMain-5jTp2FCq.js",{type:"module",name:t==null?void 0:t.name})}const ZQ=()=>()=>({put:()=>t=>{},useGet:()=>({})}),tZ={controller:lb.empty,component:t=>ie.createElement("div"),uiStore:ZQ()},AP={emptyDevice:tZ},eZ={findByName:t=>ut(),getByName:t=>AP.emptyDevice};let zb=eZ;const nZ=t=>{const e=rt.keyBy(t,i=>i.controller.name),n=i=>Ao(rt.get(e,i,void 0));zb={findByName:n,getByName:i=>$e(n(i),{onSome:s=>s,onNone:()=>AP.emptyDevice})}},rZ=()=>zb,iZ=()=>zb,oZ={init:nZ,useDevices:iZ,get:rZ},kP=()=>d0("controller:worker"),sZ=(t,e,n)=>{const r=`controller:${t.key}:${e.name}`,i=new QQ({name:r});Rn.info("Creating controller worker",r),i.postMessage(["INIT",e]),Ce(H(e.selected.input,is(n.getInput)),()=>$R.empty()).on("*",c=>i.postMessage(["EMITTER",c]));const a=Ce(H(e.selected.output,is(n.getOutput)),()=>fb.empty());return i.onmessage=c=>{if(rt.isArray(c.data)&&c.data.length==2){const[l,d]=c.data;l==="LISTENER"&&a.send(d)}},i},aZ=t=>{const e=G$.virtualEmitter(t).listener,n=oZ.get().getByName(t.device).uiStore(t.id).put();e.on("*",n)},uZ=t=>{rt.forEach(t.controllers,aZ)},cZ=t=>{const e=db.state.get();Rn.info("Loading Controllers for project",t);const n=rt.map(t.controllers,r=>sZ(t,r,e));return uZ(t),()=>{Rn.info("Cleaning up Controllers for project",t),n.map(r=>r.terminate())}};let IC=!1;const lZ=()=>{IC||(pt.project.config.subAndInit(t=>$e(J$.getActive(t),{onSome:e=>cZ(e),onNone:()=>(Rn.error("No active project found",t),()=>{})})),kP().listener.on("RELOAD_CONTROLLERS",()=>{pt.project.config.set(t=>rt.cloneDeep(t))}),IC=!0)},fZ=()=>{Rn.info("Sending reload request..."),kP().emitter.emit({type:"RELOAD_CONTROLLERS"})},dZ={init:lZ,sendReloadRequest:fZ},hZ=(t,e)=>e>=t.startTime&&(t.endTime===void 0||e<t.endTime),pZ=(t,e)=>rt.find(t,n=>hZ(n,e)),gZ=t=>{const e=LP();return ie.useMemo(()=>pZ(t.clips,e),[e])},IP=()=>pt.project.arrangement.useValue(),$P=()=>IP().tracks,RP=t=>$P().find(n=>n.name===t),mZ=t=>{const e=RP(t);return e===void 0?cJ:e},PP=()=>pt.project.config.useFocus("active").useSet(),Xu=()=>pt.project.config.useFocus("active").useValue(),MP=()=>{const t=Xu(),e=pt.project.config.useValue();return rt.find(e.projects,r=>r.key===t)||sb()},yZ=()=>{const t=Xu(),e=pt.project.config.useValue(),n=rt.findIndex(e.projects,r=>r.key===t);return pt.project.config.useFocus("projects").useArray()[n]},NP=()=>{const t=Xu(),e=pt.project.config.useValue(),n=pt.project.config.useSet(),r=Ju(e.projects),i=r.findIndex(s=>s.key===t);return s=>{const a=i!==void 0?r.set(i,s(e.projects[i])):r;console.log("useUpdateActiveProject",a),n({active:t,projects:a.toArray()})}},Bp=()=>pt.project.config.useValue(),vZ=()=>{const t=NP(),e=Bp();return n=>e.projects.findIndex(i=>i.label===n)===-1?(t(i=>({...i,label:n})),ut()):$t(`Project ${n} already exists`)},_Z=()=>{const t=MP(),e={...sb().style,...t.style};return{...e,horizontalGradient:`linear-gradient(to right, ${e.accent.color1}, ${e.accent.color2})`,leftVerticalGradient:`linear-gradient(to bottom, ${e.accent.color1}, ${e.accent.color2})`,rightVerticalGradient:`linear-gradient(to top, ${e.accent.color1}, ${e.accent.color2})`}},bZ=()=>Bp(),SZ=()=>{const t=Xu(),e=Bp(),n=rt.find(e.projects,r=>r.key===t);if(n!==void 0)return n.label},wZ=()=>{const t=pt.project.config.useFocusMemo(e=>e.prop("projects"));return XQ(t)},EZ=()=>pt.project.abletonName.useValue(),xZ=t=>{const e=pt.importStatus.useValue();ie.useEffect(()=>t(e),[e])},CZ=()=>pt.importStatus.useValue().type!=="done",LP=()=>pt.realTime.beats.useValue(),TZ=()=>pt.realTime.barBeats.useValue(),OZ=()=>pt.realTime.timeSignature.useValue(),AZ=()=>pt.realTime.tempo.useValue(),kZ=()=>pt.realTime.isPlaying.useValue(),IZ=()=>pt.realTime.metronomeState.useValue(),$Z=()=>pt.realTime.metronomeState.get(),RZ=()=>pt.realTime.loopState.useValue(),PZ=()=>pt.realTime.loopState.get(),MZ=()=>{const t=Bp(),e=Xu(),n=PP();return r=>{const i=Ju(t.projects).find(s=>s.abletonProject===r);i!==void 0&&r!==e&&n(i.key)}},NZ=()=>()=>{dZ.sendReloadRequest()},Ht={useOnStatusChange:xZ,useBeat:LP,useBarBeats:TZ,useTimeSignature:OZ,useTempo:AZ,useIsPlaying:kZ,useActiveClip:gZ,useArrangement:IP,useProjectsConfig:bZ,useProjectsListAtom:wZ,useActiveProjectLabel:SZ,useSetActiveProject:PP,useProjectStyle:_Z,useAbletonProjectName:EZ,useSetActiveProjectName:vZ,useActiveProjectValue:MP,useActiveProjectName:Xu,useActiveProjectState:yZ,useUpdateActiveProject:NP,useTracks:$P,useTrack:mZ,useTrackOrUndefined:RP,useMetronomeState:IZ,getMetronomeState:$Z,useLoopState:RZ,getLoopState:PZ,useOnProjectLoad:MZ,useIsProjectLoading:CZ,useRefreshProject:NZ},FP=be.one({name:"metronome-control",schema:st({color:tt.Schema}),init:()=>({color:tt.BLUE}),component:({target:t,color:e})=>{const n=Ro.useDawEmitter(),r=Ht.useMetronomeState();return J.jsx(xo,{isFlashing:r,color:e,target:t,onClick:()=>n.send(hn.metronome(!Ht.getMetronomeState())),options:{metronomeState:r}})}}),LZ=be.one({name:"loop-control",schema:st({color:tt.Schema}),init:()=>({color:tt.GREEN}),component:({target:t,color:e})=>{const n=Ro.useDawEmitter(),r=Ht.useLoopState();return J.jsx(xo,{isFlashing:r,color:e,target:t,onClick:()=>n.send(hn.loop(!Ht.getLoopState()))})}}),BP=be.one({name:"play-stop",schema:st({playColor:tt.Schema,stopColor:tt.Schema}),init:()=>({playColor:tt.GREEN,stopColor:tt.RED}),component:({target:t,playColor:e,stopColor:n})=>Ht.useIsPlaying()?NR.component({target:t,color:n}):MR.component({target:t,color:e})}),FZ=be.one({name:"metronome",schema:st({oneColor:tt.Schema,restColor:tt.Schema}),init:()=>({oneColor:tt.GREEN,restColor:tt.RED}),component:({target:t,oneColor:e,restColor:n})=>{const[r,i]=ie.useState(tt.BLACK);return ie.useEffect(()=>LR.onTick(s=>{!s.halfBeat&&s.isPlaying?i(s.beat===1?e:n):i(tt.BLACK)}),[]),J.jsx("pad",{color:r,target:t})}}),BZ=(t,e,n,r)=>{const i=e+1;return i<=t?i===1?n:r:tt.BLACK},jP=be.many({name:"beats",schema:st({oneColor:tt.Schema,restColor:tt.Schema}),init:()=>({oneColor:tt.GREEN,restColor:tt.RED}),component:({targets:t,oneColor:e,restColor:n})=>{const r=Ht.useBarBeats(),i=Ht.useTimeSignature(),s=rt.map(t,(a,c)=>J.jsx("pad",{color:BZ(r,c,e,n),target:a,options:{timeSignature:i}},`beat-${c}`));return J.jsx(J.Fragment,{children:s})}}),jZ=be.many({name:"time-sig-count",schema:st({color:tt.Schema}),init:()=>({color:tt.BLUE}),component:({targets:t,color:e})=>{const n=Ht.useTimeSignature(),r=t.map((i,s)=>J.jsx("pad",{target:i,color:s+1<=n.noteCount?e:tt.BLACK},`time-sig-count-${s}`));return J.jsx(J.Fragment,{children:r})}}),DZ=be.many({name:"time-sig-length",schema:st({color:tt.Schema}),init:()=>({color:tt.PURPLE}),component:({targets:t,color:e})=>{const n=Ht.useTimeSignature(),r=t.map((i,s)=>J.jsx("pad",{target:i,color:s+1<=n.noteLength?e:tt.BLACK},`time-sig-length-${s}`));return J.jsx(J.Fragment,{children:r})}}),DP=be.many({name:"nav-clips",schema:st({trackName:re,sort:$n(Je("alphabetical","order"))}),init:()=>({trackName:"Nav Clip Track",sort:"order"}),tracks:t=>[t.trackName],component:({targets:t,trackName:e,sort:n})=>{const r=Ro.useDawEmitter(),i=Ht.useArrangement(),s=Ht.useTrack(e),a=Ht.useActiveClip(s),c=ie.useMemo(()=>rt.fromPairs(rt.map(i.cues,v=>[v.time,v])),[i.cues]),l=s.clips.filter(v=>v.type==="real"),d=n==="alphabetical"?l.sort((v,S)=>v.name.localeCompare(S.name)):l,h=ie.useMemo(()=>{const v=[];for(let S=0;S<d.length;S++){const x=t==null?void 0:t[S],T=d==null?void 0:d[S];if(T!==void 0&&x!==void 0){const O=c==null?void 0:c[T.startTime];O!==void 0&&v.push({clip:T,cue:O,target:x})}}return v},[s,c,t]),g=v=>{r.send(hn.jumpToCue(v.cue.index))},y=h.map((v,S)=>J.jsx(xo,{isFlashing:v.clip===a,color:v.clip.color,target:v.target,onClick:()=>g(v),options:{label:v.clip.name}},`song-${S}`));return J.jsx(J.Fragment,{children:y})}}),UZ=be.many({name:"bar-tracker",schema:st({trackName:re,color:tt.Schema}),init:()=>({trackName:"Track",color:tt.GREEN}),tracks:t=>[t.trackName],component:({targets:t,trackName:e,color:n})=>{const r=Ht.useTrack(e),i=Ht.useBeat(),s=Ht.useBarBeats(),a=Ht.useActiveClip(r),c=Ht.useTimeSignature(),[l,d]=ie.useState(0),h=ie.useMemo(()=>{if(a.type==="real"){const v=Number(a.name);if(!isNaN(v))return v}return 0},[a]);ie.useEffect(()=>{if(s===1&&Z$.isReal(a)){const v=Math.floor(i-a.startTime);c.noteLength===4?d(Math.floor(v/c.noteCount)):c.noteLength===8&&(c.noteCount%2===0?d(Math.floor(v/(c.noteCount/2))):v%c.noteCount===0?d(Math.floor(v/c.noteCount)*2):d(Math.floor((v+.5)*2/c.noteCount)))}},[s,i,a,c]);const g=l%h+1,y=t.map((v,S)=>J.jsx(xo,{color:S<g?n:tt.BLACK,target:v},`bar-tracker-${S}`));return J.jsx(J.Fragment,{children:y})}}),zZ=t=>e=>t.type==="real"&&t.endTime!==void 0&&e.startTime<t.endTime,UP=be.many({name:"track-sections",schema:st({trackName:re,parentTrackName:re}),init:()=>({trackName:"Track Sections",parentTrackName:"Parent Track Sections"}),tracks:t=>[t.trackName,t.parentTrackName],component:({targets:t,trackName:e,parentTrackName:n=""})=>{const r=Ht.useTrack(e),i=Ht.useActiveClip(r),s=Ht.useTrack(n),a=Ht.useActiveClip(s),c=Ht.useBeat(),l=ie.useMemo(()=>{const g=[];return r.clips.forEach(y=>{y.startTime>=i.startTime&&g.push(y)}),g.filter(zZ(a))},[r,i,a]),d=ie.useMemo(()=>{if(i&&i.endTime!==void 0){const g=i.endTime-i.startTime;return(c-i.startTime)/g*100}else return},[i,c]),h=t.map((g,y)=>{const v=l==null?void 0:l[y],S=v!==void 0&&v.type==="real"?v.color:tt.BLACK,x=v!==void 0&&v.type==="real"?v.name:"";return J.jsx(xo,{color:S,target:g,options:{label:x,progress:d,isActive:v===i}},`track-sections-${y}`)});return J.jsx(J.Fragment,{children:h})}}),Ay=[void 0,"c#","d#",void 0,"f#","g#","a#"],ky=["c","d","e","f","g","a","b","c"],WZ=be.of({name:"keyboard",schema:st({topTargets:Ji(Hr.Schema),bottomTargets:Ji(Hr.Schema),trackName:re,topColor:tt.Schema,bottomColor:tt.Schema}),init:()=>({topTargets:[],bottomTargets:[],trackName:"Keyboard Track",topColor:tt.GREEN,bottomColor:tt.RED}),targets:t=>({_tag:"many",targets:[...t.topTargets,...t.bottomTargets]}),inputType:"many",tracks:t=>[t.trackName],component:({topTargets:t,bottomTargets:e,trackName:n,topColor:r,bottomColor:i})=>{const s=Ht.useTrack(n),a=Ht.useActiveClip(s),[c,l]=ie.useMemo(()=>Z$.isReal(a)?[a.name.toLowerCase(),a.color]:[void 0,void 0],[a]),d=v=>v===void 0||c===void 0?!1:v===c,h=v=>()=>{},g=t.map((v,S)=>{const x=Ay==null?void 0:Ay[S];return J.jsx(xo,{color:x!==void 0?d(x)&&l!==void 0?l:r:tt.BLACK,target:v,isFlashing:d(x),onClick:h()},`keyboard-top-${S}`)}),y=e.map((v,S)=>{const x=ky==null?void 0:ky[S];return J.jsx(xo,{color:x!==void 0?d(x)&&l!==void 0?l:i:tt.BLACK,target:v,isFlashing:d(x),onClick:h()},`keyboard-bottom-${S}`)});return J.jsxs(J.Fragment,{children:[g,y]})}}),zP=be.one({name:"button",schema:st({color:tt.Schema,isFlashing:Cp,midi:Ji(fl.schema),text:$n(st({content:re,color:$n(tt.Schema),size:$n(re)}))}),init:()=>({color:tt.GREEN,isFlashing:!1,midi:[]}),component:({target:t,color:e,isFlashing:n,midi:r})=>{const i=Ro.useDawEmitter();return J.jsx(xo,{isFlashing:n,color:e,target:t,onClick:()=>{r.forEach(i.send)}})}}),Gv={10927616:74,16149507:84,4047616:76,6441901:69,14402304:99,8754719:19,16725558:5,3947580:71,10056267:10,8237133:18,12026454:11,12565097:73,13381230:58,12243060:111,16249980:13,13013643:4,10208397:88,695438:65,13821080:110,3101346:46,16749734:107,8962746:102,5538020:79,13684944:117,15064289:119,14183652:94,11442405:44,13408551:100,1090798:78,11096369:127,16753961:96,1769263:87,5480241:64,1698303:90,16773172:97,7491393:126,8940772:80,14837594:10,8912743:16,10060650:105,13872497:14,16753524:108,8092539:70,2319236:39,1716118:47,12349846:59,11481907:121,15029152:57,2490280:25,11119017:112,10701741:81,15597486:8,49071:77,10851765:93,12558270:48,32192:43,8758722:103,10204100:104,11958214:55,8623052:66,16726484:95,12581632:86,13958625:28,12173795:115,13482980:116,16777215:3,6094824:33,13496824:114,9611263:92,9160191:36},WP={};for(const t in Gv){const e=Gv[t];e!==void 0&&(WP[e]=t)}const KZ=t=>rt.get(Gv,t,void 0),qZ=t=>{const e=rt.get(WP,t,void 0);if(e!==void 0)return parseInt(e)},VZ={getNovationColor:KZ,getColorFromNovation:qZ},HZ=be.one({name:"soft-refresh",schema:st({color:tt.Schema}),init:()=>({color:tt.PURPLE}),component:({target:t,color:e})=>{const n=Ht.useRefreshProject();return J.jsx("pad",{color:e,target:t,onClick:()=>{n()}})}}),GZ=(t,e)=>t,JZ=ub.of({init:t=>()=>{t.send(fl.sysex([32,41,2,13,14,1]))},render:t=>e=>{const n=[32,41,2,13,3];rt.forEach(e,r=>{if(r.color!==void 0){const i=VZ.getNovationColor(r.color);if(i!==void 0)n.push(0,Hr.toValue(r.target),i);else{const[s,a,c]=tt.toRGB(GZ(r.color));n.push(3,Hr.toValue(r.target),Math.floor(s/2),Math.floor(a/2),Math.floor(c/2))}}}),t.send(fl.sysex(n))},loading:t=>e=>{const n=Hr.notes({from:11,to:99}),r=(a,c)=>{const l=Math.floor(c/10),d=c%10;return l<=a+1&&d<=a+1?tt.ROYGBIV[(Math.max(l,d)-1)%7]||tt.WHITE:tt.BLACK};let i=0;const s=setInterval(()=>{const a=i%9;e.render(t)(n.map((c,l)=>({target:c,color:r(a,Hr.toValue(c))}))),i++},250);return()=>{clearInterval(s)}},listenFilter:t=>!(t.type==="noteon"&&t.velocity===0||t.type==="cc"&&t.data===0),targets:Hr.notes({from:11,to:99})}),YZ=lb.of({name:"Launchpad Mini [MK3]",controller:JZ,widgets:cb([MR,NR,QX,FP,LZ,BP,FZ,jP,jZ,DZ,DP,UZ,UP,WZ,zP,HZ])}),KP={device:YZ},vl={black:"#000",white:"#fff"},Na={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},La={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Fa={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Ba={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},ja={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},Ic={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},XZ={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function Zs(t,...e){const n=new URL(`https://mui.com/production-error/?code=${t}`);return e.forEach(r=>n.searchParams.append("args[]",r)),`Minified MUI error #${t}; visit ${n} for the full message.`}var qP="$$material";function Rh(){return Rh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rh.apply(null,arguments)}function QZ(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function ZZ(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var ttt=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(ZZ(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=QZ(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),An="-ms-",Ph="-moz-",Wt="-webkit-",VP="comm",Wb="rule",Kb="decl",ett="@import",HP="@keyframes",ntt="@layer",rtt=Math.abs,jp=String.fromCharCode,itt=Object.assign;function ott(t,e){return pn(t,0)^45?(((e<<2^pn(t,0))<<2^pn(t,1))<<2^pn(t,2))<<2^pn(t,3):0}function GP(t){return t.trim()}function stt(t,e){return(t=e.exec(t))?t[0]:t}function Kt(t,e,n){return t.replace(e,n)}function Jv(t,e){return t.indexOf(e)}function pn(t,e){return t.charCodeAt(e)|0}function _l(t,e,n){return t.slice(e,n)}function Li(t){return t.length}function qb(t){return t.length}function pd(t,e){return e.push(t),t}function att(t,e){return t.map(e).join("")}var Dp=1,ku=1,JP=0,ir=0,Fe=0,Qu="";function Up(t,e,n,r,i,s,a){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:Dp,column:ku,length:a,return:""}}function $c(t,e){return itt(Up("",null,null,"",null,null,0),t,{length:-t.length},e)}function utt(){return Fe}function ctt(){return Fe=ir>0?pn(Qu,--ir):0,ku--,Fe===10&&(ku=1,Dp--),Fe}function _r(){return Fe=ir<JP?pn(Qu,ir++):0,ku++,Fe===10&&(ku=1,Dp++),Fe}function Vi(){return pn(Qu,ir)}function jd(){return ir}function of(t,e){return _l(Qu,t,e)}function bl(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function YP(t){return Dp=ku=1,JP=Li(Qu=t),ir=0,[]}function XP(t){return Qu="",t}function Dd(t){return GP(of(ir-1,Yv(t===91?t+2:t===40?t+1:t)))}function ltt(t){for(;(Fe=Vi())&&Fe<33;)_r();return bl(t)>2||bl(Fe)>3?"":" "}function ftt(t,e){for(;--e&&_r()&&!(Fe<48||Fe>102||Fe>57&&Fe<65||Fe>70&&Fe<97););return of(t,jd()+(e<6&&Vi()==32&&_r()==32))}function Yv(t){for(;_r();)switch(Fe){case t:return ir;case 34:case 39:t!==34&&t!==39&&Yv(Fe);break;case 40:t===41&&Yv(t);break;case 92:_r();break}return ir}function dtt(t,e){for(;_r()&&t+Fe!==57;)if(t+Fe===84&&Vi()===47)break;return"/*"+of(e,ir-1)+"*"+jp(t===47?t:_r())}function htt(t){for(;!bl(Vi());)_r();return of(t,ir)}function ptt(t){return XP(Ud("",null,null,null,[""],t=YP(t),0,[0],t))}function Ud(t,e,n,r,i,s,a,c,l){for(var d=0,h=0,g=a,y=0,v=0,S=0,x=1,T=1,O=1,N=0,P="",$=i,j=s,B=r,k=P;T;)switch(S=N,N=_r()){case 40:if(S!=108&&pn(k,g-1)==58){Jv(k+=Kt(Dd(N),"&","&\f"),"&\f")!=-1&&(O=-1);break}case 34:case 39:case 91:k+=Dd(N);break;case 9:case 10:case 13:case 32:k+=ltt(S);break;case 92:k+=ftt(jd()-1,7);continue;case 47:switch(Vi()){case 42:case 47:pd(gtt(dtt(_r(),jd()),e,n),l);break;default:k+="/"}break;case 123*x:c[d++]=Li(k)*O;case 125*x:case 59:case 0:switch(N){case 0:case 125:T=0;case 59+h:O==-1&&(k=Kt(k,/\f/g,"")),v>0&&Li(k)-g&&pd(v>32?RC(k+";",r,n,g-1):RC(Kt(k," ","")+";",r,n,g-2),l);break;case 59:k+=";";default:if(pd(B=$C(k,e,n,d,h,i,c,P,$=[],j=[],g),s),N===123)if(h===0)Ud(k,e,B,B,$,s,g,c,j);else switch(y===99&&pn(k,3)===110?100:y){case 100:case 108:case 109:case 115:Ud(t,B,B,r&&pd($C(t,B,B,0,0,i,c,P,i,$=[],g),j),i,j,g,c,r?$:j);break;default:Ud(k,B,B,B,[""],j,0,c,j)}}d=h=v=0,x=O=1,P=k="",g=a;break;case 58:g=1+Li(k),v=S;default:if(x<1){if(N==123)--x;else if(N==125&&x++==0&&ctt()==125)continue}switch(k+=jp(N),N*x){case 38:O=h>0?1:(k+="\f",-1);break;case 44:c[d++]=(Li(k)-1)*O,O=1;break;case 64:Vi()===45&&(k+=Dd(_r())),y=Vi(),h=g=Li(P=k+=htt(jd())),N++;break;case 45:S===45&&Li(k)==2&&(x=0)}}return s}function $C(t,e,n,r,i,s,a,c,l,d,h){for(var g=i-1,y=i===0?s:[""],v=qb(y),S=0,x=0,T=0;S<r;++S)for(var O=0,N=_l(t,g+1,g=rtt(x=a[S])),P=t;O<v;++O)(P=GP(x>0?y[O]+" "+N:Kt(N,/&\f/g,y[O])))&&(l[T++]=P);return Up(t,e,n,i===0?Wb:c,l,d,h)}function gtt(t,e,n){return Up(t,e,n,VP,jp(utt()),_l(t,2,-2),0)}function RC(t,e,n,r){return Up(t,e,n,Kb,_l(t,0,r),_l(t,r+1,-1),r)}function Qa(t,e){for(var n="",r=qb(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function mtt(t,e,n,r){switch(t.type){case ntt:if(t.children.length)break;case ett:case Kb:return t.return=t.return||t.value;case VP:return"";case HP:return t.return=t.value+"{"+Qa(t.children,r)+"}";case Wb:t.value=t.props.join(",")}return Li(n=Qa(t.children,r))?t.return=t.value+"{"+n+"}":""}function ytt(t){var e=qb(t);return function(n,r,i,s){for(var a="",c=0;c<e;c++)a+=t[c](n,r,i,s)||"";return a}}function vtt(t){return function(e){e.root||(e=e.return)&&t(e)}}function QP(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var _tt=function(e,n,r){for(var i=0,s=0;i=s,s=Vi(),i===38&&s===12&&(n[r]=1),!bl(s);)_r();return of(e,ir)},btt=function(e,n){var r=-1,i=44;do switch(bl(i)){case 0:i===38&&Vi()===12&&(n[r]=1),e[r]+=_tt(ir-1,n,r);break;case 2:e[r]+=Dd(i);break;case 4:if(i===44){e[++r]=Vi()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=jp(i)}while(i=_r());return e},Stt=function(e,n){return XP(btt(YP(e),n))},PC=new WeakMap,wtt=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!PC.get(r))&&!i){PC.set(e,!0);for(var s=[],a=Stt(n,s),c=r.props,l=0,d=0;l<a.length;l++)for(var h=0;h<c.length;h++,d++)e.props[d]=s[l]?a[l].replace(/&\f/g,c[h]):c[h]+" "+a[l]}}},Ett=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function ZP(t,e){switch(ott(t,e)){case 5103:return Wt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Wt+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Wt+t+Ph+t+An+t+t;case 6828:case 4268:return Wt+t+An+t+t;case 6165:return Wt+t+An+"flex-"+t+t;case 5187:return Wt+t+Kt(t,/(\w+).+(:[^]+)/,Wt+"box-$1$2"+An+"flex-$1$2")+t;case 5443:return Wt+t+An+"flex-item-"+Kt(t,/flex-|-self/,"")+t;case 4675:return Wt+t+An+"flex-line-pack"+Kt(t,/align-content|flex-|-self/,"")+t;case 5548:return Wt+t+An+Kt(t,"shrink","negative")+t;case 5292:return Wt+t+An+Kt(t,"basis","preferred-size")+t;case 6060:return Wt+"box-"+Kt(t,"-grow","")+Wt+t+An+Kt(t,"grow","positive")+t;case 4554:return Wt+Kt(t,/([^-])(transform)/g,"$1"+Wt+"$2")+t;case 6187:return Kt(Kt(Kt(t,/(zoom-|grab)/,Wt+"$1"),/(image-set)/,Wt+"$1"),t,"")+t;case 5495:case 3959:return Kt(t,/(image-set\([^]*)/,Wt+"$1$`$1");case 4968:return Kt(Kt(t,/(.+:)(flex-)?(.*)/,Wt+"box-pack:$3"+An+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Wt+t+t;case 4095:case 3583:case 4068:case 2532:return Kt(t,/(.+)-inline(.+)/,Wt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Li(t)-1-e>6)switch(pn(t,e+1)){case 109:if(pn(t,e+4)!==45)break;case 102:return Kt(t,/(.+:)(.+)-([^]+)/,"$1"+Wt+"$2-$3$1"+Ph+(pn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Jv(t,"stretch")?ZP(Kt(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(pn(t,e+1)!==115)break;case 6444:switch(pn(t,Li(t)-3-(~Jv(t,"!important")&&10))){case 107:return Kt(t,":",":"+Wt)+t;case 101:return Kt(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Wt+(pn(t,14)===45?"inline-":"")+"box$3$1"+Wt+"$2$3$1"+An+"$2box$3")+t}break;case 5936:switch(pn(t,e+11)){case 114:return Wt+t+An+Kt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Wt+t+An+Kt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Wt+t+An+Kt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Wt+t+An+t+t}return t}var xtt=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case Kb:e.return=ZP(e.value,e.length);break;case HP:return Qa([$c(e,{value:Kt(e.value,"@","@"+Wt)})],i);case Wb:if(e.length)return att(e.props,function(s){switch(stt(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Qa([$c(e,{props:[Kt(s,/:(read-\w+)/,":"+Ph+"$1")]})],i);case"::placeholder":return Qa([$c(e,{props:[Kt(s,/:(plac\w+)/,":"+Wt+"input-$1")]}),$c(e,{props:[Kt(s,/:(plac\w+)/,":"+Ph+"$1")]}),$c(e,{props:[Kt(s,/:(plac\w+)/,An+"input-$1")]})],i)}return""})}},Ctt=[xtt],Ttt=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(x){var T=x.getAttribute("data-emotion");T.indexOf(" ")!==-1&&(document.head.appendChild(x),x.setAttribute("data-s",""))})}var i=e.stylisPlugins||Ctt,s={},a,c=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(x){for(var T=x.getAttribute("data-emotion").split(" "),O=1;O<T.length;O++)s[T[O]]=!0;c.push(x)});var l,d=[wtt,Ett];{var h,g=[mtt,vtt(function(x){h.insert(x)})],y=ytt(d.concat(i,g)),v=function(T){return Qa(ptt(T),y)};l=function(T,O,N,P){h=N,v(T?T+"{"+O.styles+"}":O.styles),P&&(S.inserted[O.name]=!0)}}var S={key:n,sheet:new ttt({key:n,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return S.sheet.hydrate(c),S},tM={exports:{}},Jt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var on=typeof Symbol=="function"&&Symbol.for,Vb=on?Symbol.for("react.element"):60103,Hb=on?Symbol.for("react.portal"):60106,zp=on?Symbol.for("react.fragment"):60107,Wp=on?Symbol.for("react.strict_mode"):60108,Kp=on?Symbol.for("react.profiler"):60114,qp=on?Symbol.for("react.provider"):60109,Vp=on?Symbol.for("react.context"):60110,Gb=on?Symbol.for("react.async_mode"):60111,Hp=on?Symbol.for("react.concurrent_mode"):60111,Gp=on?Symbol.for("react.forward_ref"):60112,Jp=on?Symbol.for("react.suspense"):60113,Ott=on?Symbol.for("react.suspense_list"):60120,Yp=on?Symbol.for("react.memo"):60115,Xp=on?Symbol.for("react.lazy"):60116,Att=on?Symbol.for("react.block"):60121,ktt=on?Symbol.for("react.fundamental"):60117,Itt=on?Symbol.for("react.responder"):60118,$tt=on?Symbol.for("react.scope"):60119;function Ir(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Vb:switch(t=t.type,t){case Gb:case Hp:case zp:case Kp:case Wp:case Jp:return t;default:switch(t=t&&t.$$typeof,t){case Vp:case Gp:case Xp:case Yp:case qp:return t;default:return e}}case Hb:return e}}}function eM(t){return Ir(t)===Hp}Jt.AsyncMode=Gb;Jt.ConcurrentMode=Hp;Jt.ContextConsumer=Vp;Jt.ContextProvider=qp;Jt.Element=Vb;Jt.ForwardRef=Gp;Jt.Fragment=zp;Jt.Lazy=Xp;Jt.Memo=Yp;Jt.Portal=Hb;Jt.Profiler=Kp;Jt.StrictMode=Wp;Jt.Suspense=Jp;Jt.isAsyncMode=function(t){return eM(t)||Ir(t)===Gb};Jt.isConcurrentMode=eM;Jt.isContextConsumer=function(t){return Ir(t)===Vp};Jt.isContextProvider=function(t){return Ir(t)===qp};Jt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Vb};Jt.isForwardRef=function(t){return Ir(t)===Gp};Jt.isFragment=function(t){return Ir(t)===zp};Jt.isLazy=function(t){return Ir(t)===Xp};Jt.isMemo=function(t){return Ir(t)===Yp};Jt.isPortal=function(t){return Ir(t)===Hb};Jt.isProfiler=function(t){return Ir(t)===Kp};Jt.isStrictMode=function(t){return Ir(t)===Wp};Jt.isSuspense=function(t){return Ir(t)===Jp};Jt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===zp||t===Hp||t===Kp||t===Wp||t===Jp||t===Ott||typeof t=="object"&&t!==null&&(t.$$typeof===Xp||t.$$typeof===Yp||t.$$typeof===qp||t.$$typeof===Vp||t.$$typeof===Gp||t.$$typeof===ktt||t.$$typeof===Itt||t.$$typeof===$tt||t.$$typeof===Att)};Jt.typeOf=Ir;tM.exports=Jt;var Rtt=tM.exports,nM=Rtt,Ptt={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Mtt={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},rM={};rM[nM.ForwardRef]=Ptt;rM[nM.Memo]=Mtt;var Ntt=!0;function iM(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(r+=i+" ")}),r}var Jb=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||Ntt===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},oM=function(e,n,r){Jb(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function Ltt(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var Ftt={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Btt=/[A-Z]|^ms/g,jtt=/_EMO_([^_]+?)_([^]*?)_EMO_/g,sM=function(e){return e.charCodeAt(1)===45},MC=function(e){return e!=null&&typeof e!="boolean"},Iy=QP(function(t){return sM(t)?t:t.replace(Btt,"-$&").toLowerCase()}),NC=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(jtt,function(r,i,s){return Fi={name:i,styles:s,next:Fi},i})}return Ftt[e]!==1&&!sM(e)&&typeof n=="number"&&n!==0?n+"px":n};function Sl(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return Fi={name:i.name,styles:i.styles,next:Fi},i.name;var s=n;if(s.styles!==void 0){var a=s.next;if(a!==void 0)for(;a!==void 0;)Fi={name:a.name,styles:a.styles,next:Fi},a=a.next;var c=s.styles+";";return c}return Dtt(t,e,n)}case"function":{if(t!==void 0){var l=Fi,d=n(t);return Fi=l,Sl(t,e,d)}break}}var h=n;if(e==null)return h;var g=e[h];return g!==void 0?g:h}function Dtt(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Sl(t,e,n[i])+";";else for(var s in n){var a=n[s];if(typeof a!="object"){var c=a;e!=null&&e[c]!==void 0?r+=s+"{"+e[c]+"}":MC(c)&&(r+=Iy(s)+":"+NC(s,c)+";")}else if(Array.isArray(a)&&typeof a[0]=="string"&&(e==null||e[a[0]]===void 0))for(var l=0;l<a.length;l++)MC(a[l])&&(r+=Iy(s)+":"+NC(s,a[l])+";");else{var d=Sl(t,e,a);switch(s){case"animation":case"animationName":{r+=Iy(s)+":"+d+";";break}default:r+=s+"{"+d+"}"}}}return r}var LC=/label:\s*([^\s;{]+)\s*(;|$)/g,Fi;function Qp(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";Fi=void 0;var s=t[0];if(s==null||s.raw===void 0)r=!1,i+=Sl(n,e,s);else{var a=s;i+=a[0]}for(var c=1;c<t.length;c++)if(i+=Sl(n,e,t[c]),r){var l=s;i+=l[c]}LC.lastIndex=0;for(var d="",h;(h=LC.exec(i))!==null;)d+="-"+h[1];var g=Ltt(i)+d;return{name:g,styles:i,next:Fi}}var Utt=function(e){return e()},ztt=Bv.useInsertionEffect?Bv.useInsertionEffect:!1,aM=ztt||Utt,uM=G.createContext(typeof HTMLElement<"u"?Ttt({key:"css"}):null);uM.Provider;var cM=function(e){return G.forwardRef(function(n,r){var i=G.useContext(uM);return e(n,i,r)})},Yb=G.createContext({}),Xb={}.hasOwnProperty,Xv="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Wtt=function(e,n){var r={};for(var i in n)Xb.call(n,i)&&(r[i]=n[i]);return r[Xv]=e,r},Ktt=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return Jb(n,r,i),aM(function(){return oM(n,r,i)}),null},qtt=cM(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[Xv],s=[r],a="";typeof t.className=="string"?a=iM(e.registered,s,t.className):t.className!=null&&(a=t.className+" ");var c=Qp(s,void 0,G.useContext(Yb));a+=e.key+"-"+c.name;var l={};for(var d in t)Xb.call(t,d)&&d!=="css"&&d!==Xv&&(l[d]=t[d]);return l.className=a,n&&(l.ref=n),G.createElement(G.Fragment,null,G.createElement(Ktt,{cache:e,serialized:c,isStringTag:typeof i=="string"}),G.createElement(i,l))}),Vtt=qtt,FC=function(e,n){var r=arguments;if(n==null||!Xb.call(n,"css"))return G.createElement.apply(void 0,r);var i=r.length,s=new Array(i);s[0]=Vtt,s[1]=Wtt(e,n);for(var a=2;a<i;a++)s[a]=r[a];return G.createElement.apply(null,s)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(FC||(FC={}));function Qb(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Qp(e)}function sf(){var t=Qb.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var Htt=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Gtt=QP(function(t){return Htt.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),Jtt=Gtt,Ytt=function(e){return e!=="theme"},BC=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?Jtt:Ytt},jC=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(a){return e.__emotion_forwardProp(a)&&s(a)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},Xtt=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return Jb(n,r,i),aM(function(){return oM(n,r,i)}),null},Qtt=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,a;n!==void 0&&(s=n.label,a=n.target);var c=jC(e,n,r),l=c||BC(i),d=!l("as");return function(){var h=arguments,g=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&g.push("label:"+s+";"),h[0]==null||h[0].raw===void 0)g.push.apply(g,h);else{var y=h[0];g.push(y[0]);for(var v=h.length,S=1;S<v;S++)g.push(h[S],y[S])}var x=cM(function(T,O,N){var P=d&&T.as||i,$="",j=[],B=T;if(T.theme==null){B={};for(var k in T)B[k]=T[k];B.theme=G.useContext(Yb)}typeof T.className=="string"?$=iM(O.registered,j,T.className):T.className!=null&&($=T.className+" ");var U=Qp(g.concat(j),O.registered,B);$+=O.key+"-"+U.name,a!==void 0&&($+=" "+a);var K=d&&c===void 0?BC(P):l,b={};for(var M in T)d&&M==="as"||K(M)&&(b[M]=T[M]);return b.className=$,N&&(b.ref=N),G.createElement(G.Fragment,null,G.createElement(Xtt,{cache:O,serialized:U,isStringTag:typeof P=="string"}),G.createElement(P,b))});return x.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",x.defaultProps=e.defaultProps,x.__emotion_real=x,x.__emotion_base=i,x.__emotion_styles=g,x.__emotion_forwardProp=c,Object.defineProperty(x,"toString",{value:function(){return"."+a}}),x.withComponent=function(T,O){var N=t(T,Rh({},n,O,{shouldForwardProp:jC(x,O,!0)}));return N.apply(void 0,g)},x}},Ztt=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Qv=Qtt.bind(null);Ztt.forEach(function(t){Qv[t]=Qv(t)});/**
 * @mui/styled-engine v6.4.9
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function lM(t,e){return Qv(t,e)}function tet(t,e){Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))}const DC=[];function UC(t){return DC[0]=t,Qp(DC)}var fM={exports:{}},oe={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zb=Symbol.for("react.transitional.element"),tS=Symbol.for("react.portal"),Zp=Symbol.for("react.fragment"),tg=Symbol.for("react.strict_mode"),eg=Symbol.for("react.profiler"),ng=Symbol.for("react.consumer"),rg=Symbol.for("react.context"),ig=Symbol.for("react.forward_ref"),og=Symbol.for("react.suspense"),sg=Symbol.for("react.suspense_list"),ag=Symbol.for("react.memo"),ug=Symbol.for("react.lazy"),eet=Symbol.for("react.offscreen"),net=Symbol.for("react.client.reference");function ti(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Zb:switch(t=t.type,t){case Zp:case eg:case tg:case og:case sg:return t;default:switch(t=t&&t.$$typeof,t){case rg:case ig:case ug:case ag:return t;case ng:return t;default:return e}}case tS:return e}}}oe.ContextConsumer=ng;oe.ContextProvider=rg;oe.Element=Zb;oe.ForwardRef=ig;oe.Fragment=Zp;oe.Lazy=ug;oe.Memo=ag;oe.Portal=tS;oe.Profiler=eg;oe.StrictMode=tg;oe.Suspense=og;oe.SuspenseList=sg;oe.isContextConsumer=function(t){return ti(t)===ng};oe.isContextProvider=function(t){return ti(t)===rg};oe.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Zb};oe.isForwardRef=function(t){return ti(t)===ig};oe.isFragment=function(t){return ti(t)===Zp};oe.isLazy=function(t){return ti(t)===ug};oe.isMemo=function(t){return ti(t)===ag};oe.isPortal=function(t){return ti(t)===tS};oe.isProfiler=function(t){return ti(t)===eg};oe.isStrictMode=function(t){return ti(t)===tg};oe.isSuspense=function(t){return ti(t)===og};oe.isSuspenseList=function(t){return ti(t)===sg};oe.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Zp||t===eg||t===tg||t===og||t===sg||t===eet||typeof t=="object"&&t!==null&&(t.$$typeof===ug||t.$$typeof===ag||t.$$typeof===rg||t.$$typeof===ng||t.$$typeof===ig||t.$$typeof===net||t.getModuleId!==void 0)};oe.typeOf=ti;fM.exports=oe;var dM=fM.exports;function Di(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function hM(t){if(G.isValidElement(t)||dM.isValidElementType(t)||!Di(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=hM(t[n])}),e}function br(t,e,n={clone:!0}){const r=n.clone?{...t}:t;return Di(t)&&Di(e)&&Object.keys(e).forEach(i=>{G.isValidElement(e[i])||dM.isValidElementType(e[i])?r[i]=e[i]:Di(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&Di(t[i])?r[i]=br(t[i],e[i],n):n.clone?r[i]=Di(e[i])?hM(e[i]):e[i]:r[i]=e[i]}),r}const ret=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function iet(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...i}=t,s=ret(e),a=Object.keys(s);function c(y){return`@media (min-width:${typeof e[y]=="number"?e[y]:y}${n})`}function l(y){return`@media (max-width:${(typeof e[y]=="number"?e[y]:y)-r/100}${n})`}function d(y,v){const S=a.indexOf(v);return`@media (min-width:${typeof e[y]=="number"?e[y]:y}${n}) and (max-width:${(S!==-1&&typeof e[a[S]]=="number"?e[a[S]]:v)-r/100}${n})`}function h(y){return a.indexOf(y)+1<a.length?d(y,a[a.indexOf(y)+1]):c(y)}function g(y){const v=a.indexOf(y);return v===0?c(a[1]):v===a.length-1?l(a[v]):d(y,a[a.indexOf(y)+1]).replace("@media","@media not all and")}return{keys:a,values:s,up:c,down:l,between:d,only:h,not:g,unit:n,...i}}function oet(t,e){if(!t.containerQueries)return e;const n=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,i)=>{var a,c;const s=/min-width:\s*([0-9.]+)/;return+(((a=r.match(s))==null?void 0:a[1])||0)-+(((c=i.match(s))==null?void 0:c[1])||0)});return n.length?n.reduce((r,i)=>{const s=e[i];return delete r[i],r[i]=s,r},{...e}):e}function set(t,e){return e==="@"||e.startsWith("@")&&(t.some(n=>e.startsWith(`@${n}`))||!!e.match(/^@\d/))}function aet(t,e){const n=e.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,i]=n,s=Number.isNaN(+r)?r||0:+r;return t.containerQueries(i).up(s)}function uet(t){const e=(s,a)=>s.replace("@media",a?`@container ${a}`:"@container");function n(s,a){s.up=(...c)=>e(t.breakpoints.up(...c),a),s.down=(...c)=>e(t.breakpoints.down(...c),a),s.between=(...c)=>e(t.breakpoints.between(...c),a),s.only=(...c)=>e(t.breakpoints.only(...c),a),s.not=(...c)=>{const l=e(t.breakpoints.not(...c),a);return l.includes("not all and")?l.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):l}}const r={},i=s=>(n(r,s),r);return n(i),{...t,containerQueries:i}}const cet={borderRadius:4};function Jc(t,e){return e?br(t,e,{clone:!1}):t}const cg={xs:0,sm:600,md:900,lg:1200,xl:1536},zC={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${cg[t]}px)`},fet={containerQueries:t=>({up:e=>{let n=typeof e=="number"?e:cg[e]||e;return typeof n=="number"&&(n=`${n}px`),t?`@container ${t} (min-width:${n})`:`@container (min-width:${n})`}})};function Oo(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const s=r.breakpoints||zC;return e.reduce((a,c,l)=>(a[s.up(s.keys[l])]=n(e[l]),a),{})}if(typeof e=="object"){const s=r.breakpoints||zC;return Object.keys(e).reduce((a,c)=>{if(set(s.keys,c)){const l=aet(r.containerQueries?r:fet,c);l&&(a[l]=n(e[c],c))}else if(Object.keys(s.values||cg).includes(c)){const l=s.up(c);a[l]=n(e[c],c)}else{const l=c;a[l]=e[l]}return a},{})}return n(e)}function det(t={}){var n;return((n=t.keys)==null?void 0:n.reduce((r,i)=>{const s=t.up(i);return r[s]={},r},{}))||{}}function het(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function qt(t){if(typeof t!="string")throw new Error(Zs(7));return t.charAt(0).toUpperCase()+t.slice(1)}function lg(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function Mh(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=lg(t,n)||r,e&&(i=e(i,r,t)),i}function Pe(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,s=a=>{if(a[e]==null)return null;const c=a[e],l=a.theme,d=lg(l,r)||{};return Oo(a,c,g=>{let y=Mh(d,i,g);return g===y&&typeof g=="string"&&(y=Mh(d,i,`${e}${g==="default"?"":qt(g)}`,g)),n===!1?y:{[n]:y}})};return s.propTypes={},s.filterProps=[e],s}function pet(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const get={m:"margin",p:"padding"},met={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},WC={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},yet=pet(t=>{if(t.length>2)if(WC[t])t=WC[t];else return[t];const[e,n]=t.split(""),r=get[e],i=met[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),eS=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],nS=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...eS,...nS];function af(t,e,n,r){const i=lg(t,e,!0)??n;return typeof i=="number"||typeof i=="string"?s=>typeof s=="string"?s:typeof i=="string"?`calc(${s} * ${i})`:i*s:Array.isArray(i)?s=>{if(typeof s=="string")return s;const a=Math.abs(s),c=i[a];return s>=0?c:typeof c=="number"?-c:`-${c}`}:typeof i=="function"?i:()=>{}}function rS(t){return af(t,"spacing",8)}function uf(t,e){return typeof e=="string"||e==null?e:t(e)}function vet(t,e){return n=>t.reduce((r,i)=>(r[i]=uf(e,n),r),{})}function _et(t,e,n,r){if(!e.includes(n))return null;const i=yet(n),s=vet(i,r),a=t[n];return Oo(t,a,s)}function pM(t,e){const n=rS(t.theme);return Object.keys(t).map(r=>_et(t,e,r,n)).reduce(Jc,{})}function we(t){return pM(t,eS)}we.propTypes={};we.filterProps=eS;function Ee(t){return pM(t,nS)}Ee.propTypes={};Ee.filterProps=nS;function gM(t=8,e=rS({spacing:t})){if(t.mui)return t;const n=(...r)=>(r.length===0?[1]:r).map(s=>{const a=e(s);return typeof a=="number"?`${a}px`:a}).join(" ");return n.mui=!0,n}function fg(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>e[s]?Jc(i,e[s](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function Vr(t){return typeof t!="number"?t:`${t}px solid`}function ei(t,e){return Pe({prop:t,themeKey:"borders",transform:e})}const bet=ei("border",Vr),wet=ei("borderTop",Vr),Eet=ei("borderRight",Vr),xet=ei("borderBottom",Vr),Cet=ei("borderLeft",Vr),Tet=ei("borderColor"),Oet=ei("borderTopColor"),Aet=ei("borderRightColor"),ket=ei("borderBottomColor"),Iet=ei("borderLeftColor"),$et=ei("outline",Vr),Ret=ei("outlineColor"),dg=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=af(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:uf(e,r)});return Oo(t,t.borderRadius,n)}return null};dg.propTypes={};dg.filterProps=["borderRadius"];fg(bet,wet,Eet,xet,Cet,Tet,Oet,Aet,ket,Iet,dg,$et,Ret);const hg=t=>{if(t.gap!==void 0&&t.gap!==null){const e=af(t.theme,"spacing",8),n=r=>({gap:uf(e,r)});return Oo(t,t.gap,n)}return null};hg.propTypes={};hg.filterProps=["gap"];const pg=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=af(t.theme,"spacing",8),n=r=>({columnGap:uf(e,r)});return Oo(t,t.columnGap,n)}return null};pg.propTypes={};pg.filterProps=["columnGap"];const gg=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=af(t.theme,"spacing",8),n=r=>({rowGap:uf(e,r)});return Oo(t,t.rowGap,n)}return null};gg.propTypes={};gg.filterProps=["rowGap"];const Pet=Pe({prop:"gridColumn"}),Met=Pe({prop:"gridRow"}),Net=Pe({prop:"gridAutoFlow"}),Let=Pe({prop:"gridAutoColumns"}),Fet=Pe({prop:"gridAutoRows"}),Bet=Pe({prop:"gridTemplateColumns"}),jet=Pe({prop:"gridTemplateRows"}),Det=Pe({prop:"gridTemplateAreas"}),Uet=Pe({prop:"gridArea"});fg(hg,pg,gg,Pet,Met,Net,Let,Fet,Bet,jet,Det,Uet);function Za(t,e){return e==="grey"?e:t}const zet=Pe({prop:"color",themeKey:"palette",transform:Za}),Wet=Pe({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Za}),Ket=Pe({prop:"backgroundColor",themeKey:"palette",transform:Za});fg(zet,Wet,Ket);function mr(t){return t<=1&&t!==0?`${t*100}%`:t}const qet=Pe({prop:"width",transform:mr}),iS=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var i,s,a,c,l;const r=((a=(s=(i=t.theme)==null?void 0:i.breakpoints)==null?void 0:s.values)==null?void 0:a[n])||cg[n];return r?((l=(c=t.theme)==null?void 0:c.breakpoints)==null?void 0:l.unit)!=="px"?{maxWidth:`${r}${t.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:mr(n)}};return Oo(t,t.maxWidth,e)}return null};iS.filterProps=["maxWidth"];const Vet=Pe({prop:"minWidth",transform:mr}),Het=Pe({prop:"height",transform:mr}),Get=Pe({prop:"maxHeight",transform:mr}),Jet=Pe({prop:"minHeight",transform:mr});Pe({prop:"size",cssProperty:"width",transform:mr});Pe({prop:"size",cssProperty:"height",transform:mr});const Yet=Pe({prop:"boxSizing"});fg(qet,iS,Vet,Het,Get,Jet,Yet);const cf={border:{themeKey:"borders",transform:Vr},borderTop:{themeKey:"borders",transform:Vr},borderRight:{themeKey:"borders",transform:Vr},borderBottom:{themeKey:"borders",transform:Vr},borderLeft:{themeKey:"borders",transform:Vr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Vr},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:dg},color:{themeKey:"palette",transform:Za},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Za},backgroundColor:{themeKey:"palette",transform:Za},p:{style:Ee},pt:{style:Ee},pr:{style:Ee},pb:{style:Ee},pl:{style:Ee},px:{style:Ee},py:{style:Ee},padding:{style:Ee},paddingTop:{style:Ee},paddingRight:{style:Ee},paddingBottom:{style:Ee},paddingLeft:{style:Ee},paddingX:{style:Ee},paddingY:{style:Ee},paddingInline:{style:Ee},paddingInlineStart:{style:Ee},paddingInlineEnd:{style:Ee},paddingBlock:{style:Ee},paddingBlockStart:{style:Ee},paddingBlockEnd:{style:Ee},m:{style:we},mt:{style:we},mr:{style:we},mb:{style:we},ml:{style:we},mx:{style:we},my:{style:we},margin:{style:we},marginTop:{style:we},marginRight:{style:we},marginBottom:{style:we},marginLeft:{style:we},marginX:{style:we},marginY:{style:we},marginInline:{style:we},marginInlineStart:{style:we},marginInlineEnd:{style:we},marginBlock:{style:we},marginBlockStart:{style:we},marginBlockEnd:{style:we},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:hg},rowGap:{style:gg},columnGap:{style:pg},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:mr},maxWidth:{style:iS},minWidth:{transform:mr},height:{transform:mr},maxHeight:{transform:mr},minHeight:{transform:mr},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function Xet(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function Qet(t,e){return typeof t=="function"?t(e):t}function Zet(){function t(n,r,i,s){const a={[n]:r,theme:i},c=s[n];if(!c)return{[n]:r};const{cssProperty:l=n,themeKey:d,transform:h,style:g}=c;if(r==null)return null;if(d==="typography"&&r==="inherit")return{[n]:r};const y=lg(i,d)||{};return g?g(a):Oo(a,r,S=>{let x=Mh(y,h,S);return S===x&&typeof S=="string"&&(x=Mh(y,h,`${n}${S==="default"?"":qt(S)}`,S)),l===!1?x:{[l]:x}})}function e(n){const{sx:r,theme:i={}}=n||{};if(!r)return null;const s=i.unstable_sxConfig??cf;function a(c){let l=c;if(typeof c=="function")l=c(i);else if(typeof c!="object")return c;if(!l)return null;const d=det(i.breakpoints),h=Object.keys(d);let g=d;return Object.keys(l).forEach(y=>{const v=Qet(l[y],i);if(v!=null)if(typeof v=="object")if(s[y])g=Jc(g,t(y,v,i,s));else{const S=Oo({theme:i},v,x=>({[y]:x}));Xet(S,v)?g[y]=e({sx:v,theme:i}):g=Jc(g,S)}else g=Jc(g,t(y,v,i,s))}),oet(i,het(h,g))}return Array.isArray(r)?r.map(a):a(r)}return e}const ta=Zet();ta.filterProps=["sx"];function tnt(t,e){var r;const n=this;if(n.vars){if(!((r=n.colorSchemes)!=null&&r[t])||typeof n.getColorSchemeSelector!="function")return{};let i=n.getColorSchemeSelector(t);return i==="&"?e:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:e})}return n.palette.mode===t?e:{}}function oS(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:s={},...a}=t,c=iet(n),l=gM(i);let d=br({breakpoints:c,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:l,shape:{...cet,...s}},a);return d=uet(d),d.applyStyles=tnt,d=e.reduce((h,g)=>br(h,g),d),d.unstable_sxConfig={...cf,...a==null?void 0:a.unstable_sxConfig},d.unstable_sx=function(g){return ta({sx:g,theme:this})},d}function ent(t){return Object.keys(t).length===0}function nnt(t=null){const e=G.useContext(Yb);return!e||ent(e)?t:e}const rnt=oS();function int(t=rnt){return nnt(t)}const ont=t=>{var r;const e={systemProps:{},otherProps:{}},n=((r=t==null?void 0:t.theme)==null?void 0:r.unstable_sxConfig)??cf;return Object.keys(t).forEach(i=>{n[i]?e.systemProps[i]=t[i]:e.otherProps[i]=t[i]}),e};function mM(t){const{sx:e,...n}=t,{systemProps:r,otherProps:i}=ont(n);let s;return Array.isArray(e)?s=[r,...e]:typeof e=="function"?s=(...a)=>{const c=e(...a);return Di(c)?{...r,...c}:r}:s={...r,...e},{...i,sx:s}}const KC=t=>t,snt=()=>{let t=KC;return{configure(e){t=e},generate(e){return t(e)},reset(){t=KC}}},yM=snt();function vM(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=vM(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function gn(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=vM(t))&&(r&&(r+=" "),r+=e);return r}function ant(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=t,s=lM("div",{shouldForwardProp:c=>c!=="theme"&&c!=="sx"&&c!=="as"})(ta);return G.forwardRef(function(l,d){const h=int(n),{className:g,component:y="div",...v}=mM(l);return J.jsx(s,{as:y,ref:d,className:gn(g,i?i(r):r),theme:e&&h[e]||h,...v})})}const unt={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function ha(t,e,n="Mui"){const r=unt[e];return r?`${n}-${r}`:`${yM.generate(t)}-${e}`}function gs(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=ha(t,i,n)}),r}function _M(t){const{variants:e,...n}=t,r={variants:e,style:UC(n),isProcessed:!0};return r.style===n||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=UC(i.style))}),r}const cnt=oS();function $y(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function lnt(t){return t?(e,n)=>n[t]:null}function fnt(t,e,n){t.theme=pnt(t.theme)?n:t.theme[e]||t.theme}function zd(t,e){const n=typeof e=="function"?e(t):e;if(Array.isArray(n))return n.flatMap(r=>zd(t,r));if(Array.isArray(n==null?void 0:n.variants)){let r;if(n.isProcessed)r=n.style;else{const{variants:i,...s}=n;r=s}return bM(t,n.variants,[r])}return n!=null&&n.isProcessed?n.style:n}function bM(t,e,n=[]){var i;let r;t:for(let s=0;s<e.length;s+=1){const a=e[s];if(typeof a.props=="function"){if(r??(r={...t,...t.ownerState,ownerState:t.ownerState}),!a.props(r))continue}else for(const c in a.props)if(t[c]!==a.props[c]&&((i=t.ownerState)==null?void 0:i[c])!==a.props[c])continue t;typeof a.style=="function"?(r??(r={...t,...t.ownerState,ownerState:t.ownerState}),n.push(a.style(r))):n.push(a.style)}return n}function dnt(t={}){const{themeId:e,defaultTheme:n=cnt,rootShouldForwardProp:r=$y,slotShouldForwardProp:i=$y}=t;function s(c){fnt(c,e,n)}return(c,l={})=>{tet(c,j=>j.filter(B=>B!==ta));const{name:d,slot:h,skipVariantsResolver:g,skipSx:y,overridesResolver:v=lnt(mnt(h)),...S}=l,x=g!==void 0?g:h&&h!=="Root"&&h!=="root"||!1,T=y||!1;let O=$y;h==="Root"||h==="root"?O=r:h?O=i:gnt(c)&&(O=void 0);const N=lM(c,{shouldForwardProp:O,label:hnt(),...S}),P=j=>{if(typeof j=="function"&&j.__emotion_real!==j)return function(k){return zd(k,j)};if(Di(j)){const B=_M(j);return B.variants?function(U){return zd(U,B)}:B.style}return j},$=(...j)=>{const B=[],k=j.map(P),U=[];if(B.push(s),d&&v&&U.push(function(D){var gt,it;const nt=(it=(gt=D.theme.components)==null?void 0:gt[d])==null?void 0:it.styleOverrides;if(!nt)return null;const mt={};for(const at in nt)mt[at]=zd(D,nt[at]);return v(D,mt)}),d&&!x&&U.push(function(D){var mt,gt;const X=D.theme,nt=(gt=(mt=X==null?void 0:X.components)==null?void 0:mt[d])==null?void 0:gt.variants;return nt?bM(D,nt):null}),T||U.push(ta),Array.isArray(k[0])){const M=k.shift(),D=new Array(B.length).fill(""),X=new Array(U.length).fill("");let nt;nt=[...D,...M,...X],nt.raw=[...D,...M.raw,...X],B.unshift(nt)}const K=[...B,...k,...U],b=N(...K);return c.muiName&&(b.muiName=c.muiName),b};return N.withConfig&&($.withConfig=N.withConfig),$}}function hnt(t,e){return void 0}function pnt(t){for(const e in t)return!1;return!0}function gnt(t){return typeof t=="string"&&t.charCodeAt(0)>96}function mnt(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}function Nh(t,e){const n={...e};for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const i=r;if(i==="components"||i==="slots")n[i]={...t[i],...n[i]};else if(i==="componentsProps"||i==="slotProps"){const s=t[i],a=e[i];if(!a)n[i]=s||{};else if(!s)n[i]=a;else{n[i]={...a};for(const c in s)if(Object.prototype.hasOwnProperty.call(s,c)){const l=c;n[i][l]=Nh(s[l],a[l])}}}else n[i]===void 0&&(n[i]=t[i])}return n}const ynt=typeof window<"u"?G.useLayoutEffect:G.useEffect;function vnt(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}function sS(t,e=0,n=1){return vnt(t,e,n)}function _nt(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function fs(t){if(t.type)return t;if(t.charAt(0)==="#")return fs(_nt(t));const e=t.indexOf("("),n=t.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(Zs(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(Zs(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}const bnt=t=>{const e=fs(t);return e.values.slice(0,3).map((n,r)=>e.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},Dc=(t,e)=>{try{return bnt(t)}catch{return t}};function mg(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.includes("rgb")?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function SM(t){t=fs(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),a=(d,h=(d+n/30)%12)=>i-s*Math.max(Math.min(h-3,9-h,1),-1);let c="rgb";const l=[Math.round(a(0)*255),Math.round(a(8)*255),Math.round(a(4)*255)];return t.type==="hsla"&&(c+="a",l.push(e[3])),mg({type:c,values:l})}function Zv(t){t=fs(t);let e=t.type==="hsl"||t.type==="hsla"?fs(SM(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function Snt(t,e){const n=Zv(t),r=Zv(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function Zo(t,e){return t=fs(t),e=sS(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,mg(t)}function gd(t,e,n){try{return Zo(t,e)}catch{return t}}function aS(t,e){if(t=fs(t),e=sS(e),t.type.includes("hsl"))t.values[2]*=1-e;else if(t.type.includes("rgb")||t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]*=1-e;return mg(t)}function Zt(t,e,n){try{return aS(t,e)}catch{return t}}function uS(t,e){if(t=fs(t),e=sS(e),t.type.includes("hsl"))t.values[2]+=(100-t.values[2])*e;else if(t.type.includes("rgb"))for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return mg(t)}function te(t,e,n){try{return uS(t,e)}catch{return t}}function wnt(t,e=.15){return Zv(t)>.5?aS(t,e):uS(t,e)}function md(t,e,n){try{return wnt(t,e)}catch{return t}}function Ent(t,e){typeof t=="function"?t(e):t&&(t.current=e)}let qC=0;function xnt(t){const[e,n]=G.useState(t),r=t||e;return G.useEffect(()=>{e==null&&(qC+=1,n(`mui-${qC}`))},[e]),r}const Cnt={...Bv},VC=Cnt.useId;function wM(t){if(VC!==void 0){const e=VC();return t??e}return xnt(t)}function Wd(t){const e=G.useRef(t);return ynt(()=>{e.current=t}),G.useRef((...n)=>(0,e.current)(...n)).current}function HC(...t){return G.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{Ent(n,e)})},t)}const GC={};function EM(t,e){const n=G.useRef(GC);return n.current===GC&&(n.current=t(e)),n}const Tnt=[];function Ont(t){G.useEffect(t,Tnt)}class cS{constructor(){_(this,"currentId",null);_(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});_(this,"disposeEffect",()=>this.clear)}static create(){return new cS}start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}}function Ant(){const t=EM(cS.create).current;return Ont(t.disposeEffect),t}function JC(t){try{return t.matches(":focus-visible")}catch{}return!1}function Zu(t,e,n=void 0){const r={};for(const i in t){const s=t[i];let a="",c=!0;for(let l=0;l<s.length;l+=1){const d=s[l];d&&(a+=(c===!0?"":" ")+e(d),c=!1,n&&n[d]&&(a+=" "+n[d]))}r[i]=a}return r}const knt=G.createContext(void 0);function Int(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const i=e.components[n];return i.defaultProps?Nh(i.defaultProps,r):!i.styleOverrides&&!i.variants?Nh(i,r):r}function $nt({props:t,name:e}){const n=G.useContext(knt);return Int({props:t,name:e,theme:{components:n}})}const YC={theme:void 0};function Rnt(t){let e,n;return function(i){let s=e;return(s===void 0||i.theme!==n)&&(YC.theme=i.theme,s=_M(t(YC)),e=s,n=i.theme),s}}function Pnt(t=""){function e(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${t?`${t}-`:""}${i}${e(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${t?`${t}-`:""}${r}${e(...i)})`}const XC=(t,e,n,r=[])=>{let i=t;e.forEach((s,a)=>{a===e.length-1?Array.isArray(i)?i[Number(s)]=n:i&&typeof i=="object"&&(i[s]=n):i&&typeof i=="object"&&(i[s]||(i[s]=r.includes(s)?[]:{}),i=i[s])})},Mnt=(t,e,n)=>{function r(i,s=[],a=[]){Object.entries(i).forEach(([c,l])=>{(!n||n&&!n([...s,c]))&&l!=null&&(typeof l=="object"&&Object.keys(l).length>0?r(l,[...s,c],Array.isArray(l)?[...a,c]:a):e([...s,c],l,a))})}r(t)},Nnt=(t,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>t.includes(r))||t[t.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function Ry(t,e){const{prefix:n,shouldSkipGeneratingVar:r}=e||{},i={},s={},a={};return Mnt(t,(c,l,d)=>{if((typeof l=="string"||typeof l=="number")&&(!r||!r(c,l))){const h=`--${n?`${n}-`:""}${c.join("-")}`,g=Nnt(c,l);Object.assign(i,{[h]:g}),XC(s,c,`var(${h})`,d),XC(a,c,`var(${h}, ${g})`,d)}},c=>c[0]==="vars"),{css:i,vars:s,varsWithDefaults:a}}function Lnt(t,e={}){const{getSelector:n=T,disableCssColorScheme:r,colorSchemeSelector:i}=e,{colorSchemes:s={},components:a,defaultColorScheme:c="light",...l}=t,{vars:d,css:h,varsWithDefaults:g}=Ry(l,e);let y=g;const v={},{[c]:S,...x}=s;if(Object.entries(x||{}).forEach(([P,$])=>{const{vars:j,css:B,varsWithDefaults:k}=Ry($,e);y=br(y,k),v[P]={css:B,vars:j}}),S){const{css:P,vars:$,varsWithDefaults:j}=Ry(S,e);y=br(y,j),v[c]={css:P,vars:$}}function T(P,$){var B,k;let j=i;if(i==="class"&&(j=".%s"),i==="data"&&(j="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(j=`[${i}="%s"]`),P){if(j==="media")return t.defaultColorScheme===P?":root":{[`@media (prefers-color-scheme: ${((k=(B=s[P])==null?void 0:B.palette)==null?void 0:k.mode)||P})`]:{":root":$}};if(j)return t.defaultColorScheme===P?`:root, ${j.replace("%s",String(P))}`:j.replace("%s",String(P))}return":root"}return{vars:y,generateThemeVars:()=>{let P={...d};return Object.entries(v).forEach(([,{vars:$}])=>{P=br(P,$)}),P},generateStyleSheets:()=>{var U,K;const P=[],$=t.defaultColorScheme||"light";function j(b,M){Object.keys(M).length&&P.push(typeof b=="string"?{[b]:{...M}}:b)}j(n(void 0,{...h}),h);const{[$]:B,...k}=v;if(B){const{css:b}=B,M=(K=(U=s[$])==null?void 0:U.palette)==null?void 0:K.mode,D=!r&&M?{colorScheme:M,...b}:{...b};j(n($,{...D}),D)}return Object.entries(k).forEach(([b,{css:M}])=>{var nt,mt;const D=(mt=(nt=s[b])==null?void 0:nt.palette)==null?void 0:mt.mode,X=!r&&D?{colorScheme:D,...M}:{...M};j(n(b,{...X}),X)}),P}}}function Fnt(t){return function(n){return t==="media"?`@media (prefers-color-scheme: ${n})`:t?t.startsWith("data-")&&!t.includes("%s")?`[${t}="${n}"] &`:t==="class"?`.${n} &`:t==="data"?`[data-${n}] &`:`${t.replace("%s",n)} &`:"&"}}function xM(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:vl.white,default:vl.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const Bnt=xM();function CM(){return{text:{primary:vl.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:vl.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const QC=CM();function ZC(t,e,n,r){const i=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=uS(t.main,i):e==="dark"&&(t.dark=aS(t.main,s)))}function jnt(t="light"){return t==="dark"?{main:Fa[200],light:Fa[50],dark:Fa[400]}:{main:Fa[700],light:Fa[400],dark:Fa[800]}}function Dnt(t="light"){return t==="dark"?{main:La[200],light:La[50],dark:La[400]}:{main:La[500],light:La[300],dark:La[700]}}function Unt(t="light"){return t==="dark"?{main:Na[500],light:Na[300],dark:Na[700]}:{main:Na[700],light:Na[400],dark:Na[800]}}function znt(t="light"){return t==="dark"?{main:Ba[400],light:Ba[300],dark:Ba[700]}:{main:Ba[700],light:Ba[500],dark:Ba[900]}}function Wnt(t="light"){return t==="dark"?{main:ja[400],light:ja[300],dark:ja[700]}:{main:ja[800],light:ja[500],dark:ja[900]}}function Knt(t="light"){return t==="dark"?{main:Ic[400],light:Ic[300],dark:Ic[700]}:{main:"#ed6c02",light:Ic[500],dark:Ic[900]}}function lS(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2,...i}=t,s=t.primary||jnt(e),a=t.secondary||Dnt(e),c=t.error||Unt(e),l=t.info||znt(e),d=t.success||Wnt(e),h=t.warning||Knt(e);function g(x){return Snt(x,QC.text.primary)>=n?QC.text.primary:Bnt.text.primary}const y=({color:x,name:T,mainShade:O=500,lightShade:N=300,darkShade:P=700})=>{if(x={...x},!x.main&&x[O]&&(x.main=x[O]),!x.hasOwnProperty("main"))throw new Error(Zs(11,T?` (${T})`:"",O));if(typeof x.main!="string")throw new Error(Zs(12,T?` (${T})`:"",JSON.stringify(x.main)));return ZC(x,"light",N,r),ZC(x,"dark",P,r),x.contrastText||(x.contrastText=g(x.main)),x};let v;return e==="light"?v=xM():e==="dark"&&(v=CM()),br({common:{...vl},mode:e,primary:y({color:s,name:"primary"}),secondary:y({color:a,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:y({color:c,name:"error"}),warning:y({color:h,name:"warning"}),info:y({color:l,name:"info"}),success:y({color:d,name:"success"}),grey:XZ,contrastThreshold:n,getContrastText:g,augmentColor:y,tonalOffset:r,...v},i)}function qnt(t){const e={};return Object.entries(t).forEach(r=>{const[i,s]=r;typeof s=="object"&&(e[i]=`${s.fontStyle?`${s.fontStyle} `:""}${s.fontVariant?`${s.fontVariant} `:""}${s.fontWeight?`${s.fontWeight} `:""}${s.fontStretch?`${s.fontStretch} `:""}${s.fontSize||""}${s.lineHeight?`/${s.lineHeight} `:""}${s.fontFamily||""}`)}),e}function Vnt(t,e){return{toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}},...e}}function Hnt(t){return Math.round(t*1e5)/1e5}const tT={textTransform:"uppercase"},eT='"Roboto", "Helvetica", "Arial", sans-serif';function Gnt(t,e){const{fontFamily:n=eT,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:s=400,fontWeightMedium:a=500,fontWeightBold:c=700,htmlFontSize:l=16,allVariants:d,pxToRem:h,...g}=typeof e=="function"?e(t):e,y=r/14,v=h||(T=>`${T/l*y}rem`),S=(T,O,N,P,$)=>({fontFamily:n,fontWeight:T,fontSize:v(O),lineHeight:N,...n===eT?{letterSpacing:`${Hnt(P/O)}em`}:{},...$,...d}),x={h1:S(i,96,1.167,-1.5),h2:S(i,60,1.2,-.5),h3:S(s,48,1.167,0),h4:S(s,34,1.235,.25),h5:S(s,24,1.334,0),h6:S(a,20,1.6,.15),subtitle1:S(s,16,1.75,.15),subtitle2:S(a,14,1.57,.1),body1:S(s,16,1.5,.15),body2:S(s,14,1.43,.15),button:S(a,14,1.75,.4,tT),caption:S(s,12,1.66,.4),overline:S(s,12,2.66,1,tT),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return br({htmlFontSize:l,pxToRem:v,fontFamily:n,fontSize:r,fontWeightLight:i,fontWeightRegular:s,fontWeightMedium:a,fontWeightBold:c,...x},g,{clone:!1})}const Jnt=.2,Ynt=.14,Xnt=.12;function pe(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${Jnt})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${Ynt})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${Xnt})`].join(",")}const Qnt=["none",pe(0,2,1,-1,0,1,1,0,0,1,3,0),pe(0,3,1,-2,0,2,2,0,0,1,5,0),pe(0,3,3,-2,0,3,4,0,0,1,8,0),pe(0,2,4,-1,0,4,5,0,0,1,10,0),pe(0,3,5,-1,0,5,8,0,0,1,14,0),pe(0,3,5,-1,0,6,10,0,0,1,18,0),pe(0,4,5,-2,0,7,10,1,0,2,16,1),pe(0,5,5,-3,0,8,10,1,0,3,14,2),pe(0,5,6,-3,0,9,12,1,0,3,16,2),pe(0,6,6,-3,0,10,14,1,0,4,18,3),pe(0,6,7,-4,0,11,15,1,0,4,20,3),pe(0,7,8,-4,0,12,17,2,0,5,22,4),pe(0,7,8,-4,0,13,19,2,0,5,24,4),pe(0,7,9,-4,0,14,21,2,0,5,26,4),pe(0,8,9,-5,0,15,22,2,0,6,28,5),pe(0,8,10,-5,0,16,24,2,0,6,30,5),pe(0,8,11,-5,0,17,26,2,0,6,32,5),pe(0,9,11,-5,0,18,28,2,0,7,34,6),pe(0,9,12,-6,0,19,29,2,0,7,36,6),pe(0,10,13,-6,0,20,31,3,0,8,38,7),pe(0,10,13,-6,0,21,33,3,0,8,40,7),pe(0,10,14,-6,0,22,35,3,0,8,42,7),pe(0,11,14,-7,0,23,36,3,0,9,44,8),pe(0,11,15,-7,0,24,38,3,0,9,46,8)],Znt={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},trt={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function nT(t){return`${Math.round(t)}ms`}function ert(t){if(!t)return 0;const e=t/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function nrt(t){const e={...Znt,...t.easing},n={...trt,...t.duration};return{getAutoHeightDuration:ert,create:(i=["all"],s={})=>{const{duration:a=n.standard,easing:c=e.easeInOut,delay:l=0,...d}=s;return(Array.isArray(i)?i:[i]).map(h=>`${h} ${typeof a=="string"?a:nT(a)} ${c} ${typeof l=="string"?l:nT(l)}`).join(",")},...t,easing:e,duration:n}}const rrt={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function irt(t){return Di(t)||typeof t>"u"||typeof t=="string"||typeof t=="boolean"||typeof t=="number"||Array.isArray(t)}function TM(t={}){const e={...t};function n(r){const i=Object.entries(r);for(let s=0;s<i.length;s++){const[a,c]=i[s];!irt(c)||a.startsWith("unstable_")?delete r[a]:Di(c)&&(r[a]={...c},n(r[a]))}}return n(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function t0(t={},...e){const{breakpoints:n,mixins:r={},spacing:i,palette:s={},transitions:a={},typography:c={},shape:l,...d}=t;if(t.vars&&t.generateThemeVars===void 0)throw new Error(Zs(20));const h=lS(s),g=oS(t);let y=br(g,{mixins:Vnt(g.breakpoints,r),palette:h,shadows:Qnt.slice(),typography:Gnt(h,c),transitions:nrt(a),zIndex:{...rrt}});return y=br(y,d),y=e.reduce((v,S)=>br(v,S),y),y.unstable_sxConfig={...cf,...d==null?void 0:d.unstable_sxConfig},y.unstable_sx=function(S){return ta({sx:S,theme:this})},y.toRuntimeSource=TM,y}function ort(t){let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,Math.round(e*10)/1e3}const srt=[...Array(25)].map((t,e)=>{if(e===0)return"none";const n=ort(e);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function OM(t){return{inputPlaceholder:t==="dark"?.5:.42,inputUnderline:t==="dark"?.7:.42,switchTrackDisabled:t==="dark"?.2:.12,switchTrack:t==="dark"?.3:.38}}function AM(t){return t==="dark"?srt:[]}function art(t){const{palette:e={mode:"light"},opacity:n,overlays:r,...i}=t,s=lS(e);return{palette:s,opacity:{...OM(s.mode),...n},overlays:r||AM(s.mode),...i}}function urt(t){var e;return!!t[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!t[0].match(/sxConfig$/)||t[0]==="palette"&&!!((e=t[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const crt=t=>[...[...Array(25)].map((e,n)=>`--${t?`${t}-`:""}overlays-${n}`),`--${t?`${t}-`:""}palette-AppBar-darkBg`,`--${t?`${t}-`:""}palette-AppBar-darkColor`];var lrt=t=>(e,n)=>{const r=t.rootSelector||":root",i=t.colorSchemeSelector;let s=i;if(i==="class"&&(s=".%s"),i==="data"&&(s="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(s=`[${i}="%s"]`),t.defaultColorScheme===e){if(e==="dark"){const a={};return crt(t.cssVarPrefix).forEach(c=>{a[c]=n[c],delete n[c]}),s==="media"?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:a}}:s?{[s.replace("%s",e)]:a,[`${r}, ${s.replace("%s",e)}`]:n}:{[r]:{...n,...a}}}if(s&&s!=="media")return`${r}, ${s.replace("%s",String(e))}`}else if(e){if(s==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:n}};if(s)return s.replace("%s",String(e))}return r};function frt(t,e){e.forEach(n=>{t[n]||(t[n]={})})}function z(t,e,n){!t[e]&&n&&(t[e]=n)}function Uc(t){return typeof t!="string"||!t.startsWith("hsl")?t:SM(t)}function po(t,e){`${e}Channel`in t||(t[`${e}Channel`]=Dc(Uc(t[e])))}function drt(t){return typeof t=="number"?`${t}px`:typeof t=="string"||typeof t=="function"||Array.isArray(t)?t:"8px"}const ki=t=>{try{return t()}catch{}},hrt=(t="mui")=>Pnt(t);function Py(t,e,n,r){if(!e)return;e=e===!0?{}:e;const i=r==="dark"?"dark":"light";if(!n){t[r]=art({...e,palette:{mode:i,...e==null?void 0:e.palette}});return}const{palette:s,...a}=t0({...n,palette:{mode:i,...e==null?void 0:e.palette}});return t[r]={...e,palette:s,opacity:{...OM(i),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||AM(i)},a}function prt(t={},...e){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:s="mui",shouldSkipGeneratingVar:a=urt,colorSchemeSelector:c=n.light&&n.dark?"media":void 0,rootSelector:l=":root",...d}=t,h=Object.keys(n)[0],g=r||(n.light&&h!=="light"?"light":h),y=hrt(s),{[g]:v,light:S,dark:x,...T}=n,O={...T};let N=v;if((g==="dark"&&!("dark"in n)||g==="light"&&!("light"in n))&&(N=!0),!N)throw new Error(Zs(21,g));const P=Py(O,N,d,g);S&&!O.light&&Py(O,S,void 0,"light"),x&&!O.dark&&Py(O,x,void 0,"dark");let $={defaultColorScheme:g,...P,cssVarPrefix:s,colorSchemeSelector:c,rootSelector:l,getCssVar:y,colorSchemes:O,font:{...qnt(P.typography),...P.font},spacing:drt(d.spacing)};Object.keys($.colorSchemes).forEach(K=>{const b=$.colorSchemes[K].palette,M=D=>{const X=D.split("-"),nt=X[1],mt=X[2];return y(D,b[nt][mt])};if(b.mode==="light"&&(z(b.common,"background","#fff"),z(b.common,"onBackground","#000")),b.mode==="dark"&&(z(b.common,"background","#000"),z(b.common,"onBackground","#fff")),frt(b,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),b.mode==="light"){z(b.Alert,"errorColor",Zt(b.error.light,.6)),z(b.Alert,"infoColor",Zt(b.info.light,.6)),z(b.Alert,"successColor",Zt(b.success.light,.6)),z(b.Alert,"warningColor",Zt(b.warning.light,.6)),z(b.Alert,"errorFilledBg",M("palette-error-main")),z(b.Alert,"infoFilledBg",M("palette-info-main")),z(b.Alert,"successFilledBg",M("palette-success-main")),z(b.Alert,"warningFilledBg",M("palette-warning-main")),z(b.Alert,"errorFilledColor",ki(()=>b.getContrastText(b.error.main))),z(b.Alert,"infoFilledColor",ki(()=>b.getContrastText(b.info.main))),z(b.Alert,"successFilledColor",ki(()=>b.getContrastText(b.success.main))),z(b.Alert,"warningFilledColor",ki(()=>b.getContrastText(b.warning.main))),z(b.Alert,"errorStandardBg",te(b.error.light,.9)),z(b.Alert,"infoStandardBg",te(b.info.light,.9)),z(b.Alert,"successStandardBg",te(b.success.light,.9)),z(b.Alert,"warningStandardBg",te(b.warning.light,.9)),z(b.Alert,"errorIconColor",M("palette-error-main")),z(b.Alert,"infoIconColor",M("palette-info-main")),z(b.Alert,"successIconColor",M("palette-success-main")),z(b.Alert,"warningIconColor",M("palette-warning-main")),z(b.AppBar,"defaultBg",M("palette-grey-100")),z(b.Avatar,"defaultBg",M("palette-grey-400")),z(b.Button,"inheritContainedBg",M("palette-grey-300")),z(b.Button,"inheritContainedHoverBg",M("palette-grey-A100")),z(b.Chip,"defaultBorder",M("palette-grey-400")),z(b.Chip,"defaultAvatarColor",M("palette-grey-700")),z(b.Chip,"defaultIconColor",M("palette-grey-700")),z(b.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),z(b.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),z(b.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),z(b.LinearProgress,"primaryBg",te(b.primary.main,.62)),z(b.LinearProgress,"secondaryBg",te(b.secondary.main,.62)),z(b.LinearProgress,"errorBg",te(b.error.main,.62)),z(b.LinearProgress,"infoBg",te(b.info.main,.62)),z(b.LinearProgress,"successBg",te(b.success.main,.62)),z(b.LinearProgress,"warningBg",te(b.warning.main,.62)),z(b.Skeleton,"bg",`rgba(${M("palette-text-primaryChannel")} / 0.11)`),z(b.Slider,"primaryTrack",te(b.primary.main,.62)),z(b.Slider,"secondaryTrack",te(b.secondary.main,.62)),z(b.Slider,"errorTrack",te(b.error.main,.62)),z(b.Slider,"infoTrack",te(b.info.main,.62)),z(b.Slider,"successTrack",te(b.success.main,.62)),z(b.Slider,"warningTrack",te(b.warning.main,.62));const D=md(b.background.default,.8);z(b.SnackbarContent,"bg",D),z(b.SnackbarContent,"color",ki(()=>b.getContrastText(D))),z(b.SpeedDialAction,"fabHoverBg",md(b.background.paper,.15)),z(b.StepConnector,"border",M("palette-grey-400")),z(b.StepContent,"border",M("palette-grey-400")),z(b.Switch,"defaultColor",M("palette-common-white")),z(b.Switch,"defaultDisabledColor",M("palette-grey-100")),z(b.Switch,"primaryDisabledColor",te(b.primary.main,.62)),z(b.Switch,"secondaryDisabledColor",te(b.secondary.main,.62)),z(b.Switch,"errorDisabledColor",te(b.error.main,.62)),z(b.Switch,"infoDisabledColor",te(b.info.main,.62)),z(b.Switch,"successDisabledColor",te(b.success.main,.62)),z(b.Switch,"warningDisabledColor",te(b.warning.main,.62)),z(b.TableCell,"border",te(gd(b.divider,1),.88)),z(b.Tooltip,"bg",gd(b.grey[700],.92))}if(b.mode==="dark"){z(b.Alert,"errorColor",te(b.error.light,.6)),z(b.Alert,"infoColor",te(b.info.light,.6)),z(b.Alert,"successColor",te(b.success.light,.6)),z(b.Alert,"warningColor",te(b.warning.light,.6)),z(b.Alert,"errorFilledBg",M("palette-error-dark")),z(b.Alert,"infoFilledBg",M("palette-info-dark")),z(b.Alert,"successFilledBg",M("palette-success-dark")),z(b.Alert,"warningFilledBg",M("palette-warning-dark")),z(b.Alert,"errorFilledColor",ki(()=>b.getContrastText(b.error.dark))),z(b.Alert,"infoFilledColor",ki(()=>b.getContrastText(b.info.dark))),z(b.Alert,"successFilledColor",ki(()=>b.getContrastText(b.success.dark))),z(b.Alert,"warningFilledColor",ki(()=>b.getContrastText(b.warning.dark))),z(b.Alert,"errorStandardBg",Zt(b.error.light,.9)),z(b.Alert,"infoStandardBg",Zt(b.info.light,.9)),z(b.Alert,"successStandardBg",Zt(b.success.light,.9)),z(b.Alert,"warningStandardBg",Zt(b.warning.light,.9)),z(b.Alert,"errorIconColor",M("palette-error-main")),z(b.Alert,"infoIconColor",M("palette-info-main")),z(b.Alert,"successIconColor",M("palette-success-main")),z(b.Alert,"warningIconColor",M("palette-warning-main")),z(b.AppBar,"defaultBg",M("palette-grey-900")),z(b.AppBar,"darkBg",M("palette-background-paper")),z(b.AppBar,"darkColor",M("palette-text-primary")),z(b.Avatar,"defaultBg",M("palette-grey-600")),z(b.Button,"inheritContainedBg",M("palette-grey-800")),z(b.Button,"inheritContainedHoverBg",M("palette-grey-700")),z(b.Chip,"defaultBorder",M("palette-grey-700")),z(b.Chip,"defaultAvatarColor",M("palette-grey-300")),z(b.Chip,"defaultIconColor",M("palette-grey-300")),z(b.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),z(b.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),z(b.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),z(b.LinearProgress,"primaryBg",Zt(b.primary.main,.5)),z(b.LinearProgress,"secondaryBg",Zt(b.secondary.main,.5)),z(b.LinearProgress,"errorBg",Zt(b.error.main,.5)),z(b.LinearProgress,"infoBg",Zt(b.info.main,.5)),z(b.LinearProgress,"successBg",Zt(b.success.main,.5)),z(b.LinearProgress,"warningBg",Zt(b.warning.main,.5)),z(b.Skeleton,"bg",`rgba(${M("palette-text-primaryChannel")} / 0.13)`),z(b.Slider,"primaryTrack",Zt(b.primary.main,.5)),z(b.Slider,"secondaryTrack",Zt(b.secondary.main,.5)),z(b.Slider,"errorTrack",Zt(b.error.main,.5)),z(b.Slider,"infoTrack",Zt(b.info.main,.5)),z(b.Slider,"successTrack",Zt(b.success.main,.5)),z(b.Slider,"warningTrack",Zt(b.warning.main,.5));const D=md(b.background.default,.98);z(b.SnackbarContent,"bg",D),z(b.SnackbarContent,"color",ki(()=>b.getContrastText(D))),z(b.SpeedDialAction,"fabHoverBg",md(b.background.paper,.15)),z(b.StepConnector,"border",M("palette-grey-600")),z(b.StepContent,"border",M("palette-grey-600")),z(b.Switch,"defaultColor",M("palette-grey-300")),z(b.Switch,"defaultDisabledColor",M("palette-grey-600")),z(b.Switch,"primaryDisabledColor",Zt(b.primary.main,.55)),z(b.Switch,"secondaryDisabledColor",Zt(b.secondary.main,.55)),z(b.Switch,"errorDisabledColor",Zt(b.error.main,.55)),z(b.Switch,"infoDisabledColor",Zt(b.info.main,.55)),z(b.Switch,"successDisabledColor",Zt(b.success.main,.55)),z(b.Switch,"warningDisabledColor",Zt(b.warning.main,.55)),z(b.TableCell,"border",Zt(gd(b.divider,1),.68)),z(b.Tooltip,"bg",gd(b.grey[700],.92))}po(b.background,"default"),po(b.background,"paper"),po(b.common,"background"),po(b.common,"onBackground"),po(b,"divider"),Object.keys(b).forEach(D=>{const X=b[D];D!=="tonalOffset"&&X&&typeof X=="object"&&(X.main&&z(b[D],"mainChannel",Dc(Uc(X.main))),X.light&&z(b[D],"lightChannel",Dc(Uc(X.light))),X.dark&&z(b[D],"darkChannel",Dc(Uc(X.dark))),X.contrastText&&z(b[D],"contrastTextChannel",Dc(Uc(X.contrastText))),D==="text"&&(po(b[D],"primary"),po(b[D],"secondary")),D==="action"&&(X.active&&po(b[D],"active"),X.selected&&po(b[D],"selected")))})}),$=e.reduce((K,b)=>br(K,b),$);const j={prefix:s,disableCssColorScheme:i,shouldSkipGeneratingVar:a,getSelector:lrt($)},{vars:B,generateThemeVars:k,generateStyleSheets:U}=Lnt($,j);return $.vars=B,Object.entries($.colorSchemes[$.defaultColorScheme]).forEach(([K,b])=>{$[K]=b}),$.generateThemeVars=k,$.generateStyleSheets=U,$.generateSpacing=function(){return gM(d.spacing,rS(this))},$.getColorSchemeSelector=Fnt(c),$.spacing=$.generateSpacing(),$.shouldSkipGeneratingVar=a,$.unstable_sxConfig={...cf,...d==null?void 0:d.unstable_sxConfig},$.unstable_sx=function(b){return ta({sx:b,theme:this})},$.toRuntimeSource=TM,$}function rT(t,e,n){t.colorSchemes&&n&&(t.colorSchemes[e]={...n!==!0&&n,palette:lS({...n===!0?{}:n.palette,mode:e})})}function kM(t={},...e){const{palette:n,cssVariables:r=!1,colorSchemes:i=n?void 0:{light:!0},defaultColorScheme:s=n==null?void 0:n.mode,...a}=t,c=s||"light",l=i==null?void 0:i[c],d={...i,...n?{[c]:{...typeof l!="boolean"&&l,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in t))return t0(t,...e);let h=n;"palette"in t||d[c]&&(d[c]!==!0?h=d[c].palette:c==="dark"&&(h={mode:"dark"}));const g=t0({...t,palette:h},...e);return g.defaultColorScheme=c,g.colorSchemes=d,g.palette.mode==="light"&&(g.colorSchemes.light={...d.light!==!0&&d.light,palette:g.palette},rT(g,"dark",d.dark)),g.palette.mode==="dark"&&(g.colorSchemes.dark={...d.dark!==!0&&d.dark,palette:g.palette},rT(g,"light",d.light)),g}return!n&&!("light"in d)&&c==="light"&&(d.light=!0),prt({...a,colorSchemes:d,defaultColorScheme:c,...typeof r!="boolean"&&r},...e)}const grt=kM();function mrt(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const IM=t=>mrt(t)&&t!=="classes",Gn=dnt({themeId:qP,defaultTheme:grt,rootShouldForwardProp:IM});function yrt(){return mM}const ea=Rnt;function pa(t){return $nt(t)}function vrt(t){return ha("MuiSvgIcon",t)}gs("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const _rt=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${qt(e)}`,`fontSize${qt(n)}`]};return Zu(i,vrt,r)},brt=Gn("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${qt(n.color)}`],e[`fontSize${qt(n.fontSize)}`]]}})(ea(({theme:t})=>{var e,n,r,i,s,a,c,l,d,h,g,y,v,S;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(i=(e=t.transitions)==null?void 0:e.create)==null?void 0:i.call(e,"fill",{duration:(r=(n=(t.vars??t).transitions)==null?void 0:n.duration)==null?void 0:r.shorter}),variants:[{props:x=>!x.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((a=(s=t.typography)==null?void 0:s.pxToRem)==null?void 0:a.call(s,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((l=(c=t.typography)==null?void 0:c.pxToRem)==null?void 0:l.call(c,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((h=(d=t.typography)==null?void 0:d.pxToRem)==null?void 0:h.call(d,35))||"2.1875rem"}},...Object.entries((t.vars??t).palette).filter(([,x])=>x&&x.main).map(([x])=>{var T,O;return{props:{color:x},style:{color:(O=(T=(t.vars??t).palette)==null?void 0:T[x])==null?void 0:O.main}}}),{props:{color:"action"},style:{color:(y=(g=(t.vars??t).palette)==null?void 0:g.action)==null?void 0:y.active}},{props:{color:"disabled"},style:{color:(S=(v=(t.vars??t).palette)==null?void 0:v.action)==null?void 0:S.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),e0=G.forwardRef(function(e,n){const r=pa({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:a="inherit",component:c="svg",fontSize:l="medium",htmlColor:d,inheritViewBox:h=!1,titleAccess:g,viewBox:y="0 0 24 24",...v}=r,S=G.isValidElement(i)&&i.type==="svg",x={...r,color:a,component:c,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:h,viewBox:y,hasSvgAsChild:S},T={};h||(T.viewBox=y);const O=_rt(x);return J.jsxs(brt,{as:c,className:gn(O.root,s),focusable:"false",color:d,"aria-hidden":g?void 0:!0,role:g?"img":void 0,ref:n,...T,...v,...S&&i.props,ownerState:x,children:[S?i.props.children:i,g?J.jsx("title",{children:g}):null]})});e0.muiName="SvgIcon";function fS(t,e){function n(r,i){return J.jsx(e0,{"data-testid":`${e}Icon`,ref:i,...r,children:t})}return n.muiName=e0.muiName,G.memo(G.forwardRef(n))}function Srt(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function n0(t,e){return n0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},n0(t,e)}function wrt(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,n0(t,e)}var iT=ie.createContext(null);function Ert(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dS(t,e){var n=function(s){return e&&G.isValidElement(s)?e(s):s},r=Object.create(null);return t&&G.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function xrt(t,e){t=t||{},e=e||{};function n(h){return h in e?e[h]:t[h]}var r=Object.create(null),i=[];for(var s in t)s in e?i.length&&(r[s]=i,i=[]):i.push(s);var a,c={};for(var l in e){if(r[l])for(a=0;a<r[l].length;a++){var d=r[l][a];c[r[l][a]]=n(d)}c[l]=n(l)}for(a=0;a<i.length;a++)c[i[a]]=n(i[a]);return c}function Fs(t,e,n){return n[e]!=null?n[e]:t.props[e]}function Crt(t,e){return dS(t.children,function(n){return G.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:Fs(n,"appear",t),enter:Fs(n,"enter",t),exit:Fs(n,"exit",t)})})}function Trt(t,e,n){var r=dS(t.children),i=xrt(e,r);return Object.keys(i).forEach(function(s){var a=i[s];if(G.isValidElement(a)){var c=s in e,l=s in r,d=e[s],h=G.isValidElement(d)&&!d.props.in;l&&(!c||h)?i[s]=G.cloneElement(a,{onExited:n.bind(null,a),in:!0,exit:Fs(a,"exit",t),enter:Fs(a,"enter",t)}):!l&&c&&!h?i[s]=G.cloneElement(a,{in:!1}):l&&c&&G.isValidElement(d)&&(i[s]=G.cloneElement(a,{onExited:n.bind(null,a),in:d.props.in,exit:Fs(a,"exit",t),enter:Fs(a,"enter",t)}))}}),i}var Ort=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},Art={component:"div",childFactory:function(e){return e}},hS=function(t){wrt(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var a=s.handleExited.bind(Ert(s));return s.state={contextValue:{isMounting:!0},handleExited:a,firstRender:!0},s}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,s){var a=s.children,c=s.handleExited,l=s.firstRender;return{children:l?Crt(i,c):Trt(i,a,c),firstRender:!1}},n.handleExited=function(i,s){var a=dS(this.props.children);i.key in a||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(c){var l=Rh({},c.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,s=i.component,a=i.childFactory,c=Srt(i,["component","childFactory"]),l=this.state.contextValue,d=Ort(this.state.children).map(a);return delete c.appear,delete c.enter,delete c.exit,s===null?ie.createElement(iT.Provider,{value:l},d):ie.createElement(iT.Provider,{value:l},ie.createElement(s,c,d))},e}(ie.Component);hS.propTypes={};hS.defaultProps=Art;class Lh{constructor(){_(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new Lh}static use(){const e=EM(Lh.create).current,[n,r]=G.useState(!1);return e.shouldMount=n,e.setShouldMount=r,G.useEffect(e.mountEffect,[n]),e}mount(){return this.mounted||(this.mounted=Irt(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.start(...e)})}stop(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.stop(...e)})}pulsate(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.pulsate(...e)})}}function krt(){return Lh.use()}function Irt(){let t,e;const n=new Promise((r,i)=>{t=r,e=i});return n.resolve=t,n.reject=e,n}function $rt(t){const{className:e,classes:n,pulsate:r=!1,rippleX:i,rippleY:s,rippleSize:a,in:c,onExited:l,timeout:d}=t,[h,g]=G.useState(!1),y=gn(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),v={width:a,height:a,top:-(a/2)+s,left:-(a/2)+i},S=gn(n.child,h&&n.childLeaving,r&&n.childPulsate);return!c&&!h&&g(!0),G.useEffect(()=>{if(!c&&l!=null){const x=setTimeout(l,d);return()=>{clearTimeout(x)}}},[l,c,d]),J.jsx("span",{className:y,style:v,children:J.jsx("span",{className:S})})}const Kr=gs("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),r0=550,Rrt=80,Prt=sf`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,Mrt=sf`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,Nrt=sf`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,Lrt=Gn("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Frt=Gn($rt,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${Kr.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${Prt};
    animation-duration: ${r0}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  &.${Kr.ripplePulsate} {
    animation-duration: ${({theme:t})=>t.transitions.duration.shorter}ms;
  }

  & .${Kr.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${Kr.childLeaving} {
    opacity: 0;
    animation-name: ${Mrt};
    animation-duration: ${r0}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  & .${Kr.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${Nrt};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,Brt=G.forwardRef(function(e,n){const r=pa({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:a,...c}=r,[l,d]=G.useState([]),h=G.useRef(0),g=G.useRef(null);G.useEffect(()=>{g.current&&(g.current(),g.current=null)},[l]);const y=G.useRef(!1),v=Ant(),S=G.useRef(null),x=G.useRef(null),T=G.useCallback($=>{const{pulsate:j,rippleX:B,rippleY:k,rippleSize:U,cb:K}=$;d(b=>[...b,J.jsx(Frt,{classes:{ripple:gn(s.ripple,Kr.ripple),rippleVisible:gn(s.rippleVisible,Kr.rippleVisible),ripplePulsate:gn(s.ripplePulsate,Kr.ripplePulsate),child:gn(s.child,Kr.child),childLeaving:gn(s.childLeaving,Kr.childLeaving),childPulsate:gn(s.childPulsate,Kr.childPulsate)},timeout:r0,pulsate:j,rippleX:B,rippleY:k,rippleSize:U},h.current)]),h.current+=1,g.current=K},[s]),O=G.useCallback(($={},j={},B=()=>{})=>{const{pulsate:k=!1,center:U=i||j.pulsate,fakeElement:K=!1}=j;if(($==null?void 0:$.type)==="mousedown"&&y.current){y.current=!1;return}($==null?void 0:$.type)==="touchstart"&&(y.current=!0);const b=K?null:x.current,M=b?b.getBoundingClientRect():{width:0,height:0,left:0,top:0};let D,X,nt;if(U||$===void 0||$.clientX===0&&$.clientY===0||!$.clientX&&!$.touches)D=Math.round(M.width/2),X=Math.round(M.height/2);else{const{clientX:mt,clientY:gt}=$.touches&&$.touches.length>0?$.touches[0]:$;D=Math.round(mt-M.left),X=Math.round(gt-M.top)}if(U)nt=Math.sqrt((2*M.width**2+M.height**2)/3),nt%2===0&&(nt+=1);else{const mt=Math.max(Math.abs((b?b.clientWidth:0)-D),D)*2+2,gt=Math.max(Math.abs((b?b.clientHeight:0)-X),X)*2+2;nt=Math.sqrt(mt**2+gt**2)}$!=null&&$.touches?S.current===null&&(S.current=()=>{T({pulsate:k,rippleX:D,rippleY:X,rippleSize:nt,cb:B})},v.start(Rrt,()=>{S.current&&(S.current(),S.current=null)})):T({pulsate:k,rippleX:D,rippleY:X,rippleSize:nt,cb:B})},[i,T,v]),N=G.useCallback(()=>{O({},{pulsate:!0})},[O]),P=G.useCallback(($,j)=>{if(v.clear(),($==null?void 0:$.type)==="touchend"&&S.current){S.current(),S.current=null,v.start(0,()=>{P($,j)});return}S.current=null,d(B=>B.length>0?B.slice(1):B),g.current=j},[v]);return G.useImperativeHandle(n,()=>({pulsate:N,start:O,stop:P}),[N,O,P]),J.jsx(Lrt,{className:gn(Kr.root,s.root,a),ref:x,...c,children:J.jsx(hS,{component:null,exit:!0,children:l})})});function jrt(t){return ha("MuiButtonBase",t)}const Drt=gs("MuiButtonBase",["root","disabled","focusVisible"]),Urt=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:i}=t,a=Zu({root:["root",e&&"disabled",n&&"focusVisible"]},jrt,i);return n&&r&&(a.root+=` ${r}`),a},zrt=Gn("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Drt.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),$M=G.forwardRef(function(e,n){const r=pa({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:a,className:c,component:l="button",disabled:d=!1,disableRipple:h=!1,disableTouchRipple:g=!1,focusRipple:y=!1,focusVisibleClassName:v,LinkComponent:S="a",onBlur:x,onClick:T,onContextMenu:O,onDragLeave:N,onFocus:P,onFocusVisible:$,onKeyDown:j,onKeyUp:B,onMouseDown:k,onMouseLeave:U,onMouseUp:K,onTouchEnd:b,onTouchMove:M,onTouchStart:D,tabIndex:X=0,TouchRippleProps:nt,touchRippleRef:mt,type:gt,...it}=r,at=G.useRef(null),Nt=krt(),sn=HC(Nt.ref,mt),[se,Mo]=G.useState(!1);d&&se&&Mo(!1),G.useImperativeHandle(i,()=>({focusVisible:()=>{Mo(!0),at.current.focus()}}),[]);const tc=Nt.shouldMount&&!h&&!d;G.useEffect(()=>{se&&y&&!h&&Nt.pulsate()},[h,y,se,Nt]);const ec=go(Nt,"start",k,g),Ei=go(Nt,"stop",O,g),No=go(Nt,"stop",N,g),ms=go(Nt,"stop",K,g),to=go(Nt,"stop",Q=>{se&&Q.preventDefault(),U&&U(Q)},g),Jn=go(Nt,"start",D,g),nc=go(Nt,"stop",b,g),Lo=go(Nt,"stop",M,g),Fo=go(Nt,"stop",Q=>{JC(Q.target)||Mo(!1),x&&x(Q)},!1),ga=Wd(Q=>{at.current||(at.current=Q.currentTarget),JC(Q.target)&&(Mo(!0),$&&$(Q)),P&&P(Q)}),an=()=>{const Q=at.current;return l&&l!=="button"&&!(Q.tagName==="A"&&Q.href)},eo=Wd(Q=>{y&&!Q.repeat&&se&&Q.key===" "&&Nt.stop(Q,()=>{Nt.start(Q)}),Q.target===Q.currentTarget&&an()&&Q.key===" "&&Q.preventDefault(),j&&j(Q),Q.target===Q.currentTarget&&an()&&Q.key==="Enter"&&!d&&(Q.preventDefault(),T&&T(Q))}),rc=Wd(Q=>{y&&Q.key===" "&&se&&!Q.defaultPrevented&&Nt.stop(Q,()=>{Nt.pulsate(Q)}),B&&B(Q),T&&Q.target===Q.currentTarget&&an()&&Q.key===" "&&!Q.defaultPrevented&&T(Q)});let bn=l;bn==="button"&&(it.href||it.to)&&(bn=S);const xi={};bn==="button"?(xi.type=gt===void 0?"button":gt,xi.disabled=d):(!it.href&&!it.to&&(xi.role="button"),d&&(xi["aria-disabled"]=d));const ic=HC(n,at),Ci={...r,centerRipple:s,component:l,disabled:d,disableRipple:h,disableTouchRipple:g,focusRipple:y,tabIndex:X,focusVisible:se},Bn=Urt(Ci);return J.jsxs(zrt,{as:bn,className:gn(Bn.root,c),ownerState:Ci,onBlur:Fo,onClick:T,onContextMenu:Ei,onFocus:ga,onKeyDown:eo,onKeyUp:rc,onMouseDown:ec,onMouseLeave:to,onMouseUp:ms,onDragLeave:No,onTouchEnd:nc,onTouchMove:Lo,onTouchStart:Jn,ref:ic,tabIndex:d?-1:X,type:gt,...xi,...it,children:[a,tc?J.jsx(Brt,{ref:sn,center:s,...nt}):null]})});function go(t,e,n,r=!1){return Wd(i=>(n&&n(i),r||t[e](i),!0))}function Wrt(t){return typeof t.main=="string"}function Krt(t,e=[]){if(!Wrt(t))return!1;for(const n of e)if(!t.hasOwnProperty(n)||typeof t[n]!="string")return!1;return!0}function wl(t=[]){return([,e])=>e&&Krt(e,t)}function qrt(t){return ha("MuiCircularProgress",t)}gs("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Jo=44,i0=sf`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,o0=sf`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,Vrt=typeof i0!="string"?Qb`
        animation: ${i0} 1.4s linear infinite;
      `:null,Hrt=typeof o0!="string"?Qb`
        animation: ${o0} 1.4s ease-in-out infinite;
      `:null,Grt=t=>{const{classes:e,variant:n,color:r,disableShrink:i}=t,s={root:["root",n,`color${qt(r)}`],svg:["svg"],circle:["circle",`circle${qt(n)}`,i&&"circleDisableShrink"]};return Zu(s,qrt,e)},Jrt=Gn("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`color${qt(n.color)}`]]}})(ea(({theme:t})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("transform")}},{props:{variant:"indeterminate"},style:Vrt||{animation:`${i0} 1.4s linear infinite`}},...Object.entries(t.palette).filter(wl()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}}))]}))),Yrt=Gn("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(t,e)=>e.svg})({display:"block"}),Xrt=Gn("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.circle,e[`circle${qt(n.variant)}`],n.disableShrink&&e.circleDisableShrink]}})(ea(({theme:t})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink,style:Hrt||{animation:`${o0} 1.4s ease-in-out infinite`}}]}))),RM=G.forwardRef(function(e,n){const r=pa({props:e,name:"MuiCircularProgress"}),{className:i,color:s="primary",disableShrink:a=!1,size:c=40,style:l,thickness:d=3.6,value:h=0,variant:g="indeterminate",...y}=r,v={...r,color:s,disableShrink:a,size:c,thickness:d,value:h,variant:g},S=Grt(v),x={},T={},O={};if(g==="determinate"){const N=2*Math.PI*((Jo-d)/2);x.strokeDasharray=N.toFixed(3),O["aria-valuenow"]=Math.round(h),x.strokeDashoffset=`${((100-h)/100*N).toFixed(3)}px`,T.transform="rotate(-90deg)"}return J.jsx(Jrt,{className:gn(S.root,i),style:{width:c,height:c,...T,...l},ownerState:v,ref:n,role:"progressbar",...O,...y,children:J.jsx(Yrt,{className:S.svg,ownerState:v,viewBox:`${Jo/2} ${Jo/2} ${Jo} ${Jo}`,children:J.jsx(Xrt,{className:S.circle,style:x,ownerState:v,cx:Jo,cy:Jo,r:(Jo-d)/2,fill:"none",strokeWidth:d})})})});function Qrt(t){return ha("MuiIconButton",t)}const oT=gs("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),Zrt=t=>{const{classes:e,disabled:n,color:r,edge:i,size:s,loading:a}=t,c={root:["root",a&&"loading",n&&"disabled",r!=="default"&&`color${qt(r)}`,i&&`edge${qt(i)}`,`size${qt(s)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return Zu(c,Qrt,e)},tit=Gn($M,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.loading&&e.loading,n.color!=="default"&&e[`color${qt(n.color)}`],n.edge&&e[`edge${qt(n.edge)}`],e[`size${qt(n.size)}`]]}})(ea(({theme:t})=>({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:Zo(t.palette.action.active,t.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),ea(({theme:t})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(t.palette).filter(wl()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}})),...Object.entries(t.palette).filter(wl()).map(([e])=>({props:{color:e},style:{"--IconButton-hoverBg":t.vars?`rgba(${(t.vars||t).palette[e].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Zo((t.vars||t).palette[e].main,t.palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:t.typography.pxToRem(28)}}],[`&.${oT.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled},[`&.${oT.loading}`]:{color:"transparent"}}))),eit=Gn("span",{name:"MuiIconButton",slot:"LoadingIndicator",overridesResolver:(t,e)=>e.loadingIndicator})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(t.vars||t).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),pS=G.forwardRef(function(e,n){const r=pa({props:e,name:"MuiIconButton"}),{edge:i=!1,children:s,className:a,color:c="default",disabled:l=!1,disableFocusRipple:d=!1,size:h="medium",id:g,loading:y=null,loadingIndicator:v,...S}=r,x=wM(g),T=v??J.jsx(RM,{"aria-labelledby":x,color:"inherit",size:16}),O={...r,edge:i,color:c,disabled:l,disableFocusRipple:d,loading:y,loadingIndicator:T,size:h},N=Zrt(O);return J.jsxs(tit,{id:y?x:g,className:gn(N.root,a),centerRipple:!0,focusRipple:!d,disabled:l||y,ref:n,...S,ownerState:O,children:[typeof y=="boolean"&&J.jsx("span",{className:N.loadingWrapper,style:{display:"contents"},children:J.jsx(eit,{className:N.loadingIndicator,ownerState:O,children:y&&T})}),s]})});function nit(t){return ha("MuiTypography",t)}gs("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const rit={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},iit=yrt(),oit=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:i,variant:s,classes:a}=t,c={root:["root",s,t.align!=="inherit"&&`align${qt(e)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return Zu(c,nit,a)},sit=Gn("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${qt(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(ea(({theme:t})=>{var e;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(t.typography).filter(([n,r])=>n!=="inherit"&&r&&typeof r=="object").map(([n,r])=>({props:{variant:n},style:r})),...Object.entries(t.palette).filter(wl()).map(([n])=>({props:{color:n},style:{color:(t.vars||t).palette[n].main}})),...Object.entries(((e=t.palette)==null?void 0:e.text)||{}).filter(([,n])=>typeof n=="string").map(([n])=>({props:{color:`text${qt(n)}`},style:{color:(t.vars||t).palette.text[n]}})),{props:({ownerState:n})=>n.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:n})=>n.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:n})=>n.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:n})=>n.paragraph,style:{marginBottom:16}}]}})),sT={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Po=G.forwardRef(function(e,n){const{color:r,...i}=pa({props:e,name:"MuiTypography"}),s=!rit[r],a=iit({...i,...s&&{color:r}}),{align:c="inherit",className:l,component:d,gutterBottom:h=!1,noWrap:g=!1,paragraph:y=!1,variant:v="body1",variantMapping:S=sT,...x}=a,T={...a,align:c,color:r,className:l,component:d,gutterBottom:h,noWrap:g,paragraph:y,variant:v,variantMapping:S},O=d||(y?"p":S[v]||sT[v])||"span",N=oit(T);return J.jsx(sit,{as:O,ref:n,className:gn(N.root,l),...x,ownerState:T,style:{...c!=="inherit"&&{"--Typography-textAlign":c},...x.style}})}),ait=gs("MuiBox",["root"]),uit=kM(),Yr=ant({themeId:qP,defaultTheme:uit,defaultClassName:ait.root,generateClassName:yM.generate});function cit(t){return ha("MuiButton",t)}const As=gs("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),lit=G.createContext({}),fit=G.createContext(void 0),dit=t=>{const{color:e,disableElevation:n,fullWidth:r,size:i,variant:s,loading:a,loadingPosition:c,classes:l}=t,d={root:["root",a&&"loading",s,`${s}${qt(e)}`,`size${qt(i)}`,`${s}Size${qt(i)}`,`color${qt(e)}`,n&&"disableElevation",r&&"fullWidth",a&&`loadingPosition${qt(c)}`],startIcon:["icon","startIcon",`iconSize${qt(i)}`],endIcon:["icon","endIcon",`iconSize${qt(i)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},h=Zu(d,cit,l);return{...l,...h}},PM=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],hit=Gn($M,{shouldForwardProp:t=>IM(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${qt(n.color)}`],e[`size${qt(n.size)}`],e[`${n.variant}Size${qt(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth,n.loading&&e.loading]}})(ea(({theme:t})=>{const e=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],n=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return{...t.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${As.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(t.vars||t).shadows[2],"&:hover":{boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2]}},"&:active":{boxShadow:(t.vars||t).shadows[8]},[`&.${As.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]},[`&.${As.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${As.disabled}`]:{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(t.palette).filter(wl()).map(([r])=>({props:{color:r},style:{"--variant-textColor":(t.vars||t).palette[r].main,"--variant-outlinedColor":(t.vars||t).palette[r].main,"--variant-outlinedBorder":t.vars?`rgba(${t.vars.palette[r].mainChannel} / 0.5)`:Zo(t.palette[r].main,.5),"--variant-containedColor":(t.vars||t).palette[r].contrastText,"--variant-containedBg":(t.vars||t).palette[r].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(t.vars||t).palette[r].dark,"--variant-textBg":t.vars?`rgba(${t.vars.palette[r].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Zo(t.palette[r].main,t.palette.action.hoverOpacity),"--variant-outlinedBorder":(t.vars||t).palette[r].main,"--variant-outlinedBg":t.vars?`rgba(${t.vars.palette[r].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Zo(t.palette[r].main,t.palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedBg:e,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedHoverBg:n,"--variant-textBg":t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:Zo(t.palette.text.primary,t.palette.action.hoverOpacity),"--variant-outlinedBg":t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:Zo(t.palette.text.primary,t.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:t.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${As.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${As.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),[`&.${As.loading}`]:{color:"transparent"}}}]}})),pit=Gn("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,n.loading&&e.startIconLoadingStart,e[`iconSize${qt(n.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...PM]})),git=Gn("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,n.loading&&e.endIconLoadingEnd,e[`iconSize${qt(n.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...PM]})),mit=Gn("span",{name:"MuiButton",slot:"LoadingIndicator",overridesResolver:(t,e)=>e.loadingIndicator})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(t.vars||t).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),aT=Gn("span",{name:"MuiButton",slot:"LoadingIconPlaceholder",overridesResolver:(t,e)=>e.loadingIconPlaceholder})({display:"inline-block",width:"1em",height:"1em"}),yit=G.forwardRef(function(e,n){const r=G.useContext(lit),i=G.useContext(fit),s=Nh(r,e),a=pa({props:s,name:"MuiButton"}),{children:c,color:l="primary",component:d="button",className:h,disabled:g=!1,disableElevation:y=!1,disableFocusRipple:v=!1,endIcon:S,focusVisibleClassName:x,fullWidth:T=!1,id:O,loading:N=null,loadingIndicator:P,loadingPosition:$="center",size:j="medium",startIcon:B,type:k,variant:U="text",...K}=a,b=wM(O),M=P??J.jsx(RM,{"aria-labelledby":b,color:"inherit",size:16}),D={...a,color:l,component:d,disabled:g,disableElevation:y,disableFocusRipple:v,fullWidth:T,loading:N,loadingIndicator:M,loadingPosition:$,size:j,type:k,variant:U},X=dit(D),nt=(B||N&&$==="start")&&J.jsx(pit,{className:X.startIcon,ownerState:D,children:B||J.jsx(aT,{className:X.loadingIconPlaceholder,ownerState:D})}),mt=(S||N&&$==="end")&&J.jsx(git,{className:X.endIcon,ownerState:D,children:S||J.jsx(aT,{className:X.loadingIconPlaceholder,ownerState:D})}),gt=i||"",it=typeof N=="boolean"?J.jsx("span",{className:X.loadingWrapper,style:{display:"contents"},children:N&&J.jsx(mit,{className:X.loadingIndicator,ownerState:D,children:M})}):null;return J.jsxs(hit,{ownerState:D,className:gn(r.className,X.root,h,gt),component:d,disabled:g||N,focusRipple:!v,focusVisibleClassName:gn(X.focusVisible,x),ref:n,type:k,id:N?b:O,...K,classes:X,children:[nt,$!=="end"&&it,c,$==="end"&&it,mt]})}),wi=({children:t})=>J.jsx(Yr,{sx:{height:100,width:"100%",display:"flex"},children:t}),vit=st({label:$n(re),border:$n(st({sizePx:$n(De),color:$n(re)})),visible:$n(Cp)}),_it=()=>({}),bit=t=>({widget:be.intersect(t.widget,vit,_it),Component:t.Component}),ni={of:bit};var Sit=fS(J.jsx("path",{d:"M8 5v14l11-7z"}),"PlayArrow");const wit=({onPlay:t})=>J.jsx(Yr,{sx:{borderRadius:"5px",backgroundColor:"success.main"},children:J.jsx(pS,{sx:{width:100,height:100},"aria-label":"play",onClick:t,children:J.jsx(Sit,{sx:{fontSize:80}})})});var Eit=fS(J.jsx("path",{d:"M6 6h12v12H6z"}),"Stop");const xit=({onStop:t})=>J.jsx(Yr,{sx:{borderRadius:"5px",backgroundColor:"error.main"},children:J.jsx(pS,{sx:{width:100,height:100},"aria-label":"play",onClick:t,children:J.jsx(Eit,{sx:{fontSize:80}})})}),Cit=ni.of({widget:BP,Component:(t,e,n)=>J.jsx(wi,{children:n.color===t.playColor?J.jsx(wit,{onPlay:()=>e(t.target)}):J.jsx(xit,{onStop:()=>e(t.target)})})}),Tit=ni.of({widget:jP,Component:(t,e,n)=>{var i,s,a;const r=((a=(s=(i=rt.head(n))==null?void 0:i.options)==null?void 0:s.timeSignature)==null?void 0:a.noteCount)||8;return J.jsx(wi,{children:n.slice(0,r).map((c,l)=>J.jsx(Yr,{sx:{borderRadius:"5px",border:"1px solid black",width:100,backgroundColor:`#${c.color===tt.BLACK?"777777":tt.toHex(c.color)}`,display:"flex"},children:J.jsx(Po,{sx:{width:"100%"},variant:"h1",lineHeight:1,align:"center",children:l+1})},l))})}}),Oit=be.one({name:"active-clip",schema:st({trackName:re}),init:()=>({trackName:"Track"}),tracks:t=>[t.trackName],component:({target:t,trackName:e})=>{const n=Ht.useTrack(e),r=Ht.useActiveClip(n);return J.jsx("pad",{target:t,color:r.type==="real"?r.color:tt.BLACK,options:{label:r.type==="real"?r.name:void 0}})}}),Ait=ni.of({widget:Oit,Component:(t,e,n)=>{var r;return J.jsx(wi,{children:J.jsx(Po,{sx:{borderRadius:"5px",width:"100%",px:1,backgroundColor:`#${tt.toHex(n.color)}`},variant:"h1",lineHeight:1,align:"center",children:((r=n.options)==null?void 0:r.label)||""})})}}),s0=Pn("init",{widgets:Ji(P_)}),Fh=Pn("pad",{target:Hr.Schema,color:tt.Schema,options:$n(P_)});$o(s0,Fh);const uT=t=>{const e=r=>{const i=t[Hr.toKey(r)];return i!==void 0&&i._tag==="pad"?i:Fh.make({target:r,color:0,options:{}})};return{one:e,many:r=>r.map(e)}},kit=t=>{const e=rt.fromPairs(rt.map(t,a=>[a.widget.name,a])),n=a=>e[a],r=(a,c,l)=>{const d=n(a._tag);return a.target!==void 0?d.Component(a,c,uT(l).one(a.target)):a.targets!==void 0?d.Component(a,c,uT(l).many(a.targets)):d.Component(a)},i=rt.map(t,a=>a.widget),s=$o(...i.map(a=>a.schema));return{widgets:t,controllerWidgets:i,getByName:n,Component:r,schema:s}},Iit=be.one({name:"tempo",schema:st({}),init:()=>({}),component:({target:t})=>{const e=Ht.useTempo();return J.jsx("pad",{color:tt.BLACK,target:t,options:{label:e}})}}),$it=ni.of({widget:Iit,Component:(t,e,n)=>{var r;return J.jsx(wi,{children:J.jsx(Po,{sx:{borderRadius:"5px",width:"100%",backgroundColor:`#${tt.toHex(n.color)}`},variant:"h1",lineHeight:1,align:"center",children:((r=n.options)==null?void 0:r.label)||"0"})})}}),Rit=be.one({name:"time-signature",schema:st({}),init:()=>({}),component:({target:t})=>{const e=Ht.useTimeSignature();return J.jsx("pad",{color:tt.BLACK,target:t,options:{label:`${e.noteCount}/${e.noteLength}`}})}}),Pit=ni.of({widget:Rit,Component:(t,e,n)=>{var r;return J.jsx(wi,{children:J.jsx(Po,{sx:{borderRadius:"5px",width:"100%",backgroundColor:`#${tt.toHex(n.color)}`},variant:"h1",lineHeight:1,align:"center",children:((r=n.options)==null?void 0:r.label)||"4/4"})})}}),Mit=be.one({name:"beat",schema:st({}),init:()=>({}),component:({target:t})=>{const e=Ht.useBarBeats();return J.jsx("pad",{color:tt.BLACK,target:t,options:{label:`${e}`}})}}),Nit=ni.of({widget:Mit,Component:(t,e,n)=>{var r;return J.jsx(wi,{children:J.jsx(Po,{sx:{borderRadius:"5px",width:"100%",backgroundColor:`#${tt.toHex(n.color)}`},variant:"h1",lineHeight:1,align:"center",children:((r=n.options)==null?void 0:r.label)||"0"})})}}),Lit=ni.of({widget:DP,Component:(t,e,n)=>J.jsx(wi,{children:n.map((r,i)=>{var s;return r.options!==void 0?J.jsx(Yr,{sx:{borderRadius:"5px",border:"1px solid black",backgroundColor:`#${tt.toHex(r.color)}`,display:"flex",width:100,cursor:"pointer",alignItems:"center",justifyContent:"center"},onClick:()=>e(r.target),children:J.jsx(Po,{sx:{width:"100%",px:1},lineHeight:1,align:"center",children:((s=r.options)==null?void 0:s.label)||""})},i):null})})}),Fit=t=>{var e;return((e=t.options)==null?void 0:e.isActive)||!1},Bit=ni.of({widget:UP,Component:(t,e,n)=>J.jsx(wi,{children:n.map((r,i)=>{var s,a,c;return r.options!==void 0?J.jsxs(Yr,{sx:{position:"relative",borderRadius:"5px",border:"1px solid black",backgroundColor:`#${tt.toHex(r.color)}`,display:"flex",width:100,alignItems:"center",justifyContent:"center"},children:[Fit(r)&&((s=r.options)==null?void 0:s.progress)!==void 0?J.jsx(Yr,{sx:{position:"absolute",top:0,left:(a=r.options)==null?void 0:a.progress,height:"100%",width:"5px",backgroundColor:"black"}}):null,J.jsx(Po,{sx:{width:"100%",px:1},lineHeight:1,align:"center",children:((c=r.options)==null?void 0:c.label)||""})]},i):null})})}),jit=ni.of({widget:be.none({name:"spacer",schema:st({width:De,isLineBreaking:$n(Cp)}),init:()=>({width:100}),component:({})=>J.jsx(J.Fragment,{})}),Component:t=>J.jsx(Yr,{sx:{width:`${t.width}px`}})}),Dit=ni.of({widget:zP,Component:(t,e,n)=>{var r,i,s;return J.jsx(wi,{children:J.jsx(yit,{sx:{height:100,width:100,backgroundColor:`#${tt.toHex(t.color)}`,textDecoration:"none"},onClick:()=>e(n.target),variant:"text",children:J.jsx(Po,{sx:{fontWeight:"bold",color:`#${tt.toHex(((r=t.text)==null?void 0:r.color)||tt.BLACK)}`,fontSize:(i=t.text)==null?void 0:i.size},children:((s=t.text)==null?void 0:s.content)||""})})})}}),Uit=Pn("midi-note-vary-velocity",{note:De,...ua.fields}),zit=Pn("midi-note-vary-note",{velocity:De,...ua.fields}),Wit=Pn("midi-cc-vary-data",{controllerNumber:De,...ua.fields}),Kit=$o(zit,Uit,Wit),qit=be.one({name:"knob",schema:st({color:tt.Schema,midi:Kit,text:$n(st({content:re,color:$n(tt.Schema),size:$n(re)}))}),init:()=>({color:tt.GREEN,midi:{_tag:"midi-note-vary-velocity",note:1,channel:1}}),component:({target:t,color:e,midi:n})=>(Ro.useDawEmitter(),J.jsx(xo,{color:e,target:t,onClick:()=>{console.log("idk what to do here yet")}}))});var Vit={};function Hit(t){if(Array.isArray(t))return t}function Git(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,c=[],l=!0,d=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(c.push(r.value),c.length!==e);l=!0);}catch(h){d=!0,i=h}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(d)throw i}}return c}}function a0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function MM(t,e){if(t){if(typeof t=="string")return a0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a0(t,e)}}function Jit(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kd(t,e){return Hit(t)||Git(t,e)||MM(t,e)||Jit()}function mn(t){"@babel/helpers - typeof";return mn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mn(t)}function Bh(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(e){for(var r=[],i=0;i<e.length;i++){var s=e[i];if(s){var a=mn(s);if(a==="string"||a==="number")r.push(s);else if(a==="object"){var c=Array.isArray(s)?s:Object.entries(s).map(function(l){var d=Kd(l,2),h=d[0],g=d[1];return g?h:null});r=c.length?r.concat(c.filter(function(l){return!!l})):r}}}return r.join(" ").trim()}}function Yit(t){if(Array.isArray(t))return a0(t)}function Xit(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Qit(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u0(t){return Yit(t)||Xit(t)||MM(t)||Qit()}function NM(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zit(t,e){if(mn(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mn(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function LM(t){var e=Zit(t,"string");return mn(e)==="symbol"?e:String(e)}function tot(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,LM(r.key),r)}}function FM(t,e,n){return n&&tot(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function gS(t,e,n){return e=LM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function My(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=eot(t))||e){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(d){throw d},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,a=!1,c;return{s:function(){n=n.call(t)},n:function(){var d=n.next();return s=d.done,d},e:function(d){a=!0,c=d},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(a)throw c}}}}function eot(t,e){if(t){if(typeof t=="string")return cT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cT(t,e)}}function cT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ws=function(){function t(){NM(this,t)}return FM(t,null,[{key:"innerWidth",value:function(n){if(n){var r=n.offsetWidth,i=getComputedStyle(n);return r=r+(parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)),r}return 0}},{key:"width",value:function(n){if(n){var r=n.offsetWidth,i=getComputedStyle(n);return r=r-(parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)),r}return 0}},{key:"getBrowserLanguage",value:function(){return navigator.userLanguage||navigator.languages&&navigator.languages.length&&navigator.languages[0]||navigator.language||navigator.browserLanguage||navigator.systemLanguage||"en"}},{key:"getWindowScrollTop",value:function(){var n=document.documentElement;return(window.pageYOffset||n.scrollTop)-(n.clientTop||0)}},{key:"getWindowScrollLeft",value:function(){var n=document.documentElement;return(window.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}},{key:"getOuterWidth",value:function(n,r){if(n){var i=n.getBoundingClientRect().width||n.offsetWidth;if(r){var s=getComputedStyle(n);i=i+(parseFloat(s.marginLeft)+parseFloat(s.marginRight))}return i}return 0}},{key:"getOuterHeight",value:function(n,r){if(n){var i=n.getBoundingClientRect().height||n.offsetHeight;if(r){var s=getComputedStyle(n);i=i+(parseFloat(s.marginTop)+parseFloat(s.marginBottom))}return i}return 0}},{key:"getClientHeight",value:function(n,r){if(n){var i=n.clientHeight;if(r){var s=getComputedStyle(n);i=i+(parseFloat(s.marginTop)+parseFloat(s.marginBottom))}return i}return 0}},{key:"getClientWidth",value:function(n,r){if(n){var i=n.clientWidth;if(r){var s=getComputedStyle(n);i=i+(parseFloat(s.marginLeft)+parseFloat(s.marginRight))}return i}return 0}},{key:"getViewport",value:function(){var n=window,r=document,i=r.documentElement,s=r.getElementsByTagName("body")[0],a=n.innerWidth||i.clientWidth||s.clientWidth,c=n.innerHeight||i.clientHeight||s.clientHeight;return{width:a,height:c}}},{key:"getOffset",value:function(n){if(n){var r=n.getBoundingClientRect();return{top:r.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:r.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}return{top:"auto",left:"auto"}}},{key:"index",value:function(n){if(n)for(var r=n.parentNode.childNodes,i=0,s=0;s<r.length;s++){if(r[s]===n)return i;r[s].nodeType===1&&i++}return-1}},{key:"addMultipleClasses",value:function(n,r){if(n&&r)if(n.classList)for(var i=r.split(" "),s=0;s<i.length;s++)n.classList.add(i[s]);else for(var a=r.split(" "),c=0;c<a.length;c++)n.className=n.className+(" "+a[c])}},{key:"removeMultipleClasses",value:function(n,r){if(n&&r)if(n.classList)for(var i=r.split(" "),s=0;s<i.length;s++)n.classList.remove(i[s]);else for(var a=r.split(" "),c=0;c<a.length;c++)n.className=n.className.replace(new RegExp("(^|\\b)"+a[c].split(" ").join("|")+"(\\b|$)","gi")," ")}},{key:"addClass",value:function(n,r){n&&r&&(n.classList?n.classList.add(r):n.className=n.className+(" "+r))}},{key:"removeClass",value:function(n,r){n&&r&&(n.classList?n.classList.remove(r):n.className=n.className.replace(new RegExp("(^|\\b)"+r.split(" ").join("|")+"(\\b|$)","gi")," "))}},{key:"hasClass",value:function(n,r){return n?n.classList?n.classList.contains(r):new RegExp("(^| )"+r+"( |$)","gi").test(n.className):!1}},{key:"addStyles",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};n&&Object.entries(r).forEach(function(i){var s=Kd(i,2),a=s[0],c=s[1];return n.style[a]=c})}},{key:"find",value:function(n,r){return n?Array.from(n.querySelectorAll(r)):[]}},{key:"findSingle",value:function(n,r){return n?n.querySelector(r):null}},{key:"setAttributes",value:function(n){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(n){var s=function(c,l){var d,h,g=n!=null&&(d=n.$attrs)!==null&&d!==void 0&&d[c]?[n==null||(h=n.$attrs)===null||h===void 0?void 0:h[c]]:[];return[l].flat().reduce(function(y,v){if(v!=null){var S=mn(v);if(S==="string"||S==="number")y.push(v);else if(S==="object"){var x=Array.isArray(v)?s(c,v):Object.entries(v).map(function(T){var O=Kd(T,2),N=O[0],P=O[1];return c==="style"&&(P||P===0)?"".concat(N.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),":").concat(P):P?N:void 0});y=x.length?y.concat(x.filter(function(T){return!!T})):y}}return y},g)};Object.entries(i).forEach(function(a){var c=Kd(a,2),l=c[0],d=c[1];if(d!=null){var h=l.match(/^on(.+)/);h?n.addEventListener(h[1].toLowerCase(),d):l==="p-bind"?r.setAttributes(n,d):(d=l==="class"?u0(new Set(s("class",d))).join(" ").trim():l==="style"?s("style",d).join(";").trim():d,(n.$attrs=n.$attrs||{})&&(n.$attrs[l]=d),n.setAttribute(l,d))}})}}},{key:"getAttribute",value:function(n,r){if(n){var i=n.getAttribute(r);return isNaN(i)?i==="true"||i==="false"?i==="true":i:+i}}},{key:"isAttributeEquals",value:function(n,r,i){return n?this.getAttribute(n,r)===i:!1}},{key:"isAttributeNotEquals",value:function(n,r,i){return!this.isAttributeEquals(n,r,i)}},{key:"getHeight",value:function(n){if(n){var r=n.offsetHeight,i=getComputedStyle(n);return r=r-(parseFloat(i.paddingTop)+parseFloat(i.paddingBottom)+parseFloat(i.borderTopWidth)+parseFloat(i.borderBottomWidth)),r}return 0}},{key:"getWidth",value:function(n){if(n){var r=n.offsetWidth,i=getComputedStyle(n);return r=r-(parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)+parseFloat(i.borderLeftWidth)+parseFloat(i.borderRightWidth)),r}return 0}},{key:"alignOverlay",value:function(n,r,i){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;n&&r&&(i==="self"?this.relativePosition(n,r):(s&&(n.style.minWidth=t.getOuterWidth(r)+"px"),this.absolutePosition(n,r)))}},{key:"absolutePosition",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"left";if(n&&r){var s=n.offsetParent?{width:n.offsetWidth,height:n.offsetHeight}:this.getHiddenElementDimensions(n),a=s.height,c=s.width,l=r.offsetHeight,d=r.offsetWidth,h=r.getBoundingClientRect(),g=this.getWindowScrollTop(),y=this.getWindowScrollLeft(),v=this.getViewport(),S,x;h.top+l+a>v.height?(S=h.top+g-a,S<0&&(S=g),n.style.transformOrigin="bottom"):(S=l+h.top+g,n.style.transformOrigin="top");var T=h.left,O=i==="left"?0:c-d;T+d+c>v.width?x=Math.max(0,T+y+d-c):x=T-O+y,n.style.top=S+"px",n.style.left=x+"px"}}},{key:"relativePosition",value:function(n,r){if(n&&r){var i=n.offsetParent?{width:n.offsetWidth,height:n.offsetHeight}:this.getHiddenElementDimensions(n),s=r.offsetHeight,a=r.getBoundingClientRect(),c=this.getViewport(),l,d;a.top+s+i.height>c.height?(l=-1*i.height,a.top+l<0&&(l=-1*a.top),n.style.transformOrigin="bottom"):(l=s,n.style.transformOrigin="top"),i.width>c.width?d=a.left*-1:a.left+i.width>c.width?d=(a.left+i.width-c.width)*-1:d=0,n.style.top=l+"px",n.style.left=d+"px"}}},{key:"flipfitCollision",value:function(n,r){var i=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"left top",a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"left bottom",c=arguments.length>4?arguments[4]:void 0;if(n&&r){var l=r.getBoundingClientRect(),d=this.getViewport(),h=s.split(" "),g=a.split(" "),y=function(O,N){return N?+O.substring(O.search(/(\+|-)/g))||0:O.substring(0,O.search(/(\+|-)/g))||O},v={my:{x:y(h[0]),y:y(h[1]||h[0]),offsetX:y(h[0],!0),offsetY:y(h[1]||h[0],!0)},at:{x:y(g[0]),y:y(g[1]||g[0]),offsetX:y(g[0],!0),offsetY:y(g[1]||g[0],!0)}},S={left:function(){var O=v.my.offsetX+v.at.offsetX;return O+l.left+(v.my.x==="left"?0:-1*(v.my.x==="center"?i.getOuterWidth(n)/2:i.getOuterWidth(n)))},top:function(){var O=v.my.offsetY+v.at.offsetY;return O+l.top+(v.my.y==="top"?0:-1*(v.my.y==="center"?i.getOuterHeight(n)/2:i.getOuterHeight(n)))}},x={count:{x:0,y:0},left:function(){var O=S.left(),N=t.getWindowScrollLeft();n.style.left=O+N+"px",this.count.x===2?(n.style.left=N+"px",this.count.x=0):O<0&&(this.count.x++,v.my.x="left",v.at.x="right",v.my.offsetX*=-1,v.at.offsetX*=-1,this.right())},right:function(){var O=S.left()+t.getOuterWidth(r),N=t.getWindowScrollLeft();n.style.left=O+N+"px",this.count.x===2?(n.style.left=d.width-t.getOuterWidth(n)+N+"px",this.count.x=0):O+t.getOuterWidth(n)>d.width&&(this.count.x++,v.my.x="right",v.at.x="left",v.my.offsetX*=-1,v.at.offsetX*=-1,this.left())},top:function(){var O=S.top(),N=t.getWindowScrollTop();n.style.top=O+N+"px",this.count.y===2?(n.style.left=N+"px",this.count.y=0):O<0&&(this.count.y++,v.my.y="top",v.at.y="bottom",v.my.offsetY*=-1,v.at.offsetY*=-1,this.bottom())},bottom:function(){var O=S.top()+t.getOuterHeight(r),N=t.getWindowScrollTop();n.style.top=O+N+"px",this.count.y===2?(n.style.left=d.height-t.getOuterHeight(n)+N+"px",this.count.y=0):O+t.getOuterHeight(r)>d.height&&(this.count.y++,v.my.y="bottom",v.at.y="top",v.my.offsetY*=-1,v.at.offsetY*=-1,this.top())},center:function(O){if(O==="y"){var N=S.top()+t.getOuterHeight(r)/2;n.style.top=N+t.getWindowScrollTop()+"px",N<0?this.bottom():N+t.getOuterHeight(r)>d.height&&this.top()}else{var P=S.left()+t.getOuterWidth(r)/2;n.style.left=P+t.getWindowScrollLeft()+"px",P<0?this.left():P+t.getOuterWidth(n)>d.width&&this.right()}}};x[v.at.x]("x"),x[v.at.y]("y"),this.isFunction(c)&&c(v)}}},{key:"findCollisionPosition",value:function(n){if(n){var r=n==="top"||n==="bottom",i=n==="left"?"right":"left",s=n==="top"?"bottom":"top";return r?{axis:"y",my:"center ".concat(s),at:"center ".concat(n)}:{axis:"x",my:"".concat(i," center"),at:"".concat(n," center")}}}},{key:"getParents",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return n.parentNode===null?r:this.getParents(n.parentNode,r.concat([n.parentNode]))}},{key:"getScrollableParents",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=[];if(n){var s=this.getParents(n),a=/(auto|scroll)/,c=function($){var j=$?getComputedStyle($):null;return j&&(a.test(j.getPropertyValue("overflow"))||a.test(j.getPropertyValue("overflow-x"))||a.test(j.getPropertyValue("overflow-y")))},l=function($){r&&i.push($.nodeName==="BODY"||$.nodeName==="HTML"||$.nodeType===9?window:$)},d=My(s),h;try{for(d.s();!(h=d.n()).done;){var g,y=h.value,v=y.nodeType===1&&((g=y.dataset)===null||g===void 0?void 0:g.scrollselectors);if(v){var S=v.split(","),x=My(S),T;try{for(x.s();!(T=x.n()).done;){var O=T.value,N=this.findSingle(y,O);N&&c(N)&&l(N)}}catch(P){x.e(P)}finally{x.f()}}y.nodeType===1&&c(y)&&l(y)}}catch(P){d.e(P)}finally{d.f()}}return i.some(function(P){return P===document.body||P===window})||i.push(r?window:document.body),i}},{key:"getHiddenElementOuterHeight",value:function(n){if(n){n.style.visibility="hidden",n.style.display="block";var r=n.offsetHeight;return n.style.display="none",n.style.visibility="visible",r}return 0}},{key:"getHiddenElementOuterWidth",value:function(n){if(n){n.style.visibility="hidden",n.style.display="block";var r=n.offsetWidth;return n.style.display="none",n.style.visibility="visible",r}return 0}},{key:"getHiddenElementDimensions",value:function(n){var r={};return n&&(n.style.visibility="hidden",n.style.display="block",r.width=n.offsetWidth,r.height=n.offsetHeight,n.style.display="none",n.style.visibility="visible"),r}},{key:"fadeIn",value:function(n,r){if(n){n.style.opacity=0;var i=+new Date,s=0,a=function(){s=+n.style.opacity+(new Date().getTime()-i)/r,n.style.opacity=s,i=+new Date,+s<1&&(window.requestAnimationFrame&&requestAnimationFrame(a)||setTimeout(a,16))};a()}}},{key:"fadeOut",value:function(n,r){if(n)var i=1,s=50,a=s/r,c=setInterval(function(){i=i-a,i<=0&&(i=0,clearInterval(c)),n.style.opacity=i},s)}},{key:"getUserAgent",value:function(){return navigator.userAgent}},{key:"isIOS",value:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}},{key:"isAndroid",value:function(){return/(android)/i.test(navigator.userAgent)}},{key:"isChrome",value:function(){return/(chrome)/i.test(navigator.userAgent)}},{key:"isClient",value:function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}},{key:"isTouchDevice",value:function(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}},{key:"isFunction",value:function(n){return!!(n&&n.constructor&&n.call&&n.apply)}},{key:"appendChild",value:function(n,r){if(this.isElement(r))r.appendChild(n);else if(r.el&&r.el.nativeElement)r.el.nativeElement.appendChild(n);else throw new Error("Cannot append "+r+" to "+n)}},{key:"removeChild",value:function(n,r){if(this.isElement(r))r.removeChild(n);else if(r.el&&r.el.nativeElement)r.el.nativeElement.removeChild(n);else throw new Error("Cannot remove "+n+" from "+r)}},{key:"isElement",value:function(n){return(typeof HTMLElement>"u"?"undefined":mn(HTMLElement))==="object"?n instanceof HTMLElement:n&&mn(n)==="object"&&n!==null&&n.nodeType===1&&typeof n.nodeName=="string"}},{key:"scrollInView",value:function(n,r){var i=getComputedStyle(n).getPropertyValue("border-top-width"),s=i?parseFloat(i):0,a=getComputedStyle(n).getPropertyValue("padding-top"),c=a?parseFloat(a):0,l=n.getBoundingClientRect(),d=r.getBoundingClientRect(),h=d.top+document.body.scrollTop-(l.top+document.body.scrollTop)-s-c,g=n.scrollTop,y=n.clientHeight,v=this.getOuterHeight(r);h<0?n.scrollTop=g+h:h+v>y&&(n.scrollTop=g+h-y+v)}},{key:"clearSelection",value:function(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}},{key:"calculateScrollbarWidth",value:function(n){if(n){var r=getComputedStyle(n);return n.offsetWidth-n.clientWidth-parseFloat(r.borderLeftWidth)-parseFloat(r.borderRightWidth)}if(this.calculatedScrollbarWidth!=null)return this.calculatedScrollbarWidth;var i=document.createElement("div");i.className="p-scrollbar-measure",document.body.appendChild(i);var s=i.offsetWidth-i.clientWidth;return document.body.removeChild(i),this.calculatedScrollbarWidth=s,s}},{key:"calculateBodyScrollbarWidth",value:function(){return window.innerWidth-document.documentElement.offsetWidth}},{key:"getBrowser",value:function(){if(!this.browser){var n=this.resolveUserAgent();this.browser={},n.browser&&(this.browser[n.browser]=!0,this.browser.version=n.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}},{key:"resolveUserAgent",value:function(){var n=navigator.userAgent.toLowerCase(),r=/(chrome)[ ]([\w.]+)/.exec(n)||/(webkit)[ ]([\w.]+)/.exec(n)||/(opera)(?:.*version|)[ ]([\w.]+)/.exec(n)||/(msie) ([\w.]+)/.exec(n)||n.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(n)||[];return{browser:r[1]||"",version:r[2]||"0"}}},{key:"blockBodyScroll",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"p-overflow-hidden",r=!!document.body.style.getPropertyValue("--scrollbar-width");!r&&document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,n)}},{key:"unblockBodyScroll",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"p-overflow-hidden";document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,n)}},{key:"isVisible",value:function(n){return n&&(n.clientHeight!==0||n.getClientRects().length!==0||getComputedStyle(n).display!=="none")}},{key:"isExist",value:function(n){return!!(n!==null&&typeof n<"u"&&n.nodeName&&n.parentNode)}},{key:"getFocusableElements",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=t.find(n,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])'.concat(r,`,
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r,`,
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r,`,
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r,`,
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r,`,
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r,`,
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r)),s=[],a=My(i),c;try{for(a.s();!(c=a.n()).done;){var l=c.value;getComputedStyle(l).display!=="none"&&getComputedStyle(l).visibility!=="hidden"&&s.push(l)}}catch(d){a.e(d)}finally{a.f()}return s}},{key:"getFirstFocusableElement",value:function(n,r){var i=t.getFocusableElements(n,r);return i.length>0?i[0]:null}},{key:"getLastFocusableElement",value:function(n,r){var i=t.getFocusableElements(n,r);return i.length>0?i[i.length-1]:null}},{key:"focus",value:function(n,r){var i=r===void 0?!0:!r;n&&document.activeElement!==n&&n.focus({preventScroll:i})}},{key:"focusFirstElement",value:function(n,r){if(n){var i=t.getFirstFocusableElement(n);return i&&t.focus(i,r),i}}},{key:"getCursorOffset",value:function(n,r,i,s){if(n){var a=getComputedStyle(n),c=document.createElement("div");c.style.position="absolute",c.style.top="0px",c.style.left="0px",c.style.visibility="hidden",c.style.pointerEvents="none",c.style.overflow=a.overflow,c.style.width=a.width,c.style.height=a.height,c.style.padding=a.padding,c.style.border=a.border,c.style.overflowWrap=a.overflowWrap,c.style.whiteSpace=a.whiteSpace,c.style.lineHeight=a.lineHeight,c.innerHTML=r.replace(/\r\n|\r|\n/g,"<br />");var l=document.createElement("span");l.textContent=s,c.appendChild(l);var d=document.createTextNode(i);c.appendChild(d),document.body.appendChild(c);var h=l.offsetLeft,g=l.offsetTop,y=l.clientHeight;return document.body.removeChild(c),{left:Math.abs(h-n.scrollLeft),top:Math.abs(g-n.scrollTop)+y}}return{top:"auto",left:"auto"}}},{key:"invokeElementMethod",value:function(n,r,i){n[r].apply(n,i)}},{key:"isClickable",value:function(n){var r=n.nodeName,i=n.parentElement&&n.parentElement.nodeName;return r==="INPUT"||r==="TEXTAREA"||r==="BUTTON"||r==="A"||i==="INPUT"||i==="TEXTAREA"||i==="BUTTON"||i==="A"||this.hasClass(n,"p-button")||this.hasClass(n.parentElement,"p-button")||this.hasClass(n.parentElement,"p-checkbox")||this.hasClass(n.parentElement,"p-radiobutton")}},{key:"applyStyle",value:function(n,r){if(typeof r=="string")n.style.cssText=r;else for(var i in r)n.style[i]=r[i]}},{key:"exportCSV",value:function(n,r){var i=new Blob([n],{type:"application/csv;charset=utf-8;"});if(window.navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(i,r+".csv");else{var s=t.saveAs({name:r+".csv",src:URL.createObjectURL(i)});s||(n="data:text/csv;charset=utf-8,"+n,window.open(encodeURI(n)))}}},{key:"saveAs",value:function(n){if(n){var r=document.createElement("a");if(r.download!==void 0){var i=n.name,s=n.src;return r.setAttribute("href",s),r.setAttribute("download",i),r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r),!0}}return!1}},{key:"createInlineStyle",value:function(n,r){var i=document.createElement("style");return t.addNonce(i,n),r||(r=document.head),r.appendChild(i),i}},{key:"removeInlineStyle",value:function(n){if(this.isExist(n)){try{n.parentNode.removeChild(n)}catch{}n=null}return n}},{key:"addNonce",value:function(n,r){try{r||(r=Vit.REACT_APP_CSS_NONCE)}catch{}r&&n.setAttribute("nonce",r)}},{key:"getTargetElement",value:function(n){if(!n)return null;if(n==="document")return document;if(n==="window")return window;if(mn(n)==="object"&&n.hasOwnProperty("current"))return this.isExist(n.current)?n.current:null;var r=function(a){return!!(a&&a.constructor&&a.call&&a.apply)},i=r(n)?n():n;return i&&i.nodeType===9||this.isExist(i)?i:null}},{key:"getAttributeNames",value:function(n){var r,i,s;for(i=[],s=n.attributes,r=0;r<s.length;++r)i.push(s[r].nodeName);return i.sort(),i}},{key:"isEqualElement",value:function(n,r){var i,s,a,c,l;if(i=t.getAttributeNames(n),s=t.getAttributeNames(r),i.join(",")!==s.join(","))return!1;for(var d=0;d<i.length;++d)if(a=i[d],a==="style")for(var h=n.style,g=r.style,y=/^\d+$/,v=0,S=Object.keys(h);v<S.length;v++){var x=S[v];if(!y.test(x)&&h[x]!==g[x])return!1}else if(n.getAttribute(a)!==r.getAttribute(a))return!1;for(c=n.firstChild,l=r.firstChild;c&&l;c=c.nextSibling,l=l.nextSibling){if(c.nodeType!==l.nodeType)return!1;if(c.nodeType===1){if(!t.isEqualElement(c,l))return!1}else if(c.nodeValue!==l.nodeValue)return!1}return!(c||l)}},{key:"hasCSSAnimation",value:function(n){if(n){var r=getComputedStyle(n),i=parseFloat(r.getPropertyValue("animation-duration")||"0");return i>0}return!1}},{key:"hasCSSTransition",value:function(n){if(n){var r=getComputedStyle(n),i=parseFloat(r.getPropertyValue("transition-duration")||"0");return i>0}return!1}}])}();gS(Ws,"DATA_PROPS",["data-"]);gS(Ws,"ARIA_PROPS",["aria","focus-target"]);function not(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=rot(t))||e){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(d){throw d},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,a=!1,c;return{s:function(){n=n.call(t)},n:function(){var d=n.next();return s=d.done,d},e:function(d){a=!0,c=d},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(a)throw c}}}}function rot(t,e){if(t){if(typeof t=="string")return lT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lT(t,e)}}function lT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var xe=function(){function t(){NM(this,t)}return FM(t,null,[{key:"equals",value:function(n,r,i){return i&&n&&mn(n)==="object"&&r&&mn(r)==="object"?this.deepEquals(this.resolveFieldData(n,i),this.resolveFieldData(r,i)):this.deepEquals(n,r)}},{key:"deepEquals",value:function(n,r){if(n===r)return!0;if(n&&r&&mn(n)==="object"&&mn(r)==="object"){var i=Array.isArray(n),s=Array.isArray(r),a,c,l;if(i&&s){if(c=n.length,c!==r.length)return!1;for(a=c;a--!==0;)if(!this.deepEquals(n[a],r[a]))return!1;return!0}if(i!==s)return!1;var d=n instanceof Date,h=r instanceof Date;if(d!==h)return!1;if(d&&h)return n.getTime()===r.getTime();var g=n instanceof RegExp,y=r instanceof RegExp;if(g!==y)return!1;if(g&&y)return n.toString()===r.toString();var v=Object.keys(n);if(c=v.length,c!==Object.keys(r).length)return!1;for(a=c;a--!==0;)if(!Object.prototype.hasOwnProperty.call(r,v[a]))return!1;for(a=c;a--!==0;)if(l=v[a],!this.deepEquals(n[l],r[l]))return!1;return!0}return n!==n&&r!==r}},{key:"resolveFieldData",value:function(n,r){if(!n||!r)return null;try{var i=n[r];if(this.isNotEmpty(i))return i}catch{}if(Object.keys(n).length){if(this.isFunction(r))return r(n);if(this.isNotEmpty(n[r]))return n[r];if(r.indexOf(".")===-1)return n[r];for(var s=r.split("."),a=n,c=0,l=s.length;c<l;++c){if(a==null)return null;a=a[s[c]]}return a}return null}},{key:"findDiffKeys",value:function(n,r){return!n||!r?{}:Object.keys(n).filter(function(i){return!r.hasOwnProperty(i)}).reduce(function(i,s){return i[s]=n[s],i},{})}},{key:"reduceKeys",value:function(n,r){var i={};return!n||!r||r.length===0||Object.keys(n).filter(function(s){return r.some(function(a){return s.startsWith(a)})}).forEach(function(s){i[s]=n[s],delete n[s]}),i}},{key:"reorderArray",value:function(n,r,i){n&&r!==i&&(i>=n.length&&(i=i%n.length,r=r%n.length),n.splice(i,0,n.splice(r,1)[0]))}},{key:"findIndexInList",value:function(n,r,i){var s=this;return r?i?r.findIndex(function(a){return s.equals(a,n,i)}):r.findIndex(function(a){return a===n}):-1}},{key:"getJSXElement",value:function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return this.isFunction(n)?n.apply(void 0,i):n}},{key:"getItemValue",value:function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return this.isFunction(n)?n.apply(void 0,i):n}},{key:"getProp",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=n?n[r]:void 0;return s===void 0?i[r]:s}},{key:"getPropCaseInsensitive",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=this.toFlatCase(r);for(var a in n)if(n.hasOwnProperty(a)&&this.toFlatCase(a)===s)return n[a];for(var c in i)if(i.hasOwnProperty(c)&&this.toFlatCase(c)===s)return i[c]}},{key:"getMergedProps",value:function(n,r){return Object.assign({},r,n)}},{key:"getDiffProps",value:function(n,r){return this.findDiffKeys(n,r)}},{key:"getPropValue",value:function(n){if(!this.isFunction(n))return n;for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];if(i.length===1){var a=i[0];return n(Array.isArray(a)?a[0]:a)}return n(i)}},{key:"getComponentProp",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.isNotEmpty(n)?this.getProp(n.props,r,i):void 0}},{key:"getComponentProps",value:function(n,r){return this.isNotEmpty(n)?this.getMergedProps(n.props,r):void 0}},{key:"getComponentDiffProps",value:function(n,r){return this.isNotEmpty(n)?this.getDiffProps(n.props,r):void 0}},{key:"isValidChild",value:function(n,r,i){if(n){var s,a=this.getComponentProp(n,"__TYPE")||(n.type?n.type.displayName:void 0);!a&&n!==null&&n!==void 0&&(s=n.type)!==null&&s!==void 0&&(s=s._payload)!==null&&s!==void 0&&s.value&&(a=n.type._payload.value.find(function(d){return d===r}));var c=a===r;try{var l}catch{}return c}return!1}},{key:"getRefElement",value:function(n){return n?mn(n)==="object"&&n.hasOwnProperty("current")?n.current:n:null}},{key:"combinedRefs",value:function(n,r){n&&r&&(typeof r=="function"?r(n.current):r.current=n.current)}},{key:"removeAccents",value:function(n){return n&&n.search(/[\xC0-\xFF]/g)>-1&&(n=n.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),n}},{key:"toFlatCase",value:function(n){return this.isNotEmpty(n)&&this.isString(n)?n.replace(/(-|_)/g,"").toLowerCase():n}},{key:"toCapitalCase",value:function(n){return this.isNotEmpty(n)&&this.isString(n)?n[0].toUpperCase()+n.slice(1):n}},{key:"trim",value:function(n){return this.isNotEmpty(n)&&this.isString(n)?n.trim():n}},{key:"isEmpty",value:function(n){return n==null||n===""||Array.isArray(n)&&n.length===0||!(n instanceof Date)&&mn(n)==="object"&&Object.keys(n).length===0}},{key:"isNotEmpty",value:function(n){return!this.isEmpty(n)}},{key:"isFunction",value:function(n){return!!(n&&n.constructor&&n.call&&n.apply)}},{key:"isObject",value:function(n){return n!==null&&n instanceof Object&&n.constructor===Object}},{key:"isDate",value:function(n){return n!==null&&n instanceof Date&&n.constructor===Date}},{key:"isArray",value:function(n){return n!==null&&Array.isArray(n)}},{key:"isString",value:function(n){return n!==null&&typeof n=="string"}},{key:"isPrintableCharacter",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return this.isNotEmpty(n)&&n.length===1&&n.match(/\S| /)}},{key:"isLetter",value:function(n){return/^[a-zA-Z\u00C0-\u017F]$/.test(n)}},{key:"isScalar",value:function(n){return n!=null&&(typeof n=="string"||typeof n=="number"||typeof n=="bigint"||typeof n=="boolean")}},{key:"findLast",value:function(n,r){var i;if(this.isNotEmpty(n))try{i=n.findLast(r)}catch{i=u0(n).reverse().find(r)}return i}},{key:"findLastIndex",value:function(n,r){var i=-1;if(this.isNotEmpty(n))try{i=n.findLastIndex(r)}catch{i=n.lastIndexOf(u0(n).reverse().find(r))}return i}},{key:"sort",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,s=arguments.length>3?arguments[3]:void 0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,c=this.compare(n,r,s,i),l=i;return(this.isEmpty(n)||this.isEmpty(r))&&(l=a===1?i:a),l*c}},{key:"compare",value:function(n,r,i){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,a=-1,c=this.isEmpty(n),l=this.isEmpty(r);return c&&l?a=0:c?a=s:l?a=-s:typeof n=="string"&&typeof r=="string"?a=i(n,r):a=n<r?-1:n>r?1:0,a}},{key:"localeComparator",value:function(n){return new Intl.Collator(n,{numeric:!0}).compare}},{key:"findChildrenByKey",value:function(n,r){var i=not(n),s;try{for(i.s();!(s=i.n()).done;){var a=s.value;if(a.key===r)return a.children||[];if(a.children){var c=this.findChildrenByKey(a.children,r);if(c.length>0)return c}}}catch(l){i.e(l)}finally{i.f()}return[]}},{key:"mutateFieldData",value:function(n,r,i){if(!(mn(n)!=="object"||typeof r!="string"))for(var s=r.split("."),a=n,c=0,l=s.length;c<l;++c){if(c+1-l===0){a[s[c]]=i;break}a[s[c]]||(a[s[c]]={}),a=a[s[c]]}}}])}();function fT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fT(Object(n),!0).forEach(function(r){gS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jh(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t){var n=function(a){return typeof a=="function"},r=e.classNameMergeFunction,i=n(r);return t.reduce(function(s,a){if(!a)return s;var c=function(){var h=a[l];if(l==="style")s.style=dT(dT({},s.style),a.style);else if(l==="className"){var g="";i?g=r(s.className,a.className):g=[s.className,a.className].join(" ").trim(),s.className=g||void 0}else if(n(h)){var y=s[l];s[l]=y?function(){y.apply(void 0,arguments),h.apply(void 0,arguments)}:h}else s[l]=h};for(var l in a)c();return s},{})}}var Tn=Object.freeze({STARTS_WITH:"startsWith",CONTAINS:"contains",NOT_CONTAINS:"notContains",ENDS_WITH:"endsWith",EQUALS:"equals",NOT_EQUALS:"notEquals",IN:"in",LESS_THAN:"lt",LESS_THAN_OR_EQUAL_TO:"lte",GREATER_THAN:"gt",GREATER_THAN_OR_EQUAL_TO:"gte",BETWEEN:"between",DATE_IS:"dateIs",DATE_IS_NOT:"dateIsNot",DATE_BEFORE:"dateBefore",DATE_AFTER:"dateAfter",CUSTOM:"custom"});function El(t){"@babel/helpers - typeof";return El=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},El(t)}function iot(t,e){if(El(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(El(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oot(t){var e=iot(t,"string");return El(e)==="symbol"?e:String(e)}function $r(t,e,n){return e=oot(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sot(t,e,n){return Object.defineProperty(t,"prototype",{writable:!1}),t}function aot(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var or=sot(function t(){aot(this,t)});$r(or,"ripple",!1);$r(or,"inputStyle","outlined");$r(or,"locale","en");$r(or,"appendTo",null);$r(or,"cssTransition",!0);$r(or,"autoZIndex",!0);$r(or,"hideOverlaysOnDocumentScrolling",!1);$r(or,"nonce",null);$r(or,"nullSortOrder",1);$r(or,"zIndex",{modal:1100,overlay:1e3,menu:1e3,tooltip:1100,toast:1200});$r(or,"pt",void 0);$r(or,"filterMatchModeOptions",{text:[Tn.STARTS_WITH,Tn.CONTAINS,Tn.NOT_CONTAINS,Tn.ENDS_WITH,Tn.EQUALS,Tn.NOT_EQUALS],numeric:[Tn.EQUALS,Tn.NOT_EQUALS,Tn.LESS_THAN,Tn.LESS_THAN_OR_EQUAL_TO,Tn.GREATER_THAN,Tn.GREATER_THAN_OR_EQUAL_TO],date:[Tn.DATE_IS,Tn.DATE_IS_NOT,Tn.DATE_BEFORE,Tn.DATE_AFTER]});$r(or,"changeTheme",function(t,e,n,r){var i,s=document.getElementById(n);if(!s)throw Error("Element with id ".concat(n," not found."));var a=s.getAttribute("href").replace(t,e),c=document.createElement("link");c.setAttribute("rel","stylesheet"),c.setAttribute("id",n),c.setAttribute("href",a),c.addEventListener("load",function(){r&&r()}),(i=s.parentNode)===null||i===void 0||i.replaceChild(c,s)});var mS=ie.createContext(),yg=or;function uot(t){if(Array.isArray(t))return t}function cot(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,c=[],l=!0,d=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(c.push(r.value),c.length!==e);l=!0);}catch(h){d=!0,i=h}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(d)throw i}}return c}}function hT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lot(t,e){if(t){if(typeof t=="string")return hT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hT(t,e)}}function fot(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dot(t,e){return uot(t)||cot(t,e)||lot(t,e)||fot()}var pT=function(e){var n=G.useRef(null);return G.useEffect(function(){return n.current=e,function(){n.current=null}},[e]),n.current},BM=function(e){return G.useEffect(function(){return e},[])},yd=function(e){var n=e.target,r=n===void 0?"document":n,i=e.type,s=e.listener,a=e.options,c=e.when,l=c===void 0?!0:c,d=G.useRef(null),h=G.useRef(null),g=pT(s),y=pT(a),v=function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},P=N.target;xe.isNotEmpty(P)&&(S(),(N.when||l)&&(d.current=Ws.getTargetElement(P))),!h.current&&d.current&&(h.current=function($){return s&&s($)},d.current.addEventListener(i,h.current,a))},S=function(){h.current&&(d.current.removeEventListener(i,h.current,a),h.current=null)},x=function(){S(),g=null,y=null},T=G.useCallback(function(){l?d.current=Ws.getTargetElement(r):(S(),d.current=null)},[r,l]);return G.useEffect(function(){T()},[T]),G.useEffect(function(){var O="".concat(g)!=="".concat(s),N=y!==a,P=h.current;P&&(O||N)?(S(),l&&v()):P||x()},[s,a,l]),BM(function(){x()}),[v,S]},hot=function(){var e=G.useContext(mS);return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return jh(r,e==null?void 0:e.ptOptions)}},pot=function(e){var n=G.useRef(!1);return G.useEffect(function(){if(!n.current)return n.current=!0,e&&e()},[])},got=0,vd=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=G.useState(!1),i=dot(r,2),s=i[0],a=i[1],c=G.useRef(null),l=G.useContext(mS),d=Ws.isClient()?window.document:void 0,h=n.document,g=h===void 0?d:h,y=n.manual,v=y===void 0?!1:y,S=n.name,x=S===void 0?"style_".concat(++got):S,T=n.id,O=T===void 0?void 0:T,N=n.media,P=N===void 0?void 0:N,$=function(K){var b=K.querySelector('style[data-primereact-style-id="'.concat(x,'"]'));if(b)return b;if(O!==void 0){var M=g.getElementById(O);if(M)return M}return g.createElement("style")},j=function(K){s&&e!==K&&(c.current.textContent=K)},B=function(){if(!(!g||s)){var K=(l==null?void 0:l.styleContainer)||g.head;c.current=$(K),c.current.isConnected||(c.current.type="text/css",O&&(c.current.id=O),P&&(c.current.media=P),Ws.addNonce(c.current,l&&l.nonce||yg.nonce),K.appendChild(c.current),x&&c.current.setAttribute("data-primereact-style-id",x)),c.current.textContent=e,a(!0)}},k=function(){!g||!c.current||(Ws.removeInlineStyle(c.current),a(!1))};return G.useEffect(function(){v||B()},[v]),{id:O,name:x,update:j,unload:k,load:B,isLoaded:s}},mot=function(e,n){var r=G.useRef(!1);return G.useEffect(function(){if(!r.current){r.current=!0;return}return e&&e()},n)};function c0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yot(t){if(Array.isArray(t))return c0(t)}function vot(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _ot(t,e){if(t){if(typeof t=="string")return c0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c0(t,e)}}function bot(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gT(t){return yot(t)||vot(t)||_ot(t)||bot()}function xl(t){"@babel/helpers - typeof";return xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xl(t)}function Sot(t,e){if(xl(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wot(t){var e=Sot(t,"string");return xl(e)==="symbol"?e:String(e)}function l0(t,e,n){return e=wot(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mT(Object(n),!0).forEach(function(r){l0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Eot=`
.p-hidden-accessible {
    border: 0;
    clip: rect(0 0 0 0);
    height: 1px;
    margin: -1px;
    opacity: 0;
    overflow: hidden;
    padding: 0;
    pointer-events: none;
    position: absolute;
    white-space: nowrap;
    width: 1px;
}

.p-overflow-hidden {
    overflow: hidden;
    padding-right: var(--scrollbar-width);
}
`,xot=`
.p-button {
    margin: 0;
    display: inline-flex;
    cursor: pointer;
    user-select: none;
    align-items: center;
    vertical-align: bottom;
    text-align: center;
    overflow: hidden;
    position: relative;
}

.p-button-label {
    flex: 1 1 auto;
}

.p-button-icon-right {
    order: 1;
}

.p-button:disabled {
    cursor: default;
}

.p-button-icon-only {
    justify-content: center;
}

.p-button-icon-only .p-button-label {
    visibility: hidden;
    width: 0;
    flex: 0 0 auto;
}

.p-button-vertical {
    flex-direction: column;
}

.p-button-icon-bottom {
    order: 2;
}

.p-button-group .p-button {
    margin: 0;
}

.p-button-group .p-button:not(:last-child) {
    border-right: 0 none;
}

.p-button-group .p-button:not(:first-of-type):not(:last-of-type) {
    border-radius: 0;
}

.p-button-group .p-button:first-of-type {
    border-top-right-radius: 0;
    border-bottom-right-radius: 0;
}

.p-button-group .p-button:last-of-type {
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
}

.p-button-group .p-button:focus {
    position: relative;
    z-index: 1;
}

.p-button-group-single .p-button:first-of-type {
    border-top-right-radius: var(--border-radius) !important;
    border-bottom-right-radius: var(--border-radius) !important;
}

.p-button-group-single .p-button:last-of-type {
    border-top-left-radius: var(--border-radius) !important;
    border-bottom-left-radius: var(--border-radius) !important;
}
`,Cot=`
.p-inputtext {
    margin: 0;
}

.p-fluid .p-inputtext {
    width: 100%;
}

/* InputGroup */
.p-inputgroup {
    display: flex;
    align-items: stretch;
    width: 100%;
}

.p-inputgroup-addon {
    display: flex;
    align-items: center;
    justify-content: center;
}

.p-inputgroup .p-float-label {
    display: flex;
    align-items: stretch;
    width: 100%;
}

.p-inputgroup .p-inputtext,
.p-fluid .p-inputgroup .p-inputtext,
.p-inputgroup .p-inputwrapper,
.p-fluid .p-inputgroup .p-input {
    flex: 1 1 auto;
    width: 1%;
}

/* Floating Label */
.p-float-label {
    display: block;
    position: relative;
}

.p-float-label label {
    position: absolute;
    pointer-events: none;
    top: 50%;
    margin-top: -0.5rem;
    transition-property: all;
    transition-timing-function: ease;
    line-height: 1;
}

.p-float-label textarea ~ label,
.p-float-label .p-mention ~ label {
    top: 1rem;
}

.p-float-label input:focus ~ label,
.p-float-label input:-webkit-autofill ~ label,
.p-float-label input.p-filled ~ label,
.p-float-label textarea:focus ~ label,
.p-float-label textarea.p-filled ~ label,
.p-float-label .p-inputwrapper-focus ~ label,
.p-float-label .p-inputwrapper-filled ~ label,
.p-float-label .p-tooltip-target-wrapper ~ label {
    top: -0.75rem;
    font-size: 12px;
}

.p-float-label .p-placeholder,
.p-float-label input::placeholder,
.p-float-label .p-inputtext::placeholder {
    opacity: 0;
    transition-property: all;
    transition-timing-function: ease;
}

.p-float-label .p-focus .p-placeholder,
.p-float-label input:focus::placeholder,
.p-float-label .p-inputtext:focus::placeholder {
    opacity: 1;
    transition-property: all;
    transition-timing-function: ease;
}

.p-input-icon-left,
.p-input-icon-right {
    position: relative;
    display: inline-block;
}

.p-input-icon-left > i,
.p-input-icon-right > i,
.p-input-icon-left > svg,
.p-input-icon-right > svg,
.p-input-icon-left > .p-input-prefix,
.p-input-icon-right > .p-input-suffix {
    position: absolute;
    top: 50%;
    margin-top: -0.5rem;
}

.p-fluid .p-input-icon-left,
.p-fluid .p-input-icon-right {
    display: block;
    width: 100%;
}
`,Tot=`
.p-icon {
    display: inline-block;
}

.p-icon-spin {
    -webkit-animation: p-icon-spin 2s infinite linear;
    animation: p-icon-spin 2s infinite linear;
}

svg.p-icon {
    pointer-events: auto;
}

svg.p-icon g,
.p-disabled svg.p-icon {
    pointer-events: none;
}

@-webkit-keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}

@keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}
`,Oot=`
@layer primereact {
    .p-component, .p-component * {
        box-sizing: border-box;
    }

    .p-hidden {
        display: none;
    }

    .p-hidden-space {
        visibility: hidden;
    }

    .p-reset {
        margin: 0;
        padding: 0;
        border: 0;
        outline: 0;
        text-decoration: none;
        font-size: 100%;
        list-style: none;
    }

    .p-disabled, .p-disabled * {
        cursor: default;
        pointer-events: none;
        user-select: none;
    }

    .p-component-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }

    .p-unselectable-text {
        user-select: none;
    }

    .p-scrollbar-measure {
        width: 100px;
        height: 100px;
        overflow: scroll;
        position: absolute;
        top: -9999px;
    }

    @-webkit-keyframes p-fadein {
      0%   { opacity: 0; }
      100% { opacity: 1; }
    }
    @keyframes p-fadein {
      0%   { opacity: 0; }
      100% { opacity: 1; }
    }

    .p-link {
        text-align: left;
        background-color: transparent;
        margin: 0;
        padding: 0;
        border: none;
        cursor: pointer;
        user-select: none;
    }

    .p-link:disabled {
        cursor: default;
    }

    /* Non react overlay animations */
    .p-connected-overlay {
        opacity: 0;
        transform: scaleY(0.8);
        transition: transform .12s cubic-bezier(0, 0, 0.2, 1), opacity .12s cubic-bezier(0, 0, 0.2, 1);
    }

    .p-connected-overlay-visible {
        opacity: 1;
        transform: scaleY(1);
    }

    .p-connected-overlay-hidden {
        opacity: 0;
        transform: scaleY(1);
        transition: opacity .1s linear;
    }

    /* React based overlay animations */
    .p-connected-overlay-enter {
        opacity: 0;
        transform: scaleY(0.8);
    }

    .p-connected-overlay-enter-active {
        opacity: 1;
        transform: scaleY(1);
        transition: transform .12s cubic-bezier(0, 0, 0.2, 1), opacity .12s cubic-bezier(0, 0, 0.2, 1);
    }

    .p-connected-overlay-enter-done {
        transform: none;
    }

    .p-connected-overlay-exit {
        opacity: 1;
    }

    .p-connected-overlay-exit-active {
        opacity: 0;
        transition: opacity .1s linear;
    }

    /* Toggleable Content */
    .p-toggleable-content-enter {
        max-height: 0;
    }

    .p-toggleable-content-enter-active {
        overflow: hidden;
        max-height: 1000px;
        transition: max-height 1s ease-in-out;
    }

    .p-toggleable-content-enter-done {
        transform: none;
    }

    .p-toggleable-content-exit {
        max-height: 1000px;
    }

    .p-toggleable-content-exit-active {
        overflow: hidden;
        max-height: 0;
        transition: max-height 0.45s cubic-bezier(0, 1, 0, 1);
    }

    /* @todo Refactor */
    .p-menu .p-menuitem-link {
        cursor: pointer;
        display: flex;
        align-items: center;
        text-decoration: none;
        overflow: hidden;
        position: relative;
    }

    `.concat(xot,`
    `).concat(Cot,`
    `).concat(Tot,`
}
`),Me={cProps:void 0,cParams:void 0,cName:void 0,defaultProps:{pt:void 0,ptOptions:void 0,unstyled:!1},context:{},globalCSS:void 0,classes:{},styles:"",extend:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.css,r=Qe(Qe({},e.defaultProps),Me.defaultProps),i={},s=function(h){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Me.context=g,Me.cProps=h,xe.getMergedProps(h,r)},a=function(h){return xe.getDiffProps(h,r)},c=function(){var h,g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},S=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;g.hasOwnProperty("pt")&&g.pt!==void 0&&(g=g.pt);var x=y,T=/./g.test(x)&&!!v[x.split(".")[0]],O=T?xe.toFlatCase(x.split(".")[1]):xe.toFlatCase(x),N=v.hostName&&xe.toFlatCase(v.hostName),P=N||v.props&&v.props.__TYPE&&xe.toFlatCase(v.props.__TYPE)||"",$=O==="transition",j="data-pc-",B=function(at){return at!=null&&at.props?at.hostName?at.props.__TYPE===at.hostName?at.props:B(at.parent):at.parent:void 0},k=function(at){var Nt,sn;return((Nt=v.props)===null||Nt===void 0?void 0:Nt[at])||((sn=B(v))===null||sn===void 0?void 0:sn[at])};Me.cParams=v,Me.cName=P;var U=k("ptOptions")||Me.context.ptOptions||{},K=U.mergeSections,b=K===void 0?!0:K,M=U.mergeProps,D=M===void 0?!1:M,X=function(){var at=_o.apply(void 0,arguments);return Array.isArray(at)?{className:Bh.apply(void 0,gT(at))}:xe.isString(at)?{className:at}:at!=null&&at.hasOwnProperty("className")&&Array.isArray(at.className)?{className:Bh.apply(void 0,gT(at.className))}:at},nt=S?T?jM(X,x,v):DM(X,x,v):void 0,mt=T?void 0:_g(vg(g,P),X,x,v),gt=!$&&Qe(Qe({},O==="root"&&l0({},"".concat(j,"name"),v.props&&v.props.__parentMetadata?xe.toFlatCase(v.props.__TYPE):P)),{},l0({},"".concat(j,"section"),O));return b||!b&&mt?D?jh([nt,mt,Object.keys(gt).length?gt:{}],{classNameMergeFunction:(h=Me.context.ptOptions)===null||h===void 0?void 0:h.classNameMergeFunction}):Qe(Qe(Qe({},nt),mt),Object.keys(gt).length?gt:{}):Qe(Qe({},mt),Object.keys(gt).length?gt:{})},l=function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},g=h.props,y=h.state,v=function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return c((g||{}).pt,P,Qe(Qe({},h),$))},S=function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return c(P,$,j,!1)},x=function(){return Me.context.unstyled||yg.unstyled||g.unstyled},T=function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return x()?void 0:_o(n&&n.classes,P,Qe({props:g,state:y},$))},O=function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(j){var B,k=_o(n&&n.inlineStyles,P,Qe({props:g,state:y},$)),U=_o(i,P,Qe({props:g,state:y},$));return jh([U,k],{classNameMergeFunction:(B=Me.context.ptOptions)===null||B===void 0?void 0:B.classNameMergeFunction})}};return{ptm:v,ptmo:S,sx:O,cx:T,isUnstyled:x}};return Qe(Qe({getProps:s,getOtherProps:a,setMetaData:l},e),{},{defaultProps:r})}},_o=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=String(xe.toFlatCase(n)).split("."),s=i.shift(),a=xe.isNotEmpty(e)?Object.keys(e).find(function(c){return xe.toFlatCase(c)===s}):"";return s?xe.isObject(e)?_o(xe.getItemValue(e[a],r),i.join("."),r):void 0:xe.getItemValue(e,r)},vg=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,i=e==null?void 0:e._usept,s=function(c){var l,d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,h=r?r(c):c,g=xe.toFlatCase(n);return(l=d?g!==Me.cName?h==null?void 0:h[g]:void 0:h==null?void 0:h[g])!==null&&l!==void 0?l:h};return xe.isNotEmpty(i)?{_usept:i,originalValue:s(e.originalValue),value:s(e.value)}:s(e,!0)},_g=function(e,n,r,i){var s=function(x){return n(x,r,i)};if(e!=null&&e.hasOwnProperty("_usept")){var a=e._usept||Me.context.ptOptions||{},c=a.mergeSections,l=c===void 0?!0:c,d=a.mergeProps,h=d===void 0?!1:d,g=a.classNameMergeFunction,y=s(e.originalValue),v=s(e.value);return y===void 0&&v===void 0?void 0:xe.isString(v)?v:xe.isString(y)?y:l||!l&&v?h?jh([y,v],{classNameMergeFunction:g}):Qe(Qe({},y),v):v}return s(e)},Aot=function(){return vg(Me.context.pt||yg.pt,void 0,function(e){return xe.getItemValue(e,Me.cParams)})},kot=function(){return vg(Me.context.pt||yg.pt,void 0,function(e){return _o(e,Me.cName,Me.cParams)||xe.getItemValue(e,Me.cParams)})},jM=function(e,n,r){return _g(Aot(),e,n,r)},DM=function(e,n,r){return _g(kot(),e,n,r)},Iot=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},r=arguments.length>2?arguments[2]:void 0,i=r.name,s=r.styled,a=s===void 0?!1:s,c=r.hostName,l=c===void 0?"":c,d=jM(_o,"global.css",Me.cParams),h=xe.toFlatCase(i),g=vd(Eot,{name:"base",manual:!0}),y=g.load,v=vd(Oot,{name:"common",manual:!0}),S=v.load,x=vd(d,{name:"global",manual:!0}),T=x.load,O=vd(e,{name:i,manual:!0}),N=O.load,P=function(j){if(!l){var B=_g(vg((Me.cProps||{}).pt,h),_o,"hooks.".concat(j)),k=DM(_o,"hooks.".concat(j));B==null||B(),k==null||k()}};P("useMountEffect"),pot(function(){y(),T(),n()||(S(),a||N())}),mot(function(){P("useUpdateEffect")}),BM(function(){P("useUnmountEffect")})};function $ot(t){if(Array.isArray(t))return t}function Rot(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,c=[],l=!0,d=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(c.push(r.value),c.length!==e);l=!0);}catch(h){d=!0,i=h}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(d)throw i}}return c}}function yT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Pot(t,e){if(t){if(typeof t=="string")return yT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yT(t,e)}}function Mot(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _d(t,e){return $ot(t)||Rot(t,e)||Pot(t,e)||Mot()}var Ny=Me.extend({defaultProps:{__TYPE:"Knob",id:null,style:null,className:null,value:null,size:100,disabled:!1,readOnly:!1,showValue:!0,tabIndex:0,step:1,min:0,max:100,strokeWidth:14,name:null,valueColor:"var(--primary-color, Black)",rangeColor:"var(--surface-border, LightGray)",textColor:"var(--text-color-secondary, Black)",valueTemplate:"{value}",onChange:null,children:void 0},css:{classes:{range:"p-knob-range",value:"p-knob-value",label:"p-knob-text",root:function(e){var n=e.props;return Bh("p-knob p-component",{"p-disabled":n.disabled})}},styles:`
        @keyframes dash-frame {
            100% {
                stroke-dashoffset: 0;
            }
        }
        @layer primereact {
            .p-knob-range {
                fill: none;
                transition: stroke .1s ease-in;
            }
            .p-knob-value {
                animation-name: dash-frame;
                animation-fill-mode: forwards;
                fill: none;
            }
            .p-knob-text {
                font-size: 1.3rem;
                text-align: center;
            }
        }
        `}}),Ur=40,bd=50,Sd=50,Da=4*Math.PI/3,ks=-Math.PI/3,UM=G.memo(G.forwardRef(function(t,e){var n=hot(),r=G.useContext(mS),i=Ny.getProps(t,r),s=Ny.setMetaData({props:i}),a=s.ptm,c=s.cx,l=s.isUnstyled;Iot(Ny.css.styles,l,{name:"knob"});var d=G.useRef(null),h=!i.disabled&&!i.readOnly,g=yd({target:"window",type:"mousemove",listener:function(ht){ms(ht.offsetX,ht.offsetY),ht.preventDefault()},when:h}),y=_d(g,2),v=y[0],S=y[1],x=yd({target:"window",type:"mouseup",listener:function(ht){S(),N(),ht.preventDefault()},when:h}),T=_d(x,2),O=T[0],N=T[1],P=yd({target:"window",type:"touchmove",listener:function(ht){if(ht.touches.length===1){var Sn=d.current.getBoundingClientRect(),wn=ht.targetTouches.item(0),Bo=wn.clientX-Sn.left,ri=wn.clientY-Sn.top;ms(Bo,ri),ht.preventDefault()}},when:h}),$=_d(P,2),j=$[0],B=$[1],k=yd({target:"window",type:"touchend",listener:function(){B(),b()},when:h}),U=_d(k,2),K=U[0],b=U[1],M=function(ht,Sn,wn,Bo,ri){return(ht-Sn)*(ri-Bo)/(wn-Sn)+Bo},D=function(){return M(i.min>0&&i.max>0?i.min:0,i.min,i.max,Da,ks)},X=function(){return M(i.value,i.min,i.max,Da,ks)},nt=function(){return bd+Math.cos(Da)*Ur},mt=function(){return Sd-Math.sin(Da)*Ur},gt=function(){return bd+Math.cos(ks)*Ur},it=function(){return Sd-Math.sin(ks)*Ur},at=function(){return bd+Math.cos(D())*Ur},Nt=function(){return Sd-Math.sin(D())*Ur},sn=function(){return bd+Math.cos(X())*Ur},se=function(){return Sd-Math.sin(X())*Ur},Mo=function(){return Math.abs(D()-X())<Math.PI?0:1},tc=function(){return X()>D()?0:1},ec="M ".concat(nt()," ").concat(mt()," A ").concat(Ur," ").concat(Ur," 0 1 1 ").concat(gt()," ").concat(it()),Ei="M ".concat(at()," ").concat(Nt()," A ").concat(Ur," ").concat(Ur," 0 ").concat(Mo()," ").concat(tc()," ").concat(sn()," ").concat(se()),No=function(){return i.valueTemplate.replace("{value}",i.value.toString())},ms=function(ht,Sn){var wn=ht-i.size/2,Bo=i.size/2-Sn,ri=Math.atan2(Bo,wn),jo=-Math.PI/2-Math.PI/6;to(ri,jo)},to=function(ht,Sn){var wn;if(ht>ks)wn=M(ht,Da,ks,i.min,i.max);else if(ht<Sn)wn=M(ht+2*Math.PI,Da,ks,i.min,i.max);else return;i.onChange&&i.onChange({value:Math.round((wn-i.min)/i.step)*i.step+i.min})},Jn=function(ht){var Sn;ht>i.max?Sn=i.max:ht<i.min?Sn=i.min:Sn=ht,i.onChange&&i.onChange({value:Sn})},nc=function(ht){!i.disabled&&!i.readOnly&&ms(ht.nativeEvent.offsetX,ht.nativeEvent.offsetY)},Lo=function(ht){v(),O(),ht.preventDefault()},Fo=function(){S(),N()},ga=function(){j(),K()},an=function(){B(),b()},eo=function(ht){if(!i.disabled&&!i.readonly)switch(ht.code){case"ArrowRight":case"ArrowUp":ht.preventDefault(),Jn(i.value+1);break;case"ArrowLeft":case"ArrowDown":{ht.preventDefault(),Jn(i.value-1);break}case"Home":{ht.preventDefault(),Jn(i.min);break}case"End":{ht.preventDefault(),Jn(i.max);break}case"PageUp":{ht.preventDefault(),Jn(i.value+10);break}case"PageDown":{ht.preventDefault(),Jn(i.value-10);break}}};G.useImperativeHandle(e,function(){return{props:i,getElement:function(){return d.current}}});var rc=n({x:50,y:57,textAnchor:"middle",fill:i.textColor,className:c("label"),name:i.name},a("label")),bn=i.showValue&&G.createElement("text",rc,No()),xi=n({ref:d,id:i.id,className:Bh(i.className,c("root")),style:i.style},a("root")),ic=n({viewBox:"0 0 100 100",width:i.size,height:i.size,"aria-valuemin":i.min,"aria-valuemax":i.max,"aria-valuenow":i.value,"aria-labelledby":i.ariaLabelledby,"aria-label":i.ariaLabel,role:"slider",tabIndex:i.readonly||i.disabled?-1:i.tabIndex,onClick:function(ht){return nc(ht)},onMouseDown:function(ht){return Lo(ht)},onMouseUp:function(ht){return Fo()},onTouchStart:function(ht){return ga()},onTouchEnd:function(ht){return an()},onKeyDown:function(ht){return eo(ht)}},a("svg")),Ci=n({d:ec,strokeWidth:i.strokeWidth,stroke:i.rangeColor,className:c("range")},a("range")),Bn=n({d:Ei,strokeWidth:i.strokeWidth,stroke:i.valueColor,className:c("value")},a("value"));return G.createElement("div",xi,G.createElement("svg",ic,G.createElement("path",Ci),G.createElement("path",Bn),bn))}));UM.displayName="Knob";const Not=ni.of({widget:qit,Component:(t,e,n)=>{var a;const[r,i]=ie.useState(0),s=c=>{i(c)};return J.jsx(wi,{children:J.jsxs(Yr,{sx:{height:100,width:100,backgroundColor:`#${tt.toHex(t.color)}`,display:"flex",justifyContent:"center",flexDirection:"column"},children:[J.jsx(Yr,{sx:{display:"flex",justifyContent:"center"},children:J.jsx(Po,{sx:{fontWeight:"bold"},children:((a=t.text)==null?void 0:a.content)||""})}),J.jsx(Yr,{sx:{p:0,mt:1},children:J.jsx(UM,{value:r,onChange:c=>s(c.value),min:0,max:127})})]})})}});var Lot=fS(J.jsx("path",{d:"M12 2c-4.42 0-8 .5-8 4v9.5C4 17.43 5.57 19 7.5 19L6 20.5v.5h12v-.5L16.5 19c1.93 0 3.5-1.57 3.5-3.5V6c0-3.5-3.58-4-8-4M7.5 17c-.83 0-1.5-.67-1.5-1.5S6.67 14 7.5 14s1.5.67 1.5 1.5S8.33 17 7.5 17m3.5-6H6V6h5zm5.5 6c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m1.5-6h-5V6h5z"}),"DirectionsTransit");const Fot=ni.of({widget:FP,Component:(t,e,n)=>{const i=(n.options.metronomeState!==void 0?n.options.metronomeState:!1)?t.color:tt.BLACK;return J.jsx(wi,{children:J.jsx(Yr,{sx:{borderRadius:"5px",backgroundColor:`#${tt.toHex(i)}`},children:J.jsx(pS,{sx:{width:100,height:100},"aria-label":"metro-control",onClick:()=>e(n.target),children:J.jsx(Lot,{sx:{fontSize:80}})})})})}}),Bot=kit([Cit,Tit,Ait,$it,Pit,Nit,Lit,Bit,jit,Dit,Not,Fot]),jot=cb(Bot.controllerWidgets),Dot={controller:jot},Ly={sysexControlCode:50,manufacturer:3},Uot=Dot.controller;Pn("resend",{});const zot=ub.of({init:t=>e=>{const n=s0.make({widgets:e.map(r=>r.widget)});t.send(fl.jsonSchemaSysex(n,s0,[Ly.sysexControlCode],Ly.manufacturer))},render:t=>e=>{e.forEach(n=>{t.send(fl.jsonSchemaSysex(Fh.make({target:n.target,color:n.color,options:n.options}),Fh,[Ly.sysexControlCode]))})},targets:[]}),Wot=lb.of({name:"MIDI Structor UI",controller:zot,widgets:Uot}),Kot={device:Wot},zM=[KP.device,Kot.device],qot=rt.keyBy(zM,"name"),Vot=KP.device,Hot=t=>Ao(rt.get(qot,t,void 0)),Got=()=>rt.map(zM,"name"),Jot={defaultDevice:Vot,findByName:Hot,getNames:Got},Yot=t=>{const e=n=>{if(n.type==="init-ack")pt.importStatus.set({type:"ack",projectName:n.projectName}),pt.project.abletonName.set(n.projectName);else if(n.type==="init-project")pt.importStatus.set({type:"importing"}),pt.initArrangement.set(hJ());else if(n.type==="init-track")pt.initArrangement.set(pJ(n));else if(n.type==="init-clip")pt.initArrangement.set(gJ(n));else if(n.type==="init-cue")pt.initArrangement.set(mJ(n));else if(n.type==="init-done"){pt.importStatus.set({type:"finalizing"});const r=yJ(pt.initArrangement.get());pt.project.arrangement.set(r),pt.importStatus.set({type:"done"})}else n.type==="beat"?pt.realTime.beats.set(n.value):n.type==="sig"?pt.realTime.timeSignature.set({noteCount:n.numer,noteLength:n.denom}):n.type==="bar-beat"?pt.realTime.barBeats.set(n.value):n.type==="tempo"?pt.realTime.tempo.set(n.value):n.type==="is-playing"?pt.realTime.isPlaying.set(n.value):n.type==="metronome-state"?pt.realTime.metronomeState.set(n.value):n.type==="loop-state"?pt.realTime.loopState.set(n.value):n.type==="half-beat"&&pt.realTime.halfBeat.set(n.isHalf)};t.on("sysex",n=>{const r=qD(n);r!==void 0&&e(r)})},Xot=(t,e)=>(t.emit(hn.init()),pt.importStatus.sub(n=>{n.type==="ack"&&t.emit(hn.initReady(e))})),Qot=t=>{const e=t.controllers.flatMap(n=>$e(Jot.findByName(n.device),{onSome:r=>r.widgets.resolve(n.config),onNone:()=>[]}));return nf(e.flatMap(n=>n.tracks())).toArray()};let vT,_T=[];const Zot=(t,e)=>{const n=Qot(t);return rt.isEqual(_T,n)?Rn.info("Tracks were the same, doing nothing here..."):(Rn.info("Tracks were not equal, reloading project..."),_T=n,vT=Xot(e,n)),vT},tst=(t,e)=>{Rn.info("Project Main"),pt.project.config.sub(n=>$e(J$.getActive(n),{onSome:r=>(Rn.info("Active project",r),Zot(r,e)),onNone:()=>(Rn.error("No active project found",n),()=>{})})),Ro.getChannel().onmessage=n=>{e.emit(n.data)},Yot(t)},est={init:tst};Rn.info("Loading Project Worker Main");const WM=Yc(),KM=Yc();onmessage=t=>{rt.isArray(t.data)&&t.data.length==2&&t.data[0]==="DAW_LISTENER"&&WM.emit(t.data[1])};KM.on("*",t=>postMessage(["DAW_EMITTER",t]));est.init(WM,KM);
