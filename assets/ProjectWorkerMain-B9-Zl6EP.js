var nb=Object.defineProperty;var Sl=se=>{throw TypeError(se)};var rb=(se,ve,Oe)=>ve in se?nb(se,ve,{enumerable:!0,configurable:!0,writable:!0,value:Oe}):se[ve]=Oe;var ye=(se,ve,Oe)=>rb(se,typeof ve!="symbol"?ve+"":ve,Oe),Al=(se,ve,Oe)=>ve.has(se)||Sl("Cannot "+Oe);var El=(se,ve,Oe)=>(Al(se,ve,"read from private field"),Oe?Oe.call(se):ve.get(se)),xl=(se,ve,Oe)=>ve.has(se)?Sl("Cannot add the same private member more than once"):ve instanceof WeakSet?ve.add(se):ve.set(se,Oe),Ol=(se,ve,Oe,Ot)=>(Al(se,ve,"write to private field"),Ot?Ot.call(se,Oe):ve.set(se,Oe),Oe);(function(){"use strict";var Jn;var se=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ve(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Oe={exports:{}},Ot=typeof Reflect=="object"?Reflect:null,Yu=Ot&&typeof Ot.apply=="function"?Ot.apply:function(i,o,s){return Function.prototype.apply.call(i,o,s)},vr;Ot&&typeof Ot.ownKeys=="function"?vr=Ot.ownKeys:Object.getOwnPropertySymbols?vr=function(i){return Object.getOwnPropertyNames(i).concat(Object.getOwnPropertySymbols(i))}:vr=function(i){return Object.getOwnPropertyNames(i)};function Il(n){console&&console.warn&&console.warn(n)}var Zu=Number.isNaN||function(i){return i!==i};function ie(){ie.init.call(this)}Oe.exports=ie,Oe.exports.once=Pl,ie.EventEmitter=ie,ie.prototype._events=void 0,ie.prototype._eventsCount=0,ie.prototype._maxListeners=void 0;var Xu=10;function _r(n){if(typeof n!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n)}Object.defineProperty(ie,"defaultMaxListeners",{enumerable:!0,get:function(){return Xu},set:function(n){if(typeof n!="number"||n<0||Zu(n))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+n+".");Xu=n}}),ie.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},ie.prototype.setMaxListeners=function(i){if(typeof i!="number"||i<0||Zu(i))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+i+".");return this._maxListeners=i,this};function Vu(n){return n._maxListeners===void 0?ie.defaultMaxListeners:n._maxListeners}ie.prototype.getMaxListeners=function(){return Vu(this)},ie.prototype.emit=function(i){for(var o=[],s=1;s<arguments.length;s++)o.push(arguments[s]);var l=i==="error",p=this._events;if(p!==void 0)l=l&&p.error===void 0;else if(!l)return!1;if(l){var d;if(o.length>0&&(d=o[0]),d instanceof Error)throw d;var y=new Error("Unhandled error."+(d?" ("+d.message+")":""));throw y.context=d,y}var m=p[i];if(m===void 0)return!1;if(typeof m=="function")Yu(m,this,o);else for(var b=m.length,O=rs(m,b),s=0;s<b;++s)Yu(O[s],this,o);return!0};function Qu(n,i,o,s){var l,p,d;if(_r(o),p=n._events,p===void 0?(p=n._events=Object.create(null),n._eventsCount=0):(p.newListener!==void 0&&(n.emit("newListener",i,o.listener?o.listener:o),p=n._events),d=p[i]),d===void 0)d=p[i]=o,++n._eventsCount;else if(typeof d=="function"?d=p[i]=s?[o,d]:[d,o]:s?d.unshift(o):d.push(o),l=Vu(n),l>0&&d.length>l&&!d.warned){d.warned=!0;var y=new Error("Possible EventEmitter memory leak detected. "+d.length+" "+String(i)+" listeners added. Use emitter.setMaxListeners() to increase limit");y.name="MaxListenersExceededWarning",y.emitter=n,y.type=i,y.count=d.length,Il(y)}return n}ie.prototype.addListener=function(i,o){return Qu(this,i,o,!1)},ie.prototype.on=ie.prototype.addListener,ie.prototype.prependListener=function(i,o){return Qu(this,i,o,!0)};function Tl(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function es(n,i,o){var s={fired:!1,wrapFn:void 0,target:n,type:i,listener:o},l=Tl.bind(s);return l.listener=o,s.wrapFn=l,l}ie.prototype.once=function(i,o){return _r(o),this.on(i,es(this,i,o)),this},ie.prototype.prependOnceListener=function(i,o){return _r(o),this.prependListener(i,es(this,i,o)),this},ie.prototype.removeListener=function(i,o){var s,l,p,d,y;if(_r(o),l=this._events,l===void 0)return this;if(s=l[i],s===void 0)return this;if(s===o||s.listener===o)--this._eventsCount===0?this._events=Object.create(null):(delete l[i],l.removeListener&&this.emit("removeListener",i,s.listener||o));else if(typeof s!="function"){for(p=-1,d=s.length-1;d>=0;d--)if(s[d]===o||s[d].listener===o){y=s[d].listener,p=d;break}if(p<0)return this;p===0?s.shift():Ll(s,p),s.length===1&&(l[i]=s[0]),l.removeListener!==void 0&&this.emit("removeListener",i,y||o)}return this},ie.prototype.off=ie.prototype.removeListener,ie.prototype.removeAllListeners=function(i){var o,s,l;if(s=this._events,s===void 0)return this;if(s.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):s[i]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete s[i]),this;if(arguments.length===0){var p=Object.keys(s),d;for(l=0;l<p.length;++l)d=p[l],d!=="removeListener"&&this.removeAllListeners(d);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(o=s[i],typeof o=="function")this.removeListener(i,o);else if(o!==void 0)for(l=o.length-1;l>=0;l--)this.removeListener(i,o[l]);return this};function ts(n,i,o){var s=n._events;if(s===void 0)return[];var l=s[i];return l===void 0?[]:typeof l=="function"?o?[l.listener||l]:[l]:o?Rl(l):rs(l,l.length)}ie.prototype.listeners=function(i){return ts(this,i,!0)},ie.prototype.rawListeners=function(i){return ts(this,i,!1)},ie.listenerCount=function(n,i){return typeof n.listenerCount=="function"?n.listenerCount(i):ns.call(n,i)},ie.prototype.listenerCount=ns;function ns(n){var i=this._events;if(i!==void 0){var o=i[n];if(typeof o=="function")return 1;if(o!==void 0)return o.length}return 0}ie.prototype.eventNames=function(){return this._eventsCount>0?vr(this._events):[]};function rs(n,i){for(var o=new Array(i),s=0;s<i;++s)o[s]=n[s];return o}function Ll(n,i){for(;i+1<n.length;i++)n[i]=n[i+1];n.pop()}function Rl(n){for(var i=new Array(n.length),o=0;o<i.length;++o)i[o]=n[o].listener||n[o];return i}function Pl(n,i){return new Promise(function(o,s){function l(d){n.removeListener(i,p),s(d)}function p(){typeof n.removeListener=="function"&&n.removeListener("error",l),o([].slice.call(arguments))}is(n,i,p,{once:!0}),i!=="error"&&Cl(n,l,{once:!0})})}function Cl(n,i,o){typeof n.on=="function"&&is(n,"error",i,o)}function is(n,i,o,s){if(typeof n.on=="function")s.once?n.once(i,o):n.on(i,o);else if(typeof n.addEventListener=="function")n.addEventListener(i,function l(p){s.once&&n.removeEventListener(i,l),o(p)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof n)}var Ml=Oe.exports;const os=()=>Fl(new Ml.EventEmitter),Fl=n=>({on:(i,o)=>(n.on(i,o),()=>{n.off(i,o)}),emit:i=>{n.emit("*",i),n.emit(i.type,i)}});var yr={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */yr.exports,function(n,i){(function(){var o,s="4.17.21",l=200,p="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",d="Expected a function",y="Invalid `variable` option passed into `_.template`",m="__lodash_hash_undefined__",b=500,O="__lodash_placeholder__",L=1,P=2,M=4,Y=1,de=2,j=1,ue=2,be=4,fe=8,Ee=16,Pe=32,xe=64,I=128,B=256,$=512,U=30,W="...",G=800,Ie=16,Ce=1,Tt=2,wn=3,le=1/0,pt=9007199254740991,jn=17976931348623157e292,nn=NaN,St=4294967295,pg=St-1,gg=St>>>1,vg=[["ary",I],["bind",j],["bindKey",ue],["curry",fe],["curryRight",Ee],["flip",$],["partial",Pe],["partialRight",xe],["rearg",B]],bn="[object Arguments]",Gr="[object Array]",_g="[object AsyncFunction]",kn="[object Boolean]",Yn="[object Date]",yg="[object DOMException]",Kr="[object Error]",qr="[object Function]",zf="[object GeneratorFunction]",gt="[object Map]",Zn="[object Number]",mg="[object Null]",Lt="[object Object]",Jf="[object Promise]",wg="[object Proxy]",Xn="[object RegExp]",vt="[object Set]",Vn="[object String]",Hr="[object Symbol]",bg="[object Undefined]",Qn="[object WeakMap]",Sg="[object WeakSet]",er="[object ArrayBuffer]",Sn="[object DataView]",To="[object Float32Array]",Lo="[object Float64Array]",Ro="[object Int8Array]",Po="[object Int16Array]",Co="[object Int32Array]",Mo="[object Uint8Array]",Fo="[object Uint8ClampedArray]",No="[object Uint16Array]",Do="[object Uint32Array]",Ag=/\b__p \+= '';/g,Eg=/\b(__p \+=) '' \+/g,xg=/(__e\(.*?\)|\b__t\)) \+\n'';/g,jf=/&(?:amp|lt|gt|quot|#39);/g,kf=/[&<>"']/g,Og=RegExp(jf.source),Ig=RegExp(kf.source),Tg=/<%-([\s\S]+?)%>/g,Lg=/<%([\s\S]+?)%>/g,Yf=/<%=([\s\S]+?)%>/g,Rg=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Pg=/^\w*$/,Cg=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,$o=/[\\^$.*+?()[\]{}|]/g,Mg=RegExp($o.source),Bo=/^\s+/,Fg=/\s/,Ng=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Dg=/\{\n\/\* \[wrapped with (.+)\] \*/,$g=/,? & /,Bg=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Wg=/[()=,{}\[\]\/\s]/,Ug=/\\(\\)?/g,Gg=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Zf=/\w*$/,Kg=/^[-+]0x[0-9a-f]+$/i,qg=/^0b[01]+$/i,Hg=/^\[object .+?Constructor\]$/,zg=/^0o[0-7]+$/i,Jg=/^(?:0|[1-9]\d*)$/,jg=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,zr=/($^)/,kg=/['\n\r\u2028\u2029\\]/g,Jr="\\ud800-\\udfff",Yg="\\u0300-\\u036f",Zg="\\ufe20-\\ufe2f",Xg="\\u20d0-\\u20ff",Xf=Yg+Zg+Xg,Vf="\\u2700-\\u27bf",Qf="a-z\\xdf-\\xf6\\xf8-\\xff",Vg="\\xac\\xb1\\xd7\\xf7",Qg="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ev="\\u2000-\\u206f",tv=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ea="A-Z\\xc0-\\xd6\\xd8-\\xde",ta="\\ufe0e\\ufe0f",na=Vg+Qg+ev+tv,Wo="['’]",nv="["+Jr+"]",ra="["+na+"]",jr="["+Xf+"]",ia="\\d+",rv="["+Vf+"]",oa="["+Qf+"]",ua="[^"+Jr+na+ia+Vf+Qf+ea+"]",Uo="\\ud83c[\\udffb-\\udfff]",iv="(?:"+jr+"|"+Uo+")",sa="[^"+Jr+"]",Go="(?:\\ud83c[\\udde6-\\uddff]){2}",Ko="[\\ud800-\\udbff][\\udc00-\\udfff]",An="["+ea+"]",fa="\\u200d",aa="(?:"+oa+"|"+ua+")",ov="(?:"+An+"|"+ua+")",ca="(?:"+Wo+"(?:d|ll|m|re|s|t|ve))?",la="(?:"+Wo+"(?:D|LL|M|RE|S|T|VE))?",ha=iv+"?",da="["+ta+"]?",uv="(?:"+fa+"(?:"+[sa,Go,Ko].join("|")+")"+da+ha+")*",sv="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",fv="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",pa=da+ha+uv,av="(?:"+[rv,Go,Ko].join("|")+")"+pa,cv="(?:"+[sa+jr+"?",jr,Go,Ko,nv].join("|")+")",lv=RegExp(Wo,"g"),hv=RegExp(jr,"g"),qo=RegExp(Uo+"(?="+Uo+")|"+cv+pa,"g"),dv=RegExp([An+"?"+oa+"+"+ca+"(?="+[ra,An,"$"].join("|")+")",ov+"+"+la+"(?="+[ra,An+aa,"$"].join("|")+")",An+"?"+aa+"+"+ca,An+"+"+la,fv,sv,ia,av].join("|"),"g"),pv=RegExp("["+fa+Jr+Xf+ta+"]"),gv=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,vv=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],_v=-1,pe={};pe[To]=pe[Lo]=pe[Ro]=pe[Po]=pe[Co]=pe[Mo]=pe[Fo]=pe[No]=pe[Do]=!0,pe[bn]=pe[Gr]=pe[er]=pe[kn]=pe[Sn]=pe[Yn]=pe[Kr]=pe[qr]=pe[gt]=pe[Zn]=pe[Lt]=pe[Xn]=pe[vt]=pe[Vn]=pe[Qn]=!1;var he={};he[bn]=he[Gr]=he[er]=he[Sn]=he[kn]=he[Yn]=he[To]=he[Lo]=he[Ro]=he[Po]=he[Co]=he[gt]=he[Zn]=he[Lt]=he[Xn]=he[vt]=he[Vn]=he[Hr]=he[Mo]=he[Fo]=he[No]=he[Do]=!0,he[Kr]=he[qr]=he[Qn]=!1;var yv={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},mv={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},wv={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},bv={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Sv=parseFloat,Av=parseInt,ga=typeof se=="object"&&se&&se.Object===Object&&se,Ev=typeof self=="object"&&self&&self.Object===Object&&self,Fe=ga||Ev||Function("return this")(),Ho=i&&!i.nodeType&&i,rn=Ho&&!0&&n&&!n.nodeType&&n,va=rn&&rn.exports===Ho,zo=va&&ga.process,it=function(){try{var v=rn&&rn.require&&rn.require("util").types;return v||zo&&zo.binding&&zo.binding("util")}catch{}}(),_a=it&&it.isArrayBuffer,ya=it&&it.isDate,ma=it&&it.isMap,wa=it&&it.isRegExp,ba=it&&it.isSet,Sa=it&&it.isTypedArray;function Ze(v,S,w){switch(w.length){case 0:return v.call(S);case 1:return v.call(S,w[0]);case 2:return v.call(S,w[0],w[1]);case 3:return v.call(S,w[0],w[1],w[2])}return v.apply(S,w)}function xv(v,S,w,R){for(var K=-1,te=v==null?0:v.length;++K<te;){var Te=v[K];S(R,Te,w(Te),v)}return R}function ot(v,S){for(var w=-1,R=v==null?0:v.length;++w<R&&S(v[w],w,v)!==!1;);return v}function Ov(v,S){for(var w=v==null?0:v.length;w--&&S(v[w],w,v)!==!1;);return v}function Aa(v,S){for(var w=-1,R=v==null?0:v.length;++w<R;)if(!S(v[w],w,v))return!1;return!0}function qt(v,S){for(var w=-1,R=v==null?0:v.length,K=0,te=[];++w<R;){var Te=v[w];S(Te,w,v)&&(te[K++]=Te)}return te}function kr(v,S){var w=v==null?0:v.length;return!!w&&En(v,S,0)>-1}function Jo(v,S,w){for(var R=-1,K=v==null?0:v.length;++R<K;)if(w(S,v[R]))return!0;return!1}function ge(v,S){for(var w=-1,R=v==null?0:v.length,K=Array(R);++w<R;)K[w]=S(v[w],w,v);return K}function Ht(v,S){for(var w=-1,R=S.length,K=v.length;++w<R;)v[K+w]=S[w];return v}function jo(v,S,w,R){var K=-1,te=v==null?0:v.length;for(R&&te&&(w=v[++K]);++K<te;)w=S(w,v[K],K,v);return w}function Iv(v,S,w,R){var K=v==null?0:v.length;for(R&&K&&(w=v[--K]);K--;)w=S(w,v[K],K,v);return w}function ko(v,S){for(var w=-1,R=v==null?0:v.length;++w<R;)if(S(v[w],w,v))return!0;return!1}var Tv=Yo("length");function Lv(v){return v.split("")}function Rv(v){return v.match(Bg)||[]}function Ea(v,S,w){var R;return w(v,function(K,te,Te){if(S(K,te,Te))return R=te,!1}),R}function Yr(v,S,w,R){for(var K=v.length,te=w+(R?1:-1);R?te--:++te<K;)if(S(v[te],te,v))return te;return-1}function En(v,S,w){return S===S?Kv(v,S,w):Yr(v,xa,w)}function Pv(v,S,w,R){for(var K=w-1,te=v.length;++K<te;)if(R(v[K],S))return K;return-1}function xa(v){return v!==v}function Oa(v,S){var w=v==null?0:v.length;return w?Xo(v,S)/w:nn}function Yo(v){return function(S){return S==null?o:S[v]}}function Zo(v){return function(S){return v==null?o:v[S]}}function Ia(v,S,w,R,K){return K(v,function(te,Te,ae){w=R?(R=!1,te):S(w,te,Te,ae)}),w}function Cv(v,S){var w=v.length;for(v.sort(S);w--;)v[w]=v[w].value;return v}function Xo(v,S){for(var w,R=-1,K=v.length;++R<K;){var te=S(v[R]);te!==o&&(w=w===o?te:w+te)}return w}function Vo(v,S){for(var w=-1,R=Array(v);++w<v;)R[w]=S(w);return R}function Mv(v,S){return ge(S,function(w){return[w,v[w]]})}function Ta(v){return v&&v.slice(0,Ca(v)+1).replace(Bo,"")}function Xe(v){return function(S){return v(S)}}function Qo(v,S){return ge(S,function(w){return v[w]})}function tr(v,S){return v.has(S)}function La(v,S){for(var w=-1,R=v.length;++w<R&&En(S,v[w],0)>-1;);return w}function Ra(v,S){for(var w=v.length;w--&&En(S,v[w],0)>-1;);return w}function Fv(v,S){for(var w=v.length,R=0;w--;)v[w]===S&&++R;return R}var Nv=Zo(yv),Dv=Zo(mv);function $v(v){return"\\"+bv[v]}function Bv(v,S){return v==null?o:v[S]}function xn(v){return pv.test(v)}function Wv(v){return gv.test(v)}function Uv(v){for(var S,w=[];!(S=v.next()).done;)w.push(S.value);return w}function eu(v){var S=-1,w=Array(v.size);return v.forEach(function(R,K){w[++S]=[K,R]}),w}function Pa(v,S){return function(w){return v(S(w))}}function zt(v,S){for(var w=-1,R=v.length,K=0,te=[];++w<R;){var Te=v[w];(Te===S||Te===O)&&(v[w]=O,te[K++]=w)}return te}function Zr(v){var S=-1,w=Array(v.size);return v.forEach(function(R){w[++S]=R}),w}function Gv(v){var S=-1,w=Array(v.size);return v.forEach(function(R){w[++S]=[R,R]}),w}function Kv(v,S,w){for(var R=w-1,K=v.length;++R<K;)if(v[R]===S)return R;return-1}function qv(v,S,w){for(var R=w+1;R--;)if(v[R]===S)return R;return R}function On(v){return xn(v)?zv(v):Tv(v)}function _t(v){return xn(v)?Jv(v):Lv(v)}function Ca(v){for(var S=v.length;S--&&Fg.test(v.charAt(S)););return S}var Hv=Zo(wv);function zv(v){for(var S=qo.lastIndex=0;qo.test(v);)++S;return S}function Jv(v){return v.match(qo)||[]}function jv(v){return v.match(dv)||[]}var kv=function v(S){S=S==null?Fe:In.defaults(Fe.Object(),S,In.pick(Fe,vv));var w=S.Array,R=S.Date,K=S.Error,te=S.Function,Te=S.Math,ae=S.Object,tu=S.RegExp,Yv=S.String,ut=S.TypeError,Xr=w.prototype,Zv=te.prototype,Tn=ae.prototype,Vr=S["__core-js_shared__"],Qr=Zv.toString,re=Tn.hasOwnProperty,Xv=0,Ma=function(){var e=/[^.]+$/.exec(Vr&&Vr.keys&&Vr.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),ei=Tn.toString,Vv=Qr.call(ae),Qv=Fe._,e_=tu("^"+Qr.call(re).replace($o,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ti=va?S.Buffer:o,Jt=S.Symbol,ni=S.Uint8Array,Fa=ti?ti.allocUnsafe:o,ri=Pa(ae.getPrototypeOf,ae),Na=ae.create,Da=Tn.propertyIsEnumerable,ii=Xr.splice,$a=Jt?Jt.isConcatSpreadable:o,nr=Jt?Jt.iterator:o,on=Jt?Jt.toStringTag:o,oi=function(){try{var e=cn(ae,"defineProperty");return e({},"",{}),e}catch{}}(),t_=S.clearTimeout!==Fe.clearTimeout&&S.clearTimeout,n_=R&&R.now!==Fe.Date.now&&R.now,r_=S.setTimeout!==Fe.setTimeout&&S.setTimeout,ui=Te.ceil,si=Te.floor,nu=ae.getOwnPropertySymbols,i_=ti?ti.isBuffer:o,Ba=S.isFinite,o_=Xr.join,u_=Pa(ae.keys,ae),Le=Te.max,De=Te.min,s_=R.now,f_=S.parseInt,Wa=Te.random,a_=Xr.reverse,ru=cn(S,"DataView"),rr=cn(S,"Map"),iu=cn(S,"Promise"),Ln=cn(S,"Set"),ir=cn(S,"WeakMap"),or=cn(ae,"create"),fi=ir&&new ir,Rn={},c_=ln(ru),l_=ln(rr),h_=ln(iu),d_=ln(Ln),p_=ln(ir),ai=Jt?Jt.prototype:o,ur=ai?ai.valueOf:o,Ua=ai?ai.toString:o;function a(e){if(me(e)&&!q(e)&&!(e instanceof X)){if(e instanceof st)return e;if(re.call(e,"__wrapped__"))return Gc(e)}return new st(e)}var Pn=function(){function e(){}return function(t){if(!_e(t))return{};if(Na)return Na(t);e.prototype=t;var r=new e;return e.prototype=o,r}}();function ci(){}function st(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=o}a.templateSettings={escape:Tg,evaluate:Lg,interpolate:Yf,variable:"",imports:{_:a}},a.prototype=ci.prototype,a.prototype.constructor=a,st.prototype=Pn(ci.prototype),st.prototype.constructor=st;function X(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=St,this.__views__=[]}function g_(){var e=new X(this.__wrapped__);return e.__actions__=Ke(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ke(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ke(this.__views__),e}function v_(){if(this.__filtered__){var e=new X(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function __(){var e=this.__wrapped__.value(),t=this.__dir__,r=q(e),u=t<0,f=r?e.length:0,c=L0(0,f,this.__views__),h=c.start,g=c.end,_=g-h,A=u?g:h-1,E=this.__iteratees__,x=E.length,T=0,C=De(_,this.__takeCount__);if(!r||!u&&f==_&&C==_)return cc(e,this.__actions__);var N=[];e:for(;_--&&T<C;){A+=t;for(var z=-1,D=e[A];++z<x;){var Z=E[z],V=Z.iteratee,et=Z.type,Ge=V(D);if(et==Tt)D=Ge;else if(!Ge){if(et==Ce)continue e;break e}}N[T++]=D}return N}X.prototype=Pn(ci.prototype),X.prototype.constructor=X;function un(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var u=e[t];this.set(u[0],u[1])}}function y_(){this.__data__=or?or(null):{},this.size=0}function m_(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function w_(e){var t=this.__data__;if(or){var r=t[e];return r===m?o:r}return re.call(t,e)?t[e]:o}function b_(e){var t=this.__data__;return or?t[e]!==o:re.call(t,e)}function S_(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=or&&t===o?m:t,this}un.prototype.clear=y_,un.prototype.delete=m_,un.prototype.get=w_,un.prototype.has=b_,un.prototype.set=S_;function Rt(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var u=e[t];this.set(u[0],u[1])}}function A_(){this.__data__=[],this.size=0}function E_(e){var t=this.__data__,r=li(t,e);if(r<0)return!1;var u=t.length-1;return r==u?t.pop():ii.call(t,r,1),--this.size,!0}function x_(e){var t=this.__data__,r=li(t,e);return r<0?o:t[r][1]}function O_(e){return li(this.__data__,e)>-1}function I_(e,t){var r=this.__data__,u=li(r,e);return u<0?(++this.size,r.push([e,t])):r[u][1]=t,this}Rt.prototype.clear=A_,Rt.prototype.delete=E_,Rt.prototype.get=x_,Rt.prototype.has=O_,Rt.prototype.set=I_;function Pt(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var u=e[t];this.set(u[0],u[1])}}function T_(){this.size=0,this.__data__={hash:new un,map:new(rr||Rt),string:new un}}function L_(e){var t=Ai(this,e).delete(e);return this.size-=t?1:0,t}function R_(e){return Ai(this,e).get(e)}function P_(e){return Ai(this,e).has(e)}function C_(e,t){var r=Ai(this,e),u=r.size;return r.set(e,t),this.size+=r.size==u?0:1,this}Pt.prototype.clear=T_,Pt.prototype.delete=L_,Pt.prototype.get=R_,Pt.prototype.has=P_,Pt.prototype.set=C_;function sn(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Pt;++t<r;)this.add(e[t])}function M_(e){return this.__data__.set(e,m),this}function F_(e){return this.__data__.has(e)}sn.prototype.add=sn.prototype.push=M_,sn.prototype.has=F_;function yt(e){var t=this.__data__=new Rt(e);this.size=t.size}function N_(){this.__data__=new Rt,this.size=0}function D_(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function $_(e){return this.__data__.get(e)}function B_(e){return this.__data__.has(e)}function W_(e,t){var r=this.__data__;if(r instanceof Rt){var u=r.__data__;if(!rr||u.length<l-1)return u.push([e,t]),this.size=++r.size,this;r=this.__data__=new Pt(u)}return r.set(e,t),this.size=r.size,this}yt.prototype.clear=N_,yt.prototype.delete=D_,yt.prototype.get=$_,yt.prototype.has=B_,yt.prototype.set=W_;function Ga(e,t){var r=q(e),u=!r&&hn(e),f=!r&&!u&&Xt(e),c=!r&&!u&&!f&&Nn(e),h=r||u||f||c,g=h?Vo(e.length,Yv):[],_=g.length;for(var A in e)(t||re.call(e,A))&&!(h&&(A=="length"||f&&(A=="offset"||A=="parent")||c&&(A=="buffer"||A=="byteLength"||A=="byteOffset")||Nt(A,_)))&&g.push(A);return g}function Ka(e){var t=e.length;return t?e[gu(0,t-1)]:o}function U_(e,t){return Ei(Ke(e),fn(t,0,e.length))}function G_(e){return Ei(Ke(e))}function ou(e,t,r){(r!==o&&!mt(e[t],r)||r===o&&!(t in e))&&Ct(e,t,r)}function sr(e,t,r){var u=e[t];(!(re.call(e,t)&&mt(u,r))||r===o&&!(t in e))&&Ct(e,t,r)}function li(e,t){for(var r=e.length;r--;)if(mt(e[r][0],t))return r;return-1}function K_(e,t,r,u){return jt(e,function(f,c,h){t(u,f,r(f),h)}),u}function qa(e,t){return e&&Et(t,Me(t),e)}function q_(e,t){return e&&Et(t,He(t),e)}function Ct(e,t,r){t=="__proto__"&&oi?oi(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function uu(e,t){for(var r=-1,u=t.length,f=w(u),c=e==null;++r<u;)f[r]=c?o:Uu(e,t[r]);return f}function fn(e,t,r){return e===e&&(r!==o&&(e=e<=r?e:r),t!==o&&(e=e>=t?e:t)),e}function ft(e,t,r,u,f,c){var h,g=t&L,_=t&P,A=t&M;if(r&&(h=f?r(e,u,f,c):r(e)),h!==o)return h;if(!_e(e))return e;var E=q(e);if(E){if(h=P0(e),!g)return Ke(e,h)}else{var x=$e(e),T=x==qr||x==zf;if(Xt(e))return dc(e,g);if(x==Lt||x==bn||T&&!f){if(h=_||T?{}:Cc(e),!g)return _?w0(e,q_(h,e)):m0(e,qa(h,e))}else{if(!he[x])return f?e:{};h=C0(e,x,g)}}c||(c=new yt);var C=c.get(e);if(C)return C;c.set(e,h),sl(e)?e.forEach(function(D){h.add(ft(D,t,r,D,e,c))}):ol(e)&&e.forEach(function(D,Z){h.set(Z,ft(D,t,r,Z,e,c))});var N=A?_?Ou:xu:_?He:Me,z=E?o:N(e);return ot(z||e,function(D,Z){z&&(Z=D,D=e[Z]),sr(h,Z,ft(D,t,r,Z,e,c))}),h}function H_(e){var t=Me(e);return function(r){return Ha(r,e,t)}}function Ha(e,t,r){var u=r.length;if(e==null)return!u;for(e=ae(e);u--;){var f=r[u],c=t[f],h=e[f];if(h===o&&!(f in e)||!c(h))return!1}return!0}function za(e,t,r){if(typeof e!="function")throw new ut(d);return pr(function(){e.apply(o,r)},t)}function fr(e,t,r,u){var f=-1,c=kr,h=!0,g=e.length,_=[],A=t.length;if(!g)return _;r&&(t=ge(t,Xe(r))),u?(c=Jo,h=!1):t.length>=l&&(c=tr,h=!1,t=new sn(t));e:for(;++f<g;){var E=e[f],x=r==null?E:r(E);if(E=u||E!==0?E:0,h&&x===x){for(var T=A;T--;)if(t[T]===x)continue e;_.push(E)}else c(t,x,u)||_.push(E)}return _}var jt=yc(At),Ja=yc(fu,!0);function z_(e,t){var r=!0;return jt(e,function(u,f,c){return r=!!t(u,f,c),r}),r}function hi(e,t,r){for(var u=-1,f=e.length;++u<f;){var c=e[u],h=t(c);if(h!=null&&(g===o?h===h&&!Qe(h):r(h,g)))var g=h,_=c}return _}function J_(e,t,r,u){var f=e.length;for(r=H(r),r<0&&(r=-r>f?0:f+r),u=u===o||u>f?f:H(u),u<0&&(u+=f),u=r>u?0:al(u);r<u;)e[r++]=t;return e}function ja(e,t){var r=[];return jt(e,function(u,f,c){t(u,f,c)&&r.push(u)}),r}function Ne(e,t,r,u,f){var c=-1,h=e.length;for(r||(r=F0),f||(f=[]);++c<h;){var g=e[c];t>0&&r(g)?t>1?Ne(g,t-1,r,u,f):Ht(f,g):u||(f[f.length]=g)}return f}var su=mc(),ka=mc(!0);function At(e,t){return e&&su(e,t,Me)}function fu(e,t){return e&&ka(e,t,Me)}function di(e,t){return qt(t,function(r){return Dt(e[r])})}function an(e,t){t=Yt(t,e);for(var r=0,u=t.length;e!=null&&r<u;)e=e[xt(t[r++])];return r&&r==u?e:o}function Ya(e,t,r){var u=t(e);return q(e)?u:Ht(u,r(e))}function We(e){return e==null?e===o?bg:mg:on&&on in ae(e)?T0(e):G0(e)}function au(e,t){return e>t}function j_(e,t){return e!=null&&re.call(e,t)}function k_(e,t){return e!=null&&t in ae(e)}function Y_(e,t,r){return e>=De(t,r)&&e<Le(t,r)}function cu(e,t,r){for(var u=r?Jo:kr,f=e[0].length,c=e.length,h=c,g=w(c),_=1/0,A=[];h--;){var E=e[h];h&&t&&(E=ge(E,Xe(t))),_=De(E.length,_),g[h]=!r&&(t||f>=120&&E.length>=120)?new sn(h&&E):o}E=e[0];var x=-1,T=g[0];e:for(;++x<f&&A.length<_;){var C=E[x],N=t?t(C):C;if(C=r||C!==0?C:0,!(T?tr(T,N):u(A,N,r))){for(h=c;--h;){var z=g[h];if(!(z?tr(z,N):u(e[h],N,r)))continue e}T&&T.push(N),A.push(C)}}return A}function Z_(e,t,r,u){return At(e,function(f,c,h){t(u,r(f),c,h)}),u}function ar(e,t,r){t=Yt(t,e),e=Dc(e,t);var u=e==null?e:e[xt(ct(t))];return u==null?o:Ze(u,e,r)}function Za(e){return me(e)&&We(e)==bn}function X_(e){return me(e)&&We(e)==er}function V_(e){return me(e)&&We(e)==Yn}function cr(e,t,r,u,f){return e===t?!0:e==null||t==null||!me(e)&&!me(t)?e!==e&&t!==t:Q_(e,t,r,u,cr,f)}function Q_(e,t,r,u,f,c){var h=q(e),g=q(t),_=h?Gr:$e(e),A=g?Gr:$e(t);_=_==bn?Lt:_,A=A==bn?Lt:A;var E=_==Lt,x=A==Lt,T=_==A;if(T&&Xt(e)){if(!Xt(t))return!1;h=!0,E=!1}if(T&&!E)return c||(c=new yt),h||Nn(e)?Lc(e,t,r,u,f,c):O0(e,t,_,r,u,f,c);if(!(r&Y)){var C=E&&re.call(e,"__wrapped__"),N=x&&re.call(t,"__wrapped__");if(C||N){var z=C?e.value():e,D=N?t.value():t;return c||(c=new yt),f(z,D,r,u,c)}}return T?(c||(c=new yt),I0(e,t,r,u,f,c)):!1}function e0(e){return me(e)&&$e(e)==gt}function lu(e,t,r,u){var f=r.length,c=f,h=!u;if(e==null)return!c;for(e=ae(e);f--;){var g=r[f];if(h&&g[2]?g[1]!==e[g[0]]:!(g[0]in e))return!1}for(;++f<c;){g=r[f];var _=g[0],A=e[_],E=g[1];if(h&&g[2]){if(A===o&&!(_ in e))return!1}else{var x=new yt;if(u)var T=u(A,E,_,e,t,x);if(!(T===o?cr(E,A,Y|de,u,x):T))return!1}}return!0}function Xa(e){if(!_e(e)||D0(e))return!1;var t=Dt(e)?e_:Hg;return t.test(ln(e))}function t0(e){return me(e)&&We(e)==Xn}function n0(e){return me(e)&&$e(e)==vt}function r0(e){return me(e)&&Ri(e.length)&&!!pe[We(e)]}function Va(e){return typeof e=="function"?e:e==null?ze:typeof e=="object"?q(e)?tc(e[0],e[1]):ec(e):wl(e)}function hu(e){if(!dr(e))return u_(e);var t=[];for(var r in ae(e))re.call(e,r)&&r!="constructor"&&t.push(r);return t}function i0(e){if(!_e(e))return U0(e);var t=dr(e),r=[];for(var u in e)u=="constructor"&&(t||!re.call(e,u))||r.push(u);return r}function du(e,t){return e<t}function Qa(e,t){var r=-1,u=qe(e)?w(e.length):[];return jt(e,function(f,c,h){u[++r]=t(f,c,h)}),u}function ec(e){var t=Tu(e);return t.length==1&&t[0][2]?Fc(t[0][0],t[0][1]):function(r){return r===e||lu(r,e,t)}}function tc(e,t){return Ru(e)&&Mc(t)?Fc(xt(e),t):function(r){var u=Uu(r,e);return u===o&&u===t?Gu(r,e):cr(t,u,Y|de)}}function pi(e,t,r,u,f){e!==t&&su(t,function(c,h){if(f||(f=new yt),_e(c))o0(e,t,h,r,pi,u,f);else{var g=u?u(Cu(e,h),c,h+"",e,t,f):o;g===o&&(g=c),ou(e,h,g)}},He)}function o0(e,t,r,u,f,c,h){var g=Cu(e,r),_=Cu(t,r),A=h.get(_);if(A){ou(e,r,A);return}var E=c?c(g,_,r+"",e,t,h):o,x=E===o;if(x){var T=q(_),C=!T&&Xt(_),N=!T&&!C&&Nn(_);E=_,T||C||N?q(g)?E=g:Se(g)?E=Ke(g):C?(x=!1,E=dc(_,!0)):N?(x=!1,E=pc(_,!0)):E=[]:gr(_)||hn(_)?(E=g,hn(g)?E=cl(g):(!_e(g)||Dt(g))&&(E=Cc(_))):x=!1}x&&(h.set(_,E),f(E,_,u,c,h),h.delete(_)),ou(e,r,E)}function nc(e,t){var r=e.length;if(r)return t+=t<0?r:0,Nt(t,r)?e[t]:o}function rc(e,t,r){t.length?t=ge(t,function(c){return q(c)?function(h){return an(h,c.length===1?c[0]:c)}:c}):t=[ze];var u=-1;t=ge(t,Xe(F()));var f=Qa(e,function(c,h,g){var _=ge(t,function(A){return A(c)});return{criteria:_,index:++u,value:c}});return Cv(f,function(c,h){return y0(c,h,r)})}function u0(e,t){return ic(e,t,function(r,u){return Gu(e,u)})}function ic(e,t,r){for(var u=-1,f=t.length,c={};++u<f;){var h=t[u],g=an(e,h);r(g,h)&&lr(c,Yt(h,e),g)}return c}function s0(e){return function(t){return an(t,e)}}function pu(e,t,r,u){var f=u?Pv:En,c=-1,h=t.length,g=e;for(e===t&&(t=Ke(t)),r&&(g=ge(e,Xe(r)));++c<h;)for(var _=0,A=t[c],E=r?r(A):A;(_=f(g,E,_,u))>-1;)g!==e&&ii.call(g,_,1),ii.call(e,_,1);return e}function oc(e,t){for(var r=e?t.length:0,u=r-1;r--;){var f=t[r];if(r==u||f!==c){var c=f;Nt(f)?ii.call(e,f,1):yu(e,f)}}return e}function gu(e,t){return e+si(Wa()*(t-e+1))}function f0(e,t,r,u){for(var f=-1,c=Le(ui((t-e)/(r||1)),0),h=w(c);c--;)h[u?c:++f]=e,e+=r;return h}function vu(e,t){var r="";if(!e||t<1||t>pt)return r;do t%2&&(r+=e),t=si(t/2),t&&(e+=e);while(t);return r}function J(e,t){return Mu(Nc(e,t,ze),e+"")}function a0(e){return Ka(Dn(e))}function c0(e,t){var r=Dn(e);return Ei(r,fn(t,0,r.length))}function lr(e,t,r,u){if(!_e(e))return e;t=Yt(t,e);for(var f=-1,c=t.length,h=c-1,g=e;g!=null&&++f<c;){var _=xt(t[f]),A=r;if(_==="__proto__"||_==="constructor"||_==="prototype")return e;if(f!=h){var E=g[_];A=u?u(E,_,g):o,A===o&&(A=_e(E)?E:Nt(t[f+1])?[]:{})}sr(g,_,A),g=g[_]}return e}var uc=fi?function(e,t){return fi.set(e,t),e}:ze,l0=oi?function(e,t){return oi(e,"toString",{configurable:!0,enumerable:!1,value:qu(t),writable:!0})}:ze;function h0(e){return Ei(Dn(e))}function at(e,t,r){var u=-1,f=e.length;t<0&&(t=-t>f?0:f+t),r=r>f?f:r,r<0&&(r+=f),f=t>r?0:r-t>>>0,t>>>=0;for(var c=w(f);++u<f;)c[u]=e[u+t];return c}function d0(e,t){var r;return jt(e,function(u,f,c){return r=t(u,f,c),!r}),!!r}function gi(e,t,r){var u=0,f=e==null?u:e.length;if(typeof t=="number"&&t===t&&f<=gg){for(;u<f;){var c=u+f>>>1,h=e[c];h!==null&&!Qe(h)&&(r?h<=t:h<t)?u=c+1:f=c}return f}return _u(e,t,ze,r)}function _u(e,t,r,u){var f=0,c=e==null?0:e.length;if(c===0)return 0;t=r(t);for(var h=t!==t,g=t===null,_=Qe(t),A=t===o;f<c;){var E=si((f+c)/2),x=r(e[E]),T=x!==o,C=x===null,N=x===x,z=Qe(x);if(h)var D=u||N;else A?D=N&&(u||T):g?D=N&&T&&(u||!C):_?D=N&&T&&!C&&(u||!z):C||z?D=!1:D=u?x<=t:x<t;D?f=E+1:c=E}return De(c,pg)}function sc(e,t){for(var r=-1,u=e.length,f=0,c=[];++r<u;){var h=e[r],g=t?t(h):h;if(!r||!mt(g,_)){var _=g;c[f++]=h===0?0:h}}return c}function fc(e){return typeof e=="number"?e:Qe(e)?nn:+e}function Ve(e){if(typeof e=="string")return e;if(q(e))return ge(e,Ve)+"";if(Qe(e))return Ua?Ua.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function kt(e,t,r){var u=-1,f=kr,c=e.length,h=!0,g=[],_=g;if(r)h=!1,f=Jo;else if(c>=l){var A=t?null:E0(e);if(A)return Zr(A);h=!1,f=tr,_=new sn}else _=t?[]:g;e:for(;++u<c;){var E=e[u],x=t?t(E):E;if(E=r||E!==0?E:0,h&&x===x){for(var T=_.length;T--;)if(_[T]===x)continue e;t&&_.push(x),g.push(E)}else f(_,x,r)||(_!==g&&_.push(x),g.push(E))}return g}function yu(e,t){return t=Yt(t,e),e=Dc(e,t),e==null||delete e[xt(ct(t))]}function ac(e,t,r,u){return lr(e,t,r(an(e,t)),u)}function vi(e,t,r,u){for(var f=e.length,c=u?f:-1;(u?c--:++c<f)&&t(e[c],c,e););return r?at(e,u?0:c,u?c+1:f):at(e,u?c+1:0,u?f:c)}function cc(e,t){var r=e;return r instanceof X&&(r=r.value()),jo(t,function(u,f){return f.func.apply(f.thisArg,Ht([u],f.args))},r)}function mu(e,t,r){var u=e.length;if(u<2)return u?kt(e[0]):[];for(var f=-1,c=w(u);++f<u;)for(var h=e[f],g=-1;++g<u;)g!=f&&(c[f]=fr(c[f]||h,e[g],t,r));return kt(Ne(c,1),t,r)}function lc(e,t,r){for(var u=-1,f=e.length,c=t.length,h={};++u<f;){var g=u<c?t[u]:o;r(h,e[u],g)}return h}function wu(e){return Se(e)?e:[]}function bu(e){return typeof e=="function"?e:ze}function Yt(e,t){return q(e)?e:Ru(e,t)?[e]:Uc(ne(e))}var p0=J;function Zt(e,t,r){var u=e.length;return r=r===o?u:r,!t&&r>=u?e:at(e,t,r)}var hc=t_||function(e){return Fe.clearTimeout(e)};function dc(e,t){if(t)return e.slice();var r=e.length,u=Fa?Fa(r):new e.constructor(r);return e.copy(u),u}function Su(e){var t=new e.constructor(e.byteLength);return new ni(t).set(new ni(e)),t}function g0(e,t){var r=t?Su(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}function v0(e){var t=new e.constructor(e.source,Zf.exec(e));return t.lastIndex=e.lastIndex,t}function _0(e){return ur?ae(ur.call(e)):{}}function pc(e,t){var r=t?Su(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function gc(e,t){if(e!==t){var r=e!==o,u=e===null,f=e===e,c=Qe(e),h=t!==o,g=t===null,_=t===t,A=Qe(t);if(!g&&!A&&!c&&e>t||c&&h&&_&&!g&&!A||u&&h&&_||!r&&_||!f)return 1;if(!u&&!c&&!A&&e<t||A&&r&&f&&!u&&!c||g&&r&&f||!h&&f||!_)return-1}return 0}function y0(e,t,r){for(var u=-1,f=e.criteria,c=t.criteria,h=f.length,g=r.length;++u<h;){var _=gc(f[u],c[u]);if(_){if(u>=g)return _;var A=r[u];return _*(A=="desc"?-1:1)}}return e.index-t.index}function vc(e,t,r,u){for(var f=-1,c=e.length,h=r.length,g=-1,_=t.length,A=Le(c-h,0),E=w(_+A),x=!u;++g<_;)E[g]=t[g];for(;++f<h;)(x||f<c)&&(E[r[f]]=e[f]);for(;A--;)E[g++]=e[f++];return E}function _c(e,t,r,u){for(var f=-1,c=e.length,h=-1,g=r.length,_=-1,A=t.length,E=Le(c-g,0),x=w(E+A),T=!u;++f<E;)x[f]=e[f];for(var C=f;++_<A;)x[C+_]=t[_];for(;++h<g;)(T||f<c)&&(x[C+r[h]]=e[f++]);return x}function Ke(e,t){var r=-1,u=e.length;for(t||(t=w(u));++r<u;)t[r]=e[r];return t}function Et(e,t,r,u){var f=!r;r||(r={});for(var c=-1,h=t.length;++c<h;){var g=t[c],_=u?u(r[g],e[g],g,r,e):o;_===o&&(_=e[g]),f?Ct(r,g,_):sr(r,g,_)}return r}function m0(e,t){return Et(e,Lu(e),t)}function w0(e,t){return Et(e,Rc(e),t)}function _i(e,t){return function(r,u){var f=q(r)?xv:K_,c=t?t():{};return f(r,e,F(u,2),c)}}function Cn(e){return J(function(t,r){var u=-1,f=r.length,c=f>1?r[f-1]:o,h=f>2?r[2]:o;for(c=e.length>3&&typeof c=="function"?(f--,c):o,h&&Ue(r[0],r[1],h)&&(c=f<3?o:c,f=1),t=ae(t);++u<f;){var g=r[u];g&&e(t,g,u,c)}return t})}function yc(e,t){return function(r,u){if(r==null)return r;if(!qe(r))return e(r,u);for(var f=r.length,c=t?f:-1,h=ae(r);(t?c--:++c<f)&&u(h[c],c,h)!==!1;);return r}}function mc(e){return function(t,r,u){for(var f=-1,c=ae(t),h=u(t),g=h.length;g--;){var _=h[e?g:++f];if(r(c[_],_,c)===!1)break}return t}}function b0(e,t,r){var u=t&j,f=hr(e);function c(){var h=this&&this!==Fe&&this instanceof c?f:e;return h.apply(u?r:this,arguments)}return c}function wc(e){return function(t){t=ne(t);var r=xn(t)?_t(t):o,u=r?r[0]:t.charAt(0),f=r?Zt(r,1).join(""):t.slice(1);return u[e]()+f}}function Mn(e){return function(t){return jo(yl(_l(t).replace(lv,"")),e,"")}}function hr(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=Pn(e.prototype),u=e.apply(r,t);return _e(u)?u:r}}function S0(e,t,r){var u=hr(e);function f(){for(var c=arguments.length,h=w(c),g=c,_=Fn(f);g--;)h[g]=arguments[g];var A=c<3&&h[0]!==_&&h[c-1]!==_?[]:zt(h,_);if(c-=A.length,c<r)return xc(e,t,yi,f.placeholder,o,h,A,o,o,r-c);var E=this&&this!==Fe&&this instanceof f?u:e;return Ze(E,this,h)}return f}function bc(e){return function(t,r,u){var f=ae(t);if(!qe(t)){var c=F(r,3);t=Me(t),r=function(g){return c(f[g],g,f)}}var h=e(t,r,u);return h>-1?f[c?t[h]:h]:o}}function Sc(e){return Ft(function(t){var r=t.length,u=r,f=st.prototype.thru;for(e&&t.reverse();u--;){var c=t[u];if(typeof c!="function")throw new ut(d);if(f&&!h&&Si(c)=="wrapper")var h=new st([],!0)}for(u=h?u:r;++u<r;){c=t[u];var g=Si(c),_=g=="wrapper"?Iu(c):o;_&&Pu(_[0])&&_[1]==(I|fe|Pe|B)&&!_[4].length&&_[9]==1?h=h[Si(_[0])].apply(h,_[3]):h=c.length==1&&Pu(c)?h[g]():h.thru(c)}return function(){var A=arguments,E=A[0];if(h&&A.length==1&&q(E))return h.plant(E).value();for(var x=0,T=r?t[x].apply(this,A):E;++x<r;)T=t[x].call(this,T);return T}})}function yi(e,t,r,u,f,c,h,g,_,A){var E=t&I,x=t&j,T=t&ue,C=t&(fe|Ee),N=t&$,z=T?o:hr(e);function D(){for(var Z=arguments.length,V=w(Z),et=Z;et--;)V[et]=arguments[et];if(C)var Ge=Fn(D),tt=Fv(V,Ge);if(u&&(V=vc(V,u,f,C)),c&&(V=_c(V,c,h,C)),Z-=tt,C&&Z<A){var Ae=zt(V,Ge);return xc(e,t,yi,D.placeholder,r,V,Ae,g,_,A-Z)}var wt=x?r:this,Bt=T?wt[e]:e;return Z=V.length,g?V=K0(V,g):N&&Z>1&&V.reverse(),E&&_<Z&&(V.length=_),this&&this!==Fe&&this instanceof D&&(Bt=z||hr(Bt)),Bt.apply(wt,V)}return D}function Ac(e,t){return function(r,u){return Z_(r,e,t(u),{})}}function mi(e,t){return function(r,u){var f;if(r===o&&u===o)return t;if(r!==o&&(f=r),u!==o){if(f===o)return u;typeof r=="string"||typeof u=="string"?(r=Ve(r),u=Ve(u)):(r=fc(r),u=fc(u)),f=e(r,u)}return f}}function Au(e){return Ft(function(t){return t=ge(t,Xe(F())),J(function(r){var u=this;return e(t,function(f){return Ze(f,u,r)})})})}function wi(e,t){t=t===o?" ":Ve(t);var r=t.length;if(r<2)return r?vu(t,e):t;var u=vu(t,ui(e/On(t)));return xn(t)?Zt(_t(u),0,e).join(""):u.slice(0,e)}function A0(e,t,r,u){var f=t&j,c=hr(e);function h(){for(var g=-1,_=arguments.length,A=-1,E=u.length,x=w(E+_),T=this&&this!==Fe&&this instanceof h?c:e;++A<E;)x[A]=u[A];for(;_--;)x[A++]=arguments[++g];return Ze(T,f?r:this,x)}return h}function Ec(e){return function(t,r,u){return u&&typeof u!="number"&&Ue(t,r,u)&&(r=u=o),t=$t(t),r===o?(r=t,t=0):r=$t(r),u=u===o?t<r?1:-1:$t(u),f0(t,r,u,e)}}function bi(e){return function(t,r){return typeof t=="string"&&typeof r=="string"||(t=lt(t),r=lt(r)),e(t,r)}}function xc(e,t,r,u,f,c,h,g,_,A){var E=t&fe,x=E?h:o,T=E?o:h,C=E?c:o,N=E?o:c;t|=E?Pe:xe,t&=~(E?xe:Pe),t&be||(t&=-4);var z=[e,t,f,C,x,N,T,g,_,A],D=r.apply(o,z);return Pu(e)&&$c(D,z),D.placeholder=u,Bc(D,e,t)}function Eu(e){var t=Te[e];return function(r,u){if(r=lt(r),u=u==null?0:De(H(u),292),u&&Ba(r)){var f=(ne(r)+"e").split("e"),c=t(f[0]+"e"+(+f[1]+u));return f=(ne(c)+"e").split("e"),+(f[0]+"e"+(+f[1]-u))}return t(r)}}var E0=Ln&&1/Zr(new Ln([,-0]))[1]==le?function(e){return new Ln(e)}:Ju;function Oc(e){return function(t){var r=$e(t);return r==gt?eu(t):r==vt?Gv(t):Mv(t,e(t))}}function Mt(e,t,r,u,f,c,h,g){var _=t&ue;if(!_&&typeof e!="function")throw new ut(d);var A=u?u.length:0;if(A||(t&=-97,u=f=o),h=h===o?h:Le(H(h),0),g=g===o?g:H(g),A-=f?f.length:0,t&xe){var E=u,x=f;u=f=o}var T=_?o:Iu(e),C=[e,t,r,u,f,E,x,c,h,g];if(T&&W0(C,T),e=C[0],t=C[1],r=C[2],u=C[3],f=C[4],g=C[9]=C[9]===o?_?0:e.length:Le(C[9]-A,0),!g&&t&(fe|Ee)&&(t&=-25),!t||t==j)var N=b0(e,t,r);else t==fe||t==Ee?N=S0(e,t,g):(t==Pe||t==(j|Pe))&&!f.length?N=A0(e,t,r,u):N=yi.apply(o,C);var z=T?uc:$c;return Bc(z(N,C),e,t)}function Ic(e,t,r,u){return e===o||mt(e,Tn[r])&&!re.call(u,r)?t:e}function Tc(e,t,r,u,f,c){return _e(e)&&_e(t)&&(c.set(t,e),pi(e,t,o,Tc,c),c.delete(t)),e}function x0(e){return gr(e)?o:e}function Lc(e,t,r,u,f,c){var h=r&Y,g=e.length,_=t.length;if(g!=_&&!(h&&_>g))return!1;var A=c.get(e),E=c.get(t);if(A&&E)return A==t&&E==e;var x=-1,T=!0,C=r&de?new sn:o;for(c.set(e,t),c.set(t,e);++x<g;){var N=e[x],z=t[x];if(u)var D=h?u(z,N,x,t,e,c):u(N,z,x,e,t,c);if(D!==o){if(D)continue;T=!1;break}if(C){if(!ko(t,function(Z,V){if(!tr(C,V)&&(N===Z||f(N,Z,r,u,c)))return C.push(V)})){T=!1;break}}else if(!(N===z||f(N,z,r,u,c))){T=!1;break}}return c.delete(e),c.delete(t),T}function O0(e,t,r,u,f,c,h){switch(r){case Sn:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case er:return!(e.byteLength!=t.byteLength||!c(new ni(e),new ni(t)));case kn:case Yn:case Zn:return mt(+e,+t);case Kr:return e.name==t.name&&e.message==t.message;case Xn:case Vn:return e==t+"";case gt:var g=eu;case vt:var _=u&Y;if(g||(g=Zr),e.size!=t.size&&!_)return!1;var A=h.get(e);if(A)return A==t;u|=de,h.set(e,t);var E=Lc(g(e),g(t),u,f,c,h);return h.delete(e),E;case Hr:if(ur)return ur.call(e)==ur.call(t)}return!1}function I0(e,t,r,u,f,c){var h=r&Y,g=xu(e),_=g.length,A=xu(t),E=A.length;if(_!=E&&!h)return!1;for(var x=_;x--;){var T=g[x];if(!(h?T in t:re.call(t,T)))return!1}var C=c.get(e),N=c.get(t);if(C&&N)return C==t&&N==e;var z=!0;c.set(e,t),c.set(t,e);for(var D=h;++x<_;){T=g[x];var Z=e[T],V=t[T];if(u)var et=h?u(V,Z,T,t,e,c):u(Z,V,T,e,t,c);if(!(et===o?Z===V||f(Z,V,r,u,c):et)){z=!1;break}D||(D=T=="constructor")}if(z&&!D){var Ge=e.constructor,tt=t.constructor;Ge!=tt&&"constructor"in e&&"constructor"in t&&!(typeof Ge=="function"&&Ge instanceof Ge&&typeof tt=="function"&&tt instanceof tt)&&(z=!1)}return c.delete(e),c.delete(t),z}function Ft(e){return Mu(Nc(e,o,Hc),e+"")}function xu(e){return Ya(e,Me,Lu)}function Ou(e){return Ya(e,He,Rc)}var Iu=fi?function(e){return fi.get(e)}:Ju;function Si(e){for(var t=e.name+"",r=Rn[t],u=re.call(Rn,t)?r.length:0;u--;){var f=r[u],c=f.func;if(c==null||c==e)return f.name}return t}function Fn(e){var t=re.call(a,"placeholder")?a:e;return t.placeholder}function F(){var e=a.iteratee||Hu;return e=e===Hu?Va:e,arguments.length?e(arguments[0],arguments[1]):e}function Ai(e,t){var r=e.__data__;return N0(t)?r[typeof t=="string"?"string":"hash"]:r.map}function Tu(e){for(var t=Me(e),r=t.length;r--;){var u=t[r],f=e[u];t[r]=[u,f,Mc(f)]}return t}function cn(e,t){var r=Bv(e,t);return Xa(r)?r:o}function T0(e){var t=re.call(e,on),r=e[on];try{e[on]=o;var u=!0}catch{}var f=ei.call(e);return u&&(t?e[on]=r:delete e[on]),f}var Lu=nu?function(e){return e==null?[]:(e=ae(e),qt(nu(e),function(t){return Da.call(e,t)}))}:ju,Rc=nu?function(e){for(var t=[];e;)Ht(t,Lu(e)),e=ri(e);return t}:ju,$e=We;(ru&&$e(new ru(new ArrayBuffer(1)))!=Sn||rr&&$e(new rr)!=gt||iu&&$e(iu.resolve())!=Jf||Ln&&$e(new Ln)!=vt||ir&&$e(new ir)!=Qn)&&($e=function(e){var t=We(e),r=t==Lt?e.constructor:o,u=r?ln(r):"";if(u)switch(u){case c_:return Sn;case l_:return gt;case h_:return Jf;case d_:return vt;case p_:return Qn}return t});function L0(e,t,r){for(var u=-1,f=r.length;++u<f;){var c=r[u],h=c.size;switch(c.type){case"drop":e+=h;break;case"dropRight":t-=h;break;case"take":t=De(t,e+h);break;case"takeRight":e=Le(e,t-h);break}}return{start:e,end:t}}function R0(e){var t=e.match(Dg);return t?t[1].split($g):[]}function Pc(e,t,r){t=Yt(t,e);for(var u=-1,f=t.length,c=!1;++u<f;){var h=xt(t[u]);if(!(c=e!=null&&r(e,h)))break;e=e[h]}return c||++u!=f?c:(f=e==null?0:e.length,!!f&&Ri(f)&&Nt(h,f)&&(q(e)||hn(e)))}function P0(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&re.call(e,"index")&&(r.index=e.index,r.input=e.input),r}function Cc(e){return typeof e.constructor=="function"&&!dr(e)?Pn(ri(e)):{}}function C0(e,t,r){var u=e.constructor;switch(t){case er:return Su(e);case kn:case Yn:return new u(+e);case Sn:return g0(e,r);case To:case Lo:case Ro:case Po:case Co:case Mo:case Fo:case No:case Do:return pc(e,r);case gt:return new u;case Zn:case Vn:return new u(e);case Xn:return v0(e);case vt:return new u;case Hr:return _0(e)}}function M0(e,t){var r=t.length;if(!r)return e;var u=r-1;return t[u]=(r>1?"& ":"")+t[u],t=t.join(r>2?", ":" "),e.replace(Ng,`{
/* [wrapped with `+t+`] */
`)}function F0(e){return q(e)||hn(e)||!!($a&&e&&e[$a])}function Nt(e,t){var r=typeof e;return t=t??pt,!!t&&(r=="number"||r!="symbol"&&Jg.test(e))&&e>-1&&e%1==0&&e<t}function Ue(e,t,r){if(!_e(r))return!1;var u=typeof t;return(u=="number"?qe(r)&&Nt(t,r.length):u=="string"&&t in r)?mt(r[t],e):!1}function Ru(e,t){if(q(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Qe(e)?!0:Pg.test(e)||!Rg.test(e)||t!=null&&e in ae(t)}function N0(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Pu(e){var t=Si(e),r=a[t];if(typeof r!="function"||!(t in X.prototype))return!1;if(e===r)return!0;var u=Iu(r);return!!u&&e===u[0]}function D0(e){return!!Ma&&Ma in e}var $0=Vr?Dt:ku;function dr(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Tn;return e===r}function Mc(e){return e===e&&!_e(e)}function Fc(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==o||e in ae(r))}}function B0(e){var t=Ti(e,function(u){return r.size===b&&r.clear(),u}),r=t.cache;return t}function W0(e,t){var r=e[1],u=t[1],f=r|u,c=f<(j|ue|I),h=u==I&&r==fe||u==I&&r==B&&e[7].length<=t[8]||u==(I|B)&&t[7].length<=t[8]&&r==fe;if(!(c||h))return e;u&j&&(e[2]=t[2],f|=r&j?0:be);var g=t[3];if(g){var _=e[3];e[3]=_?vc(_,g,t[4]):g,e[4]=_?zt(e[3],O):t[4]}return g=t[5],g&&(_=e[5],e[5]=_?_c(_,g,t[6]):g,e[6]=_?zt(e[5],O):t[6]),g=t[7],g&&(e[7]=g),u&I&&(e[8]=e[8]==null?t[8]:De(e[8],t[8])),e[9]==null&&(e[9]=t[9]),e[0]=t[0],e[1]=f,e}function U0(e){var t=[];if(e!=null)for(var r in ae(e))t.push(r);return t}function G0(e){return ei.call(e)}function Nc(e,t,r){return t=Le(t===o?e.length-1:t,0),function(){for(var u=arguments,f=-1,c=Le(u.length-t,0),h=w(c);++f<c;)h[f]=u[t+f];f=-1;for(var g=w(t+1);++f<t;)g[f]=u[f];return g[t]=r(h),Ze(e,this,g)}}function Dc(e,t){return t.length<2?e:an(e,at(t,0,-1))}function K0(e,t){for(var r=e.length,u=De(t.length,r),f=Ke(e);u--;){var c=t[u];e[u]=Nt(c,r)?f[c]:o}return e}function Cu(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var $c=Wc(uc),pr=r_||function(e,t){return Fe.setTimeout(e,t)},Mu=Wc(l0);function Bc(e,t,r){var u=t+"";return Mu(e,M0(u,q0(R0(u),r)))}function Wc(e){var t=0,r=0;return function(){var u=s_(),f=Ie-(u-r);if(r=u,f>0){if(++t>=G)return arguments[0]}else t=0;return e.apply(o,arguments)}}function Ei(e,t){var r=-1,u=e.length,f=u-1;for(t=t===o?u:t;++r<t;){var c=gu(r,f),h=e[c];e[c]=e[r],e[r]=h}return e.length=t,e}var Uc=B0(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Cg,function(r,u,f,c){t.push(f?c.replace(Ug,"$1"):u||r)}),t});function xt(e){if(typeof e=="string"||Qe(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function ln(e){if(e!=null){try{return Qr.call(e)}catch{}try{return e+""}catch{}}return""}function q0(e,t){return ot(vg,function(r){var u="_."+r[0];t&r[1]&&!kr(e,u)&&e.push(u)}),e.sort()}function Gc(e){if(e instanceof X)return e.clone();var t=new st(e.__wrapped__,e.__chain__);return t.__actions__=Ke(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function H0(e,t,r){(r?Ue(e,t,r):t===o)?t=1:t=Le(H(t),0);var u=e==null?0:e.length;if(!u||t<1)return[];for(var f=0,c=0,h=w(ui(u/t));f<u;)h[c++]=at(e,f,f+=t);return h}function z0(e){for(var t=-1,r=e==null?0:e.length,u=0,f=[];++t<r;){var c=e[t];c&&(f[u++]=c)}return f}function J0(){var e=arguments.length;if(!e)return[];for(var t=w(e-1),r=arguments[0],u=e;u--;)t[u-1]=arguments[u];return Ht(q(r)?Ke(r):[r],Ne(t,1))}var j0=J(function(e,t){return Se(e)?fr(e,Ne(t,1,Se,!0)):[]}),k0=J(function(e,t){var r=ct(t);return Se(r)&&(r=o),Se(e)?fr(e,Ne(t,1,Se,!0),F(r,2)):[]}),Y0=J(function(e,t){var r=ct(t);return Se(r)&&(r=o),Se(e)?fr(e,Ne(t,1,Se,!0),o,r):[]});function Z0(e,t,r){var u=e==null?0:e.length;return u?(t=r||t===o?1:H(t),at(e,t<0?0:t,u)):[]}function X0(e,t,r){var u=e==null?0:e.length;return u?(t=r||t===o?1:H(t),t=u-t,at(e,0,t<0?0:t)):[]}function V0(e,t){return e&&e.length?vi(e,F(t,3),!0,!0):[]}function Q0(e,t){return e&&e.length?vi(e,F(t,3),!0):[]}function ey(e,t,r,u){var f=e==null?0:e.length;return f?(r&&typeof r!="number"&&Ue(e,t,r)&&(r=0,u=f),J_(e,t,r,u)):[]}function Kc(e,t,r){var u=e==null?0:e.length;if(!u)return-1;var f=r==null?0:H(r);return f<0&&(f=Le(u+f,0)),Yr(e,F(t,3),f)}function qc(e,t,r){var u=e==null?0:e.length;if(!u)return-1;var f=u-1;return r!==o&&(f=H(r),f=r<0?Le(u+f,0):De(f,u-1)),Yr(e,F(t,3),f,!0)}function Hc(e){var t=e==null?0:e.length;return t?Ne(e,1):[]}function ty(e){var t=e==null?0:e.length;return t?Ne(e,le):[]}function ny(e,t){var r=e==null?0:e.length;return r?(t=t===o?1:H(t),Ne(e,t)):[]}function ry(e){for(var t=-1,r=e==null?0:e.length,u={};++t<r;){var f=e[t];u[f[0]]=f[1]}return u}function zc(e){return e&&e.length?e[0]:o}function iy(e,t,r){var u=e==null?0:e.length;if(!u)return-1;var f=r==null?0:H(r);return f<0&&(f=Le(u+f,0)),En(e,t,f)}function oy(e){var t=e==null?0:e.length;return t?at(e,0,-1):[]}var uy=J(function(e){var t=ge(e,wu);return t.length&&t[0]===e[0]?cu(t):[]}),sy=J(function(e){var t=ct(e),r=ge(e,wu);return t===ct(r)?t=o:r.pop(),r.length&&r[0]===e[0]?cu(r,F(t,2)):[]}),fy=J(function(e){var t=ct(e),r=ge(e,wu);return t=typeof t=="function"?t:o,t&&r.pop(),r.length&&r[0]===e[0]?cu(r,o,t):[]});function ay(e,t){return e==null?"":o_.call(e,t)}function ct(e){var t=e==null?0:e.length;return t?e[t-1]:o}function cy(e,t,r){var u=e==null?0:e.length;if(!u)return-1;var f=u;return r!==o&&(f=H(r),f=f<0?Le(u+f,0):De(f,u-1)),t===t?qv(e,t,f):Yr(e,xa,f,!0)}function ly(e,t){return e&&e.length?nc(e,H(t)):o}var hy=J(Jc);function Jc(e,t){return e&&e.length&&t&&t.length?pu(e,t):e}function dy(e,t,r){return e&&e.length&&t&&t.length?pu(e,t,F(r,2)):e}function py(e,t,r){return e&&e.length&&t&&t.length?pu(e,t,o,r):e}var gy=Ft(function(e,t){var r=e==null?0:e.length,u=uu(e,t);return oc(e,ge(t,function(f){return Nt(f,r)?+f:f}).sort(gc)),u});function vy(e,t){var r=[];if(!(e&&e.length))return r;var u=-1,f=[],c=e.length;for(t=F(t,3);++u<c;){var h=e[u];t(h,u,e)&&(r.push(h),f.push(u))}return oc(e,f),r}function Fu(e){return e==null?e:a_.call(e)}function _y(e,t,r){var u=e==null?0:e.length;return u?(r&&typeof r!="number"&&Ue(e,t,r)?(t=0,r=u):(t=t==null?0:H(t),r=r===o?u:H(r)),at(e,t,r)):[]}function yy(e,t){return gi(e,t)}function my(e,t,r){return _u(e,t,F(r,2))}function wy(e,t){var r=e==null?0:e.length;if(r){var u=gi(e,t);if(u<r&&mt(e[u],t))return u}return-1}function by(e,t){return gi(e,t,!0)}function Sy(e,t,r){return _u(e,t,F(r,2),!0)}function Ay(e,t){var r=e==null?0:e.length;if(r){var u=gi(e,t,!0)-1;if(mt(e[u],t))return u}return-1}function Ey(e){return e&&e.length?sc(e):[]}function xy(e,t){return e&&e.length?sc(e,F(t,2)):[]}function Oy(e){var t=e==null?0:e.length;return t?at(e,1,t):[]}function Iy(e,t,r){return e&&e.length?(t=r||t===o?1:H(t),at(e,0,t<0?0:t)):[]}function Ty(e,t,r){var u=e==null?0:e.length;return u?(t=r||t===o?1:H(t),t=u-t,at(e,t<0?0:t,u)):[]}function Ly(e,t){return e&&e.length?vi(e,F(t,3),!1,!0):[]}function Ry(e,t){return e&&e.length?vi(e,F(t,3)):[]}var Py=J(function(e){return kt(Ne(e,1,Se,!0))}),Cy=J(function(e){var t=ct(e);return Se(t)&&(t=o),kt(Ne(e,1,Se,!0),F(t,2))}),My=J(function(e){var t=ct(e);return t=typeof t=="function"?t:o,kt(Ne(e,1,Se,!0),o,t)});function Fy(e){return e&&e.length?kt(e):[]}function Ny(e,t){return e&&e.length?kt(e,F(t,2)):[]}function Dy(e,t){return t=typeof t=="function"?t:o,e&&e.length?kt(e,o,t):[]}function Nu(e){if(!(e&&e.length))return[];var t=0;return e=qt(e,function(r){if(Se(r))return t=Le(r.length,t),!0}),Vo(t,function(r){return ge(e,Yo(r))})}function jc(e,t){if(!(e&&e.length))return[];var r=Nu(e);return t==null?r:ge(r,function(u){return Ze(t,o,u)})}var $y=J(function(e,t){return Se(e)?fr(e,t):[]}),By=J(function(e){return mu(qt(e,Se))}),Wy=J(function(e){var t=ct(e);return Se(t)&&(t=o),mu(qt(e,Se),F(t,2))}),Uy=J(function(e){var t=ct(e);return t=typeof t=="function"?t:o,mu(qt(e,Se),o,t)}),Gy=J(Nu);function Ky(e,t){return lc(e||[],t||[],sr)}function qy(e,t){return lc(e||[],t||[],lr)}var Hy=J(function(e){var t=e.length,r=t>1?e[t-1]:o;return r=typeof r=="function"?(e.pop(),r):o,jc(e,r)});function kc(e){var t=a(e);return t.__chain__=!0,t}function zy(e,t){return t(e),e}function xi(e,t){return t(e)}var Jy=Ft(function(e){var t=e.length,r=t?e[0]:0,u=this.__wrapped__,f=function(c){return uu(c,e)};return t>1||this.__actions__.length||!(u instanceof X)||!Nt(r)?this.thru(f):(u=u.slice(r,+r+(t?1:0)),u.__actions__.push({func:xi,args:[f],thisArg:o}),new st(u,this.__chain__).thru(function(c){return t&&!c.length&&c.push(o),c}))});function jy(){return kc(this)}function ky(){return new st(this.value(),this.__chain__)}function Yy(){this.__values__===o&&(this.__values__=fl(this.value()));var e=this.__index__>=this.__values__.length,t=e?o:this.__values__[this.__index__++];return{done:e,value:t}}function Zy(){return this}function Xy(e){for(var t,r=this;r instanceof ci;){var u=Gc(r);u.__index__=0,u.__values__=o,t?f.__wrapped__=u:t=u;var f=u;r=r.__wrapped__}return f.__wrapped__=e,t}function Vy(){var e=this.__wrapped__;if(e instanceof X){var t=e;return this.__actions__.length&&(t=new X(this)),t=t.reverse(),t.__actions__.push({func:xi,args:[Fu],thisArg:o}),new st(t,this.__chain__)}return this.thru(Fu)}function Qy(){return cc(this.__wrapped__,this.__actions__)}var em=_i(function(e,t,r){re.call(e,r)?++e[r]:Ct(e,r,1)});function tm(e,t,r){var u=q(e)?Aa:z_;return r&&Ue(e,t,r)&&(t=o),u(e,F(t,3))}function nm(e,t){var r=q(e)?qt:ja;return r(e,F(t,3))}var rm=bc(Kc),im=bc(qc);function om(e,t){return Ne(Oi(e,t),1)}function um(e,t){return Ne(Oi(e,t),le)}function sm(e,t,r){return r=r===o?1:H(r),Ne(Oi(e,t),r)}function Yc(e,t){var r=q(e)?ot:jt;return r(e,F(t,3))}function Zc(e,t){var r=q(e)?Ov:Ja;return r(e,F(t,3))}var fm=_i(function(e,t,r){re.call(e,r)?e[r].push(t):Ct(e,r,[t])});function am(e,t,r,u){e=qe(e)?e:Dn(e),r=r&&!u?H(r):0;var f=e.length;return r<0&&(r=Le(f+r,0)),Pi(e)?r<=f&&e.indexOf(t,r)>-1:!!f&&En(e,t,r)>-1}var cm=J(function(e,t,r){var u=-1,f=typeof t=="function",c=qe(e)?w(e.length):[];return jt(e,function(h){c[++u]=f?Ze(t,h,r):ar(h,t,r)}),c}),lm=_i(function(e,t,r){Ct(e,r,t)});function Oi(e,t){var r=q(e)?ge:Qa;return r(e,F(t,3))}function hm(e,t,r,u){return e==null?[]:(q(t)||(t=t==null?[]:[t]),r=u?o:r,q(r)||(r=r==null?[]:[r]),rc(e,t,r))}var dm=_i(function(e,t,r){e[r?0:1].push(t)},function(){return[[],[]]});function pm(e,t,r){var u=q(e)?jo:Ia,f=arguments.length<3;return u(e,F(t,4),r,f,jt)}function gm(e,t,r){var u=q(e)?Iv:Ia,f=arguments.length<3;return u(e,F(t,4),r,f,Ja)}function vm(e,t){var r=q(e)?qt:ja;return r(e,Li(F(t,3)))}function _m(e){var t=q(e)?Ka:a0;return t(e)}function ym(e,t,r){(r?Ue(e,t,r):t===o)?t=1:t=H(t);var u=q(e)?U_:c0;return u(e,t)}function mm(e){var t=q(e)?G_:h0;return t(e)}function wm(e){if(e==null)return 0;if(qe(e))return Pi(e)?On(e):e.length;var t=$e(e);return t==gt||t==vt?e.size:hu(e).length}function bm(e,t,r){var u=q(e)?ko:d0;return r&&Ue(e,t,r)&&(t=o),u(e,F(t,3))}var Sm=J(function(e,t){if(e==null)return[];var r=t.length;return r>1&&Ue(e,t[0],t[1])?t=[]:r>2&&Ue(t[0],t[1],t[2])&&(t=[t[0]]),rc(e,Ne(t,1),[])}),Ii=n_||function(){return Fe.Date.now()};function Am(e,t){if(typeof t!="function")throw new ut(d);return e=H(e),function(){if(--e<1)return t.apply(this,arguments)}}function Xc(e,t,r){return t=r?o:t,t=e&&t==null?e.length:t,Mt(e,I,o,o,o,o,t)}function Vc(e,t){var r;if(typeof t!="function")throw new ut(d);return e=H(e),function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=o),r}}var Du=J(function(e,t,r){var u=j;if(r.length){var f=zt(r,Fn(Du));u|=Pe}return Mt(e,u,t,r,f)}),Qc=J(function(e,t,r){var u=j|ue;if(r.length){var f=zt(r,Fn(Qc));u|=Pe}return Mt(t,u,e,r,f)});function el(e,t,r){t=r?o:t;var u=Mt(e,fe,o,o,o,o,o,t);return u.placeholder=el.placeholder,u}function tl(e,t,r){t=r?o:t;var u=Mt(e,Ee,o,o,o,o,o,t);return u.placeholder=tl.placeholder,u}function nl(e,t,r){var u,f,c,h,g,_,A=0,E=!1,x=!1,T=!0;if(typeof e!="function")throw new ut(d);t=lt(t)||0,_e(r)&&(E=!!r.leading,x="maxWait"in r,c=x?Le(lt(r.maxWait)||0,t):c,T="trailing"in r?!!r.trailing:T);function C(Ae){var wt=u,Bt=f;return u=f=o,A=Ae,h=e.apply(Bt,wt),h}function N(Ae){return A=Ae,g=pr(Z,t),E?C(Ae):h}function z(Ae){var wt=Ae-_,Bt=Ae-A,bl=t-wt;return x?De(bl,c-Bt):bl}function D(Ae){var wt=Ae-_,Bt=Ae-A;return _===o||wt>=t||wt<0||x&&Bt>=c}function Z(){var Ae=Ii();if(D(Ae))return V(Ae);g=pr(Z,z(Ae))}function V(Ae){return g=o,T&&u?C(Ae):(u=f=o,h)}function et(){g!==o&&hc(g),A=0,u=_=f=g=o}function Ge(){return g===o?h:V(Ii())}function tt(){var Ae=Ii(),wt=D(Ae);if(u=arguments,f=this,_=Ae,wt){if(g===o)return N(_);if(x)return hc(g),g=pr(Z,t),C(_)}return g===o&&(g=pr(Z,t)),h}return tt.cancel=et,tt.flush=Ge,tt}var Em=J(function(e,t){return za(e,1,t)}),xm=J(function(e,t,r){return za(e,lt(t)||0,r)});function Om(e){return Mt(e,$)}function Ti(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new ut(d);var r=function(){var u=arguments,f=t?t.apply(this,u):u[0],c=r.cache;if(c.has(f))return c.get(f);var h=e.apply(this,u);return r.cache=c.set(f,h)||c,h};return r.cache=new(Ti.Cache||Pt),r}Ti.Cache=Pt;function Li(e){if(typeof e!="function")throw new ut(d);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function Im(e){return Vc(2,e)}var Tm=p0(function(e,t){t=t.length==1&&q(t[0])?ge(t[0],Xe(F())):ge(Ne(t,1),Xe(F()));var r=t.length;return J(function(u){for(var f=-1,c=De(u.length,r);++f<c;)u[f]=t[f].call(this,u[f]);return Ze(e,this,u)})}),$u=J(function(e,t){var r=zt(t,Fn($u));return Mt(e,Pe,o,t,r)}),rl=J(function(e,t){var r=zt(t,Fn(rl));return Mt(e,xe,o,t,r)}),Lm=Ft(function(e,t){return Mt(e,B,o,o,o,t)});function Rm(e,t){if(typeof e!="function")throw new ut(d);return t=t===o?t:H(t),J(e,t)}function Pm(e,t){if(typeof e!="function")throw new ut(d);return t=t==null?0:Le(H(t),0),J(function(r){var u=r[t],f=Zt(r,0,t);return u&&Ht(f,u),Ze(e,this,f)})}function Cm(e,t,r){var u=!0,f=!0;if(typeof e!="function")throw new ut(d);return _e(r)&&(u="leading"in r?!!r.leading:u,f="trailing"in r?!!r.trailing:f),nl(e,t,{leading:u,maxWait:t,trailing:f})}function Mm(e){return Xc(e,1)}function Fm(e,t){return $u(bu(t),e)}function Nm(){if(!arguments.length)return[];var e=arguments[0];return q(e)?e:[e]}function Dm(e){return ft(e,M)}function $m(e,t){return t=typeof t=="function"?t:o,ft(e,M,t)}function Bm(e){return ft(e,L|M)}function Wm(e,t){return t=typeof t=="function"?t:o,ft(e,L|M,t)}function Um(e,t){return t==null||Ha(e,t,Me(t))}function mt(e,t){return e===t||e!==e&&t!==t}var Gm=bi(au),Km=bi(function(e,t){return e>=t}),hn=Za(function(){return arguments}())?Za:function(e){return me(e)&&re.call(e,"callee")&&!Da.call(e,"callee")},q=w.isArray,qm=_a?Xe(_a):X_;function qe(e){return e!=null&&Ri(e.length)&&!Dt(e)}function Se(e){return me(e)&&qe(e)}function Hm(e){return e===!0||e===!1||me(e)&&We(e)==kn}var Xt=i_||ku,zm=ya?Xe(ya):V_;function Jm(e){return me(e)&&e.nodeType===1&&!gr(e)}function jm(e){if(e==null)return!0;if(qe(e)&&(q(e)||typeof e=="string"||typeof e.splice=="function"||Xt(e)||Nn(e)||hn(e)))return!e.length;var t=$e(e);if(t==gt||t==vt)return!e.size;if(dr(e))return!hu(e).length;for(var r in e)if(re.call(e,r))return!1;return!0}function km(e,t){return cr(e,t)}function Ym(e,t,r){r=typeof r=="function"?r:o;var u=r?r(e,t):o;return u===o?cr(e,t,o,r):!!u}function Bu(e){if(!me(e))return!1;var t=We(e);return t==Kr||t==yg||typeof e.message=="string"&&typeof e.name=="string"&&!gr(e)}function Zm(e){return typeof e=="number"&&Ba(e)}function Dt(e){if(!_e(e))return!1;var t=We(e);return t==qr||t==zf||t==_g||t==wg}function il(e){return typeof e=="number"&&e==H(e)}function Ri(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=pt}function _e(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function me(e){return e!=null&&typeof e=="object"}var ol=ma?Xe(ma):e0;function Xm(e,t){return e===t||lu(e,t,Tu(t))}function Vm(e,t,r){return r=typeof r=="function"?r:o,lu(e,t,Tu(t),r)}function Qm(e){return ul(e)&&e!=+e}function e1(e){if($0(e))throw new K(p);return Xa(e)}function t1(e){return e===null}function n1(e){return e==null}function ul(e){return typeof e=="number"||me(e)&&We(e)==Zn}function gr(e){if(!me(e)||We(e)!=Lt)return!1;var t=ri(e);if(t===null)return!0;var r=re.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&Qr.call(r)==Vv}var Wu=wa?Xe(wa):t0;function r1(e){return il(e)&&e>=-9007199254740991&&e<=pt}var sl=ba?Xe(ba):n0;function Pi(e){return typeof e=="string"||!q(e)&&me(e)&&We(e)==Vn}function Qe(e){return typeof e=="symbol"||me(e)&&We(e)==Hr}var Nn=Sa?Xe(Sa):r0;function i1(e){return e===o}function o1(e){return me(e)&&$e(e)==Qn}function u1(e){return me(e)&&We(e)==Sg}var s1=bi(du),f1=bi(function(e,t){return e<=t});function fl(e){if(!e)return[];if(qe(e))return Pi(e)?_t(e):Ke(e);if(nr&&e[nr])return Uv(e[nr]());var t=$e(e),r=t==gt?eu:t==vt?Zr:Dn;return r(e)}function $t(e){if(!e)return e===0?e:0;if(e=lt(e),e===le||e===-1/0){var t=e<0?-1:1;return t*jn}return e===e?e:0}function H(e){var t=$t(e),r=t%1;return t===t?r?t-r:t:0}function al(e){return e?fn(H(e),0,St):0}function lt(e){if(typeof e=="number")return e;if(Qe(e))return nn;if(_e(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=_e(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Ta(e);var r=qg.test(e);return r||zg.test(e)?Av(e.slice(2),r?2:8):Kg.test(e)?nn:+e}function cl(e){return Et(e,He(e))}function a1(e){return e?fn(H(e),-9007199254740991,pt):e===0?e:0}function ne(e){return e==null?"":Ve(e)}var c1=Cn(function(e,t){if(dr(t)||qe(t)){Et(t,Me(t),e);return}for(var r in t)re.call(t,r)&&sr(e,r,t[r])}),ll=Cn(function(e,t){Et(t,He(t),e)}),Ci=Cn(function(e,t,r,u){Et(t,He(t),e,u)}),l1=Cn(function(e,t,r,u){Et(t,Me(t),e,u)}),h1=Ft(uu);function d1(e,t){var r=Pn(e);return t==null?r:qa(r,t)}var p1=J(function(e,t){e=ae(e);var r=-1,u=t.length,f=u>2?t[2]:o;for(f&&Ue(t[0],t[1],f)&&(u=1);++r<u;)for(var c=t[r],h=He(c),g=-1,_=h.length;++g<_;){var A=h[g],E=e[A];(E===o||mt(E,Tn[A])&&!re.call(e,A))&&(e[A]=c[A])}return e}),g1=J(function(e){return e.push(o,Tc),Ze(hl,o,e)});function v1(e,t){return Ea(e,F(t,3),At)}function _1(e,t){return Ea(e,F(t,3),fu)}function y1(e,t){return e==null?e:su(e,F(t,3),He)}function m1(e,t){return e==null?e:ka(e,F(t,3),He)}function w1(e,t){return e&&At(e,F(t,3))}function b1(e,t){return e&&fu(e,F(t,3))}function S1(e){return e==null?[]:di(e,Me(e))}function A1(e){return e==null?[]:di(e,He(e))}function Uu(e,t,r){var u=e==null?o:an(e,t);return u===o?r:u}function E1(e,t){return e!=null&&Pc(e,t,j_)}function Gu(e,t){return e!=null&&Pc(e,t,k_)}var x1=Ac(function(e,t,r){t!=null&&typeof t.toString!="function"&&(t=ei.call(t)),e[t]=r},qu(ze)),O1=Ac(function(e,t,r){t!=null&&typeof t.toString!="function"&&(t=ei.call(t)),re.call(e,t)?e[t].push(r):e[t]=[r]},F),I1=J(ar);function Me(e){return qe(e)?Ga(e):hu(e)}function He(e){return qe(e)?Ga(e,!0):i0(e)}function T1(e,t){var r={};return t=F(t,3),At(e,function(u,f,c){Ct(r,t(u,f,c),u)}),r}function L1(e,t){var r={};return t=F(t,3),At(e,function(u,f,c){Ct(r,f,t(u,f,c))}),r}var R1=Cn(function(e,t,r){pi(e,t,r)}),hl=Cn(function(e,t,r,u){pi(e,t,r,u)}),P1=Ft(function(e,t){var r={};if(e==null)return r;var u=!1;t=ge(t,function(c){return c=Yt(c,e),u||(u=c.length>1),c}),Et(e,Ou(e),r),u&&(r=ft(r,L|P|M,x0));for(var f=t.length;f--;)yu(r,t[f]);return r});function C1(e,t){return dl(e,Li(F(t)))}var M1=Ft(function(e,t){return e==null?{}:u0(e,t)});function dl(e,t){if(e==null)return{};var r=ge(Ou(e),function(u){return[u]});return t=F(t),ic(e,r,function(u,f){return t(u,f[0])})}function F1(e,t,r){t=Yt(t,e);var u=-1,f=t.length;for(f||(f=1,e=o);++u<f;){var c=e==null?o:e[xt(t[u])];c===o&&(u=f,c=r),e=Dt(c)?c.call(e):c}return e}function N1(e,t,r){return e==null?e:lr(e,t,r)}function D1(e,t,r,u){return u=typeof u=="function"?u:o,e==null?e:lr(e,t,r,u)}var pl=Oc(Me),gl=Oc(He);function $1(e,t,r){var u=q(e),f=u||Xt(e)||Nn(e);if(t=F(t,4),r==null){var c=e&&e.constructor;f?r=u?new c:[]:_e(e)?r=Dt(c)?Pn(ri(e)):{}:r={}}return(f?ot:At)(e,function(h,g,_){return t(r,h,g,_)}),r}function B1(e,t){return e==null?!0:yu(e,t)}function W1(e,t,r){return e==null?e:ac(e,t,bu(r))}function U1(e,t,r,u){return u=typeof u=="function"?u:o,e==null?e:ac(e,t,bu(r),u)}function Dn(e){return e==null?[]:Qo(e,Me(e))}function G1(e){return e==null?[]:Qo(e,He(e))}function K1(e,t,r){return r===o&&(r=t,t=o),r!==o&&(r=lt(r),r=r===r?r:0),t!==o&&(t=lt(t),t=t===t?t:0),fn(lt(e),t,r)}function q1(e,t,r){return t=$t(t),r===o?(r=t,t=0):r=$t(r),e=lt(e),Y_(e,t,r)}function H1(e,t,r){if(r&&typeof r!="boolean"&&Ue(e,t,r)&&(t=r=o),r===o&&(typeof t=="boolean"?(r=t,t=o):typeof e=="boolean"&&(r=e,e=o)),e===o&&t===o?(e=0,t=1):(e=$t(e),t===o?(t=e,e=0):t=$t(t)),e>t){var u=e;e=t,t=u}if(r||e%1||t%1){var f=Wa();return De(e+f*(t-e+Sv("1e-"+((f+"").length-1))),t)}return gu(e,t)}var z1=Mn(function(e,t,r){return t=t.toLowerCase(),e+(r?vl(t):t)});function vl(e){return Ku(ne(e).toLowerCase())}function _l(e){return e=ne(e),e&&e.replace(jg,Nv).replace(hv,"")}function J1(e,t,r){e=ne(e),t=Ve(t);var u=e.length;r=r===o?u:fn(H(r),0,u);var f=r;return r-=t.length,r>=0&&e.slice(r,f)==t}function j1(e){return e=ne(e),e&&Ig.test(e)?e.replace(kf,Dv):e}function k1(e){return e=ne(e),e&&Mg.test(e)?e.replace($o,"\\$&"):e}var Y1=Mn(function(e,t,r){return e+(r?"-":"")+t.toLowerCase()}),Z1=Mn(function(e,t,r){return e+(r?" ":"")+t.toLowerCase()}),X1=wc("toLowerCase");function V1(e,t,r){e=ne(e),t=H(t);var u=t?On(e):0;if(!t||u>=t)return e;var f=(t-u)/2;return wi(si(f),r)+e+wi(ui(f),r)}function Q1(e,t,r){e=ne(e),t=H(t);var u=t?On(e):0;return t&&u<t?e+wi(t-u,r):e}function ew(e,t,r){e=ne(e),t=H(t);var u=t?On(e):0;return t&&u<t?wi(t-u,r)+e:e}function tw(e,t,r){return r||t==null?t=0:t&&(t=+t),f_(ne(e).replace(Bo,""),t||0)}function nw(e,t,r){return(r?Ue(e,t,r):t===o)?t=1:t=H(t),vu(ne(e),t)}function rw(){var e=arguments,t=ne(e[0]);return e.length<3?t:t.replace(e[1],e[2])}var iw=Mn(function(e,t,r){return e+(r?"_":"")+t.toLowerCase()});function ow(e,t,r){return r&&typeof r!="number"&&Ue(e,t,r)&&(t=r=o),r=r===o?St:r>>>0,r?(e=ne(e),e&&(typeof t=="string"||t!=null&&!Wu(t))&&(t=Ve(t),!t&&xn(e))?Zt(_t(e),0,r):e.split(t,r)):[]}var uw=Mn(function(e,t,r){return e+(r?" ":"")+Ku(t)});function sw(e,t,r){return e=ne(e),r=r==null?0:fn(H(r),0,e.length),t=Ve(t),e.slice(r,r+t.length)==t}function fw(e,t,r){var u=a.templateSettings;r&&Ue(e,t,r)&&(t=o),e=ne(e),t=Ci({},t,u,Ic);var f=Ci({},t.imports,u.imports,Ic),c=Me(f),h=Qo(f,c),g,_,A=0,E=t.interpolate||zr,x="__p += '",T=tu((t.escape||zr).source+"|"+E.source+"|"+(E===Yf?Gg:zr).source+"|"+(t.evaluate||zr).source+"|$","g"),C="//# sourceURL="+(re.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++_v+"]")+`
`;e.replace(T,function(D,Z,V,et,Ge,tt){return V||(V=et),x+=e.slice(A,tt).replace(kg,$v),Z&&(g=!0,x+=`' +
__e(`+Z+`) +
'`),Ge&&(_=!0,x+=`';
`+Ge+`;
__p += '`),V&&(x+=`' +
((__t = (`+V+`)) == null ? '' : __t) +
'`),A=tt+D.length,D}),x+=`';
`;var N=re.call(t,"variable")&&t.variable;if(!N)x=`with (obj) {
`+x+`
}
`;else if(Wg.test(N))throw new K(y);x=(_?x.replace(Ag,""):x).replace(Eg,"$1").replace(xg,"$1;"),x="function("+(N||"obj")+`) {
`+(N?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(g?", __e = _.escape":"")+(_?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+x+`return __p
}`;var z=ml(function(){return te(c,C+"return "+x).apply(o,h)});if(z.source=x,Bu(z))throw z;return z}function aw(e){return ne(e).toLowerCase()}function cw(e){return ne(e).toUpperCase()}function lw(e,t,r){if(e=ne(e),e&&(r||t===o))return Ta(e);if(!e||!(t=Ve(t)))return e;var u=_t(e),f=_t(t),c=La(u,f),h=Ra(u,f)+1;return Zt(u,c,h).join("")}function hw(e,t,r){if(e=ne(e),e&&(r||t===o))return e.slice(0,Ca(e)+1);if(!e||!(t=Ve(t)))return e;var u=_t(e),f=Ra(u,_t(t))+1;return Zt(u,0,f).join("")}function dw(e,t,r){if(e=ne(e),e&&(r||t===o))return e.replace(Bo,"");if(!e||!(t=Ve(t)))return e;var u=_t(e),f=La(u,_t(t));return Zt(u,f).join("")}function pw(e,t){var r=U,u=W;if(_e(t)){var f="separator"in t?t.separator:f;r="length"in t?H(t.length):r,u="omission"in t?Ve(t.omission):u}e=ne(e);var c=e.length;if(xn(e)){var h=_t(e);c=h.length}if(r>=c)return e;var g=r-On(u);if(g<1)return u;var _=h?Zt(h,0,g).join(""):e.slice(0,g);if(f===o)return _+u;if(h&&(g+=_.length-g),Wu(f)){if(e.slice(g).search(f)){var A,E=_;for(f.global||(f=tu(f.source,ne(Zf.exec(f))+"g")),f.lastIndex=0;A=f.exec(E);)var x=A.index;_=_.slice(0,x===o?g:x)}}else if(e.indexOf(Ve(f),g)!=g){var T=_.lastIndexOf(f);T>-1&&(_=_.slice(0,T))}return _+u}function gw(e){return e=ne(e),e&&Og.test(e)?e.replace(jf,Hv):e}var vw=Mn(function(e,t,r){return e+(r?" ":"")+t.toUpperCase()}),Ku=wc("toUpperCase");function yl(e,t,r){return e=ne(e),t=r?o:t,t===o?Wv(e)?jv(e):Rv(e):e.match(t)||[]}var ml=J(function(e,t){try{return Ze(e,o,t)}catch(r){return Bu(r)?r:new K(r)}}),_w=Ft(function(e,t){return ot(t,function(r){r=xt(r),Ct(e,r,Du(e[r],e))}),e});function yw(e){var t=e==null?0:e.length,r=F();return e=t?ge(e,function(u){if(typeof u[1]!="function")throw new ut(d);return[r(u[0]),u[1]]}):[],J(function(u){for(var f=-1;++f<t;){var c=e[f];if(Ze(c[0],this,u))return Ze(c[1],this,u)}})}function mw(e){return H_(ft(e,L))}function qu(e){return function(){return e}}function ww(e,t){return e==null||e!==e?t:e}var bw=Sc(),Sw=Sc(!0);function ze(e){return e}function Hu(e){return Va(typeof e=="function"?e:ft(e,L))}function Aw(e){return ec(ft(e,L))}function Ew(e,t){return tc(e,ft(t,L))}var xw=J(function(e,t){return function(r){return ar(r,e,t)}}),Ow=J(function(e,t){return function(r){return ar(e,r,t)}});function zu(e,t,r){var u=Me(t),f=di(t,u);r==null&&!(_e(t)&&(f.length||!u.length))&&(r=t,t=e,e=this,f=di(t,Me(t)));var c=!(_e(r)&&"chain"in r)||!!r.chain,h=Dt(e);return ot(f,function(g){var _=t[g];e[g]=_,h&&(e.prototype[g]=function(){var A=this.__chain__;if(c||A){var E=e(this.__wrapped__),x=E.__actions__=Ke(this.__actions__);return x.push({func:_,args:arguments,thisArg:e}),E.__chain__=A,E}return _.apply(e,Ht([this.value()],arguments))})}),e}function Iw(){return Fe._===this&&(Fe._=Qv),this}function Ju(){}function Tw(e){return e=H(e),J(function(t){return nc(t,e)})}var Lw=Au(ge),Rw=Au(Aa),Pw=Au(ko);function wl(e){return Ru(e)?Yo(xt(e)):s0(e)}function Cw(e){return function(t){return e==null?o:an(e,t)}}var Mw=Ec(),Fw=Ec(!0);function ju(){return[]}function ku(){return!1}function Nw(){return{}}function Dw(){return""}function $w(){return!0}function Bw(e,t){if(e=H(e),e<1||e>pt)return[];var r=St,u=De(e,St);t=F(t),e-=St;for(var f=Vo(u,t);++r<e;)t(r);return f}function Ww(e){return q(e)?ge(e,xt):Qe(e)?[e]:Ke(Uc(ne(e)))}function Uw(e){var t=++Xv;return ne(e)+t}var Gw=mi(function(e,t){return e+t},0),Kw=Eu("ceil"),qw=mi(function(e,t){return e/t},1),Hw=Eu("floor");function zw(e){return e&&e.length?hi(e,ze,au):o}function Jw(e,t){return e&&e.length?hi(e,F(t,2),au):o}function jw(e){return Oa(e,ze)}function kw(e,t){return Oa(e,F(t,2))}function Yw(e){return e&&e.length?hi(e,ze,du):o}function Zw(e,t){return e&&e.length?hi(e,F(t,2),du):o}var Xw=mi(function(e,t){return e*t},1),Vw=Eu("round"),Qw=mi(function(e,t){return e-t},0);function eb(e){return e&&e.length?Xo(e,ze):0}function tb(e,t){return e&&e.length?Xo(e,F(t,2)):0}return a.after=Am,a.ary=Xc,a.assign=c1,a.assignIn=ll,a.assignInWith=Ci,a.assignWith=l1,a.at=h1,a.before=Vc,a.bind=Du,a.bindAll=_w,a.bindKey=Qc,a.castArray=Nm,a.chain=kc,a.chunk=H0,a.compact=z0,a.concat=J0,a.cond=yw,a.conforms=mw,a.constant=qu,a.countBy=em,a.create=d1,a.curry=el,a.curryRight=tl,a.debounce=nl,a.defaults=p1,a.defaultsDeep=g1,a.defer=Em,a.delay=xm,a.difference=j0,a.differenceBy=k0,a.differenceWith=Y0,a.drop=Z0,a.dropRight=X0,a.dropRightWhile=V0,a.dropWhile=Q0,a.fill=ey,a.filter=nm,a.flatMap=om,a.flatMapDeep=um,a.flatMapDepth=sm,a.flatten=Hc,a.flattenDeep=ty,a.flattenDepth=ny,a.flip=Om,a.flow=bw,a.flowRight=Sw,a.fromPairs=ry,a.functions=S1,a.functionsIn=A1,a.groupBy=fm,a.initial=oy,a.intersection=uy,a.intersectionBy=sy,a.intersectionWith=fy,a.invert=x1,a.invertBy=O1,a.invokeMap=cm,a.iteratee=Hu,a.keyBy=lm,a.keys=Me,a.keysIn=He,a.map=Oi,a.mapKeys=T1,a.mapValues=L1,a.matches=Aw,a.matchesProperty=Ew,a.memoize=Ti,a.merge=R1,a.mergeWith=hl,a.method=xw,a.methodOf=Ow,a.mixin=zu,a.negate=Li,a.nthArg=Tw,a.omit=P1,a.omitBy=C1,a.once=Im,a.orderBy=hm,a.over=Lw,a.overArgs=Tm,a.overEvery=Rw,a.overSome=Pw,a.partial=$u,a.partialRight=rl,a.partition=dm,a.pick=M1,a.pickBy=dl,a.property=wl,a.propertyOf=Cw,a.pull=hy,a.pullAll=Jc,a.pullAllBy=dy,a.pullAllWith=py,a.pullAt=gy,a.range=Mw,a.rangeRight=Fw,a.rearg=Lm,a.reject=vm,a.remove=vy,a.rest=Rm,a.reverse=Fu,a.sampleSize=ym,a.set=N1,a.setWith=D1,a.shuffle=mm,a.slice=_y,a.sortBy=Sm,a.sortedUniq=Ey,a.sortedUniqBy=xy,a.split=ow,a.spread=Pm,a.tail=Oy,a.take=Iy,a.takeRight=Ty,a.takeRightWhile=Ly,a.takeWhile=Ry,a.tap=zy,a.throttle=Cm,a.thru=xi,a.toArray=fl,a.toPairs=pl,a.toPairsIn=gl,a.toPath=Ww,a.toPlainObject=cl,a.transform=$1,a.unary=Mm,a.union=Py,a.unionBy=Cy,a.unionWith=My,a.uniq=Fy,a.uniqBy=Ny,a.uniqWith=Dy,a.unset=B1,a.unzip=Nu,a.unzipWith=jc,a.update=W1,a.updateWith=U1,a.values=Dn,a.valuesIn=G1,a.without=$y,a.words=yl,a.wrap=Fm,a.xor=By,a.xorBy=Wy,a.xorWith=Uy,a.zip=Gy,a.zipObject=Ky,a.zipObjectDeep=qy,a.zipWith=Hy,a.entries=pl,a.entriesIn=gl,a.extend=ll,a.extendWith=Ci,zu(a,a),a.add=Gw,a.attempt=ml,a.camelCase=z1,a.capitalize=vl,a.ceil=Kw,a.clamp=K1,a.clone=Dm,a.cloneDeep=Bm,a.cloneDeepWith=Wm,a.cloneWith=$m,a.conformsTo=Um,a.deburr=_l,a.defaultTo=ww,a.divide=qw,a.endsWith=J1,a.eq=mt,a.escape=j1,a.escapeRegExp=k1,a.every=tm,a.find=rm,a.findIndex=Kc,a.findKey=v1,a.findLast=im,a.findLastIndex=qc,a.findLastKey=_1,a.floor=Hw,a.forEach=Yc,a.forEachRight=Zc,a.forIn=y1,a.forInRight=m1,a.forOwn=w1,a.forOwnRight=b1,a.get=Uu,a.gt=Gm,a.gte=Km,a.has=E1,a.hasIn=Gu,a.head=zc,a.identity=ze,a.includes=am,a.indexOf=iy,a.inRange=q1,a.invoke=I1,a.isArguments=hn,a.isArray=q,a.isArrayBuffer=qm,a.isArrayLike=qe,a.isArrayLikeObject=Se,a.isBoolean=Hm,a.isBuffer=Xt,a.isDate=zm,a.isElement=Jm,a.isEmpty=jm,a.isEqual=km,a.isEqualWith=Ym,a.isError=Bu,a.isFinite=Zm,a.isFunction=Dt,a.isInteger=il,a.isLength=Ri,a.isMap=ol,a.isMatch=Xm,a.isMatchWith=Vm,a.isNaN=Qm,a.isNative=e1,a.isNil=n1,a.isNull=t1,a.isNumber=ul,a.isObject=_e,a.isObjectLike=me,a.isPlainObject=gr,a.isRegExp=Wu,a.isSafeInteger=r1,a.isSet=sl,a.isString=Pi,a.isSymbol=Qe,a.isTypedArray=Nn,a.isUndefined=i1,a.isWeakMap=o1,a.isWeakSet=u1,a.join=ay,a.kebabCase=Y1,a.last=ct,a.lastIndexOf=cy,a.lowerCase=Z1,a.lowerFirst=X1,a.lt=s1,a.lte=f1,a.max=zw,a.maxBy=Jw,a.mean=jw,a.meanBy=kw,a.min=Yw,a.minBy=Zw,a.stubArray=ju,a.stubFalse=ku,a.stubObject=Nw,a.stubString=Dw,a.stubTrue=$w,a.multiply=Xw,a.nth=ly,a.noConflict=Iw,a.noop=Ju,a.now=Ii,a.pad=V1,a.padEnd=Q1,a.padStart=ew,a.parseInt=tw,a.random=H1,a.reduce=pm,a.reduceRight=gm,a.repeat=nw,a.replace=rw,a.result=F1,a.round=Vw,a.runInContext=v,a.sample=_m,a.size=wm,a.snakeCase=iw,a.some=bm,a.sortedIndex=yy,a.sortedIndexBy=my,a.sortedIndexOf=wy,a.sortedLastIndex=by,a.sortedLastIndexBy=Sy,a.sortedLastIndexOf=Ay,a.startCase=uw,a.startsWith=sw,a.subtract=Qw,a.sum=eb,a.sumBy=tb,a.template=fw,a.times=Bw,a.toFinite=$t,a.toInteger=H,a.toLength=al,a.toLower=aw,a.toNumber=lt,a.toSafeInteger=a1,a.toString=ne,a.toUpper=cw,a.trim=lw,a.trimEnd=hw,a.trimStart=dw,a.truncate=pw,a.unescape=gw,a.uniqueId=Uw,a.upperCase=vw,a.upperFirst=Ku,a.each=Yc,a.eachRight=Zc,a.first=zc,zu(a,function(){var e={};return At(a,function(t,r){re.call(a.prototype,r)||(e[r]=t)}),e}(),{chain:!1}),a.VERSION=s,ot(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){a[e].placeholder=a}),ot(["drop","take"],function(e,t){X.prototype[e]=function(r){r=r===o?1:Le(H(r),0);var u=this.__filtered__&&!t?new X(this):this.clone();return u.__filtered__?u.__takeCount__=De(r,u.__takeCount__):u.__views__.push({size:De(r,St),type:e+(u.__dir__<0?"Right":"")}),u},X.prototype[e+"Right"]=function(r){return this.reverse()[e](r).reverse()}}),ot(["filter","map","takeWhile"],function(e,t){var r=t+1,u=r==Ce||r==wn;X.prototype[e]=function(f){var c=this.clone();return c.__iteratees__.push({iteratee:F(f,3),type:r}),c.__filtered__=c.__filtered__||u,c}}),ot(["head","last"],function(e,t){var r="take"+(t?"Right":"");X.prototype[e]=function(){return this[r](1).value()[0]}}),ot(["initial","tail"],function(e,t){var r="drop"+(t?"":"Right");X.prototype[e]=function(){return this.__filtered__?new X(this):this[r](1)}}),X.prototype.compact=function(){return this.filter(ze)},X.prototype.find=function(e){return this.filter(e).head()},X.prototype.findLast=function(e){return this.reverse().find(e)},X.prototype.invokeMap=J(function(e,t){return typeof e=="function"?new X(this):this.map(function(r){return ar(r,e,t)})}),X.prototype.reject=function(e){return this.filter(Li(F(e)))},X.prototype.slice=function(e,t){e=H(e);var r=this;return r.__filtered__&&(e>0||t<0)?new X(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),t!==o&&(t=H(t),r=t<0?r.dropRight(-t):r.take(t-e)),r)},X.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},X.prototype.toArray=function(){return this.take(St)},At(X.prototype,function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),u=/^(?:head|last)$/.test(t),f=a[u?"take"+(t=="last"?"Right":""):t],c=u||/^find/.test(t);f&&(a.prototype[t]=function(){var h=this.__wrapped__,g=u?[1]:arguments,_=h instanceof X,A=g[0],E=_||q(h),x=function(Z){var V=f.apply(a,Ht([Z],g));return u&&T?V[0]:V};E&&r&&typeof A=="function"&&A.length!=1&&(_=E=!1);var T=this.__chain__,C=!!this.__actions__.length,N=c&&!T,z=_&&!C;if(!c&&E){h=z?h:new X(this);var D=e.apply(h,g);return D.__actions__.push({func:xi,args:[x],thisArg:o}),new st(D,T)}return N&&z?e.apply(this,g):(D=this.thru(x),N?u?D.value()[0]:D.value():D)})}),ot(["pop","push","shift","sort","splice","unshift"],function(e){var t=Xr[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",u=/^(?:pop|shift)$/.test(e);a.prototype[e]=function(){var f=arguments;if(u&&!this.__chain__){var c=this.value();return t.apply(q(c)?c:[],f)}return this[r](function(h){return t.apply(q(h)?h:[],f)})}}),At(X.prototype,function(e,t){var r=a[t];if(r){var u=r.name+"";re.call(Rn,u)||(Rn[u]=[]),Rn[u].push({name:t,func:r})}}),Rn[yi(o,ue).name]=[{name:"wrapper",func:o}],X.prototype.clone=g_,X.prototype.reverse=v_,X.prototype.value=__,a.prototype.at=Jy,a.prototype.chain=jy,a.prototype.commit=ky,a.prototype.next=Yy,a.prototype.plant=Xy,a.prototype.reverse=Vy,a.prototype.toJSON=a.prototype.valueOf=a.prototype.value=Qy,a.prototype.first=a.prototype.head,nr&&(a.prototype[nr]=Zy),a},In=kv();rn?((rn.exports=In)._=In,Ho._=In):Fe._=In}).call(se)}(yr,yr.exports);var Nl=yr.exports,Q=ve(Nl);const Dl=1,Mi=2,$l={INIT_ACK:{statusByte:2,parse:n=>({type:"init-ack",projectName:n[0]})},INIT:{statusByte:3,parse:n=>({type:"init-project",tracksCount:n[0]})},DONE:{statusByte:4,parse:n=>({type:"init-done"})},TRACK:{statusByte:5,parse:n=>({type:"init-track",name:n[0],trackIndex:Q.toNumber(n[1]),color:Q.toNumber(n[2])})},CLIP:{statusByte:6,parse:n=>({type:"init-clip",name:n[0],trackIndex:Q.toNumber(n[1]),clipIndex:Q.toNumber(n[2]),color:Q.toNumber(n[3]),startTime:Q.toNumber(n[4]),endTime:Q.toNumber(n[5])})},BEAT:{statusByte:7,parse:n=>({type:"beat",value:Q.toNumber(n[0])})},BAR_BEAT:{statusByte:8,parse:n=>({type:"bar-beat",value:Q.toNumber(n[0])})},SIG:{statusByte:9,parse:n=>({type:"sig",numer:Q.toNumber(n[0]),denom:Q.toNumber(n[1])})},TEMPO:{statusByte:10,parse:n=>({type:"tempo",value:Q.toNumber(n[0])})},IS_PLAYING:{statusByte:11,parse:n=>({type:"is-playing",value:Q.toNumber(n[0])===1})},CUE:{statusByte:12,parse:n=>({type:"init-cue",id:Q.toNumber(n[0]),name:n[1],time:Q.toNumber(n[2]),index:Q.toNumber(n[3])})},METRONOME_STATE:{statusByte:13,parse:n=>({type:"metronome-state",value:Q.toNumber(n[0])===1})},LOOP_STATE:{statusByte:14,parse:n=>({type:"loop-state",value:Q.toNumber(n[0])===1})},HALF_BEAT:{statusByte:15,parse:n=>({type:"half-beat",isHalf:Q.toNumber(n[0])===1})}},Bl=Q.fromPairs(Q.map($l,n=>[n.statusByte,n])),Wl=n=>{const i=Q.join(Q.map(n,s=>String.fromCharCode(s)),""),o=Q.split(i,String.fromCharCode(Dl));return[Q.toNumber(o[0]),o.splice(1)]},Ul=n=>{try{if(n.manufacturer===Mi){const[i,o]=Wl(n.body),s=Bl[i];if(s!==void 0)return s.parse(o);console.warn("Did not find parser for message",n)}}catch(i){console.error("Got error parsing message",i)}},us=n=>{const i=[];return Q.forEach(n,(o,s)=>{i.push(n.charCodeAt(s))}),i},ht={base:(n,i)=>({type:"sysex",manufacturer:Mi,body:[n,...us(i.toString())]}),baseJSON:(n,i)=>({type:"sysex",manufacturer:Mi,body:[n,...us(JSON.stringify(i))]}),init:()=>ht.base(64,1),initReady:n=>ht.baseJSON(65,{tracks:n}),play:()=>ht.base(80,1),stop:()=>ht.base(81,1),jumpToCue:n=>ht.base(82,n),jumpBy:n=>ht.base(84,n),record:()=>ht.base(85,1),metronome:n=>ht.base(86,n?1:0),loop:n=>ht.base(87,n?1:0)};function dt(n){for(var i=arguments.length,o=Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];throw Error("[Immer] minified error nr: "+n+(o.length?" "+o.map(function(l){return"'"+l+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function dn(n){return!!n&&!!n[Je]}function Vt(n){var i;return!!n&&(function(o){if(!o||typeof o!="object")return!1;var s=Object.getPrototypeOf(o);if(s===null)return!0;var l=Object.hasOwnProperty.call(s,"constructor")&&s.constructor;return l===Object||typeof l=="function"&&Function.toString.call(l)===kl}(n)||Array.isArray(n)||!!n[vs]||!!(!((i=n.constructor)===null||i===void 0)&&i[vs])||Ni(n)||Di(n))}function $n(n,i,o){o===void 0&&(o=!1),pn(n)===0?(o?Object.keys:ki)(n).forEach(function(s){o&&typeof s=="symbol"||i(s,n[s],n)}):n.forEach(function(s,l){return i(l,s,n)})}function pn(n){var i=n[Je];return i?i.i>3?i.i-4:i.i:Array.isArray(n)?1:Ni(n)?2:Di(n)?3:0}function Fi(n,i){return pn(n)===2?n.has(i):Object.prototype.hasOwnProperty.call(n,i)}function Gl(n,i){return pn(n)===2?n.get(i):n[i]}function ss(n,i,o){var s=pn(n);s===2?n.set(i,o):s===3?n.add(o):n[i]=o}function Kl(n,i){return n===i?n!==0||1/n==1/i:n!=n&&i!=i}function Ni(n){return Jl&&n instanceof Map}function Di(n){return jl&&n instanceof Set}function Qt(n){return n.o||n.t}function $i(n){if(Array.isArray(n))return Array.prototype.slice.call(n);var i=Yl(n);delete i[Je];for(var o=ki(i),s=0;s<o.length;s++){var l=o[s],p=i[l];p.writable===!1&&(p.writable=!0,p.configurable=!0),(p.get||p.set)&&(i[l]={configurable:!0,writable:!0,enumerable:p.enumerable,value:n[l]})}return Object.create(Object.getPrototypeOf(n),i)}function Bi(n,i){return i===void 0&&(i=!1),Wi(n)||dn(n)||!Vt(n)||(pn(n)>1&&(n.set=n.add=n.clear=n.delete=ql),Object.freeze(n),i&&$n(n,function(o,s){return Bi(s,!0)},!0)),n}function ql(){dt(2)}function Wi(n){return n==null||typeof n!="object"||Object.isFrozen(n)}function bt(n){var i=Zl[n];return i||dt(18,n),i}function fs(){return Bn}function Ui(n,i){i&&(bt("Patches"),n.u=[],n.s=[],n.v=i)}function mr(n){Gi(n),n.p.forEach(Hl),n.p=null}function Gi(n){n===Bn&&(Bn=n.l)}function as(n){return Bn={p:[],l:Bn,h:n,m:!0,_:0}}function Hl(n){var i=n[Je];i.i===0||i.i===1?i.j():i.g=!0}function Ki(n,i){i._=i.p.length;var o=i.p[0],s=n!==void 0&&n!==o;return i.h.O||bt("ES5").S(i,n,s),s?(o[Je].P&&(mr(i),dt(4)),Vt(n)&&(n=wr(i,n),i.l||br(i,n)),i.u&&bt("Patches").M(o[Je].t,n,i.u,i.s)):n=wr(i,o,[]),mr(i),i.u&&i.v(i.u,i.s),n!==gs?n:void 0}function wr(n,i,o){if(Wi(i))return i;var s=i[Je];if(!s)return $n(i,function(y,m){return cs(n,s,i,y,m,o)},!0),i;if(s.A!==n)return i;if(!s.P)return br(n,s.t,!0),s.t;if(!s.I){s.I=!0,s.A._--;var l=s.i===4||s.i===5?s.o=$i(s.k):s.o,p=l,d=!1;s.i===3&&(p=new Set(l),l.clear(),d=!0),$n(p,function(y,m){return cs(n,s,l,y,m,o,d)}),br(n,l,!1),o&&n.u&&bt("Patches").N(s,o,n.u,n.s)}return s.o}function cs(n,i,o,s,l,p,d){if(dn(l)){var y=wr(n,l,p&&i&&i.i!==3&&!Fi(i.R,s)?p.concat(s):void 0);if(ss(o,s,y),!dn(y))return;n.m=!1}else d&&o.add(l);if(Vt(l)&&!Wi(l)){if(!n.h.D&&n._<1)return;wr(n,l),i&&i.A.l||br(n,l)}}function br(n,i,o){o===void 0&&(o=!1),!n.l&&n.h.D&&n.m&&Bi(i,o)}function qi(n,i){var o=n[Je];return(o?Qt(o):n)[i]}function ls(n,i){if(i in n)for(var o=Object.getPrototypeOf(n);o;){var s=Object.getOwnPropertyDescriptor(o,i);if(s)return s;o=Object.getPrototypeOf(o)}}function Hi(n){n.P||(n.P=!0,n.l&&Hi(n.l))}function zi(n){n.o||(n.o=$i(n.t))}function Ji(n,i,o){var s=Ni(i)?bt("MapSet").F(i,o):Di(i)?bt("MapSet").T(i,o):n.O?function(l,p){var d=Array.isArray(l),y={i:d?1:0,A:p?p.A:fs(),P:!1,I:!1,R:{},l:p,t:l,k:null,o:null,j:null,C:!1},m=y,b=Yi;d&&(m=[y],b=Wn);var O=Proxy.revocable(m,b),L=O.revoke,P=O.proxy;return y.k=P,y.j=L,P}(i,o):bt("ES5").J(i,o);return(o?o.A:fs()).p.push(s),s}function zl(n){return dn(n)||dt(22,n),function i(o){if(!Vt(o))return o;var s,l=o[Je],p=pn(o);if(l){if(!l.P&&(l.i<4||!bt("ES5").K(l)))return l.t;l.I=!0,s=hs(o,p),l.I=!1}else s=hs(o,p);return $n(s,function(d,y){l&&Gl(l.t,d)===y||ss(s,d,i(y))}),p===3?new Set(s):s}(n)}function hs(n,i){switch(i){case 2:return new Map(n);case 3:return Array.from(n)}return $i(n)}var ds,Bn,ji=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",Jl=typeof Map<"u",jl=typeof Set<"u",ps=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",gs=ji?Symbol.for("immer-nothing"):((ds={})["immer-nothing"]=!0,ds),vs=ji?Symbol.for("immer-draftable"):"__$immer_draftable",Je=ji?Symbol.for("immer-state"):"__$immer_state",kl=""+Object.prototype.constructor,ki=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(n){return Object.getOwnPropertyNames(n).concat(Object.getOwnPropertySymbols(n))}:Object.getOwnPropertyNames,Yl=Object.getOwnPropertyDescriptors||function(n){var i={};return ki(n).forEach(function(o){i[o]=Object.getOwnPropertyDescriptor(n,o)}),i},Zl={},Yi={get:function(n,i){if(i===Je)return n;var o=Qt(n);if(!Fi(o,i))return function(l,p,d){var y,m=ls(p,d);return m?"value"in m?m.value:(y=m.get)===null||y===void 0?void 0:y.call(l.k):void 0}(n,o,i);var s=o[i];return n.I||!Vt(s)?s:s===qi(n.t,i)?(zi(n),n.o[i]=Ji(n.A.h,s,n)):s},has:function(n,i){return i in Qt(n)},ownKeys:function(n){return Reflect.ownKeys(Qt(n))},set:function(n,i,o){var s=ls(Qt(n),i);if(s!=null&&s.set)return s.set.call(n.k,o),!0;if(!n.P){var l=qi(Qt(n),i),p=l==null?void 0:l[Je];if(p&&p.t===o)return n.o[i]=o,n.R[i]=!1,!0;if(Kl(o,l)&&(o!==void 0||Fi(n.t,i)))return!0;zi(n),Hi(n)}return n.o[i]===o&&(o!==void 0||i in n.o)||Number.isNaN(o)&&Number.isNaN(n.o[i])||(n.o[i]=o,n.R[i]=!0),!0},deleteProperty:function(n,i){return qi(n.t,i)!==void 0||i in n.t?(n.R[i]=!1,zi(n),Hi(n)):delete n.R[i],n.o&&delete n.o[i],!0},getOwnPropertyDescriptor:function(n,i){var o=Qt(n),s=Reflect.getOwnPropertyDescriptor(o,i);return s&&{writable:!0,configurable:n.i!==1||i!=="length",enumerable:s.enumerable,value:o[i]}},defineProperty:function(){dt(11)},getPrototypeOf:function(n){return Object.getPrototypeOf(n.t)},setPrototypeOf:function(){dt(12)}},Wn={};$n(Yi,function(n,i){Wn[n]=function(){return arguments[0]=arguments[0][0],i.apply(this,arguments)}}),Wn.deleteProperty=function(n,i){return Wn.set.call(this,n,i,void 0)},Wn.set=function(n,i,o){return Yi.set.call(this,n[0],i,o,n[0])};var Xl=function(){function n(o){var s=this;this.O=ps,this.D=!0,this.produce=function(l,p,d){if(typeof l=="function"&&typeof p!="function"){var y=p;p=l;var m=s;return function(de){var j=this;de===void 0&&(de=y);for(var ue=arguments.length,be=Array(ue>1?ue-1:0),fe=1;fe<ue;fe++)be[fe-1]=arguments[fe];return m.produce(de,function(Ee){var Pe;return(Pe=p).call.apply(Pe,[j,Ee].concat(be))})}}var b;if(typeof p!="function"&&dt(6),d!==void 0&&typeof d!="function"&&dt(7),Vt(l)){var O=as(s),L=Ji(s,l,void 0),P=!0;try{b=p(L),P=!1}finally{P?mr(O):Gi(O)}return typeof Promise<"u"&&b instanceof Promise?b.then(function(de){return Ui(O,d),Ki(de,O)},function(de){throw mr(O),de}):(Ui(O,d),Ki(b,O))}if(!l||typeof l!="object"){if((b=p(l))===void 0&&(b=l),b===gs&&(b=void 0),s.D&&Bi(b,!0),d){var M=[],Y=[];bt("Patches").M(l,b,M,Y),d(M,Y)}return b}dt(21,l)},this.produceWithPatches=function(l,p){if(typeof l=="function")return function(b){for(var O=arguments.length,L=Array(O>1?O-1:0),P=1;P<O;P++)L[P-1]=arguments[P];return s.produceWithPatches(b,function(M){return l.apply(void 0,[M].concat(L))})};var d,y,m=s.produce(l,p,function(b,O){d=b,y=O});return typeof Promise<"u"&&m instanceof Promise?m.then(function(b){return[b,d,y]}):[m,d,y]},typeof(o==null?void 0:o.useProxies)=="boolean"&&this.setUseProxies(o.useProxies),typeof(o==null?void 0:o.autoFreeze)=="boolean"&&this.setAutoFreeze(o.autoFreeze)}var i=n.prototype;return i.createDraft=function(o){Vt(o)||dt(8),dn(o)&&(o=zl(o));var s=as(this),l=Ji(this,o,void 0);return l[Je].C=!0,Gi(s),l},i.finishDraft=function(o,s){var l=o&&o[Je],p=l.A;return Ui(p,s),Ki(void 0,p)},i.setAutoFreeze=function(o){this.D=o},i.setUseProxies=function(o){o&&!ps&&dt(20),this.O=o},i.applyPatches=function(o,s){var l;for(l=s.length-1;l>=0;l--){var p=s[l];if(p.path.length===0&&p.op==="replace"){o=p.value;break}}l>-1&&(s=s.slice(l+1));var d=bt("Patches").$;return dn(o)?d(o,s):this.produce(o,function(y){return d(y,s)})},n}(),je=new Xl,Zi=je.produce;je.produceWithPatches.bind(je),je.setAutoFreeze.bind(je),je.setUseProxies.bind(je),je.applyPatches.bind(je),je.createDraft.bind(je),je.finishDraft.bind(je);const Vl=n=>typeof n=="function",Wt=function(n,i){if(typeof n=="function")return function(){return n(arguments)?i.apply(this,arguments):o=>i(o,...arguments)};switch(n){case 0:case 1:throw new RangeError(`Invalid arity ${n}`);case 2:return function(o,s){return arguments.length>=2?i(o,s):function(l){return i(l,o)}};case 3:return function(o,s,l){return arguments.length>=3?i(o,s,l):function(p){return i(p,o,s)}};case 4:return function(o,s,l,p){return arguments.length>=4?i(o,s,l,p):function(d){return i(d,o,s,l)}};case 5:return function(o,s,l,p,d){return arguments.length>=5?i(o,s,l,p,d):function(y){return i(y,o,s,l,p)}};default:return function(){if(arguments.length>=n)return i.apply(this,arguments);const o=arguments;return function(s){return i(s,...o)}}}};let Ql="3.13.12";const _s=()=>Ql,Sr=`effect/GlobalValue/globalStoreId/${_s()}`;let Un;const Xi=(n,i)=>(Un||(globalThis[Sr]??(globalThis[Sr]=new Map),Un=globalThis[Sr]),Un.has(n)||Un.set(n,i()),Un.get(n)),ys=n=>typeof n=="string",eh=n=>typeof n=="number",th=n=>typeof n=="boolean",nh=n=>typeof n=="bigint",rh=n=>typeof n=="symbol",Vi=Vl,ih=n=>typeof n=="object"&&n!==null,ms=n=>ih(n)||Vi(n),Ut=Wt(2,(n,i)=>ms(n)&&i in n),oh=n=>n instanceof Date,uh=n=>Ut(n,Symbol.iterator);class Qi{constructor(i){ye(this,"self");ye(this,"called",!1);this.self=i}next(i){return this.called?{value:i,done:!0}:(this.called=!0,{value:this.self,done:!1})}return(i){return{value:i,done:!0}}throw(i){throw i}[Symbol.iterator](){return new Qi(this.self)}}const sh=Symbol.for("effect/Utils/YieldWrap");class fh{constructor(i){xl(this,Jn);Ol(this,Jn,i)}[sh](){return El(this,Jn)}}Jn=new WeakMap;const nt=Xi("effect/Utils/isStructuralRegion",()=>({enabled:!1,tester:void 0})),eo=Xi(Symbol.for("effect/Hash/randomHashCache"),()=>new WeakMap),Gt=Symbol.for("effect/Hash"),Kt=n=>{if(nt.enabled===!0)return 0;switch(typeof n){case"number":return As(n);case"bigint":return gn(n.toString(10));case"boolean":return gn(String(n));case"symbol":return gn(String(n));case"string":return gn(n);case"undefined":return gn("undefined");case"function":case"object":return n===null?gn("null"):n instanceof Date?Kt(n.toISOString()):ah(n)?n[Gt]():ws(n);default:throw new Error(`BUG: unhandled typeof ${typeof n} - please report an issue at https://github.com/Effect-TS/effect/issues`)}},ws=n=>(eo.has(n)||eo.set(n,As(Math.floor(Math.random()*Number.MAX_SAFE_INTEGER))),eo.get(n)),bs=n=>i=>i*53^n,Ss=n=>n&3221225471|n>>>1&1073741824,ah=n=>Ut(n,Gt),As=n=>{if(n!==n||n===1/0)return 0;let i=n|0;for(i!==n&&(i^=n*4294967295);n>4294967295;)i^=n/=4294967295;return Ss(i)},gn=n=>{let i=5381,o=n.length;for(;o;)i=i*33^n.charCodeAt(--o);return Ss(i)},Es=function(){if(arguments.length===1){const o=arguments[0];return function(s){return Object.defineProperty(o,Gt,{value(){return s},enumerable:!1}),s}}const n=arguments[0],i=arguments[1];return Object.defineProperty(n,Gt,{value(){return i},enumerable:!1}),i},vn=Symbol.for("effect/Equal");function xs(){return arguments.length===1?n=>Ar(n,arguments[0]):Ar(arguments[0],arguments[1])}function Ar(n,i){if(n===i)return!0;const o=typeof n;if(o!==typeof i)return!1;if(o==="object"||o==="function"){if(n!==null&&i!==null){if(Os(n)&&Os(i))return Kt(n)===Kt(i)&&n[vn](i)?!0:nt.enabled&&nt.tester?nt.tester(n,i):!1;if(n instanceof Date&&i instanceof Date)return n.toISOString()===i.toISOString()}if(nt.enabled){if(Array.isArray(n)&&Array.isArray(i))return n.length===i.length&&n.every((s,l)=>Ar(s,i[l]));if(Object.getPrototypeOf(n)===Object.prototype&&Object.getPrototypeOf(n)===Object.prototype){const s=Object.keys(n),l=Object.keys(i);if(s.length===l.length){for(const p of s)if(!(p in i&&Ar(n[p],i[p])))return nt.tester?nt.tester(n,i):!1;return!0}}return nt.tester?nt.tester(n,i):!1}}return nt.enabled&&nt.tester?nt.tester(n,i):!1}const Os=n=>Ut(n,vn),Is=Symbol.for("nodejs.util.inspect.custom"),to=n=>{try{if(Ut(n,"toJSON")&&Vi(n.toJSON)&&n.toJSON.length===0)return n.toJSON();if(Array.isArray(n))return n.map(to)}catch{return{}}return lh(n)},Ts=n=>JSON.stringify(n,null,2),Ls=Symbol.for("effect/Inspectable/Redactable"),ch=n=>typeof n=="object"&&n!==null&&Ls in n,Rs=Xi("effect/Inspectable/redactableState",()=>({fiberRefs:void 0})),lh=n=>ch(n)&&Rs.fiberRefs!==void 0?n[Ls](Rs.fiberRefs):n,Ps=(n,i)=>{switch(i.length){case 0:return n;case 1:return i[0](n);case 2:return i[1](i[0](n));case 3:return i[2](i[1](i[0](n)));case 4:return i[3](i[2](i[1](i[0](n))));case 5:return i[4](i[3](i[2](i[1](i[0](n)))));case 6:return i[5](i[4](i[3](i[2](i[1](i[0](n))))));case 7:return i[6](i[5](i[4](i[3](i[2](i[1](i[0](n)))))));case 8:return i[7](i[6](i[5](i[4](i[3](i[2](i[1](i[0](n))))))));case 9:return i[8](i[7](i[6](i[5](i[4](i[3](i[2](i[1](i[0](n)))))))));default:{let o=n;for(let s=0,l=i.length;s<l;s++)o=i[s](o);return o}}},hh=Symbol.for("effect/Effect"),dh=Symbol.for("effect/Stream"),ph=Symbol.for("effect/Sink"),gh=Symbol.for("effect/Channel"),Cs={_R:n=>n,_E:n=>n,_A:n=>n,_V:_s()},vh={_A:n=>n,_In:n=>n,_L:n=>n,_E:n=>n,_R:n=>n},_h={_Env:n=>n,_InErr:n=>n,_InElem:n=>n,_InDone:n=>n,_OutErr:n=>n,_OutElem:n=>n,_OutDone:n=>n},Ms={[hh]:Cs,[dh]:Cs,[ph]:vh,[gh]:_h,[vn](n){return this===n},[Gt](){return Es(this,ws(this))},[Symbol.iterator](){return new Qi(new fh(this))},pipe(){return Ps(this,arguments)}},Fs=Symbol.for("effect/Option"),Ns={...Ms,[Fs]:{_A:n=>n},[Is](){return this.toJSON()},toString(){return Ts(this.toJSON())}},yh=Object.assign(Object.create(Ns),{_tag:"Some",_op:"Some",[vn](n){return Ds(n)&&Bs(n)&&xs(this.value,n.value)},[Gt](){return Es(this,bs(Kt(this._tag))(Kt(this.value)))},toJSON(){return{_id:"Option",_tag:this._tag,value:to(this.value)}}}),mh=Kt("None"),wh=Object.assign(Object.create(Ns),{_tag:"None",_op:"None",[vn](n){return Ds(n)&&$s(n)},[Gt](){return mh},toJSON(){return{_id:"Option",_tag:this._tag}}}),Ds=n=>Ut(n,Fs),$s=n=>n._tag==="None",Bs=n=>n._tag==="Some",bh=Object.create(wh),Sh=n=>{const i=Object.create(yh);return i.value=n,i},Ws=Symbol.for("effect/Either"),Ah={...Ms,[Ws]:{_R:n=>n},[Is](){return this.toJSON()},toString(){return Ts(this.toJSON())}},Eh=Object.assign(Object.create(Ah),{_tag:"Right",_op:"Right",[vn](n){return xh(n)&&Oh(n)&&xs(this.right,n.right)},[Gt](){return bs(Kt(this._tag))(Kt(this.right))},toJSON(){return{_id:"Either",_tag:this._tag,right:to(this.right)}}}),xh=n=>Ut(n,Ws),Oh=n=>n._tag==="Right",Ih=n=>{const i=Object.create(Eh);return i.right=n,i},no=()=>bh,Us=Sh,Er=$s,Th=Bs,Lh=Wt(2,(n,{onNone:i,onSome:o})=>Er(n)?i():o(n.value)),Gs=Wt(2,(n,i)=>Er(n)?i():n.value),ro=Wt(2,(n,i)=>Er(n)?i():n),Rh=Wt(2,(n,i)=>Er(n)?no():Us(i(n.value))),Ph=n=>Object.keys(n).concat(Object.getOwnPropertySymbols(n)),Ch=n=>{try{return n.toISOString()}catch{return String(n)}},xr=(n,i=!0)=>{if(Array.isArray(n))return`[${n.map(o=>xr(o,i)).join(",")}]`;if(oh(n))return Ch(n);if(Ut(n,"toString")&&Vi(n.toString)&&n.toString!==Object.prototype.toString)return n.toString();if(ys(n))return JSON.stringify(n);if(eh(n)||n==null||th(n)||rh(n))return String(n);if(nh(n))return String(n)+"n";if(uh(n))return`${n.constructor.name}(${xr(Array.from(n),i)})`;try{i&&JSON.stringify(n);const o=`{${Ph(n).map(l=>`${ys(l)?JSON.stringify(l):String(l)}:${xr(n[l],!1)}`).join(",")}}`,s=n.constructor.name;return n.constructor!==Object.prototype.constructor?`${s}(${o})`:o}catch{return"<circular structure>"}},Mh=Symbol.for("effect/annotation/Brand"),Fh=Symbol.for("effect/annotation/SchemaId"),Nh=Symbol.for("effect/annotation/Message"),Dh=Symbol.for("effect/annotation/MissingMessage"),Ks=Symbol.for("effect/annotation/Identifier"),Or=Symbol.for("effect/annotation/Title"),$h=Symbol.for("effect/annotation/AutoTitle"),Ir=Symbol.for("effect/annotation/Description"),Bh=Symbol.for("effect/annotation/Examples"),Wh=Symbol.for("effect/annotation/Default"),Uh=Symbol.for("effect/annotation/JSONSchema"),Gh=Symbol.for("effect/annotation/Arbitrary"),Kh=Symbol.for("effect/annotation/Pretty"),qh=Symbol.for("effect/annotation/Equivalence"),Hh=Symbol.for("effect/annotation/Documentation"),zh=Symbol.for("effect/annotation/Concurrency"),Jh=Symbol.for("effect/annotation/Batching"),jh=Symbol.for("effect/annotation/ParseIssueTitle"),kh=Symbol.for("effect/annotation/ParseOptions"),Yh=Symbol.for("effect/annotation/DecodingFallback"),qs=Symbol.for("effect/annotation/Surrogate"),en=Wt(2,(n,i)=>Object.prototype.hasOwnProperty.call(n.annotations,i)?Us(n.annotations[i]):no()),Zh=en(Mh),Xh=en(Or),Vh=en($h),Qh=en(Ks),ed=en(Ir),td=en(qs);class nd{constructor(i={}){ye(this,"annotations");ye(this,"_tag","StringKeyword");this.annotations=i}toString(){return zs(this)}toJSON(){return{_tag:this._tag,annotations:io(this.annotations)}}}const rd=new nd({[Or]:"string",[Ir]:"a string"});class id{constructor(i={}){ye(this,"annotations");ye(this,"_tag","NumberKeyword");this.annotations=i}toString(){return zs(this)}toJSON(){return{_tag:this._tag,annotations:io(this.annotations)}}}const od=new id({[Or]:"number",[Ir]:"a number"});class ud{constructor(i,o,s,l={}){ye(this,"from");ye(this,"to");ye(this,"transformation");ye(this,"annotations");ye(this,"_tag","Transformation");this.from=i,this.to=o,this.transformation=s,this.annotations=l}toString(){return Gs(Js(this),()=>`(${String(this.from)} <-> ${String(this.to)})`)}toJSON(){return{_tag:this._tag,from:this.from.toJSON(),to:this.to.toJSON(),annotations:io(this.annotations)}}}class sd{constructor(i,o){ye(this,"decode");ye(this,"encode");ye(this,"_tag","FinalTransformation");this.decode=i,this.encode=o}}const Hs=(n,i)=>{const o=Object.getOwnPropertyDescriptors(n),s={...n.annotations,...i},l=td(n);return Th(l)&&(s[qs]=Hs(l.value,i)),o.annotations.value=s,Object.create(Object.getPrototypeOf(n),o)},io=n=>{const i={};for(const o of Object.getOwnPropertySymbols(n))i[String(o)]=n[o];return i},zs=n=>Gs(Js(n),()=>n._tag);function fd(n){return Lh(Zh(n),{onNone:()=>"",onSome:i=>i.map(o=>` & Brand<${xr(o)}>`).join("")})}const ad=n=>Xh(n).pipe(ro(()=>ed(n)),ro(()=>Vh(n)),Rh(i=>i+fd(n))),Js=n=>ro(Qh(n),()=>ad(n)),js=Ih,Tr=Symbol.for("effect/Schema");function Lr(n){var i,o,s;return o=Tr,i=Tr,s=class{constructor(){ye(this,o,ks)}static annotations(p){return Lr(Zs(this.ast,p))}static pipe(){return Ps(this,arguments)}static toString(){return String(n)}},ye(s,"ast",n),ye(s,"Type"),ye(s,"Encoded"),ye(s,"Context"),ye(s,i,ks),s}const ks={_A:n=>n,_I:n=>n,_R:n=>n},Ys={schemaId:Fh,message:Nh,missingMessage:Dh,identifier:Ks,title:Or,description:Ir,examples:Bh,default:Wh,documentation:Hh,jsonSchema:Uh,arbitrary:Gh,pretty:Kh,equivalence:qh,concurrency:zh,batching:Jh,parseIssueTitle:jh,parseOptions:kh,decodingFallback:Yh},cd=n=>{if(!n)return{};const i={...n};for(const o in Ys)if(o in n){const s=Ys[o];i[s]=n[o],delete i[o]}return i},Zs=(n,i)=>Hs(n,cd(i)),Rr=n=>Ut(n,Tr)&&ms(n[Tr]);class ld extends Lr(rd){}class hd extends Lr(od){}function Xs(n,i,o){var s;return s=class extends Lr(o){static annotations(p){return Xs(this.from,this.to,Zs(this.ast,p))}},ye(s,"from",n),ye(s,"to",i),s}const dd=Wt(n=>Rr(n[0])&&Rr(n[1]),(n,i,o)=>Xs(n,i,new ud(n.ast,i.ast,new sd(o.decode,o.encode)))),pd=Wt(n=>Rr(n[0])&&Rr(n[1]),(n,i,o)=>dd(n,i,{strict:!0,decode:(s,l,p,d)=>js(o.decode(s,d)),encode:(s,l,p,d)=>js(o.encode(s,d))})),Vs=Symbol.for("midi/structor/schema/form/annotation"),gd={annotation:n=>({[Vs]:n}),getFormName:n=>n._tag==="PropertySignatureDeclaration"||n._tag==="PropertySignatureTransformation"?no():en(Vs)(n)},vd=(n,i,o)=>16777216+(n<<16|i<<8|o<<0),_d=["","0","00","000","0000","00000","000000"];pd(ld,hd,{strict:!0,decode:n=>{const i=n.substring(0,2),o=n.substring(2,4),s=n.substring(4,6);return vd(parseInt(i,16),parseInt(o,16),parseInt(s,16))},encode:n=>{const i=n.toString(16);if(i.length>6)return i.substring(1,7);{const o=6-i.length;return _d[o]+i}}}).annotations(gd.annotation("Color"));const yd=()=>({tracks:[],cues:[]}),md=n=>{let i=0;const o=[];return Q.forEach(n,s=>{i!==s.startTime&&o.push({type:"blank",startTime:i,endTime:s.startTime}),o.push({...s,type:"real"}),i=s.endTime}),o.push({type:"blank",startTime:i,endTime:void 0}),o},wd=n=>{const i=[],o=[],s=[];Q.forEach(n,d=>{d.type==="init-track"?i.push(d):d.type==="init-clip"?o.push(d):s.push(d)});const l=Q.sortBy(i,d=>d.trackIndex),p=Q.groupBy(o,d=>d.trackIndex);return{tracks:Q.map(l,d=>{const y=Q.get(p,d.trackIndex);return{name:d.name,color:d.color,clips:md(y)}}),cues:s}},bd=n=>()=>[],Sd=n=>Zi(i=>{i.push(n)}),Ad=n=>Zi(i=>{i.push(n)}),Ed=n=>Zi(i=>{i.push(n)}),xd=n=>wd(n);var Qs={exports:{}},k={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gn=Symbol.for("react.element"),Od=Symbol.for("react.portal"),Id=Symbol.for("react.fragment"),Td=Symbol.for("react.strict_mode"),Ld=Symbol.for("react.profiler"),Rd=Symbol.for("react.provider"),Pd=Symbol.for("react.context"),Cd=Symbol.for("react.forward_ref"),Md=Symbol.for("react.suspense"),Fd=Symbol.for("react.memo"),Nd=Symbol.for("react.lazy"),ef=Symbol.iterator;function Dd(n){return n===null||typeof n!="object"?null:(n=ef&&n[ef]||n["@@iterator"],typeof n=="function"?n:null)}var tf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nf=Object.assign,rf={};function _n(n,i,o){this.props=n,this.context=i,this.refs=rf,this.updater=o||tf}_n.prototype.isReactComponent={},_n.prototype.setState=function(n,i){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,i,"setState")},_n.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function of(){}of.prototype=_n.prototype;function oo(n,i,o){this.props=n,this.context=i,this.refs=rf,this.updater=o||tf}var uo=oo.prototype=new of;uo.constructor=oo,nf(uo,_n.prototype),uo.isPureReactComponent=!0;var uf=Array.isArray,sf=Object.prototype.hasOwnProperty,so={current:null},ff={key:!0,ref:!0,__self:!0,__source:!0};function af(n,i,o){var s,l={},p=null,d=null;if(i!=null)for(s in i.ref!==void 0&&(d=i.ref),i.key!==void 0&&(p=""+i.key),i)sf.call(i,s)&&!ff.hasOwnProperty(s)&&(l[s]=i[s]);var y=arguments.length-2;if(y===1)l.children=o;else if(1<y){for(var m=Array(y),b=0;b<y;b++)m[b]=arguments[b+2];l.children=m}if(n&&n.defaultProps)for(s in y=n.defaultProps,y)l[s]===void 0&&(l[s]=y[s]);return{$$typeof:Gn,type:n,key:p,ref:d,props:l,_owner:so.current}}function $d(n,i){return{$$typeof:Gn,type:n.type,key:i,ref:n.ref,props:n.props,_owner:n._owner}}function fo(n){return typeof n=="object"&&n!==null&&n.$$typeof===Gn}function Bd(n){var i={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(o){return i[o]})}var cf=/\/+/g;function ao(n,i){return typeof n=="object"&&n!==null&&n.key!=null?Bd(""+n.key):i.toString(36)}function Pr(n,i,o,s,l){var p=typeof n;(p==="undefined"||p==="boolean")&&(n=null);var d=!1;if(n===null)d=!0;else switch(p){case"string":case"number":d=!0;break;case"object":switch(n.$$typeof){case Gn:case Od:d=!0}}if(d)return d=n,l=l(d),n=s===""?"."+ao(d,0):s,uf(l)?(o="",n!=null&&(o=n.replace(cf,"$&/")+"/"),Pr(l,i,o,"",function(b){return b})):l!=null&&(fo(l)&&(l=$d(l,o+(!l.key||d&&d.key===l.key?"":(""+l.key).replace(cf,"$&/")+"/")+n)),i.push(l)),1;if(d=0,s=s===""?".":s+":",uf(n))for(var y=0;y<n.length;y++){p=n[y];var m=s+ao(p,y);d+=Pr(p,i,o,m,l)}else if(m=Dd(n),typeof m=="function")for(n=m.call(n),y=0;!(p=n.next()).done;)p=p.value,m=s+ao(p,y++),d+=Pr(p,i,o,m,l);else if(p==="object")throw i=String(n),Error("Objects are not valid as a React child (found: "+(i==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":i)+"). If you meant to render a collection of children, use an array instead.");return d}function Cr(n,i,o){if(n==null)return n;var s=[],l=0;return Pr(n,s,"","",function(p){return i.call(o,p,l++)}),s}function Wd(n){if(n._status===-1){var i=n._result;i=i(),i.then(function(o){(n._status===0||n._status===-1)&&(n._status=1,n._result=o)},function(o){(n._status===0||n._status===-1)&&(n._status=2,n._result=o)}),n._status===-1&&(n._status=0,n._result=i)}if(n._status===1)return n._result.default;throw n._result}var Be={current:null},Mr={transition:null},Ud={ReactCurrentDispatcher:Be,ReactCurrentBatchConfig:Mr,ReactCurrentOwner:so};function lf(){throw Error("act(...) is not supported in production builds of React.")}k.Children={map:Cr,forEach:function(n,i,o){Cr(n,function(){i.apply(this,arguments)},o)},count:function(n){var i=0;return Cr(n,function(){i++}),i},toArray:function(n){return Cr(n,function(i){return i})||[]},only:function(n){if(!fo(n))throw Error("React.Children.only expected to receive a single React element child.");return n}},k.Component=_n,k.Fragment=Id,k.Profiler=Ld,k.PureComponent=oo,k.StrictMode=Td,k.Suspense=Md,k.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ud,k.act=lf,k.cloneElement=function(n,i,o){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var s=nf({},n.props),l=n.key,p=n.ref,d=n._owner;if(i!=null){if(i.ref!==void 0&&(p=i.ref,d=so.current),i.key!==void 0&&(l=""+i.key),n.type&&n.type.defaultProps)var y=n.type.defaultProps;for(m in i)sf.call(i,m)&&!ff.hasOwnProperty(m)&&(s[m]=i[m]===void 0&&y!==void 0?y[m]:i[m])}var m=arguments.length-2;if(m===1)s.children=o;else if(1<m){y=Array(m);for(var b=0;b<m;b++)y[b]=arguments[b+2];s.children=y}return{$$typeof:Gn,type:n.type,key:l,ref:p,props:s,_owner:d}},k.createContext=function(n){return n={$$typeof:Pd,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:Rd,_context:n},n.Consumer=n},k.createElement=af,k.createFactory=function(n){var i=af.bind(null,n);return i.type=n,i},k.createRef=function(){return{current:null}},k.forwardRef=function(n){return{$$typeof:Cd,render:n}},k.isValidElement=fo,k.lazy=function(n){return{$$typeof:Nd,_payload:{_status:-1,_result:n},_init:Wd}},k.memo=function(n,i){return{$$typeof:Fd,type:n,compare:i===void 0?null:i}},k.startTransition=function(n){var i=Mr.transition;Mr.transition={};try{n()}finally{Mr.transition=i}},k.unstable_act=lf,k.useCallback=function(n,i){return Be.current.useCallback(n,i)},k.useContext=function(n){return Be.current.useContext(n)},k.useDebugValue=function(){},k.useDeferredValue=function(n){return Be.current.useDeferredValue(n)},k.useEffect=function(n,i){return Be.current.useEffect(n,i)},k.useId=function(){return Be.current.useId()},k.useImperativeHandle=function(n,i,o){return Be.current.useImperativeHandle(n,i,o)},k.useInsertionEffect=function(n,i){return Be.current.useInsertionEffect(n,i)},k.useLayoutEffect=function(n,i){return Be.current.useLayoutEffect(n,i)},k.useMemo=function(n,i){return Be.current.useMemo(n,i)},k.useReducer=function(n,i,o){return Be.current.useReducer(n,i,o)},k.useRef=function(n){return Be.current.useRef(n)},k.useState=function(n){return Be.current.useState(n)},k.useSyncExternalStore=function(n,i,o){return Be.current.useSyncExternalStore(n,i,o)},k.useTransition=function(){return Be.current.useTransition()},k.version="18.3.1",Qs.exports=k;var tn=Qs.exports,co=ve(tn);const Kn={},hf=(n,i)=>n.unstable_is?n.unstable_is(i):i===n,df=n=>"init"in n,lo=n=>!!n.write,pf=n=>"v"in n||"e"in n,Fr=n=>{if("e"in n)throw n.e;if((Kn?"production":void 0)!=="production"&&!("v"in n))throw new Error("[Bug] atom state is not initialized");return n.v},Nr=new WeakMap,gf=n=>{var i;return Dr(n)&&!!((i=Nr.get(n))!=null&&i[0])},Gd=n=>{const i=Nr.get(n);i!=null&&i[0]&&(i[0]=!1,i[1].forEach(o=>o()))},vf=(n,i)=>{let o=Nr.get(n);if(!o){o=[!0,new Set],Nr.set(n,o);const s=()=>{o[0]=!1};n.then(s,s)}o[1].add(i)},Dr=n=>typeof(n==null?void 0:n.then)=="function",_f=(n,i,o)=>{o.p.has(n)||(o.p.add(n),i.then(()=>{o.p.delete(n)},()=>{o.p.delete(n)}))},ho=(n,i,o)=>{const s=o(n),l="v"in s,p=s.v;if(Dr(i))for(const d of s.d.keys())_f(n,i,o(d));s.v=i,delete s.e,(!l||!Object.is(p,s.v))&&(++s.n,Dr(p)&&Gd(p))},yf=(n,i,o)=>{var s;const l=new Set;for(const p of((s=o.get(n))==null?void 0:s.t)||[])o.has(p)&&l.add(p);for(const p of i.p)l.add(p);return l},Kd=()=>{const n=new Set,i=()=>{n.forEach(o=>o())};return i.add=o=>(n.add(o),()=>{n.delete(o)}),i},po=()=>{const n={},i=new WeakMap,o=s=>{var l,p;(l=i.get(n))==null||l.forEach(d=>d(s)),(p=i.get(s))==null||p.forEach(d=>d())};return o.add=(s,l)=>{const p=s||n,d=(i.has(p)?i:i.set(p,new Set)).get(p);return d.add(l),()=>{d==null||d.delete(l),d.size||i.delete(p)}},o},qd=n=>(n.c||(n.c=po()),n.m||(n.m=po()),n.u||(n.u=po()),n.f||(n.f=Kd()),n),Hd=Symbol(),mf=(n=new WeakMap,i=new WeakMap,o=new WeakMap,s=new Set,l=new Set,p=new Set,d={},y=(P,...M)=>P.read(...M),m=(P,...M)=>P.write(...M),b=(P,M)=>{var Y;return(Y=P.unstable_onInit)==null?void 0:Y.call(P,M)},O=(P,M)=>{var Y;return(Y=P.onMount)==null?void 0:Y.call(P,M)},...L)=>{const P=L[0]||(I=>{if((Kn?"production":void 0)!=="production"&&!I)throw new Error("Atom is undefined or null");let B=n.get(I);return B||(B={d:new Map,p:new Set,n:0},n.set(I,B),b==null||b(I,xe)),B}),M=L[1]||(()=>{const I=[],B=$=>{try{$()}catch(U){I.push(U)}};do{d.f&&B(d.f);const $=new Set,U=$.add.bind($);s.forEach(W=>{var G;return(G=i.get(W))==null?void 0:G.l.forEach(U)}),s.clear(),p.forEach(U),p.clear(),l.forEach(U),l.clear(),$.forEach(B),s.size&&Y()}while(s.size||p.size||l.size);if(I.length)throw new AggregateError(I)}),Y=L[2]||(()=>{const I=[],B=new WeakSet,$=new WeakSet,U=Array.from(s);for(;U.length;){const W=U[U.length-1],G=P(W);if($.has(W)){U.pop();continue}if(B.has(W)){if(o.get(W)===G.n)I.push([W,G]);else if((Kn?"production":void 0)!=="production"&&o.has(W))throw new Error("[Bug] invalidated atom exists");$.add(W),U.pop();continue}B.add(W);for(const Ie of yf(W,G,i))B.has(Ie)||U.push(Ie)}for(let W=I.length-1;W>=0;--W){const[G,Ie]=I[W];let Ce=!1;for(const Tt of Ie.d.keys())if(Tt!==G&&s.has(Tt)){Ce=!0;break}Ce&&(de(G),be(G)),o.delete(G)}}),de=L[3]||(I=>{var B;const $=P(I);if(pf($)&&(i.has(I)&&o.get(I)!==$.n||Array.from($.d).every(([le,pt])=>de(le).n===pt)))return $;$.d.clear();let U=!0;const W=()=>{i.has(I)&&(be(I),Y(),M())},G=le=>{var pt;if(hf(I,le)){const nn=P(le);if(!pf(nn))if(df(le))ho(le,le.init,P);else throw new Error("no atom init");return Fr(nn)}const jn=de(le);try{return Fr(jn)}finally{$.d.set(le,jn.n),gf($.v)&&_f(I,$.v,jn),(pt=i.get(le))==null||pt.t.add(I),U||W()}};let Ie,Ce;const Tt={get signal(){return Ie||(Ie=new AbortController),Ie.signal},get setSelf(){return(Kn?"production":void 0)!=="production"&&!lo(I)&&console.warn("setSelf function cannot be used with read-only atom"),!Ce&&lo(I)&&(Ce=(...le)=>{if((Kn?"production":void 0)!=="production"&&U&&console.warn("setSelf function cannot be called in sync"),!U)try{return ue(I,...le)}finally{Y(),M()}}),Ce}},wn=$.n;try{const le=y(I,G,Tt);return ho(I,le,P),Dr(le)&&(vf(le,()=>Ie==null?void 0:Ie.abort()),le.then(W,W)),$}catch(le){return delete $.v,$.e=le,++$.n,$}finally{U=!1,wn!==$.n&&o.get(I)===wn&&(o.set(I,$.n),s.add(I),(B=d.c)==null||B.call(d,I))}}),j=L[4]||(I=>{const B=[I];for(;B.length;){const $=B.pop(),U=P($);for(const W of yf($,U,i)){const G=P(W);o.set(W,G.n),B.push(W)}}}),ue=L[5]||((I,...B)=>{let $=!0;const U=G=>Fr(de(G)),W=(G,...Ie)=>{var Ce;const Tt=P(G);try{if(hf(I,G)){if(!df(G))throw new Error("atom not writable");const wn=Tt.n,le=Ie[0];ho(G,le,P),be(G),wn!==Tt.n&&(s.add(G),(Ce=d.c)==null||Ce.call(d,G),j(G));return}else return ue(G,...Ie)}finally{$||(Y(),M())}};try{return m(I,U,W,...B)}finally{$=!1}}),be=L[6]||(I=>{var B;const $=P(I),U=i.get(I);if(U&&!gf($.v)){for(const[W,G]of $.d)if(!U.d.has(W)){const Ie=P(W);fe(W).t.add(I),U.d.add(W),G!==Ie.n&&(s.add(W),(B=d.c)==null||B.call(d,W),j(W))}for(const W of U.d||[])if(!$.d.has(W)){U.d.delete(W);const G=Ee(W);G==null||G.t.delete(I)}}}),fe=L[7]||(I=>{var B;const $=P(I);let U=i.get(I);if(!U){de(I);for(const W of $.d.keys())fe(W).t.add(I);if(U={l:new Set,d:new Set($.d.keys()),t:new Set},i.set(I,U),(B=d.m)==null||B.call(d,I),lo(I)){const W=()=>{let G=!0;const Ie=(...Ce)=>{try{return ue(I,...Ce)}finally{G||(Y(),M())}};try{const Ce=O(I,Ie);Ce&&(U.u=()=>{G=!0;try{Ce()}finally{G=!1}})}finally{G=!1}};l.add(W)}}return U}),Ee=L[8]||(I=>{var B;const $=P(I);let U=i.get(I);if(U&&!U.l.size&&!Array.from(U.t).some(W=>{var G;return(G=i.get(W))==null?void 0:G.d.has(I)})){U.u&&p.add(U.u),U=void 0,i.delete(I),(B=d.u)==null||B.call(d,I);for(const W of $.d.keys()){const G=Ee(W);G==null||G.t.delete(I)}return}return U}),Pe=[n,i,o,s,l,p,d,y,m,b,O,P,M,Y,de,j,ue,be,fe,Ee],xe={get:I=>Fr(de(I)),set:(I,...B)=>{try{return ue(I,...B)}finally{Y(),M()}},sub:(I,B)=>{const U=fe(I).l;return U.add(B),M(),()=>{U.delete(B),Ee(I),M()}}};return Object.defineProperty(xe,Hd,{value:Pe}),xe},zd=qd,wf=vf,go={};let Jd=0;function ce(n,i){const o=`atom${++Jd}`,s={toString(){return(go?"production":void 0)!=="production"&&this.debugLabel?o+":"+this.debugLabel:o}};return typeof n=="function"?s.read=n:(s.init=n,s.read=jd,s.write=kd),i&&(s.write=i),s}function jd(n){return n(this)}function kd(n,i,o){return i(this,typeof o=="function"?o(n(this)):o)}const Yd=()=>{let n=0;const i=zd({}),o=new WeakMap,s=new WeakMap,l=mf(o,s,void 0,void 0,void 0,void 0,i,void 0,(y,m,b,...O)=>n?b(y,...O):y.write(m,b,...O)),p=new Set;return i.m.add(void 0,y=>{p.add(y);const m=o.get(y);m.m=s.get(y)}),i.u.add(void 0,y=>{p.delete(y);const m=o.get(y);delete m.m}),Object.assign(l,{dev4_get_internal_weak_map:()=>o,dev4_get_mounted_atoms:()=>p,dev4_restore_atoms:y=>{const m={read:()=>null,write:(b,O)=>{++n;try{for(const[L,P]of y)"init"in L&&O(L,P)}finally{--n}}};l.set(m)}})};function Zd(){return(go?"production":void 0)!=="production"?Yd():mf()}let qn;function vo(){return qn||(qn=Zd(),(go?"production":void 0)!=="production"&&(globalThis.__JOTAI_DEFAULT_STORE__||(globalThis.__JOTAI_DEFAULT_STORE__=qn),globalThis.__JOTAI_DEFAULT_STORE__!==qn&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044"))),qn}const Xd={},Vd=tn.createContext(void 0);function bf(n){return tn.useContext(Vd)||vo()}const Sf=n=>typeof(n==null?void 0:n.then)=="function",Qd=n=>{n.status="pending",n.then(i=>{n.status="fulfilled",n.value=i},i=>{n.status="rejected",n.reason=i})},ep=co.use||(n=>{if(n.status==="pending")throw n;if(n.status==="fulfilled")return n.value;throw n.status==="rejected"?n.reason:(Qd(n),n)}),_o=new WeakMap,tp=(n,i)=>{let o=_o.get(n);return o||(o=new Promise((s,l)=>{let p=n;const d=b=>O=>{p===b&&s(O)},y=b=>O=>{p===b&&l(O)},m=()=>{try{const b=i();Sf(b)?(_o.set(b,o),p=b,b.then(d(b),y(b)),wf(b,m)):s(b)}catch(b){l(b)}};n.then(d(n),y(n)),wf(n,m)}),_o.set(n,o)),o};function Af(n,i){const o=bf(),[[s,l,p],d]=tn.useReducer(b=>{const O=o.get(n);return Object.is(b[0],O)&&b[1]===o&&b[2]===n?b:[O,o,n]},void 0,()=>[o.get(n),o,n]);let y=s;if((l!==o||p!==n)&&(d(),y=o.get(n)),tn.useEffect(()=>{const b=o.sub(n,()=>{d()});return d(),b},[o,n,void 0]),tn.useDebugValue(y),Sf(y)){const b=tp(y,()=>o.get(n));return ep(b)}return y}function np(n,i){const o=bf();return tn.useCallback((...l)=>{if((Xd?"production":void 0)!=="production"&&!("write"in n))throw new Error("not writable atom");return o.set(n,...l)},[o,n])}const $r={},rp=Symbol(($r?"production":void 0)!=="production"?"RESET":"");function ip(n,i){let o=null;const s=new Map,l=new Set,p=y=>{let m;if(m=s.get(y),m!==void 0)if(o!=null&&o(m[1],y))p.remove(y);else return m[0];const b=n(y);return s.set(y,[b,Date.now()]),d("CREATE",y,b),b},d=(y,m,b)=>{for(const O of l)O({type:y,param:m,atom:b})};return p.unstable_listen=y=>(l.add(y),()=>{l.delete(y)}),p.getParams=()=>s.keys(),p.remove=y=>{{if(!s.has(y))return;const[m]=s.get(y);s.delete(y),d("REMOVE",y,m)}},p.setShouldRemove=y=>{if(o=y,!!o)for(const[m,[b,O]]of s)o(O,m)&&(s.delete(m),d("REMOVE",m,b))},p}const Ef=(n,i,o)=>(i.has(o)?i:i.set(o,n())).get(o),op=new WeakMap,up=(n,i,o)=>{const s=Ef(()=>new WeakMap,op,i);return Ef(n,s,o)},sp={},xf=n=>!!n.write,fp=n=>typeof n=="function";function Of(n,i){return up(()=>{const o=new WeakMap,s=(d,y)=>{let m=o.get(d);if(m)return m;const b=y&&o.get(y),O=[],L=[];return d.forEach((P,M)=>{const Y=M;L[M]=Y;const de=b&&b.atomList[b.keyList.indexOf(Y)];if(de){O[M]=de;return}const j=be=>{const fe=be(l),Ee=be(n),xe=s(Ee,fe==null?void 0:fe.arr).keyList.indexOf(Y);if(xe<0||xe>=Ee.length){const I=d[s(d).keyList.indexOf(Y)];if(I)return I;throw new Error("splitAtom: index out of bounds for read")}return Ee[xe]},ue=(be,fe,Ee)=>{const Pe=be(l),xe=be(n),B=s(xe,Pe==null?void 0:Pe.arr).keyList.indexOf(Y);if(B<0||B>=xe.length)throw new Error("splitAtom: index out of bounds for write");const $=fp(Ee)?Ee(xe[B]):Ee;Object.is(xe[B],$)||fe(n,[...xe.slice(0,B),$,...xe.slice(B+1)])};O[M]=xf(n)?ce(j,ue):ce(j)}),b&&b.keyList.length===L.length&&b.keyList.every((P,M)=>P===L[M])?m=b:m={arr:d,atomList:O,keyList:L},o.set(d,m),m},l=ce(d=>{const y=d(l),m=d(n);return s(m,y==null?void 0:y.arr)});($r?"production":void 0)!=="production"&&(l.debugPrivate=!0),l.init=void 0;const p=xf(n)?ce(d=>d(l).atomList,(d,y,m)=>{switch(m.type){case"remove":{const b=d(p).indexOf(m.atom);if(b>=0){const O=d(n);y(n,[...O.slice(0,b),...O.slice(b+1)])}break}case"insert":{const b=m.before?d(p).indexOf(m.before):d(p).length;if(b>=0){const O=d(n);y(n,[...O.slice(0,b),m.value,...O.slice(b)])}break}case"move":{const b=d(p).indexOf(m.atom),O=m.before?d(p).indexOf(m.before):d(p).length;if(b>=0&&O>=0){const L=d(n);b<O?y(n,[...L.slice(0,b),...L.slice(b+1,O),L[b],...L.slice(O)]):y(n,[...L.slice(0,O),L[b],...L.slice(O,b),...L.slice(b+1)])}break}}}):ce(d=>d(l).atomList);return p},n,sp)}const ap=n=>typeof(n==null?void 0:n.then)=="function";function If(n=()=>{try{return window.localStorage}catch(o){($r?"production":void 0)!=="production"&&typeof window<"u"&&console.warn(o);return}},i){var o;let s,l;const p={getItem:(m,b)=>{var O,L;const P=Y=>{if(Y=Y||"",s!==Y){try{l=JSON.parse(Y,i==null?void 0:i.reviver)}catch{return b}s=Y}return l},M=(L=(O=n())==null?void 0:O.getItem(m))!=null?L:null;return ap(M)?M.then(P):P(M)},setItem:(m,b)=>{var O;return(O=n())==null?void 0:O.setItem(m,JSON.stringify(b,void 0))},removeItem:m=>{var b;return(b=n())==null?void 0:b.removeItem(m)}},d=m=>(b,O,L)=>m(b,P=>{let M;try{M=JSON.parse(P||"")}catch{M=L}O(M)});let y;try{y=(o=n())==null?void 0:o.subscribe}catch{}return!y&&typeof window<"u"&&typeof window.addEventListener=="function"&&window.Storage&&(y=(m,b)=>{if(!(n()instanceof window.Storage))return()=>{};const O=L=>{L.storageArea===n()&&L.key===m&&b(L.newValue)};return window.addEventListener("storage",O),()=>{window.removeEventListener("storage",O)}}),y&&(p.subscribe=d(y)),p}const cp=If();function lp(n,i,o=cp,s){const l=s==null?void 0:s.getOnInit,p=ce(l?o.getItem(n,i):i);return($r?"production":void 0)!=="production"&&(p.debugPrivate=!0),p.onMount=y=>{y(o.getItem(n,i));let m;return o.subscribe&&(m=o.subscribe(n,y,i)),m},ce(y=>y(p),(y,m,b)=>{const O=typeof b=="function"?b(y(p)):b;return O===rp?(m(p,i),o.removeItem(n)):O instanceof Promise?O.then(L=>(m(p,L),o.setItem(n,L))):(m(p,O),o.setItem(n,O))})}var hp=Object.defineProperty,dp=(n,i,o)=>i in n?hp(n,i,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[i]=o,Re=(n,i,o)=>(dp(n,typeof i!="symbol"?i+"":i,o),o);function rt(n){return new Promise((i,o)=>{n.oncomplete=n.onsuccess=()=>i(n.result),n.onabort=n.onerror=()=>o(n.error)})}function pp(n,i){const o=indexedDB.open(n);o.onupgradeneeded=()=>o.result.createObjectStore(i);const s=rt(o);return(l,p)=>s.then(d=>p(d.transaction(i,l).objectStore(i)))}let yo;function Hn(){return yo||(yo=pp("keyval-store","keyval")),yo}function gp(n,i,o=Hn()){return o("readwrite",s=>(s.put(i,n),rt(s.transaction)))}function Tf(n,i=Hn()){return i("readwrite",o=>(n.forEach(s=>o.put(s[1],s[0])),rt(o.transaction)))}function vp(n,i=Hn()){return i("readwrite",o=>(o.delete(n),rt(o.transaction)))}function _p(n=Hn()){return n("readwrite",i=>(i.clear(),rt(i.transaction)))}function yp(n,i){return n.openCursor().onsuccess=function(){this.result&&(i(this.result),this.result.continue())},rt(n.transaction)}function mo(n=Hn()){return n("readonly",i=>{if(i.getAll&&i.getAllKeys)return Promise.all([rt(i.getAllKeys()),rt(i.getAll())]).then(([s,l])=>s.map((p,d)=>[p,l[d]]));const o=[];return n("readonly",s=>yp(s,l=>o.push([l.key,l.value])).then(()=>o))})}const mp="jotai-minidb",wp={name:mp,version:0,migrations:{},onMigrationCompleted:()=>{alert("Data has been migrated. Page will be reloaded"),window.location.reload()},onVersionMissmatch:()=>{}};class bp{constructor(i={}){Re(this,"channel"),Re(this,"cache",ce(void 0)),Re(this,"idbStorage"),Re(this,"metaStorage"),Re(this,"config"),Re(this,"initStarted",ce(!1)),Re(this,"initialDataThenable",Sp()),Re(this,"suspendBeforeInit",ce(async l=>{l(this.items),await l(this.initialDataThenable).promise})),Re(this,"isInitialized",ce(!1)),Re(this,"items",ce((l,{setSelf:p})=>(l(this.initStarted)||Promise.resolve().then(p),l(this.cache)),async(l,p)=>{l(this.initStarted)||(p(this.initStarted,!0),this.preloadData().then(d=>{p(this.cache,d),l(this.initialDataThenable).resolve()}),this.channel.onmessage=async d=>{const y=d.data;y.type==="UPDATE"?p(this.cache,m=>({...m,[y.id]:y.item})):y.type==="DELETE"?p(this.cache,m=>{const b={...m};return delete b[y.id],b}):y.type==="UPDATE_MANY"?p(this.cache,Object.fromEntries(await mo(this.idbStorage))):y.type==="MIGRATION_COMPLETED"&&this.config.onMigrationCompleted()})})),Re(this,"entries",ce(l=>Object.entries(l(this.items)||{}))),Re(this,"keys",ce(l=>Object.keys(l(this.items)||{}))),Re(this,"values",ce(l=>Object.values(l(this.items)||{}))),Re(this,"item",ip(l=>ce(p=>{var d;return(d=p(this.items))==null?void 0:d[l]},async(p,d,y)=>{await d(this.set,l,y)}))),Re(this,"set",ce(null,async(l,p,d,y)=>{l(this.cache)||await l(this.suspendBeforeInit);const m=l(this.cache);if(!m)throw new Error("Cache was not initialized");const b=Ep(y)?y(m[d]):y;p(this.cache,O=>({...O,[d]:b})),await gp(d,b,this.idbStorage),this.channel.postMessage({type:"UPDATE",id:d,item:b})})),Re(this,"setMany",ce(null,async(l,p,d)=>{l(this.cache)||await l(this.suspendBeforeInit);const y={...l(this.cache)};for(const[m,b]of d)y[m]=b;p(this.cache,y),await Tf(d,this.idbStorage),this.channel.postMessage({type:"UPDATE_MANY"})})),Re(this,"delete",ce(null,async(l,p,d)=>{l(this.cache)||await l(this.suspendBeforeInit),p(this.cache,y=>{const m={...y};return delete m[d],m}),await vp(d,this.idbStorage),this.channel.postMessage({type:"DELETE",id:d})})),Re(this,"clear",ce(null,async(l,p)=>{l(this.cache)||await l(this.suspendBeforeInit),p(this.cache,{}),await _p(this.idbStorage),this.channel.postMessage({type:"UPDATE_MANY"})})),this.config={...wp,initialData:{},...i};const{keyvalStorage:o,metaStorage:s}=Ap(this.config.name,"key-value",this.config.initialData);this.idbStorage=o,this.metaStorage=s,this.channel=new BroadcastChannel(`jotai-minidb-broadcast:${this.config.name}`)}async preloadData(){return await this.migrate(),Object.fromEntries(await mo(this.idbStorage))}async migrate(){const i=await this.metaStorage("readonly",o=>rt(o.get("version")))||0;if(this.config.version>i){let o=await mo(this.idbStorage);for(let s=i+1;s<=this.config.version;s++){const l=this.config.migrations[s];if(!l)throw new Error(`Migrate function for version ${s} is not provided`);o=await Promise.all(o.map(async([p,d])=>[p,await l(d)]))}await Tf(o,this.idbStorage),await this.metaStorage("readwrite",s=>rt(s.put(this.config.version,"version"))),this.channel.postMessage({type:"MIGRATION_COMPLETED"})}else if(this.config.version<i)throw this.config.onVersionMissmatch(),new Error(`[jotai-minidb] Minimal client version is ${this.config.version} but indexeddb database version is ${i}`)}}function Sp(){return ce(()=>{let n,i;return{promise:new Promise((o,s)=>{n=o,i=s}),resolve:n,reject:i}})}function Ap(n,i,o){const s=indexedDB.open(n),l=[];s.onupgradeneeded=d=>{const y=s.result.createObjectStore(i);s.result.createObjectStore("_meta");for(const[m,b]of Object.entries(o))l.push(rt(y.add(b,m)))};const p=rt(s);return{keyvalStorage:async(d,y)=>{const m=await p;return await Promise.all(l),y(m.transaction(i,d).objectStore(i))},metaStorage:(d,y)=>p.then(m=>y(m.transaction("_meta",d).objectStore("_meta")))}}function Ep(n){return typeof n=="function"}new bp;const xp=()=>If(),Op={atom:(n,i)=>lp(n,i,xp(),{getOnInit:!0})},Ip=vo(),Lf=typeof window>"u",Rf=(n,i,o="mem")=>{const s=o==="mem",l=!s&&!Lf?Op.atom(n,i):ce(i),p=new Set,d=new BroadcastChannel(n);let y;d.onmessage=L=>{const P=L;P.data.type==="update"?p.forEach(M=>M(P)):P.data.type==="init"&&d.postMessage({type:"update",value:y||Ip.get(l)})};const m=ce(L=>L(l),(L,P,M)=>{P(l,M.value),M.isEvent||(y=L(l),d.postMessage({type:"update",value:y}))}),b=L=>{const P=M=>{M.data.type==="update"&&L({isEvent:!0,value:M.data.value})};return p.add(P),(s||Lf)&&d.postMessage({type:"init"}),()=>{p.delete(P)}};return m.onMount=b,ce(L=>L(m),(L,P,M)=>{P(m,{isEvent:!1,value:M})})},It=n=>n,wo=n=>({_tag:"Left",value:n}),Br=n=>({_tag:"Right",value:n}),Tp=(n,i,o)=>o._tag==="Left"?n(o.value):i(o.value),Pf={dimap:(n,i,o)=>s=>i(o(n(s))),first:n=>([i,o])=>[n(i),o],right:n=>i=>i._tag==="Left"?i:Br(n(i.value)),wander:n=>i=>i.map(n)},Lp={empty:()=>{},foldMap:(n,i)=>{for(let o=0;o<i.length;o++){const s=n(i[o]);if(s!=null)return s}}},Rp={empty:()=>[],foldMap:(n,i)=>{let o=[];return i.forEach(s=>{o=o.concat(n(s))}),o}},bo=n=>({dimap:(i,o,s)=>l=>s(i(l)),first:i=>([o,s])=>i(o),right:i=>o=>o._tag==="Left"?n.empty():i(o.value),wander:i=>o=>n.foldMap(i,o)}),So={Equivalence:{Equivalence:"Equivalence",Iso:"Iso",Lens:"Lens",Prism:"Prism",Traversal:"Traversal",Getter:"Getter",AffineFold:"AffineFold",Fold:"Fold",Setter:"Setter"},Iso:{Equivalence:"Iso",Iso:"Iso",Lens:"Lens",Prism:"Prism",Traversal:"Traversal",Getter:"Getter",AffineFold:"AffineFold",Fold:"Fold",Setter:"Setter"},Lens:{Equivalence:"Lens",Iso:"Lens",Lens:"Lens",Prism:"Prism",Traversal:"Traversal",Getter:"Getter",AffineFold:"AffineFold",Fold:"Fold",Setter:"Setter"},Prism:{Equivalence:"Prism",Iso:"Prism",Lens:"Prism",Prism:"Prism",Traversal:"Traversal",Getter:"AffineFold",AffineFold:"AffineFold",Fold:"Fold",Setter:"Setter"},Traversal:{Equivalence:"Traversal",Iso:"Traversal",Lens:"Traversal",Prism:"Traversal",Traversal:"Traversal",Getter:"Fold",AffineFold:"Fold",Fold:"Fold",Setter:"Setter"},Getter:{Equivalence:"Getter",Iso:"Getter",Lens:"Getter",Prism:"AffineFold",Traversal:"Fold",Getter:"Getter",AffineFold:"AffineFold",Fold:"Fold",Setter:void 0},AffineFold:{Equivalence:"AffineFold",Iso:"AffineFold",Lens:"AffineFold",Prism:"AffineFold",Traversal:"Fold",Getter:"AffineFold",AffineFold:"AffineFold",Fold:"Fold",Setter:void 0},Fold:{Equivalence:"Fold",Iso:"Fold",Lens:"Fold",Prism:"Fold",Traversal:"Fold",Getter:"Fold",AffineFold:"Fold",Fold:"Fold",Setter:void 0},Setter:{Equivalence:void 0,Iso:void 0,Lens:void 0,Prism:void 0,Traversal:void 0,Getter:void 0,AffineFold:void 0,Fold:void 0,Setter:void 0}},yn=(n,i)=>{const o=i;return o._tag=n,o},Cf=n=>(n._removable=!0,n);function ee(n,i,o){switch(arguments.length){case 2:{const s=(l,p)=>n(l,i(l,p));return s._tag=So[n._tag][i._tag],s._removable=i._removable||!1,s}default:{const s=So[n._tag][i._tag],l=(p,d)=>n(p,i(p,o(p,d)));return l._tag=So[s][o._tag],l._removable=o._removable||!1,l}}}const Pp=yn("Equivalence",(n,i)=>i),Wr=(n,i)=>yn("Iso",(o,s)=>o.dimap(n,i,s)),ke=(n,i)=>yn("Lens",(o,s)=>o.dimap(l=>[n(l),l],i,o.first(s))),Ao=(n,i)=>yn("Prism",(o,s)=>o.dimap(n,l=>Tp(It,i,l),o.right(s))),Eo=yn("Traversal",(n,i)=>n.dimap(It,It,n.wander(i))),Cp=n=>yn("Getter",(i,o)=>i.dimap(n,It,o)),Mf=(n,i,o)=>n(Pf,i)(o),Mp=(n,i,o)=>n(Pf,()=>i)(o),Fp=(n,i)=>n(bo({}),It)(i),Np=(n,i)=>n(bo(Lp),It)(i),Ff=(n,i)=>n(bo(Rp),o=>[o])(i),Dp=Wr(n=>n.map((i,o)=>[o,i]),n=>{const i=[...n].sort((s,l)=>s[0]-l[0]),o=[];for(let s=0;s<i.length;++s)(s===i.length-1||i[s][0]!==i[s+1][0])&&o.push(i[s][1]);return o}),Nf=n=>ke(i=>i[n],([i,o])=>Object.assign(Object.assign({},o),{[n]:i})),$p=n=>ke(i=>{const o={};for(const s of n)o[s]=i[s];return o},([i,o])=>{const s=Object.assign({},o);for(const l of n)delete s[l];return Object.assign(s,i)}),Df=n=>ke(i=>i[n],([i,o])=>{const s=o.slice();return s[n]=i,s}),xo=Df(0),Oo=n=>Ao(i=>n(i)?Br(i):wo(i),It),zn=Symbol("__no_match__"),$f=Oo(n=>n!==zn),Bf=Symbol("__remove_me__"),Io=n=>Cf(ee(ke(i=>0<=n&&n<i.length?i[n]:zn,([i,o])=>{if(i===zn)return o;if(i===Bf)return typeof o=="string"?o.substring(0,n)+o.substring(n+1):[...o.slice(0,n),...o.slice(n+1)];if(typeof o=="string")return n===0?i+o.substring(1):n===o.length?o.substring(0,n-1)+i:o.substring(0,n)+i+o.substring(n+1);{const s=o.slice();return s[n]=i,s}}),$f)),Bp=Ao(n=>n===void 0?wo(void 0):Br(n),It),Wp=n=>Ao(i=>n(i)?Br(i):wo(i),It),Up=n=>Cf(ee(ke(i=>{const o=i.findIndex(n);return o===-1?[zn,-1]:[i[o],o]},([[i,o],s])=>{if(i===zn)return s;if(i===Bf)return[...s.slice(0,o),...s.slice(o+1)];const l=s.slice();return l[o]=i,l}),xo,$f)),Gp=n=>ee(ke(i=>{const o=i.map((s,l)=>n(s)?l:null).filter(s=>s!=null);return[o.map(s=>i[s]),o]},([[i,o],s])=>{const l=s.length,p=i.length;let d=0,y=0,m=0;const b=[];for(;d<l;)o[y]===d?(++y,m<p&&(b.push(i[m]),++m)):b.push(s[d]),++d;for(;m<p;)b.push(i[m++]);return b}),xo),Kp=n=>ke(i=>i===void 0?n:i,([i,o])=>i),qp=n=>ee(ke(i=>{const o=Ff(n,i);return[o,o.length]},([[i,o],s])=>{if(i.length!==o)throw new Error("cannot add/remove elements through partsOf");let l=0;return Mf(n,()=>i[l++],s)}),xo),Hp=n=>ke(i=>n(i),([i,o])=>i),zp=n=>ke(i=>i,([i,o])=>n(i)),Jp=ke(n=>{},([n,i])=>n===void 0?i:[n,...i]),jp=ke(n=>{},([n,i])=>n===void 0?i:[...i,n]),kp=ee(Wr(n=>n.split(""),n=>n.join("")),Eo),Yp=ee(Wr(n=>n.split(/\b/),n=>n.join("")),Eo,Oo(n=>!/\s+/.test(n)));class oe{constructor(i){this._ref=i}get _tag(){return this._ref._tag}get _removable(){return this._ref._removable}compose(i){return new oe(ee(this._ref,i._ref))}iso(i,o){return new oe(ee(this._ref,Wr(i,o)))}lens(i,o){return new oe(ee(this._ref,ke(i,([s,l])=>o(l,s))))}indexed(){return new oe(ee(this._ref,Dp))}prop(i){return new oe(ee(this._ref,Nf(i)))}path(...i){return i.length===1&&(i=i[0].split(".")),new oe(i.reduce((o,s)=>ee(o,Nf(s)),this._ref))}pick(i){return new oe(ee(this._ref,$p(i)))}nth(i){return new oe(ee(this._ref,Df(i)))}filter(i){return new oe(ee(this._ref,Gp(i)))}valueOr(i){return new oe(ee(this._ref,Kp(i)))}partsOf(i){const o=typeof i=="function"?i(Wf):i;return new oe(ee(this._ref,qp(o._ref)))}reread(i){return new oe(ee(this._ref,Hp(i)))}rewrite(i){return new oe(ee(this._ref,zp(i)))}optional(){return new oe(ee(this._ref,Bp))}guard_(){return i=>this.guard(i)}guard(i){return new oe(ee(this._ref,Wp(i)))}at(i){return new oe(ee(this._ref,Io(i)))}head(){return new oe(ee(this._ref,Io(0)))}index(i){return new oe(ee(this._ref,Io(i)))}find(i){return new oe(ee(this._ref,Up(i)))}elems(){return new oe(ee(this._ref,Eo))}to(i){return new oe(ee(this._ref,Cp(i)))}when(i){return new oe(ee(this._ref,Oo(i)))}chars(){return new oe(ee(this._ref,kp))}words(){return new oe(ee(this._ref,Yp))}prependTo(){return new oe(ee(this._ref,Jp))}appendTo(){return new oe(ee(this._ref,jp))}}const Wf=new oe(Pp);function Zp(){return Wf}function Xp(n){return i=>Fp(n._ref,i)}function Vp(n){return i=>Np(n._ref,i)}function Qp(n){return i=>Ff(n._ref,i)}function eg(n){return i=>o=>Mf(n._ref,i,o)}function tg(n){return i=>o=>Mp(n._ref,i,o)}const Uf=(n,i,o)=>(i.has(o)?i:i.set(o,n())).get(o),ng=new WeakMap,rg=(n,i,o)=>{const s=Uf(()=>new WeakMap,ng,i);return Uf(n,s,o)},ig=n=>typeof n=="function";function og(n,i){return rg(()=>{const o=i(Zp());return ce(l=>{const p=l(n);return p instanceof Promise?p.then(d=>Gf(o,d)):Gf(o,p)},(l,p,d)=>{const y=ig(d)?eg(o)(d):tg(o)(d),m=l(n);return p(n,m instanceof Promise?m.then(y):y(m))})},n,i)}const Gf=(n,i)=>n._tag==="Traversal"?Qp(n)(i):n._tag==="Prism"?Vp(n)(i):Xp(n)(i),Ur=vo(),mn=(n,i)=>{const o=()=>Ur.get(n),s=j=>{Ur.set(n,j)};let l;const p=(j,ue)=>{const be=()=>{const fe=j(o());typeof fe=="function"&&(l=fe)};ue&&be(),Ur.sub(n,()=>{l!==void 0&&l(),be()})},d=j=>p(j,!1),y=j=>p(j,!0),m=()=>Af(n),b=()=>np(n),O=()=>[m(),b()],L=j=>mn(og(n,j));return{get:o,set:s,sub:d,subAndInit:y,useValue:m,useSet:b,use:O,focus:L,useFocus:j=>{const ue=co.useCallback(be=>be.prop(j),[j]);return L(ue)},useFocusMemo:j=>{const ue=m();return co.useMemo(()=>L(j),[ue])},array:()=>{const j=n;return Ur.get(Of(j)).map(ue=>mn(ue))},useArray:()=>Af(Of(n)).map(ue=>mn(ue))}},ug=(n,i)=>mn(ce(i)),sg=(n,i)=>mn(Rf(n,i)),fg=(n,i)=>mn(Rf(n,i,"storage")),Kf={},Ye={mem:sg,memSingle:ug,storage:fg,family:n=>i=>{const o=Kf[i];if(o!==void 0)return o;{const s=n(i);return Kf[i]=s,s}}},ag=()=>({label:"Default",key:"default",controllers:[],style:{accent:{color1:"#6a11cb",color2:"#2575fc"}}}),cg=()=>({active:"default",projects:[ag()]}),we={initArrangement:Ye.mem("init-arrangement",[]),importStatus:Ye.mem("import-status",{type:"none"}),project:{config:Ye.storage("projects-config",cg()),abletonName:Ye.mem("ableton-name",void 0),arrangement:Ye.mem("arrangement",yd())},realTime:{beats:Ye.mem("real-time-beats",0),barBeats:Ye.mem("real-time-bar-beats",1),timeSignature:Ye.mem("real-time-time-signature",{noteCount:4,noteLength:4}),tempo:Ye.mem("real-time-tempo",0),isPlaying:Ye.mem("real-time-is-playing",!1),metronomeState:Ye.mem("real-time-metronome-state",!1),loopState:Ye.mem("real-time-loop-state",!1),halfBeat:Ye.mem("real-time-half-beat",!1)}},lg=n=>{const i=o=>{if(o.type==="init-ack")we.importStatus.set({type:"ack",projectName:o.projectName}),we.project.abletonName.set(o.projectName);else if(o.type==="init-project")we.importStatus.set({type:"importing"}),we.initArrangement.set(bd());else if(o.type==="init-track")we.initArrangement.set(Sd(o));else if(o.type==="init-clip")we.initArrangement.set(Ad(o));else if(o.type==="init-cue")we.initArrangement.set(Ed(o));else if(o.type==="init-done"){we.importStatus.set({type:"finalizing"});const s=xd(we.initArrangement.get());we.project.arrangement.set(s),we.importStatus.set({type:"done"})}else o.type==="beat"?we.realTime.beats.set(o.value):o.type==="sig"?we.realTime.timeSignature.set({noteCount:o.numer,noteLength:o.denom}):o.type==="bar-beat"?we.realTime.barBeats.set(o.value):o.type==="tempo"?we.realTime.tempo.set(o.value):o.type==="is-playing"?we.realTime.isPlaying.set(o.value):o.type==="metronome-state"?we.realTime.metronomeState.set(o.value):o.type==="loop-state"?we.realTime.loopState.set(o.value):o.type==="half-beat"&&we.realTime.halfBeat.set(o.isHalf)};n.on("sysex",o=>{const s=Ul(o);s!==void 0&&i(s)})},hg=n=>{n.emit(ht.init()),we.importStatus.sub(i=>{i.type==="ack"&&n.emit(ht.initReady(["Songs","Parts","Chris Keyboard"]))})},dg={init:(n,i)=>{console.log("Project Main"),we.project.config.sub(o=>{console.log("projects",o)}),lg(n),hg(i)}};console.log("Loading Project Worker Main");const qf=os(),Hf=os();onmessage=n=>{Q.isArray(n.data)&&n.data.length==2&&n.data[0]==="DAW_LISTENER"&&qf.emit(n.data[1])},Hf.on("*",n=>postMessage(["DAW_EMITTER",n])),dg.init(qf,Hf)})();
