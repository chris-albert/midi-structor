var Zj=Object.defineProperty;var Lw=t=>{throw TypeError(t)};var t3=(t,e,n)=>e in t?Zj(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var _=(t,e,n)=>t3(t,typeof e!="symbol"?e+"":e,n),Fw=(t,e,n)=>e.has(t)||Lw("Cannot "+n);var Bw=(t,e,n)=>(Fw(t,e,"read from private field"),n?n.call(t):e.get(t)),jw=(t,e,n)=>e.has(t)?Lw("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Dw=(t,e,n,r)=>(Fw(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);function e3(t,e){return e.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(r){if(r!=="default"&&!(r in t)){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}})}),Object.freeze(t)}var mc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function JT(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var o0={exports:{}},Da=typeof Reflect=="object"?Reflect:null,zw=Da&&typeof Da.apply=="function"?Da.apply:function(e,n,r){return Function.prototype.apply.call(e,n,r)},yd;Da&&typeof Da.ownKeys=="function"?yd=Da.ownKeys:Object.getOwnPropertySymbols?yd=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:yd=function(e){return Object.getOwnPropertyNames(e)};function n3(t){console&&console.warn&&console.warn(t)}var YT=Number.isNaN||function(e){return e!==e};function Xt(){Xt.init.call(this)}o0.exports=Xt;o0.exports.once=s3;Xt.EventEmitter=Xt;Xt.prototype._events=void 0;Xt.prototype._eventsCount=0;Xt.prototype._maxListeners=void 0;var Uw=10;function Nh(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(Xt,"defaultMaxListeners",{enumerable:!0,get:function(){return Uw},set:function(t){if(typeof t!="number"||t<0||YT(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");Uw=t}});Xt.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Xt.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||YT(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function XT(t){return t._maxListeners===void 0?Xt.defaultMaxListeners:t._maxListeners}Xt.prototype.getMaxListeners=function(){return XT(this)};Xt.prototype.emit=function(e){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var i=e==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var a;if(n.length>0&&(a=n[0]),a instanceof Error)throw a;var c=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw c.context=a,c}var l=s[e];if(l===void 0)return!1;if(typeof l=="function")zw(l,this,n);else for(var d=l.length,h=nO(l,d),r=0;r<d;++r)zw(h[r],this,n);return!0};function QT(t,e,n,r){var i,s,a;if(Nh(n),s=t._events,s===void 0?(s=t._events=Object.create(null),t._eventsCount=0):(s.newListener!==void 0&&(t.emit("newListener",e,n.listener?n.listener:n),s=t._events),a=s[e]),a===void 0)a=s[e]=n,++t._eventsCount;else if(typeof a=="function"?a=s[e]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),i=XT(t),i>0&&a.length>i&&!a.warned){a.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=t,c.type=e,c.count=a.length,n3(c)}return t}Xt.prototype.addListener=function(e,n){return QT(this,e,n,!1)};Xt.prototype.on=Xt.prototype.addListener;Xt.prototype.prependListener=function(e,n){return QT(this,e,n,!0)};function r3(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function ZT(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=r3.bind(r);return i.listener=n,r.wrapFn=i,i}Xt.prototype.once=function(e,n){return Nh(n),this.on(e,ZT(this,e,n)),this};Xt.prototype.prependOnceListener=function(e,n){return Nh(n),this.prependListener(e,ZT(this,e,n)),this};Xt.prototype.removeListener=function(e,n){var r,i,s,a,c;if(Nh(n),i=this._events,i===void 0)return this;if(r=i[e],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,r.listener||n));else if(typeof r!="function"){for(s=-1,a=r.length-1;a>=0;a--)if(r[a]===n||r[a].listener===n){c=r[a].listener,s=a;break}if(s<0)return this;s===0?r.shift():i3(r,s),r.length===1&&(i[e]=r[0]),i.removeListener!==void 0&&this.emit("removeListener",e,c||n)}return this};Xt.prototype.off=Xt.prototype.removeListener;Xt.prototype.removeAllListeners=function(e){var n,r,i;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var s=Object.keys(r),a;for(i=0;i<s.length;++i)a=s[i],a!=="removeListener"&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[e],typeof n=="function")this.removeListener(e,n);else if(n!==void 0)for(i=n.length-1;i>=0;i--)this.removeListener(e,n[i]);return this};function tO(t,e,n){var r=t._events;if(r===void 0)return[];var i=r[e];return i===void 0?[]:typeof i=="function"?n?[i.listener||i]:[i]:n?o3(i):nO(i,i.length)}Xt.prototype.listeners=function(e){return tO(this,e,!0)};Xt.prototype.rawListeners=function(e){return tO(this,e,!1)};Xt.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):eO.call(t,e)};Xt.prototype.listenerCount=eO;function eO(t){var e=this._events;if(e!==void 0){var n=e[t];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}Xt.prototype.eventNames=function(){return this._eventsCount>0?yd(this._events):[]};function nO(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function i3(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function o3(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}function s3(t,e){return new Promise(function(n,r){function i(a){t.removeListener(e,s),r(a)}function s(){typeof t.removeListener=="function"&&t.removeListener("error",i),n([].slice.call(arguments))}rO(t,e,s,{once:!0}),e!=="error"&&a3(t,i,{once:!0})})}function a3(t,e,n){typeof t.on=="function"&&rO(t,"error",e,n)}function rO(t,e,n,r){if(typeof t.on=="function")r.once?t.once(e,n):t.on(e,n);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(s){r.once&&t.removeEventListener(e,i),n(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var u3=o0.exports;const s0=()=>c3(new u3.EventEmitter),c3=t=>({on:(e,n)=>(t.on(e,n),()=>{t.off(e,n)}),emit:e=>{t.emit("*",e),t.emit(e.type,e)}});var Dd={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Dd.exports;(function(t,e){(function(){var n,r="4.17.21",i=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",c="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",d=500,h="__lodash_placeholder__",g=1,m=2,y=4,w=1,x=2,C=1,T=2,R=4,M=8,P=16,j=32,B=64,k=128,z=256,K=512,b=30,N="...",D=800,X=16,nt=1,mt=2,pt=3,rt=1/0,st=9007199254740991,Nt=17976931348623157e292,sn=NaN,oe=4294967295,Po=oe-1,Yu=oe>>>1,Xu=[["ary",k],["bind",C],["bindKey",T],["curry",M],["curryRight",P],["flip",K],["partial",j],["partialRight",B],["rearg",z]],bi="[object Arguments]",$o="[object Array]",hs="[object AsyncFunction]",Xi="[object Boolean]",Gn="[object Date]",Qu="[object DOMException]",Ro="[object Error]",Mo="[object Function]",da="[object GeneratorFunction]",an="[object Map]",Qi="[object Number]",Zu="[object Null]",bn="[object Object]",Si="[object Promise]",tc="[object Proxy]",wi="[object RegExp]",Ln="[object Set]",Q="[object String]",ht="[object Symbol]",Sn="[object Undefined]",wn="[object WeakMap]",No="[object WeakSet]",ti="[object ArrayBuffer]",Lo="[object DataView]",pg="[object Float32Array]",gg="[object Float64Array]",mg="[object Int8Array]",yg="[object Int16Array]",vg="[object Int32Array]",_g="[object Uint8Array]",bg="[object Uint8ClampedArray]",Sg="[object Uint16Array]",wg="[object Uint32Array]",bM=/\b__p \+= '';/g,SM=/\b(__p \+=) '' \+/g,wM=/(__e\(.*?\)|\b__t\)) \+\n'';/g,aS=/&(?:amp|lt|gt|quot|#39);/g,uS=/[&<>"']/g,EM=RegExp(aS.source),xM=RegExp(uS.source),CM=/<%-([\s\S]+?)%>/g,TM=/<%([\s\S]+?)%>/g,cS=/<%=([\s\S]+?)%>/g,OM=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,AM=/^\w*$/,kM=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Eg=/[\\^$.*+?()[\]{}|]/g,IM=RegExp(Eg.source),xg=/^\s+/,PM=/\s/,$M=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,RM=/\{\n\/\* \[wrapped with (.+)\] \*/,MM=/,? & /,NM=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,LM=/[()=,{}\[\]\/\s]/,FM=/\\(\\)?/g,BM=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,lS=/\w*$/,jM=/^[-+]0x[0-9a-f]+$/i,DM=/^0b[01]+$/i,zM=/^\[object .+?Constructor\]$/,UM=/^0o[0-7]+$/i,WM=/^(?:0|[1-9]\d*)$/,KM=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,of=/($^)/,qM=/['\n\r\u2028\u2029\\]/g,sf="\\ud800-\\udfff",VM="\\u0300-\\u036f",HM="\\ufe20-\\ufe2f",GM="\\u20d0-\\u20ff",fS=VM+HM+GM,dS="\\u2700-\\u27bf",hS="a-z\\xdf-\\xf6\\xf8-\\xff",JM="\\xac\\xb1\\xd7\\xf7",YM="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",XM="\\u2000-\\u206f",QM=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",pS="A-Z\\xc0-\\xd6\\xd8-\\xde",gS="\\ufe0e\\ufe0f",mS=JM+YM+XM+QM,Cg="['’]",ZM="["+sf+"]",yS="["+mS+"]",af="["+fS+"]",vS="\\d+",tN="["+dS+"]",_S="["+hS+"]",bS="[^"+sf+mS+vS+dS+hS+pS+"]",Tg="\\ud83c[\\udffb-\\udfff]",eN="(?:"+af+"|"+Tg+")",SS="[^"+sf+"]",Og="(?:\\ud83c[\\udde6-\\uddff]){2}",Ag="[\\ud800-\\udbff][\\udc00-\\udfff]",ha="["+pS+"]",wS="\\u200d",ES="(?:"+_S+"|"+bS+")",nN="(?:"+ha+"|"+bS+")",xS="(?:"+Cg+"(?:d|ll|m|re|s|t|ve))?",CS="(?:"+Cg+"(?:D|LL|M|RE|S|T|VE))?",TS=eN+"?",OS="["+gS+"]?",rN="(?:"+wS+"(?:"+[SS,Og,Ag].join("|")+")"+OS+TS+")*",iN="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",oN="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",AS=OS+TS+rN,sN="(?:"+[tN,Og,Ag].join("|")+")"+AS,aN="(?:"+[SS+af+"?",af,Og,Ag,ZM].join("|")+")",uN=RegExp(Cg,"g"),cN=RegExp(af,"g"),kg=RegExp(Tg+"(?="+Tg+")|"+aN+AS,"g"),lN=RegExp([ha+"?"+_S+"+"+xS+"(?="+[yS,ha,"$"].join("|")+")",nN+"+"+CS+"(?="+[yS,ha+ES,"$"].join("|")+")",ha+"?"+ES+"+"+xS,ha+"+"+CS,oN,iN,vS,sN].join("|"),"g"),fN=RegExp("["+wS+sf+fS+gS+"]"),dN=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,hN=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],pN=-1,le={};le[pg]=le[gg]=le[mg]=le[yg]=le[vg]=le[_g]=le[bg]=le[Sg]=le[wg]=!0,le[bi]=le[$o]=le[ti]=le[Xi]=le[Lo]=le[Gn]=le[Ro]=le[Mo]=le[an]=le[Qi]=le[bn]=le[wi]=le[Ln]=le[Q]=le[wn]=!1;var se={};se[bi]=se[$o]=se[ti]=se[Lo]=se[Xi]=se[Gn]=se[pg]=se[gg]=se[mg]=se[yg]=se[vg]=se[an]=se[Qi]=se[bn]=se[wi]=se[Ln]=se[Q]=se[ht]=se[_g]=se[bg]=se[Sg]=se[wg]=!0,se[Ro]=se[Mo]=se[wn]=!1;var gN={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},mN={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},yN={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},vN={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},_N=parseFloat,bN=parseInt,kS=typeof mc=="object"&&mc&&mc.Object===Object&&mc,SN=typeof self=="object"&&self&&self.Object===Object&&self,un=kS||SN||Function("return this")(),Ig=e&&!e.nodeType&&e,ps=Ig&&!0&&t&&!t.nodeType&&t,IS=ps&&ps.exports===Ig,Pg=IS&&kS.process,Ir=function(){try{var I=ps&&ps.require&&ps.require("util").types;return I||Pg&&Pg.binding&&Pg.binding("util")}catch{}}(),PS=Ir&&Ir.isArrayBuffer,$S=Ir&&Ir.isDate,RS=Ir&&Ir.isMap,MS=Ir&&Ir.isRegExp,NS=Ir&&Ir.isSet,LS=Ir&&Ir.isTypedArray;function or(I,W,F){switch(F.length){case 0:return I.call(W);case 1:return I.call(W,F[0]);case 2:return I.call(W,F[0],F[1]);case 3:return I.call(W,F[0],F[1],F[2])}return I.apply(W,F)}function wN(I,W,F,et){for(var yt=-1,Ut=I==null?0:I.length;++yt<Ut;){var ze=I[yt];W(et,ze,F(ze),I)}return et}function Pr(I,W){for(var F=-1,et=I==null?0:I.length;++F<et&&W(I[F],F,I)!==!1;);return I}function EN(I,W){for(var F=I==null?0:I.length;F--&&W(I[F],F,I)!==!1;);return I}function FS(I,W){for(var F=-1,et=I==null?0:I.length;++F<et;)if(!W(I[F],F,I))return!1;return!0}function Fo(I,W){for(var F=-1,et=I==null?0:I.length,yt=0,Ut=[];++F<et;){var ze=I[F];W(ze,F,I)&&(Ut[yt++]=ze)}return Ut}function uf(I,W){var F=I==null?0:I.length;return!!F&&pa(I,W,0)>-1}function $g(I,W,F){for(var et=-1,yt=I==null?0:I.length;++et<yt;)if(F(W,I[et]))return!0;return!1}function he(I,W){for(var F=-1,et=I==null?0:I.length,yt=Array(et);++F<et;)yt[F]=W(I[F],F,I);return yt}function Bo(I,W){for(var F=-1,et=W.length,yt=I.length;++F<et;)I[yt+F]=W[F];return I}function Rg(I,W,F,et){var yt=-1,Ut=I==null?0:I.length;for(et&&Ut&&(F=I[++yt]);++yt<Ut;)F=W(F,I[yt],yt,I);return F}function xN(I,W,F,et){var yt=I==null?0:I.length;for(et&&yt&&(F=I[--yt]);yt--;)F=W(F,I[yt],yt,I);return F}function Mg(I,W){for(var F=-1,et=I==null?0:I.length;++F<et;)if(W(I[F],F,I))return!0;return!1}var CN=Ng("length");function TN(I){return I.split("")}function ON(I){return I.match(NM)||[]}function BS(I,W,F){var et;return F(I,function(yt,Ut,ze){if(W(yt,Ut,ze))return et=Ut,!1}),et}function cf(I,W,F,et){for(var yt=I.length,Ut=F+(et?1:-1);et?Ut--:++Ut<yt;)if(W(I[Ut],Ut,I))return Ut;return-1}function pa(I,W,F){return W===W?jN(I,W,F):cf(I,jS,F)}function AN(I,W,F,et){for(var yt=F-1,Ut=I.length;++yt<Ut;)if(et(I[yt],W))return yt;return-1}function jS(I){return I!==I}function DS(I,W){var F=I==null?0:I.length;return F?Fg(I,W)/F:sn}function Ng(I){return function(W){return W==null?n:W[I]}}function Lg(I){return function(W){return I==null?n:I[W]}}function zS(I,W,F,et,yt){return yt(I,function(Ut,ze,Qt){F=et?(et=!1,Ut):W(F,Ut,ze,Qt)}),F}function kN(I,W){var F=I.length;for(I.sort(W);F--;)I[F]=I[F].value;return I}function Fg(I,W){for(var F,et=-1,yt=I.length;++et<yt;){var Ut=W(I[et]);Ut!==n&&(F=F===n?Ut:F+Ut)}return F}function Bg(I,W){for(var F=-1,et=Array(I);++F<I;)et[F]=W(F);return et}function IN(I,W){return he(W,function(F){return[F,I[F]]})}function US(I){return I&&I.slice(0,VS(I)+1).replace(xg,"")}function sr(I){return function(W){return I(W)}}function jg(I,W){return he(W,function(F){return I[F]})}function ec(I,W){return I.has(W)}function WS(I,W){for(var F=-1,et=I.length;++F<et&&pa(W,I[F],0)>-1;);return F}function KS(I,W){for(var F=I.length;F--&&pa(W,I[F],0)>-1;);return F}function PN(I,W){for(var F=I.length,et=0;F--;)I[F]===W&&++et;return et}var $N=Lg(gN),RN=Lg(mN);function MN(I){return"\\"+vN[I]}function NN(I,W){return I==null?n:I[W]}function ga(I){return fN.test(I)}function LN(I){return dN.test(I)}function FN(I){for(var W,F=[];!(W=I.next()).done;)F.push(W.value);return F}function Dg(I){var W=-1,F=Array(I.size);return I.forEach(function(et,yt){F[++W]=[yt,et]}),F}function qS(I,W){return function(F){return I(W(F))}}function jo(I,W){for(var F=-1,et=I.length,yt=0,Ut=[];++F<et;){var ze=I[F];(ze===W||ze===h)&&(I[F]=h,Ut[yt++]=F)}return Ut}function lf(I){var W=-1,F=Array(I.size);return I.forEach(function(et){F[++W]=et}),F}function BN(I){var W=-1,F=Array(I.size);return I.forEach(function(et){F[++W]=[et,et]}),F}function jN(I,W,F){for(var et=F-1,yt=I.length;++et<yt;)if(I[et]===W)return et;return-1}function DN(I,W,F){for(var et=F+1;et--;)if(I[et]===W)return et;return et}function ma(I){return ga(I)?UN(I):CN(I)}function ei(I){return ga(I)?WN(I):TN(I)}function VS(I){for(var W=I.length;W--&&PM.test(I.charAt(W)););return W}var zN=Lg(yN);function UN(I){for(var W=kg.lastIndex=0;kg.test(I);)++W;return W}function WN(I){return I.match(kg)||[]}function KN(I){return I.match(lN)||[]}var qN=function I(W){W=W==null?un:ya.defaults(un.Object(),W,ya.pick(un,hN));var F=W.Array,et=W.Date,yt=W.Error,Ut=W.Function,ze=W.Math,Qt=W.Object,zg=W.RegExp,VN=W.String,$r=W.TypeError,ff=F.prototype,HN=Ut.prototype,va=Qt.prototype,df=W["__core-js_shared__"],hf=HN.toString,Gt=va.hasOwnProperty,GN=0,HS=function(){var o=/[^.]+$/.exec(df&&df.keys&&df.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""}(),pf=va.toString,JN=hf.call(Qt),YN=un._,XN=zg("^"+hf.call(Gt).replace(Eg,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),gf=IS?W.Buffer:n,Do=W.Symbol,mf=W.Uint8Array,GS=gf?gf.allocUnsafe:n,yf=qS(Qt.getPrototypeOf,Qt),JS=Qt.create,YS=va.propertyIsEnumerable,vf=ff.splice,XS=Do?Do.isConcatSpreadable:n,nc=Do?Do.iterator:n,gs=Do?Do.toStringTag:n,_f=function(){try{var o=bs(Qt,"defineProperty");return o({},"",{}),o}catch{}}(),QN=W.clearTimeout!==un.clearTimeout&&W.clearTimeout,ZN=et&&et.now!==un.Date.now&&et.now,t2=W.setTimeout!==un.setTimeout&&W.setTimeout,bf=ze.ceil,Sf=ze.floor,Ug=Qt.getOwnPropertySymbols,e2=gf?gf.isBuffer:n,QS=W.isFinite,n2=ff.join,r2=qS(Qt.keys,Qt),Ue=ze.max,En=ze.min,i2=et.now,o2=W.parseInt,ZS=ze.random,s2=ff.reverse,Wg=bs(W,"DataView"),rc=bs(W,"Map"),Kg=bs(W,"Promise"),_a=bs(W,"Set"),ic=bs(W,"WeakMap"),oc=bs(Qt,"create"),wf=ic&&new ic,ba={},a2=Ss(Wg),u2=Ss(rc),c2=Ss(Kg),l2=Ss(_a),f2=Ss(ic),Ef=Do?Do.prototype:n,sc=Ef?Ef.valueOf:n,t1=Ef?Ef.toString:n;function S(o){if(Se(o)&&!_t(o)&&!(o instanceof Rt)){if(o instanceof Rr)return o;if(Gt.call(o,"__wrapped__"))return ew(o)}return new Rr(o)}var Sa=function(){function o(){}return function(u){if(!ye(u))return{};if(JS)return JS(u);o.prototype=u;var f=new o;return o.prototype=n,f}}();function xf(){}function Rr(o,u){this.__wrapped__=o,this.__actions__=[],this.__chain__=!!u,this.__index__=0,this.__values__=n}S.templateSettings={escape:CM,evaluate:TM,interpolate:cS,variable:"",imports:{_:S}},S.prototype=xf.prototype,S.prototype.constructor=S,Rr.prototype=Sa(xf.prototype),Rr.prototype.constructor=Rr;function Rt(o){this.__wrapped__=o,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=oe,this.__views__=[]}function d2(){var o=new Rt(this.__wrapped__);return o.__actions__=Jn(this.__actions__),o.__dir__=this.__dir__,o.__filtered__=this.__filtered__,o.__iteratees__=Jn(this.__iteratees__),o.__takeCount__=this.__takeCount__,o.__views__=Jn(this.__views__),o}function h2(){if(this.__filtered__){var o=new Rt(this);o.__dir__=-1,o.__filtered__=!0}else o=this.clone(),o.__dir__*=-1;return o}function p2(){var o=this.__wrapped__.value(),u=this.__dir__,f=_t(o),p=u<0,v=f?o.length:0,E=TL(0,v,this.__views__),O=E.start,A=E.end,$=A-O,q=p?A:O-1,V=this.__iteratees__,Y=V.length,Z=0,it=En($,this.__takeCount__);if(!f||!p&&v==$&&it==$)return x1(o,this.__actions__);var ft=[];t:for(;$--&&Z<it;){q+=u;for(var Ct=-1,dt=o[q];++Ct<Y;){var Pt=V[Ct],Lt=Pt.iteratee,cr=Pt.type,jn=Lt(dt);if(cr==mt)dt=jn;else if(!jn){if(cr==nt)continue t;break t}}ft[Z++]=dt}return ft}Rt.prototype=Sa(xf.prototype),Rt.prototype.constructor=Rt;function ms(o){var u=-1,f=o==null?0:o.length;for(this.clear();++u<f;){var p=o[u];this.set(p[0],p[1])}}function g2(){this.__data__=oc?oc(null):{},this.size=0}function m2(o){var u=this.has(o)&&delete this.__data__[o];return this.size-=u?1:0,u}function y2(o){var u=this.__data__;if(oc){var f=u[o];return f===l?n:f}return Gt.call(u,o)?u[o]:n}function v2(o){var u=this.__data__;return oc?u[o]!==n:Gt.call(u,o)}function _2(o,u){var f=this.__data__;return this.size+=this.has(o)?0:1,f[o]=oc&&u===n?l:u,this}ms.prototype.clear=g2,ms.prototype.delete=m2,ms.prototype.get=y2,ms.prototype.has=v2,ms.prototype.set=_2;function Zi(o){var u=-1,f=o==null?0:o.length;for(this.clear();++u<f;){var p=o[u];this.set(p[0],p[1])}}function b2(){this.__data__=[],this.size=0}function S2(o){var u=this.__data__,f=Cf(u,o);if(f<0)return!1;var p=u.length-1;return f==p?u.pop():vf.call(u,f,1),--this.size,!0}function w2(o){var u=this.__data__,f=Cf(u,o);return f<0?n:u[f][1]}function E2(o){return Cf(this.__data__,o)>-1}function x2(o,u){var f=this.__data__,p=Cf(f,o);return p<0?(++this.size,f.push([o,u])):f[p][1]=u,this}Zi.prototype.clear=b2,Zi.prototype.delete=S2,Zi.prototype.get=w2,Zi.prototype.has=E2,Zi.prototype.set=x2;function to(o){var u=-1,f=o==null?0:o.length;for(this.clear();++u<f;){var p=o[u];this.set(p[0],p[1])}}function C2(){this.size=0,this.__data__={hash:new ms,map:new(rc||Zi),string:new ms}}function T2(o){var u=Ff(this,o).delete(o);return this.size-=u?1:0,u}function O2(o){return Ff(this,o).get(o)}function A2(o){return Ff(this,o).has(o)}function k2(o,u){var f=Ff(this,o),p=f.size;return f.set(o,u),this.size+=f.size==p?0:1,this}to.prototype.clear=C2,to.prototype.delete=T2,to.prototype.get=O2,to.prototype.has=A2,to.prototype.set=k2;function ys(o){var u=-1,f=o==null?0:o.length;for(this.__data__=new to;++u<f;)this.add(o[u])}function I2(o){return this.__data__.set(o,l),this}function P2(o){return this.__data__.has(o)}ys.prototype.add=ys.prototype.push=I2,ys.prototype.has=P2;function ni(o){var u=this.__data__=new Zi(o);this.size=u.size}function $2(){this.__data__=new Zi,this.size=0}function R2(o){var u=this.__data__,f=u.delete(o);return this.size=u.size,f}function M2(o){return this.__data__.get(o)}function N2(o){return this.__data__.has(o)}function L2(o,u){var f=this.__data__;if(f instanceof Zi){var p=f.__data__;if(!rc||p.length<i-1)return p.push([o,u]),this.size=++f.size,this;f=this.__data__=new to(p)}return f.set(o,u),this.size=f.size,this}ni.prototype.clear=$2,ni.prototype.delete=R2,ni.prototype.get=M2,ni.prototype.has=N2,ni.prototype.set=L2;function e1(o,u){var f=_t(o),p=!f&&ws(o),v=!f&&!p&&qo(o),E=!f&&!p&&!v&&Ca(o),O=f||p||v||E,A=O?Bg(o.length,VN):[],$=A.length;for(var q in o)(u||Gt.call(o,q))&&!(O&&(q=="length"||v&&(q=="offset"||q=="parent")||E&&(q=="buffer"||q=="byteLength"||q=="byteOffset")||io(q,$)))&&A.push(q);return A}function n1(o){var u=o.length;return u?o[em(0,u-1)]:n}function F2(o,u){return Bf(Jn(o),vs(u,0,o.length))}function B2(o){return Bf(Jn(o))}function qg(o,u,f){(f!==n&&!ri(o[u],f)||f===n&&!(u in o))&&eo(o,u,f)}function ac(o,u,f){var p=o[u];(!(Gt.call(o,u)&&ri(p,f))||f===n&&!(u in o))&&eo(o,u,f)}function Cf(o,u){for(var f=o.length;f--;)if(ri(o[f][0],u))return f;return-1}function j2(o,u,f,p){return zo(o,function(v,E,O){u(p,v,f(v),O)}),p}function r1(o,u){return o&&xi(u,Ye(u),o)}function D2(o,u){return o&&xi(u,Xn(u),o)}function eo(o,u,f){u=="__proto__"&&_f?_f(o,u,{configurable:!0,enumerable:!0,value:f,writable:!0}):o[u]=f}function Vg(o,u){for(var f=-1,p=u.length,v=F(p),E=o==null;++f<p;)v[f]=E?n:Tm(o,u[f]);return v}function vs(o,u,f){return o===o&&(f!==n&&(o=o<=f?o:f),u!==n&&(o=o>=u?o:u)),o}function Mr(o,u,f,p,v,E){var O,A=u&g,$=u&m,q=u&y;if(f&&(O=v?f(o,p,v,E):f(o)),O!==n)return O;if(!ye(o))return o;var V=_t(o);if(V){if(O=AL(o),!A)return Jn(o,O)}else{var Y=xn(o),Z=Y==Mo||Y==da;if(qo(o))return O1(o,A);if(Y==bn||Y==bi||Z&&!v){if(O=$||Z?{}:V1(o),!A)return $?yL(o,D2(O,o)):mL(o,r1(O,o))}else{if(!se[Y])return v?o:{};O=kL(o,Y,A)}}E||(E=new ni);var it=E.get(o);if(it)return it;E.set(o,O),Sw(o)?o.forEach(function(dt){O.add(Mr(dt,u,f,dt,o,E))}):_w(o)&&o.forEach(function(dt,Pt){O.set(Pt,Mr(dt,u,f,Pt,o,E))});var ft=q?$?dm:fm:$?Xn:Ye,Ct=V?n:ft(o);return Pr(Ct||o,function(dt,Pt){Ct&&(Pt=dt,dt=o[Pt]),ac(O,Pt,Mr(dt,u,f,Pt,o,E))}),O}function z2(o){var u=Ye(o);return function(f){return i1(f,o,u)}}function i1(o,u,f){var p=f.length;if(o==null)return!p;for(o=Qt(o);p--;){var v=f[p],E=u[v],O=o[v];if(O===n&&!(v in o)||!E(O))return!1}return!0}function o1(o,u,f){if(typeof o!="function")throw new $r(a);return pc(function(){o.apply(n,f)},u)}function uc(o,u,f,p){var v=-1,E=uf,O=!0,A=o.length,$=[],q=u.length;if(!A)return $;f&&(u=he(u,sr(f))),p?(E=$g,O=!1):u.length>=i&&(E=ec,O=!1,u=new ys(u));t:for(;++v<A;){var V=o[v],Y=f==null?V:f(V);if(V=p||V!==0?V:0,O&&Y===Y){for(var Z=q;Z--;)if(u[Z]===Y)continue t;$.push(V)}else E(u,Y,p)||$.push(V)}return $}var zo=$1(Ei),s1=$1(Gg,!0);function U2(o,u){var f=!0;return zo(o,function(p,v,E){return f=!!u(p,v,E),f}),f}function Tf(o,u,f){for(var p=-1,v=o.length;++p<v;){var E=o[p],O=u(E);if(O!=null&&(A===n?O===O&&!ur(O):f(O,A)))var A=O,$=E}return $}function W2(o,u,f,p){var v=o.length;for(f=Et(f),f<0&&(f=-f>v?0:v+f),p=p===n||p>v?v:Et(p),p<0&&(p+=v),p=f>p?0:Ew(p);f<p;)o[f++]=u;return o}function a1(o,u){var f=[];return zo(o,function(p,v,E){u(p,v,E)&&f.push(p)}),f}function cn(o,u,f,p,v){var E=-1,O=o.length;for(f||(f=PL),v||(v=[]);++E<O;){var A=o[E];u>0&&f(A)?u>1?cn(A,u-1,f,p,v):Bo(v,A):p||(v[v.length]=A)}return v}var Hg=R1(),u1=R1(!0);function Ei(o,u){return o&&Hg(o,u,Ye)}function Gg(o,u){return o&&u1(o,u,Ye)}function Of(o,u){return Fo(u,function(f){return oo(o[f])})}function _s(o,u){u=Wo(u,o);for(var f=0,p=u.length;o!=null&&f<p;)o=o[Ci(u[f++])];return f&&f==p?o:n}function c1(o,u,f){var p=u(o);return _t(o)?p:Bo(p,f(o))}function Fn(o){return o==null?o===n?Sn:Zu:gs&&gs in Qt(o)?CL(o):BL(o)}function Jg(o,u){return o>u}function K2(o,u){return o!=null&&Gt.call(o,u)}function q2(o,u){return o!=null&&u in Qt(o)}function V2(o,u,f){return o>=En(u,f)&&o<Ue(u,f)}function Yg(o,u,f){for(var p=f?$g:uf,v=o[0].length,E=o.length,O=E,A=F(E),$=1/0,q=[];O--;){var V=o[O];O&&u&&(V=he(V,sr(u))),$=En(V.length,$),A[O]=!f&&(u||v>=120&&V.length>=120)?new ys(O&&V):n}V=o[0];var Y=-1,Z=A[0];t:for(;++Y<v&&q.length<$;){var it=V[Y],ft=u?u(it):it;if(it=f||it!==0?it:0,!(Z?ec(Z,ft):p(q,ft,f))){for(O=E;--O;){var Ct=A[O];if(!(Ct?ec(Ct,ft):p(o[O],ft,f)))continue t}Z&&Z.push(ft),q.push(it)}}return q}function H2(o,u,f,p){return Ei(o,function(v,E,O){u(p,f(v),E,O)}),p}function cc(o,u,f){u=Wo(u,o),o=Y1(o,u);var p=o==null?o:o[Ci(Lr(u))];return p==null?n:or(p,o,f)}function l1(o){return Se(o)&&Fn(o)==bi}function G2(o){return Se(o)&&Fn(o)==ti}function J2(o){return Se(o)&&Fn(o)==Gn}function lc(o,u,f,p,v){return o===u?!0:o==null||u==null||!Se(o)&&!Se(u)?o!==o&&u!==u:Y2(o,u,f,p,lc,v)}function Y2(o,u,f,p,v,E){var O=_t(o),A=_t(u),$=O?$o:xn(o),q=A?$o:xn(u);$=$==bi?bn:$,q=q==bi?bn:q;var V=$==bn,Y=q==bn,Z=$==q;if(Z&&qo(o)){if(!qo(u))return!1;O=!0,V=!1}if(Z&&!V)return E||(E=new ni),O||Ca(o)?W1(o,u,f,p,v,E):EL(o,u,$,f,p,v,E);if(!(f&w)){var it=V&&Gt.call(o,"__wrapped__"),ft=Y&&Gt.call(u,"__wrapped__");if(it||ft){var Ct=it?o.value():o,dt=ft?u.value():u;return E||(E=new ni),v(Ct,dt,f,p,E)}}return Z?(E||(E=new ni),xL(o,u,f,p,v,E)):!1}function X2(o){return Se(o)&&xn(o)==an}function Xg(o,u,f,p){var v=f.length,E=v,O=!p;if(o==null)return!E;for(o=Qt(o);v--;){var A=f[v];if(O&&A[2]?A[1]!==o[A[0]]:!(A[0]in o))return!1}for(;++v<E;){A=f[v];var $=A[0],q=o[$],V=A[1];if(O&&A[2]){if(q===n&&!($ in o))return!1}else{var Y=new ni;if(p)var Z=p(q,V,$,o,u,Y);if(!(Z===n?lc(V,q,w|x,p,Y):Z))return!1}}return!0}function f1(o){if(!ye(o)||RL(o))return!1;var u=oo(o)?XN:zM;return u.test(Ss(o))}function Q2(o){return Se(o)&&Fn(o)==wi}function Z2(o){return Se(o)&&xn(o)==Ln}function tL(o){return Se(o)&&Kf(o.length)&&!!le[Fn(o)]}function d1(o){return typeof o=="function"?o:o==null?Qn:typeof o=="object"?_t(o)?g1(o[0],o[1]):p1(o):Mw(o)}function Qg(o){if(!hc(o))return r2(o);var u=[];for(var f in Qt(o))Gt.call(o,f)&&f!="constructor"&&u.push(f);return u}function eL(o){if(!ye(o))return FL(o);var u=hc(o),f=[];for(var p in o)p=="constructor"&&(u||!Gt.call(o,p))||f.push(p);return f}function Zg(o,u){return o<u}function h1(o,u){var f=-1,p=Yn(o)?F(o.length):[];return zo(o,function(v,E,O){p[++f]=u(v,E,O)}),p}function p1(o){var u=pm(o);return u.length==1&&u[0][2]?G1(u[0][0],u[0][1]):function(f){return f===o||Xg(f,o,u)}}function g1(o,u){return mm(o)&&H1(u)?G1(Ci(o),u):function(f){var p=Tm(f,o);return p===n&&p===u?Om(f,o):lc(u,p,w|x)}}function Af(o,u,f,p,v){o!==u&&Hg(u,function(E,O){if(v||(v=new ni),ye(E))nL(o,u,O,f,Af,p,v);else{var A=p?p(vm(o,O),E,O+"",o,u,v):n;A===n&&(A=E),qg(o,O,A)}},Xn)}function nL(o,u,f,p,v,E,O){var A=vm(o,f),$=vm(u,f),q=O.get($);if(q){qg(o,f,q);return}var V=E?E(A,$,f+"",o,u,O):n,Y=V===n;if(Y){var Z=_t($),it=!Z&&qo($),ft=!Z&&!it&&Ca($);V=$,Z||it||ft?_t(A)?V=A:Te(A)?V=Jn(A):it?(Y=!1,V=O1($,!0)):ft?(Y=!1,V=A1($,!0)):V=[]:gc($)||ws($)?(V=A,ws(A)?V=xw(A):(!ye(A)||oo(A))&&(V=V1($))):Y=!1}Y&&(O.set($,V),v(V,$,p,E,O),O.delete($)),qg(o,f,V)}function m1(o,u){var f=o.length;if(f)return u+=u<0?f:0,io(u,f)?o[u]:n}function y1(o,u,f){u.length?u=he(u,function(E){return _t(E)?function(O){return _s(O,E.length===1?E[0]:E)}:E}):u=[Qn];var p=-1;u=he(u,sr(lt()));var v=h1(o,function(E,O,A){var $=he(u,function(q){return q(E)});return{criteria:$,index:++p,value:E}});return kN(v,function(E,O){return gL(E,O,f)})}function rL(o,u){return v1(o,u,function(f,p){return Om(o,p)})}function v1(o,u,f){for(var p=-1,v=u.length,E={};++p<v;){var O=u[p],A=_s(o,O);f(A,O)&&fc(E,Wo(O,o),A)}return E}function iL(o){return function(u){return _s(u,o)}}function tm(o,u,f,p){var v=p?AN:pa,E=-1,O=u.length,A=o;for(o===u&&(u=Jn(u)),f&&(A=he(o,sr(f)));++E<O;)for(var $=0,q=u[E],V=f?f(q):q;($=v(A,V,$,p))>-1;)A!==o&&vf.call(A,$,1),vf.call(o,$,1);return o}function _1(o,u){for(var f=o?u.length:0,p=f-1;f--;){var v=u[f];if(f==p||v!==E){var E=v;io(v)?vf.call(o,v,1):im(o,v)}}return o}function em(o,u){return o+Sf(ZS()*(u-o+1))}function oL(o,u,f,p){for(var v=-1,E=Ue(bf((u-o)/(f||1)),0),O=F(E);E--;)O[p?E:++v]=o,o+=f;return O}function nm(o,u){var f="";if(!o||u<1||u>st)return f;do u%2&&(f+=o),u=Sf(u/2),u&&(o+=o);while(u);return f}function At(o,u){return _m(J1(o,u,Qn),o+"")}function sL(o){return n1(Ta(o))}function aL(o,u){var f=Ta(o);return Bf(f,vs(u,0,f.length))}function fc(o,u,f,p){if(!ye(o))return o;u=Wo(u,o);for(var v=-1,E=u.length,O=E-1,A=o;A!=null&&++v<E;){var $=Ci(u[v]),q=f;if($==="__proto__"||$==="constructor"||$==="prototype")return o;if(v!=O){var V=A[$];q=p?p(V,$,A):n,q===n&&(q=ye(V)?V:io(u[v+1])?[]:{})}ac(A,$,q),A=A[$]}return o}var b1=wf?function(o,u){return wf.set(o,u),o}:Qn,uL=_f?function(o,u){return _f(o,"toString",{configurable:!0,enumerable:!1,value:km(u),writable:!0})}:Qn;function cL(o){return Bf(Ta(o))}function Nr(o,u,f){var p=-1,v=o.length;u<0&&(u=-u>v?0:v+u),f=f>v?v:f,f<0&&(f+=v),v=u>f?0:f-u>>>0,u>>>=0;for(var E=F(v);++p<v;)E[p]=o[p+u];return E}function lL(o,u){var f;return zo(o,function(p,v,E){return f=u(p,v,E),!f}),!!f}function kf(o,u,f){var p=0,v=o==null?p:o.length;if(typeof u=="number"&&u===u&&v<=Yu){for(;p<v;){var E=p+v>>>1,O=o[E];O!==null&&!ur(O)&&(f?O<=u:O<u)?p=E+1:v=E}return v}return rm(o,u,Qn,f)}function rm(o,u,f,p){var v=0,E=o==null?0:o.length;if(E===0)return 0;u=f(u);for(var O=u!==u,A=u===null,$=ur(u),q=u===n;v<E;){var V=Sf((v+E)/2),Y=f(o[V]),Z=Y!==n,it=Y===null,ft=Y===Y,Ct=ur(Y);if(O)var dt=p||ft;else q?dt=ft&&(p||Z):A?dt=ft&&Z&&(p||!it):$?dt=ft&&Z&&!it&&(p||!Ct):it||Ct?dt=!1:dt=p?Y<=u:Y<u;dt?v=V+1:E=V}return En(E,Po)}function S1(o,u){for(var f=-1,p=o.length,v=0,E=[];++f<p;){var O=o[f],A=u?u(O):O;if(!f||!ri(A,$)){var $=A;E[v++]=O===0?0:O}}return E}function w1(o){return typeof o=="number"?o:ur(o)?sn:+o}function ar(o){if(typeof o=="string")return o;if(_t(o))return he(o,ar)+"";if(ur(o))return t1?t1.call(o):"";var u=o+"";return u=="0"&&1/o==-1/0?"-0":u}function Uo(o,u,f){var p=-1,v=uf,E=o.length,O=!0,A=[],$=A;if(f)O=!1,v=$g;else if(E>=i){var q=u?null:SL(o);if(q)return lf(q);O=!1,v=ec,$=new ys}else $=u?[]:A;t:for(;++p<E;){var V=o[p],Y=u?u(V):V;if(V=f||V!==0?V:0,O&&Y===Y){for(var Z=$.length;Z--;)if($[Z]===Y)continue t;u&&$.push(Y),A.push(V)}else v($,Y,f)||($!==A&&$.push(Y),A.push(V))}return A}function im(o,u){return u=Wo(u,o),o=Y1(o,u),o==null||delete o[Ci(Lr(u))]}function E1(o,u,f,p){return fc(o,u,f(_s(o,u)),p)}function If(o,u,f,p){for(var v=o.length,E=p?v:-1;(p?E--:++E<v)&&u(o[E],E,o););return f?Nr(o,p?0:E,p?E+1:v):Nr(o,p?E+1:0,p?v:E)}function x1(o,u){var f=o;return f instanceof Rt&&(f=f.value()),Rg(u,function(p,v){return v.func.apply(v.thisArg,Bo([p],v.args))},f)}function om(o,u,f){var p=o.length;if(p<2)return p?Uo(o[0]):[];for(var v=-1,E=F(p);++v<p;)for(var O=o[v],A=-1;++A<p;)A!=v&&(E[v]=uc(E[v]||O,o[A],u,f));return Uo(cn(E,1),u,f)}function C1(o,u,f){for(var p=-1,v=o.length,E=u.length,O={};++p<v;){var A=p<E?u[p]:n;f(O,o[p],A)}return O}function sm(o){return Te(o)?o:[]}function am(o){return typeof o=="function"?o:Qn}function Wo(o,u){return _t(o)?o:mm(o,u)?[o]:tw(Ht(o))}var fL=At;function Ko(o,u,f){var p=o.length;return f=f===n?p:f,!u&&f>=p?o:Nr(o,u,f)}var T1=QN||function(o){return un.clearTimeout(o)};function O1(o,u){if(u)return o.slice();var f=o.length,p=GS?GS(f):new o.constructor(f);return o.copy(p),p}function um(o){var u=new o.constructor(o.byteLength);return new mf(u).set(new mf(o)),u}function dL(o,u){var f=u?um(o.buffer):o.buffer;return new o.constructor(f,o.byteOffset,o.byteLength)}function hL(o){var u=new o.constructor(o.source,lS.exec(o));return u.lastIndex=o.lastIndex,u}function pL(o){return sc?Qt(sc.call(o)):{}}function A1(o,u){var f=u?um(o.buffer):o.buffer;return new o.constructor(f,o.byteOffset,o.length)}function k1(o,u){if(o!==u){var f=o!==n,p=o===null,v=o===o,E=ur(o),O=u!==n,A=u===null,$=u===u,q=ur(u);if(!A&&!q&&!E&&o>u||E&&O&&$&&!A&&!q||p&&O&&$||!f&&$||!v)return 1;if(!p&&!E&&!q&&o<u||q&&f&&v&&!p&&!E||A&&f&&v||!O&&v||!$)return-1}return 0}function gL(o,u,f){for(var p=-1,v=o.criteria,E=u.criteria,O=v.length,A=f.length;++p<O;){var $=k1(v[p],E[p]);if($){if(p>=A)return $;var q=f[p];return $*(q=="desc"?-1:1)}}return o.index-u.index}function I1(o,u,f,p){for(var v=-1,E=o.length,O=f.length,A=-1,$=u.length,q=Ue(E-O,0),V=F($+q),Y=!p;++A<$;)V[A]=u[A];for(;++v<O;)(Y||v<E)&&(V[f[v]]=o[v]);for(;q--;)V[A++]=o[v++];return V}function P1(o,u,f,p){for(var v=-1,E=o.length,O=-1,A=f.length,$=-1,q=u.length,V=Ue(E-A,0),Y=F(V+q),Z=!p;++v<V;)Y[v]=o[v];for(var it=v;++$<q;)Y[it+$]=u[$];for(;++O<A;)(Z||v<E)&&(Y[it+f[O]]=o[v++]);return Y}function Jn(o,u){var f=-1,p=o.length;for(u||(u=F(p));++f<p;)u[f]=o[f];return u}function xi(o,u,f,p){var v=!f;f||(f={});for(var E=-1,O=u.length;++E<O;){var A=u[E],$=p?p(f[A],o[A],A,f,o):n;$===n&&($=o[A]),v?eo(f,A,$):ac(f,A,$)}return f}function mL(o,u){return xi(o,gm(o),u)}function yL(o,u){return xi(o,K1(o),u)}function Pf(o,u){return function(f,p){var v=_t(f)?wN:j2,E=u?u():{};return v(f,o,lt(p,2),E)}}function wa(o){return At(function(u,f){var p=-1,v=f.length,E=v>1?f[v-1]:n,O=v>2?f[2]:n;for(E=o.length>3&&typeof E=="function"?(v--,E):n,O&&Bn(f[0],f[1],O)&&(E=v<3?n:E,v=1),u=Qt(u);++p<v;){var A=f[p];A&&o(u,A,p,E)}return u})}function $1(o,u){return function(f,p){if(f==null)return f;if(!Yn(f))return o(f,p);for(var v=f.length,E=u?v:-1,O=Qt(f);(u?E--:++E<v)&&p(O[E],E,O)!==!1;);return f}}function R1(o){return function(u,f,p){for(var v=-1,E=Qt(u),O=p(u),A=O.length;A--;){var $=O[o?A:++v];if(f(E[$],$,E)===!1)break}return u}}function vL(o,u,f){var p=u&C,v=dc(o);function E(){var O=this&&this!==un&&this instanceof E?v:o;return O.apply(p?f:this,arguments)}return E}function M1(o){return function(u){u=Ht(u);var f=ga(u)?ei(u):n,p=f?f[0]:u.charAt(0),v=f?Ko(f,1).join(""):u.slice(1);return p[o]()+v}}function Ea(o){return function(u){return Rg($w(Pw(u).replace(uN,"")),o,"")}}function dc(o){return function(){var u=arguments;switch(u.length){case 0:return new o;case 1:return new o(u[0]);case 2:return new o(u[0],u[1]);case 3:return new o(u[0],u[1],u[2]);case 4:return new o(u[0],u[1],u[2],u[3]);case 5:return new o(u[0],u[1],u[2],u[3],u[4]);case 6:return new o(u[0],u[1],u[2],u[3],u[4],u[5]);case 7:return new o(u[0],u[1],u[2],u[3],u[4],u[5],u[6])}var f=Sa(o.prototype),p=o.apply(f,u);return ye(p)?p:f}}function _L(o,u,f){var p=dc(o);function v(){for(var E=arguments.length,O=F(E),A=E,$=xa(v);A--;)O[A]=arguments[A];var q=E<3&&O[0]!==$&&O[E-1]!==$?[]:jo(O,$);if(E-=q.length,E<f)return j1(o,u,$f,v.placeholder,n,O,q,n,n,f-E);var V=this&&this!==un&&this instanceof v?p:o;return or(V,this,O)}return v}function N1(o){return function(u,f,p){var v=Qt(u);if(!Yn(u)){var E=lt(f,3);u=Ye(u),f=function(A){return E(v[A],A,v)}}var O=o(u,f,p);return O>-1?v[E?u[O]:O]:n}}function L1(o){return ro(function(u){var f=u.length,p=f,v=Rr.prototype.thru;for(o&&u.reverse();p--;){var E=u[p];if(typeof E!="function")throw new $r(a);if(v&&!O&&Lf(E)=="wrapper")var O=new Rr([],!0)}for(p=O?p:f;++p<f;){E=u[p];var A=Lf(E),$=A=="wrapper"?hm(E):n;$&&ym($[0])&&$[1]==(k|M|j|z)&&!$[4].length&&$[9]==1?O=O[Lf($[0])].apply(O,$[3]):O=E.length==1&&ym(E)?O[A]():O.thru(E)}return function(){var q=arguments,V=q[0];if(O&&q.length==1&&_t(V))return O.plant(V).value();for(var Y=0,Z=f?u[Y].apply(this,q):V;++Y<f;)Z=u[Y].call(this,Z);return Z}})}function $f(o,u,f,p,v,E,O,A,$,q){var V=u&k,Y=u&C,Z=u&T,it=u&(M|P),ft=u&K,Ct=Z?n:dc(o);function dt(){for(var Pt=arguments.length,Lt=F(Pt),cr=Pt;cr--;)Lt[cr]=arguments[cr];if(it)var jn=xa(dt),lr=PN(Lt,jn);if(p&&(Lt=I1(Lt,p,v,it)),E&&(Lt=P1(Lt,E,O,it)),Pt-=lr,it&&Pt<q){var Oe=jo(Lt,jn);return j1(o,u,$f,dt.placeholder,f,Lt,Oe,A,$,q-Pt)}var ii=Y?f:this,ao=Z?ii[o]:o;return Pt=Lt.length,A?Lt=jL(Lt,A):ft&&Pt>1&&Lt.reverse(),V&&$<Pt&&(Lt.length=$),this&&this!==un&&this instanceof dt&&(ao=Ct||dc(ao)),ao.apply(ii,Lt)}return dt}function F1(o,u){return function(f,p){return H2(f,o,u(p),{})}}function Rf(o,u){return function(f,p){var v;if(f===n&&p===n)return u;if(f!==n&&(v=f),p!==n){if(v===n)return p;typeof f=="string"||typeof p=="string"?(f=ar(f),p=ar(p)):(f=w1(f),p=w1(p)),v=o(f,p)}return v}}function cm(o){return ro(function(u){return u=he(u,sr(lt())),At(function(f){var p=this;return o(u,function(v){return or(v,p,f)})})})}function Mf(o,u){u=u===n?" ":ar(u);var f=u.length;if(f<2)return f?nm(u,o):u;var p=nm(u,bf(o/ma(u)));return ga(u)?Ko(ei(p),0,o).join(""):p.slice(0,o)}function bL(o,u,f,p){var v=u&C,E=dc(o);function O(){for(var A=-1,$=arguments.length,q=-1,V=p.length,Y=F(V+$),Z=this&&this!==un&&this instanceof O?E:o;++q<V;)Y[q]=p[q];for(;$--;)Y[q++]=arguments[++A];return or(Z,v?f:this,Y)}return O}function B1(o){return function(u,f,p){return p&&typeof p!="number"&&Bn(u,f,p)&&(f=p=n),u=so(u),f===n?(f=u,u=0):f=so(f),p=p===n?u<f?1:-1:so(p),oL(u,f,p,o)}}function Nf(o){return function(u,f){return typeof u=="string"&&typeof f=="string"||(u=Fr(u),f=Fr(f)),o(u,f)}}function j1(o,u,f,p,v,E,O,A,$,q){var V=u&M,Y=V?O:n,Z=V?n:O,it=V?E:n,ft=V?n:E;u|=V?j:B,u&=~(V?B:j),u&R||(u&=-4);var Ct=[o,u,v,it,Y,ft,Z,A,$,q],dt=f.apply(n,Ct);return ym(o)&&X1(dt,Ct),dt.placeholder=p,Q1(dt,o,u)}function lm(o){var u=ze[o];return function(f,p){if(f=Fr(f),p=p==null?0:En(Et(p),292),p&&QS(f)){var v=(Ht(f)+"e").split("e"),E=u(v[0]+"e"+(+v[1]+p));return v=(Ht(E)+"e").split("e"),+(v[0]+"e"+(+v[1]-p))}return u(f)}}var SL=_a&&1/lf(new _a([,-0]))[1]==rt?function(o){return new _a(o)}:$m;function D1(o){return function(u){var f=xn(u);return f==an?Dg(u):f==Ln?BN(u):IN(u,o(u))}}function no(o,u,f,p,v,E,O,A){var $=u&T;if(!$&&typeof o!="function")throw new $r(a);var q=p?p.length:0;if(q||(u&=-97,p=v=n),O=O===n?O:Ue(Et(O),0),A=A===n?A:Et(A),q-=v?v.length:0,u&B){var V=p,Y=v;p=v=n}var Z=$?n:hm(o),it=[o,u,f,p,v,V,Y,E,O,A];if(Z&&LL(it,Z),o=it[0],u=it[1],f=it[2],p=it[3],v=it[4],A=it[9]=it[9]===n?$?0:o.length:Ue(it[9]-q,0),!A&&u&(M|P)&&(u&=-25),!u||u==C)var ft=vL(o,u,f);else u==M||u==P?ft=_L(o,u,A):(u==j||u==(C|j))&&!v.length?ft=bL(o,u,f,p):ft=$f.apply(n,it);var Ct=Z?b1:X1;return Q1(Ct(ft,it),o,u)}function z1(o,u,f,p){return o===n||ri(o,va[f])&&!Gt.call(p,f)?u:o}function U1(o,u,f,p,v,E){return ye(o)&&ye(u)&&(E.set(u,o),Af(o,u,n,U1,E),E.delete(u)),o}function wL(o){return gc(o)?n:o}function W1(o,u,f,p,v,E){var O=f&w,A=o.length,$=u.length;if(A!=$&&!(O&&$>A))return!1;var q=E.get(o),V=E.get(u);if(q&&V)return q==u&&V==o;var Y=-1,Z=!0,it=f&x?new ys:n;for(E.set(o,u),E.set(u,o);++Y<A;){var ft=o[Y],Ct=u[Y];if(p)var dt=O?p(Ct,ft,Y,u,o,E):p(ft,Ct,Y,o,u,E);if(dt!==n){if(dt)continue;Z=!1;break}if(it){if(!Mg(u,function(Pt,Lt){if(!ec(it,Lt)&&(ft===Pt||v(ft,Pt,f,p,E)))return it.push(Lt)})){Z=!1;break}}else if(!(ft===Ct||v(ft,Ct,f,p,E))){Z=!1;break}}return E.delete(o),E.delete(u),Z}function EL(o,u,f,p,v,E,O){switch(f){case Lo:if(o.byteLength!=u.byteLength||o.byteOffset!=u.byteOffset)return!1;o=o.buffer,u=u.buffer;case ti:return!(o.byteLength!=u.byteLength||!E(new mf(o),new mf(u)));case Xi:case Gn:case Qi:return ri(+o,+u);case Ro:return o.name==u.name&&o.message==u.message;case wi:case Q:return o==u+"";case an:var A=Dg;case Ln:var $=p&w;if(A||(A=lf),o.size!=u.size&&!$)return!1;var q=O.get(o);if(q)return q==u;p|=x,O.set(o,u);var V=W1(A(o),A(u),p,v,E,O);return O.delete(o),V;case ht:if(sc)return sc.call(o)==sc.call(u)}return!1}function xL(o,u,f,p,v,E){var O=f&w,A=fm(o),$=A.length,q=fm(u),V=q.length;if($!=V&&!O)return!1;for(var Y=$;Y--;){var Z=A[Y];if(!(O?Z in u:Gt.call(u,Z)))return!1}var it=E.get(o),ft=E.get(u);if(it&&ft)return it==u&&ft==o;var Ct=!0;E.set(o,u),E.set(u,o);for(var dt=O;++Y<$;){Z=A[Y];var Pt=o[Z],Lt=u[Z];if(p)var cr=O?p(Lt,Pt,Z,u,o,E):p(Pt,Lt,Z,o,u,E);if(!(cr===n?Pt===Lt||v(Pt,Lt,f,p,E):cr)){Ct=!1;break}dt||(dt=Z=="constructor")}if(Ct&&!dt){var jn=o.constructor,lr=u.constructor;jn!=lr&&"constructor"in o&&"constructor"in u&&!(typeof jn=="function"&&jn instanceof jn&&typeof lr=="function"&&lr instanceof lr)&&(Ct=!1)}return E.delete(o),E.delete(u),Ct}function ro(o){return _m(J1(o,n,iw),o+"")}function fm(o){return c1(o,Ye,gm)}function dm(o){return c1(o,Xn,K1)}var hm=wf?function(o){return wf.get(o)}:$m;function Lf(o){for(var u=o.name+"",f=ba[u],p=Gt.call(ba,u)?f.length:0;p--;){var v=f[p],E=v.func;if(E==null||E==o)return v.name}return u}function xa(o){var u=Gt.call(S,"placeholder")?S:o;return u.placeholder}function lt(){var o=S.iteratee||Im;return o=o===Im?d1:o,arguments.length?o(arguments[0],arguments[1]):o}function Ff(o,u){var f=o.__data__;return $L(u)?f[typeof u=="string"?"string":"hash"]:f.map}function pm(o){for(var u=Ye(o),f=u.length;f--;){var p=u[f],v=o[p];u[f]=[p,v,H1(v)]}return u}function bs(o,u){var f=NN(o,u);return f1(f)?f:n}function CL(o){var u=Gt.call(o,gs),f=o[gs];try{o[gs]=n;var p=!0}catch{}var v=pf.call(o);return p&&(u?o[gs]=f:delete o[gs]),v}var gm=Ug?function(o){return o==null?[]:(o=Qt(o),Fo(Ug(o),function(u){return YS.call(o,u)}))}:Rm,K1=Ug?function(o){for(var u=[];o;)Bo(u,gm(o)),o=yf(o);return u}:Rm,xn=Fn;(Wg&&xn(new Wg(new ArrayBuffer(1)))!=Lo||rc&&xn(new rc)!=an||Kg&&xn(Kg.resolve())!=Si||_a&&xn(new _a)!=Ln||ic&&xn(new ic)!=wn)&&(xn=function(o){var u=Fn(o),f=u==bn?o.constructor:n,p=f?Ss(f):"";if(p)switch(p){case a2:return Lo;case u2:return an;case c2:return Si;case l2:return Ln;case f2:return wn}return u});function TL(o,u,f){for(var p=-1,v=f.length;++p<v;){var E=f[p],O=E.size;switch(E.type){case"drop":o+=O;break;case"dropRight":u-=O;break;case"take":u=En(u,o+O);break;case"takeRight":o=Ue(o,u-O);break}}return{start:o,end:u}}function OL(o){var u=o.match(RM);return u?u[1].split(MM):[]}function q1(o,u,f){u=Wo(u,o);for(var p=-1,v=u.length,E=!1;++p<v;){var O=Ci(u[p]);if(!(E=o!=null&&f(o,O)))break;o=o[O]}return E||++p!=v?E:(v=o==null?0:o.length,!!v&&Kf(v)&&io(O,v)&&(_t(o)||ws(o)))}function AL(o){var u=o.length,f=new o.constructor(u);return u&&typeof o[0]=="string"&&Gt.call(o,"index")&&(f.index=o.index,f.input=o.input),f}function V1(o){return typeof o.constructor=="function"&&!hc(o)?Sa(yf(o)):{}}function kL(o,u,f){var p=o.constructor;switch(u){case ti:return um(o);case Xi:case Gn:return new p(+o);case Lo:return dL(o,f);case pg:case gg:case mg:case yg:case vg:case _g:case bg:case Sg:case wg:return A1(o,f);case an:return new p;case Qi:case Q:return new p(o);case wi:return hL(o);case Ln:return new p;case ht:return pL(o)}}function IL(o,u){var f=u.length;if(!f)return o;var p=f-1;return u[p]=(f>1?"& ":"")+u[p],u=u.join(f>2?", ":" "),o.replace($M,`{
/* [wrapped with `+u+`] */
`)}function PL(o){return _t(o)||ws(o)||!!(XS&&o&&o[XS])}function io(o,u){var f=typeof o;return u=u??st,!!u&&(f=="number"||f!="symbol"&&WM.test(o))&&o>-1&&o%1==0&&o<u}function Bn(o,u,f){if(!ye(f))return!1;var p=typeof u;return(p=="number"?Yn(f)&&io(u,f.length):p=="string"&&u in f)?ri(f[u],o):!1}function mm(o,u){if(_t(o))return!1;var f=typeof o;return f=="number"||f=="symbol"||f=="boolean"||o==null||ur(o)?!0:AM.test(o)||!OM.test(o)||u!=null&&o in Qt(u)}function $L(o){var u=typeof o;return u=="string"||u=="number"||u=="symbol"||u=="boolean"?o!=="__proto__":o===null}function ym(o){var u=Lf(o),f=S[u];if(typeof f!="function"||!(u in Rt.prototype))return!1;if(o===f)return!0;var p=hm(f);return!!p&&o===p[0]}function RL(o){return!!HS&&HS in o}var ML=df?oo:Mm;function hc(o){var u=o&&o.constructor,f=typeof u=="function"&&u.prototype||va;return o===f}function H1(o){return o===o&&!ye(o)}function G1(o,u){return function(f){return f==null?!1:f[o]===u&&(u!==n||o in Qt(f))}}function NL(o){var u=Uf(o,function(p){return f.size===d&&f.clear(),p}),f=u.cache;return u}function LL(o,u){var f=o[1],p=u[1],v=f|p,E=v<(C|T|k),O=p==k&&f==M||p==k&&f==z&&o[7].length<=u[8]||p==(k|z)&&u[7].length<=u[8]&&f==M;if(!(E||O))return o;p&C&&(o[2]=u[2],v|=f&C?0:R);var A=u[3];if(A){var $=o[3];o[3]=$?I1($,A,u[4]):A,o[4]=$?jo(o[3],h):u[4]}return A=u[5],A&&($=o[5],o[5]=$?P1($,A,u[6]):A,o[6]=$?jo(o[5],h):u[6]),A=u[7],A&&(o[7]=A),p&k&&(o[8]=o[8]==null?u[8]:En(o[8],u[8])),o[9]==null&&(o[9]=u[9]),o[0]=u[0],o[1]=v,o}function FL(o){var u=[];if(o!=null)for(var f in Qt(o))u.push(f);return u}function BL(o){return pf.call(o)}function J1(o,u,f){return u=Ue(u===n?o.length-1:u,0),function(){for(var p=arguments,v=-1,E=Ue(p.length-u,0),O=F(E);++v<E;)O[v]=p[u+v];v=-1;for(var A=F(u+1);++v<u;)A[v]=p[v];return A[u]=f(O),or(o,this,A)}}function Y1(o,u){return u.length<2?o:_s(o,Nr(u,0,-1))}function jL(o,u){for(var f=o.length,p=En(u.length,f),v=Jn(o);p--;){var E=u[p];o[p]=io(E,f)?v[E]:n}return o}function vm(o,u){if(!(u==="constructor"&&typeof o[u]=="function")&&u!="__proto__")return o[u]}var X1=Z1(b1),pc=t2||function(o,u){return un.setTimeout(o,u)},_m=Z1(uL);function Q1(o,u,f){var p=u+"";return _m(o,IL(p,DL(OL(p),f)))}function Z1(o){var u=0,f=0;return function(){var p=i2(),v=X-(p-f);if(f=p,v>0){if(++u>=D)return arguments[0]}else u=0;return o.apply(n,arguments)}}function Bf(o,u){var f=-1,p=o.length,v=p-1;for(u=u===n?p:u;++f<u;){var E=em(f,v),O=o[E];o[E]=o[f],o[f]=O}return o.length=u,o}var tw=NL(function(o){var u=[];return o.charCodeAt(0)===46&&u.push(""),o.replace(kM,function(f,p,v,E){u.push(v?E.replace(FM,"$1"):p||f)}),u});function Ci(o){if(typeof o=="string"||ur(o))return o;var u=o+"";return u=="0"&&1/o==-1/0?"-0":u}function Ss(o){if(o!=null){try{return hf.call(o)}catch{}try{return o+""}catch{}}return""}function DL(o,u){return Pr(Xu,function(f){var p="_."+f[0];u&f[1]&&!uf(o,p)&&o.push(p)}),o.sort()}function ew(o){if(o instanceof Rt)return o.clone();var u=new Rr(o.__wrapped__,o.__chain__);return u.__actions__=Jn(o.__actions__),u.__index__=o.__index__,u.__values__=o.__values__,u}function zL(o,u,f){(f?Bn(o,u,f):u===n)?u=1:u=Ue(Et(u),0);var p=o==null?0:o.length;if(!p||u<1)return[];for(var v=0,E=0,O=F(bf(p/u));v<p;)O[E++]=Nr(o,v,v+=u);return O}function UL(o){for(var u=-1,f=o==null?0:o.length,p=0,v=[];++u<f;){var E=o[u];E&&(v[p++]=E)}return v}function WL(){var o=arguments.length;if(!o)return[];for(var u=F(o-1),f=arguments[0],p=o;p--;)u[p-1]=arguments[p];return Bo(_t(f)?Jn(f):[f],cn(u,1))}var KL=At(function(o,u){return Te(o)?uc(o,cn(u,1,Te,!0)):[]}),qL=At(function(o,u){var f=Lr(u);return Te(f)&&(f=n),Te(o)?uc(o,cn(u,1,Te,!0),lt(f,2)):[]}),VL=At(function(o,u){var f=Lr(u);return Te(f)&&(f=n),Te(o)?uc(o,cn(u,1,Te,!0),n,f):[]});function HL(o,u,f){var p=o==null?0:o.length;return p?(u=f||u===n?1:Et(u),Nr(o,u<0?0:u,p)):[]}function GL(o,u,f){var p=o==null?0:o.length;return p?(u=f||u===n?1:Et(u),u=p-u,Nr(o,0,u<0?0:u)):[]}function JL(o,u){return o&&o.length?If(o,lt(u,3),!0,!0):[]}function YL(o,u){return o&&o.length?If(o,lt(u,3),!0):[]}function XL(o,u,f,p){var v=o==null?0:o.length;return v?(f&&typeof f!="number"&&Bn(o,u,f)&&(f=0,p=v),W2(o,u,f,p)):[]}function nw(o,u,f){var p=o==null?0:o.length;if(!p)return-1;var v=f==null?0:Et(f);return v<0&&(v=Ue(p+v,0)),cf(o,lt(u,3),v)}function rw(o,u,f){var p=o==null?0:o.length;if(!p)return-1;var v=p-1;return f!==n&&(v=Et(f),v=f<0?Ue(p+v,0):En(v,p-1)),cf(o,lt(u,3),v,!0)}function iw(o){var u=o==null?0:o.length;return u?cn(o,1):[]}function QL(o){var u=o==null?0:o.length;return u?cn(o,rt):[]}function ZL(o,u){var f=o==null?0:o.length;return f?(u=u===n?1:Et(u),cn(o,u)):[]}function tF(o){for(var u=-1,f=o==null?0:o.length,p={};++u<f;){var v=o[u];p[v[0]]=v[1]}return p}function ow(o){return o&&o.length?o[0]:n}function eF(o,u,f){var p=o==null?0:o.length;if(!p)return-1;var v=f==null?0:Et(f);return v<0&&(v=Ue(p+v,0)),pa(o,u,v)}function nF(o){var u=o==null?0:o.length;return u?Nr(o,0,-1):[]}var rF=At(function(o){var u=he(o,sm);return u.length&&u[0]===o[0]?Yg(u):[]}),iF=At(function(o){var u=Lr(o),f=he(o,sm);return u===Lr(f)?u=n:f.pop(),f.length&&f[0]===o[0]?Yg(f,lt(u,2)):[]}),oF=At(function(o){var u=Lr(o),f=he(o,sm);return u=typeof u=="function"?u:n,u&&f.pop(),f.length&&f[0]===o[0]?Yg(f,n,u):[]});function sF(o,u){return o==null?"":n2.call(o,u)}function Lr(o){var u=o==null?0:o.length;return u?o[u-1]:n}function aF(o,u,f){var p=o==null?0:o.length;if(!p)return-1;var v=p;return f!==n&&(v=Et(f),v=v<0?Ue(p+v,0):En(v,p-1)),u===u?DN(o,u,v):cf(o,jS,v,!0)}function uF(o,u){return o&&o.length?m1(o,Et(u)):n}var cF=At(sw);function sw(o,u){return o&&o.length&&u&&u.length?tm(o,u):o}function lF(o,u,f){return o&&o.length&&u&&u.length?tm(o,u,lt(f,2)):o}function fF(o,u,f){return o&&o.length&&u&&u.length?tm(o,u,n,f):o}var dF=ro(function(o,u){var f=o==null?0:o.length,p=Vg(o,u);return _1(o,he(u,function(v){return io(v,f)?+v:v}).sort(k1)),p});function hF(o,u){var f=[];if(!(o&&o.length))return f;var p=-1,v=[],E=o.length;for(u=lt(u,3);++p<E;){var O=o[p];u(O,p,o)&&(f.push(O),v.push(p))}return _1(o,v),f}function bm(o){return o==null?o:s2.call(o)}function pF(o,u,f){var p=o==null?0:o.length;return p?(f&&typeof f!="number"&&Bn(o,u,f)?(u=0,f=p):(u=u==null?0:Et(u),f=f===n?p:Et(f)),Nr(o,u,f)):[]}function gF(o,u){return kf(o,u)}function mF(o,u,f){return rm(o,u,lt(f,2))}function yF(o,u){var f=o==null?0:o.length;if(f){var p=kf(o,u);if(p<f&&ri(o[p],u))return p}return-1}function vF(o,u){return kf(o,u,!0)}function _F(o,u,f){return rm(o,u,lt(f,2),!0)}function bF(o,u){var f=o==null?0:o.length;if(f){var p=kf(o,u,!0)-1;if(ri(o[p],u))return p}return-1}function SF(o){return o&&o.length?S1(o):[]}function wF(o,u){return o&&o.length?S1(o,lt(u,2)):[]}function EF(o){var u=o==null?0:o.length;return u?Nr(o,1,u):[]}function xF(o,u,f){return o&&o.length?(u=f||u===n?1:Et(u),Nr(o,0,u<0?0:u)):[]}function CF(o,u,f){var p=o==null?0:o.length;return p?(u=f||u===n?1:Et(u),u=p-u,Nr(o,u<0?0:u,p)):[]}function TF(o,u){return o&&o.length?If(o,lt(u,3),!1,!0):[]}function OF(o,u){return o&&o.length?If(o,lt(u,3)):[]}var AF=At(function(o){return Uo(cn(o,1,Te,!0))}),kF=At(function(o){var u=Lr(o);return Te(u)&&(u=n),Uo(cn(o,1,Te,!0),lt(u,2))}),IF=At(function(o){var u=Lr(o);return u=typeof u=="function"?u:n,Uo(cn(o,1,Te,!0),n,u)});function PF(o){return o&&o.length?Uo(o):[]}function $F(o,u){return o&&o.length?Uo(o,lt(u,2)):[]}function RF(o,u){return u=typeof u=="function"?u:n,o&&o.length?Uo(o,n,u):[]}function Sm(o){if(!(o&&o.length))return[];var u=0;return o=Fo(o,function(f){if(Te(f))return u=Ue(f.length,u),!0}),Bg(u,function(f){return he(o,Ng(f))})}function aw(o,u){if(!(o&&o.length))return[];var f=Sm(o);return u==null?f:he(f,function(p){return or(u,n,p)})}var MF=At(function(o,u){return Te(o)?uc(o,u):[]}),NF=At(function(o){return om(Fo(o,Te))}),LF=At(function(o){var u=Lr(o);return Te(u)&&(u=n),om(Fo(o,Te),lt(u,2))}),FF=At(function(o){var u=Lr(o);return u=typeof u=="function"?u:n,om(Fo(o,Te),n,u)}),BF=At(Sm);function jF(o,u){return C1(o||[],u||[],ac)}function DF(o,u){return C1(o||[],u||[],fc)}var zF=At(function(o){var u=o.length,f=u>1?o[u-1]:n;return f=typeof f=="function"?(o.pop(),f):n,aw(o,f)});function uw(o){var u=S(o);return u.__chain__=!0,u}function UF(o,u){return u(o),o}function jf(o,u){return u(o)}var WF=ro(function(o){var u=o.length,f=u?o[0]:0,p=this.__wrapped__,v=function(E){return Vg(E,o)};return u>1||this.__actions__.length||!(p instanceof Rt)||!io(f)?this.thru(v):(p=p.slice(f,+f+(u?1:0)),p.__actions__.push({func:jf,args:[v],thisArg:n}),new Rr(p,this.__chain__).thru(function(E){return u&&!E.length&&E.push(n),E}))});function KF(){return uw(this)}function qF(){return new Rr(this.value(),this.__chain__)}function VF(){this.__values__===n&&(this.__values__=ww(this.value()));var o=this.__index__>=this.__values__.length,u=o?n:this.__values__[this.__index__++];return{done:o,value:u}}function HF(){return this}function GF(o){for(var u,f=this;f instanceof xf;){var p=ew(f);p.__index__=0,p.__values__=n,u?v.__wrapped__=p:u=p;var v=p;f=f.__wrapped__}return v.__wrapped__=o,u}function JF(){var o=this.__wrapped__;if(o instanceof Rt){var u=o;return this.__actions__.length&&(u=new Rt(this)),u=u.reverse(),u.__actions__.push({func:jf,args:[bm],thisArg:n}),new Rr(u,this.__chain__)}return this.thru(bm)}function YF(){return x1(this.__wrapped__,this.__actions__)}var XF=Pf(function(o,u,f){Gt.call(o,f)?++o[f]:eo(o,f,1)});function QF(o,u,f){var p=_t(o)?FS:U2;return f&&Bn(o,u,f)&&(u=n),p(o,lt(u,3))}function ZF(o,u){var f=_t(o)?Fo:a1;return f(o,lt(u,3))}var t5=N1(nw),e5=N1(rw);function n5(o,u){return cn(Df(o,u),1)}function r5(o,u){return cn(Df(o,u),rt)}function i5(o,u,f){return f=f===n?1:Et(f),cn(Df(o,u),f)}function cw(o,u){var f=_t(o)?Pr:zo;return f(o,lt(u,3))}function lw(o,u){var f=_t(o)?EN:s1;return f(o,lt(u,3))}var o5=Pf(function(o,u,f){Gt.call(o,f)?o[f].push(u):eo(o,f,[u])});function s5(o,u,f,p){o=Yn(o)?o:Ta(o),f=f&&!p?Et(f):0;var v=o.length;return f<0&&(f=Ue(v+f,0)),qf(o)?f<=v&&o.indexOf(u,f)>-1:!!v&&pa(o,u,f)>-1}var a5=At(function(o,u,f){var p=-1,v=typeof u=="function",E=Yn(o)?F(o.length):[];return zo(o,function(O){E[++p]=v?or(u,O,f):cc(O,u,f)}),E}),u5=Pf(function(o,u,f){eo(o,f,u)});function Df(o,u){var f=_t(o)?he:h1;return f(o,lt(u,3))}function c5(o,u,f,p){return o==null?[]:(_t(u)||(u=u==null?[]:[u]),f=p?n:f,_t(f)||(f=f==null?[]:[f]),y1(o,u,f))}var l5=Pf(function(o,u,f){o[f?0:1].push(u)},function(){return[[],[]]});function f5(o,u,f){var p=_t(o)?Rg:zS,v=arguments.length<3;return p(o,lt(u,4),f,v,zo)}function d5(o,u,f){var p=_t(o)?xN:zS,v=arguments.length<3;return p(o,lt(u,4),f,v,s1)}function h5(o,u){var f=_t(o)?Fo:a1;return f(o,Wf(lt(u,3)))}function p5(o){var u=_t(o)?n1:sL;return u(o)}function g5(o,u,f){(f?Bn(o,u,f):u===n)?u=1:u=Et(u);var p=_t(o)?F2:aL;return p(o,u)}function m5(o){var u=_t(o)?B2:cL;return u(o)}function y5(o){if(o==null)return 0;if(Yn(o))return qf(o)?ma(o):o.length;var u=xn(o);return u==an||u==Ln?o.size:Qg(o).length}function v5(o,u,f){var p=_t(o)?Mg:lL;return f&&Bn(o,u,f)&&(u=n),p(o,lt(u,3))}var _5=At(function(o,u){if(o==null)return[];var f=u.length;return f>1&&Bn(o,u[0],u[1])?u=[]:f>2&&Bn(u[0],u[1],u[2])&&(u=[u[0]]),y1(o,cn(u,1),[])}),zf=ZN||function(){return un.Date.now()};function b5(o,u){if(typeof u!="function")throw new $r(a);return o=Et(o),function(){if(--o<1)return u.apply(this,arguments)}}function fw(o,u,f){return u=f?n:u,u=o&&u==null?o.length:u,no(o,k,n,n,n,n,u)}function dw(o,u){var f;if(typeof u!="function")throw new $r(a);return o=Et(o),function(){return--o>0&&(f=u.apply(this,arguments)),o<=1&&(u=n),f}}var wm=At(function(o,u,f){var p=C;if(f.length){var v=jo(f,xa(wm));p|=j}return no(o,p,u,f,v)}),hw=At(function(o,u,f){var p=C|T;if(f.length){var v=jo(f,xa(hw));p|=j}return no(u,p,o,f,v)});function pw(o,u,f){u=f?n:u;var p=no(o,M,n,n,n,n,n,u);return p.placeholder=pw.placeholder,p}function gw(o,u,f){u=f?n:u;var p=no(o,P,n,n,n,n,n,u);return p.placeholder=gw.placeholder,p}function mw(o,u,f){var p,v,E,O,A,$,q=0,V=!1,Y=!1,Z=!0;if(typeof o!="function")throw new $r(a);u=Fr(u)||0,ye(f)&&(V=!!f.leading,Y="maxWait"in f,E=Y?Ue(Fr(f.maxWait)||0,u):E,Z="trailing"in f?!!f.trailing:Z);function it(Oe){var ii=p,ao=v;return p=v=n,q=Oe,O=o.apply(ao,ii),O}function ft(Oe){return q=Oe,A=pc(Pt,u),V?it(Oe):O}function Ct(Oe){var ii=Oe-$,ao=Oe-q,Nw=u-ii;return Y?En(Nw,E-ao):Nw}function dt(Oe){var ii=Oe-$,ao=Oe-q;return $===n||ii>=u||ii<0||Y&&ao>=E}function Pt(){var Oe=zf();if(dt(Oe))return Lt(Oe);A=pc(Pt,Ct(Oe))}function Lt(Oe){return A=n,Z&&p?it(Oe):(p=v=n,O)}function cr(){A!==n&&T1(A),q=0,p=$=v=A=n}function jn(){return A===n?O:Lt(zf())}function lr(){var Oe=zf(),ii=dt(Oe);if(p=arguments,v=this,$=Oe,ii){if(A===n)return ft($);if(Y)return T1(A),A=pc(Pt,u),it($)}return A===n&&(A=pc(Pt,u)),O}return lr.cancel=cr,lr.flush=jn,lr}var S5=At(function(o,u){return o1(o,1,u)}),w5=At(function(o,u,f){return o1(o,Fr(u)||0,f)});function E5(o){return no(o,K)}function Uf(o,u){if(typeof o!="function"||u!=null&&typeof u!="function")throw new $r(a);var f=function(){var p=arguments,v=u?u.apply(this,p):p[0],E=f.cache;if(E.has(v))return E.get(v);var O=o.apply(this,p);return f.cache=E.set(v,O)||E,O};return f.cache=new(Uf.Cache||to),f}Uf.Cache=to;function Wf(o){if(typeof o!="function")throw new $r(a);return function(){var u=arguments;switch(u.length){case 0:return!o.call(this);case 1:return!o.call(this,u[0]);case 2:return!o.call(this,u[0],u[1]);case 3:return!o.call(this,u[0],u[1],u[2])}return!o.apply(this,u)}}function x5(o){return dw(2,o)}var C5=fL(function(o,u){u=u.length==1&&_t(u[0])?he(u[0],sr(lt())):he(cn(u,1),sr(lt()));var f=u.length;return At(function(p){for(var v=-1,E=En(p.length,f);++v<E;)p[v]=u[v].call(this,p[v]);return or(o,this,p)})}),Em=At(function(o,u){var f=jo(u,xa(Em));return no(o,j,n,u,f)}),yw=At(function(o,u){var f=jo(u,xa(yw));return no(o,B,n,u,f)}),T5=ro(function(o,u){return no(o,z,n,n,n,u)});function O5(o,u){if(typeof o!="function")throw new $r(a);return u=u===n?u:Et(u),At(o,u)}function A5(o,u){if(typeof o!="function")throw new $r(a);return u=u==null?0:Ue(Et(u),0),At(function(f){var p=f[u],v=Ko(f,0,u);return p&&Bo(v,p),or(o,this,v)})}function k5(o,u,f){var p=!0,v=!0;if(typeof o!="function")throw new $r(a);return ye(f)&&(p="leading"in f?!!f.leading:p,v="trailing"in f?!!f.trailing:v),mw(o,u,{leading:p,maxWait:u,trailing:v})}function I5(o){return fw(o,1)}function P5(o,u){return Em(am(u),o)}function $5(){if(!arguments.length)return[];var o=arguments[0];return _t(o)?o:[o]}function R5(o){return Mr(o,y)}function M5(o,u){return u=typeof u=="function"?u:n,Mr(o,y,u)}function N5(o){return Mr(o,g|y)}function L5(o,u){return u=typeof u=="function"?u:n,Mr(o,g|y,u)}function F5(o,u){return u==null||i1(o,u,Ye(u))}function ri(o,u){return o===u||o!==o&&u!==u}var B5=Nf(Jg),j5=Nf(function(o,u){return o>=u}),ws=l1(function(){return arguments}())?l1:function(o){return Se(o)&&Gt.call(o,"callee")&&!YS.call(o,"callee")},_t=F.isArray,D5=PS?sr(PS):G2;function Yn(o){return o!=null&&Kf(o.length)&&!oo(o)}function Te(o){return Se(o)&&Yn(o)}function z5(o){return o===!0||o===!1||Se(o)&&Fn(o)==Xi}var qo=e2||Mm,U5=$S?sr($S):J2;function W5(o){return Se(o)&&o.nodeType===1&&!gc(o)}function K5(o){if(o==null)return!0;if(Yn(o)&&(_t(o)||typeof o=="string"||typeof o.splice=="function"||qo(o)||Ca(o)||ws(o)))return!o.length;var u=xn(o);if(u==an||u==Ln)return!o.size;if(hc(o))return!Qg(o).length;for(var f in o)if(Gt.call(o,f))return!1;return!0}function q5(o,u){return lc(o,u)}function V5(o,u,f){f=typeof f=="function"?f:n;var p=f?f(o,u):n;return p===n?lc(o,u,n,f):!!p}function xm(o){if(!Se(o))return!1;var u=Fn(o);return u==Ro||u==Qu||typeof o.message=="string"&&typeof o.name=="string"&&!gc(o)}function H5(o){return typeof o=="number"&&QS(o)}function oo(o){if(!ye(o))return!1;var u=Fn(o);return u==Mo||u==da||u==hs||u==tc}function vw(o){return typeof o=="number"&&o==Et(o)}function Kf(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=st}function ye(o){var u=typeof o;return o!=null&&(u=="object"||u=="function")}function Se(o){return o!=null&&typeof o=="object"}var _w=RS?sr(RS):X2;function G5(o,u){return o===u||Xg(o,u,pm(u))}function J5(o,u,f){return f=typeof f=="function"?f:n,Xg(o,u,pm(u),f)}function Y5(o){return bw(o)&&o!=+o}function X5(o){if(ML(o))throw new yt(s);return f1(o)}function Q5(o){return o===null}function Z5(o){return o==null}function bw(o){return typeof o=="number"||Se(o)&&Fn(o)==Qi}function gc(o){if(!Se(o)||Fn(o)!=bn)return!1;var u=yf(o);if(u===null)return!0;var f=Gt.call(u,"constructor")&&u.constructor;return typeof f=="function"&&f instanceof f&&hf.call(f)==JN}var Cm=MS?sr(MS):Q2;function tB(o){return vw(o)&&o>=-9007199254740991&&o<=st}var Sw=NS?sr(NS):Z2;function qf(o){return typeof o=="string"||!_t(o)&&Se(o)&&Fn(o)==Q}function ur(o){return typeof o=="symbol"||Se(o)&&Fn(o)==ht}var Ca=LS?sr(LS):tL;function eB(o){return o===n}function nB(o){return Se(o)&&xn(o)==wn}function rB(o){return Se(o)&&Fn(o)==No}var iB=Nf(Zg),oB=Nf(function(o,u){return o<=u});function ww(o){if(!o)return[];if(Yn(o))return qf(o)?ei(o):Jn(o);if(nc&&o[nc])return FN(o[nc]());var u=xn(o),f=u==an?Dg:u==Ln?lf:Ta;return f(o)}function so(o){if(!o)return o===0?o:0;if(o=Fr(o),o===rt||o===-1/0){var u=o<0?-1:1;return u*Nt}return o===o?o:0}function Et(o){var u=so(o),f=u%1;return u===u?f?u-f:u:0}function Ew(o){return o?vs(Et(o),0,oe):0}function Fr(o){if(typeof o=="number")return o;if(ur(o))return sn;if(ye(o)){var u=typeof o.valueOf=="function"?o.valueOf():o;o=ye(u)?u+"":u}if(typeof o!="string")return o===0?o:+o;o=US(o);var f=DM.test(o);return f||UM.test(o)?bN(o.slice(2),f?2:8):jM.test(o)?sn:+o}function xw(o){return xi(o,Xn(o))}function sB(o){return o?vs(Et(o),-9007199254740991,st):o===0?o:0}function Ht(o){return o==null?"":ar(o)}var aB=wa(function(o,u){if(hc(u)||Yn(u)){xi(u,Ye(u),o);return}for(var f in u)Gt.call(u,f)&&ac(o,f,u[f])}),Cw=wa(function(o,u){xi(u,Xn(u),o)}),Vf=wa(function(o,u,f,p){xi(u,Xn(u),o,p)}),uB=wa(function(o,u,f,p){xi(u,Ye(u),o,p)}),cB=ro(Vg);function lB(o,u){var f=Sa(o);return u==null?f:r1(f,u)}var fB=At(function(o,u){o=Qt(o);var f=-1,p=u.length,v=p>2?u[2]:n;for(v&&Bn(u[0],u[1],v)&&(p=1);++f<p;)for(var E=u[f],O=Xn(E),A=-1,$=O.length;++A<$;){var q=O[A],V=o[q];(V===n||ri(V,va[q])&&!Gt.call(o,q))&&(o[q]=E[q])}return o}),dB=At(function(o){return o.push(n,U1),or(Tw,n,o)});function hB(o,u){return BS(o,lt(u,3),Ei)}function pB(o,u){return BS(o,lt(u,3),Gg)}function gB(o,u){return o==null?o:Hg(o,lt(u,3),Xn)}function mB(o,u){return o==null?o:u1(o,lt(u,3),Xn)}function yB(o,u){return o&&Ei(o,lt(u,3))}function vB(o,u){return o&&Gg(o,lt(u,3))}function _B(o){return o==null?[]:Of(o,Ye(o))}function bB(o){return o==null?[]:Of(o,Xn(o))}function Tm(o,u,f){var p=o==null?n:_s(o,u);return p===n?f:p}function SB(o,u){return o!=null&&q1(o,u,K2)}function Om(o,u){return o!=null&&q1(o,u,q2)}var wB=F1(function(o,u,f){u!=null&&typeof u.toString!="function"&&(u=pf.call(u)),o[u]=f},km(Qn)),EB=F1(function(o,u,f){u!=null&&typeof u.toString!="function"&&(u=pf.call(u)),Gt.call(o,u)?o[u].push(f):o[u]=[f]},lt),xB=At(cc);function Ye(o){return Yn(o)?e1(o):Qg(o)}function Xn(o){return Yn(o)?e1(o,!0):eL(o)}function CB(o,u){var f={};return u=lt(u,3),Ei(o,function(p,v,E){eo(f,u(p,v,E),p)}),f}function TB(o,u){var f={};return u=lt(u,3),Ei(o,function(p,v,E){eo(f,v,u(p,v,E))}),f}var OB=wa(function(o,u,f){Af(o,u,f)}),Tw=wa(function(o,u,f,p){Af(o,u,f,p)}),AB=ro(function(o,u){var f={};if(o==null)return f;var p=!1;u=he(u,function(E){return E=Wo(E,o),p||(p=E.length>1),E}),xi(o,dm(o),f),p&&(f=Mr(f,g|m|y,wL));for(var v=u.length;v--;)im(f,u[v]);return f});function kB(o,u){return Ow(o,Wf(lt(u)))}var IB=ro(function(o,u){return o==null?{}:rL(o,u)});function Ow(o,u){if(o==null)return{};var f=he(dm(o),function(p){return[p]});return u=lt(u),v1(o,f,function(p,v){return u(p,v[0])})}function PB(o,u,f){u=Wo(u,o);var p=-1,v=u.length;for(v||(v=1,o=n);++p<v;){var E=o==null?n:o[Ci(u[p])];E===n&&(p=v,E=f),o=oo(E)?E.call(o):E}return o}function $B(o,u,f){return o==null?o:fc(o,u,f)}function RB(o,u,f,p){return p=typeof p=="function"?p:n,o==null?o:fc(o,u,f,p)}var Aw=D1(Ye),kw=D1(Xn);function MB(o,u,f){var p=_t(o),v=p||qo(o)||Ca(o);if(u=lt(u,4),f==null){var E=o&&o.constructor;v?f=p?new E:[]:ye(o)?f=oo(E)?Sa(yf(o)):{}:f={}}return(v?Pr:Ei)(o,function(O,A,$){return u(f,O,A,$)}),f}function NB(o,u){return o==null?!0:im(o,u)}function LB(o,u,f){return o==null?o:E1(o,u,am(f))}function FB(o,u,f,p){return p=typeof p=="function"?p:n,o==null?o:E1(o,u,am(f),p)}function Ta(o){return o==null?[]:jg(o,Ye(o))}function BB(o){return o==null?[]:jg(o,Xn(o))}function jB(o,u,f){return f===n&&(f=u,u=n),f!==n&&(f=Fr(f),f=f===f?f:0),u!==n&&(u=Fr(u),u=u===u?u:0),vs(Fr(o),u,f)}function DB(o,u,f){return u=so(u),f===n?(f=u,u=0):f=so(f),o=Fr(o),V2(o,u,f)}function zB(o,u,f){if(f&&typeof f!="boolean"&&Bn(o,u,f)&&(u=f=n),f===n&&(typeof u=="boolean"?(f=u,u=n):typeof o=="boolean"&&(f=o,o=n)),o===n&&u===n?(o=0,u=1):(o=so(o),u===n?(u=o,o=0):u=so(u)),o>u){var p=o;o=u,u=p}if(f||o%1||u%1){var v=ZS();return En(o+v*(u-o+_N("1e-"+((v+"").length-1))),u)}return em(o,u)}var UB=Ea(function(o,u,f){return u=u.toLowerCase(),o+(f?Iw(u):u)});function Iw(o){return Am(Ht(o).toLowerCase())}function Pw(o){return o=Ht(o),o&&o.replace(KM,$N).replace(cN,"")}function WB(o,u,f){o=Ht(o),u=ar(u);var p=o.length;f=f===n?p:vs(Et(f),0,p);var v=f;return f-=u.length,f>=0&&o.slice(f,v)==u}function KB(o){return o=Ht(o),o&&xM.test(o)?o.replace(uS,RN):o}function qB(o){return o=Ht(o),o&&IM.test(o)?o.replace(Eg,"\\$&"):o}var VB=Ea(function(o,u,f){return o+(f?"-":"")+u.toLowerCase()}),HB=Ea(function(o,u,f){return o+(f?" ":"")+u.toLowerCase()}),GB=M1("toLowerCase");function JB(o,u,f){o=Ht(o),u=Et(u);var p=u?ma(o):0;if(!u||p>=u)return o;var v=(u-p)/2;return Mf(Sf(v),f)+o+Mf(bf(v),f)}function YB(o,u,f){o=Ht(o),u=Et(u);var p=u?ma(o):0;return u&&p<u?o+Mf(u-p,f):o}function XB(o,u,f){o=Ht(o),u=Et(u);var p=u?ma(o):0;return u&&p<u?Mf(u-p,f)+o:o}function QB(o,u,f){return f||u==null?u=0:u&&(u=+u),o2(Ht(o).replace(xg,""),u||0)}function ZB(o,u,f){return(f?Bn(o,u,f):u===n)?u=1:u=Et(u),nm(Ht(o),u)}function tj(){var o=arguments,u=Ht(o[0]);return o.length<3?u:u.replace(o[1],o[2])}var ej=Ea(function(o,u,f){return o+(f?"_":"")+u.toLowerCase()});function nj(o,u,f){return f&&typeof f!="number"&&Bn(o,u,f)&&(u=f=n),f=f===n?oe:f>>>0,f?(o=Ht(o),o&&(typeof u=="string"||u!=null&&!Cm(u))&&(u=ar(u),!u&&ga(o))?Ko(ei(o),0,f):o.split(u,f)):[]}var rj=Ea(function(o,u,f){return o+(f?" ":"")+Am(u)});function ij(o,u,f){return o=Ht(o),f=f==null?0:vs(Et(f),0,o.length),u=ar(u),o.slice(f,f+u.length)==u}function oj(o,u,f){var p=S.templateSettings;f&&Bn(o,u,f)&&(u=n),o=Ht(o),u=Vf({},u,p,z1);var v=Vf({},u.imports,p.imports,z1),E=Ye(v),O=jg(v,E),A,$,q=0,V=u.interpolate||of,Y="__p += '",Z=zg((u.escape||of).source+"|"+V.source+"|"+(V===cS?BM:of).source+"|"+(u.evaluate||of).source+"|$","g"),it="//# sourceURL="+(Gt.call(u,"sourceURL")?(u.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++pN+"]")+`
`;o.replace(Z,function(dt,Pt,Lt,cr,jn,lr){return Lt||(Lt=cr),Y+=o.slice(q,lr).replace(qM,MN),Pt&&(A=!0,Y+=`' +
__e(`+Pt+`) +
'`),jn&&($=!0,Y+=`';
`+jn+`;
__p += '`),Lt&&(Y+=`' +
((__t = (`+Lt+`)) == null ? '' : __t) +
'`),q=lr+dt.length,dt}),Y+=`';
`;var ft=Gt.call(u,"variable")&&u.variable;if(!ft)Y=`with (obj) {
`+Y+`
}
`;else if(LM.test(ft))throw new yt(c);Y=($?Y.replace(bM,""):Y).replace(SM,"$1").replace(wM,"$1;"),Y="function("+(ft||"obj")+`) {
`+(ft?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(A?", __e = _.escape":"")+($?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Y+`return __p
}`;var Ct=Rw(function(){return Ut(E,it+"return "+Y).apply(n,O)});if(Ct.source=Y,xm(Ct))throw Ct;return Ct}function sj(o){return Ht(o).toLowerCase()}function aj(o){return Ht(o).toUpperCase()}function uj(o,u,f){if(o=Ht(o),o&&(f||u===n))return US(o);if(!o||!(u=ar(u)))return o;var p=ei(o),v=ei(u),E=WS(p,v),O=KS(p,v)+1;return Ko(p,E,O).join("")}function cj(o,u,f){if(o=Ht(o),o&&(f||u===n))return o.slice(0,VS(o)+1);if(!o||!(u=ar(u)))return o;var p=ei(o),v=KS(p,ei(u))+1;return Ko(p,0,v).join("")}function lj(o,u,f){if(o=Ht(o),o&&(f||u===n))return o.replace(xg,"");if(!o||!(u=ar(u)))return o;var p=ei(o),v=WS(p,ei(u));return Ko(p,v).join("")}function fj(o,u){var f=b,p=N;if(ye(u)){var v="separator"in u?u.separator:v;f="length"in u?Et(u.length):f,p="omission"in u?ar(u.omission):p}o=Ht(o);var E=o.length;if(ga(o)){var O=ei(o);E=O.length}if(f>=E)return o;var A=f-ma(p);if(A<1)return p;var $=O?Ko(O,0,A).join(""):o.slice(0,A);if(v===n)return $+p;if(O&&(A+=$.length-A),Cm(v)){if(o.slice(A).search(v)){var q,V=$;for(v.global||(v=zg(v.source,Ht(lS.exec(v))+"g")),v.lastIndex=0;q=v.exec(V);)var Y=q.index;$=$.slice(0,Y===n?A:Y)}}else if(o.indexOf(ar(v),A)!=A){var Z=$.lastIndexOf(v);Z>-1&&($=$.slice(0,Z))}return $+p}function dj(o){return o=Ht(o),o&&EM.test(o)?o.replace(aS,zN):o}var hj=Ea(function(o,u,f){return o+(f?" ":"")+u.toUpperCase()}),Am=M1("toUpperCase");function $w(o,u,f){return o=Ht(o),u=f?n:u,u===n?LN(o)?KN(o):ON(o):o.match(u)||[]}var Rw=At(function(o,u){try{return or(o,n,u)}catch(f){return xm(f)?f:new yt(f)}}),pj=ro(function(o,u){return Pr(u,function(f){f=Ci(f),eo(o,f,wm(o[f],o))}),o});function gj(o){var u=o==null?0:o.length,f=lt();return o=u?he(o,function(p){if(typeof p[1]!="function")throw new $r(a);return[f(p[0]),p[1]]}):[],At(function(p){for(var v=-1;++v<u;){var E=o[v];if(or(E[0],this,p))return or(E[1],this,p)}})}function mj(o){return z2(Mr(o,g))}function km(o){return function(){return o}}function yj(o,u){return o==null||o!==o?u:o}var vj=L1(),_j=L1(!0);function Qn(o){return o}function Im(o){return d1(typeof o=="function"?o:Mr(o,g))}function bj(o){return p1(Mr(o,g))}function Sj(o,u){return g1(o,Mr(u,g))}var wj=At(function(o,u){return function(f){return cc(f,o,u)}}),Ej=At(function(o,u){return function(f){return cc(o,f,u)}});function Pm(o,u,f){var p=Ye(u),v=Of(u,p);f==null&&!(ye(u)&&(v.length||!p.length))&&(f=u,u=o,o=this,v=Of(u,Ye(u)));var E=!(ye(f)&&"chain"in f)||!!f.chain,O=oo(o);return Pr(v,function(A){var $=u[A];o[A]=$,O&&(o.prototype[A]=function(){var q=this.__chain__;if(E||q){var V=o(this.__wrapped__),Y=V.__actions__=Jn(this.__actions__);return Y.push({func:$,args:arguments,thisArg:o}),V.__chain__=q,V}return $.apply(o,Bo([this.value()],arguments))})}),o}function xj(){return un._===this&&(un._=YN),this}function $m(){}function Cj(o){return o=Et(o),At(function(u){return m1(u,o)})}var Tj=cm(he),Oj=cm(FS),Aj=cm(Mg);function Mw(o){return mm(o)?Ng(Ci(o)):iL(o)}function kj(o){return function(u){return o==null?n:_s(o,u)}}var Ij=B1(),Pj=B1(!0);function Rm(){return[]}function Mm(){return!1}function $j(){return{}}function Rj(){return""}function Mj(){return!0}function Nj(o,u){if(o=Et(o),o<1||o>st)return[];var f=oe,p=En(o,oe);u=lt(u),o-=oe;for(var v=Bg(p,u);++f<o;)u(f);return v}function Lj(o){return _t(o)?he(o,Ci):ur(o)?[o]:Jn(tw(Ht(o)))}function Fj(o){var u=++GN;return Ht(o)+u}var Bj=Rf(function(o,u){return o+u},0),jj=lm("ceil"),Dj=Rf(function(o,u){return o/u},1),zj=lm("floor");function Uj(o){return o&&o.length?Tf(o,Qn,Jg):n}function Wj(o,u){return o&&o.length?Tf(o,lt(u,2),Jg):n}function Kj(o){return DS(o,Qn)}function qj(o,u){return DS(o,lt(u,2))}function Vj(o){return o&&o.length?Tf(o,Qn,Zg):n}function Hj(o,u){return o&&o.length?Tf(o,lt(u,2),Zg):n}var Gj=Rf(function(o,u){return o*u},1),Jj=lm("round"),Yj=Rf(function(o,u){return o-u},0);function Xj(o){return o&&o.length?Fg(o,Qn):0}function Qj(o,u){return o&&o.length?Fg(o,lt(u,2)):0}return S.after=b5,S.ary=fw,S.assign=aB,S.assignIn=Cw,S.assignInWith=Vf,S.assignWith=uB,S.at=cB,S.before=dw,S.bind=wm,S.bindAll=pj,S.bindKey=hw,S.castArray=$5,S.chain=uw,S.chunk=zL,S.compact=UL,S.concat=WL,S.cond=gj,S.conforms=mj,S.constant=km,S.countBy=XF,S.create=lB,S.curry=pw,S.curryRight=gw,S.debounce=mw,S.defaults=fB,S.defaultsDeep=dB,S.defer=S5,S.delay=w5,S.difference=KL,S.differenceBy=qL,S.differenceWith=VL,S.drop=HL,S.dropRight=GL,S.dropRightWhile=JL,S.dropWhile=YL,S.fill=XL,S.filter=ZF,S.flatMap=n5,S.flatMapDeep=r5,S.flatMapDepth=i5,S.flatten=iw,S.flattenDeep=QL,S.flattenDepth=ZL,S.flip=E5,S.flow=vj,S.flowRight=_j,S.fromPairs=tF,S.functions=_B,S.functionsIn=bB,S.groupBy=o5,S.initial=nF,S.intersection=rF,S.intersectionBy=iF,S.intersectionWith=oF,S.invert=wB,S.invertBy=EB,S.invokeMap=a5,S.iteratee=Im,S.keyBy=u5,S.keys=Ye,S.keysIn=Xn,S.map=Df,S.mapKeys=CB,S.mapValues=TB,S.matches=bj,S.matchesProperty=Sj,S.memoize=Uf,S.merge=OB,S.mergeWith=Tw,S.method=wj,S.methodOf=Ej,S.mixin=Pm,S.negate=Wf,S.nthArg=Cj,S.omit=AB,S.omitBy=kB,S.once=x5,S.orderBy=c5,S.over=Tj,S.overArgs=C5,S.overEvery=Oj,S.overSome=Aj,S.partial=Em,S.partialRight=yw,S.partition=l5,S.pick=IB,S.pickBy=Ow,S.property=Mw,S.propertyOf=kj,S.pull=cF,S.pullAll=sw,S.pullAllBy=lF,S.pullAllWith=fF,S.pullAt=dF,S.range=Ij,S.rangeRight=Pj,S.rearg=T5,S.reject=h5,S.remove=hF,S.rest=O5,S.reverse=bm,S.sampleSize=g5,S.set=$B,S.setWith=RB,S.shuffle=m5,S.slice=pF,S.sortBy=_5,S.sortedUniq=SF,S.sortedUniqBy=wF,S.split=nj,S.spread=A5,S.tail=EF,S.take=xF,S.takeRight=CF,S.takeRightWhile=TF,S.takeWhile=OF,S.tap=UF,S.throttle=k5,S.thru=jf,S.toArray=ww,S.toPairs=Aw,S.toPairsIn=kw,S.toPath=Lj,S.toPlainObject=xw,S.transform=MB,S.unary=I5,S.union=AF,S.unionBy=kF,S.unionWith=IF,S.uniq=PF,S.uniqBy=$F,S.uniqWith=RF,S.unset=NB,S.unzip=Sm,S.unzipWith=aw,S.update=LB,S.updateWith=FB,S.values=Ta,S.valuesIn=BB,S.without=MF,S.words=$w,S.wrap=P5,S.xor=NF,S.xorBy=LF,S.xorWith=FF,S.zip=BF,S.zipObject=jF,S.zipObjectDeep=DF,S.zipWith=zF,S.entries=Aw,S.entriesIn=kw,S.extend=Cw,S.extendWith=Vf,Pm(S,S),S.add=Bj,S.attempt=Rw,S.camelCase=UB,S.capitalize=Iw,S.ceil=jj,S.clamp=jB,S.clone=R5,S.cloneDeep=N5,S.cloneDeepWith=L5,S.cloneWith=M5,S.conformsTo=F5,S.deburr=Pw,S.defaultTo=yj,S.divide=Dj,S.endsWith=WB,S.eq=ri,S.escape=KB,S.escapeRegExp=qB,S.every=QF,S.find=t5,S.findIndex=nw,S.findKey=hB,S.findLast=e5,S.findLastIndex=rw,S.findLastKey=pB,S.floor=zj,S.forEach=cw,S.forEachRight=lw,S.forIn=gB,S.forInRight=mB,S.forOwn=yB,S.forOwnRight=vB,S.get=Tm,S.gt=B5,S.gte=j5,S.has=SB,S.hasIn=Om,S.head=ow,S.identity=Qn,S.includes=s5,S.indexOf=eF,S.inRange=DB,S.invoke=xB,S.isArguments=ws,S.isArray=_t,S.isArrayBuffer=D5,S.isArrayLike=Yn,S.isArrayLikeObject=Te,S.isBoolean=z5,S.isBuffer=qo,S.isDate=U5,S.isElement=W5,S.isEmpty=K5,S.isEqual=q5,S.isEqualWith=V5,S.isError=xm,S.isFinite=H5,S.isFunction=oo,S.isInteger=vw,S.isLength=Kf,S.isMap=_w,S.isMatch=G5,S.isMatchWith=J5,S.isNaN=Y5,S.isNative=X5,S.isNil=Z5,S.isNull=Q5,S.isNumber=bw,S.isObject=ye,S.isObjectLike=Se,S.isPlainObject=gc,S.isRegExp=Cm,S.isSafeInteger=tB,S.isSet=Sw,S.isString=qf,S.isSymbol=ur,S.isTypedArray=Ca,S.isUndefined=eB,S.isWeakMap=nB,S.isWeakSet=rB,S.join=sF,S.kebabCase=VB,S.last=Lr,S.lastIndexOf=aF,S.lowerCase=HB,S.lowerFirst=GB,S.lt=iB,S.lte=oB,S.max=Uj,S.maxBy=Wj,S.mean=Kj,S.meanBy=qj,S.min=Vj,S.minBy=Hj,S.stubArray=Rm,S.stubFalse=Mm,S.stubObject=$j,S.stubString=Rj,S.stubTrue=Mj,S.multiply=Gj,S.nth=uF,S.noConflict=xj,S.noop=$m,S.now=zf,S.pad=JB,S.padEnd=YB,S.padStart=XB,S.parseInt=QB,S.random=zB,S.reduce=f5,S.reduceRight=d5,S.repeat=ZB,S.replace=tj,S.result=PB,S.round=Jj,S.runInContext=I,S.sample=p5,S.size=y5,S.snakeCase=ej,S.some=v5,S.sortedIndex=gF,S.sortedIndexBy=mF,S.sortedIndexOf=yF,S.sortedLastIndex=vF,S.sortedLastIndexBy=_F,S.sortedLastIndexOf=bF,S.startCase=rj,S.startsWith=ij,S.subtract=Yj,S.sum=Xj,S.sumBy=Qj,S.template=oj,S.times=Nj,S.toFinite=so,S.toInteger=Et,S.toLength=Ew,S.toLower=sj,S.toNumber=Fr,S.toSafeInteger=sB,S.toString=Ht,S.toUpper=aj,S.trim=uj,S.trimEnd=cj,S.trimStart=lj,S.truncate=fj,S.unescape=dj,S.uniqueId=Fj,S.upperCase=hj,S.upperFirst=Am,S.each=cw,S.eachRight=lw,S.first=ow,Pm(S,function(){var o={};return Ei(S,function(u,f){Gt.call(S.prototype,f)||(o[f]=u)}),o}(),{chain:!1}),S.VERSION=r,Pr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(o){S[o].placeholder=S}),Pr(["drop","take"],function(o,u){Rt.prototype[o]=function(f){f=f===n?1:Ue(Et(f),0);var p=this.__filtered__&&!u?new Rt(this):this.clone();return p.__filtered__?p.__takeCount__=En(f,p.__takeCount__):p.__views__.push({size:En(f,oe),type:o+(p.__dir__<0?"Right":"")}),p},Rt.prototype[o+"Right"]=function(f){return this.reverse()[o](f).reverse()}}),Pr(["filter","map","takeWhile"],function(o,u){var f=u+1,p=f==nt||f==pt;Rt.prototype[o]=function(v){var E=this.clone();return E.__iteratees__.push({iteratee:lt(v,3),type:f}),E.__filtered__=E.__filtered__||p,E}}),Pr(["head","last"],function(o,u){var f="take"+(u?"Right":"");Rt.prototype[o]=function(){return this[f](1).value()[0]}}),Pr(["initial","tail"],function(o,u){var f="drop"+(u?"":"Right");Rt.prototype[o]=function(){return this.__filtered__?new Rt(this):this[f](1)}}),Rt.prototype.compact=function(){return this.filter(Qn)},Rt.prototype.find=function(o){return this.filter(o).head()},Rt.prototype.findLast=function(o){return this.reverse().find(o)},Rt.prototype.invokeMap=At(function(o,u){return typeof o=="function"?new Rt(this):this.map(function(f){return cc(f,o,u)})}),Rt.prototype.reject=function(o){return this.filter(Wf(lt(o)))},Rt.prototype.slice=function(o,u){o=Et(o);var f=this;return f.__filtered__&&(o>0||u<0)?new Rt(f):(o<0?f=f.takeRight(-o):o&&(f=f.drop(o)),u!==n&&(u=Et(u),f=u<0?f.dropRight(-u):f.take(u-o)),f)},Rt.prototype.takeRightWhile=function(o){return this.reverse().takeWhile(o).reverse()},Rt.prototype.toArray=function(){return this.take(oe)},Ei(Rt.prototype,function(o,u){var f=/^(?:filter|find|map|reject)|While$/.test(u),p=/^(?:head|last)$/.test(u),v=S[p?"take"+(u=="last"?"Right":""):u],E=p||/^find/.test(u);v&&(S.prototype[u]=function(){var O=this.__wrapped__,A=p?[1]:arguments,$=O instanceof Rt,q=A[0],V=$||_t(O),Y=function(Pt){var Lt=v.apply(S,Bo([Pt],A));return p&&Z?Lt[0]:Lt};V&&f&&typeof q=="function"&&q.length!=1&&($=V=!1);var Z=this.__chain__,it=!!this.__actions__.length,ft=E&&!Z,Ct=$&&!it;if(!E&&V){O=Ct?O:new Rt(this);var dt=o.apply(O,A);return dt.__actions__.push({func:jf,args:[Y],thisArg:n}),new Rr(dt,Z)}return ft&&Ct?o.apply(this,A):(dt=this.thru(Y),ft?p?dt.value()[0]:dt.value():dt)})}),Pr(["pop","push","shift","sort","splice","unshift"],function(o){var u=ff[o],f=/^(?:push|sort|unshift)$/.test(o)?"tap":"thru",p=/^(?:pop|shift)$/.test(o);S.prototype[o]=function(){var v=arguments;if(p&&!this.__chain__){var E=this.value();return u.apply(_t(E)?E:[],v)}return this[f](function(O){return u.apply(_t(O)?O:[],v)})}}),Ei(Rt.prototype,function(o,u){var f=S[u];if(f){var p=f.name+"";Gt.call(ba,p)||(ba[p]=[]),ba[p].push({name:u,func:f})}}),ba[$f(n,T).name]=[{name:"wrapper",func:n}],Rt.prototype.clone=d2,Rt.prototype.reverse=h2,Rt.prototype.value=p2,S.prototype.at=WF,S.prototype.chain=KF,S.prototype.commit=qF,S.prototype.next=VF,S.prototype.plant=GF,S.prototype.reverse=JF,S.prototype.toJSON=S.prototype.valueOf=S.prototype.value=YF,S.prototype.first=S.prototype.head,nc&&(S.prototype[nc]=HF),S},ya=qN();ps?((ps.exports=ya)._=ya,Ig._=ya):un._=ya}).call(mc)})(Dd,Dd.exports);var l3=Dd.exports,at=JT(l3);const f3=1,Py=2,d3={INIT_ACK:{statusByte:2,parse:t=>({type:"init-ack",projectName:t[0]})},INIT:{statusByte:3,parse:t=>({type:"init-project",tracksCount:t[0]})},DONE:{statusByte:4,parse:t=>({type:"init-done"})},TRACK:{statusByte:5,parse:t=>({type:"init-track",name:t[0],trackIndex:at.toNumber(t[1]),color:at.toNumber(t[2])})},CLIP:{statusByte:6,parse:t=>({type:"init-clip",name:t[0],trackIndex:at.toNumber(t[1]),clipIndex:at.toNumber(t[2]),color:at.toNumber(t[3]),startTime:at.toNumber(t[4]),endTime:at.toNumber(t[5])})},BEAT:{statusByte:7,parse:t=>({type:"beat",value:at.toNumber(t[0])})},BAR_BEAT:{statusByte:8,parse:t=>({type:"bar-beat",value:at.toNumber(t[0])})},SIG:{statusByte:9,parse:t=>({type:"sig",numer:at.toNumber(t[0]),denom:at.toNumber(t[1])})},TEMPO:{statusByte:10,parse:t=>({type:"tempo",value:at.toNumber(t[0])})},IS_PLAYING:{statusByte:11,parse:t=>({type:"is-playing",value:at.toNumber(t[0])===1})},CUE:{statusByte:12,parse:t=>({type:"init-cue",id:at.toNumber(t[0]),name:t[1],time:at.toNumber(t[2]),index:at.toNumber(t[3])})},METRONOME_STATE:{statusByte:13,parse:t=>({type:"metronome-state",value:at.toNumber(t[0])===1})},LOOP_STATE:{statusByte:14,parse:t=>({type:"loop-state",value:at.toNumber(t[0])===1})},HALF_BEAT:{statusByte:15,parse:t=>({type:"half-beat",isHalf:at.toNumber(t[0])===1})}},h3=at.fromPairs(at.map(d3,t=>[t.statusByte,t])),p3=t=>{const e=at.join(at.map(t,r=>String.fromCharCode(r)),""),n=at.split(e,String.fromCharCode(f3));return[at.toNumber(n[0]),n.splice(1)]},g3=t=>{try{if(t.manufacturer===Py){const[e,n]=p3(t.body),r=h3[e];if(r!==void 0)return r.parse(n);console.warn("Did not find parser for message",t)}}catch(e){console.error("Got error parsing message",e)}},Ww=t=>{const e=[];return at.forEach(t,(n,r)=>{e.push(t.charCodeAt(r))}),e},hn={base:(t,e)=>({type:"sysex",manufacturer:Py,body:[t,...Ww(e.toString())]}),baseJSON:(t,e)=>({type:"sysex",manufacturer:Py,body:[t,...Ww(JSON.stringify(e))]}),init:()=>hn.base(64,1),initReady:t=>hn.baseJSON(65,{tracks:t}),play:()=>hn.base(80,1),stop:()=>hn.base(81,1),jumpToCue:t=>hn.base(82,t),jumpBy:t=>hn.base(84,t),record:()=>hn.base(85,1),metronome:t=>hn.base(86,t?1:0),loop:t=>hn.base(87,t?1:0)},m3=t=>typeof t=="function",L=function(t,e){if(typeof t=="function")return function(){return t(arguments)?e.apply(this,arguments):n=>e(n,...arguments)};switch(t){case 0:case 1:throw new RangeError(`Invalid arity ${t}`);case 2:return function(n,r){return arguments.length>=2?e(n,r):function(i){return e(i,n)}};case 3:return function(n,r,i){return arguments.length>=3?e(n,r,i):function(s){return e(s,n,r)}};case 4:return function(n,r,i,s){return arguments.length>=4?e(n,r,i,s):function(a){return e(a,n,r,i)}};case 5:return function(n,r,i,s,a){return arguments.length>=5?e(n,r,i,s,a):function(c){return e(c,n,r,i,s)}};default:return function(){if(arguments.length>=t)return e.apply(this,arguments);const n=arguments;return function(r){return e(r,...n)}}}},Le=t=>t,Lh=t=>()=>t,Kw=Lh(!0),$y=Lh(!1),iO=Lh(void 0),y3=iO;function J(t,e,n,r,i,s,a,c,l){switch(arguments.length){case 1:return t;case 2:return e(t);case 3:return n(e(t));case 4:return r(n(e(t)));case 5:return i(r(n(e(t))));case 6:return s(i(r(n(e(t)))));case 7:return a(s(i(r(n(e(t))))));case 8:return c(a(s(i(r(n(e(t)))))));case 9:return l(c(a(s(i(r(n(e(t))))))));default:{let d=arguments[0];for(let h=1;h<arguments.length;h++)d=arguments[h](d);return d}}}const Fh=t=>(e,n)=>e===n||t(e,n),v3=L(2,(t,e)=>Fh((n,r)=>t(e(n),e(r)))),_3=t=>Fh((e,n)=>{if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++)if(!t(e[r],n[r]))return!1;return!0});let b3="3.13.12";const Bh=()=>b3,Hf=`effect/GlobalValue/globalStoreId/${Bh()}`;let yc;const jt=(t,e)=>(yc||(globalThis[Hf]??(globalThis[Hf]=new Map),yc=globalThis[Hf]),yc.has(t)||yc.set(t,e()),yc.get(t)),qi=t=>typeof t=="string",zs=t=>typeof t=="number",a0=t=>typeof t=="boolean",jh=t=>typeof t=="bigint",Ry=t=>typeof t=="symbol",Tu=m3,S3=t=>t===void 0,w3=t=>!1,u0=t=>typeof t=="object"&&t!==null,us=t=>u0(t)||Tu(t),xt=L(2,(t,e)=>us(t)&&e in t),c0=L(2,(t,e)=>xt(t,"_tag")&&t._tag===e),Oa=t=>t==null,E3=t=>t!=null,x3=t=>t instanceof Date,oO=t=>xt(t,Symbol.iterator),C3=t=>u0(t)&&!Array.isArray(t),T3=t=>xt(t,"then")&&Tu(t.then),Dh=t=>`BUG: ${t} - please report an issue at https://github.com/Effect-TS/effect/issues`;let sO=class aO{constructor(e){_(this,"self");_(this,"called",!1);this.self=e}next(e){return this.called?{value:e,done:!0}:(this.called=!0,{value:this.self,done:!1})}return(e){return{value:e,done:!0}}throw(e){throw e}[Symbol.iterator](){return new aO(this.self)}};const O3=335903614,A3=4150755663,k3=1481765933,I3=1284865837,P3=9007199254740992,$3=134217728;class R3{constructor(e,n,r,i){_(this,"_state");return Oa(n)&&Oa(e)?(n=Math.random()*4294967295>>>0,e=0):Oa(n)&&(n=e,e=0),Oa(i)&&Oa(r)?(i=this._state?this._state[3]:A3,r=this._state?this._state[2]:O3):Oa(i)&&(i=r,r=0),this._state=new Int32Array([0,0,r>>>0,((i||0)|1)>>>0]),this._next(),qw(this._state,this._state[0],this._state[1],e>>>0,n>>>0),this._next(),this}getState(){return[this._state[0],this._state[1],this._state[2],this._state[3]]}setState(e){this._state[0]=e[0],this._state[1]=e[1],this._state[2]=e[2],this._state[3]=e[3]|1}integer(e){return Math.round(this.number()*Number.MAX_SAFE_INTEGER)%e}number(){const e=(this._next()&67108863)*1,n=(this._next()&134217727)*1;return(e*$3+n)/P3}_next(){const e=this._state[0]>>>0,n=this._state[1]>>>0;M3(this._state,e,n,k3,I3),qw(this._state,this._state[0],this._state[1],this._state[2],this._state[3]);let r=e>>>18,i=(n>>>18|e<<14)>>>0;r=(r^e)>>>0,i=(i^n)>>>0;const s=(i>>>27|r<<5)>>>0,a=e>>>27,c=(-a>>>0&31)>>>0;return(s>>>a|s<<c)>>>0}}function M3(t,e,n,r,i){let s=(n>>>16)*(i&65535)>>>0,a=(n&65535)*(i>>>16)>>>0,c=(n&65535)*(i&65535)>>>0,l=(n>>>16)*(i>>>16)+((a>>>16)+(s>>>16))>>>0;a=a<<16>>>0,c=c+a>>>0,c>>>0<a>>>0&&(l=l+1>>>0),s=s<<16>>>0,c=c+s>>>0,c>>>0<s>>>0&&(l=l+1>>>0),l=l+Math.imul(n,r)>>>0,l=l+Math.imul(e,i)>>>0,t[0]=l,t[1]=c}function qw(t,e,n,r,i){let s=e+r>>>0;const a=n+i>>>0;a>>>0<n>>>0&&(s=s+1|0),t[0]=s,t[1]=a}const My=Symbol.for("effect/Utils/YieldWrap");var bl;class Sl{constructor(e){jw(this,bl);Dw(this,bl,e)}[My](){return Bw(this,bl)}}bl=new WeakMap;function N3(t){if(typeof t=="object"&&t!==null&&My in t)return t[My]();throw new Error(Dh("yieldWrapGet"))}const Dr=jt("effect/Utils/isStructuralRegion",()=>({enabled:!1,tester:void 0})),L3=t=>{const e={[t](n){return n()}};return function(n){return e[t](n)}},Un=L3("effect_internal_function"),Nm=jt(Symbol.for("effect/Hash/randomHashCache"),()=>new WeakMap),kt=Symbol.for("effect/Hash"),ut=t=>{if(Dr.enabled===!0)return 0;switch(typeof t){case"number":return f0(t);case"bigint":return Re(t.toString(10));case"boolean":return Re(String(t));case"symbol":return Re(String(t));case"string":return Re(t);case"undefined":return Re("undefined");case"function":case"object":return t===null?Re("null"):t instanceof Date?ut(t.toISOString()):F3(t)?t[kt]():l0(t);default:throw new Error(`BUG: unhandled typeof ${typeof t} - please report an issue at https://github.com/Effect-TS/effect/issues`)}},l0=t=>(Nm.has(t)||Nm.set(t,f0(Math.floor(Math.random()*Number.MAX_SAFE_INTEGER))),Nm.get(t)),Bt=t=>e=>e*53^t,zh=t=>t&3221225471|t>>>1&1073741824,F3=t=>xt(t,kt),f0=t=>{if(t!==t||t===1/0)return 0;let e=t|0;for(e!==t&&(e^=t*4294967295);t>4294967295;)e^=t/=4294967295;return zh(e)},Re=t=>{let e=5381,n=t.length;for(;n;)e=e*33^t.charCodeAt(--n);return zh(e)},B3=(t,e)=>{let n=12289;for(let r=0;r<e.length;r++)n^=J(Re(e[r]),Bt(ut(t[e[r]])));return zh(n)},uO=t=>B3(t,Object.keys(t)),wl=t=>{let e=6151;for(let n=0;n<t.length;n++)e=J(e,Bt(ut(t[n])));return zh(e)},Ce=function(){if(arguments.length===1){const n=arguments[0];return function(r){return Object.defineProperty(n,kt,{value(){return r},enumerable:!1}),r}}const t=arguments[0],e=arguments[1];return Object.defineProperty(t,kt,{value(){return e},enumerable:!1}),e},Tt=Symbol.for("effect/Equal");function Ot(){return arguments.length===1?t=>zd(t,arguments[0]):zd(arguments[0],arguments[1])}function zd(t,e){if(t===e)return!0;const n=typeof t;if(n!==typeof e)return!1;if(n==="object"||n==="function"){if(t!==null&&e!==null){if(Ud(t)&&Ud(e))return ut(t)===ut(e)&&t[Tt](e)?!0:Dr.enabled&&Dr.tester?Dr.tester(t,e):!1;if(t instanceof Date&&e instanceof Date)return t.toISOString()===e.toISOString()}if(Dr.enabled){if(Array.isArray(t)&&Array.isArray(e))return t.length===e.length&&t.every((r,i)=>zd(r,e[i]));if(Object.getPrototypeOf(t)===Object.prototype&&Object.getPrototypeOf(t)===Object.prototype){const r=Object.keys(t),i=Object.keys(e);if(r.length===i.length){for(const s of r)if(!(s in e&&zd(t[s],e[s])))return Dr.tester?Dr.tester(t,e):!1;return!0}}return Dr.tester?Dr.tester(t,e):!1}}return Dr.enabled&&Dr.tester?Dr.tester(t,e):!1}const Ud=t=>xt(t,Tt),d0=()=>Ot,_e=Symbol.for("nodejs.util.inspect.custom"),Ve=t=>{try{if(xt(t,"toJSON")&&Tu(t.toJSON)&&t.toJSON.length===0)return t.toJSON();if(Array.isArray(t))return t.map(Ve)}catch{return{}}return D3(t)},en=t=>JSON.stringify(t,null,2),Ya=(t,e=2)=>{if(typeof t=="string")return t;try{return typeof t=="object"?cO(t,e):String(t)}catch{return String(t)}},cO=(t,e)=>{let n=[];const r=JSON.stringify(t,(i,s)=>typeof s=="object"&&s!==null?n.includes(s)?void 0:n.push(s)&&(Ms.fiberRefs!==void 0&&lO(s)?s[h0](Ms.fiberRefs):s):s,e);return n=void 0,r},h0=Symbol.for("effect/Inspectable/Redactable"),lO=t=>typeof t=="object"&&t!==null&&h0 in t,Ms=jt("effect/Inspectable/redactableState",()=>({fiberRefs:void 0})),j3=(t,e)=>{const n=Ms.fiberRefs;Ms.fiberRefs=t;try{return e()}finally{Ms.fiberRefs=n}},D3=t=>lO(t)&&Ms.fiberRefs!==void 0?t[h0](Ms.fiberRefs):t,vt=(t,e)=>{switch(e.length){case 0:return t;case 1:return e[0](t);case 2:return e[1](e[0](t));case 3:return e[2](e[1](e[0](t)));case 4:return e[3](e[2](e[1](e[0](t))));case 5:return e[4](e[3](e[2](e[1](e[0](t)))));case 6:return e[5](e[4](e[3](e[2](e[1](e[0](t))))));case 7:return e[6](e[5](e[4](e[3](e[2](e[1](e[0](t)))))));case 8:return e[7](e[6](e[5](e[4](e[3](e[2](e[1](e[0](t))))))));case 9:return e[8](e[7](e[6](e[5](e[4](e[3](e[2](e[1](e[0](t)))))))));default:{let n=t;for(let r=0,i=e.length;r<i;r++)n=e[r](n);return n}}},Bc="Async",Uh="Commit",hi="Failure",Lm="OnFailure",Wd="OnSuccess",Kd="OnSuccessAndFailure",pi="Success",fO="Sync",z3="Tag",El="UpdateRuntimeFlags",qd="While",vd="Iterator",dO="WithRuntime",_d="Yield",p0="RevertFlags",U3=Symbol.for("effect/Effect"),W3=Symbol.for("effect/Stream"),K3=Symbol.for("effect/Sink"),q3=Symbol.for("effect/Channel"),Xa={_R:t=>t,_E:t=>t,_A:t=>t,_V:Bh()},V3={_A:t=>t,_In:t=>t,_L:t=>t,_E:t=>t,_R:t=>t},H3={_Env:t=>t,_InErr:t=>t,_InElem:t=>t,_InDone:t=>t,_OutErr:t=>t,_OutElem:t=>t,_OutDone:t=>t},xl={[U3]:Xa,[W3]:Xa,[K3]:V3,[q3]:H3,[Tt](t){return this===t},[kt](){return Ce(this,l0(this))},[Symbol.iterator](){return new sO(new Sl(this))},pipe(){return vt(this,arguments)}},Cl={[kt](){return Ce(this,uO(this))},[Tt](t){const e=Object.keys(this),n=Object.keys(t);if(e.length!==n.length)return!1;for(const r of e)if(!(r in t&&Ot(this[r],t[r])))return!1;return!0}},Tl={...xl,_op:Uh},G3={...Tl,...Cl},J3=function(){function t(){}return t.prototype=Tl,t}(),hO=Symbol.for("effect/Option"),pO={...xl,[hO]:{_A:t=>t},[_e](){return this.toJSON()},toString(){return en(this.toJSON())}},Y3=Object.assign(Object.create(pO),{_tag:"Some",_op:"Some",[Tt](t){return g0(t)&&mO(t)&&Ot(this.value,t.value)},[kt](){return Ce(this,Bt(ut(this._tag))(ut(this.value)))},toJSON(){return{_id:"Option",_tag:this._tag,value:Ve(this.value)}}}),X3=ut("None"),Q3=Object.assign(Object.create(pO),{_tag:"None",_op:"None",[Tt](t){return g0(t)&&gO(t)},[kt](){return X3},toJSON(){return{_id:"Option",_tag:this._tag}}}),g0=t=>xt(t,hO),gO=t=>t._tag==="None",mO=t=>t._tag==="Some",m0=Object.create(Q3),Vd=t=>{const e=Object.create(Y3);return e.value=t,e},yO=Symbol.for("effect/Either"),vO={...xl,[yO]:{_R:t=>t},[_e](){return this.toJSON()},toString(){return en(this.toJSON())}},Z3=Object.assign(Object.create(vO),{_tag:"Right",_op:"Right",[Tt](t){return y0(t)&&_O(t)&&Ot(this.right,t.right)},[kt](){return Bt(ut(this._tag))(ut(this.right))},toJSON(){return{_id:"Either",_tag:this._tag,right:Ve(this.right)}}}),tD=Object.assign(Object.create(vO),{_tag:"Left",_op:"Left",[Tt](t){return y0(t)&&v0(t)&&Ot(this.left,t.left)},[kt](){return Bt(ut(this._tag))(ut(this.left))},toJSON(){return{_id:"Either",_tag:this._tag,left:Ve(this.left)}}}),y0=t=>xt(t,yO),v0=t=>t._tag==="Left",_O=t=>t._tag==="Right",eD=t=>{const e=Object.create(tD);return e.left=t,e},nD=t=>{const e=Object.create(Z3);return e.right=t,e},rD=t=>v0(t)?m0:Vd(t.right),Mt=nD,St=eD,iD=t=>{if(Tu(t))try{return Mt(t())}catch(e){return St(e)}else try{return Mt(t.try())}catch(e){return St(t.catch(e))}},oD=y0,Ze=v0,po=_O,sD=L(2,(t,{onLeft:e,onRight:n})=>Ze(t)?St(e(t.left)):Mt(n(t.right))),bO=L(2,(t,e)=>Ze(t)?St(e(t.left)):Mt(t.right)),aD=L(2,(t,e)=>po(t)?Mt(e(t.right)):St(t.left)),_0=L(2,(t,{onLeft:e,onRight:n})=>Ze(t)?e(t.left):n(t.right)),uD=_0({onLeft:Le,onRight:Le}),SO=L(2,(t,e)=>{if(po(t))return t.right;throw e(t.left)}),cD=SO(()=>new Error("getOrThrow called on a Left")),wO=t=>t.length>0,EO=t=>(e,n)=>e===n?0:t(e,n),lD=EO((t,e)=>t<e?-1:1),xO=L(2,(t,e)=>EO((n,r)=>t(e(n),e(r)))),fD=t=>L(2,(e,n)=>t(e,n)===1),ct=()=>m0,It=Vd,dD=g0,ke=gO,Rn=mO,He=L(2,(t,{onNone:e,onSome:n})=>ke(t)?e():n(t.value)),hD=rD,je=L(2,(t,e)=>ke(t)?e():t.value),Zo=L(2,(t,e)=>ke(t)?e():t),pD=L(2,(t,e)=>ke(t)?It(e()):t),cs=t=>t==null?ct():It(t),ai=je(iO),gD=t=>(...e)=>{try{return It(t(...e))}catch{return ct()}},CO=L(2,(t,e)=>ke(t)?ct():It(e(t.value))),Ou=L(2,(t,e)=>ke(t)?ct():e(t.value)),mD=L(2,(t,e)=>ke(t)?ct():cs(e(t.value))),yD=t=>Fh((e,n)=>ke(e)?ke(n):ke(n)?!1:t(e.value,n.value)),vD=t=>L(2,(e,n)=>ke(e)?!1:t(e.value,n)),_D=d0(),bD=vD(_D),SD=L(2,(t,e)=>ke(t)?!1:e(t.value)),wD=(...t)=>t,Wh=t=>new Array(t),ED=L(2,(t,e)=>{const n=Math.max(1,Math.floor(t)),r=new Array(n);for(let i=0;i<n;i++)r[i]=e(i);return r}),Fe=t=>Array.isArray(t)?t:Array.from(t),xD=t=>Array.isArray(t)?t:[t],CD=L(2,(t,{onEmpty:e,onNonEmpty:n})=>nn(t)?n(er(t),Us(t)):e()),Hd=L(2,(t,e)=>[e,...t]),TD=L(2,(t,e)=>[...t,e]),TO=L(2,(t,e)=>Fe(t).concat(Fe(e))),OD=Array.isArray,AD=t=>t.length===0,kD=AD,bd=wO,nn=wO,OO=(t,e)=>t<0||t>=e.length,ID=(t,e)=>Math.floor(Math.min(Math.max(0,t),e.length)),PD=L(2,(t,e)=>{const n=Math.floor(e);return OO(n,t)?ct():It(t[n])}),AO=L(2,(t,e)=>{const n=Math.floor(e);if(OO(n,t))throw new Error(`Index ${n} out of bounds`);return t[n]}),jc=PD(0),er=AO(0),$D=t=>nn(t)?It(kO(t)):ct(),kO=t=>t[t.length-1],Us=t=>t.slice(1),RD=(t,e)=>{let n=0;for(const r of t){if(!e(r,n))break;n++}return n},MD=L(2,(t,e)=>BD(t,RD(t,e))),ND=L(2,(t,e)=>{const n=Fe(t);return n.slice(ID(e,n),n.length)}),Vw=t=>Array.from(t).reverse(),Vc=L(2,(t,e)=>{const n=Array.from(t);return n.sort(e),n}),Hw=L(2,(t,e)=>LD(t,e,wD)),LD=L(3,(t,e,n)=>{const r=Fe(t),i=Fe(e);if(nn(r)&&nn(i)){const s=[n(er(r),er(i))],a=Math.min(r.length,i.length);for(let c=1;c<a;c++)s[c]=n(r[c],i[c]);return s}return[]}),FD=d0(),BD=L(2,(t,e)=>{const n=Array.from(t),r=Math.floor(e);return nn(n)?r>=1?jD(n,r):[[],n]:[n,[]]}),jD=L(2,(t,e)=>{const n=Math.max(1,Math.floor(e));return n>=t.length?[Ac(t),[]]:[Hd(t.slice(1,n),er(t)),t.slice(n)]}),Ac=t=>t.slice(),DD=L(3,(t,e,n)=>{const r=Fe(t),i=Fe(e);return nn(r)?nn(i)?$O(n)(TO(r,i)):r:i}),Sd=L(2,(t,e)=>DD(t,e,FD)),Qa=()=>[],si=t=>[t],za=L(2,(t,e)=>t.map(e)),IO=L(2,(t,e)=>{if(kD(t))return[];const n=[];for(let r=0;r<t.length;r++){const i=e(t[r],r);for(let s=0;s<i.length;s++)n.push(i[s])}return n}),zD=IO(Le),PO=L(3,(t,e,n)=>Fe(t).reduce((r,i,s)=>n(r,i,s),e)),Gw=(t,e)=>{const n=[];let r=t,i;for(;Rn(i=e(r));){const[s,a]=i.value;n.push(s),r=a}return n},b0=_3,$O=L(2,(t,e)=>{const n=Fe(t);if(nn(n)){const r=[er(n)],i=Us(n);for(const s of i)r.every(a=>!e(s,a))&&r.push(s);return r}return[]}),UD=t=>$O(t,d0()),Au=L(2,(t,e)=>Fe(t).join(e)),RO=(t,e)=>{switch(e._tag){case"StringKeyword":case"TemplateLiteral":return Object.keys(t);case"SymbolKeyword":return Object.getOwnPropertySymbols(t);case"Refinement":return RO(t,e.from)}},Ua=t=>Object.keys(t).concat(Object.getOwnPropertySymbols(t)),MO=t=>{let e=!1,n;return()=>(e||(n=t(),e=!0),n)},WD=t=>{try{return t.toISOString()}catch{return String(t)}},Di=(t,e=!0)=>{if(Array.isArray(t))return`[${t.map(n=>Di(n,e)).join(",")}]`;if(x3(t))return WD(t);if(xt(t,"toString")&&Tu(t.toString)&&t.toString!==Object.prototype.toString)return t.toString();if(qi(t))return JSON.stringify(t);if(zs(t)||t==null||a0(t)||Ry(t))return String(t);if(jh(t))return String(t)+"n";if(oO(t))return`${t.constructor.name}(${Di(Array.from(t),e)})`;try{e&&JSON.stringify(t);const n=`{${Ua(t).map(i=>`${qi(i)?JSON.stringify(i):String(i)}:${Di(t[i],!1)}`).join(",")}}`,r=t.constructor.name;return t.constructor!==Object.prototype.constructor?`${r}(${n})`:n}catch{return"<circular structure>"}},KD=t=>typeof t=="string"?JSON.stringify(t):String(t),NO=t=>Array.isArray(t),Jw=t=>`[${KD(t)}]`,qD=t=>NO(t)?t.map(Jw).join(""):Jw(t),Zs=(t,e,n,r)=>{let i=t;return e!==void 0&&(i+=`
details: ${e}`),r&&(i+=`
schema (${r._tag}): ${r}`),i},VD=t=>Zs("Unsupported key schema",void 0,void 0,t),HD=t=>Zs("Unsupported literal",`literal value: ${Di(t)}`),Yw=t=>Zs("Duplicate index signature",`${t} index signature`),GD=Zs("Unsupported index signature parameter","An index signature parameter type must be `string`, `symbol`, a template literal type or a refinement of the previous types"),JD=Zs("Invalid element","A required element cannot follow an optional element. ts(1257)"),Xw=t=>Zs("Duplicate property signature transformation",`Duplicate key ${Di(t)}`),YD=t=>Zs("Duplicate property signature",`Duplicate key ${Di(t)}`),Za=lD,Gd=t=>t.replace(/[/\\^$*+?.()|[\]{}]/g,"\\$&"),XD=Symbol.for("effect/annotation/Brand"),QD=Symbol.for("effect/annotation/SchemaId"),LO=Symbol.for("effect/annotation/Message"),S0=Symbol.for("effect/annotation/MissingMessage"),FO=Symbol.for("effect/annotation/Identifier"),To=Symbol.for("effect/annotation/Title"),Ny=Symbol.for("effect/annotation/AutoTitle"),Ol=Symbol.for("effect/annotation/Description"),BO=Symbol.for("effect/annotation/Examples"),jO=Symbol.for("effect/annotation/Default"),DO=Symbol.for("effect/annotation/JSONSchema"),zO=Symbol.for("effect/annotation/Arbitrary"),UO=Symbol.for("effect/annotation/Pretty"),WO=Symbol.for("effect/annotation/Equivalence"),ZD=Symbol.for("effect/annotation/Documentation"),KO=Symbol.for("effect/annotation/Concurrency"),qO=Symbol.for("effect/annotation/Batching"),VO=Symbol.for("effect/annotation/ParseIssueTitle"),HO=Symbol.for("effect/annotation/ParseOptions"),GO=Symbol.for("effect/annotation/DecodingFallback"),JO=Symbol.for("effect/annotation/Surrogate"),tz=Symbol.for("effect/annotation/StableFilter"),Nn=L(2,(t,e)=>Object.prototype.hasOwnProperty.call(t.annotations,e)?It(t.annotations[e]):ct()),ez=Nn(XD),nz=Nn(LO),rz=Nn(S0),YO=Nn(To),XO=Nn(Ny),Kh=Nn(FO),QO=Nn(Ol),iz=Nn(KO),oz=Nn(qO),sz=Nn(VO),az=Nn(HO),uz=Nn(GO),ZO=Nn(JO),cz=Nn(tz),lz=t=>SD(cz(t),e=>e===!0),tA=Symbol.for("effect/annotation/JSONIdentifier"),fz=Nn(tA),dz=t=>Zo(fz(t),()=>Kh(t)),hz=Symbol.for("effect/schema/ParseJson");class qh{constructor(e,n,r,i={}){_(this,"typeParameters");_(this,"decodeUnknown");_(this,"encodeUnknown");_(this,"annotations");_(this,"_tag","Declaration");this.typeParameters=e,this.decodeUnknown=n,this.encodeUnknown=r,this.annotations=i}toString(){return je(Vi(this),()=>"<declaration schema>")}toJSON(){return{_tag:this._tag,typeParameters:this.typeParameters.map(e=>e.toJSON()),annotations:Ge(this.annotations)}}}const Al=t=>e=>e._tag===t;let Ly=class{constructor(e,n={}){_(this,"literal");_(this,"annotations");_(this,"_tag","Literal");this.literal=e,this.annotations=n}toString(){return je(Vi(this),()=>Di(this.literal))}toJSON(){return{_tag:this._tag,literal:jh(this.literal)?String(this.literal):this.literal,annotations:Ge(this.annotations)}}};const Qw=Al("Literal");class pz{constructor(e,n={}){_(this,"symbol");_(this,"annotations");_(this,"_tag","UniqueSymbol");this.symbol=e,this.annotations=n}toString(){return je(Vi(this),()=>Di(this.symbol))}toJSON(){return{_tag:this._tag,symbol:String(this.symbol),annotations:Ge(this.annotations)}}}class gz{constructor(e={}){_(this,"annotations");_(this,"_tag","UndefinedKeyword");this.annotations=e}toString(){return ea(this)}toJSON(){return{_tag:this._tag,annotations:Ge(this.annotations)}}}const Fy=new gz({[To]:"undefined"});class mz{constructor(e={}){_(this,"annotations");_(this,"_tag","NeverKeyword");this.annotations=e}toString(){return ea(this)}toJSON(){return{_tag:this._tag,annotations:Ge(this.annotations)}}}const w0=new mz({[To]:"never"});class yz{constructor(e={}){_(this,"annotations");_(this,"_tag","UnknownKeyword");this.annotations=e}toString(){return ea(this)}toJSON(){return{_tag:this._tag,annotations:Ge(this.annotations)}}}const eA=new yz({[To]:"unknown"});class vz{constructor(e={}){_(this,"annotations");_(this,"_tag","AnyKeyword");this.annotations=e}toString(){return ea(this)}toJSON(){return{_tag:this._tag,annotations:Ge(this.annotations)}}}const nA=new vz({[To]:"any"});class _z{constructor(e={}){_(this,"annotations");_(this,"_tag","StringKeyword");this.annotations=e}toString(){return ea(this)}toJSON(){return{_tag:this._tag,annotations:Ge(this.annotations)}}}const bz=new _z({[To]:"string",[Ol]:"a string"}),Sz=Al("StringKeyword");class wz{constructor(e={}){_(this,"annotations");_(this,"_tag","NumberKeyword");this.annotations=e}toString(){return ea(this)}toJSON(){return{_tag:this._tag,annotations:Ge(this.annotations)}}}const Ez=new wz({[To]:"number",[Ol]:"a number"});class xz{constructor(e={}){_(this,"annotations");_(this,"_tag","BooleanKeyword");this.annotations=e}toString(){return ea(this)}toJSON(){return{_tag:this._tag,annotations:Ge(this.annotations)}}}const Cz=new xz({[To]:"boolean",[Ol]:"a boolean"}),Tz=Al("SymbolKeyword");let Vh=class{constructor(e,n={}){_(this,"type");_(this,"annotations");this.type=e,this.annotations=n}toJSON(){return{type:this.type.toJSON(),annotations:Ge(this.annotations)}}toString(){return String(this.type)}};class ta extends Vh{constructor(n,r,i={}){super(n,i);_(this,"isOptional");this.isOptional=r}toJSON(){return{type:this.type.toJSON(),isOptional:this.isOptional,annotations:Ge(this.annotations)}}toString(){return String(this.type)+(this.isOptional?"?":"")}}const rA=t=>t.map(e=>e.type);class E0{constructor(e,n,r,i={}){_(this,"elements");_(this,"rest");_(this,"isReadonly");_(this,"annotations");_(this,"_tag","TupleType");this.elements=e,this.rest=n,this.isReadonly=r,this.annotations=i;let s=!1,a=!1;for(const c of e)if(c.isOptional)s=!0;else if(s){a=!0;break}if(a||s&&n.length>1)throw new Error(JD)}toString(){return je(Vi(this),()=>Oz(this))}toJSON(){return{_tag:this._tag,elements:this.elements.map(e=>e.toJSON()),rest:this.rest.map(e=>e.toJSON()),isReadonly:this.isReadonly,annotations:Ge(this.annotations)}}}const Oz=t=>{const e=t.elements.map(String).join(", ");return CD(t.rest,{onEmpty:()=>`readonly [${e}]`,onNonEmpty:(n,r)=>{const i=String(n),s=i.includes(" | ")?`(${i})`:i;if(r.length>0){const a=r.map(String).join(", ");return t.elements.length>0?`readonly [${e}, ...${s}[], ${a}]`:`readonly [...${s}[], ${a}]`}else return t.elements.length>0?`readonly [${e}, ...${s}[]]`:`ReadonlyArray<${i}>`}})};class kn extends ta{constructor(n,r,i,s,a){super(r,i,a);_(this,"name");_(this,"isReadonly");this.name=n,this.isReadonly=s}toString(){return(this.isReadonly?"readonly ":"")+String(this.name)+(this.isOptional?"?":"")+": "+this.type}toJSON(){return{name:String(this.name),type:this.type.toJSON(),isOptional:this.isOptional,isReadonly:this.isReadonly,annotations:Ge(this.annotations)}}}const iA=t=>{switch(t._tag){case"StringKeyword":case"SymbolKeyword":case"TemplateLiteral":return!0;case"Refinement":return iA(t.from)}return!1};class Hh{constructor(e,n,r){_(this,"type");_(this,"isReadonly");_(this,"parameter");if(this.type=n,this.isReadonly=r,iA(e))this.parameter=e;else throw new Error(GD)}toString(){return(this.isReadonly?"readonly ":"")+`[x: ${this.parameter}]: ${this.type}`}toJSON(){return{parameter:this.parameter.toJSON(),type:this.type.toJSON(),isReadonly:this.isReadonly}}}class Ns{constructor(e,n,r={}){_(this,"annotations");_(this,"_tag","TypeLiteral");_(this,"propertySignatures");_(this,"indexSignatures");this.annotations=r;const i={};for(let a=0;a<e.length;a++){const c=e[a].name;if(Object.prototype.hasOwnProperty.call(i,c))throw new Error(YD(c));i[c]=null}const s={string:!1,symbol:!1};for(let a=0;a<n.length;a++){const c=fA(n[a].parameter);if(Sz(c)){if(s.string)throw new Error(Yw("string"));s.string=!0}else if(Tz(c)){if(s.symbol)throw new Error(Yw("symbol"));s.symbol=!0}}this.propertySignatures=e,this.indexSignatures=n}toString(){return je(Vi(this),()=>Az(this))}toJSON(){return{_tag:this._tag,propertySignatures:this.propertySignatures.map(e=>e.toJSON()),indexSignatures:this.indexSignatures.map(e=>e.toJSON()),annotations:Ge(this.annotations)}}}const Zw=t=>t.map(String).join("; "),Az=t=>{if(t.propertySignatures.length>0){const e=t.propertySignatures.map(String).join("; ");return t.indexSignatures.length>0?`{ ${e}; ${Zw(t.indexSignatures)} }`:`{ ${e} }`}else return t.indexSignatures.length>0?`{ ${Zw(t.indexSignatures)} }`:"{}"},kz=Vc(xO(Za,t=>{switch(t._tag){case"AnyKeyword":return 0;case"UnknownKeyword":return 1;case"ObjectKeyword":return 2;case"StringKeyword":case"NumberKeyword":case"BooleanKeyword":case"BigIntKeyword":case"SymbolKeyword":return 3}return 4})),Iz={string:"StringKeyword",number:"NumberKeyword",boolean:"BooleanKeyword",bigint:"BigIntKeyword"},oA=t=>IO(t,e=>sA(e)?oA(e.types):[e]),Pz=t=>{const e=kz(t),n=[],r={},i=[];for(const s of e)switch(s._tag){case"NeverKeyword":break;case"AnyKeyword":return[nA];case"UnknownKeyword":return[eA];case"ObjectKeyword":case"UndefinedKeyword":case"VoidKeyword":case"StringKeyword":case"NumberKeyword":case"BooleanKeyword":case"BigIntKeyword":case"SymbolKeyword":{r[s._tag]||(r[s._tag]=s,n.push(s));break}case"Literal":{const a=typeof s.literal;switch(a){case"string":case"number":case"bigint":case"boolean":{const c=Iz[a];!r[c]&&!i.includes(s.literal)&&(i.push(s.literal),n.push(s));break}case"object":{i.includes(s.literal)||(i.push(s.literal),n.push(s));break}}break}case"UniqueSymbol":{!r.SymbolKeyword&&!i.includes(s.symbol)&&(i.push(s.symbol),n.push(s));break}case"TupleType":{r.ObjectKeyword||n.push(s);break}case"TypeLiteral":{s.propertySignatures.length===0&&s.indexSignatures.length===0?r["{}"]||(r["{}"]=s,n.push(s)):r.ObjectKeyword||n.push(s);break}default:n.push(s)}return n};var ho;let $i=(ho=class{constructor(e,n={}){_(this,"types");_(this,"annotations");_(this,"_tag","Union");this.types=e,this.annotations=n}toString(){return je(Vi(this),()=>this.types.map(String).join(" | "))}toJSON(){return{_tag:this._tag,types:this.types.map(e=>e.toJSON()),annotations:Ge(this.annotations)}}},_(ho,"make",(e,n)=>x0(e)?new ho(e,n):e.length===1?e[0]:w0),_(ho,"unify",(e,n)=>ho.make(Pz(oA(e)),n)),ho);const $z=(t,e)=>t.map(e),x0=t=>t.length>1,sA=Al("Union"),Fm=jt(Symbol.for("effect/Schema/AST/toJSONMemoMap"),()=>new WeakMap);class aA{constructor(e,n={}){_(this,"f");_(this,"annotations");_(this,"_tag","Suspend");this.f=e,this.annotations=n,this.f=MO(e)}toString(){return Vi(this).pipe(Zo(()=>Ou(gD(this.f)(),e=>Vi(e))),je(()=>"<suspended schema>"))}toJSON(){const e=this.f();let n=Fm.get(e);return n||(Fm.set(e,{_tag:this._tag}),n={_tag:this._tag,ast:e.toJSON(),annotations:Ge(this.annotations)},Fm.set(e,n),n)}}let Rz=class{constructor(e,n,r={}){_(this,"from");_(this,"filter");_(this,"annotations");_(this,"_tag","Refinement");this.from=e,this.filter=n,this.annotations=r}toString(){return Kh(this).pipe(je(()=>He(dA(this),{onNone:()=>`{ ${this.from} | filter }`,onSome:e=>C0(this.from)?String(this.from)+" & "+e:e})))}toJSON(){return{_tag:this._tag,from:this.from.toJSON(),annotations:Ge(this.annotations)}}};const C0=Al("Refinement"),Bm={};let T0=class{constructor(e,n,r,i={}){_(this,"from");_(this,"to");_(this,"transformation");_(this,"annotations");_(this,"_tag","Transformation");this.from=e,this.to=n,this.transformation=r,this.annotations=i}toString(){return je(Vi(this),()=>`(${String(this.from)} <-> ${String(this.to)})`)}toJSON(){return{_tag:this._tag,from:this.from.toJSON(),to:this.to.toJSON(),annotations:Ge(this.annotations)}}};class Mz{constructor(e,n){_(this,"decode");_(this,"encode");_(this,"_tag","FinalTransformation");this.decode=e,this.encode=n}}class Nz{constructor(){_(this,"_tag","ComposeTransformation")}}const Lz=new Nz;let Fz=class{constructor(e,n,r,i){_(this,"from");_(this,"to");_(this,"decode");_(this,"encode");this.from=e,this.to=n,this.decode=r,this.encode=i}};class Bz{constructor(e){_(this,"propertySignatureTransformations");_(this,"_tag","TypeLiteralTransformation");this.propertySignatureTransformations=e;const n={},r={};for(const i of e){const s=i.from;if(n[s])throw new Error(Xw(s));n[s]=!0;const a=i.to;if(r[a])throw new Error(Xw(a));r[a]=!0}}}const tu=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={...t.annotations,...e},i=ZO(t);return Rn(i)&&(r[JO]=tu(i.value,e)),n.annotations.value=r,Object.create(Object.getPrototypeOf(t),n)},jz="[\\s\\S]*",Dz="[+-]?\\d*\\.?\\d+(?:[Ee][+-]?\\d+)?",uA=(t,e)=>{switch(t._tag){case"Literal":return Gd(String(t.literal));case"StringKeyword":return jz;case"NumberKeyword":return Dz;case"TemplateLiteral":return cA(t);case"Union":return t.types.map(n=>uA(n)).join("|")}},zz=(t,e,n,r)=>sA(t)?`(${e})`:e,cA=(t,e,n)=>{let r="";if(t.head!==""){const i=Gd(t.head);r+=i}for(const i of t.spans){const s=uA(i.type);if(r+=zz(i.type,s),i.literal!==""){const a=Gd(i.literal);r+=a}}return r},Uz=t=>new RegExp(`^${cA(t)}$`),tE=(t,e)=>{const n=[],r=[],i=s=>{switch(s._tag){case"NeverKeyword":break;case"StringKeyword":case"SymbolKeyword":case"TemplateLiteral":case"Refinement":r.push(new Hh(s,e,!0));break;case"Literal":if(qi(s.literal)||zs(s.literal))n.push(new kn(s.literal,e,!1,!0));else throw new Error(HD(s.literal));break;case"Enums":{for(const[a,c]of s.enums)n.push(new kn(c,e,!1,!0));break}case"UniqueSymbol":n.push(new kn(s.symbol,e,!1,!0));break;case"Union":s.types.forEach(i);break;default:throw new Error(VD(s))}};return i(t),{propertySignatures:n,indexSignatures:r}},lA=t=>e=>{let n;for(const r of t)Object.prototype.hasOwnProperty.call(e.annotations,r)&&(n===void 0&&(n={}),n[r]=e.annotations[r]);return n},Wz=lA([BO,jO,DO,zO,UO,WO]),tn=t=>{switch(t._tag){case"Declaration":{const e=Wr(t.typeParameters,tn);return e===t.typeParameters?t:new qh(e,t.decodeUnknown,t.encodeUnknown,t.annotations)}case"TupleType":{const e=Wr(t.elements,i=>{const s=tn(i.type);return s===i.type?i:new ta(s,i.isOptional)}),n=rA(t.rest),r=Wr(n,tn);return e===t.elements&&r===n?t:new E0(e,r.map(i=>new Vh(i)),t.isReadonly,t.annotations)}case"TypeLiteral":{const e=Wr(t.propertySignatures,r=>{const i=tn(r.type);return i===r.type?r:new kn(r.name,i,r.isOptional,r.isReadonly)}),n=Wr(t.indexSignatures,r=>{const i=tn(r.type);return i===r.type?r:new Hh(r.parameter,i,r.isReadonly)});return e===t.propertySignatures&&n===t.indexSignatures?t:new Ns(e,n,t.annotations)}case"Union":{const e=Wr(t.types,tn);return e===t.types?t:$i.make(e,t.annotations)}case"Suspend":return new aA(()=>tn(t.f()),t.annotations);case"Refinement":{const e=tn(t.from);return e===t.from?t:new Rz(e,t.filter,t.annotations)}case"Transformation":{const e=Wz(t);return tn(e!==void 0?tu(t.to,e):t.to)}}return t},Aa=t=>He(dz(t),{onNone:()=>{},onSome:e=>({[tA]:e})});function Wr(t,e){let n=!1;const r=Wh(t.length);for(let i=0;i<t.length;i++){const s=t[i],a=e(s);a!==s&&(n=!0),r[i]=a}return n?r:t}const Oi=(t,e)=>{switch(t._tag){case"Declaration":{const n=Wr(t.typeParameters,r=>Oi(r));return n===t.typeParameters?t:new qh(n,t.decodeUnknown,t.encodeUnknown,t.annotations)}case"TupleType":{const n=Wr(t.elements,s=>{const a=Oi(s.type);return a===s.type?s:new ta(a,s.isOptional)}),r=rA(t.rest),i=Wr(r,s=>Oi(s));return n===t.elements&&i===r?t:new E0(n,i.map(s=>new Vh(s)),t.isReadonly,Aa(t))}case"TypeLiteral":{const n=Wr(t.propertySignatures,i=>{const s=Oi(i.type);return s===i.type?i:new kn(i.name,s,i.isOptional,i.isReadonly)}),r=Wr(t.indexSignatures,i=>{const s=Oi(i.type);return s===i.type?i:new Hh(i.parameter,s,i.isReadonly)});return n===t.propertySignatures&&r===t.indexSignatures?t:new Ns(n,r,Aa(t))}case"Union":{const n=Wr(t.types,r=>Oi(r));return n===t.types?t:$i.make(n,Aa(t))}case"Suspend":return new aA(()=>Oi(t.f()),Aa(t));case"Refinement":{const n=Oi(t.from),r=Aa(t);return r?tu(n,r):n}case"Transformation":{const n=Aa(t);return Oi(n?tu(t.from,n):t.from)}}return t},eE=t=>Oi(t),Ge=t=>{const e={};for(const n of Object.getOwnPropertySymbols(t))e[String(n)]=t[n];return e},fA=t=>{switch(t._tag){case"StringKeyword":case"SymbolKeyword":case"TemplateLiteral":return t;case"Refinement":return fA(t.from)}},Kz=(t,e)=>new T0(t,e,Lz),ea=t=>je(Vi(t),()=>t._tag);function qz(t){return He(ez(t),{onNone:()=>"",onSome:e=>e.map(n=>` & Brand<${Di(n)}>`).join("")})}const dA=t=>YO(t).pipe(Zo(()=>QO(t)),Zo(()=>XO(t)),CO(e=>e+qz(t))),Vi=t=>Zo(Kh(t),()=>dA(t)),Vz=Symbol.for("effect/Context/Tag"),Jd=Symbol.for("effect/Context/Reference"),Hz="effect/STM",Gz=Symbol.for(Hz),hA={...xl,_op:"Tag",[Gz]:Xa,[Vz]:{_Service:t=>t,_Identifier:t=>t},toString(){return en(this.toJSON())},toJSON(){return{_id:"Tag",key:this.key,stack:this.stack}},[_e](){return this.toJSON()},of(t){return t},context(t){return gA(this,t)}},Jz={...hA,[Jd]:Jd},Yz=t=>{const e=Error.stackTraceLimit;Error.stackTraceLimit=2;const n=new Error;Error.stackTraceLimit=e;const r=Object.create(hA);return Object.defineProperty(r,"stack",{get(){return n.stack}}),r.key=t,r},Xz=()=>(t,e)=>{const n=Error.stackTraceLimit;Error.stackTraceLimit=2;const r=new Error;Error.stackTraceLimit=n;function i(){}return Object.setPrototypeOf(i,Jz),i.key=t,i.defaultValue=e.defaultValue,Object.defineProperty(i,"stack",{get(){return r.stack}}),i},pA=Symbol.for("effect/Context"),Qz={[pA]:{_Services:t=>t},[Tt](t){if(tU(t)&&this.unsafeMap.size===t.unsafeMap.size){for(const e of this.unsafeMap.keys())if(!t.unsafeMap.has(e)||!Ot(this.unsafeMap.get(e),t.unsafeMap.get(e)))return!1;return!0}return!1},[kt](){return Ce(this,f0(this.unsafeMap.size))},pipe(){return vt(this,arguments)},toString(){return en(this.toJSON())},toJSON(){return{_id:"Context",services:Array.from(this.unsafeMap).map(Ve)}},[_e](){return this.toJSON()}},eu=t=>{const e=Object.create(Qz);return e.unsafeMap=t,e},Zz=t=>{const e=new Error(`Service not found${t.key?`: ${String(t.key)}`:""}`);if(t.stack){const n=t.stack.split(`
`);if(n.length>2){const r=n[2].match(/at (.*)/);r&&(e.message=e.message+` (defined at ${r[1]})`)}}if(e.stack){const n=e.stack.split(`
`);n.splice(1,3),e.stack=n.join(`
`)}return e},tU=t=>xt(t,pA),eU=t=>xt(t,Jd),nU=eu(new Map),rU=()=>nU,gA=(t,e)=>eu(new Map([[t.key,e]])),iU=L(3,(t,e,n)=>{const r=new Map(t.unsafeMap);return r.set(e.key,n),eu(r)}),jm=jt("effect/Context/defaultValueCache",()=>new Map),O0=t=>{if(jm.has(t.key))return jm.get(t.key);const e=t.defaultValue();return jm.set(t.key,e),e},oU=(t,e)=>t.unsafeMap.has(e.key)?t.unsafeMap.get(e.key):O0(e),mA=L(2,(t,e)=>{if(!t.unsafeMap.has(e.key)){if(Jd in e)return O0(e);throw Zz(e)}return t.unsafeMap.get(e.key)}),sU=mA,aU=L(2,(t,e)=>t.unsafeMap.has(e.key)?Vd(t.unsafeMap.get(e.key)):eU(e)?Vd(O0(e)):m0),uU=L(2,(t,e)=>{const n=new Map(t.unsafeMap);for(const[r,i]of e.unsafeMap)n.set(r,i);return eu(n)}),na=Yz,A0=rU,cU=gA,vc=iU,yA=sU,vA=mA,kl=aU,_A=uU,bA=Xz,SA=Symbol.for("effect/Chunk");function lU(t,e,n,r,i){for(let s=e;s<Math.min(t.length,e+i);s++)n[r+s-e]=t[s];return n}const wA=[],fU=t=>Fh((e,n)=>e.length===n.length&&Ls(e).every((r,i)=>t(r,Wa(n,i)))),dU=fU(Ot),hU={[SA]:{_A:t=>t},toString(){return en(this.toJSON())},toJSON(){return{_id:"Chunk",values:Ls(this).map(Ve)}},[_e](){return this.toJSON()},[Tt](t){return EA(t)&&dU(this,t)},[kt](){return Ce(this,wl(Ls(this)))},[Symbol.iterator](){switch(this.backing._tag){case"IArray":return this.backing.array[Symbol.iterator]();case"IEmpty":return wA[Symbol.iterator]();default:return Ls(this)[Symbol.iterator]()}},pipe(){return vt(this,arguments)}},We=t=>{const e=Object.create(hU);switch(e.backing=t,t._tag){case"IEmpty":{e.length=0,e.depth=0,e.left=e,e.right=e;break}case"IConcat":{e.length=t.left.length+t.right.length,e.depth=1+Math.max(t.left.depth,t.right.depth),e.left=t.left,e.right=t.right;break}case"IArray":{e.length=t.array.length,e.depth=0,e.left=Ri,e.right=Ri;break}case"ISingleton":{e.length=1,e.depth=0,e.left=Ri,e.right=Ri;break}case"ISlice":{e.length=t.length,e.depth=t.chunk.depth+1,e.left=Ri,e.right=Ri;break}}return e},EA=t=>xt(t,SA),Ri=We({_tag:"IEmpty"}),vo=()=>Ri,Dm=(...t)=>mU(t),_r=t=>We({_tag:"ISingleton",a:t}),xA=t=>EA(t)?t:Gh(Fe(t)),By=(t,e,n)=>{switch(t.backing._tag){case"IArray":{lU(t.backing.array,0,e,n,t.length);break}case"IConcat":{By(t.left,e,n),By(t.right,e,n+t.left.length);break}case"ISingleton":{e[n]=t.backing.a;break}case"ISlice":{let r=0,i=n;for(;r<t.length;)e[i]=Wa(t,r),r+=1,i+=1;break}}},pU=t=>{switch(t.backing._tag){case"IEmpty":return wA;case"IArray":return t.backing.array;default:{const e=new Array(t.length);return By(t,e,0),t.backing={_tag:"IArray",array:e},t.left=Ri,t.right=Ri,t.depth=0,e}}},Ls=pU,gU=t=>{switch(t.backing._tag){case"IEmpty":case"ISingleton":return t;case"IArray":return We({_tag:"IArray",array:Vw(t.backing.array)});case"IConcat":return We({_tag:"IConcat",left:nu(t.backing.right),right:nu(t.backing.left)});case"ISlice":return Gh(Vw(Ls(t)))}},nu=gU,Gh=t=>t.length===0?vo():t.length===1?_r(t[0]):We({_tag:"IArray",array:t}),mU=t=>Gh(t),Wa=L(2,(t,e)=>{switch(t.backing._tag){case"IEmpty":throw new Error("Index out of bounds");case"ISingleton":{if(e!==0)throw new Error("Index out of bounds");return t.backing.a}case"IArray":{if(e>=t.length||e<0)throw new Error("Index out of bounds");return t.backing.array[e]}case"IConcat":return e<t.left.length?Wa(t.left,e):Wa(t.right,e-t.left.length);case"ISlice":return Wa(t.backing.chunk,e+t.backing.offset)}}),yU=L(2,(t,e)=>li(t,_r(e))),gi=L(2,(t,e)=>li(_r(e),t)),jy=L(2,(t,e)=>{if(e<=0)return t;if(e>=t.length)return Ri;switch(t.backing._tag){case"ISlice":return We({_tag:"ISlice",chunk:t.backing.chunk,offset:t.backing.offset+e,length:t.backing.length-e});case"IConcat":return e>t.left.length?jy(t.right,e-t.left.length):We({_tag:"IConcat",left:jy(t.left,e),right:t.right});default:return We({_tag:"ISlice",chunk:t,offset:e,length:t.length-e})}}),li=L(2,(t,e)=>{if(t.backing._tag==="IEmpty")return e;if(e.backing._tag==="IEmpty")return t;const n=e.depth-t.depth;if(Math.abs(n)<=1)return We({_tag:"IConcat",left:t,right:e});if(n<-1)if(t.left.depth>=t.right.depth){const r=li(t.right,e);return We({_tag:"IConcat",left:t.left,right:r})}else{const r=li(t.right.right,e);if(r.depth===t.depth-3){const i=We({_tag:"IConcat",left:t.right.left,right:r});return We({_tag:"IConcat",left:t.left,right:i})}else{const i=We({_tag:"IConcat",left:t.left,right:t.right.left});return We({_tag:"IConcat",left:i,right:r})}}else if(e.right.depth>=e.left.depth){const r=li(t,e.left);return We({_tag:"IConcat",left:r,right:e.right})}else{const r=li(t,e.left.left);if(r.depth===e.depth-3){const i=We({_tag:"IConcat",left:r,right:e.left.right});return We({_tag:"IConcat",left:i,right:e.right})}else{const i=We({_tag:"IConcat",left:e.left.right,right:e.right});return We({_tag:"IConcat",left:r,right:i})}}}),vU=t=>t.length===0,ru=t=>t.length>0,CA=t=>Wa(t,0),iu=CA,ks=t=>jy(t,1),Dy=Symbol.for("effect/Duration"),TA=BigInt(0),nE=BigInt(24),Gf=BigInt(60),zy=BigInt(1e3),rE=BigInt(1e6),iE=BigInt(1e9),_U=/^(-?\d+(?:\.\d+)?)\s+(nanos?|micros?|millis?|seconds?|minutes?|hours?|days?|weeks?)$/,_o=t=>{if(OA(t))return t;if(zs(t))return Uy(t);if(jh(t))return zm(t);if(Array.isArray(t)&&t.length===2&&t.every(zs))return t[0]===-1/0||t[1]===-1/0||Number.isNaN(t[0])||Number.isNaN(t[1])?AA:t[0]===1/0||t[1]===1/0?EU:zm(BigInt(Math.round(t[0]*1e9))+BigInt(Math.round(t[1])));if(qi(t)){const e=_U.exec(t);if(e){const[n,r,i]=e,s=Number(r);switch(i){case"nano":case"nanos":return zm(BigInt(r));case"micro":case"micros":return xU(BigInt(r));case"milli":case"millis":return Uy(s);case"second":case"seconds":return CU(s);case"minute":case"minutes":return TU(s);case"hour":case"hours":return OU(s);case"day":case"days":return AU(s);case"week":case"weeks":return kU(s)}}}throw new Error("Invalid DurationInput")},oE={_tag:"Millis",millis:0},bU={_tag:"Infinity"},SU={[Dy]:Dy,[kt](){return Ce(this,uO(this.value))},[Tt](t){return OA(t)&&NU(this,t)},toString(){return`Duration(${FU(this)})`},toJSON(){switch(this.value._tag){case"Millis":return{_id:"Duration",_tag:"Millis",millis:this.value.millis};case"Nanos":return{_id:"Duration",_tag:"Nanos",hrtime:PU(this)};case"Infinity":return{_id:"Duration",_tag:"Infinity"}}},[_e](){return this.toJSON()},pipe(){return vt(this,arguments)}},Gi=t=>{const e=Object.create(SU);return zs(t)?isNaN(t)||t<=0?e.value=oE:Number.isFinite(t)?Number.isInteger(t)?e.value={_tag:"Millis",millis:t}:e.value={_tag:"Nanos",nanos:BigInt(Math.round(t*1e6))}:e.value=bU:t<=TA?e.value=oE:e.value={_tag:"Nanos",nanos:t},e},OA=t=>xt(t,Dy),wU=t=>{switch(t.value._tag){case"Millis":return t.value.millis===0;case"Nanos":return t.value.nanos===TA;case"Infinity":return!1}},AA=Gi(0),EU=Gi(1/0),zm=t=>Gi(t),xU=t=>Gi(t*zy),Uy=t=>Gi(t),CU=t=>Gi(t*1e3),TU=t=>Gi(t*6e4),OU=t=>Gi(t*36e5),AU=t=>Gi(t*864e5),kU=t=>Gi(t*6048e5),Wy=t=>$U(t,{onMillis:e=>e,onNanos:e=>Number(e)/1e6}),IU=t=>{const e=_o(t);switch(e.value._tag){case"Infinity":throw new Error("Cannot convert infinite duration to nanos");case"Nanos":return e.value.nanos;case"Millis":return BigInt(Math.round(e.value.millis*1e6))}},PU=t=>{const e=_o(t);switch(e.value._tag){case"Infinity":return[1/0,0];case"Nanos":return[Number(e.value.nanos/iE),Number(e.value.nanos%iE)];case"Millis":return[Math.floor(e.value.millis/1e3),Math.round(e.value.millis%1e3*1e6)]}},$U=L(2,(t,e)=>{const n=_o(t);switch(n.value._tag){case"Nanos":return e.onNanos(n.value.nanos);case"Infinity":return e.onMillis(1/0);case"Millis":return e.onMillis(n.value.millis)}}),kA=L(3,(t,e,n)=>{const r=_o(t),i=_o(e);if(r.value._tag==="Infinity"||i.value._tag==="Infinity")return n.onMillis(Wy(r),Wy(i));if(r.value._tag==="Nanos"||i.value._tag==="Nanos"){const s=r.value._tag==="Nanos"?r.value.nanos:BigInt(Math.round(r.value.millis*1e6)),a=i.value._tag==="Nanos"?i.value.nanos:BigInt(Math.round(i.value.millis*1e6));return n.onNanos(s,a)}return n.onMillis(r.value.millis,i.value.millis)}),RU=(t,e)=>kA(t,e,{onMillis:(n,r)=>n===r,onNanos:(n,r)=>n===r}),MU=L(2,(t,e)=>kA(t,e,{onMillis:(n,r)=>n>=r,onNanos:(n,r)=>n>=r})),NU=L(2,(t,e)=>RU(_o(t),_o(e))),LU=t=>{const e=_o(t);if(e.value._tag==="Infinity")return{days:1/0,hours:1/0,minutes:1/0,seconds:1/0,millis:1/0,nanos:1/0};const n=IU(e),r=n/rE,i=r/zy,s=i/Gf,a=s/Gf,c=a/nE;return{days:Number(c),hours:Number(a%nE),minutes:Number(s%Gf),seconds:Number(i%Gf),millis:Number(r%zy),nanos:Number(n%rE)}},FU=t=>{const e=_o(t);if(e.value._tag==="Infinity")return"Infinity";if(wU(e))return"0";const n=LU(e),r=[];return n.days!==0&&r.push(`${n.days}d`),n.hours!==0&&r.push(`${n.hours}h`),n.minutes!==0&&r.push(`${n.minutes}m`),n.seconds!==0&&r.push(`${n.seconds}s`),n.millis!==0&&r.push(`${n.millis}ms`),n.nanos!==0&&r.push(`${n.nanos}ns`),r.join(" ")},Ws=5,k0=Math.pow(2,Ws),BU=k0-1,jU=k0/2,DU=k0/4;function zU(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),t=t+(t>>4)&252645135,t+=t>>8,t+=t>>16,t&127}function ou(t,e){return e>>>t&BU}function ja(t){return 1<<t}function IA(t,e){return zU(t&e-1)}const UU=(t,e)=>({value:t,previous:e});function Ka(t,e,n,r){let i=r;if(!t){const s=r.length;i=new Array(s);for(let a=0;a<s;++a)i[a]=r[a]}return i[e]=n,i}function PA(t,e,n){const r=n.length-1;let i=0,s=0,a=n;if(t)i=s=e;else for(a=new Array(r);i<e;)a[s++]=n[i++];for(++i;i<=r;)a[s++]=n[i++];return t&&(a.length=r),a}function WU(t,e,n,r){const i=r.length;if(t){let l=i;for(;l>=e;)r[l--]=r[l];return r[e]=n,r}let s=0,a=0;const c=new Array(i+1);for(;s<e;)c[a++]=r[s++];for(c[e]=n;s<i;)c[++a]=r[s++];return c}class es{constructor(){_(this,"_tag","EmptyNode")}modify(e,n,r,i,s,a){const c=r(ct());return ke(c)?new es:(++a.value,new Fs(e,i,s,c))}}function fi(t){return c0(t,"EmptyNode")}function KU(t){return fi(t)||t._tag==="LeafNode"||t._tag==="CollisionNode"}function Jh(t,e){return fi(t)?!1:e===t.edit}class Fs{constructor(e,n,r,i){_(this,"edit");_(this,"hash");_(this,"key");_(this,"value");_(this,"_tag","LeafNode");this.edit=e,this.hash=n,this.key=r,this.value=i}modify(e,n,r,i,s,a){if(Ot(s,this.key)){const l=r(this.value);return l===this.value?this:ke(l)?(--a.value,new es):Jh(this,e)?(this.value=l,this):new Fs(e,i,s,l)}const c=r(ct());return ke(c)?this:(++a.value,$A(e,n,this.hash,this,i,new Fs(e,i,s,c)))}}class I0{constructor(e,n,r){_(this,"edit");_(this,"hash");_(this,"children");_(this,"_tag","CollisionNode");this.edit=e,this.hash=n,this.children=r}modify(e,n,r,i,s,a){if(i===this.hash){const l=Jh(this,e),d=this.updateCollisionList(l,e,this.hash,this.children,r,s,a);return d===this.children?this:d.length>1?new I0(e,this.hash,d):d[0]}const c=r(ct());return ke(c)?this:(++a.value,$A(e,n,this.hash,this,i,new Fs(e,i,s,c)))}updateCollisionList(e,n,r,i,s,a,c){const l=i.length;for(let h=0;h<l;++h){const g=i[h];if("key"in g&&Ot(a,g.key)){const m=g.value,y=s(m);return y===m?i:ke(y)?(--c.value,PA(e,h,i)):Ka(e,h,new Fs(n,r,a,y),i)}}const d=s(ct());return ke(d)?i:(++c.value,Ka(e,l,new Fs(n,r,a,d),i))}}class su{constructor(e,n,r){_(this,"edit");_(this,"mask");_(this,"children");_(this,"_tag","IndexedNode");this.edit=e,this.mask=n,this.children=r}modify(e,n,r,i,s,a){const c=this.mask,l=this.children,d=ou(n,i),h=ja(d),g=IA(c,h),m=c&h,y=Jh(this,e);if(!m){const R=new es().modify(e,n+Ws,r,i,s,a);return R?l.length>=jU?VU(e,d,R,c,l):new su(e,c|h,WU(y,g,R,l)):this}const w=l[g],x=w.modify(e,n+Ws,r,i,s,a);if(w===x)return this;let C=c,T;if(fi(x)){if(C&=~h,!C)return new es;if(l.length<=2&&KU(l[g^1]))return l[g^1];T=PA(y,g,l)}else T=Ka(y,g,x,l);return y?(this.mask=C,this.children=T,this):new su(e,C,T)}}class P0{constructor(e,n,r){_(this,"edit");_(this,"size");_(this,"children");_(this,"_tag","ArrayNode");this.edit=e,this.size=n,this.children=r}modify(e,n,r,i,s,a){let c=this.size;const l=this.children,d=ou(n,i),h=l[d],g=(h||new es).modify(e,n+Ws,r,i,s,a);if(h===g)return this;const m=Jh(this,e);let y;if(fi(h)&&!fi(g))++c,y=Ka(m,d,g,l);else if(!fi(h)&&fi(g)){if(--c,c<=DU)return qU(e,c,d,l);y=Ka(m,d,new es,l)}else y=Ka(m,d,g,l);return m?(this.size=c,this.children=y,this):new P0(e,c,y)}}function qU(t,e,n,r){const i=new Array(e-1);let s=0,a=0;for(let c=0,l=r.length;c<l;++c)if(c!==n){const d=r[c];d&&!fi(d)&&(i[s++]=d,a|=1<<c)}return new su(t,a,i)}function VU(t,e,n,r,i){const s=[];let a=r,c=0;for(let l=0;a;++l)a&1&&(s[l]=i[c++]),a>>>=1;return s[e]=n,new P0(t,c+1,s)}function HU(t,e,n,r,i,s){if(n===i)return new I0(t,n,[s,r]);const a=ou(e,n),c=ou(e,i);if(a===c)return l=>new su(t,ja(a)|ja(c),[l]);{const l=a<c?[r,s]:[s,r];return new su(t,ja(a)|ja(c),l)}}function $A(t,e,n,r,i,s){let a,c=e;for(;;){const l=HU(t,c,n,r,i,s);if(typeof l=="function")a=UU(l,a),c=c+Ws;else{let d=l;for(;a!=null;)d=a.value(d),a=a.previous;return d}}}const RA="effect/HashMap",Ky=Symbol.for(RA),GU={[Ky]:Ky,[Symbol.iterator](){return new Yh(this,(t,e)=>[t,e])},[kt](){let t=ut(RA);for(const e of this)t^=J(ut(e[0]),Bt(ut(e[1])));return Ce(this,t)},[Tt](t){if(XU(t)){if(t._size!==this._size)return!1;for(const e of this){const n=J(t,R0(e[0],ut(e[0])));if(ke(n))return!1;if(!Ot(e[1],n.value))return!1}return!0}return!1},toString(){return en(this.toJSON())},toJSON(){return{_id:"HashMap",values:Array.from(this).map(Ve)}},[_e](){return this.toJSON()},pipe(){return vt(this,arguments)}},$0=(t,e,n,r)=>{const i=Object.create(GU);return i._editable=t,i._edit=e,i._root=n,i._size=r,i};class Yh{constructor(e,n){_(this,"map");_(this,"f");_(this,"v");this.map=e,this.f=n,this.v=MA(this.map._root,this.f,void 0)}next(){if(ke(this.v))return{done:!0,value:void 0};const e=this.v.value;return this.v=Yd(e.cont),{done:!1,value:e.value}}[Symbol.iterator](){return new Yh(this.map,this.f)}}const Yd=t=>t?NA(t[0],t[1],t[2],t[3],t[4]):ct(),MA=(t,e,n=void 0)=>{switch(t._tag){case"LeafNode":return Rn(t.value)?It({value:e(t.key,t.value.value),cont:n}):Yd(n);case"CollisionNode":case"ArrayNode":case"IndexedNode":{const r=t.children;return NA(r.length,r,0,e,n)}default:return Yd(n)}},NA=(t,e,n,r,i)=>{for(;n<t;){const s=e[n++];if(s&&!fi(s))return MA(s,r,[t,e,n,r,i])}return Yd(i)},JU=$0(!1,0,new es,0),Xh=()=>JU,YU=t=>{const e=FA(Xh());for(const n of t)Hc(e,n[0],n[1]);return n4(e)},XU=t=>xt(t,Ky),QU=t=>t&&fi(t._root),ZU=L(2,(t,e)=>R0(t,e,ut(e))),R0=L(3,(t,e,n)=>{let r=t._root,i=0;for(;;)switch(r._tag){case"LeafNode":return Ot(e,r.key)?r.value:ct();case"CollisionNode":{if(n===r.hash){const s=r.children;for(let a=0,c=s.length;a<c;++a){const l=s[a];if("key"in l&&Ot(e,l.key))return l.value}}return ct()}case"IndexedNode":{const s=ou(i,n),a=ja(s);if(r.mask&a){r=r.children[IA(r.mask,a)],i+=Ws;break}return ct()}case"ArrayNode":{if(r=r.children[ou(i,n)],r){i+=Ws;break}return ct()}default:return ct()}}),t4=L(2,(t,e)=>Rn(R0(t,e,ut(e)))),Hc=L(3,(t,e,n)=>M0(t,e,()=>It(n))),e4=L(3,(t,e,n)=>t._editable?(t._root=e,t._size=n,t):e===t._root?t:$0(t._editable,t._edit,e,n)),LA=t=>new Yh(t,e=>e),qy=t=>t._size,FA=t=>$0(!0,t._edit+1,t._root,t._size),n4=t=>(t._editable=!1,t),M0=L(3,(t,e,n)=>r4(t,e,ut(e),n)),r4=L(4,(t,e,n,r)=>{const i={value:t._size},s=t._root.modify(t._editable?t._edit:NaN,0,r,n,e,i);return J(t,e4(s,i.value))}),sE=L(2,(t,e)=>M0(t,e,ct)),i4=L(2,(t,e)=>Qh(t,Xh(),(n,r,i)=>Hc(n,i,e(r,i)))),o4=L(2,(t,e)=>Qh(t,void 0,(n,r,i)=>e(r,i))),Qh=L(3,(t,e,n)=>{const r=t._root;if(r._tag==="LeafNode")return Rn(r.value)?n(e,r.value.value,r.key):e;if(r._tag==="EmptyNode")return e;const i=[r.children];let s;for(;s=i.pop();)for(let a=0,c=s.length;a<c;){const l=s[a++];l&&!fi(l)&&(l._tag==="LeafNode"?Rn(l.value)&&(e=n(e,l.value.value,l.key)):i.push(l.children))}return e}),BA="effect/HashSet",Vy=Symbol.for(BA),s4={[Vy]:Vy,[Symbol.iterator](){return LA(this._keyMap)},[kt](){return Ce(this,Bt(ut(this._keyMap))(ut(BA)))},[Tt](t){return a4(t)?qy(this._keyMap)===qy(t._keyMap)&&Ot(this._keyMap,t._keyMap):!1},toString(){return en(this.toJSON())},toJSON(){return{_id:"HashSet",values:Array.from(this).map(Ve)}},[_e](){return this.toJSON()},pipe(){return vt(this,arguments)}},Zh=t=>{const e=Object.create(s4);return e._keyMap=t,e},a4=t=>xt(t,Vy),u4=Zh(Xh()),tp=()=>u4,c4=t=>{const e=N0(tp());for(const n of t)Gc(e,n);return L0(e)},l4=(...t)=>{const e=N0(tp());for(const n of t)Gc(e,n);return L0(e)},f4=L(2,(t,e)=>t4(t._keyMap,e)),d4=t=>qy(t._keyMap),N0=t=>Zh(FA(t._keyMap)),L0=t=>(t._keyMap._editable=!1,t),jA=L(2,(t,e)=>{const n=N0(t);return e(n),L0(n)}),Gc=L(2,(t,e)=>t._keyMap._editable?(Hc(e,!0)(t._keyMap),t):Zh(Hc(e,!0)(t._keyMap))),DA=L(2,(t,e)=>t._keyMap._editable?(sE(e)(t._keyMap),t):Zh(sE(e)(t._keyMap))),h4=L(2,(t,e)=>jA(t,n=>{for(const r of e)DA(n,r)})),p4=L(2,(t,e)=>jA(tp(),n=>{g4(t,r=>Gc(n,r));for(const r of e)Gc(n,r)})),g4=L(2,(t,e)=>o4(t._keyMap,(n,r)=>e(r))),m4=L(3,(t,e,n)=>Qh(t._keyMap,e,(r,i,s)=>n(r,s))),Ks=tp,y4=c4,F0=l4,v4=f4,zA=d4,Dc=Gc,UA=DA,aE=h4,Jc=p4,Xd=m4,uE=Symbol.for("effect/MutableRef"),_4={[uE]:uE,toString(){return en(this.toJSON())},toJSON(){return{_id:"MutableRef",current:Ve(this.current)}},[_e](){return this.toJSON()},pipe(){return vt(this,arguments)}},WA=t=>{const e=Object.create(_4);return e.current=t,e},ep=t=>t.current,KA=L(2,(t,e)=>(t.current=e,t)),B0="effect/FiberId",Yc=Symbol.for(B0),Qd="None",Hy="Runtime",b4="Composite",S4=Re(`${B0}-${Qd}`);var iT;let w4=class{constructor(){_(this,iT,Yc);_(this,"_tag",Qd);_(this,"id",-1);_(this,"startTimeMillis",-1)}[(iT=Yc,kt)](){return S4}[Tt](e){return qA(e)&&e._tag===Qd}toString(){return en(this.toJSON())}toJSON(){return{_id:"FiberId",_tag:this._tag}}[_e](){return this.toJSON()}};var oT;class E4{constructor(e,n){_(this,"id");_(this,"startTimeMillis");_(this,oT,Yc);_(this,"_tag",Hy);this.id=e,this.startTimeMillis=n}[(oT=Yc,kt)](){return Ce(this,Re(`${B0}-${this._tag}-${this.id}-${this.startTimeMillis}`))}[Tt](e){return qA(e)&&e._tag===Hy&&this.id===e.id&&this.startTimeMillis===e.startTimeMillis}toString(){return en(this.toJSON())}toJSON(){return{_id:"FiberId",_tag:this._tag,id:this.id,startTimeMillis:this.startTimeMillis}}[_e](){return this.toJSON()}}const x4=new w4,qA=t=>xt(t,Yc),Gy=t=>{switch(t._tag){case Qd:return Ks();case Hy:return F0(t.id);case b4:return J(Gy(t.left),Jc(Gy(t.right)))}},cE=jt(Symbol.for("effect/Fiber/Id/_fiberCounter"),()=>WA(0)),VA=t=>Array.from(Gy(t)).map(n=>`#${n}`).join(","),C4=()=>{const t=ep(cE);return J(cE,KA(t+1)),new E4(t,Date.now())},au=x4,T4=VA,HA=C4,j0=Xh,O4=YU,A4=QU,GA=ZU,JA=Hc,YA=LA,k4=M0,I4=i4,XA=Qh,Xc=Symbol.for("effect/List"),Jy=t=>Fe(t),P4=t=>v3(b0(t),Jy),$4=P4(Ot),R4={[Xc]:Xc,_tag:"Cons",toString(){return en(this.toJSON())},toJSON(){return{_id:"List",_tag:"Cons",values:Jy(this).map(Ve)}},[_e](){return this.toJSON()},[Tt](t){return ZA(t)&&this._tag===t._tag&&$4(this,t)},[kt](){return Ce(this,wl(Jy(this)))},[Symbol.iterator](){let t=!1,e=this;return{next(){if(t)return this.return();if(e._tag==="Nil")return t=!0,this.return();const n=e.head;return e=e.tail,{done:t,value:n}},return(n){return t||(t=!0),{done:!0,value:n}}}},pipe(){return vt(this,arguments)}},Zd=(t,e)=>{const n=Object.create(R4);return n.head=t,n.tail=e,n},M4=Re("Nil"),N4={[Xc]:Xc,_tag:"Nil",toString(){return en(this.toJSON())},toJSON(){return{_id:"List",_tag:"Nil"}},[_e](){return this.toJSON()},[kt](){return M4},[Tt](t){return ZA(t)&&this._tag===t._tag},[Symbol.iterator](){return{next(){return{done:!0,value:void 0}}}},pipe(){return vt(this,arguments)}},QA=Object.create(N4),ZA=t=>xt(t,Xc),yo=t=>t._tag==="Nil",L4=t=>t._tag==="Cons",F4=()=>QA,qs=(t,e)=>Zd(t,e),uu=F4,D0=t=>Zd(t,QA),B4=L(2,(t,e)=>D4(e,t)),j4=L(2,(t,e)=>qs(e,t)),D4=L(2,(t,e)=>{if(yo(t))return e;if(yo(e))return t;{const n=Zd(e.head,t);let r=n,i=e.tail;for(;!yo(i);){const s=Zd(i.head,t);r.tail=s,r=s,i=i.tail}return n}}),z4=L(3,(t,e,n)=>{let r=e,i=t;for(;!yo(i);)r=n(r,i.head),i=i.tail;return r}),U4=t=>{let e=uu(),n=t;for(;!yo(n);)e=j4(e,n.head),n=n.tail;return e},z0=function(){function t(e){e&&Object.assign(this,e)}return t.prototype=Cl,t}(),W4=t=>Object.assign(Object.create(Cl),t),K4=Symbol.for("effect/DifferContextPatch");function lE(t){return t}const Il={...z0.prototype,[K4]:{_Value:lE,_Patch:lE}},q4=Object.assign(Object.create(Il),{_tag:"Empty"}),V4=Object.create(q4),tk=()=>V4,H4=Object.assign(Object.create(Il),{_tag:"AndThen"}),G4=(t,e)=>{const n=Object.create(H4);return n.first=t,n.second=e,n},J4=Object.assign(Object.create(Il),{_tag:"AddService"}),Y4=(t,e)=>{const n=Object.create(J4);return n.key=t,n.service=e,n},X4=Object.assign(Object.create(Il),{_tag:"RemoveService"}),Q4=t=>{const e=Object.create(X4);return e.key=t,e},Z4=Object.assign(Object.create(Il),{_tag:"UpdateService"}),tW=(t,e)=>{const n=Object.create(Z4);return n.key=t,n.update=e,n},eW=(t,e)=>{const n=new Map(t.unsafeMap);let r=tk();for(const[i,s]of e.unsafeMap.entries())if(n.has(i)){const a=n.get(i);n.delete(i),Ot(a,s)||(r=wd(tW(i,()=>s))(r))}else n.delete(i),r=wd(Y4(i,s))(r);for(const[i]of n.entries())r=wd(Q4(i))(r);return r},wd=L(2,(t,e)=>G4(t,e)),nW=L(2,(t,e)=>{if(t._tag==="Empty")return e;let n=!1,r=_r(t);const i=new Map(e.unsafeMap);for(;ru(r);){const a=iu(r),c=ks(r);switch(a._tag){case"Empty":{r=c;break}case"AddService":{i.set(a.key,a.service),r=c;break}case"AndThen":{r=gi(gi(c,a.second),a.first);break}case"RemoveService":{i.delete(a.key),r=c;break}case"UpdateService":{i.set(a.key,a.update(i.get(a.key))),n=!0,r=c;break}}}if(!n)return eu(i);const s=new Map;for(const[a]of e.unsafeMap)i.has(a)&&(s.set(a,i.get(a)),i.delete(a));for(const[a,c]of i)s.set(a,c);return eu(s)}),rW=Symbol.for("effect/DifferHashSetPatch");function Um(t){return t}const np={...z0.prototype,[rW]:{_Value:Um,_Key:Um,_Patch:Um}},iW=Object.assign(Object.create(np),{_tag:"Empty"}),oW=Object.create(iW),ek=()=>oW,sW=Object.assign(Object.create(np),{_tag:"AndThen"}),aW=(t,e)=>{const n=Object.create(sW);return n.first=t,n.second=e,n},uW=Object.assign(Object.create(np),{_tag:"Add"}),cW=t=>{const e=Object.create(uW);return e.value=t,e},lW=Object.assign(Object.create(np),{_tag:"Remove"}),fW=t=>{const e=Object.create(lW);return e.value=t,e},dW=(t,e)=>{const[n,r]=Xd([t,ek()],([i,s],a)=>v4(a)(i)?[UA(a)(i),s]:[i,Yy(cW(a))(s)])(e);return Xd(r,(i,s)=>Yy(fW(s))(i))(n)},Yy=L(2,(t,e)=>aW(t,e)),hW=L(2,(t,e)=>{if(t._tag==="Empty")return e;let n=e,r=_r(t);for(;ru(r);){const i=iu(r),s=ks(r);switch(i._tag){case"Empty":{r=s;break}case"AndThen":{r=gi(i.first)(gi(i.second)(s));break}case"Add":{n=Dc(i.value)(n),r=s;break}case"Remove":n=UA(i.value)(n),r=s}}return n}),pW=Symbol.for("effect/DifferReadonlyArrayPatch");function fE(t){return t}const Pl={...z0.prototype,[pW]:{_Value:fE,_Patch:fE}},gW=Object.assign(Object.create(Pl),{_tag:"Empty"}),mW=Object.create(gW),nk=()=>mW,yW=Object.assign(Object.create(Pl),{_tag:"AndThen"}),vW=(t,e)=>{const n=Object.create(yW);return n.first=t,n.second=e,n},_W=Object.assign(Object.create(Pl),{_tag:"Append"}),bW=t=>{const e=Object.create(_W);return e.values=t,e},SW=Object.assign(Object.create(Pl),{_tag:"Slice"}),wW=(t,e)=>{const n=Object.create(SW);return n.from=t,n.until=e,n},EW=Object.assign(Object.create(Pl),{_tag:"Update"}),xW=(t,e)=>{const n=Object.create(EW);return n.index=t,n.patch=e,n},CW=t=>{let e=0,n=nk();for(;e<t.oldValue.length&&e<t.newValue.length;){const r=t.oldValue[e],i=t.newValue[e],s=t.differ.diff(r,i);Ot(s,t.differ.empty)||(n=Ed(n,xW(e,s))),e=e+1}return e<t.oldValue.length&&(n=Ed(n,wW(0,e))),e<t.newValue.length&&(n=Ed(n,bW(ND(e)(t.newValue)))),n},Ed=L(2,(t,e)=>vW(t,e)),TW=L(3,(t,e,n)=>{if(t._tag==="Empty")return e;let r=e.slice(),i=si(t);for(;bd(i);){const s=er(i),a=Us(i);switch(s._tag){case"Empty":{i=a;break}case"AndThen":{a.unshift(s.first,s.second),i=a;break}case"Append":{for(const c of s.values)r.push(c);i=a;break}case"Slice":{r=r.slice(s.from,s.until),i=a;break}case"Update":{r[s.index]=n.patch(s.patch,r[s.index]),i=a;break}}}return r}),OW=Symbol.for("effect/Differ"),AW={[OW]:{_P:Le,_V:Le},pipe(){return vt(this,arguments)}},ku=t=>{const e=Object.create(AW);return e.empty=t.empty,e.diff=t.diff,e.combine=t.combine,e.patch=t.patch,e},kW=()=>ku({empty:tk(),combine:(t,e)=>wd(e)(t),diff:(t,e)=>eW(t,e),patch:(t,e)=>nW(e)(t)}),IW=()=>ku({empty:ek(),combine:(t,e)=>Yy(e)(t),diff:(t,e)=>dW(t,e),patch:(t,e)=>hW(e)(t)}),PW=t=>ku({empty:nk(),combine:(e,n)=>Ed(e,n),diff:(e,n)=>CW({oldValue:e,newValue:n,differ:t}),patch:(e,n)=>TW(e,n,t)}),rk=()=>$W((t,e)=>e),$W=t=>ku({empty:Le,combine:(e,n)=>e===Le?n:n===Le?e:r=>n(e(r)),diff:(e,n)=>Ot(e,n)?Le:Lh(n),patch:(e,n)=>t(n,e(n))}),Qc=255,ik=8,Xy=t=>t&Qc,Qy=t=>t>>ik&Qc,$l=(t,e)=>(t&Qc)+((e&t&Qc)<<ik),RW=$l(0,0),MW=t=>$l(t,t),NW=t=>$l(t,0),LW=L(2,(t,e)=>$l(Xy(t)&~e,Qy(t))),FW=L(2,(t,e)=>t|e),BW=t=>~t>>>0&Qc,jW=0,Iu=1,DW=2,ok=4,Zy=16,sk=32,zW=t=>rp(t,sk),UW=L(2,(t,e)=>t|e),Ho=t=>ak(t)&&!KW(t),ak=t=>rp(t,Iu),rp=L(2,(t,e)=>(t&e)!==0),uk=(...t)=>t.reduce((e,n)=>e|n,0),WW=uk(jW),dE=t=>rp(t,ok),KW=t=>rp(t,Zy),xd=L(2,(t,e)=>$l(t^e,e)),Cd=L(2,(t,e)=>t&(BW(Xy(e))|Qy(e))|Xy(e)&Qy(e)),hE=ku({empty:RW,diff:(t,e)=>xd(t,e),combine:(t,e)=>FW(e)(t),patch:(t,e)=>Cd(e,t)}),qW=MW,ck=NW,pE=LW,lk=(t,e)=>({_tag:"Par",left:t,right:e}),Jf=(t,e)=>({_tag:"Seq",left:t,right:e}),VW=t=>{let e=D0(t),n=uu();for(;;){const[r,i]=z4(e,[fk(),uu()],([s,a],c)=>{const[l,d]=HW(c);return[QW(s,l),B4(a,d)]});if(n=GW(n,r),yo(i))return U4(n);e=i}throw new Error("BUG: BlockedRequests.flatten - please report an issue at https://github.com/Effect-TS/effect/issues")},HW=t=>{let e=t,n=fk(),r=uu(),i=uu();for(;;)switch(e._tag){case"Empty":{if(yo(r))return[n,i];e=r.head,r=r.tail;break}case"Par":{r=qs(e.right,r),e=e.left;break}case"Seq":{const s=e.left,a=e.right;switch(s._tag){case"Empty":{e=a;break}case"Par":{const c=s.left,l=s.right;e=lk(Jf(c,a),Jf(l,a));break}case"Seq":{const c=s.left,l=s.right;e=Jf(c,Jf(l,a));break}case"Single":{e=s,i=qs(a,i);break}}break}case"Single":{if(n=XW(n,e),yo(r))return[n,i];e=r.head,r=r.tail;break}}throw new Error("BUG: BlockedRequests.step - please report an issue at https://github.com/Effect-TS/effect/issues")},GW=(t,e)=>{if(yo(t))return D0(Wm(e));if(ZW(e))return t;const n=o6(t.head),r=t6(e);return n.length===1&&r.length===1&&Ot(n[0],r[0])?qs(i6(t.head,Wm(e)),t.tail):qs(Wm(e),t)},JW=Symbol.for("effect/RequestBlock/RequestBlockParallel"),YW={_R:t=>t};var sT;sT=JW;class U0{constructor(e){_(this,"map");_(this,sT,YW);this.map=e}}const fk=()=>new U0(j0()),XW=(t,e)=>new U0(k4(t.map,e.dataSource,n=>pD(CO(n,yU(e.blockedRequest)),()=>_r(e.blockedRequest)))),QW=(t,e)=>new U0(XA(t.map,e.map,(n,r,i)=>JA(n,i,He(GA(n,i),{onNone:()=>r,onSome:s=>li(r,s)})))),ZW=t=>A4(t.map),t6=t=>Array.from(YA(t.map)),Wm=t=>r6(I4(t.map,e=>_r(e))),e6=Symbol.for("effect/RequestBlock/RequestBlockSequential"),n6={_R:t=>t};var aT;aT=e6;class dk{constructor(e){_(this,"map");_(this,aT,n6);this.map=e}}const r6=t=>new dk(t),i6=(t,e)=>new dk(XA(e.map,t.map,(n,r,i)=>JA(n,i,He(GA(n,i),{onNone:()=>vo(),onSome:s=>li(s,r)})))),o6=t=>Array.from(YA(t.map)),s6=t=>Array.from(t.map),Rl="Die",Vs="Empty",ra="Fail",Pu="Interrupt",cu="Parallel",lu="Sequential",hk="effect/Cause",pk=Symbol.for(hk),a6={_E:t=>t},$u={[pk]:a6,[kt](){return J(ut(hk),Bt(ut(S6(this))),Ce(this))},[Tt](t){return u6(t)&&b6(this,t)},pipe(){return vt(this,arguments)},toJSON(){switch(this._tag){case"Empty":return{_id:"Cause",_tag:this._tag};case"Die":return{_id:"Cause",_tag:this._tag,defect:Ve(this.defect)};case"Interrupt":return{_id:"Cause",_tag:this._tag,fiberId:this.fiberId.toJSON()};case"Fail":return{_id:"Cause",_tag:this._tag,failure:Ve(this.error)};case"Sequential":case"Parallel":return{_id:"Cause",_tag:this._tag,left:Ve(this.left),right:Ve(this.right)}}},toString(){return Ru(this)},[_e](){return this.toJSON()}},Zc=(()=>{const t=Object.create($u);return t._tag=Vs,t})(),th=t=>{const e=Object.create($u);return e._tag=ra,e.error=t,e},zi=t=>{const e=Object.create($u);return e._tag=Rl,e.defect=t,e},Jo=t=>{const e=Object.create($u);return e._tag=Pu,e.fiberId=t,e},ip=(t,e)=>{const n=Object.create($u);return n._tag=cu,n.left=t,n.right=e,n},qr=(t,e)=>{const n=Object.create($u);return n._tag=lu,n.left=t,n.right=e,n},u6=t=>xt(t,pk),c6=t=>t._tag===Vs,l6=t=>t._tag===ra,f6=t=>t._tag===Vs?!0:fu(t,!0,(e,n)=>{switch(n._tag){case Vs:return It(e);case Rl:case ra:case Pu:return It(!1);default:return ct()}}),d6=t=>Rn(v6(t)),W0=t=>K0(void 0,E6)(t),h6=t=>nu(fu(t,vo(),(e,n)=>n._tag===ra?It(J(e,gi(n.error))):ct())),p6=t=>nu(fu(t,vo(),(e,n)=>n._tag===Rl?It(J(e,gi(n.defect))):ct())),g6=t=>fu(t,Ks(),(e,n)=>n._tag===Pu?It(J(e,Dc(n.fiberId))):ct()),m6=t=>gk(t,e=>e._tag===ra?It(e.error):ct()),y6=t=>{const e=m6(t);switch(e._tag){case"None":return Mt(t);case"Some":return St(e.value)}},v6=t=>gk(t,e=>e._tag===Pu?It(e.fiberId):ct()),gE=t=>mk(t,{onEmpty:Zc,onFail:()=>Zc,onDie:zi,onInterrupt:Jo,onSequential:qr,onParallel:ip}),_6=t=>mk(t,{onEmpty:Zc,onFail:zi,onDie:zi,onInterrupt:Jo,onSequential:qr,onParallel:ip}),b6=(t,e)=>{let n=_r(t),r=_r(e);for(;ru(n)&&ru(r);){const[i,s]=J(iu(n),fu([Ks(),vo()],([l,d],h)=>{const[g,m]=tv(h);return It([J(l,Jc(g)),J(d,li(m))])})),[a,c]=J(iu(r),fu([Ks(),vo()],([l,d],h)=>{const[g,m]=tv(h);return It([J(l,Jc(g)),J(d,li(m))])}));if(!Ot(i,a))return!1;n=s,r=c}return!0},S6=t=>w6(_r(t),vo()),w6=(t,e)=>{for(;;){const[n,r]=J(t,PO([Ks(),vo()],([s,a],c)=>{const[l,d]=tv(c);return[J(s,Jc(l)),J(a,li(d))]})),i=zA(n)>0?J(e,gi(n)):e;if(vU(r))return nu(i);t=r,e=i}throw new Error(Dh("Cause.flattenCauseLoop"))},gk=L(2,(t,e)=>{const n=[t];for(;n.length>0;){const r=n.pop(),i=e(r);switch(i._tag){case"None":{switch(r._tag){case lu:case cu:{n.push(r.right),n.push(r.left);break}}break}case"Some":return i}}return ct()}),tv=t=>{let e=t;const n=[];let r=Ks(),i=vo();for(;e!==void 0;)switch(e._tag){case Vs:{if(n.length===0)return[r,i];e=n.pop();break}case ra:{if(r=Dc(r,Dm(e._tag,e.error)),n.length===0)return[r,i];e=n.pop();break}case Rl:{if(r=Dc(r,Dm(e._tag,e.defect)),n.length===0)return[r,i];e=n.pop();break}case Pu:{if(r=Dc(r,Dm(e._tag,e.fiberId)),n.length===0)return[r,i];e=n.pop();break}case lu:{switch(e.left._tag){case Vs:{e=e.right;break}case lu:{e=qr(e.left.left,qr(e.left.right,e.right));break}case cu:{e=ip(qr(e.left.left,e.right),qr(e.left.right,e.right));break}default:{i=gi(i,e.right),e=e.left;break}}break}case cu:{n.push(e.right),e=e.left;break}}throw new Error(Dh("Cause.evaluateCauseLoop"))},E6={emptyCase:Kw,failCase:$y,dieCase:$y,interruptCase:Kw,sequentialCase:(t,e,n)=>e&&n,parallelCase:(t,e,n)=>e&&n},mE="SequentialCase",yE="ParallelCase",mk=L(2,(t,{onDie:e,onEmpty:n,onFail:r,onInterrupt:i,onParallel:s,onSequential:a})=>K0(t,void 0,{emptyCase:()=>n,failCase:(c,l)=>r(l),dieCase:(c,l)=>e(l),interruptCase:(c,l)=>i(l),sequentialCase:(c,l,d)=>a(l,d),parallelCase:(c,l,d)=>s(l,d)})),fu=L(3,(t,e,n)=>{let r=e,i=t;const s=[];for(;i!==void 0;){const a=n(r,i);switch(r=Rn(a)?a.value:r,i._tag){case lu:{s.push(i.right),i=i.left;break}case cu:{s.push(i.right),i=i.left;break}default:{i=void 0;break}}i===void 0&&s.length>0&&(i=s.pop())}return r}),K0=L(3,(t,e,n)=>{const r=[t],i=[];for(;r.length>0;){const a=r.pop();switch(a._tag){case Vs:{i.push(Mt(n.emptyCase(e)));break}case ra:{i.push(Mt(n.failCase(e,a.error)));break}case Rl:{i.push(Mt(n.dieCase(e,a.defect)));break}case Pu:{i.push(Mt(n.interruptCase(e,a.fiberId)));break}case lu:{r.push(a.right),r.push(a.left),i.push(St({_tag:mE}));break}case cu:{r.push(a.right),r.push(a.left),i.push(St({_tag:yE}));break}}}const s=[];for(;i.length>0;){const a=i.pop();switch(a._tag){case"Left":{switch(a.left._tag){case mE:{const c=s.pop(),l=s.pop(),d=n.sequentialCase(e,c,l);s.push(d);break}case yE:{const c=s.pop(),l=s.pop(),d=n.parallelCase(e,c,l);s.push(d);break}}break}case"Right":{s.push(a.right);break}}}if(s.length===0)throw new Error("BUG: Cause.reduceWithContext - please report an issue at https://github.com/Effect-TS/effect/issues");return s.pop()}),Ru=(t,e)=>W0(t)?"All fibers interrupted without errors.":vk(t).map(function(n){return(e==null?void 0:e.renderErrorCause)!==!0||n.cause===void 0?n.stack:`${n.stack} {
${yk(n.cause,"  ")}
}`}).join(`
`),yk=(t,e)=>{const n=t.stack.split(`
`);let r=`${e}[cause]: ${n[0]}`;for(let i=1,s=n.length;i<s;i++)r+=`
${e}${n[i]}`;return t.cause&&(r+=` {
${yk(t.cause,`${e}  `)}
${e}}`),r};class eh extends globalThis.Error{constructor(n){const r=typeof n=="object"&&n!==null,i=Error.stackTraceLimit;Error.stackTraceLimit=1;super(x6(n),r&&"cause"in n&&typeof n.cause<"u"?{cause:new eh(n.cause)}:void 0);_(this,"span");this.message===""&&(this.message="An error has occurred"),Error.stackTraceLimit=i,this.name=n instanceof Error?n.name:"Error",r&&(du in n&&(this.span=n[du]),Object.keys(n).forEach(s=>{s in this||(this[s]=n[s])})),this.stack=O6(`${this.name}: ${this.message}`,n instanceof Error&&n.stack?n.stack:"",this.span)}}const x6=t=>{if(typeof t=="string")return t;if(typeof t=="object"&&t!==null&&t instanceof Error)return t.message;try{if(xt(t,"toString")&&Tu(t.toString)&&t.toString!==Object.prototype.toString&&t.toString!==globalThis.Array.prototype.toString)return t.toString()}catch{}return cO(t)},C6=/\((.*)\)/g,T6=jt("effect/Tracer/spanToTrace",()=>new WeakMap),O6=(t,e,n)=>{const r=[t],i=e.startsWith(t)?e.slice(t.length).split(`
`):e.split(`
`);for(let s=1;s<i.length&&!i[s].includes("Generator.next");s++){if(i[s].includes("effect_internal_function")){r.pop();break}r.push(i[s].replace(/at .*effect_instruction_i.*\((.*)\)/,"at $1").replace(/EffectPrimitive\.\w+/,"<anonymous>"))}if(n){let s=n,a=0;for(;s&&s._tag==="Span"&&a<10;){const c=T6.get(s);if(typeof c=="function"){const l=c();if(typeof l=="string"){const d=l.matchAll(C6);let h=!1;for(const[,g]of d)h=!0,r.push(`    at ${s.name} (${g})`);h||r.push(`    at ${s.name} (${l.replace(/^at /,"")})`)}else r.push(`    at ${s.name}`)}else r.push(`    at ${s.name}`);s=ai(s.parent),a++}}return r.join(`
`)},du=Symbol.for("effect/SpanAnnotation"),vk=t=>K0(t,void 0,{emptyCase:()=>[],dieCase:(e,n)=>[new eh(n)],failCase:(e,n)=>[new eh(n)],interruptCase:()=>[],parallelCase:(e,n,r)=>[...n,...r],sequentialCase:(e,n,r)=>[...n,...r]}),op="Pending",_k="Done",A6="effect/Deferred",k6=Symbol.for(A6),I6={_E:t=>t,_A:t=>t},P6=t=>({_tag:op,joiners:t}),$6=t=>({_tag:_k,effect:t});class Ml{constructor(e){_(this,"self");_(this,"called",!1);this.self=e}next(e){return this.called?{value:e,done:!0}:(this.called=!0,{value:this.self,done:!1})}return(e){return{value:e,done:!0}}throw(e){throw e}[Symbol.iterator](){return new Ml(this.self)}}const bk=(t,e)=>{const n=new _n("Blocked");return n.effect_instruction_i0=t,n.effect_instruction_i1=e,n},R6=t=>{const e=new _n("RunBlocked");return e.effect_instruction_i0=t,e},hu=Symbol.for("effect/Effect");class M6{constructor(e,n){_(this,"patch");_(this,"op");_(this,"_op",p0);this.patch=e,this.op=n}}var uT;class _n{constructor(e){_(this,"_op");_(this,"effect_instruction_i0");_(this,"effect_instruction_i1");_(this,"effect_instruction_i2");_(this,"trace");_(this,uT,Xa);this._op=e}[(uT=hu,Tt)](e){return this===e}[kt](){return Ce(this,l0(this))}pipe(){return vt(this,arguments)}toJSON(){return{_id:"Effect",_op:this._op,effect_instruction_i0:Ve(this.effect_instruction_i0),effect_instruction_i1:Ve(this.effect_instruction_i1),effect_instruction_i2:Ve(this.effect_instruction_i2)}}toString(){return en(this.toJSON())}[_e](){return this.toJSON()}[Symbol.iterator](){return new Ml(new Sl(this))}}var cT;class Sk{constructor(e){_(this,"_op");_(this,"effect_instruction_i0");_(this,"effect_instruction_i1");_(this,"effect_instruction_i2");_(this,"trace");_(this,cT,Xa);this._op=e,this._tag=e}[(cT=hu,Tt)](e){return t_(e)&&e._op==="Failure"&&Ot(this.effect_instruction_i0,e.effect_instruction_i0)}[kt](){return J(Re(this._tag),Bt(ut(this.effect_instruction_i0)),Ce(this))}get cause(){return this.effect_instruction_i0}pipe(){return vt(this,arguments)}toJSON(){return{_id:"Exit",_tag:this._op,cause:this.cause.toJSON()}}toString(){return en(this.toJSON())}[_e](){return this.toJSON()}[Symbol.iterator](){return new Ml(new Sl(this))}}var lT;class wk{constructor(e){_(this,"_op");_(this,"effect_instruction_i0");_(this,"effect_instruction_i1");_(this,"effect_instruction_i2");_(this,"trace");_(this,lT,Xa);this._op=e,this._tag=e}[(lT=hu,Tt)](e){return t_(e)&&e._op==="Success"&&Ot(this.effect_instruction_i0,e.effect_instruction_i0)}[kt](){return J(Re(this._tag),Bt(ut(this.effect_instruction_i0)),Ce(this))}get value(){return this.effect_instruction_i0}pipe(){return vt(this,arguments)}toJSON(){return{_id:"Exit",_tag:this._op,value:Ve(this.value)}}toString(){return en(this.toJSON())}[_e](){return this.toJSON()}[Symbol.iterator](){return new Ml(new Sl(this))}}const sp=t=>xt(t,hu),br=t=>{const e=new _n(dO);return e.effect_instruction_i0=t,e},N6=L(3,(t,e,n)=>cp(r=>bt(t,i=>bt(xk(Ke(()=>r(e(i)))),s=>Ke(()=>n(i,s)).pipe(pu({onFailure:a=>{switch(s._tag){case hi:return mi(qr(s.effect_instruction_i0,a));case pi:return mi(a)}},onSuccess:()=>s})))))),Nl=L(2,(t,e)=>bt(t,()=>ve(e))),Ll=t=>Nl(t,void 0),Ek=function(){const t=new _n(Uh);switch(arguments.length){case 2:{t.effect_instruction_i0=arguments[0],t.commit=arguments[1];break}case 3:{t.effect_instruction_i0=arguments[0],t.effect_instruction_i1=arguments[1],t.commit=arguments[2];break}case 4:{t.effect_instruction_i0=arguments[0],t.effect_instruction_i1=arguments[1],t.effect_instruction_i2=arguments[2],t.commit=arguments[3];break}default:throw new Error(Dh("you're not supposed to end up here"))}return t},nh=(t,e=au)=>{const n=new _n(Bc);let r;return n.effect_instruction_i0=i=>{r=t(i)},n.effect_instruction_i1=e,kk(n,i=>sp(r)?r:yi)},L6=(t,e=au)=>Ke(()=>nh(t,e)),tl=(t,e=au)=>Ek(t,function(){let n,r;function i(l){n?n(l):r===void 0&&(r=l)}const s=new _n(Bc);s.effect_instruction_i0=l=>{n=l,r&&l(r)},s.effect_instruction_i1=e;let a,c;return this.effect_instruction_i0.length!==1?(c=new AbortController,a=Un(()=>this.effect_instruction_i0(i,c.signal))):a=Un(()=>this.effect_instruction_i0(i)),a||c?kk(s,l=>(c&&c.abort(),a??yi)):s}),ev=L(2,(t,e)=>V0(t,{onFailure:e,onSuccess:ve})),vE=Symbol.for("effect/OriginalAnnotation"),q0=(t,e)=>Rn(e)?new Proxy(t,{has(n,r){return r===du||r===vE||r in n},get(n,r){return r===du?e.value:r===vE?t:n[r]}}):t,_E=t=>us(t)&&!(du in t)?br(e=>mi(zi(q0(t,e_(e))))):mi(zi(t)),bE=t=>F6(()=>zi(new hK(t))),rh=t=>V0(t,{onFailure:e=>ve(St(e)),onSuccess:e=>ve(Mt(e))}),xk=t=>D6(t,{onFailure:fe,onSuccess:Me}),Zn=t=>us(t)&&!(du in t)?br(e=>mi(th(q0(t,e_(e))))):mi(th(t)),Ck=t=>bt(wt(t),Zn),mi=t=>{const e=new Sk(hi);return e.effect_instruction_i0=t,e},F6=t=>bt(wt(t),mi),B6=br(t=>ve(t.id())),Tk=t=>br(e=>t(e.id())),bt=L(2,(t,e)=>{const n=new _n(Wd);return n.effect_instruction_i0=t,n.effect_instruction_i1=e,n}),j6=t=>{const e=new _n("OnStep");return e.effect_instruction_i0=t,e},Ok=t=>bt(t,Le),D6=L(2,(t,e)=>pu(t,{onFailure:n=>ve(e.onFailure(n)),onSuccess:n=>ve(e.onSuccess(n))})),pu=L(2,(t,e)=>{const n=new _n(Kd);return n.effect_instruction_i0=t,n.effect_instruction_i1=e.onFailure,n.effect_instruction_i2=e.onSuccess,n}),V0=L(2,(t,e)=>pu(t,{onFailure:n=>{if(p6(n).length>0)return mi(_6(n));const i=h6(n);return i.length>0?e.onFailure(CA(i)):mi(n)},onSuccess:e.onSuccess})),Xo=L(2,(t,e)=>Ke(()=>{const n=Fe(t),r=Wh(n.length);let i=0;return Nl(J0({while:()=>i<n.length,body:()=>e(n[i],i),step:s=>{r[i++]=s}}),r)})),ap=L(2,(t,e)=>Ke(()=>{const n=Fe(t);let r=0;return J0({while:()=>r<n.length,body:()=>e(n[r],r),step:()=>{r++}})})),Ak=t=>{const e=new _n(El);return e.effect_instruction_i0=qW(Iu),e.effect_instruction_i1=()=>t,e},tr=L(2,(t,e)=>bt(t,n=>wt(()=>e(n)))),H0=L(2,(t,e)=>V0(t,{onFailure:n=>Ck(()=>e.onFailure(n)),onSuccess:n=>wt(()=>e.onSuccess(n))})),up=L(2,(t,e)=>pu(t,{onFailure:n=>{const r=y6(n);switch(r._tag){case"Left":return Ck(()=>e(r.left));case"Right":return mi(r.right)}},onSuccess:ve})),G0=L(2,(t,e)=>cp(n=>pu(n(t),{onFailure:r=>{const i=fe(r);return pu(e(i),{onFailure:s=>fe(qr(r,s)),onSuccess:()=>i})},onSuccess:r=>{const i=Me(r);return lp(e(i),i)}}))),kk=L(2,(t,e)=>G0(t,Dk({onFailure:n=>W0(n)?Ll(e(g6(n))):yi,onSuccess:()=>yi}))),ve=t=>{const e=new wk(pi);return e.effect_instruction_i0=t,e},Ke=t=>{const e=new _n(Uh);return e.commit=t,e},wt=t=>{const e=new _n(fO);return e.effect_instruction_i0=t,e},z6=L(t=>t.length===3||t.length===2&&!(us(t[1])&&"onlyEffect"in t[1]),(t,e)=>bt(t,n=>{const r=typeof e=="function"?e(n):e;return sp(r)?Nl(r,n):T3(r)?nh(i=>{r.then(s=>i(ve(n)),s=>i(Zn(new mK(s,"An unknown error occurred in Effect.tap"))))}):ve(n)})),U6=t=>br(e=>{const n=e.getFiberRef(rv),r=J(n,je(()=>e.scope()));return t(fp(rv,It(r)))}),Ik=t=>{const e=new _n(El);return e.effect_instruction_i0=ck(Iu),e.effect_instruction_i1=()=>t,e},cp=t=>Ek(t,function(){const e=new _n(El);return e.effect_instruction_i0=ck(Iu),e.effect_instruction_i1=n=>ak(n)?Un(()=>this.effect_instruction_i0(Ak)):Un(()=>this.effect_instruction_i0(Ik)),e}),yi=ve(void 0),W6=t=>{const e=new _n(El);return e.effect_instruction_i0=t,e.effect_instruction_i1=void 0,e},J0=t=>{const e=new _n(qd);return e.effect_instruction_i0=t.while,e.effect_instruction_i1=t.body,e.effect_instruction_i2=t.step,e},Y0=t=>{const e=new _n(_d);return typeof(t==null?void 0:t.priority)<"u"?aK(e,t.priority):e},Pk=L(2,(t,e)=>bt(t,n=>tr(e,r=>[n,r]))),$k=L(2,(t,e)=>bt(t,n=>Nl(e,n))),lp=L(2,(t,e)=>bt(t,()=>e)),K6=t=>bt(B6,e=>J(t,Rk(e))),Rk=L(2,(t,e)=>bt(t.interruptAsFork(e),()=>t.await)),q6={_tag:"All",syslog:0,label:"ALL",ordinal:Number.MIN_SAFE_INTEGER,pipe(){return vt(this,arguments)}},V6={_tag:"Fatal",syslog:2,label:"FATAL",ordinal:5e4,pipe(){return vt(this,arguments)}},H6={_tag:"Error",syslog:3,label:"ERROR",ordinal:4e4,pipe(){return vt(this,arguments)}},G6={_tag:"Warning",syslog:4,label:"WARN",ordinal:3e4,pipe(){return vt(this,arguments)}},Mk={_tag:"Info",syslog:6,label:"INFO",ordinal:2e4,pipe(){return vt(this,arguments)}},Nk={_tag:"Debug",syslog:7,label:"DEBUG",ordinal:1e4,pipe(){return vt(this,arguments)}},J6={_tag:"Trace",syslog:7,label:"TRACE",ordinal:0,pipe(){return vt(this,arguments)}},Y6={_tag:"None",syslog:7,label:"OFF",ordinal:Number.MAX_SAFE_INTEGER,pipe(){return vt(this,arguments)}},X6="effect/FiberRef",Q6=Symbol.for(X6),Z6={_A:t=>t},X0=t=>br(e=>Me(e.getFiberRef(t))),Q0=L(2,(t,e)=>bt(X0(t),e)),SE=L(2,(t,e)=>tK(t,()=>[void 0,e])),tK=L(2,(t,e)=>br(n=>{const[r,i]=e(n.getFiberRef(t));return n.setFiberRef(t,i),ve(r)})),fp=L(3,(t,e,n)=>N6($k(X0(e),SE(e,n)),()=>t,r=>SE(e,r))),Tr=(t,e)=>Mu(t,{differ:rk(),fork:(e==null?void 0:e.fork)??Le,join:e==null?void 0:e.join}),eK=t=>{const e=IW();return Mu(t,{differ:e,fork:e.empty})},nK=t=>{const e=PW(rk());return Mu(t,{differ:e,fork:e.empty})},Lk=t=>{const e=kW();return Mu(t,{differ:e,fork:e.empty})},Mu=(t,e)=>({...Tl,[Q6]:Z6,initial:t,commit(){return X0(this)},diff:(r,i)=>e.differ.diff(r,i),combine:(r,i)=>e.differ.combine(r,i),patch:r=>i=>e.differ.patch(r,i),fork:e.fork,join:e.join??((r,i)=>i)}),rK=t=>Mu(t,{differ:hE,fork:hE.empty}),Fl=jt(Symbol.for("effect/FiberRef/currentContext"),()=>Lk(A0())),dp=jt(Symbol.for("effect/FiberRef/currentSchedulingPriority"),()=>Tr(0)),Fk=jt(Symbol.for("effect/FiberRef/currentMaxOpsBeforeYield"),()=>Tr(2048)),iK=jt(Symbol.for("effect/FiberRef/currentLogAnnotation"),()=>Tr(j0())),oK=jt(Symbol.for("effect/FiberRef/currentLogLevel"),()=>Tr(Mk)),sK=jt(Symbol.for("effect/FiberRef/currentLogSpan"),()=>Tr(uu())),aK=L(2,(t,e)=>fp(t,dp,e)),uK=jt(Symbol.for("effect/FiberRef/currentConcurrency"),()=>Tr("unbounded")),cK=jt(Symbol.for("effect/FiberRef/currentRequestBatching"),()=>Tr(!0)),lK=jt(Symbol.for("effect/FiberRef/currentUnhandledErrorLogLevel"),()=>Tr(It(Nk))),nv=jt(Symbol.for("effect/FiberRef/currentMetricLabels"),()=>nK(Qa())),rv=jt(Symbol.for("effect/FiberRef/currentForkScopeOverride"),()=>Tr(ct(),{fork:()=>ct(),join:(t,e)=>t})),Yf=jt(Symbol.for("effect/FiberRef/currentInterruptedCause"),()=>Tr(Zc,{fork:()=>Zc,join:(t,e)=>t})),fK=(t,e)=>t.addFinalizer(()=>Ll(e)),dK=(t,e)=>t.close(e),hp=(t,e)=>t.fork(e),Z0=function(){class t extends globalThis.Error{commit(){return Zn(this)}toJSON(){const n={...this};return this.message&&(n.message=this.message),this.cause&&(n.cause=this.cause),n}[_e](){return this.toString!==globalThis.Error.prototype.toString?this.stack?`${this.toString()}
${this.stack.split(`
`).slice(1).join(`
`)}`:this.toString():"Bun"in globalThis?Ru(th(this),{renderErrorCause:!0}):this}}return Object.assign(t.prototype,G3),t}(),Bk=(t,e)=>{class n extends Z0{constructor(){super(...arguments);_(this,"_tag",e)}}return Object.assign(n.prototype,t),n.prototype.name=e,n},wE=Symbol.for("effect/Cause/errors/RuntimeException"),hK=Bk({[wE]:wE},"RuntimeException"),pK=Symbol.for("effect/Cause/errors/InterruptedException"),gK=t=>xt(t,pK),EE=Symbol.for("effect/Cause/errors/NoSuchElement"),jk=Bk({[EE]:EE},"NoSuchElementException"),xE=Symbol.for("effect/Cause/errors/UnknownException"),mK=function(){class t extends Z0{constructor(r,i){super(i??"An unknown error occurred",{cause:r});_(this,"_tag","UnknownException");_(this,"error");this.error=r}}return Object.assign(t.prototype,{[xE]:xE,name:"UnknownException"}),t}(),t_=t=>sp(t)&&"_tag"in t&&(t._tag==="Success"||t._tag==="Failure"),yK=t=>t._tag==="Success",CE=(t,e)=>SK(t,e!=null&&e.parallel?ip:qr),vK=t=>fe(zi(t)),TE=t=>fe(th(t)),fe=t=>{const e=new Sk(hi);return e.effect_instruction_i0=t,e},_K=t=>fe(Jo(t)),Km=L(2,(t,e)=>{switch(t._tag){case hi:return fe(t.effect_instruction_i0);case pi:return Me(e(t.effect_instruction_i0))}}),Dk=L(2,(t,{onFailure:e,onSuccess:n})=>{switch(t._tag){case hi:return e(t.effect_instruction_i0);case pi:return n(t.effect_instruction_i0)}}),Me=t=>{const e=new wk(pi);return e.effect_instruction_i0=t,e},Is=Me(void 0),bK=L(3,(t,e,{onFailure:n,onSuccess:r})=>{switch(t._tag){case hi:switch(e._tag){case pi:return fe(t.effect_instruction_i0);case hi:return fe(n(t.effect_instruction_i0,e.effect_instruction_i0))}case pi:switch(e._tag){case pi:return Me(r(t.effect_instruction_i0,e.effect_instruction_i0));case hi:return fe(e.effect_instruction_i0)}}}),SK=(t,e)=>{const n=xA(t);return ru(n)?J(ks(n),PO(J(iu(n),Km(_r)),(r,i)=>J(r,bK(i,{onSuccess:(s,a)=>J(s,gi(a)),onFailure:e}))),Km(nu),Km(r=>Ls(r)),It):ct()},wK=t=>({...Tl,[k6]:I6,state:WA(P6([])),commit(){return zk(this)},blockingOn:t}),zk=t=>L6(e=>{const n=ep(t.state);switch(n._tag){case _k:return e(n.effect);case op:return n.joiners.push(e),EK(t,e)}},t.blockingOn),Uk=(t,e)=>{const n=ep(t.state);if(n._tag===op){KA(t.state,$6(e));for(let r=0,i=n.joiners.length;r<i;r++)n.joiners[r](e)}},EK=(t,e)=>wt(()=>{const n=ep(t.state);if(n._tag===op){const r=n.joiners.indexOf(e);r>=0&&n.joiners.splice(r,1)}}),xK=br(t=>Me(t.currentContext)),CK=()=>xK,Bl=t=>bt(CK(),t),TK=L(2,(t,e)=>fp(Fl,e)(t)),OK=L(2,(t,e)=>Bl(n=>TK(t,e(n)))),e_=t=>{const e=t.currentSpan;return e!==void 0&&e._tag==="Span"?It(e):ct()},AK=yK,OE=Symbol.for("effect/MutableHashMap"),kK={[OE]:OE,[Symbol.iterator](){return new n_(this)},toString(){return en(this.toJSON())},toJSON(){return{_id:"MutableHashMap",values:Array.from(this).map(Ve)}},[_e](){return this.toJSON()},pipe(){return vt(this,arguments)}};class n_{constructor(e){_(this,"self");_(this,"referentialIterator");_(this,"bucketIterator");this.self=e,this.referentialIterator=e.referential[Symbol.iterator]()}next(){if(this.bucketIterator!==void 0)return this.bucketIterator.next();const e=this.referentialIterator.next();return e.done?(this.bucketIterator=new IK(this.self.buckets.values()),this.next()):e}[Symbol.iterator](){return new n_(this.self)}}class IK{constructor(e){_(this,"backing");_(this,"currentBucket");this.backing=e}next(){if(this.currentBucket===void 0){const n=this.backing.next();if(n.done)return n;this.currentBucket=n.value[Symbol.iterator]()}const e=this.currentBucket.next();return e.done?(this.currentBucket=void 0,this.next()):e}}const PK=()=>{const t=Object.create(kK);return t.referential=new Map,t.buckets=new Map,t.bucketsSize=0,t},Ts=L(2,(t,e)=>{if(Ud(e)===!1)return t.referential.has(e)?It(t.referential.get(e)):ct();const n=e[kt](),r=t.buckets.get(n);return r===void 0?ct():$K(t,r,e)}),$K=(t,e,n,r=!1)=>{for(let i=0,s=e.length;i<s;i++)if(n[Tt](e[i][0])){const a=e[i][1];return r&&(e.splice(i,1),t.bucketsSize--),It(a)}return ct()},_c=L(2,(t,e)=>Rn(Ts(t,e))),bc=L(3,(t,e,n)=>{if(Ud(e)===!1)return t.referential.set(e,n),t;const r=e[kt](),i=t.buckets.get(r);return i===void 0?(t.buckets.set(r,[[e,n]]),t.bucketsSize++,t):(RK(t,i,e),i.push([e,n]),t.bucketsSize++,t)}),RK=(t,e,n)=>{for(let r=0,i=e.length;r<i;r++)if(n[Tt](e[r][0])){e.splice(r,1),t.bucketsSize--;return}};function MK(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Wk={exports:{}},Ie=Wk.exports={},ki,Ii;function iv(){throw new Error("setTimeout has not been defined")}function ov(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?ki=setTimeout:ki=iv}catch{ki=iv}try{typeof clearTimeout=="function"?Ii=clearTimeout:Ii=ov}catch{Ii=ov}})();function Kk(t){if(ki===setTimeout)return setTimeout(t,0);if((ki===iv||!ki)&&setTimeout)return ki=setTimeout,setTimeout(t,0);try{return ki(t,0)}catch{try{return ki.call(null,t,0)}catch{return ki.call(this,t,0)}}}function NK(t){if(Ii===clearTimeout)return clearTimeout(t);if((Ii===ov||!Ii)&&clearTimeout)return Ii=clearTimeout,clearTimeout(t);try{return Ii(t)}catch{try{return Ii.call(null,t)}catch{return Ii.call(this,t)}}}var go=[],qa=!1,Ps,Td=-1;function LK(){!qa||!Ps||(qa=!1,Ps.length?go=Ps.concat(go):Td=-1,go.length&&qk())}function qk(){if(!qa){var t=Kk(LK);qa=!0;for(var e=go.length;e;){for(Ps=go,go=[];++Td<e;)Ps&&Ps[Td].run();Td=-1,e=go.length}Ps=null,qa=!1,NK(t)}}Ie.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];go.push(new Vk(t,e)),go.length===1&&!qa&&Kk(qk)};function Vk(t,e){this.fun=t,this.array=e}Vk.prototype.run=function(){this.fun.apply(null,this.array)};Ie.title="browser";Ie.browser=!0;Ie.env={};Ie.argv=[];Ie.version="";Ie.versions={};function Oo(){}Ie.on=Oo;Ie.addListener=Oo;Ie.once=Oo;Ie.off=Oo;Ie.removeListener=Oo;Ie.removeAllListeners=Oo;Ie.emit=Oo;Ie.prependListener=Oo;Ie.prependOnceListener=Oo;Ie.listeners=function(t){return[]};Ie.binding=function(t){throw new Error("process.binding is not supported")};Ie.cwd=function(){return"/"};Ie.chdir=function(t){throw new Error("process.chdir is not supported")};Ie.umask=function(){return 0};var FK=Wk.exports;const di=MK(FK),BK="effect/Clock",AE=Symbol.for(BK),r_=na("effect/Clock"),jK=2**31-1,kE={unsafeSchedule(t,e){const n=Wy(e);if(n>jK)return $y;let r=!1;const i=setTimeout(()=>{r=!0,t()},n);return()=>(clearTimeout(i),!r)}},IE=function(){const t=BigInt(1e6);if(typeof performance>"u")return()=>BigInt(Date.now())*t;if(typeof performance.timeOrigin=="number"&&performance.timeOrigin===0)return()=>BigInt(Math.round(performance.now()*1e6));const e=BigInt(Date.now())*t-BigInt(Math.round(performance.now()*1e6));return()=>e+BigInt(Math.round(performance.now()*1e6))}(),DK=function(){const t=typeof di=="object"&&"hrtime"in di&&typeof di.hrtime.bigint=="function"?di.hrtime:void 0;if(!t)return IE;const e=IE()-t.bigint();return()=>e+t.bigint()}();var fT;fT=AE;class zK{constructor(){_(this,fT,AE);_(this,"currentTimeMillis",wt(()=>this.unsafeCurrentTimeMillis()));_(this,"currentTimeNanos",wt(()=>this.unsafeCurrentTimeNanos()))}unsafeCurrentTimeMillis(){return Date.now()}unsafeCurrentTimeNanos(){return DK()}scheduler(){return ve(kE)}sleep(e){return tl(n=>{const r=kE.unsafeSchedule(()=>n(yi),e);return Ll(wt(r))})}}const UK=()=>new zK,Hk="And",Gk="Or",Jk="InvalidData",Yk="MissingData",Xk="SourceUnavailable",Qk="Unsupported",WK="effect/ConfigError",PE=Symbol.for(WK),Nu={_tag:"ConfigError",[PE]:PE},Zk=(t,e)=>{const n=Object.create(Nu);return n._op=Hk,n.left=t,n.right=e,Object.defineProperty(n,"toString",{enumerable:!1,value(){return`${this.left} and ${this.right}`}}),n},tI=(t,e)=>{const n=Object.create(Nu);return n._op=Gk,n.left=t,n.right=e,Object.defineProperty(n,"toString",{enumerable:!1,value(){return`${this.left} or ${this.right}`}}),n},KK=(t,e,n={pathDelim:"."})=>{const r=Object.create(Nu);return r._op=Jk,r.path=t,r.message=e,Object.defineProperty(r,"toString",{enumerable:!1,value(){return`(Invalid data at ${J(this.path,Au(n.pathDelim))}: "${this.message}")`}}),r},Hs=(t,e,n={pathDelim:"."})=>{const r=Object.create(Nu);return r._op=Yk,r.path=t,r.message=e,Object.defineProperty(r,"toString",{enumerable:!1,value(){return`(Missing data at ${J(this.path,Au(n.pathDelim))}: "${this.message}")`}}),r},qK=(t,e,n,r={pathDelim:"."})=>{const i=Object.create(Nu);return i._op=Xk,i.path=t,i.message=e,i.cause=n,Object.defineProperty(i,"toString",{enumerable:!1,value(){return`(Source unavailable at ${J(this.path,Au(r.pathDelim))}: "${this.message}")`}}),i},VK=(t,e,n={pathDelim:"."})=>{const r=Object.create(Nu);return r._op=Qk,r.path=t,r.message=e,Object.defineProperty(r,"toString",{enumerable:!1,value(){return`(Unsupported operation at ${J(this.path,Au(n.pathDelim))}: "${this.message}")`}}),r},$s=L(2,(t,e)=>{switch(t._op){case Hk:return Zk($s(t.left,e),$s(t.right,e));case Gk:return tI($s(t.left,e),$s(t.right,e));case Jk:return KK([...e,...t.path],t.message);case Yk:return Hs([...e,...t.path],t.message);case Xk:return qK([...e,...t.path],t.message,t.cause);case Qk:return VK([...e,...t.path],t.message)}}),HK={_tag:"Empty"},qm=L(2,(t,e)=>{let n=D0(e),r=t;for(;L4(n);){const i=n.head;switch(i._tag){case"Empty":{n=n.tail;break}case"AndThen":{n=qs(i.first,qs(i.second,n.tail));break}case"MapName":{r=za(r,i.f),n=n.tail;break}case"Nested":{r=Hd(r,i.name),n=n.tail;break}case"Unnested":{if(J(jc(r),bD(i.name)))r=Us(r),n=n.tail;else return St(Hs(r,`Expected ${i.name} to be in path in ConfigProvider#unnested`));break}}}return Mt(r)}),GK="Constant",JK="Fail",YK="Fallback",XK="Described",QK="Lazy",ZK="MapOrFail",tq="Nested",eq="Primitive",nq="Sequence",rq="HashMap",iq="ZipWith";var $E={};const ih=(t,e)=>[...t,...e],oq="effect/ConfigProvider",RE=Symbol.for(oq),sq=na("effect/ConfigProvider"),aq="effect/ConfigProviderFlat",ME=Symbol.for(aq),uq=t=>({[RE]:RE,pipe(){return vt(this,arguments)},...t}),cq=t=>({[ME]:ME,patch:t.patch,load:(e,n,r=!0)=>t.load(e,n,r),enumerateChildren:t.enumerateChildren}),lq=t=>uq({load:e=>bt(zr(t,Qa(),e,!1),n=>He(jc(n),{onNone:()=>Zn(Hs(Qa(),`Expected a single value having structure: ${e}`)),onSome:ve})),flattened:t}),fq=t=>{const{pathDelim:e,seqDelim:n}=Object.assign({},{pathDelim:"_",seqDelim:","},t),r=l=>J(l,Au(e)),i=l=>l.split(e),s=()=>typeof di<"u"&&"env"in di&&typeof $E=="object"?$E:{};return lq(cq({load:(l,d,h=!0)=>{const g=r(l),m=s(),y=g in m?It(m[g]):ct();return J(y,up(()=>Hs(l,`Expected ${g} to exist in the process context`)),bt(w=>mq(w,l,d,n,h)))},enumerateChildren:l=>wt(()=>{const d=s(),m=Object.keys(d).map(y=>i(y.toUpperCase())).filter(y=>{for(let w=0;w<l.length;w++){const x=J(l,AO(w)),C=y[w];if(C===void 0||x!==C)return!1}return!0}).flatMap(y=>y.slice(l.length,l.length+1));return y4(m)}),patch:HK}))},dq=(t,e,n,r)=>{const i=Gw(n.length,l=>l>=r.length?ct():It([t(l),l+1])),s=Gw(r.length,l=>l>=n.length?ct():It([e(l),l+1])),a=ih(n,i),c=ih(r,s);return[a,c]},hq=(t,e)=>{let n=e;if(n._tag==="Nested"){const r=t.slice();for(;n._tag==="Nested";)r.push(n.name),n=n.config;return r}return t},zr=(t,e,n,r)=>{const i=n;switch(i._tag){case GK:return ve(si(i.value));case XK:return Ke(()=>zr(t,e,i.config,r));case JK:return Zn(Hs(e,i.message));case YK:return J(Ke(()=>zr(t,e,i.first,r)),ev(s=>i.condition(s)?J(zr(t,e,i.second,r),ev(a=>Zn(tI(s,a)))):Zn(s)));case QK:return Ke(()=>zr(t,e,i.config(),r));case ZK:return Ke(()=>J(zr(t,e,i.original,r),bt(Xo(s=>J(i.mapOrFail(s),up($s(hq(e,i.original))))))));case tq:return Ke(()=>zr(t,ih(e,si(i.name)),i.config,r));case eq:return J(qm(e,t.patch),bt(s=>J(t.load(s,i,r),bt(a=>{if(a.length===0){const c=J($D(s),je(()=>"<n/a>"));return Zn(Hs([],`Expected ${i.description} with name ${c}`))}return ve(a)}))));case nq:return J(qm(e,t.patch),bt(s=>J(t.enumerateChildren(s),bt(vq),bt(a=>a.length===0?Ke(()=>tr(zr(t,e,i.config,!0),si)):J(Xo(a,c=>zr(t,TD(e,`[${c}]`),i.config,!0)),tr(c=>{const l=zD(c);return l.length===0?si(Qa()):si(l)}))))));case rq:return Ke(()=>J(qm(e,t.patch),bt(s=>J(t.enumerateChildren(s),bt(a=>J(a,Xo(c=>zr(t,ih(s,si(c)),i.valueConfig,r)),tr(c=>c.length===0?si(j0()):J(yq(c),za(l=>O4(Hw(Fe(a),l)))))))))));case iq:return Ke(()=>J(zr(t,e,i.left,r),rh,bt(s=>J(zr(t,e,i.right,r),rh,bt(a=>{if(Ze(s)&&Ze(a))return Zn(Zk(s.left,a.left));if(Ze(s)&&po(a))return Zn(s.left);if(po(s)&&Ze(a))return Zn(a.left);if(po(s)&&po(a)){const c=J(e,Au(".")),l=pq(e,c),[d,h]=dq(l,l,J(s.right,za(Mt)),J(a.right,za(Mt)));return J(d,Hw(h),Xo(([g,m])=>J(Pk(g,m),tr(([y,w])=>i.zip(y,w)))))}throw new Error("BUG: ConfigProvider.fromFlatLoop - please report an issue at https://github.com/Effect-TS/effect/issues")})))))}},pq=(t,e)=>n=>St(Hs(t,`The element at index ${n} in a sequence at path "${e}" was missing`)),gq=(t,e)=>t.split(new RegExp(`\\s*${Gd(e)}\\s*`)),mq=(t,e,n,r,i)=>i?J(gq(t,r),Xo(s=>n.parse(s.trim())),up($s(e))):J(n.parse(t),H0({onFailure:$s(e),onSuccess:si})),yq=t=>Object.keys(t[0]).map(e=>t.map(n=>n[e])),vq=t=>J(Xo(t,bq),H0({onFailure:()=>Qa(),onSuccess:Vc(Za)}),rh,tr(uD)),_q=/^(\[(\d+)\])$/,bq=t=>{const e=t.match(_q);if(e!==null){const n=e[2];return J(n!==void 0&&n.length>0?It(n):ct(),Ou(Sq))}return ct()},Sq=t=>{const e=Number.parseInt(t);return Number.isNaN(e)?ct():It(e)},NE=Symbol.for("effect/Console"),eI=na("effect/Console"),wq={[NE]:NE,assert(t,...e){return wt(()=>{console.assert(t,...e)})},clear:wt(()=>{console.clear()}),count(t){return wt(()=>{console.count(t)})},countReset(t){return wt(()=>{console.countReset(t)})},debug(...t){return wt(()=>{console.debug(...t)})},dir(t,e){return wt(()=>{console.dir(t,e)})},dirxml(...t){return wt(()=>{console.dirxml(...t)})},error(...t){return wt(()=>{console.error(...t)})},group(t){return t!=null&&t.collapsed?wt(()=>console.groupCollapsed(t==null?void 0:t.label)):wt(()=>console.group(t==null?void 0:t.label))},groupEnd:wt(()=>{console.groupEnd()}),info(...t){return wt(()=>{console.info(...t)})},log(...t){return wt(()=>{console.log(...t)})},table(t,e){return wt(()=>{console.table(t,e)})},time(t){return wt(()=>console.time(t))},timeEnd(t){return wt(()=>console.timeEnd(t))},timeLog(t,...e){return wt(()=>{console.timeLog(t,...e)})},trace(...t){return wt(()=>{console.trace(...t)})},warn(...t){return wt(()=>{console.warn(...t)})},unsafe:console},Eq="effect/Random",LE=Symbol.for(Eq),xq=na("effect/Random");var dT;dT=LE;class Cq{constructor(e){_(this,"seed");_(this,dT,LE);_(this,"PRNG");this.seed=e,this.PRNG=new R3(e)}get next(){return wt(()=>this.PRNG.number())}get nextBoolean(){return tr(this.next,e=>e>.5)}get nextInt(){return wt(()=>this.PRNG.integer(Number.MAX_SAFE_INTEGER))}nextRange(e,n){return tr(this.next,r=>(n-e)*r+e)}nextIntBetween(e,n){return wt(()=>this.PRNG.integer(n-e)+e)}shuffle(e){return Tq(e,n=>this.nextIntBetween(0,n))}}const Tq=(t,e)=>Ke(()=>J(wt(()=>Array.from(t)),bt(n=>{const r=[];for(let i=n.length;i>=2;i=i-1)r.push(i);return J(r,ap(i=>J(e(i),tr(s=>Oq(n,i-1,s)))),Nl(xA(n)))}))),Oq=(t,e,n)=>{const r=t[e];return t[e]=t[n],t[n]=r,t},Aq=t=>new Cq(ut(t)),FE=Symbol.for("effect/Tracer"),kq=t=>({[FE]:FE,...t}),nI=na("effect/Tracer"),rI=na("effect/ParentSpan"),BE=function(){const t="abcdef0123456789",e=t.length;return function(n){let r="";for(let i=0;i<n;i++)r+=t.charAt(Math.floor(Math.random()*e));return r}}();class Iq{constructor(e,n,r,i,s,a){_(this,"name");_(this,"parent");_(this,"context");_(this,"links");_(this,"startTime");_(this,"kind");_(this,"_tag","Span");_(this,"spanId");_(this,"traceId","native");_(this,"sampled",!0);_(this,"status");_(this,"attributes");_(this,"events",[]);this.name=e,this.parent=n,this.context=r,this.links=i,this.startTime=s,this.kind=a,this.status={_tag:"Started",startTime:s},this.attributes=new Map,this.traceId=n._tag==="Some"?n.value.traceId:BE(32),this.spanId=BE(16)}end(e,n){this.status={_tag:"Ended",endTime:e,exit:n,startTime:this.status.startTime}}attribute(e,n){this.attributes.set(e,n)}event(e,n,r){this.events.push([e,n,r??{}])}}const Pq=kq({span:(t,e,n,r,i,s)=>new Iq(t,e,n,r,i,s),context:t=>t()}),$q=J(A0(),vc(r_,UK()),vc(eI,wq),vc(xq,Aq(Math.random())),vc(sq,fq()),vc(nI,Pq)),oh=jt(Symbol.for("effect/DefaultServices/currentServices"),()=>Lk($q));function Rq(t){return new ns(t)}function Mq(){return Rq(new Map)}const jE=Symbol.for("effect/FiberRefs");var hT;hT=jE;class ns{constructor(e){_(this,"locals");_(this,hT,jE);this.locals=e}pipe(){return vt(this,arguments)}}const Nq=(t,e,n,r=!1)=>{const i=t;let s=e,a=n,c=r,l;for(;l===void 0;)if(nn(s)&&nn(a)){const d=er(s)[0],h=Us(s),g=er(a)[0],m=er(a)[1],y=Us(a);d.startTimeMillis<g.startTimeMillis?(a=y,c=!0):d.startTimeMillis>g.startTimeMillis?s=h:d.id<g.id?(a=y,c=!0):d.id>g.id?s=h:l=[m,c]}else l=[i.initial,!0];return l},Lq=L(3,(t,e,n)=>{const r=new Map(t.locals);return n.locals.forEach((i,s)=>{const a=i[0][1];if(!i[0][0][Tt](e)){if(!r.has(s)){if(Ot(a,s.initial))return;r.set(s,[[e,s.join(s.initial,a)]]);return}const c=r.get(s),[l,d]=Nq(s,c,i);if(d){const h=s.diff(l,a),g=c[0][1],m=s.join(g,s.patch(h)(g));if(!Ot(g,m)){let y;const w=c[0][0];w[Tt](e)?y=[[w,m],...c.slice(1)]:y=[[e,m],...c],r.set(s,y)}}}}),new ns(r)}),Fq=L(2,(t,e)=>{const n=new Map;return iI(t,n,e),new ns(n)}),iI=(t,e,n)=>{t.locals.forEach((r,i)=>{const s=r[0][1],a=i.patch(i.fork)(s);Ot(s,a)?e.set(i,r):e.set(i,[[n,a],...r])})},oI=L(2,(t,e)=>{const n=new Map(t.locals);return n.delete(e),new ns(n)}),Bq=L(2,(t,e)=>t.locals.has(e)?It(er(t.locals.get(e))[1]):ct()),el=L(2,(t,e)=>J(Bq(t,e),je(()=>e.initial))),sv=L(2,(t,{fiberId:e,fiberRef:n,value:r})=>{if(t.locals.size===0)return new ns(new Map([[n,[[e,r]]]]));const i=new Map(t.locals);return av(i,e,n,r),new ns(i)}),av=(t,e,n,r)=>{const i=t.get(n)??[];let s;if(nn(i)){const[a,c]=er(i);if(a[Tt](e)){if(Ot(c,r))return;s=[[e,r],...i.slice(1)]}else s=[[e,r],...i]}else s=[[e,r]];t.set(n,s)},jq=L(2,(t,{entries:e,forkAs:n})=>{if(t.locals.size===0)return new ns(new Map(e));const r=new Map(t.locals);return n!==void 0&&iI(t,r,n),e.forEach(([i,s])=>{s.length===1?av(r,s[0][0],i,s[0][1]):s.forEach(([a,c])=>{av(r,a,i,c)})}),new ns(r)}),Dq=el,zq=jq,Uq=Mq,Wq=q6,Kq=V6,qq=H6,Vq=G6,Hq=Mk,Gq=Nk,Jq=J6,Yq=Y6,Xq=J(Za,xO(t=>t.ordinal)),Qq=fD(Xq),Zq=t=>{switch(t){case"All":return Wq;case"Debug":return Gq;case"Error":return qq;case"Fatal":return Kq;case"Info":return Hq;case"Trace":return Jq;case"None":return Yq;case"Warning":return Vq}},sI=t=>t.replace(/[\s="]/g,"_"),t8=t=>e=>`${sI(e.label)}=${t-e.startTime}ms`,e8=xl,n8=J3;class r8 extends n8{}const aI="Empty",uI="Add",cI="Remove",lI="Update",fI="AndThen",i8={_tag:aI},o8=(t,e)=>{const n=new Map(t.locals);let r=i8;for(const[i,s]of e.locals.entries()){const a=er(s)[1],c=n.get(i);if(c!==void 0){const l=er(c)[1];Ot(l,a)||(r=Vm({_tag:lI,fiberRef:i,patch:i.diff(l,a)})(r))}else r=Vm({_tag:uI,fiberRef:i,value:a})(r);n.delete(i)}for(const[i]of n.entries())r=Vm({_tag:cI,fiberRef:i})(r);return r},Vm=L(2,(t,e)=>({_tag:fI,first:t,second:e})),s8=L(3,(t,e,n)=>{let r=n,i=si(t);for(;nn(i);){const s=er(i),a=Us(i);switch(s._tag){case aI:{i=a;break}case uI:{r=sv(r,{fiberId:e,fiberRef:s.fiberRef,value:s.value}),i=a;break}case cI:{r=oI(r,s.fiberRef),i=a;break}case lI:{const c=el(r,s.fiberRef);r=sv(r,{fiberId:e,fiberRef:s.fiberRef,value:s.fiberRef.patch(s.patch)(c)}),i=a;break}case fI:{i=Hd(s.first)(Hd(s.second)(a));break}}}return r}),dI="effect/MetricLabel",uv=Symbol.for(dI);var pT;class a8{constructor(e,n){_(this,"key");_(this,"value");_(this,pT,uv);_(this,"_hash");this.key=e,this.value=n,this._hash=Re(dI+this.key+this.value)}[(pT=uv,kt)](){return this._hash}[Tt](e){return c8(e)&&this.key===e.key&&this.value===e.value}pipe(){return vt(this,arguments)}}const u8=(t,e)=>new a8(t,e),c8=t=>xt(t,uv),l8="Sequential",f8="Parallel",d8="ParallelN",hI={_tag:l8},h8={_tag:f8},p8=t=>({_tag:d8,parallelism:t}),cv=hI,lv=h8,fv=p8,g8=o8,m8=s8,pp="effect/FiberStatus",Gs=Symbol.for(pp),sh="Done",DE="Running",zE="Suspended",y8=Re(`${pp}-${sh}`);var gT;class v8{constructor(){_(this,gT,Gs);_(this,"_tag",sh)}[(gT=Gs,kt)](){return y8}[Tt](e){return i_(e)&&e._tag===sh}}var mT;class _8{constructor(e){_(this,"runtimeFlags");_(this,mT,Gs);_(this,"_tag",DE);this.runtimeFlags=e}[(mT=Gs,kt)](){return J(ut(pp),Bt(ut(this._tag)),Bt(ut(this.runtimeFlags)),Ce(this))}[Tt](e){return i_(e)&&e._tag===DE&&this.runtimeFlags===e.runtimeFlags}}var yT;class b8{constructor(e,n){_(this,"runtimeFlags");_(this,"blockingOn");_(this,yT,Gs);_(this,"_tag",zE);this.runtimeFlags=e,this.blockingOn=n}[(yT=Gs,kt)](){return J(ut(pp),Bt(ut(this._tag)),Bt(ut(this.runtimeFlags)),Bt(ut(this.blockingOn)),Ce(this))}[Tt](e){return i_(e)&&e._tag===zE&&this.runtimeFlags===e.runtimeFlags&&Ot(this.blockingOn,e.blockingOn)}}const S8=new v8,w8=t=>new _8(t),E8=(t,e)=>new b8(t,e),i_=t=>xt(t,Gs),x8=t=>t._tag===sh,C8=S8,pI=w8,T8=E8,O8=x8,A8=Symbol.for("effect/Micro"),ah=Symbol.for("effect/Micro/MicroExit"),UE=Symbol.for("effect/Micro/MicroCause"),k8={_E:Le};var vT;class gI extends globalThis.Error{constructor(n,r,i){const s=`MicroCause.${n}`;let a,c,l;if(r instanceof globalThis.Error){a=`(${s}) ${r.name}`,c=r.message;const d=c.split(`
`).length;l=r.stack?`(${s}) ${r.stack.split(`
`).slice(0,d+3).join(`
`)}`:`${a}: ${c}`}else a=s,c=Ya(r,0),l=`${a}: ${c}`;i.length>0&&(l+=`
    ${i.join(`
    `)}`);super(c);_(this,"_tag");_(this,"traces");_(this,vT);this._tag=n,this.traces=i,this[UE]=k8,this.name=a,this.stack=l}pipe(){return vt(this,arguments)}toString(){return this.stack}[(vT=UE,_e)](){return this.stack}}class I8 extends gI{constructor(n,r=[]){super("Die",n,r);_(this,"defect");this.defect=n}}const P8=(t,e=[])=>new I8(t,e);class $8 extends gI{constructor(e=[]){super("Interrupt","interrupted",e)}}const R8=(t=[])=>new $8(t),M8=t=>t._tag==="Interrupt",WE=Symbol.for("effect/Micro/MicroFiber"),N8={_A:Le,_E:Le};var _T;_T=WE;class L8{constructor(e,n=!0){_(this,"context");_(this,"interruptible");_(this,_T);_(this,"_stack",[]);_(this,"_observers",[]);_(this,"_exit");_(this,"_children");_(this,"currentOpCount",0);_(this,"_interrupted",!1);_(this,"_yielded");this.context=e,this.interruptible=n,this[WE]=N8}getRef(e){return oU(this.context,e)}addObserver(e){return this._exit?(e(this._exit),y3):(this._observers.push(e),()=>{const n=this._observers.indexOf(e);n>=0&&this._observers.splice(n,1)})}unsafeInterrupt(){this._exit||(this._interrupted=!0,this.interruptible&&this.evaluate(c_))}unsafePoll(){return this._exit}evaluate(e){if(this._exit)return;if(this._yielded!==void 0){const i=this._yielded;this._yielded=void 0,i()}const n=this.runLoop(e);if(n===Xf)return;const r=KE.interruptChildren&&KE.interruptChildren(this);if(r!==void 0)return this.evaluate(ch(r,()=>n));this._exit=n;for(let i=0;i<this._observers.length;i++)this._observers[i](n);this._observers.length=0}runLoop(e){let n=!1,r=e;this.currentOpCount=0;try{for(;;){if(this.currentOpCount++,!n&&this.getRef(l_).shouldYield(this)){n=!0;const i=r;r=ch(z8,()=>i)}if(r=r[dv](this),r===Xf){const i=this._yielded;return ah in i?(this._yielded=void 0,i):Xf}}}catch(i){return xt(r,dv)?hv(i):hv(`MicroFiber.runLoop: Not a valid effect: ${String(r)}`)}}getCont(e){for(;;){const n=this._stack.pop();if(!n)return;const r=n[uh]&&n[uh](this);if(r)return{[e]:r};if(n[e])return n}}yieldWith(e){return this._yielded=e,Xf}children(){return this._children??(this._children=new Set)}}const KE=jt("effect/Micro/fiberMiddleware",()=>({interruptChildren:void 0})),mI=Symbol.for("effect/Micro/identifier"),qe=Symbol.for("effect/Micro/args"),dv=Symbol.for("effect/Micro/evaluate"),gu=Symbol.for("effect/Micro/successCont"),Va=Symbol.for("effect/Micro/failureCont"),uh=Symbol.for("effect/Micro/ensureCont"),Xf=Symbol.for("effect/Micro/Yield"),F8={_A:Le,_E:Le,_R:Le},B8={...e8,_op:"Micro",[A8]:F8,pipe(){return vt(this,arguments)},[Symbol.iterator](){return new sO(new Sl(this))},toJSON(){return{_id:"Micro",op:this[mI],...qe in this?{args:this[qe]}:void 0}},toString(){return en(this)},[_e](){return en(this)}};function j8(t){return hv("Micro.evaluate: Not implemented")}const gp=t=>({...B8,[mI]:t.op,[dv]:t.eval??j8,[gu]:t.contA,[Va]:t.contE,[uh]:t.ensure}),o_=t=>{const e=gp(t);return function(){const n=Object.create(e);return n[qe]=t.single===!1?arguments:arguments[0],n}},yI=t=>{const e={...gp(t),[ah]:ah,_tag:t.op,get[t.prop](){return this[qe]},toJSON(){return{_id:"MicroExit",_tag:t.op,[t.prop]:this[qe]}},[Tt](n){return K8(n)&&n._tag===t.op&&Ot(this[qe],n[qe])},[kt](){return Ce(this,Bt(Re(t.op))(ut(this[qe])))}};return function(n){const r=Object.create(e);return r[qe]=n,r[gu]=void 0,r[Va]=void 0,r[uh]=void 0,r}},s_=yI({op:"Success",prop:"value",eval(t){const e=t.getCont(gu);return e?e[gu](this[qe],t):t.yieldWith(this)}}),vI=yI({op:"Failure",prop:"cause",eval(t){let e=t.getCont(Va);for(;M8(this[qe])&&e&&t.interruptible;)e=t.getCont(Va);return e?e[Va](this[qe],t):t.yieldWith(this)}}),D8=o_({op:"Yield",eval(t){let e=!1;return t.getRef(l_).scheduleTask(()=>{e||t.evaluate(q8)},this[qe]??0),t.yieldWith(()=>{e=!0})}}),z8=D8(0),U8=s_(void 0),a_=o_({op:"WithMicroFiber",eval(t){return this[qe](t)}}),ch=L(2,(t,e)=>{const n=Object.create(W8);return n[qe]=t,n[gu]=e,n}),W8=gp({op:"OnSuccess",eval(t){return t._stack.push(this),this[qe]}}),K8=t=>xt(t,ah),_I=s_,u_=vI,c_=u_(R8()),hv=t=>u_(P8(t)),q8=_I(void 0),V8="setImmediate"in globalThis?globalThis.setImmediate:t=>setTimeout(t,0);class bI{constructor(){_(this,"tasks",[]);_(this,"running",!1);_(this,"afterScheduled",()=>{this.running=!1,this.runTasks()})}scheduleTask(e,n){this.tasks.push(e),this.running||(this.running=!0,V8(this.afterScheduled))}runTasks(){const e=this.tasks;this.tasks=[];for(let n=0,r=e.length;n<r;n++)e[n]()}shouldYield(e){return e.currentOpCount>=e.getRef(J8)}flush(){for(;this.tasks.length>0;)this.runTasks()}}const H8=L(2,(t,e)=>a_(n=>{const r=n.context;return n.context=e(r),Q8(t,()=>(n.context=r,U8))})),G8=L(2,(t,e)=>H8(t,_A(e)));class J8 extends bA()("effect/Micro/currentMaxOpsBeforeYield",{defaultValue:()=>2048}){}class l_ extends bA()("effect/Micro/currentScheduler",{defaultValue:()=>new bI}){}const Y8=L(2,(t,e)=>{const n=Object.create(X8);return n[qe]=t,n[gu]=e.onSuccess,n[Va]=e.onFailure,n}),X8=gp({op:"OnSuccessAndFailure",eval(t){return t._stack.push(this),this[qe]}}),Q8=L(2,(t,e)=>t7(n=>Y8(n(t),{onFailure:r=>ch(e(u_(r)),()=>vI(r)),onSuccess:r=>ch(e(_I(r)),()=>s_(r))}))),SI=o_({op:"SetInterruptible",ensure(t){if(t.interruptible=this[qe],t._interrupted&&t.interruptible)return()=>c_}}),Z8=t=>a_(e=>e.interruptible?t:(e.interruptible=!0,e._stack.push(SI(!1)),e._interrupted?c_:t)),t7=t=>a_(e=>e.interruptible?(e.interruptible=!1,e._stack.push(SI(!0)),t(Z8)):t(Le)),e7=(t,e)=>{const n=new L8(l_.context(new bI));return n.evaluate(t),n};class wI{constructor(){_(this,"buckets",[])}scheduleTask(e,n){const r=this.buckets.length;let i,s=0;for(;s<r&&this.buckets[s][0]<=n;s++)i=this.buckets[s];i&&i[0]===n?i[1].push(e):s===r?this.buckets.push([n,[e]]):this.buckets.splice(s,0,[n,[e]])}}class n7{constructor(e){_(this,"maxNextTickBeforeTimer");_(this,"running",!1);_(this,"tasks",new wI);this.maxNextTickBeforeTimer=e}starveInternal(e){const n=this.tasks.buckets;this.tasks.buckets=[];for(const[r,i]of n)for(let s=0;s<i.length;s++)i[s]();this.tasks.buckets.length===0?this.running=!1:this.starve(e)}starve(e=0){e>=this.maxNextTickBeforeTimer?setTimeout(()=>this.starveInternal(0),0):Promise.resolve(void 0).then(()=>this.starveInternal(e+1))}shouldYield(e){return e.currentOpCount>e.getFiberRef(Fk)?e.getFiberRef(dp):!1}scheduleTask(e,n){this.tasks.scheduleTask(e,n),this.running||(this.running=!0,this.starve())}}const EI=jt(Symbol.for("effect/Scheduler/defaultScheduler"),()=>new n7(2048));class xI{constructor(){_(this,"tasks",new wI);_(this,"deferred",!1)}scheduleTask(e,n){this.deferred?EI.scheduleTask(e,n):this.tasks.scheduleTask(e,n)}shouldYield(e){return e.currentOpCount>e.getFiberRef(Fk)?e.getFiberRef(dp):!1}flush(){for(;this.tasks.buckets.length>0;){const e=this.tasks.buckets;this.tasks.buckets=[];for(const[n,r]of e)for(let i=0;i<r.length;i++)r[i]()}this.deferred=!0}}const CI=jt(Symbol.for("effect/FiberRef/currentScheduler"),()=>Tr(EI)),TI=jt(Symbol.for("effect/FiberRef/currentRequestMap"),()=>Tr(new Map)),qE=(t,e,n,r)=>{switch(t){case void 0:return e();case"unbounded":return n();case"inherit":return Q0(uK,i=>i==="unbounded"?n():i>1?r(i):e());default:return t>1?r(t):e()}},f_="InterruptSignal",d_="Stateful",h_="Resume",p_="YieldNow",Hm=t=>({_tag:f_,cause:t}),Od=t=>({_tag:d_,onFiber:t}),ka=t=>({_tag:h_,effect:t}),r7=()=>({_tag:p_}),i7="effect/FiberScope",lh=Symbol.for(i7);var bT;bT=lh;class o7{constructor(){_(this,bT,lh);_(this,"fiberId",au);_(this,"roots",new Set)}add(e,n){this.roots.add(n),n.addObserver(()=>{this.roots.delete(n)})}}var ST;ST=lh;class s7{constructor(e,n){_(this,"fiberId");_(this,"parent");_(this,ST,lh);this.fiberId=e,this.parent=n}add(e,n){this.parent.tell(Od(r=>{r.addChild(n),n.addObserver(()=>{r.removeChild(n)})}))}}const a7=t=>new s7(t.id(),t),g_=jt(Symbol.for("effect/FiberScope/Global"),()=>new o7),u7="effect/Fiber",c7=Symbol.for(u7),l7={_E:t=>t,_A:t=>t},f7="effect/Fiber",d7=Symbol.for(f7),OI=t=>$k(Ok(t.await),t.inheritAll);({...Tl});const Es="effect/FiberCurrent",h7="effect/Logger",p7=Symbol.for(h7),g7={_Message:t=>t,_Output:t=>t},m_=t=>({[p7]:g7,log:t,pipe(){return vt(this,arguments)}}),m7=/^[^\s"=]*$/,y7=(t,e)=>({annotations:n,cause:r,date:i,fiberId:s,logLevel:a,message:c,spans:l})=>{const d=w=>w.match(m7)?w:t(w),h=(w,x)=>`${sI(w)}=${d(x)}`,g=(w,x)=>" "+h(w,x);let m=h("timestamp",i.toISOString());m+=g("level",a.label),m+=g("fiber",VA(s));const y=xD(c);for(let w=0;w<y.length;w++)m+=g("message",Ya(y[w],e));c6(r)||(m+=g("cause",Ru(r,{renderErrorCause:!0})));for(const w of l)m+=" "+t8(i.getTime())(w);for(const[w,x]of n)m+=g(w,Ya(x,e));return m},v7=t=>`"${t.replace(/\\([\s\S])|(")/g,"\\$1$2")}"`,_7=m_(y7(v7)),b7=typeof di=="object"&&di!==null&&typeof di.stdout=="object"&&di.stdout!==null;b7&&di.stdout.isTTY;const AI="effect/MetricBoundaries",pv=Symbol.for(AI);var wT;class S7{constructor(e){_(this,"values");_(this,wT,pv);_(this,"_hash");this.values=e,this._hash=J(Re(AI),Bt(wl(this.values)))}[(wT=pv,kt)](){return this._hash}[Tt](e){return w7(e)&&Ot(this.values,e.values)}pipe(){return vt(this,arguments)}}const w7=t=>xt(t,pv),E7=t=>{const e=J(t,TO(_r(Number.POSITIVE_INFINITY)),UD);return new S7(e)},x7=t=>J(ED(t.count-1,e=>t.start*Math.pow(t.factor,e)),Gh,E7),C7="effect/MetricKeyType",kI=Symbol.for(C7),II="effect/MetricKeyType/Counter",gv=Symbol.for(II),T7="effect/MetricKeyType/Frequency",O7=Symbol.for(T7),A7="effect/MetricKeyType/Gauge",k7=Symbol.for(A7),PI="effect/MetricKeyType/Histogram",mv=Symbol.for(PI),I7="effect/MetricKeyType/Summary",P7=Symbol.for(I7),$I={_In:t=>t,_Out:t=>t};var ET,xT;class $7{constructor(e,n){_(this,"incremental");_(this,"bigint");_(this,xT,$I);_(this,ET,gv);_(this,"_hash");this.incremental=e,this.bigint=n,this._hash=Re(II)}[(xT=kI,ET=gv,kt)](){return this._hash}[Tt](e){return RI(e)}pipe(){return vt(this,arguments)}}var CT,TT;class R7{constructor(e){_(this,"boundaries");_(this,TT,$I);_(this,CT,mv);_(this,"_hash");this.boundaries=e,this._hash=J(Re(PI),Bt(ut(this.boundaries)))}[(TT=kI,CT=mv,kt)](){return this._hash}[Tt](e){return MI(e)&&Ot(this.boundaries,e.boundaries)}pipe(){return vt(this,arguments)}}const M7=t=>new $7((t==null?void 0:t.incremental)??!1,(t==null?void 0:t.bigint)??!1),N7=t=>new R7(t),RI=t=>xt(t,gv),L7=t=>xt(t,O7),F7=t=>xt(t,k7),MI=t=>xt(t,mv),B7=t=>xt(t,P7),j7="effect/MetricKey",NI=Symbol.for(j7),D7={_Type:t=>t},z7=b0(Ot);var OT;class y_{constructor(e,n,r,i=[]){_(this,"name");_(this,"keyType");_(this,"description");_(this,"tags");_(this,OT,D7);_(this,"_hash");this.name=e,this.keyType=n,this.description=r,this.tags=i,this._hash=J(Re(this.name+this.description),Bt(ut(this.keyType)),Bt(wl(this.tags)))}[(OT=NI,kt)](){return this._hash}[Tt](e){return U7(e)&&this.name===e.name&&Ot(this.keyType,e.keyType)&&Ot(this.description,e.description)&&z7(this.tags,e.tags)}pipe(){return vt(this,arguments)}}const U7=t=>xt(t,NI),W7=(t,e)=>new y_(t,M7(e),cs(e==null?void 0:e.description)),K7=(t,e,n)=>new y_(t,N7(e),cs(n)),q7=L(2,(t,e)=>e.length===0?t:new y_(t.name,t.keyType,t.description,Sd(t.tags,e))),V7="effect/MetricState",jl=Symbol.for(V7),LI="effect/MetricState/Counter",yv=Symbol.for(LI),FI="effect/MetricState/Frequency",vv=Symbol.for(FI),BI="effect/MetricState/Gauge",_v=Symbol.for(BI),jI="effect/MetricState/Histogram",bv=Symbol.for(jI),DI="effect/MetricState/Summary",Sv=Symbol.for(DI),Dl={_A:t=>t};var AT,kT;class H7{constructor(e){_(this,"count");_(this,kT,Dl);_(this,AT,yv);this.count=e}[(kT=jl,AT=yv,kt)](){return J(ut(LI),Bt(ut(this.count)),Ce(this))}[Tt](e){return i9(e)&&this.count===e.count}pipe(){return vt(this,arguments)}}const G7=b0(Ot);var IT,PT;class J7{constructor(e){_(this,"occurrences");_(this,PT,Dl);_(this,IT,vv);_(this,"_hash");this.occurrences=e}[(PT=jl,IT=vv,kt)](){return J(Re(FI),Bt(wl(Fe(this.occurrences.entries()))),Ce(this))}[Tt](e){return o9(e)&&G7(Fe(this.occurrences.entries()),Fe(e.occurrences.entries()))}pipe(){return vt(this,arguments)}}var $T,RT;class Y7{constructor(e){_(this,"value");_(this,RT,Dl);_(this,$T,_v);this.value=e}[(RT=jl,$T=_v,kt)](){return J(ut(BI),Bt(ut(this.value)),Ce(this))}[Tt](e){return s9(e)&&this.value===e.value}pipe(){return vt(this,arguments)}}var MT,NT;class X7{constructor(e,n,r,i,s){_(this,"buckets");_(this,"count");_(this,"min");_(this,"max");_(this,"sum");_(this,NT,Dl);_(this,MT,bv);this.buckets=e,this.count=n,this.min=r,this.max=i,this.sum=s}[(NT=jl,MT=bv,kt)](){return J(ut(jI),Bt(ut(this.buckets)),Bt(ut(this.count)),Bt(ut(this.min)),Bt(ut(this.max)),Bt(ut(this.sum)),Ce(this))}[Tt](e){return a9(e)&&Ot(this.buckets,e.buckets)&&this.count===e.count&&this.min===e.min&&this.max===e.max&&this.sum===e.sum}pipe(){return vt(this,arguments)}}var LT,FT;class Q7{constructor(e,n,r,i,s,a){_(this,"error");_(this,"quantiles");_(this,"count");_(this,"min");_(this,"max");_(this,"sum");_(this,FT,Dl);_(this,LT,Sv);this.error=e,this.quantiles=n,this.count=r,this.min=i,this.max=s,this.sum=a}[(FT=jl,LT=Sv,kt)](){return J(ut(DI),Bt(ut(this.error)),Bt(ut(this.quantiles)),Bt(ut(this.count)),Bt(ut(this.min)),Bt(ut(this.max)),Bt(ut(this.sum)),Ce(this))}[Tt](e){return u9(e)&&this.error===e.error&&Ot(this.quantiles,e.quantiles)&&this.count===e.count&&this.min===e.min&&this.max===e.max&&this.sum===e.sum}pipe(){return vt(this,arguments)}}const Z7=t=>new H7(t),t9=t=>new J7(t),e9=t=>new Y7(t),n9=t=>new X7(t.buckets,t.count,t.min,t.max,t.sum),r9=t=>new Q7(t.error,t.quantiles,t.count,t.min,t.max,t.sum),i9=t=>xt(t,yv),o9=t=>xt(t,vv),s9=t=>xt(t,_v),a9=t=>xt(t,bv),u9=t=>xt(t,Sv),c9="effect/MetricHook",l9=Symbol.for(c9),f9={_In:t=>t,_Out:t=>t},zl=t=>({[l9]:f9,pipe(){return vt(this,arguments)},...t}),VE=BigInt(0),d9=t=>{let e=t.keyType.bigint?VE:0;const n=t.keyType.incremental?t.keyType.bigint?i=>i>=VE:i=>i>=0:i=>!0,r=i=>{n(i)&&(e=e+i)};return zl({get:()=>Z7(e),update:r,modify:r})},h9=t=>{const e=new Map;for(const r of t.keyType.preregisteredWords)e.set(r,0);const n=r=>{const i=e.get(r)??0;e.set(r,i+1)};return zl({get:()=>t9(e),update:n,modify:n})},p9=(t,e)=>{let n=e;return zl({get:()=>e9(n),update:r=>{n=r},modify:r=>{n=n+r}})},g9=t=>{const e=t.keyType.boundaries.values,n=e.length,r=new Uint32Array(n+1),i=new Float32Array(n);let s=0,a=0,c=Number.MAX_VALUE,l=Number.MIN_VALUE;J(e,Vc(Za),za((g,m)=>{i[m]=g}));const d=g=>{let m=0,y=n;for(;m!==y;){const w=Math.floor(m+(y-m)/2),x=i[w];g<=x?y=w:m=w,y===m+1&&(g<=i[m]?y=m:m=y)}r[m]=r[m]+1,s=s+1,a=a+g,g<c&&(c=g),g>l&&(l=g)},h=()=>{const g=Wh(n);let m=0;for(let y=0;y<n;y++){const w=i[y],x=r[y];m=m+x,g[y]=[w,m]}return g};return zl({get:()=>n9({buckets:h(),count:s,min:c,max:l,sum:a}),update:d,modify:d})},m9=t=>{const{error:e,maxAge:n,maxSize:r,quantiles:i}=t.keyType,s=J(i,Vc(Za)),a=Wh(r);let c=0,l=0,d=0,h=Number.MAX_VALUE,g=Number.MIN_VALUE;const m=w=>{const x=[];let C=0;for(;C!==r-1;){const T=a[C];if(T!=null){const[R,M]=T,P=Uy(w-R);MU(P,AA)&&P<=n&&x.push(M)}C=C+1}return y9(e,s,Vc(x,Za))},y=(w,x)=>{if(r>0){c=c+1;const C=c%r;a[C]=[x,w]}l=l+1,d=d+w,w<h&&(h=w),w>g&&(g=w)};return zl({get:()=>r9({error:e,quantiles:m(Date.now()),count:l,min:h,max:g,sum:d}),update:([w,x])=>y(w,x),modify:([w,x])=>y(w,x)})},y9=(t,e,n)=>{const r=n.length;if(!nn(e))return Qa();const i=e[0],s=e.slice(1),a=HE(t,r,ct(),0,i,n),c=si(a);return s.forEach(l=>{c.push(HE(t,r,a.value,a.consumed,l,a.rest))}),za(c,l=>[l.quantile,l.value])},HE=(t,e,n,r,i,s)=>{let a=t,c=e,l=n,d=r,h=i,g=s,m=t,y=e,w=n,x=r,C=i,T=s;for(;;){if(!nn(g))return{quantile:h,value:ct(),consumed:d,rest:[]};if(h===1)return{quantile:h,value:It(kO(g)),consumed:d+g.length,rest:[]};const R=MD(g,k=>k<=g[0]),M=h*c,P=a/2*M,j=d+R[0].length,B=Math.abs(j-M);if(j<M-P){m=a,y=c,w=jc(g),x=j,C=h,T=R[1],a=m,c=y,l=w,d=x,h=C,g=T;continue}if(j>M+P)return{quantile:h,value:l,consumed:d,rest:g};switch(l._tag){case"None":{m=a,y=c,w=jc(g),x=j,C=h,T=R[1],a=m,c=y,l=w,d=x,h=C,g=T;continue}case"Some":{const k=Math.abs(M-l.value);if(B<k){m=a,y=c,w=jc(g),x=j,C=h,T=R[1],a=m,c=y,l=w,d=x,h=C,g=T;continue}return{quantile:h,value:It(l.value),consumed:d,rest:g}}}}throw new Error("BUG: MetricHook.resolveQuantiles - please report an issue at https://github.com/Effect-TS/effect/issues")},v9="effect/MetricPair",_9=Symbol.for(v9),b9={_Type:t=>t},S9=(t,e)=>({[_9]:b9,metricKey:t,metricState:e,pipe(){return vt(this,arguments)}}),w9="effect/MetricRegistry",GE=Symbol.for(w9);var BT;BT=GE;class E9{constructor(){_(this,BT,GE);_(this,"map",PK())}snapshot(){const e=[];for(const[n,r]of this.map)e.push(S9(n,r.get()));return e}get(e){const n=J(this.map,Ts(e),ai);if(n==null){if(RI(e.keyType))return this.getCounter(e);if(F7(e.keyType))return this.getGauge(e);if(L7(e.keyType))return this.getFrequency(e);if(MI(e.keyType))return this.getHistogram(e);if(B7(e.keyType))return this.getSummary(e);throw new Error("BUG: MetricRegistry.get - unknown MetricKeyType - please report an issue at https://github.com/Effect-TS/effect/issues")}else return n}getCounter(e){let n=J(this.map,Ts(e),ai);if(n==null){const r=d9(e);J(this.map,_c(e))||J(this.map,bc(e,r)),n=r}return n}getFrequency(e){let n=J(this.map,Ts(e),ai);if(n==null){const r=h9(e);J(this.map,_c(e))||J(this.map,bc(e,r)),n=r}return n}getGauge(e){let n=J(this.map,Ts(e),ai);if(n==null){const r=p9(e,e.keyType.bigint?BigInt(0):0);J(this.map,_c(e))||J(this.map,bc(e,r)),n=r}return n}getHistogram(e){let n=J(this.map,Ts(e),ai);if(n==null){const r=g9(e);J(this.map,_c(e))||J(this.map,bc(e,r)),n=r}return n}getSummary(e){let n=J(this.map,Ts(e),ai);if(n==null){const r=m9(e);J(this.map,_c(e))||J(this.map,bc(e,r)),n=r}return n}}const x9=()=>new E9,C9="effect/Metric",T9=Symbol.for(C9),O9={_Type:t=>t,_In:t=>t,_Out:t=>t},JE=jt(Symbol.for("effect/Metric/globalMetricRegistry"),()=>x9()),zI=function(t,e,n,r){const i=Object.assign(s=>z6(s,a=>P9(i,a)),{[T9]:O9,keyType:t,unsafeUpdate:e,unsafeValue:n,unsafeModify:r,register(){return this.unsafeValue([]),this},pipe(){return vt(this,arguments)}});return i},mp=(t,e)=>UI(W7(t,e)),UI=t=>{let e;const n=new WeakMap,r=i=>{if(i.length===0)return e!==void 0||(e=JE.get(t)),e;let s=n.get(i);return s!==void 0||(s=JE.get(q7(t,i)),n.set(i,s)),s};return zI(t.keyType,(i,s)=>r(s).update(i),i=>r(i).get(),(i,s)=>r(s).modify(i))},A9=(t,e,n)=>UI(K7(t,e,n)),k9=L(3,(t,e,n)=>I9(t,[u8(e,n)])),I9=L(2,(t,e)=>zI(t.keyType,(n,r)=>t.unsafeUpdate(n,Sd(e,r)),n=>t.unsafeValue(Sd(e,n)),(n,r)=>t.unsafeModify(n,Sd(e,r)))),P9=L(2,(t,e)=>Q0(nv,n=>wt(()=>t.unsafeUpdate(e,n))));({...Cl});const $9=L(2,(t,e)=>Q0(TI,n=>wt(()=>{if(n.has(t)){const r=n.get(t);r.state.completed||(r.state.completed=!0,Uk(r.result,e))}}))),R9="effect/Supervisor",yp=Symbol.for(R9),v_={_T:t=>t};var jT;jT=yp;const iS=class iS{constructor(e,n){_(this,"underlying");_(this,"value0");_(this,jT,v_);this.underlying=e,this.value0=n}get value(){return this.value0}onStart(e,n,r,i){this.underlying.onStart(e,n,r,i)}onEnd(e,n){this.underlying.onEnd(e,n)}onEffect(e,n){this.underlying.onEffect(e,n)}onSuspend(e){this.underlying.onSuspend(e)}onResume(e){this.underlying.onResume(e)}map(e){return new iS(this,J(this.value,tr(e)))}zip(e){return new dh(this,e)}};let fh=iS;var DT;DT=yp;const oS=class oS{constructor(e,n){_(this,"left");_(this,"right");_(this,"_tag","Zip");_(this,DT,v_);this.left=e,this.right=n}get value(){return Pk(this.left.value,this.right.value)}onStart(e,n,r,i){this.left.onStart(e,n,r,i),this.right.onStart(e,n,r,i)}onEnd(e,n){this.left.onEnd(e,n),this.right.onEnd(e,n)}onEffect(e,n){this.left.onEffect(e,n),this.right.onEffect(e,n)}onSuspend(e){this.left.onSuspend(e),this.right.onSuspend(e)}onResume(e){this.left.onResume(e),this.right.onResume(e)}map(e){return new fh(this,J(this.value,tr(e)))}zip(e){return new oS(this,e)}};let dh=oS;const WI=t=>xt(t,yp)&&c0(t,"Zip");var zT;zT=yp;class M9{constructor(e){_(this,"effect");_(this,zT,v_);this.effect=e}get value(){return this.effect}onStart(e,n,r,i){}onEnd(e,n){}onEffect(e,n){}onSuspend(e){}onResume(e){}map(e){return new fh(this,J(this.value,tr(e)))}zip(e){return new dh(this,e)}onRun(e,n){return e()}}const N9=t=>new M9(t),vp=jt("effect/Supervisor/none",()=>N9(yi)),L9=ku,KI="Empty",qI="AddSupervisor",VI="RemoveSupervisor",HI="AndThen",zc={_tag:KI},Ad=(t,e)=>({_tag:HI,first:t,second:e}),F9=(t,e)=>B9(e,_r(t)),B9=(t,e)=>{let n=t,r=e;for(;ru(r);){const i=iu(r);switch(i._tag){case KI:{r=ks(r);break}case qI:{n=n.zip(i.supervisor),r=ks(r);break}case VI:{n=wv(n,i.supervisor),r=ks(r);break}case HI:{r=gi(i.first)(gi(i.second)(ks(r)));break}}}return n},wv=(t,e)=>Ot(t,e)?vp:WI(t)?wv(t.left,e).zip(wv(t.right,e)):t,hh=t=>Ot(t,vp)?Ks():WI(t)?J(hh(t.left),Jc(hh(t.right))):F0(t),j9=(t,e)=>{if(Ot(t,e))return zc;const n=hh(t),r=hh(e),i=J(r,aE(n),Xd(zc,(a,c)=>Ad(a,{_tag:qI,supervisor:c}))),s=J(n,aE(r),Xd(zc,(a,c)=>Ad(a,{_tag:VI,supervisor:c})));return Ad(i,s)},D9=L9({empty:zc,patch:F9,combine:Ad,diff:j9}),z9=mp("effect_fiber_started",{incremental:!0}),YE=mp("effect_fiber_active"),U9=mp("effect_fiber_successes",{incremental:!0}),W9=mp("effect_fiber_failures",{incremental:!0}),K9=k9(A9("effect_fiber_lifetimes",x7({start:.5,factor:2,count:35})),"time_unit","milliseconds"),Sc="Continue",q9="Done",XE="Yield",V9={_E:t=>t,_A:t=>t},Qf=t=>{throw new Error(`BUG: FiberRuntime - ${Ya(t)} - please report an issue at https://github.com/Effect-TS/effect/issues`)},uo=Symbol.for("effect/internal/fiberRuntime/YieldedOp"),co=jt("effect/internal/fiberRuntime/yieldedOpChannel",()=>({currentOp:null})),wc={[Wd]:(t,e,n)=>Un(()=>e.effect_instruction_i1(n)),OnStep:(t,e,n)=>Me(Me(n)),[Kd]:(t,e,n)=>Un(()=>e.effect_instruction_i2(n)),[p0]:(t,e,n)=>(t.patchRuntimeFlags(t.currentRuntimeFlags,e.patch),Ho(t.currentRuntimeFlags)&&t.isInterrupted()?fe(t.getInterruptedCause()):Me(n)),[qd]:(t,e,n)=>(Un(()=>e.effect_instruction_i2(n)),Un(()=>e.effect_instruction_i0())?(t.pushStack(e),Un(()=>e.effect_instruction_i1())):yi),[vd]:(t,e,n)=>{const r=Un(()=>e.effect_instruction_i0.next(n));return r.done?Me(r.value):(t.pushStack(e),N3(r.value))}},H9={[f_]:(t,e,n,r)=>(t.processNewInterruptSignal(r.cause),Ho(e)?fe(r.cause):n),[h_]:(t,e,n,r)=>{throw new Error("It is illegal to have multiple concurrent run loops in a single fiber")},[d_]:(t,e,n,r)=>(r.onFiber(t,pI(e)),n),[p_]:(t,e,n,r)=>bt(Y0(),()=>n)},G9=t=>ap(VW(t),e=>Bs(s6(e),([n,r])=>{const i=new Map,s=[];for(const c of r){s.push(Ls(c));for(const l of c)i.set(l.request,l)}const a=s.flat();return fp(uV(n.runAll(s),a,()=>a.forEach(c=>{c.listeners.interrupted=!0})),TI,i)},!1,!1)),J9=Bh();var UT,WT;class GI extends r8{constructor(n,r,i){super();_(this,WT,l7);_(this,UT,V9);_(this,"_fiberRefs");_(this,"_fiberId");_(this,"_queue",new Array);_(this,"_children",null);_(this,"_observers",new Array);_(this,"_running",!1);_(this,"_stack",[]);_(this,"_asyncInterruptor",null);_(this,"_asyncBlockingOn",null);_(this,"_exitValue",null);_(this,"_steps",[]);_(this,"_isYielding",!1);_(this,"currentRuntimeFlags");_(this,"currentOpCount",0);_(this,"currentSupervisor");_(this,"currentScheduler");_(this,"currentTracer");_(this,"currentSpan");_(this,"currentContext");_(this,"currentDefaultServices");_(this,"run",()=>{this.drainQueueOnCurrentThread()});if(this.currentRuntimeFlags=i,this._fiberId=n,this._fiberRefs=r,dE(i)){const s=this.getFiberRef(nv);z9.unsafeUpdate(1,s),YE.unsafeUpdate(1,s)}this.refreshRefCache()}commit(){return OI(this)}id(){return this._fiberId}resume(n){this.tell(ka(n))}get status(){return this.ask((n,r)=>r)}get runtimeFlags(){return this.ask((n,r)=>O8(r)?n.currentRuntimeFlags:r.runtimeFlags)}scope(){return a7(this)}get children(){return this.ask(n=>Array.from(n.getChildren()))}getChildren(){return this._children===null&&(this._children=new Set),this._children}getInterruptedCause(){return this.getFiberRef(Yf)}fiberRefs(){return this.ask(n=>n.getFiberRefs())}ask(n){return Ke(()=>{const r=wK(this._fiberId);return this.tell(Od((i,s)=>{Uk(r,wt(()=>n(i,s)))})),zk(r)})}tell(n){this._queue.push(n),this._running||(this._running=!0,this.drainQueueLaterOnExecutor())}get await(){return tl(n=>{const r=i=>n(ve(i));return this.tell(Od((i,s)=>{i._exitValue!==null?r(this._exitValue):i.addObserver(r)})),wt(()=>this.tell(Od((i,s)=>{i.removeObserver(r)})))},this.id())}get inheritAll(){return br((n,r)=>{const i=n.id(),s=n.getFiberRefs(),a=r.runtimeFlags,c=this.getFiberRefs(),l=Lq(s,i,c);n.setFiberRefs(l);const d=n.getFiberRef(nx),h=J(xd(a,d),pE(Iu),pE(Zy));return W6(h)})}get poll(){return wt(()=>cs(this._exitValue))}unsafePoll(){return this._exitValue}interruptAsFork(n){return wt(()=>this.tell(Hm(Jo(n))))}unsafeInterruptAsFork(n){this.tell(Hm(Jo(n)))}addObserver(n){this._exitValue!==null?n(this._exitValue):this._observers.push(n)}removeObserver(n){this._observers=this._observers.filter(r=>r!==n)}getFiberRefs(){return this.setFiberRef(nx,this.currentRuntimeFlags),this._fiberRefs}unsafeDeleteFiberRef(n){this._fiberRefs=oI(this._fiberRefs,n)}getFiberRef(n){return this._fiberRefs.locals.has(n)?this._fiberRefs.locals.get(n)[0][1]:n.initial}setFiberRef(n,r){this._fiberRefs=sv(this._fiberRefs,{fiberId:this._fiberId,fiberRef:n,value:r}),this.refreshRefCache()}refreshRefCache(){this.currentDefaultServices=this.getFiberRef(oh),this.currentTracer=this.currentDefaultServices.unsafeMap.get(nI.key),this.currentSupervisor=this.getFiberRef(aV),this.currentScheduler=this.getFiberRef(CI),this.currentContext=this.getFiberRef(Fl),this.currentSpan=this.currentContext.unsafeMap.get(rI.key)}setFiberRefs(n){this._fiberRefs=n,this.refreshRefCache()}addChild(n){this.getChildren().add(n)}removeChild(n){this.getChildren().delete(n)}transferChildren(n){const r=this._children;if(this._children=null,r!==null&&r.size>0)for(const i of r)i._exitValue===null&&n.add(this.currentRuntimeFlags,i)}drainQueueOnCurrentThread(){let n=!0;for(;n;){let r=Sc;const i=globalThis[Es];globalThis[Es]=this;try{for(;r===Sc;)r=this._queue.length===0?q9:this.evaluateMessageWhileSuspended(this._queue.splice(0,1)[0])}finally{this._running=!1,globalThis[Es]=i}this._queue.length>0&&!this._running?(this._running=!0,r===XE?(this.drainQueueLaterOnExecutor(),n=!1):n=!0):n=!1}}drainQueueLaterOnExecutor(){this.currentScheduler.scheduleTask(this.run,this.getFiberRef(dp))}drainQueueWhileRunning(n,r){let i=r;for(;this._queue.length>0;){const s=this._queue.splice(0,1)[0];i=H9[s._tag](this,n,i,s)}return i}isInterrupted(){return!f6(this.getFiberRef(Yf))}addInterruptedCause(n){const r=this.getFiberRef(Yf);this.setFiberRef(Yf,qr(r,n))}processNewInterruptSignal(n){this.addInterruptedCause(n),this.sendInterruptSignalToAllChildren()}sendInterruptSignalToAllChildren(){if(this._children===null||this._children.size===0)return!1;let n=!1;for(const r of this._children)r.tell(Hm(Jo(this.id()))),n=!0;return n}interruptAllChildren(){if(this.sendInterruptSignalToAllChildren()){const n=this._children.values();this._children=null;let r=!1;return J0({while:()=>!r,body:()=>{const s=n.next();return s.done?wt(()=>{r=!0}):Ll(s.value.await)},step:()=>{}})}return null}reportExitValue(n){if(dE(this.currentRuntimeFlags)){const r=this.getFiberRef(nv),i=this.id().startTimeMillis,s=Date.now();switch(K9.unsafeUpdate(s-i,r),YE.unsafeUpdate(-1,r),n._tag){case pi:{U9.unsafeUpdate(1,r);break}case hi:{W9.unsafeUpdate(1,r);break}}}if(n._tag==="Failure"){const r=this.getFiberRef(lK);!W0(n.cause)&&r._tag==="Some"&&this.log("Fiber terminated with an unhandled error",n.cause,r)}}setExitValue(n){this._exitValue=n,this.reportExitValue(n);for(let r=this._observers.length-1;r>=0;r--)this._observers[r](n);this._observers=[]}getLoggers(){return this.getFiberRef(tV)}log(n,r,i){const s=Rn(i)?i.value:this.getFiberRef(oK),a=this.getFiberRef(Y9);if(Qq(a,s))return;const c=this.getFiberRef(sK),l=this.getFiberRef(iK),d=this.getLoggers(),h=this.getFiberRefs();if(zA(d)>0){const g=yA(this.getFiberRef(oh),r_),m=new Date(g.unsafeCurrentTimeMillis());j3(h,()=>{for(const y of d)y.log({fiberId:this.id(),logLevel:s,message:n,cause:r,context:h,spans:c,annotations:l,date:m})})}}evaluateMessageWhileSuspended(n){switch(n._tag){case p_:return XE;case f_:return this.processNewInterruptSignal(n.cause),this._asyncInterruptor!==null&&(this._asyncInterruptor(fe(n.cause)),this._asyncInterruptor=null),Sc;case h_:return this._asyncInterruptor=null,this._asyncBlockingOn=null,this.evaluateEffect(n.effect),Sc;case d_:return n.onFiber(this,this._exitValue!==null?C8:T8(this.currentRuntimeFlags,this._asyncBlockingOn)),Sc;default:return Qf(n)}}evaluateEffect(n){this.currentSupervisor.onResume(this);try{let r=Ho(this.currentRuntimeFlags)&&this.isInterrupted()?fe(this.getInterruptedCause()):n;for(;r!==null;){const i=r,s=this.runLoop(i);if(s===uo){const a=co.currentOp;co.currentOp=null,a._op===_d?zW(this.currentRuntimeFlags)?(this.tell(r7()),this.tell(ka(Is)),r=null):r=Is:a._op===Bc&&(r=null)}else{this.currentRuntimeFlags=J(this.currentRuntimeFlags,UW(Zy));const a=this.interruptAllChildren();a!==null?r=bt(a,()=>s):(this._queue.length===0?this.setExitValue(s):this.tell(ka(s)),r=null)}}}finally{this.currentSupervisor.onSuspend(this)}}start(n){if(this._running)this.tell(ka(n));else{this._running=!0;const r=globalThis[Es];globalThis[Es]=this;try{this.evaluateEffect(n)}finally{this._running=!1,globalThis[Es]=r,this._queue.length>0&&this.drainQueueLaterOnExecutor()}}}startFork(n){this.tell(ka(n))}patchRuntimeFlags(n,r){const i=Cd(n,r);return globalThis[Es]=this,this.currentRuntimeFlags=i,i}initiateAsync(n,r){let i=!1;const s=a=>{i||(i=!0,this.tell(ka(a)))};Ho(n)&&(this._asyncInterruptor=s);try{r(s)}catch(a){s(mi(zi(a)))}}pushStack(n){this._stack.push(n),n._op==="OnStep"&&this._steps.push({refs:this.getFiberRefs(),flags:this.currentRuntimeFlags})}popStack(){const n=this._stack.pop();if(n)return n._op==="OnStep"&&this._steps.pop(),n}getNextSuccessCont(){let n=this.popStack();for(;n;){if(n._op!==Lm)return n;n=this.popStack()}}getNextFailCont(){let n=this.popStack();for(;n;){if(n._op!==Wd&&n._op!==qd&&n._op!==vd)return n;n=this.popStack()}}[(WT=c7,UT=d7,z3)](n){return wt(()=>vA(this.currentContext,n))}Left(n){return Zn(n.left)}None(n){return Zn(new jk)}Right(n){return Me(n.right)}Some(n){return Me(n.value)}Micro(n){return nh(r=>{let i=r;const s=e7(G8(n,this.currentContext));return s.addObserver(a=>{if(a._tag==="Success")return i(Me(a.value));switch(a.cause._tag){case"Interrupt":return i(fe(Jo(au)));case"Fail":return i(Zn(a.cause.error));case"Die":return i(_E(a.cause.defect))}}),nh(a=>{i=c=>{a(yi)},s.unsafeInterrupt()})})}[fO](n){const r=Un(()=>n.effect_instruction_i0()),i=this.getNextSuccessCont();return i!==void 0?(i._op in wc||Qf(i),wc[i._op](this,i,r)):(co.currentOp=Me(r),uo)}[pi](n){const r=n,i=this.getNextSuccessCont();return i!==void 0?(i._op in wc||Qf(i),wc[i._op](this,i,r.effect_instruction_i0)):(co.currentOp=r,uo)}[hi](n){const r=n.effect_instruction_i0,i=this.getNextFailCont();if(i!==void 0)switch(i._op){case Lm:case Kd:return Ho(this.currentRuntimeFlags)&&this.isInterrupted()?fe(gE(r)):Un(()=>i.effect_instruction_i1(r));case"OnStep":return Ho(this.currentRuntimeFlags)&&this.isInterrupted()?fe(gE(r)):Me(fe(r));case p0:return this.patchRuntimeFlags(this.currentRuntimeFlags,i.patch),Ho(this.currentRuntimeFlags)&&this.isInterrupted()?fe(qr(r,this.getInterruptedCause())):fe(r);default:Qf(i)}else return co.currentOp=fe(r),uo}[dO](n){return Un(()=>n.effect_instruction_i0(this,pI(this.currentRuntimeFlags)))}Blocked(n){const r=this.getFiberRefs(),i=this.currentRuntimeFlags;if(this._steps.length>0){const s=[],a=this._steps[this._steps.length-1];let c=this.popStack();for(;c&&c._op!=="OnStep";)s.push(c),c=this.popStack();this.setFiberRefs(a.refs),this.currentRuntimeFlags=a.flags;const l=g8(a.refs,r),d=xd(a.flags,i);return Me(bk(n.effect_instruction_i0,br(h=>{for(;s.length>0;)h.pushStack(s.pop());return h.setFiberRefs(m8(h.id(),h.getFiberRefs())(l)),h.currentRuntimeFlags=Cd(d)(h.currentRuntimeFlags),n.effect_instruction_i1})))}return cp(s=>bt(JI(R6(n.effect_instruction_i0)),()=>s(n.effect_instruction_i1)))}RunBlocked(n){return G9(n.effect_instruction_i0)}[El](n){const r=n.effect_instruction_i0,i=this.currentRuntimeFlags,s=Cd(i,r);if(Ho(s)&&this.isInterrupted())return fe(this.getInterruptedCause());if(this.patchRuntimeFlags(this.currentRuntimeFlags,r),n.effect_instruction_i1){const a=xd(s,i);return this.pushStack(new M6(a,n)),Un(()=>n.effect_instruction_i1(i))}else return Is}[Wd](n){return this.pushStack(n),n.effect_instruction_i0}OnStep(n){return this.pushStack(n),n.effect_instruction_i0}[Lm](n){return this.pushStack(n),n.effect_instruction_i0}[Kd](n){return this.pushStack(n),n.effect_instruction_i0}[Bc](n){return this._asyncBlockingOn=n.effect_instruction_i1,this.initiateAsync(this.currentRuntimeFlags,n.effect_instruction_i0),co.currentOp=n,uo}[_d](n){return this._isYielding=!1,co.currentOp=n,uo}[qd](n){const r=n.effect_instruction_i0,i=n.effect_instruction_i1;return r()?(this.pushStack(n),i()):Is}[vd](n){return wc[vd](this,n,void 0)}[Uh](n){return Un(()=>n.commit())}runLoop(n){let r=n;for(this.currentOpCount=0;;){if(this.currentRuntimeFlags&DW&&this.currentSupervisor.onEffect(this,r),this._queue.length>0&&(r=this.drainQueueWhileRunning(this.currentRuntimeFlags,r)),!this._isYielding){this.currentOpCount+=1;const i=this.currentScheduler.shouldYield(this);if(i!==!1){this._isYielding=!0,this.currentOpCount=0;const s=r;r=bt(Y0({priority:i}),()=>s)}}try{if(r=this.currentTracer.context(()=>J9!==r[hu]._V?bE(`Cannot execute an Effect versioned ${r[hu]._V} with a Runtime of version ${Bh()}`):this[r._op](r),this),r===uo){const i=co.currentOp;return i._op===_d||i._op===Bc?uo:(co.currentOp=null,i._op===pi||i._op===hi?i:fe(zi(i)))}}catch(i){r!==uo&&!xt(r,"_op")||!(r._op in this)?r=bE(`Not a valid effect: ${Ya(r)}`):gK(i)?r=fe(qr(zi(i),Jo(au))):r=_E(i)}}}}const Y9=jt("effect/FiberRef/currentMinimumLogLevel",()=>Tr(Zq("Info"))),X9=t=>m_(e=>{const n=Dq(e.context,oh);yA(n,eI).unsafe.log(t.log(e))}),Q9=jt(Symbol.for("effect/Logger/defaultLogger"),()=>X9(_7)),Z9=jt(Symbol.for("effect/Logger/tracerLogger"),()=>m_(({annotations:t,cause:e,context:n,fiberId:r,logLevel:i,message:s})=>{const a=kl(el(n,Fl),rI);if(a._tag==="None"||a.value._tag==="ExternalSpan")return;const c=vA(el(n,oh),r_),l={};for(const[d,h]of t)l[d]=h;l["effect.fiberId"]=T4(r),l["effect.logLevel"]=i.label,e!==null&&e._tag!=="Empty"&&(l["effect.cause"]=Ru(e,{renderErrorCause:!0})),a.value.event(Ya(Array.isArray(s)?s[0]:s),c.unsafeCurrentTimeNanos(),l)})),tV=jt(Symbol.for("effect/FiberRef/currentLoggers"),()=>eK(F0(Q9,Z9))),eV=L(t=>oO(t[0]),(t,e,n)=>br(r=>{const i=(n==null?void 0:n.batching)===!0||(n==null?void 0:n.batching)==="inherit"&&r.getFiberRef(cK);return n!=null&&n.discard?qE(n.concurrency,()=>Ia(cv,n==null?void 0:n.concurrentFinalizers)(s=>i?Bs(t,(a,c)=>s(e(a,c)),!0,!1,1):ap(t,(a,c)=>s(e(a,c)))),()=>Ia(lv,n==null?void 0:n.concurrentFinalizers)(s=>Bs(t,(a,c)=>s(e(a,c)),i,!1)),s=>Ia(fv(s),n==null?void 0:n.concurrentFinalizers)(a=>Bs(t,(c,l)=>a(e(c,l)),i,!1,s))):qE(n==null?void 0:n.concurrency,()=>Ia(cv,n==null?void 0:n.concurrentFinalizers)(s=>i?QE(t,1,(a,c)=>s(e(a,c)),!0):Xo(t,(a,c)=>s(e(a,c)))),()=>Ia(lv,n==null?void 0:n.concurrentFinalizers)(s=>nV(t,(a,c)=>s(e(a,c)),i)),s=>Ia(fv(s),n==null?void 0:n.concurrentFinalizers)(a=>QE(t,s,(c,l)=>a(e(c,l)),i)))})),nV=(t,e,n)=>Ke(()=>{const r=Fe(t),i=new Array(r.length);return lp(Bs(r,(a,c)=>bt(e(a,c),l=>wt(()=>i[c]=l)),n,!1),ve(i))}),Bs=(t,e,n,r,i)=>cp(s=>U6(a=>br(c=>{let l=Array.from(t).reverse(),d=l.length;if(d===0)return yi;let h=0,g=!1;const m=i?Math.min(l.length,i):l.length,y=new Set,w=new Array,x=()=>y.forEach(z=>{z.currentScheduler.scheduleTask(()=>{z.unsafeInterruptAsFork(c.id())},0)}),C=new Array,T=new Array,R=new Array,M=()=>{const z=w.filter(({exit:K})=>K._tag==="Failure").sort((K,b)=>K.index<b.index?-1:K.index===b.index?0:1).map(({exit:K})=>K);return z.length===0&&z.push(Is),z},P=(z,K=!1)=>{const b=Ik(a(z)),N=iV(b,c,c.currentRuntimeFlags,g_);return c.currentScheduler.scheduleTask(()=>{K&&N.unsafeInterruptAsFork(c.id()),N.resume(b)},0),N},j=()=>{r||(d-=l.length,l=[]),g=!0,x()},B=n?j6:xk,k=P(tl(z=>{const K=(N,D)=>{N._op==="Blocked"?R.push(N):(w.push({index:D,exit:N}),N._op==="Failure"&&!g&&j())},b=()=>{if(l.length>0){const N=l.pop();let D=h++;const X=()=>{const rt=l.pop();return D=h++,bt(Y0(),()=>bt(B(s(e(rt,D))),nt))},nt=rt=>l.length>0&&(K(rt,D),l.length>0)?X():ve(rt),mt=bt(B(s(e(N,D))),nt),pt=P(mt);C.push(pt),y.add(pt),g&&pt.currentScheduler.scheduleTask(()=>{pt.unsafeInterruptAsFork(c.id())},0),pt.addObserver(rt=>{let st;if(rt._op==="Failure"?st=rt:st=rt.effect_instruction_i0,T.push(pt),y.delete(pt),K(st,D),w.length===d)z(ve(je(CE(M(),{parallel:!0}),()=>Is)));else if(R.length+w.length===d){const Nt=M(),sn=R.map(oe=>oe.effect_instruction_i0).reduce(lk);z(ve(bk(sn,Bs([je(CE(Nt,{parallel:!0}),()=>Is),...R.map(oe=>oe.effect_instruction_i1)],oe=>oe,n,!0,i))))}else b()})}};for(let N=0;N<m;N++)b()}));return Ll(G0(Ok(s(OI(k))),Dk({onFailure:z=>{j();const K=R.length+1,b=Math.min(typeof i=="number"?i:R.length,R.length),N=Array.from(R);return tl(D=>{let X=0,nt=0;const mt=(rt,st)=>Nt=>{X++,X===K&&D(Me(fe(z))),N.length>0&&st&&pt()},pt=()=>{P(N.pop(),!0).addObserver(mt(nt,!0)),nt++};k.addObserver(mt(nt,!1)),nt++;for(let rt=0;rt<b;rt++)pt()})},onSuccess:()=>Xo(T,z=>z.inheritAll)})))}))),QE=(t,e,n,r)=>Ke(()=>{const i=Fe(t),s=new Array(i.length);return lp(Bs(i,(c,l)=>tr(n(c,l),d=>s[l]=d),r,!1,e),ve(s))}),JI=t=>oV(t,g_),rV=(t,e,n,r=null)=>{const i=YI(t,e,n,r);return i.resume(t),i},iV=(t,e,n,r=null)=>YI(t,e,n,r),YI=(t,e,n,r=null)=>{const i=HA(),s=e.getFiberRefs(),a=Fq(s,i),c=new GI(i,a,n),l=el(a,Fl),d=c.currentSupervisor;return d.onStart(l,t,It(e),c),c.addObserver(g=>d.onEnd(g,c)),(r!==null?r:J(e.getFiberRef(rv),je(()=>e.scope()))).add(n,c),c},oV=(t,e)=>br((n,r)=>ve(rV(t,n,r.runtimeFlags,e))),ZE=t=>Bl(e=>He(kl(e,Ul),{onNone:()=>t,onSome:n=>{switch(n.strategy._tag){case"Parallel":return t;case"Sequential":case"ParallelN":return bt(hp(n,lv),r=>__(t,r))}}})),tx=t=>e=>Bl(n=>He(kl(n,Ul),{onNone:()=>e,onSome:r=>r.strategy._tag==="ParallelN"&&r.strategy.parallelism===t?e:bt(hp(r,fv(t)),i=>__(e,i))})),Ia=(t,e)=>n=>Bl(r=>He(kl(r,Ul),{onNone:()=>n(Le),onSome:i=>{if(e===!0){const s=t._tag==="Parallel"?ZE:t._tag==="Sequential"?ex:tx(t.parallelism);switch(i.strategy._tag){case"Parallel":return s(n(ZE));case"Sequential":return s(n(ex));case"ParallelN":return s(n(tx(i.strategy.parallelism)))}}else return n(Le)}})),ex=t=>Bl(e=>He(kl(e,Ul),{onNone:()=>t,onSome:n=>{switch(n.strategy._tag){case"Sequential":return t;case"Parallel":case"ParallelN":return bt(hp(n,cv),r=>__(t,r))}}})),Ul=na("effect/Scope"),__=L(2,(t,e)=>OK(t,_A(cU(Ul,e)))),sV=t=>Mu(t,{differ:D9,fork:zc}),nx=rK(WW),aV=sV(vp),uV=(t,e,n)=>Tk(r=>bt(bt(JI(Ak(t)),i=>tl(s=>{const a=e.map(d=>d.listeners.count),c=()=>{a.every(d=>d===0)&&e.every(d=>d.result.state.current._tag==="Pending"?!0:!!(d.result.state.current._tag==="Done"&&t_(d.result.state.current.effect)&&d.result.state.current.effect._tag==="Failure"&&d6(d.result.state.current.effect.cause)))&&(l.forEach(d=>d()),n==null||n(),s(K6(i)))};i.addObserver(d=>{l.forEach(h=>h()),s(d)});const l=e.map((d,h)=>{const g=m=>{a[h]=m,c()};return d.listeners.addObserver(g),()=>d.listeners.removeObserver(g)});return c(),wt(()=>{l.forEach(d=>d())})})),()=>Ke(()=>{const i=e.flatMap(s=>s.state.completed?[]:[s]);return ap(i,s=>$9(s.request,_K(r)))}))),cV=l6,lV=Ru,fV=dK,dV=hp,hV=W4,pV=t=>e=>{const n=e===void 0?Object.create(Cl):hV(e);return n._tag=t,n},gV=()=>new Proxy({},{get(t,e,n){return e==="$is"?c0:e==="$match"?mV:pV(e)}});function mV(){if(arguments.length===1){const n=arguments[0];return function(r){return n[r._tag](r)}}const t=arguments[0];return arguments[1][t._tag](t)}const yV=function(){const t=Symbol.for("effect/Data/Error/plainArgs");return class extends Z0{constructor(n){super(n==null?void 0:n.message,n!=null&&n.cause?{cause:n.cause}:void 0),n&&(Object.assign(this,n),Object.defineProperty(this,t,{value:n,enumerable:!1}))}toJSON(){return{...this[t],...this}}}}(),vV=t=>{class e extends yV{constructor(){super(...arguments);_(this,"_tag",t)}}return e.prototype.name=t,e},XI=t=>(e,n)=>{const r=HA(),i=[[Fl,[[r,t.context]]]];n!=null&&n.scheduler&&i.push([CI,[[r,n.scheduler]]]);let s=zq(t.fiberRefs,{entries:i,forkAs:r});n!=null&&n.updateRefs&&(s=n.updateRefs(s,r));const a=new GI(r,s,t.runtimeFlags);let c=e;n!=null&&n.scope&&(c=bt(dV(n.scope,hI),d=>lp(fK(d,Tk(h=>Ot(h,a.id())?yi:Rk(a,h))),G0(e,h=>fV(d,h)))));const l=a.currentSupervisor;return l!==vp&&(l.onStart(t.context,c,ct(),a),a.addObserver(d=>l.onEnd(d,a))),g_.add(t.runtimeFlags,a),(n==null?void 0:n.immediate)===!1?a.resume(c):a.start(c),a},_V=t=>e=>{const n=CV(t)(e);if(n._tag==="Failure")throw EV(n.effect_instruction_i0);return n.effect_instruction_i0};class bV extends Error{constructor(n){super(`Fiber #${n.id().id} cannot be resolved synchronously. This is caused by using runSync on an effect that performs async work`);_(this,"fiber");_(this,"_tag","AsyncFiberException");this.fiber=n,this.name=this._tag,this.stack=this.message}}const SV=t=>{const e=Error.stackTraceLimit;Error.stackTraceLimit=0;const n=new bV(t);return Error.stackTraceLimit=e,n},Gm=Symbol.for("effect/Runtime/FiberFailure"),Zf=Symbol.for("effect/Runtime/FiberFailure/Cause");var KT,qT;class wV extends Error{constructor(n){const r=vk(n)[0];super((r==null?void 0:r.message)||"An error has occurred");_(this,qT);_(this,KT);this[Gm]=Gm,this[Zf]=n,this.name=r?`(FiberFailure) ${r.name}`:"FiberFailure",r!=null&&r.stack&&(this.stack=r.stack)}toJSON(){return{_id:"FiberFailure",cause:this[Zf].toJSON()}}toString(){return"(FiberFailure) "+Ru(this[Zf],{renderErrorCause:!0})}[(qT=Gm,KT=Zf,_e)](){return this.toString()}}const EV=t=>{const e=Error.stackTraceLimit;Error.stackTraceLimit=0;const n=new wV(t);return Error.stackTraceLimit=e,n},xV=t=>{const e=t;switch(e._op){case"Failure":case"Success":return e;case"Left":return TE(e.left);case"Right":return Me(e.right);case"Some":return Me(e.value);case"None":return TE(jk())}},CV=t=>e=>{const n=xV(e);if(n)return n;const r=new xI,i=XI(t)(e,{scheduler:r});r.flush();const s=i.unsafePoll();return s||vK(q0(SV(i),e_(i)))};class TV{constructor(e,n,r){_(this,"context");_(this,"runtimeFlags");_(this,"fiberRefs");this.context=e,this.runtimeFlags=n,this.fiberRefs=r}pipe(){return vt(this,arguments)}}const OV=t=>new TV(t.context,t.runtimeFlags,t.fiberRefs),AV=uk(Iu,sk,ok),QI=OV({context:A0(),runtimeFlags:AV,fiberRefs:Uq()}),kV=XI(QI),IV=_V(QI),PV=sp,kd=eV,td=Ke,Br=yi,$V=ev,Ev=tr,RV=H0,MV=up,Pa=rh,Ai=bt,NV=kV,LV=IV;class Cn{constructor(e,n,r){_(this,"path");_(this,"actual");_(this,"issue");_(this,"_tag","Pointer");this.path=e,this.actual=n,this.issue=r}}class rx{constructor(e,n){_(this,"actual");_(this,"message");_(this,"_tag","Unexpected");this.actual=e,this.message=n}}class Ec{constructor(e,n){_(this,"ast");_(this,"message");_(this,"_tag","Missing");_(this,"actual");this.ast=e,this.message=n}}class Ae{constructor(e,n,r,i){_(this,"ast");_(this,"actual");_(this,"issues");_(this,"output");_(this,"_tag","Composite");this.ast=e,this.actual=n,this.issues=r,this.output=i}}class Jm{constructor(e,n,r,i){_(this,"ast");_(this,"actual");_(this,"kind");_(this,"issue");_(this,"_tag","Refinement");this.ast=e,this.actual=n,this.kind=r,this.issue=i}}class Ym{constructor(e,n,r,i){_(this,"ast");_(this,"actual");_(this,"kind");_(this,"issue");_(this,"_tag","Transformation");this.ast=e,this.actual=n,this.kind=r,this.issue=i}}class Li{constructor(e,n,r){_(this,"ast");_(this,"actual");_(this,"message");_(this,"_tag","Type");this.ast=e,this.actual=n,this.message=r}}class ix{constructor(e,n,r){_(this,"ast");_(this,"actual");_(this,"message");_(this,"_tag","Forbidden");this.ast=e,this.actual=n,this.message=r}}const ox=Symbol.for("effect/Schema/ParseErrorTypeId");var VT;class FV extends vV("ParseError"){constructor(){super(...arguments);_(this,VT,ox)}get message(){return this.toString()}toString(){return Id.formatIssueSync(this.issue)}toJSON(){return{_id:"ParseError",message:this.toString()}}[(VT=ox,_e)](){return this.toJSON()}}const ZI=t=>new FV({issue:t}),ph=Mt,tP=St,sx=iD,zn=oD,Qo=L(2,(t,e)=>zn(t)?_0(t,{onLeft:St,onRight:e}):Ai(t,e)),Pi=L(2,(t,e)=>zn(t)?aD(t,e):Ev(t,e)),Xm=L(2,(t,e)=>zn(t)?bO(t,e):MV(t,e)),BV=L(2,(t,e)=>zn(t)?sD(t,{onLeft:e.onFailure,onRight:e.onSuccess}):RV(t,e)),eP=L(2,(t,e)=>zn(t)?_0(t,{onLeft:e,onRight:Mt}):$V(t,e)),b_=(t,e)=>e===void 0||zs(e)?t:t===void 0?e:{...t,...e},S_=(t,e,n)=>{const r=fn(t,e);return(i,s)=>r(i,b_(n,s))},jV=(t,e,n)=>{const r=S_(t,e,n);return(i,s)=>SO(r(i,s),ZI)},DV=(t,e,n)=>{const r=S_(t,e,n);return(i,s)=>hD(r(i,s))},nP=(t,e,n)=>{const r=fn(t,e);return(i,s)=>r(i,{...b_(n,s),isEffectAllowed:!0})},zV=(t,e)=>S_(t.ast,!0,e),UV=(t,e)=>nP(t.ast,!0,e),WV=(t,e)=>DV(t.ast,!1,e),KV=(t,e)=>nP(t.ast,!1,e),qV=(t,e)=>jV(tn(t.ast),!0,e),VV=WV,HV=jt(Symbol.for("effect/ParseResult/decodeMemoMap"),()=>new WeakMap),GV=jt(Symbol.for("effect/ParseResult/encodeMemoMap"),()=>new WeakMap),fn=(t,e)=>{const n=e?HV:GV,r=n.get(t);if(r)return r;const i=JV(t,e),s=az(t),a=Rn(s)?(d,h)=>i(d,b_(h,s.value)):i,c=uz(t),l=e&&Rn(c)?(d,h)=>Ic(eP(a(d,h),c.value),t,d,h):a;return n.set(t,l),l},Qm=t=>ai(iz(t)),Zm=t=>ai(oz(t)),JV=(t,e)=>{switch(t._tag){case"Refinement":if(e){const n=fn(t.from,!0);return(r,i)=>{i=i??Bm;const s=(i==null?void 0:i.errors)==="all",a=Qo(eP(n(r,i),c=>{const l=new Jm(t,r,"From",c);return s&&lz(t)&&sP(c)?He(t.filter(r,i,t),{onNone:()=>St(l),onSome:d=>St(new Ae(t,r,[l,new Jm(t,r,"Predicate",d)]))}):St(l)}),c=>He(t.filter(c,i,t),{onNone:()=>Mt(c),onSome:l=>St(new Jm(t,r,"Predicate",l))}));return Ic(a,t,r,i)}}else{const n=fn(tn(t),!0),r=fn(rP(t.from),!1);return(i,s)=>Ic(Qo(n(i,s),a=>r(a,s)),t,i,s)}case"Transformation":{const n=QV(t.transformation,e),r=e?fn(t.from,!0):fn(t.to,!1),i=e?fn(t.to,!0):fn(t.from,!1);return(s,a)=>Ic(Qo(Xm(r(s,a),c=>new Ym(t,s,e?"Encoded":"Type",c)),c=>Qo(Xm(n(c,a??Bm,t,s),l=>new Ym(t,s,"Transformation",l)),l=>Xm(i(l,a),d=>new Ym(t,s,e?"Type":"Encoded",d)))),t,s,a)}case"Declaration":{const n=e?t.decodeUnknown(...t.typeParameters):t.encodeUnknown(...t.typeParameters);return(r,i)=>Ic(n(r,i??Bm,t),t,r,i)}case"Literal":return fr(t,n=>n===t.literal);case"UniqueSymbol":return fr(t,n=>n===t.symbol);case"UndefinedKeyword":return fr(t,S3);case"NeverKeyword":return fr(t,w3);case"UnknownKeyword":case"AnyKeyword":case"VoidKeyword":return Mt;case"StringKeyword":return fr(t,qi);case"NumberKeyword":return fr(t,zs);case"BooleanKeyword":return fr(t,a0);case"BigIntKeyword":return fr(t,jh);case"SymbolKeyword":return fr(t,Ry);case"ObjectKeyword":return fr(t,us);case"Enums":return fr(t,n=>t.enums.some(([r,i])=>i===n));case"TemplateLiteral":{const n=Uz(t);return fr(t,r=>qi(r)&&n.test(r))}case"TupleType":{const n=t.elements.map(d=>fn(d.type,e)),r=t.rest.map(d=>fn(d.type,e));let i=t.elements.filter(d=>!d.isOptional);t.rest.length>0&&(i=i.concat(t.rest.slice(1)));const s=i.length,a=t.elements.length>0?t.elements.map((d,h)=>h).join(" | "):"never",c=Qm(t),l=Zm(t);return(d,h)=>{if(!OD(d))return St(new Li(t,d));const g=(h==null?void 0:h.errors)==="all",m=[];let y=0;const w=[],x=d.length;for(let M=x;M<=s-1;M++){const P=new Cn(M,d,new Ec(i[M-x]));if(g){m.push([y++,P]);continue}else return St(new Ae(t,d,P,w))}if(t.rest.length===0)for(let M=t.elements.length;M<=x-1;M++){const P=new Cn(M,d,new rx(d[M],`is unexpected, expected: ${a}`));if(g){m.push([y++,P]);continue}else return St(new Ae(t,d,P,w))}let C=0,T;for(;C<n.length;C++)if(x<C+1){if(t.elements[C].isOptional)continue}else{const M=n[C],P=M(d[C],h);if(zn(P)){if(Ze(P)){const j=new Cn(C,d,P.left);if(g){m.push([y++,j]);continue}else return St(new Ae(t,d,j,oi(w)))}w.push([y++,P.right])}else{const j=y++,B=C;T||(T=[]),T.push(({es:k,output:z})=>Ai(Pa(P),K=>{if(Ze(K)){const b=new Cn(B,d,K.left);return g?(k.push([j,b]),Br):St(new Ae(t,d,b,oi(z)))}return z.push([j,K.right]),Br}))}}if(nn(r)){const[M,...P]=r;for(;C<x-P.length;C++){const j=M(d[C],h);if(zn(j))if(Ze(j)){const B=new Cn(C,d,j.left);if(g){m.push([y++,B]);continue}else return St(new Ae(t,d,B,oi(w)))}else w.push([y++,j.right]);else{const B=y++,k=C;T||(T=[]),T.push(({es:z,output:K})=>Ai(Pa(j),b=>{if(Ze(b)){const N=new Cn(k,d,b.left);return g?(z.push([B,N]),Br):St(new Ae(t,d,N,oi(K)))}else return K.push([B,b.right]),Br}))}}for(let j=0;j<P.length;j++)if(C+=j,!(x<C+1)){const B=P[j](d[C],h);if(zn(B)){if(Ze(B)){const k=new Cn(C,d,B.left);if(g){m.push([y++,k]);continue}else return St(new Ae(t,d,k,oi(w)))}w.push([y++,B.right])}else{const k=y++,z=C;T||(T=[]),T.push(({es:K,output:b})=>Ai(Pa(B),N=>{if(Ze(N)){const D=new Cn(z,d,N.left);return g?(K.push([k,D]),Br):St(new Ae(t,d,D,oi(b)))}return b.push([k,N.right]),Br}))}}}const R=({es:M,output:P})=>bd(M)?St(new Ae(t,d,oi(M),oi(P))):Mt(oi(P));if(T&&T.length>0){const M=T;return td(()=>{const P={es:Ac(m),output:Ac(w)};return Ai(kd(M,j=>j(P),{concurrency:c,batching:l,discard:!0}),()=>R(P))})}return R({output:w,es:m})}}case"TypeLiteral":{if(t.propertySignatures.length===0&&t.indexSignatures.length===0)return fr(t,E3);const n=[],r={},i=[];for(const h of t.propertySignatures)n.push([fn(h.type,e),h]),r[h.name]=null,i.push(h.name);const s=t.indexSignatures.map(h=>[fn(h.parameter,e),fn(h.type,e),h.parameter]),a=$i.make(t.indexSignatures.map(h=>h.parameter).concat(i.map(h=>Ry(h)?new pz(h):new Ly(h)))),c=fn(a,e),l=Qm(t),d=Zm(t);return(h,g)=>{if(!C3(h))return St(new Li(t,h));const m=(g==null?void 0:g.errors)==="all",y=[];let w=0;const x=(g==null?void 0:g.onExcessProperty)==="error",C=(g==null?void 0:g.onExcessProperty)==="preserve",T={};let R;if(x||C){R=Ua(h);for(const B of R){const k=c(B,g);if(zn(k)&&Ze(k))if(x){const z=new Cn(B,h,new rx(h[B],`is unexpected, expected: ${String(a)}`));if(m){y.push([w++,z]);continue}else return St(new Ae(t,h,z,T))}else T[B]=h[B]}}let M;const P=(g==null?void 0:g.exact)===!0;for(let B=0;B<n.length;B++){const k=n[B][1],z=k.name,K=Object.prototype.hasOwnProperty.call(h,z);if(!K){if(k.isOptional)continue;if(P){const D=new Cn(z,h,new Ec(k));if(m){y.push([w++,D]);continue}else return St(new Ae(t,h,D,T))}}const b=n[B][0],N=b(h[z],g);if(zn(N)){if(Ze(N)){const D=new Cn(z,h,K?N.left:new Ec(k));if(m){y.push([w++,D]);continue}else return St(new Ae(t,h,D,T))}T[z]=N.right}else{const D=w++,X=z;M||(M=[]),M.push(({es:nt,output:mt})=>Ai(Pa(N),pt=>{if(Ze(pt)){const rt=new Cn(X,h,K?pt.left:new Ec(k));return m?(nt.push([D,rt]),Br):St(new Ae(t,h,rt,mt))}return mt[X]=pt.right,Br}))}}for(let B=0;B<s.length;B++){const k=s[B],z=k[0],K=k[1],b=RO(h,k[2]);for(const N of b){const D=z(N,g);if(zn(D)&&po(D)){const X=K(h[N],g);if(zn(X))if(Ze(X)){const nt=new Cn(N,h,X.left);if(m){y.push([w++,nt]);continue}else return St(new Ae(t,h,nt,T))}else Object.prototype.hasOwnProperty.call(r,N)||(T[N]=X.right);else{const nt=w++,mt=N;M||(M=[]),M.push(({es:pt,output:rt})=>Ai(Pa(X),st=>{if(Ze(st)){const Nt=new Cn(mt,h,st.left);return m?(pt.push([nt,Nt]),Br):St(new Ae(t,h,Nt,rt))}else return Object.prototype.hasOwnProperty.call(r,N)||(rt[N]=st.right),Br}))}}}}const j=({es:B,output:k})=>{if(bd(B))return St(new Ae(t,h,oi(B),k));if((g==null?void 0:g.propertyOrder)==="original"){const z=R||Ua(h);for(const b of i)z.indexOf(b)===-1&&z.push(b);const K={};for(const b of z)Object.prototype.hasOwnProperty.call(k,b)&&(K[b]=k[b]);return Mt(K)}return Mt(k)};if(M&&M.length>0){const B=M;return td(()=>{const k={es:Ac(y),output:Object.assign({},T)};return Ai(kd(B,z=>z(k),{concurrency:l,batching:d,discard:!0}),()=>j(k))})}return j({es:y,output:T})}}case"Union":{const n=YV(t.types,e),r=Ua(n.keys),i=r.length,s=t.types.length,a=new Map;for(let d=0;d<s;d++)a.set(t.types[d],fn(t.types[d],e));const c=Qm(t)??1,l=Zm(t);return(d,h)=>{const g=[];let m=0,y=[];if(i>0)if(u0(d))for(let C=0;C<i;C++){const T=r[C],R=n.keys[T].buckets;if(Object.prototype.hasOwnProperty.call(d,T)){const M=String(d[T]);if(Object.prototype.hasOwnProperty.call(R,M))y=y.concat(R[M]);else{const{candidates:P,literals:j}=n.keys[T],B=$i.make(j),k=P.length===s?new Ns([new kn(T,B,!1,!0)],[]):$i.make(P);g.push([m++,new Ae(k,d,new Cn(T,d,new Li(B,d[T])))])}}else{const{candidates:M,literals:P}=n.keys[T],j=new kn(T,$i.make(P),!1,!0),B=M.length===s?new Ns([j],[]):$i.make(M);g.push([m++,new Ae(B,d,new Cn(T,d,new Ec(j)))])}}else{const C=n.candidates.length===s?t:$i.make(n.candidates);g.push([m++,new Li(C,d)])}n.otherwise.length>0&&(y=y.concat(n.otherwise));let w;for(let C=0;C<y.length;C++){const T=y[C],R=a.get(T)(d,h);if(zn(R)&&(!w||w.length===0)){if(po(R))return R;g.push([m++,R.left])}else{const M=m++;w||(w=[]),w.push(P=>td(()=>"finalResult"in P?Br:Ai(Pa(R),j=>(po(j)?P.finalResult=j:P.es.push([M,j.left]),Br))))}}const x=C=>bd(C)?C.length===1&&C[0][1]._tag==="Type"?St(C[0][1]):St(new Ae(t,d,oi(C))):St(new Li(t,d));if(w&&w.length>0){const C=w;return td(()=>{const T={es:Ac(g)};return Ai(kd(C,R=>R(T),{concurrency:c,batching:l,discard:!0}),()=>"finalResult"in T?T.finalResult:x(T.es))})}return x(g)}}case"Suspend":{const n=MO(()=>fn(tu(t.f(),t.annotations),e));return(r,i)=>n()(r,i)}}},fr=(t,e)=>n=>e(n)?Mt(n):St(new Li(t,n)),kc=(t,e)=>{switch(t._tag){case"Declaration":{const n=ZO(t);if(Rn(n))return kc(n.value,e);break}case"TypeLiteral":{const n=[];for(let r=0;r<t.propertySignatures.length;r++){const i=t.propertySignatures[r],s=e?eE(i.type):tn(i.type);Qw(s)&&!i.isOptional&&n.push([i.name,s])}return n}case"TupleType":{const n=[];for(let r=0;r<t.elements.length;r++){const i=t.elements[r],s=e?eE(i.type):tn(i.type);Qw(s)&&!i.isOptional&&n.push([r,s])}return n}case"Refinement":return kc(t.from,e);case"Suspend":return kc(t.f(),e);case"Transformation":return kc(e?t.from:t.to,e)}return[]},YV=(t,e)=>{const n={},r=[],i=[];for(let s=0;s<t.length;s++){const a=t[s],c=kc(a,e);if(c.length>0){i.push(a);for(let l=0;l<c.length;l++){const[d,h]=c[l],g=String(h.literal);n[d]=n[d]||{buckets:{},literals:[],candidates:[]};const m=n[d].buckets;if(Object.prototype.hasOwnProperty.call(m,g)){if(l<c.length-1)continue;m[g].push(a),n[d].literals.push(h),n[d].candidates.push(a)}else{m[g]=[a],n[d].literals.push(h),n[d].candidates.push(a);break}}}else r.push(a)}return{keys:n,otherwise:r,candidates:i}},rP=t=>C0(t)?rP(t.from):t,Ic=(t,e,n,r)=>{if((r==null?void 0:r.isEffectAllowed)===!0||zn(t))return t;const i=new xI,s=NV(t,{scheduler:i});i.flush();const a=s.unsafePoll();if(a){if(AK(a))return Mt(a.value);const c=a.cause;return cV(c)?St(c.error):St(new ix(e,n,lV(c)))}return St(new ix(e,n,"cannot be be resolved synchronously, this is caused by using runSync on an effect that performs async work"))},XV=([t],[e])=>t>e?1:t<e?-1:0;function oi(t){return t.sort(XV).map(e=>e[1])}const QV=(t,e)=>{switch(t._tag){case"FinalTransformation":return e?t.decode:t.encode;case"ComposeTransformation":return Mt;case"TypeLiteralTransformation":return n=>{let r=Mt(n);for(const i of t.propertySignatureTransformations){const[s,a]=e?[i.from,i.to]:[i.to,i.from],c=e?i.decode:i.encode;r=Pi(r,d=>{const h=c(Object.prototype.hasOwnProperty.call(d,s)?It(d[s]):ct());return delete d[s],Rn(h)&&(d[a]=h.value),d})}return r}}},Dn=(t,e=[])=>({value:t,forest:e}),Id={formatIssue:t=>Pi(Ba(t),ZV),formatIssueSync:t=>{const e=Id.formatIssue(t);return zn(e)?cD(e):LV(e)},formatError:t=>Id.formatIssue(t.issue),formatErrorSync:t=>Id.formatIssueSync(t.issue)},ZV=t=>t.value+iP(`
`,t.forest),iP=(t,e)=>{let n="";const r=e.length;let i;for(let s=0;s<r;s++){i=e[s];const a=s===r-1;n+=t+(a?"└":"├")+"─ "+i.value,n+=iP(t+(r>1&&!a?"│  ":"   "),i.forest)}return n},tH=t=>{switch(t){case"Encoded":return"Encoded side transformation failure";case"Transformation":return"Transformation process failure";case"Type":return"Type side transformation failure"}},eH=t=>{switch(t){case"From":return"From side refinement failure";case"Predicate":return"Predicate refinement failure"}},oP=t=>"ast"in t?It(t.ast):ct(),xv=Mt(void 0),nH=t=>oP(t).pipe(Ou(nz),He({onNone:()=>xv,onSome:e=>{const n=e(t);return qi(n)?Mt({message:n,override:!1}):PV(n)?Ev(n,r=>({message:r,override:!1})):qi(n.message)?Mt({message:n.message,override:n.override}):Ev(n.message,r=>({message:r,override:n.override}))}})),w_=t=>e=>e._tag===t,sP=w_("Composite"),ax=w_("Refinement"),ux=w_("Transformation"),Uc=t=>Qo(nH(t),e=>e!==void 0?!e.override&&(sP(t)||ax(t)&&t.kind==="From"||ux(t)&&t.kind!=="Transformation")?ux(t)||ax(t)?Uc(t.issue):xv:Mt(e.message):xv),aP=t=>oP(t).pipe(Ou(sz),mD(e=>e(t)),ai);function rH(t){return QO(t).pipe(Zo(()=>YO(t)),Zo(()=>XO(t)),Zo(()=>Kh(t)),je(()=>`{ ${t.from} | filter }`))}function iH(t){return t.message!==void 0?t.message:`Expected ${C0(t.ast)?rH(t.ast):String(t.ast)}, actual ${Di(t.actual)}`}const oH=t=>Pi(Uc(t),e=>e??aP(t)??iH(t)),ed=t=>aP(t)??String(t.ast),sH=t=>t.message??"is forbidden",aH=t=>t.message??"is unexpected",uH=t=>{const e=rz(t.ast);if(Rn(e)){const n=e.value();return qi(n)?Mt(n):n}return Mt(t.message??"is missing")},Ba=t=>{switch(t._tag){case"Type":return Pi(oH(t),Dn);case"Forbidden":return Mt(Dn(ed(t),[Dn(sH(t))]));case"Unexpected":return Mt(Dn(aH(t)));case"Missing":return Pi(uH(t),Dn);case"Transformation":return Qo(Uc(t),e=>e!==void 0?Mt(Dn(e)):Pi(Ba(t.issue),n=>Dn(ed(t),[Dn(tH(t.kind),[n])])));case"Refinement":return Qo(Uc(t),e=>e!==void 0?Mt(Dn(e)):Pi(Ba(t.issue),n=>Dn(ed(t),[Dn(eH(t.kind),[n])])));case"Pointer":return Pi(Ba(t.issue),e=>Dn(qD(t.path),[e]));case"Composite":return Qo(Uc(t),e=>{if(e!==void 0)return Mt(Dn(e));const n=ed(t);return NO(t.issues)?Pi(kd(t.issues,Ba),r=>Dn(n,r)):Pi(Ba(t.issues),r=>Dn(n,[r]))})}},cH=L(t=>us(t[0]),(t,...e)=>{const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}),lH=L(t=>us(t[0]),(t,...e)=>{const n={...t};for(const r of e)delete n[r];return n}),nl=Symbol.for("effect/Schema");function vn(t){var e,n,r;return n=nl,e=nl,r=class{constructor(){_(this,n,cx)}static annotations(s){return vn(ls(this.ast,s))}static pipe(){return vt(this,arguments)}static toString(){return String(t)}},_(r,"ast",t),_(r,"Type"),_(r,"Encoded"),_(r,"Context"),_(r,e,cx),r}const cx={_A:t=>t,_I:t=>t,_R:t=>t},lx={schemaId:QD,message:LO,missingMessage:S0,identifier:FO,title:To,description:Ol,examples:BO,default:jO,documentation:ZD,jsonSchema:DO,arbitrary:zO,pretty:UO,equivalence:WO,concurrency:KO,batching:qO,parseIssueTitle:VO,parseOptions:HO,decodingFallback:GO},Wl=t=>{if(!t)return{};const e={...t};for(const n in lx)if(n in t){const r=lx[n];e[r]=t[n],delete e[n]}return e},ls=(t,e)=>tu(t,Wl(e));const E_=t=>String(t.ast),fH=t=>vn(tn(t.ast)),dH=(t,e)=>{const n=zV(t,e);return(r,i)=>bO(n(r,i),ZI)},rs=t=>xt(t,nl)&&us(t[nl]);function hH(t){return x0(t)?$i.make($z(t,e=>new Ly(e))):new Ly(t[0])}function uP(t,e=hH(t)){var n;return n=class extends vn(e){static annotations(i){return uP(this.literals,ls(this.ast,i))}},_(n,"literals",[...t]),n}function Je(...t){return nn(t)?uP(t):cP}const pH=(t,e,n)=>x_(t,new qh(t.map(r=>r.ast),(...r)=>e.decode(...r.map(vn)),(...r)=>e.encode(...r.map(vn)),Wl(n))),gH=(t,e)=>{const n=()=>(i,s,a)=>t(i)?ph(i):tP(new Li(a,i)),r=n;return x_([],new qh([],n,r,Wl(e)))};function x_(t,e){var n;return n=class extends vn(e){static annotations(i){return x_(this.typeParameters,ls(this.ast,i))}},_(n,"typeParameters",[...t]),n}const mH=function(){if(Array.isArray(arguments[0])){const n=arguments[0],r=arguments[1],i=arguments[2];return pH(n,r,i)}const t=arguments[0],e=arguments[1];return gH(t,e)};class yH extends vn(Fy){}class cP extends vn(w0){}class vH extends vn(eA){}class C_ extends vn(nA){}class re extends vn(bz){}class Be extends vn(Ez){}class _p extends vn(Cz){}const _H=t=>$i.make(t.map(e=>e.ast));function lP(t,e=_H(t)){var n;return n=class extends vn(e){static annotations(i){return lP(this.members,ls(this.ast,i))}},_(n,"members",[...t]),n}function Ao(...t){return x0(t)?lP(t):nn(t)?t[0]:cP}const bH=t=>Ao(t,yH),SH=(t,e)=>new E0(t.map(n=>rs(n)?new ta(n.ast,!1):n.ast),e.map(n=>rs(n)?new Vh(n.ast):n.ast),!0);function fP(t,e,n=SH(t,e)){var r;return r=class extends vn(n){static annotations(s){return fP(this.elements,this.rest,ls(this.ast,s))}},_(r,"elements",[...t]),_(r,"rest",[...e]),r}function dP(t,e){var n;return n=class extends fP([],[t],e){static annotations(i){return dP(this.value,ls(this.ast,i))}},_(n,"value",t),n}const bo=t=>dP(t),Cv=t=>t?'"?:"':'":"';class bp extends ta{constructor(n,r,i,s,a){super(n,r,s);_(this,"isReadonly");_(this,"defaultValue");_(this,"_tag","PropertySignatureDeclaration");this.isReadonly=i,this.defaultValue=a}toString(){const n=Cv(this.isOptional),r=String(this.type);return`PropertySignature<${n}, ${r}, never, ${n}, ${r}>`}}class wH extends ta{constructor(n,r,i,s,a){super(n,r,s);_(this,"isReadonly");_(this,"fromKey");this.isReadonly=i,this.fromKey=a}}class hP extends ta{constructor(n,r,i,s,a){super(n,r,s);_(this,"isReadonly");_(this,"defaultValue");this.isReadonly=i,this.defaultValue=a}}const EH=t=>t===void 0?"never":qi(t)?JSON.stringify(t):String(t);class pP{constructor(e,n,r,i){_(this,"from");_(this,"to");_(this,"decode");_(this,"encode");_(this,"_tag","PropertySignatureTransformation");this.from=e,this.to=n,this.decode=r,this.encode=i}toString(){return`PropertySignature<${Cv(this.to.isOptional)}, ${this.to.type}, ${EH(this.from.fromKey)}, ${Cv(this.from.isOptional)}, ${this.from.type}>`}}const gP=(t,e)=>{switch(t._tag){case"PropertySignatureDeclaration":return new bp(t.type,t.isOptional,t.isReadonly,{...t.annotations,...e},t.defaultValue);case"PropertySignatureTransformation":return new pP(new wH(t.from.type,t.from.isOptional,t.from.isReadonly,t.from.annotations),new hP(t.to.type,t.to.isOptional,t.to.isReadonly,{...t.to.annotations,...e},t.to.defaultValue),t.decode,t.encode)}},mP=Symbol.for("effect/PropertySignature"),yP=t=>xt(t,mP);var HT,GT;GT=nl,HT=mP;const sS=class sS{constructor(e){_(this,"ast");_(this,GT);_(this,HT,null);_(this,"_TypeToken");_(this,"_Key");_(this,"_EncodedToken");_(this,"_HasDefault");this.ast=e}pipe(){return vt(this,arguments)}annotations(e){return new sS(gP(this.ast,Wl(e)))}toString(){return String(this.ast)}};let gh=sS;const fx=t=>new gh(t);class Sp extends gh{constructor(n,r){super(n);_(this,"from");this.from=r}annotations(n){return new Sp(gP(this.ast,Wl(n)),this.from)}}const xH=t=>new Sp(new bp(t.ast,!1,!0,{},void 0),t),CH=L(2,(t,e)=>{const n=t.ast;switch(n._tag){case"PropertySignatureDeclaration":return fx(new bp(n.type,n.isOptional,n.isReadonly,n.annotations,e));case"PropertySignatureTransformation":return fx(new pP(n.from,new hP(n.to.type,n.to.isOptional,n.to.isReadonly,n.to.annotations,e),n.decode,n.encode))}}),In=t=>{const e=t.ast===Fy||t.ast===w0?Fy:bH(t).ast;return new Sp(new bp(e,!0,!0,{},void 0),t)},TH=lA([S0]),OH=(t,e)=>{const n=Ua(t),r=[];if(n.length>0){const s=[],a=[],c=[];for(let l=0;l<n.length;l++){const d=n[l],h=t[d];if(yP(h)){const g=h.ast;switch(g._tag){case"PropertySignatureDeclaration":{const m=g.type,y=g.isOptional,w=g.annotations;s.push(new kn(d,m,y,!0,TH(g))),a.push(new kn(d,tn(m),y,!0,w)),r.push(new kn(d,m,y,!0,w));break}case"PropertySignatureTransformation":{const m=g.from.fromKey??d;s.push(new kn(m,g.from.type,g.from.isOptional,!0,g.from.annotations)),a.push(new kn(d,g.to.type,g.to.isOptional,!0,g.to.annotations)),c.push(new Fz(m,d,g.decode,g.encode));break}}}else s.push(new kn(d,h.ast,!1,!0)),a.push(new kn(d,tn(h.ast),!1,!0)),r.push(new kn(d,h.ast,!1,!0))}if(nn(c)){const l=[],d=[];for(const h of e){const{indexSignatures:g,propertySignatures:m}=tE(h.key.ast,h.value.ast);m.forEach(y=>{s.push(y),a.push(new kn(y.name,tn(y.type),y.isOptional,y.isReadonly,y.annotations))}),g.forEach(y=>{l.push(y),d.push(new Hh(y.parameter,tn(y.type),y.isReadonly))})}return new T0(new Ns(s,l,{[Ny]:"Struct (Encoded side)"}),new Ns(a,d,{[Ny]:"Struct (Type side)"}),new Bz(c))}}const i=[];for(const s of e){const{indexSignatures:a,propertySignatures:c}=tE(s.key.ast,s.value.ast);c.forEach(l=>r.push(l)),a.forEach(l=>i.push(l))}return new Ns(r,i)},AH=(t,e)=>{const n=Ua(t);for(const r of n){const i=t[r];if(e[r]===void 0&&yP(i)){const s=i.ast,a=s._tag==="PropertySignatureDeclaration"?s.defaultValue:s.to.defaultValue;a!==void 0&&(e[r]=a())}}return e};function vP(t,e,n=OH(t,e)){var r;return r=class extends vn(n){static annotations(s){return vP(this.fields,this.records,ls(this.ast,s))}static pick(...s){return ot(cH(t,...s))}static omit(...s){return ot(lH(t,...s))}},_(r,"fields",{...t}),_(r,"records",[...e]),_(r,"make",(s,a)=>{const c=AH(t,{...s});return zH(a)?c:qV(r)(c)}),r}function ot(t,...e){return vP(t,e)}const kH=t=>Je(t).pipe(xH,CH(()=>t)),Pn=(t,e)=>ot({_tag:kH(t),...e}),IH=L(t=>rs(t[1]),(t,e)=>T_(t,e,Kz(t.ast,e.ast)));function T_(t,e,n){var r;return r=class extends vn(n){static annotations(s){return T_(this.from,this.to,ls(this.ast,s))}},_(r,"from",t),_(r,"to",e),r}const _P=L(t=>rs(t[0])&&rs(t[1]),(t,e,n)=>T_(t,e,new T0(t.ast,e.ast,new Mz(n.decode,n.encode)))),bP=L(t=>rs(t[0])&&rs(t[1]),(t,e,n)=>_P(t,e,{strict:!0,decode:(r,i,s,a)=>ph(n.decode(r,a)),encode:(r,i,s,a)=>ph(n.encode(r,a))})),dx=t=>t instanceof Error?t.message:String(t),PH=t=>_P(re.annotations({description:"a string to be decoded into JSON"}),vH,{strict:!0,decode:(e,n,r)=>sx({try:()=>JSON.parse(e,t==null?void 0:t.reviver),catch:i=>new Li(r,e,dx(i))}),encode:(e,n,r)=>sx({try:()=>JSON.stringify(e,t==null?void 0:t.replacer,t==null?void 0:t.space),catch:i=>new Li(r,e,dx(i))})}).annotations({title:"parseJson",schemaId:hz}),SP=(t,e)=>rs(t)?IH(SP(e),t):PH(t),$H=(t,e,n,r)=>BV(t,{onFailure:i=>new Ae(n,r,i),onSuccess:e}),RH=ot({_tag:Je("None")}).annotations({description:"NoneEncoded"}),MH=t=>ot({_tag:Je("Some"),value:t}).annotations({description:`SomeEncoded<${E_(t)}>`}),NH=t=>Ao(RH,MH(t)).annotations({description:`OptionEncoded<${E_(t)}>`}),wP=t=>t._tag==="None"?ct():It(t.value),LH=(t,e)=>n=>n.oneof(e,n.record({_tag:n.constant("None")}),n.record({_tag:n.constant("Some"),value:t(n)})).map(wP),FH=t=>He({onNone:()=>"none()",onSome:e=>`some(${t(e)})`}),hx=t=>(e,n,r)=>dD(e)?ke(e)?ph(ct()):$H(t(e.value,n),It,r,e):tP(new Li(r,e)),BH=t=>mH([t],{decode:e=>hx(UV(e)),encode:e=>hx(KV(e))},{description:`Option<${E_(t)}>`,pretty:FH,arbitrary:LH,equivalence:yD}),jH={_tag:"None"},DH=t=>({_tag:"Some",value:t});function px(t){const e=t;return bP(NH(e),BH(fH(e)),{strict:!0,decode:r=>wP(r),encode:r=>He(r,{onNone:()=>jH,onSome:DH})})}function zH(t){return a0(t)?t:(t==null?void 0:t.disableValidation)??!1}const UH=ot({widgets:bo(C_)}),WH={Schema:UH},ln=[];for(let t=0;t<256;++t)ln.push((t+256).toString(16).slice(1));function KH(t,e=0){return(ln[t[e+0]]+ln[t[e+1]]+ln[t[e+2]]+ln[t[e+3]]+"-"+ln[t[e+4]]+ln[t[e+5]]+"-"+ln[t[e+6]]+ln[t[e+7]]+"-"+ln[t[e+8]]+ln[t[e+9]]+"-"+ln[t[e+10]]+ln[t[e+11]]+ln[t[e+12]]+ln[t[e+13]]+ln[t[e+14]]+ln[t[e+15]]).toLowerCase()}let ty;const qH=new Uint8Array(16);function VH(){if(!ty){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");ty=crypto.getRandomValues.bind(crypto)}return ty(qH)}const HH=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var gx={randomUUID:HH};function GH(t,e,n){var i;if(gx.randomUUID&&!t)return gx.randomUUID();t=t||{};const r=t.random??((i=t.rng)==null?void 0:i.call(t))??VH();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,KH(r)}const EP=Symbol.for("midi/structor/schema/form/annotation"),JH=t=>({[EP]:t}),YH=t=>t._tag==="PropertySignatureDeclaration"||t._tag==="PropertySignatureTransformation"?ct():Nn(EP)(t),xP={annotation:JH,getFormName:YH},ia=gV(),XH=Ao(Pn("Note",{note:Be}),Pn("CC",{controllerNumber:Be}),Pn("PC",{programNumber:Be})).annotations(xP.annotation("MidiTarget")),QH=({from:t,to:e})=>{const n=[];for(let r=t;r<=e;r++)n.push(O_(r));return n},ZH=({from:t,to:e})=>{const n=[];for(let r=t;r<=e;r++)n.push(A_(r));return n},O_=t=>ia.Note({note:t}),A_=t=>ia.CC({controllerNumber:t}),tG=t=>ia.PC({programNumber:t}),eG=t=>ia.$match({Note:({note:e})=>`noteon-${e}`,CC:({controllerNumber:e})=>`cc-${e}`,PC:({programNumber:e})=>`pc-${e}`})(t),nG=(t,e)=>ia.$match({Note:({note:n})=>({type:"noteon",channel:1,note:n,velocity:e}),CC:({controllerNumber:n})=>({type:"cc",channel:1,controllerNumber:n,data:e}),PC:()=>({type:"pc",programNumber:e})})(t),rG=Array.from({length:127}).map((t,e)=>A_(e)),iG=Array.from({length:127}).map((t,e)=>O_(e)),oG=[...rG,...iG],sG=t=>ia.$match({Note:({note:e})=>e,CC:({controllerNumber:e})=>e,PC:({programNumber:e})=>e})(t),ui={note:O_,notes:QH,cc:A_,ccs:ZH,pc:tG,toKey:eG,toMessage:nG,toValue:sG,allTargets:oG,match:ia.$match,Schema:XH},aG=ot({id:re,name:re,enabled:_p,config:WH.Schema,device:re,color:In(re),selected:ot({input:px(re),output:px(re)})}),uG=bo(aG),cG={SchemaArray:uG},lG=ot({label:re,key:re,abletonProject:In(re),controllers:cG.SchemaArray,style:ot({accent:ot({color1:re,color2:re})})});ot({active:re,projects:bo(lG)});const fG=t=>cs(at.find(t.projects,e=>e.key===t.active)),dG={getActive:fG};function ci(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function mu(t){return!!t&&!!t[Sr]}function Js(t){var e;return!!t&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===bG}(t)||Array.isArray(t)||!!t[Ex]||!!(!((e=t.constructor)===null||e===void 0)&&e[Ex])||k_(t)||I_(t))}function rl(t,e,n){n===void 0&&(n=!1),Lu(t)===0?(n?Object.keys:N_)(t).forEach(function(r){n&&typeof r=="symbol"||e(r,t[r],t)}):t.forEach(function(r,i){return e(i,r,t)})}function Lu(t){var e=t[Sr];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:k_(t)?2:I_(t)?3:0}function Tv(t,e){return Lu(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function hG(t,e){return Lu(t)===2?t.get(e):t[e]}function CP(t,e,n){var r=Lu(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function pG(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function k_(t){return vG&&t instanceof Map}function I_(t){return _G&&t instanceof Set}function Os(t){return t.o||t.t}function P_(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=SG(t);delete e[Sr];for(var n=N_(e),r=0;r<n.length;r++){var i=n[r],s=e[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(e[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),e)}function $_(t,e){return e===void 0&&(e=!1),R_(t)||mu(t)||!Js(t)||(Lu(t)>1&&(t.set=t.add=t.clear=t.delete=gG),Object.freeze(t),e&&rl(t,function(n,r){return $_(r,!0)},!0)),t}function gG(){ci(2)}function R_(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function Ui(t){var e=wG[t];return e||ci(18,t),e}function mx(){return il}function ey(t,e){e&&(Ui("Patches"),t.u=[],t.s=[],t.v=e)}function mh(t){Ov(t),t.p.forEach(mG),t.p=null}function Ov(t){t===il&&(il=t.l)}function yx(t){return il={p:[],l:il,h:t,m:!0,_:0}}function mG(t){var e=t[Sr];e.i===0||e.i===1?e.j():e.g=!0}function ny(t,e){e._=e.p.length;var n=e.p[0],r=t!==void 0&&t!==n;return e.h.O||Ui("ES5").S(e,t,r),r?(n[Sr].P&&(mh(e),ci(4)),Js(t)&&(t=yh(e,t),e.l||vh(e,t)),e.u&&Ui("Patches").M(n[Sr].t,t,e.u,e.s)):t=yh(e,n,[]),mh(e),e.u&&e.v(e.u,e.s),t!==TP?t:void 0}function yh(t,e,n){if(R_(e))return e;var r=e[Sr];if(!r)return rl(e,function(c,l){return vx(t,r,e,c,l,n)},!0),e;if(r.A!==t)return e;if(!r.P)return vh(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=P_(r.k):r.o,s=i,a=!1;r.i===3&&(s=new Set(i),i.clear(),a=!0),rl(s,function(c,l){return vx(t,r,i,c,l,n,a)}),vh(t,i,!1),n&&t.u&&Ui("Patches").N(r,n,t.u,t.s)}return r.o}function vx(t,e,n,r,i,s,a){if(mu(i)){var c=yh(t,i,s&&e&&e.i!==3&&!Tv(e.R,r)?s.concat(r):void 0);if(CP(n,r,c),!mu(c))return;t.m=!1}else a&&n.add(i);if(Js(i)&&!R_(i)){if(!t.h.D&&t._<1)return;yh(t,i),e&&e.A.l||vh(t,i)}}function vh(t,e,n){n===void 0&&(n=!1),!t.l&&t.h.D&&t.m&&$_(e,n)}function ry(t,e){var n=t[Sr];return(n?Os(n):t)[e]}function _x(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function Av(t){t.P||(t.P=!0,t.l&&Av(t.l))}function iy(t){t.o||(t.o=P_(t.t))}function kv(t,e,n){var r=k_(e)?Ui("MapSet").F(e,n):I_(e)?Ui("MapSet").T(e,n):t.O?function(i,s){var a=Array.isArray(i),c={i:a?1:0,A:s?s.A:mx(),P:!1,I:!1,R:{},l:s,t:i,k:null,o:null,j:null,C:!1},l=c,d=Iv;a&&(l=[c],d=Pc);var h=Proxy.revocable(l,d),g=h.revoke,m=h.proxy;return c.k=m,c.j=g,m}(e,n):Ui("ES5").J(e,n);return(n?n.A:mx()).p.push(r),r}function yG(t){return mu(t)||ci(22,t),function e(n){if(!Js(n))return n;var r,i=n[Sr],s=Lu(n);if(i){if(!i.P&&(i.i<4||!Ui("ES5").K(i)))return i.t;i.I=!0,r=bx(n,s),i.I=!1}else r=bx(n,s);return rl(r,function(a,c){i&&hG(i.t,a)===c||CP(r,a,e(c))}),s===3?new Set(r):r}(t)}function bx(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return P_(t)}var Sx,il,M_=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",vG=typeof Map<"u",_G=typeof Set<"u",wx=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",TP=M_?Symbol.for("immer-nothing"):((Sx={})["immer-nothing"]=!0,Sx),Ex=M_?Symbol.for("immer-draftable"):"__$immer_draftable",Sr=M_?Symbol.for("immer-state"):"__$immer_state",bG=""+Object.prototype.constructor,N_=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,SG=Object.getOwnPropertyDescriptors||function(t){var e={};return N_(t).forEach(function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)}),e},wG={},Iv={get:function(t,e){if(e===Sr)return t;var n=Os(t);if(!Tv(n,e))return function(i,s,a){var c,l=_x(s,a);return l?"value"in l?l.value:(c=l.get)===null||c===void 0?void 0:c.call(i.k):void 0}(t,n,e);var r=n[e];return t.I||!Js(r)?r:r===ry(t.t,e)?(iy(t),t.o[e]=kv(t.A.h,r,t)):r},has:function(t,e){return e in Os(t)},ownKeys:function(t){return Reflect.ownKeys(Os(t))},set:function(t,e,n){var r=_x(Os(t),e);if(r!=null&&r.set)return r.set.call(t.k,n),!0;if(!t.P){var i=ry(Os(t),e),s=i==null?void 0:i[Sr];if(s&&s.t===n)return t.o[e]=n,t.R[e]=!1,!0;if(pG(n,i)&&(n!==void 0||Tv(t.t,e)))return!0;iy(t),Av(t)}return t.o[e]===n&&(n!==void 0||e in t.o)||Number.isNaN(n)&&Number.isNaN(t.o[e])||(t.o[e]=n,t.R[e]=!0),!0},deleteProperty:function(t,e){return ry(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,iy(t),Av(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=Os(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty:function(){ci(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){ci(12)}},Pc={};rl(Iv,function(t,e){Pc[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),Pc.deleteProperty=function(t,e){return Pc.set.call(this,t,e,void 0)},Pc.set=function(t,e,n){return Iv.set.call(this,t[0],e,n,t[0])};var EG=function(){function t(n){var r=this;this.O=wx,this.D=!0,this.produce=function(i,s,a){if(typeof i=="function"&&typeof s!="function"){var c=s;s=i;var l=r;return function(x){var C=this;x===void 0&&(x=c);for(var T=arguments.length,R=Array(T>1?T-1:0),M=1;M<T;M++)R[M-1]=arguments[M];return l.produce(x,function(P){var j;return(j=s).call.apply(j,[C,P].concat(R))})}}var d;if(typeof s!="function"&&ci(6),a!==void 0&&typeof a!="function"&&ci(7),Js(i)){var h=yx(r),g=kv(r,i,void 0),m=!0;try{d=s(g),m=!1}finally{m?mh(h):Ov(h)}return typeof Promise<"u"&&d instanceof Promise?d.then(function(x){return ey(h,a),ny(x,h)},function(x){throw mh(h),x}):(ey(h,a),ny(d,h))}if(!i||typeof i!="object"){if((d=s(i))===void 0&&(d=i),d===TP&&(d=void 0),r.D&&$_(d,!0),a){var y=[],w=[];Ui("Patches").M(i,d,y,w),a(y,w)}return d}ci(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(d){for(var h=arguments.length,g=Array(h>1?h-1:0),m=1;m<h;m++)g[m-1]=arguments[m];return r.produceWithPatches(d,function(y){return i.apply(void 0,[y].concat(g))})};var a,c,l=r.produce(i,s,function(d,h){a=d,c=h});return typeof Promise<"u"&&l instanceof Promise?l.then(function(d){return[d,a,c]}):[l,a,c]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var e=t.prototype;return e.createDraft=function(n){Js(n)||ci(8),mu(n)&&(n=yG(n));var r=yx(this),i=kv(this,n,void 0);return i[Sr].C=!0,Ov(r),i},e.finishDraft=function(n,r){var i=n&&n[Sr],s=i.A;return ey(s,r),ny(void 0,s)},e.setAutoFreeze=function(n){this.D=n},e.setUseProxies=function(n){n&&!wx&&ci(20),this.O=n},e.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var a=Ui("Patches").$;return mu(n)?a(n,r):this.produce(n,function(c){return a(c,r)})},t}(),wr=new EG,L_=wr.produce;wr.produceWithPatches.bind(wr);wr.setAutoFreeze.bind(wr);wr.setUseProxies.bind(wr);wr.applyPatches.bind(wr);wr.createDraft.bind(wr);wr.finishDraft.bind(wr);const On=(t,e,n)=>16777216+(t<<16|e<<8|n<<0),xG=["","0","00","000","0000","00000","000000"],F_=t=>{const e=t.toString(16);if(e.length>6)return e.substring(1,7);{const n=6-e.length;return xG[n]+e}},CG=t=>{const e=F_(t);return[parseInt(e.substring(0,2),16),parseInt(e.substring(2,4),16),parseInt(e.substring(4,6),16)]},OP=t=>{const e=t.substring(0,2),n=t.substring(2,4),r=t.substring(4,6);return On(parseInt(e,16),parseInt(n,16),parseInt(r,16))},TG=bP(re,Be,{strict:!0,decode:OP,encode:F_}).annotations(xP.annotation("Color")),tt={fromRGB:On,fromHex:OP,toHex:F_,toRGB:CG,BLACK:On(0,0,0),RED:On(255,0,0),GREEN:On(0,255,0),BLUE:On(0,0,255),PURPLE:On(128,0,128),YELLOW:On(255,255,0),WHITE:On(255,255,255),ROYGBIV:[On(255,0,0),On(255,165,0),On(255,255,0),On(0,255,0),On(0,0,255),On(75,0,130),On(238,130,238)],Schema:TG},OG=t=>t.type==="real",AG=t=>t.type==="blank",AP={isReal:OG,isBlank:AG},kG={name:"",color:tt.BLACK,clips:[{type:"blank",startTime:0,endTime:void 0}]},IG=()=>({tracks:[],cues:[]}),PG=t=>{let e=0;const n=[];return at.forEach(t,r=>{e!==r.startTime&&n.push({type:"blank",startTime:e,endTime:r.startTime}),n.push({...r,type:"real"}),e=r.endTime}),n.push({type:"blank",startTime:e,endTime:void 0}),n},$G=t=>{const e=[],n=[],r=[];at.forEach(t,a=>{a.type==="init-track"?e.push(a):a.type==="init-clip"?n.push(a):r.push(a)});const i=at.sortBy(e,a=>a.trackIndex),s=at.groupBy(n,a=>a.trackIndex);return{tracks:at.map(i,a=>{const c=at.get(s,a.trackIndex);return{name:a.name,color:a.color,clips:PG(c)}}),cues:r}},RG=t=>()=>[],MG=t=>L_(e=>{e.push(t)}),NG=t=>L_(e=>{e.push(t)}),LG=t=>L_(e=>{e.push(t)}),FG=t=>$G(t);var kP={exports:{}},$t={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kl=Symbol.for("react.element"),BG=Symbol.for("react.portal"),jG=Symbol.for("react.fragment"),DG=Symbol.for("react.strict_mode"),zG=Symbol.for("react.profiler"),UG=Symbol.for("react.provider"),WG=Symbol.for("react.context"),KG=Symbol.for("react.forward_ref"),qG=Symbol.for("react.suspense"),VG=Symbol.for("react.memo"),HG=Symbol.for("react.lazy"),xx=Symbol.iterator;function GG(t){return t===null||typeof t!="object"?null:(t=xx&&t[xx]||t["@@iterator"],typeof t=="function"?t:null)}var IP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},PP=Object.assign,$P={};function Fu(t,e,n){this.props=t,this.context=e,this.refs=$P,this.updater=n||IP}Fu.prototype.isReactComponent={};Fu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Fu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function RP(){}RP.prototype=Fu.prototype;function B_(t,e,n){this.props=t,this.context=e,this.refs=$P,this.updater=n||IP}var j_=B_.prototype=new RP;j_.constructor=B_;PP(j_,Fu.prototype);j_.isPureReactComponent=!0;var Cx=Array.isArray,MP=Object.prototype.hasOwnProperty,D_={current:null},NP={key:!0,ref:!0,__self:!0,__source:!0};function LP(t,e,n){var r,i={},s=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)MP.call(e,r)&&!NP.hasOwnProperty(r)&&(i[r]=e[r]);var c=arguments.length-2;if(c===1)i.children=n;else if(1<c){for(var l=Array(c),d=0;d<c;d++)l[d]=arguments[d+2];i.children=l}if(t&&t.defaultProps)for(r in c=t.defaultProps,c)i[r]===void 0&&(i[r]=c[r]);return{$$typeof:Kl,type:t,key:s,ref:a,props:i,_owner:D_.current}}function JG(t,e){return{$$typeof:Kl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function z_(t){return typeof t=="object"&&t!==null&&t.$$typeof===Kl}function YG(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Tx=/\/+/g;function oy(t,e){return typeof t=="object"&&t!==null&&t.key!=null?YG(""+t.key):e.toString(36)}function Pd(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Kl:case BG:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+oy(a,0):r,Cx(i)?(n="",t!=null&&(n=t.replace(Tx,"$&/")+"/"),Pd(i,e,n,"",function(d){return d})):i!=null&&(z_(i)&&(i=JG(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Tx,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",Cx(t))for(var c=0;c<t.length;c++){s=t[c];var l=r+oy(s,c);a+=Pd(s,e,n,l,i)}else if(l=GG(t),typeof l=="function")for(t=l.call(t),c=0;!(s=t.next()).done;)s=s.value,l=r+oy(s,c++),a+=Pd(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function nd(t,e,n){if(t==null)return t;var r=[],i=0;return Pd(t,r,"","",function(s){return e.call(n,s,i++)}),r}function XG(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Vn={current:null},$d={transition:null},QG={ReactCurrentDispatcher:Vn,ReactCurrentBatchConfig:$d,ReactCurrentOwner:D_};function FP(){throw Error("act(...) is not supported in production builds of React.")}$t.Children={map:nd,forEach:function(t,e,n){nd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return nd(t,function(){e++}),e},toArray:function(t){return nd(t,function(e){return e})||[]},only:function(t){if(!z_(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};$t.Component=Fu;$t.Fragment=jG;$t.Profiler=zG;$t.PureComponent=B_;$t.StrictMode=DG;$t.Suspense=qG;$t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QG;$t.act=FP;$t.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=PP({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=D_.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(l in e)MP.call(e,l)&&!NP.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&c!==void 0?c[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){c=Array(l);for(var d=0;d<l;d++)c[d]=arguments[d+2];r.children=c}return{$$typeof:Kl,type:t.type,key:i,ref:s,props:r,_owner:a}};$t.createContext=function(t){return t={$$typeof:WG,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:UG,_context:t},t.Consumer=t};$t.createElement=LP;$t.createFactory=function(t){var e=LP.bind(null,t);return e.type=t,e};$t.createRef=function(){return{current:null}};$t.forwardRef=function(t){return{$$typeof:KG,render:t}};$t.isValidElement=z_;$t.lazy=function(t){return{$$typeof:HG,_payload:{_status:-1,_result:t},_init:XG}};$t.memo=function(t,e){return{$$typeof:VG,type:t,compare:e===void 0?null:e}};$t.startTransition=function(t){var e=$d.transition;$d.transition={};try{t()}finally{$d.transition=e}};$t.unstable_act=FP;$t.useCallback=function(t,e){return Vn.current.useCallback(t,e)};$t.useContext=function(t){return Vn.current.useContext(t)};$t.useDebugValue=function(){};$t.useDeferredValue=function(t){return Vn.current.useDeferredValue(t)};$t.useEffect=function(t,e){return Vn.current.useEffect(t,e)};$t.useId=function(){return Vn.current.useId()};$t.useImperativeHandle=function(t,e,n){return Vn.current.useImperativeHandle(t,e,n)};$t.useInsertionEffect=function(t,e){return Vn.current.useInsertionEffect(t,e)};$t.useLayoutEffect=function(t,e){return Vn.current.useLayoutEffect(t,e)};$t.useMemo=function(t,e){return Vn.current.useMemo(t,e)};$t.useReducer=function(t,e,n){return Vn.current.useReducer(t,e,n)};$t.useRef=function(t){return Vn.current.useRef(t)};$t.useState=function(t){return Vn.current.useState(t)};$t.useSyncExternalStore=function(t,e,n){return Vn.current.useSyncExternalStore(t,e,n)};$t.useTransition=function(){return Vn.current.useTransition()};$t.version="18.3.1";kP.exports=$t;var H=kP.exports,ue=JT(H),Pv=e3({__proto__:null,default:ue},[H]);const $c={},Ox=(t,e)=>t.unstable_is?t.unstable_is(e):e===t,Ax=t=>"init"in t,sy=t=>!!t.write,kx=t=>"v"in t||"e"in t,rd=t=>{if("e"in t)throw t.e;if(($c?"production":void 0)!=="production"&&!("v"in t))throw new Error("[Bug] atom state is not initialized");return t.v},_h=new WeakMap,Ix=t=>{var e;return bh(t)&&!!((e=_h.get(t))!=null&&e[0])},ZG=t=>{const e=_h.get(t);e!=null&&e[0]&&(e[0]=!1,e[1].forEach(n=>n()))},BP=(t,e)=>{let n=_h.get(t);if(!n){n=[!0,new Set],_h.set(t,n);const r=()=>{n[0]=!1};t.then(r,r)}n[1].add(e)},bh=t=>typeof(t==null?void 0:t.then)=="function",jP=(t,e,n)=>{n.p.has(t)||(n.p.add(t),e.then(()=>{n.p.delete(t)},()=>{n.p.delete(t)}))},ay=(t,e,n)=>{const r=n(t),i="v"in r,s=r.v;if(bh(e))for(const a of r.d.keys())jP(t,e,n(a));r.v=e,delete r.e,(!i||!Object.is(s,r.v))&&(++r.n,bh(s)&&ZG(s))},Px=(t,e,n)=>{var r;const i=new Set;for(const s of((r=n.get(t))==null?void 0:r.t)||[])n.has(s)&&i.add(s);for(const s of e.p)i.add(s);return i},tJ=()=>{const t=new Set,e=()=>{t.forEach(n=>n())};return e.add=n=>(t.add(n),()=>{t.delete(n)}),e},uy=()=>{const t={},e=new WeakMap,n=r=>{var i,s;(i=e.get(t))==null||i.forEach(a=>a(r)),(s=e.get(r))==null||s.forEach(a=>a())};return n.add=(r,i)=>{const s=r||t,a=(e.has(s)?e:e.set(s,new Set)).get(s);return a.add(i),()=>{a==null||a.delete(i),a.size||e.delete(s)}},n},eJ=t=>(t.c||(t.c=uy()),t.m||(t.m=uy()),t.u||(t.u=uy()),t.f||(t.f=tJ()),t),nJ=Symbol(),rJ=(t=new WeakMap,e=new WeakMap,n=new WeakMap,r=new Set,i=new Set,s=new Set,a={},c=(m,...y)=>m.read(...y),l=(m,...y)=>m.write(...y),d=(m,y)=>{var w;return(w=m.unstable_onInit)==null?void 0:w.call(m,y)},h=(m,y)=>{var w;return(w=m.onMount)==null?void 0:w.call(m,y)},...g)=>{const m=g[0]||(k=>{if(($c?"production":void 0)!=="production"&&!k)throw new Error("Atom is undefined or null");let z=t.get(k);return z||(z={d:new Map,p:new Set,n:0},t.set(k,z),d==null||d(k,B)),z}),y=g[1]||(()=>{const k=[],z=K=>{try{K()}catch(b){k.push(b)}};do{a.f&&z(a.f);const K=new Set,b=K.add.bind(K);r.forEach(N=>{var D;return(D=e.get(N))==null?void 0:D.l.forEach(b)}),r.clear(),s.forEach(b),s.clear(),i.forEach(b),i.clear(),K.forEach(z),r.size&&w()}while(r.size||s.size||i.size);if(k.length)throw new AggregateError(k)}),w=g[2]||(()=>{const k=[],z=new WeakSet,K=new WeakSet,b=Array.from(r);for(;b.length;){const N=b[b.length-1],D=m(N);if(K.has(N)){b.pop();continue}if(z.has(N)){if(n.get(N)===D.n)k.push([N,D]);else if(($c?"production":void 0)!=="production"&&n.has(N))throw new Error("[Bug] invalidated atom exists");K.add(N),b.pop();continue}z.add(N);for(const X of Px(N,D,e))z.has(X)||b.push(X)}for(let N=k.length-1;N>=0;--N){const[D,X]=k[N];let nt=!1;for(const mt of X.d.keys())if(mt!==D&&r.has(mt)){nt=!0;break}nt&&(x(D),R(D)),n.delete(D)}}),x=g[3]||(k=>{var z;const K=m(k);if(kx(K)&&(e.has(k)&&n.get(k)!==K.n||Array.from(K.d).every(([rt,st])=>x(rt).n===st)))return K;K.d.clear();let b=!0;const N=()=>{e.has(k)&&(R(k),w(),y())},D=rt=>{var st;if(Ox(k,rt)){const sn=m(rt);if(!kx(sn))if(Ax(rt))ay(rt,rt.init,m);else throw new Error("no atom init");return rd(sn)}const Nt=x(rt);try{return rd(Nt)}finally{K.d.set(rt,Nt.n),Ix(K.v)&&jP(k,K.v,Nt),(st=e.get(rt))==null||st.t.add(k),b||N()}};let X,nt;const mt={get signal(){return X||(X=new AbortController),X.signal},get setSelf(){return($c?"production":void 0)!=="production"&&!sy(k)&&console.warn("setSelf function cannot be used with read-only atom"),!nt&&sy(k)&&(nt=(...rt)=>{if(($c?"production":void 0)!=="production"&&b&&console.warn("setSelf function cannot be called in sync"),!b)try{return T(k,...rt)}finally{w(),y()}}),nt}},pt=K.n;try{const rt=c(k,D,mt);return ay(k,rt,m),bh(rt)&&(BP(rt,()=>X==null?void 0:X.abort()),rt.then(N,N)),K}catch(rt){return delete K.v,K.e=rt,++K.n,K}finally{b=!1,pt!==K.n&&n.get(k)===pt&&(n.set(k,K.n),r.add(k),(z=a.c)==null||z.call(a,k))}}),C=g[4]||(k=>{const z=[k];for(;z.length;){const K=z.pop(),b=m(K);for(const N of Px(K,b,e)){const D=m(N);n.set(N,D.n),z.push(N)}}}),T=g[5]||((k,...z)=>{let K=!0;const b=D=>rd(x(D)),N=(D,...X)=>{var nt;const mt=m(D);try{if(Ox(k,D)){if(!Ax(D))throw new Error("atom not writable");const pt=mt.n,rt=X[0];ay(D,rt,m),R(D),pt!==mt.n&&(r.add(D),(nt=a.c)==null||nt.call(a,D),C(D));return}else return T(D,...X)}finally{K||(w(),y())}};try{return l(k,b,N,...z)}finally{K=!1}}),R=g[6]||(k=>{var z;const K=m(k),b=e.get(k);if(b&&!Ix(K.v)){for(const[N,D]of K.d)if(!b.d.has(N)){const X=m(N);M(N).t.add(k),b.d.add(N),D!==X.n&&(r.add(N),(z=a.c)==null||z.call(a,N),C(N))}for(const N of b.d||[])if(!K.d.has(N)){b.d.delete(N);const D=P(N);D==null||D.t.delete(k)}}}),M=g[7]||(k=>{var z;const K=m(k);let b=e.get(k);if(!b){x(k);for(const N of K.d.keys())M(N).t.add(k);if(b={l:new Set,d:new Set(K.d.keys()),t:new Set},e.set(k,b),(z=a.m)==null||z.call(a,k),sy(k)){const N=()=>{let D=!0;const X=(...nt)=>{try{return T(k,...nt)}finally{D||(w(),y())}};try{const nt=h(k,X);nt&&(b.u=()=>{D=!0;try{nt()}finally{D=!1}})}finally{D=!1}};i.add(N)}}return b}),P=g[8]||(k=>{var z;const K=m(k);let b=e.get(k);if(b&&!b.l.size&&!Array.from(b.t).some(N=>{var D;return(D=e.get(N))==null?void 0:D.d.has(k)})){b.u&&s.add(b.u),b=void 0,e.delete(k),(z=a.u)==null||z.call(a,k);for(const N of K.d.keys()){const D=P(N);D==null||D.t.delete(k)}return}return b}),j=[t,e,n,r,i,s,a,c,l,d,h,m,y,w,x,C,T,R,M,P],B={get:k=>rd(x(k)),set:(k,...z)=>{try{return T(k,...z)}finally{w(),y()}},sub:(k,z)=>{const b=M(k).l;return b.add(z),y(),()=>{b.delete(z),P(k),y()}}};return Object.defineProperty(B,nJ,{value:j}),B},DP=rJ,iJ=eJ,$x=BP,U_={};let oJ=0;function ae(t,e){const n=`atom${++oJ}`,r={toString(){return(U_?"production":void 0)!=="production"&&this.debugLabel?n+":"+this.debugLabel:n}};return typeof t=="function"?r.read=t:(r.init=t,r.read=sJ,r.write=aJ),e&&(r.write=e),r}function sJ(t){return t(this)}function aJ(t,e,n){return e(this,typeof n=="function"?n(t(this)):n)}const uJ=()=>{let t=0;const e=iJ({}),n=new WeakMap,r=new WeakMap,i=DP(n,r,void 0,void 0,void 0,void 0,e,void 0,(c,l,d,...h)=>t?d(c,...h):c.write(l,d,...h)),s=new Set;return e.m.add(void 0,c=>{s.add(c);const l=n.get(c);l.m=r.get(c)}),e.u.add(void 0,c=>{s.delete(c);const l=n.get(c);delete l.m}),Object.assign(i,{dev4_get_internal_weak_map:()=>n,dev4_get_mounted_atoms:()=>s,dev4_restore_atoms:c=>{const l={read:()=>null,write:(d,h)=>{++t;try{for(const[g,m]of c)"init"in g&&h(g,m)}finally{--t}}};i.set(l)}})};function cJ(){return(U_?"production":void 0)!=="production"?uJ():DP()}let xc;function W_(){return xc||(xc=cJ(),(U_?"production":void 0)!=="production"&&(globalThis.__JOTAI_DEFAULT_STORE__||(globalThis.__JOTAI_DEFAULT_STORE__=xc),globalThis.__JOTAI_DEFAULT_STORE__!==xc&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044"))),xc}const lJ={},fJ=H.createContext(void 0);function zP(t){return H.useContext(fJ)||W_()}const UP=t=>typeof(t==null?void 0:t.then)=="function",dJ=t=>{t.status="pending",t.then(e=>{t.status="fulfilled",t.value=e},e=>{t.status="rejected",t.reason=e})},hJ=ue.use||(t=>{if(t.status==="pending")throw t;if(t.status==="fulfilled")return t.value;throw t.status==="rejected"?t.reason:(dJ(t),t)}),cy=new WeakMap,pJ=(t,e)=>{let n=cy.get(t);return n||(n=new Promise((r,i)=>{let s=t;const a=d=>h=>{s===d&&r(h)},c=d=>h=>{s===d&&i(h)},l=()=>{try{const d=e();UP(d)?(cy.set(d,n),s=d,d.then(a(d),c(d)),$x(d,l)):r(d)}catch(d){i(d)}};t.then(a(t),c(t)),$x(t,l)}),cy.set(t,n)),n};function Rx(t,e){const n=zP(),[[r,i,s],a]=H.useReducer(d=>{const h=n.get(t);return Object.is(d[0],h)&&d[1]===n&&d[2]===t?d:[h,n,t]},void 0,()=>[n.get(t),n,t]);let c=r;if((i!==n||s!==t)&&(a(),c=n.get(t)),H.useEffect(()=>{const d=n.sub(t,()=>{a()});return a(),d},[n,t,void 0]),H.useDebugValue(c),UP(c)){const d=pJ(c,()=>n.get(t));return hJ(d)}return c}function gJ(t,e){const n=zP();return H.useCallback((...i)=>{if((lJ?"production":void 0)!=="production"&&!("write"in t))throw new Error("not writable atom");return n.set(t,...i)},[n,t])}const wp={},mJ=Symbol((wp?"production":void 0)!=="production"?"RESET":"");function yJ(t,e){let n=null;const r=new Map,i=new Set,s=c=>{let l;if(l=r.get(c),l!==void 0)if(n!=null&&n(l[1],c))s.remove(c);else return l[0];const d=t(c);return r.set(c,[d,Date.now()]),a("CREATE",c,d),d},a=(c,l,d)=>{for(const h of i)h({type:c,param:l,atom:d})};return s.unstable_listen=c=>(i.add(c),()=>{i.delete(c)}),s.getParams=()=>r.keys(),s.remove=c=>{{if(!r.has(c))return;const[l]=r.get(c);r.delete(c),a("REMOVE",c,l)}},s.setShouldRemove=c=>{if(n=c,!!n)for(const[l,[d,h]]of r)n(h,l)&&(r.delete(l),a("REMOVE",l,d))},s}const Mx=(t,e,n)=>(e.has(n)?e:e.set(n,t())).get(n),vJ=new WeakMap,_J=(t,e,n)=>{const r=Mx(()=>new WeakMap,vJ,e);return Mx(t,r,n)},bJ={},Nx=t=>!!t.write,SJ=t=>typeof t=="function";function Lx(t,e){return _J(()=>{const n=new WeakMap,r=(a,c)=>{let l=n.get(a);if(l)return l;const d=c&&n.get(c),h=[],g=[];return a.forEach((m,y)=>{const w=y;g[y]=w;const x=d&&d.atomList[d.keyList.indexOf(w)];if(x){h[y]=x;return}const C=R=>{const M=R(i),P=R(t),B=r(P,M==null?void 0:M.arr).keyList.indexOf(w);if(B<0||B>=P.length){const k=a[r(a).keyList.indexOf(w)];if(k)return k;throw new Error("splitAtom: index out of bounds for read")}return P[B]},T=(R,M,P)=>{const j=R(i),B=R(t),z=r(B,j==null?void 0:j.arr).keyList.indexOf(w);if(z<0||z>=B.length)throw new Error("splitAtom: index out of bounds for write");const K=SJ(P)?P(B[z]):P;Object.is(B[z],K)||M(t,[...B.slice(0,z),K,...B.slice(z+1)])};h[y]=Nx(t)?ae(C,T):ae(C)}),d&&d.keyList.length===g.length&&d.keyList.every((m,y)=>m===g[y])?l=d:l={arr:a,atomList:h,keyList:g},n.set(a,l),l},i=ae(a=>{const c=a(i),l=a(t);return r(l,c==null?void 0:c.arr)});(wp?"production":void 0)!=="production"&&(i.debugPrivate=!0),i.init=void 0;const s=Nx(t)?ae(a=>a(i).atomList,(a,c,l)=>{switch(l.type){case"remove":{const d=a(s).indexOf(l.atom);if(d>=0){const h=a(t);c(t,[...h.slice(0,d),...h.slice(d+1)])}break}case"insert":{const d=l.before?a(s).indexOf(l.before):a(s).length;if(d>=0){const h=a(t);c(t,[...h.slice(0,d),l.value,...h.slice(d)])}break}case"move":{const d=a(s).indexOf(l.atom),h=l.before?a(s).indexOf(l.before):a(s).length;if(d>=0&&h>=0){const g=a(t);d<h?c(t,[...g.slice(0,d),...g.slice(d+1,h),g[d],...g.slice(h)]):c(t,[...g.slice(0,h),g[d],...g.slice(h,d),...g.slice(d+1)])}break}}}):ae(a=>a(i).atomList);return s},t,bJ)}const wJ=t=>typeof(t==null?void 0:t.then)=="function";function WP(t=()=>{try{return window.localStorage}catch(n){(wp?"production":void 0)!=="production"&&typeof window<"u"&&console.warn(n);return}},e){var n;let r,i;const s={getItem:(l,d)=>{var h,g;const m=w=>{if(w=w||"",r!==w){try{i=JSON.parse(w,e==null?void 0:e.reviver)}catch{return d}r=w}return i},y=(g=(h=t())==null?void 0:h.getItem(l))!=null?g:null;return wJ(y)?y.then(m):m(y)},setItem:(l,d)=>{var h;return(h=t())==null?void 0:h.setItem(l,JSON.stringify(d,void 0))},removeItem:l=>{var d;return(d=t())==null?void 0:d.removeItem(l)}},a=l=>(d,h,g)=>l(d,m=>{let y;try{y=JSON.parse(m||"")}catch{y=g}h(y)});let c;try{c=(n=t())==null?void 0:n.subscribe}catch{}return!c&&typeof window<"u"&&typeof window.addEventListener=="function"&&window.Storage&&(c=(l,d)=>{if(!(t()instanceof window.Storage))return()=>{};const h=g=>{g.storageArea===t()&&g.key===l&&d(g.newValue)};return window.addEventListener("storage",h),()=>{window.removeEventListener("storage",h)}}),c&&(s.subscribe=a(c)),s}const EJ=WP();function xJ(t,e,n=EJ,r){const i=r==null?void 0:r.getOnInit,s=ae(i?n.getItem(t,e):e);return(wp?"production":void 0)!=="production"&&(s.debugPrivate=!0),s.onMount=c=>{c(n.getItem(t,e));let l;return n.subscribe&&(l=n.subscribe(t,c,e)),l},ae(c=>c(s),(c,l,d)=>{const h=typeof d=="function"?d(c(s)):d;return h===mJ?(l(s,e),n.removeItem(t)):h instanceof Promise?h.then(g=>(l(s,g),n.setItem(t,g))):(l(s,h),n.setItem(t,h))})}var CJ=Object.defineProperty,TJ=(t,e,n)=>e in t?CJ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Xe=(t,e,n)=>(TJ(t,typeof e!="symbol"?e+"":e,n),n);function Gr(t){return new Promise((e,n)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>n(t.error)})}function OJ(t,e){const n=indexedDB.open(t);n.onupgradeneeded=()=>n.result.createObjectStore(e);const r=Gr(n);return(i,s)=>r.then(a=>s(a.transaction(e,i).objectStore(e)))}let ly;function ql(){return ly||(ly=OJ("keyval-store","keyval")),ly}function AJ(t,e,n=ql()){return n("readwrite",r=>(r.put(e,t),Gr(r.transaction)))}function Fx(t,e=ql()){return e("readwrite",n=>(t.forEach(r=>n.put(r[1],r[0])),Gr(n.transaction)))}function kJ(t,e=ql()){return e("readwrite",n=>(n.delete(t),Gr(n.transaction)))}function IJ(t=ql()){return t("readwrite",e=>(e.clear(),Gr(e.transaction)))}function PJ(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},Gr(t.transaction)}function fy(t=ql()){return t("readonly",e=>{if(e.getAll&&e.getAllKeys)return Promise.all([Gr(e.getAllKeys()),Gr(e.getAll())]).then(([r,i])=>r.map((s,a)=>[s,i[a]]));const n=[];return t("readonly",r=>PJ(r,i=>n.push([i.key,i.value])).then(()=>n))})}const $J="jotai-minidb",RJ={name:$J,version:0,migrations:{},onMigrationCompleted:()=>{alert("Data has been migrated. Page will be reloaded"),window.location.reload()},onVersionMissmatch:()=>{}};class MJ{constructor(e={}){Xe(this,"channel"),Xe(this,"cache",ae(void 0)),Xe(this,"idbStorage"),Xe(this,"metaStorage"),Xe(this,"config"),Xe(this,"initStarted",ae(!1)),Xe(this,"initialDataThenable",NJ()),Xe(this,"suspendBeforeInit",ae(async i=>{i(this.items),await i(this.initialDataThenable).promise})),Xe(this,"isInitialized",ae(!1)),Xe(this,"items",ae((i,{setSelf:s})=>(i(this.initStarted)||Promise.resolve().then(s),i(this.cache)),async(i,s)=>{i(this.initStarted)||(s(this.initStarted,!0),this.preloadData().then(a=>{s(this.cache,a),i(this.initialDataThenable).resolve()}),this.channel.onmessage=async a=>{const c=a.data;c.type==="UPDATE"?s(this.cache,l=>({...l,[c.id]:c.item})):c.type==="DELETE"?s(this.cache,l=>{const d={...l};return delete d[c.id],d}):c.type==="UPDATE_MANY"?s(this.cache,Object.fromEntries(await fy(this.idbStorage))):c.type==="MIGRATION_COMPLETED"&&this.config.onMigrationCompleted()})})),Xe(this,"entries",ae(i=>Object.entries(i(this.items)||{}))),Xe(this,"keys",ae(i=>Object.keys(i(this.items)||{}))),Xe(this,"values",ae(i=>Object.values(i(this.items)||{}))),Xe(this,"item",yJ(i=>ae(s=>{var a;return(a=s(this.items))==null?void 0:a[i]},async(s,a,c)=>{await a(this.set,i,c)}))),Xe(this,"set",ae(null,async(i,s,a,c)=>{i(this.cache)||await i(this.suspendBeforeInit);const l=i(this.cache);if(!l)throw new Error("Cache was not initialized");const d=FJ(c)?c(l[a]):c;s(this.cache,h=>({...h,[a]:d})),await AJ(a,d,this.idbStorage),this.channel.postMessage({type:"UPDATE",id:a,item:d})})),Xe(this,"setMany",ae(null,async(i,s,a)=>{i(this.cache)||await i(this.suspendBeforeInit);const c={...i(this.cache)};for(const[l,d]of a)c[l]=d;s(this.cache,c),await Fx(a,this.idbStorage),this.channel.postMessage({type:"UPDATE_MANY"})})),Xe(this,"delete",ae(null,async(i,s,a)=>{i(this.cache)||await i(this.suspendBeforeInit),s(this.cache,c=>{const l={...c};return delete l[a],l}),await kJ(a,this.idbStorage),this.channel.postMessage({type:"DELETE",id:a})})),Xe(this,"clear",ae(null,async(i,s)=>{i(this.cache)||await i(this.suspendBeforeInit),s(this.cache,{}),await IJ(this.idbStorage),this.channel.postMessage({type:"UPDATE_MANY"})})),this.config={...RJ,initialData:{},...e};const{keyvalStorage:n,metaStorage:r}=LJ(this.config.name,"key-value",this.config.initialData);this.idbStorage=n,this.metaStorage=r,this.channel=new BroadcastChannel(`jotai-minidb-broadcast:${this.config.name}`)}async preloadData(){return await this.migrate(),Object.fromEntries(await fy(this.idbStorage))}async migrate(){const e=await this.metaStorage("readonly",n=>Gr(n.get("version")))||0;if(this.config.version>e){let n=await fy(this.idbStorage);for(let r=e+1;r<=this.config.version;r++){const i=this.config.migrations[r];if(!i)throw new Error(`Migrate function for version ${r} is not provided`);n=await Promise.all(n.map(async([s,a])=>[s,await i(a)]))}await Fx(n,this.idbStorage),await this.metaStorage("readwrite",r=>Gr(r.put(this.config.version,"version"))),this.channel.postMessage({type:"MIGRATION_COMPLETED"})}else if(this.config.version<e)throw this.config.onVersionMissmatch(),new Error(`[jotai-minidb] Minimal client version is ${this.config.version} but indexeddb database version is ${e}`)}}function NJ(){return ae(()=>{let t,e;return{promise:new Promise((n,r)=>{t=n,e=r}),resolve:t,reject:e}})}function LJ(t,e,n){const r=indexedDB.open(t),i=[];r.onupgradeneeded=a=>{const c=r.result.createObjectStore(e);r.result.createObjectStore("_meta");for(const[l,d]of Object.entries(n))i.push(Gr(c.add(d,l)))};const s=Gr(r);return{keyvalStorage:async(a,c)=>{const l=await s;return await Promise.all(i),c(l.transaction(e,a).objectStore(e))},metaStorage:(a,c)=>s.then(l=>c(l.transaction("_meta",a).objectStore("_meta")))}}function FJ(t){return typeof t=="function"}new MJ;const BJ=()=>WP(),jJ=(t,e)=>xJ(t,e,BJ(),{getOnInit:!0}),DJ={atom:jJ},zJ=typeof window>"u",UJ=()=>zJ&&typeof self<"u"?self.name==="project"?"project":"controller":"main",$v=UJ(),WJ=t=>t==="main"?"32":t==="project"?"34":"33",KJ=WJ($v),Sh={type:$v,isMain:$v==="main",color:KJ},Bx=()=>{},qJ=()=>{const t=Sh.type,n=`\x1B[${Sh.color}m[${t}]\x1B[0m %s`;return{debug:console.debug.bind(console,n),info:console.info.bind(console,n),warn:console.warn.bind(console,n),error:console.error.bind(console,n),noop:Bx,enabled:(r,i)=>r?i:Bx}},js=qJ(),jx=W_(),KP=(t,e,n,r="mem")=>{const i=r==="mem",s=t===Sh.type,a=!i&&Sh.isMain?DJ.atom(e,n):ae(n),c=new Set,l=new BroadcastChannel(e),d=GH(),h=js.enabled(!1,js.info);h("Creating",{owner:t,isOwner:s,key:e,id:d});let g;const m=ae(x=>x(a),(x,C,T)=>{const R=typeof T.value=="function"?T.value(x(a)):T.value;s?(C(a,T.value),g=R,h("Posting message",R),l.postMessage({type:"update",value:R})):T.isEvent&&C(a,T.value)}),y=x=>{(x.data.type==="update"||x.data.type==="init-ack")&&jx.set(m,{isEvent:!0,value:x.data.value})};return l.onmessage=x=>{const C=x;h("Received message",C.data),C.data.type==="update"&&y(C),s&&C.data.type==="init"?l.postMessage({type:"init-ack",id:C.data.id,value:g||jx.get(a)}):!s&&C.data.type==="init-ack"&&C.data.id===d&&y(C)},m.onMount=x=>{h("on mount");const C=T=>{h("Received listener",T.data),(T.data.type==="update"||T.data.type==="init-ack")&&x({isEvent:!0,value:T.data.value})};return c.add(C),()=>{c.delete(C)}},s||(h("Posting init"),l.postMessage({type:"init",id:d})),ae(x=>x(m),(x,C,T)=>{h("Atom set",T),C(m,{isEvent:!1,value:T})})},So=t=>t,K_=t=>({_tag:"Left",value:t}),Ep=t=>({_tag:"Right",value:t}),VJ=(t,e,n)=>n._tag==="Left"?t(n.value):e(n.value),qP={dimap:(t,e,n)=>r=>e(n(t(r))),first:t=>([e,n])=>[t(e),n],right:t=>e=>e._tag==="Left"?e:Ep(t(e.value)),wander:t=>e=>e.map(t)},HJ={empty:()=>{},foldMap:(t,e)=>{for(let n=0;n<e.length;n++){const r=t(e[n]);if(r!=null)return r}}},GJ={empty:()=>[],foldMap:(t,e)=>{let n=[];return e.forEach(r=>{n=n.concat(t(r))}),n}},q_=t=>({dimap:(e,n,r)=>i=>r(e(i)),first:e=>([n,r])=>e(n),right:e=>n=>n._tag==="Left"?t.empty():e(n.value),wander:e=>n=>t.foldMap(e,n)}),dy={Equivalence:{Equivalence:"Equivalence",Iso:"Iso",Lens:"Lens",Prism:"Prism",Traversal:"Traversal",Getter:"Getter",AffineFold:"AffineFold",Fold:"Fold",Setter:"Setter"},Iso:{Equivalence:"Iso",Iso:"Iso",Lens:"Lens",Prism:"Prism",Traversal:"Traversal",Getter:"Getter",AffineFold:"AffineFold",Fold:"Fold",Setter:"Setter"},Lens:{Equivalence:"Lens",Iso:"Lens",Lens:"Lens",Prism:"Prism",Traversal:"Traversal",Getter:"Getter",AffineFold:"AffineFold",Fold:"Fold",Setter:"Setter"},Prism:{Equivalence:"Prism",Iso:"Prism",Lens:"Prism",Prism:"Prism",Traversal:"Traversal",Getter:"AffineFold",AffineFold:"AffineFold",Fold:"Fold",Setter:"Setter"},Traversal:{Equivalence:"Traversal",Iso:"Traversal",Lens:"Traversal",Prism:"Traversal",Traversal:"Traversal",Getter:"Fold",AffineFold:"Fold",Fold:"Fold",Setter:"Setter"},Getter:{Equivalence:"Getter",Iso:"Getter",Lens:"Getter",Prism:"AffineFold",Traversal:"Fold",Getter:"Getter",AffineFold:"AffineFold",Fold:"Fold",Setter:void 0},AffineFold:{Equivalence:"AffineFold",Iso:"AffineFold",Lens:"AffineFold",Prism:"AffineFold",Traversal:"Fold",Getter:"AffineFold",AffineFold:"AffineFold",Fold:"Fold",Setter:void 0},Fold:{Equivalence:"Fold",Iso:"Fold",Lens:"Fold",Prism:"Fold",Traversal:"Fold",Getter:"Fold",AffineFold:"Fold",Fold:"Fold",Setter:void 0},Setter:{Equivalence:void 0,Iso:void 0,Lens:void 0,Prism:void 0,Traversal:void 0,Getter:void 0,AffineFold:void 0,Fold:void 0,Setter:void 0}},Bu=(t,e)=>{const n=e;return n._tag=t,n},VP=t=>(t._removable=!0,t);function zt(t,e,n){switch(arguments.length){case 2:{const r=(i,s)=>t(i,e(i,s));return r._tag=dy[t._tag][e._tag],r._removable=e._removable||!1,r}default:{const r=dy[t._tag][e._tag],i=(s,a)=>t(s,e(s,n(s,a)));return i._tag=dy[r][n._tag],i._removable=n._removable||!1,i}}}const JJ=Bu("Equivalence",(t,e)=>e),xp=(t,e)=>Bu("Iso",(n,r)=>n.dimap(t,e,r)),Or=(t,e)=>Bu("Lens",(n,r)=>n.dimap(i=>[t(i),i],e,n.first(r))),V_=(t,e)=>Bu("Prism",(n,r)=>n.dimap(t,i=>VJ(So,e,i),n.right(r))),H_=Bu("Traversal",(t,e)=>t.dimap(So,So,t.wander(e))),YJ=t=>Bu("Getter",(e,n)=>e.dimap(t,So,n)),HP=(t,e,n)=>t(qP,e)(n),XJ=(t,e,n)=>t(qP,()=>e)(n),QJ=(t,e)=>t(q_({}),So)(e),ZJ=(t,e)=>t(q_(HJ),So)(e),GP=(t,e)=>t(q_(GJ),n=>[n])(e),tY=xp(t=>t.map((e,n)=>[n,e]),t=>{const e=[...t].sort((r,i)=>r[0]-i[0]),n=[];for(let r=0;r<e.length;++r)(r===e.length-1||e[r][0]!==e[r+1][0])&&n.push(e[r][1]);return n}),Dx=t=>Or(e=>e[t],([e,n])=>Object.assign(Object.assign({},n),{[t]:e})),eY=t=>Or(e=>{const n={};for(const r of t)n[r]=e[r];return n},([e,n])=>{const r=Object.assign({},n);for(const i of t)delete r[i];return Object.assign(r,e)}),JP=t=>Or(e=>e[t],([e,n])=>{const r=n.slice();return r[t]=e,r}),G_=JP(0),J_=t=>V_(e=>t(e)?Ep(e):K_(e),So),ol=Symbol("__no_match__"),YP=J_(t=>t!==ol),XP=Symbol("__remove_me__"),hy=t=>VP(zt(Or(e=>0<=t&&t<e.length?e[t]:ol,([e,n])=>{if(e===ol)return n;if(e===XP)return typeof n=="string"?n.substring(0,t)+n.substring(t+1):[...n.slice(0,t),...n.slice(t+1)];if(typeof n=="string")return t===0?e+n.substring(1):t===n.length?n.substring(0,t-1)+e:n.substring(0,t)+e+n.substring(t+1);{const r=n.slice();return r[t]=e,r}}),YP)),nY=V_(t=>t===void 0?K_(void 0):Ep(t),So),rY=t=>V_(e=>t(e)?Ep(e):K_(e),So),iY=t=>VP(zt(Or(e=>{const n=e.findIndex(t);return n===-1?[ol,-1]:[e[n],n]},([[e,n],r])=>{if(e===ol)return r;if(e===XP)return[...r.slice(0,n),...r.slice(n+1)];const i=r.slice();return i[n]=e,i}),G_,YP)),oY=t=>zt(Or(e=>{const n=e.map((r,i)=>t(r)?i:null).filter(r=>r!=null);return[n.map(r=>e[r]),n]},([[e,n],r])=>{const i=r.length,s=e.length;let a=0,c=0,l=0;const d=[];for(;a<i;)n[c]===a?(++c,l<s&&(d.push(e[l]),++l)):d.push(r[a]),++a;for(;l<s;)d.push(e[l++]);return d}),G_),sY=t=>Or(e=>e===void 0?t:e,([e,n])=>e),aY=t=>zt(Or(e=>{const n=GP(t,e);return[n,n.length]},([[e,n],r])=>{if(e.length!==n)throw new Error("cannot add/remove elements through partsOf");let i=0;return HP(t,()=>e[i++],r)}),G_),uY=t=>Or(e=>t(e),([e,n])=>e),cY=t=>Or(e=>e,([e,n])=>t(e)),lY=Or(t=>{},([t,e])=>t===void 0?e:[t,...e]),fY=Or(t=>{},([t,e])=>t===void 0?e:[...e,t]),dY=zt(xp(t=>t.split(""),t=>t.join("")),H_),hY=zt(xp(t=>t.split(/\b/),t=>t.join("")),H_,J_(t=>!/\s+/.test(t)));class Yt{constructor(e){this._ref=e}get _tag(){return this._ref._tag}get _removable(){return this._ref._removable}compose(e){return new Yt(zt(this._ref,e._ref))}iso(e,n){return new Yt(zt(this._ref,xp(e,n)))}lens(e,n){return new Yt(zt(this._ref,Or(e,([r,i])=>n(i,r))))}indexed(){return new Yt(zt(this._ref,tY))}prop(e){return new Yt(zt(this._ref,Dx(e)))}path(...e){return e.length===1&&(e=e[0].split(".")),new Yt(e.reduce((n,r)=>zt(n,Dx(r)),this._ref))}pick(e){return new Yt(zt(this._ref,eY(e)))}nth(e){return new Yt(zt(this._ref,JP(e)))}filter(e){return new Yt(zt(this._ref,oY(e)))}valueOr(e){return new Yt(zt(this._ref,sY(e)))}partsOf(e){const n=typeof e=="function"?e(QP):e;return new Yt(zt(this._ref,aY(n._ref)))}reread(e){return new Yt(zt(this._ref,uY(e)))}rewrite(e){return new Yt(zt(this._ref,cY(e)))}optional(){return new Yt(zt(this._ref,nY))}guard_(){return e=>this.guard(e)}guard(e){return new Yt(zt(this._ref,rY(e)))}at(e){return new Yt(zt(this._ref,hy(e)))}head(){return new Yt(zt(this._ref,hy(0)))}index(e){return new Yt(zt(this._ref,hy(e)))}find(e){return new Yt(zt(this._ref,iY(e)))}elems(){return new Yt(zt(this._ref,H_))}to(e){return new Yt(zt(this._ref,YJ(e)))}when(e){return new Yt(zt(this._ref,J_(e)))}chars(){return new Yt(zt(this._ref,dY))}words(){return new Yt(zt(this._ref,hY))}prependTo(){return new Yt(zt(this._ref,lY))}appendTo(){return new Yt(zt(this._ref,fY))}}const QP=new Yt(JJ);function pY(){return QP}function gY(t){return e=>QJ(t._ref,e)}function mY(t){return e=>ZJ(t._ref,e)}function yY(t){return e=>GP(t._ref,e)}function vY(t){return e=>n=>HP(t._ref,e,n)}function _Y(t){return e=>n=>XJ(t._ref,e,n)}const zx=(t,e,n)=>(e.has(n)?e:e.set(n,t())).get(n),bY=new WeakMap,SY=(t,e,n)=>{const r=zx(()=>new WeakMap,bY,e);return zx(t,r,n)},wY=t=>typeof t=="function";function EY(t,e){return SY(()=>{const n=e(pY());return ae(i=>{const s=i(t);return s instanceof Promise?s.then(a=>Ux(n,a)):Ux(n,s)},(i,s,a)=>{const c=wY(a)?vY(n)(a):_Y(n)(a),l=i(t);return s(t,l instanceof Promise?l.then(c):c(l))})},t,e)}const Ux=(t,e)=>t._tag==="Traversal"?yY(t)(e):t._tag==="Prism"?mY(t)(e):gY(t)(e),id=W_(),Ha=(t,e)=>{const n=()=>id.get(t),r=C=>{id.set(t,C)};let i;const s=(C,T)=>{const R=()=>{const P=C(n());typeof P=="function"&&(i=P)};T&&R();const M=id.sub(t,()=>{i!==void 0&&i(),R()});return()=>{M()}},a=C=>s(C,!1),c=C=>s(C,!0),l=()=>Rx(t),d=()=>gJ(t),h=()=>[l(),d()],g=C=>Ha(EY(t,C));return{get:n,set:r,sub:a,subAndInit:c,useValue:l,useSet:d,use:h,focus:g,useFocus:C=>{const T=ue.useCallback(R=>R.prop(C),[C]);return g(T)},useFocusMemo:C=>{const T=l();return ue.useMemo(()=>g(C),[T])},array:()=>{const C=t;return id.get(Lx(C)).map(T=>Ha(T))},useArray:()=>Rx(Lx(t)).map(T=>Ha(T))}},xY=(t,e)=>Ha(ae(e)),CY=(t,e,n)=>Ha(KP(t,e,n)),TY=(t,e)=>Ha(KP("main",t,e,"storage")),Wx={},OY=t=>e=>{const n=Wx[e];if(n!==void 0)return n;{const r=t(e);return Wx[e]=r,r}},dn={mem:CY,memSingle:xY,storage:TY,family:OY},Y_=()=>({label:"Default",key:"default",controllers:[],style:{accent:{color1:"#6a11cb",color2:"#2575fc"}}}),AY=()=>({label:"Reload",key:"reload-project",controllers:[],style:{accent:{color1:"#6a11cb",color2:"#2575fc"}}}),kY=()=>({active:"default",projects:[Y_(),AY()]}),gt={initArrangement:dn.mem("project","init-arrangement",[]),importStatus:dn.mem("project","import-status",{type:"none"}),project:{config:dn.storage("projects-config",kY()),abletonName:dn.mem("project","ableton-name",void 0),arrangement:dn.mem("project","arrangement",IG())},realTime:{beats:dn.mem("project","real-time-beats",0),barBeats:dn.mem("project","real-time-bar-beats",1),timeSignature:dn.mem("project","real-time-time-signature",{noteCount:4,noteLength:4}),tempo:dn.mem("project","real-time-tempo",0),isPlaying:dn.mem("project","real-time-is-playing",!1),metronomeState:dn.mem("project","real-time-metronome-state",!1),loopState:dn.mem("project","real-time-loop-state",!1),halfBeat:dn.mem("project","real-time-half-beat",!1)}},oa=ot({channel:Be}),IY=ot({type:Je("sysex"),manufacturer:Be,body:bo(Be)}),PY=ot({type:Je("noteon"),note:Be,velocity:Be,...oa.fields}),$Y=ot({type:Je("noteoff"),note:Be,velocity:Be,...oa.fields}),RY=ot({type:Je("cc"),controllerNumber:Be,data:Be,...oa.fields}),MY=ot({type:Je("pc"),programNumber:Be,...oa.fields}),NY=ot({type:Je("clock")}),LY=ot({type:Je("measureend")}),FY=ot({type:Je("start")}),BY=ot({type:Je("continue")}),jY=ot({type:Je("stop")}),DY=ot({type:Je("reset")}),zY=ot({type:Je("activesensing")}),UY=ot({type:Je("mtcquarterframe"),data:Be}),WY=ot({type:Je("unknown")}),KY=ot({type:Je("error"),message:re}),qY=Ao(IY,PY,$Y,RY,MY,NY,LY,FY,BY,jY,DY,zY,UY,WY,KY),ZP=(t,e)=>{const n=[...e];return at.forEach(t,(r,i)=>{n.push(t.charCodeAt(i))}),n},X_=(t,e=0)=>({type:"sysex",manufacturer:e,body:t}),VY=(t,e=[],n=0)=>X_(ZP(JSON.stringify(t),e),n),HY=(t,e,n=[],r=0)=>X_(ZP(He(VV(e)(t),{onSome:i=>JSON.stringify(i),onNone:()=>"Error encoding schema sysex"}),n),r),GY=t=>{const e=[];return at.forEach(t,n=>{e.push(String.fromCharCode(n))}),e.join("")},JY=(t,e,n=0)=>{const r=GY(t.body.slice(n));return dH(SP(e))(r)},YY=t=>({raw:[],time:new Date,...t}),sl={schema:qY,sysex:X_,jsonSysex:VY,jsonSchemaSysex:HY,parseJsonSysex:JY,raw:YY},t$=t=>({targets:t.targets,init:t.init,render:t.render,loading:t.loading||(()=>()=>()=>{}),listenFilter:t.listenFilter||(()=>!0)}),XY=t$({targets:[],init:()=>()=>{},render:()=>()=>{}}),Q_={of:t$,empty:XY},Z_=t=>{const e=at.fromPairs(at.map(t,s=>[s.name,s])),n=Ao(...t.map(s=>s.schema)),r=s=>s.widgets.flatMap(a=>He(i(a._tag),{onSome:c=>({name:c.name,targets:()=>{const l=c.targets(a);return l._tag==="none"?[]:l._tag==="one"?[l.target]:l.targets},component:()=>c.component(a),widget:a,tracks:()=>c.tracks(a)}),onNone:()=>(console.error("No widget found for config",a),[])})),i=s=>cs(at.get(e,s,void 0));return{schema:n,resolve:r,getByName:i,widgets:t}},QY=t=>t,ZY={name:"empty",controller:Q_.empty,widgets:Z_([])},e$={of:QY,empty:ZY};var n$={exports:{}},Cp={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tX=H,eX=Symbol.for("react.element"),nX=Symbol.for("react.fragment"),rX=Object.prototype.hasOwnProperty,iX=tX.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,oX={key:!0,ref:!0,__self:!0,__source:!0};function r$(t,e,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)rX.call(e,r)&&!oX.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:eX,type:t,key:s,ref:a,props:i,_owner:iX.current}}Cp.Fragment=nX;Cp.jsx=r$;Cp.jsxs=r$;n$.exports=Cp;var G=n$.exports;const i$=ot({target:ui.Schema}),o$=ot({targets:bo(ui.Schema)}),sX=Pn("none",{}),aX=Pn("one",i$.fields),uX=Pn("many",o$.fields);Ao(sX,aX,uX);const s$=t=>({name:t.name,schema:Pn(t.name,t.schema.fields),targets:t.targets,component:t.component,tracks:t.tracks||(()=>[]),init:t.init,inputType:t.inputType}),cX=t=>({name:t.name,schema:Pn(t.name,{...t.schema.fields}),targets:e=>({_tag:"none"}),component:t.component,tracks:t.tracks||(()=>[]),init:()=>({_tag:t.name,...t.init()}),inputType:"none"}),lX=t=>({name:t.name,schema:Pn(t.name,{...i$.fields,...t.schema.fields}),targets:e=>({_tag:"one",target:e.target}),component:t.component,tracks:t.tracks||(()=>[]),init:e=>({_tag:t.name,target:e.target,...t.init()}),inputType:"one"}),fX=t=>({name:t.name,schema:Pn(t.name,{...o$.fields,...t.schema.fields}),targets:e=>({_tag:"many",targets:e.targets}),component:t.component,tracks:t.tracks||(()=>[]),init:e=>({_tag:t.name,targets:e.targets,...t.init()}),inputType:"many"}),dX=(t,e,n)=>s$({name:t.name,schema:ot({...t.schema.fields,...e.fields}),targets:r=>t.targets(r),component:r=>t.component(r),tracks:r=>t.tracks!==void 0?t.tracks(r):[],init:r=>({...t.init(r),...n(r)}),inputType:t.inputType}),be={of:s$,none:cX,one:lX,many:fX,intersect:dX},hX=()=>({send:t=>{js.debug("Empty send",t)}}),pX=t=>({send:e=>{t.emit(e)}}),a$={empty:hX,fromEventEmitter:pX},gX=()=>({on:t=>()=>{console.log("Empty listener",t)}}),mX={empty:gX},yX={isAllowed:!1,getInput:t=>ct(),getOutput:t=>ct(),inputs:[],outputs:[]},vX={deviceManager:dn.memSingle("device-manager",yX)},u$={state:vX.deviceManager},Kx=t=>dn.storage(t,ct()),Hi={daw:{emitter:dn.memSingle("daw-emitter",a$.empty()),listener:dn.memSingle("daw-listener",s0()),selected:{input:Kx("daw-midi-input-selected"),output:Kx("daw-midi-output-selected")}}},c$=()=>u$.state.get(),qx=()=>{const t=J(Hi.daw.selected.input.get(),Ou(c$().getInput));Hi.daw.listener.set(je(t,()=>mX.empty()))},Vx=()=>{const t=J(Hi.daw.selected.output.get(),Ou(c$().getOutput));Hi.daw.emitter.set(je(t,()=>a$.empty()))},wh=t=>t==="input"?Hi.daw.selected.input:Hi.daw.selected.output,_X=()=>{Hi.daw.selected.input.sub(qx),qx(),Hi.daw.selected.output.sub(Vx),Vx()},bX=(t,e)=>{wh(e).set(t)},SX=t=>wh(t).get(),wX=t=>{const e=u$.state.useValue(),n=ue.useMemo(()=>t==="input"?e.inputs:e.outputs,[e]),r=wh(t).useValue(),i=wh(t).useSet();return{type:t,devices:n,selected:ai(r),setSelected:s=>{i(cs(s))}}};let py;const l$=()=>(py===void 0&&(py=new BroadcastChannel("project:daw")),py),EX=()=>{const t=l$();return{send:e=>{t.postMessage(e)}}},ko={init:_X,useMidiDevices:wX,setSelected:bX,getSelected:SX,states:Hi,getChannel:l$,useDawEmitter:EX,useDawListener:()=>Hi.daw.listener.useValue()},f$=be.one({name:"play",schema:ot({color:tt.Schema}),init:()=>({color:tt.GREEN}),component:({target:t,color:e})=>{const n=ko.useDawEmitter();return G.jsx("pad",{color:e,target:t,onClick:()=>n.send(hn.play())})}}),d$=be.one({name:"stop",schema:ot({color:tt.Schema}),init:()=>({color:tt.RED}),component:({target:t,color:e})=>{const n=ko.useDawEmitter();return G.jsx("pad",{color:e,target:t,onClick:()=>n.send(hn.stop())})}}),xX=be.one({name:"record",schema:ot({color:tt.Schema}),init:()=>({color:tt.PURPLE}),component:({target:t,color:e})=>{const n=ko.useDawEmitter();return G.jsx("pad",{color:e,target:t,onClick:()=>n.send(hn.record())})}}),CX=()=>{let t=[],e=!1,n=120,r=100,i=4;const s=h=>t.forEach(g=>g(h)),a=h=>{s({beat:h,halfBeat:!1,isPlaying:e}),setTimeout(()=>{s({beat:h,halfBeat:!0,isPlaying:e})},r)},c=h=>{if(e=h,!h){const g=()=>setTimeout(()=>{a(1),e||g()},r*2);g()}};c(!1);const l=()=>{i<=4?r=60/n/2*1e3:r=60/n/4*1e3};return l(),gt.realTime.tempo.sub(h=>{n=h,l()}),gt.realTime.timeSignature.sub(h=>{i=h.noteLength,l()}),gt.realTime.isPlaying.sub(c),gt.realTime.barBeats.sub(a),{onTick:h=>(t=[...t,h],()=>{t=t.filter(g=>g!==h)})}};let gy;const TX=()=>(gy===void 0&&(gy=CX()),gy),OX=t=>TX().onTick(t),h$={onTick:OX},wo=t=>{const[e,n]=ue.useState(t.color);return ue.useEffect(()=>t.isFlashing?h$.onTick(r=>n(r.halfBeat?tt.BLACK:t.color)):(n(t.color),()=>{}),[t.color,t.isFlashing]),G.jsx("pad",{...t,color:e})};/**
 * @license
 * MIT License
 * 
 * Copyright (c) 2014-present, Lee Byron and other contributors.
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */var Vl="delete",ne=5,gr=1<<ne,Wn=gr-1,Ft={};function Rv(){return{value:!1}}function Vr(t){t&&(t.value=!0)}function tb(){}function yu(t){return t.size===void 0&&(t.size=t.__iterate(p$)),t.size}function is(t,e){if(typeof e!="number"){var n=e>>>0;if(""+n!==e||n===4294967295)return NaN;e=n}return e<0?yu(t)+e:e}function p$(){return!0}function Tp(t,e,n){return(t===0&&!m$(t)||n!==void 0&&t<=-n)&&(e===void 0||n!==void 0&&e>=n)}function Hl(t,e){return g$(t,e,0)}function Op(t,e){return g$(t,e,e)}function g$(t,e,n){return t===void 0?n:m$(t)?e===1/0?e:Math.max(0,e+t)|0:e===void 0||e===t?t:Math.min(e,t)|0}function m$(t){return t<0||t===0&&1/t===-1/0}var y$="@@__IMMUTABLE_ITERABLE__@@";function Er(t){return!!(t&&t[y$])}var Eh="@@__IMMUTABLE_KEYED__@@";function ge(t){return!!(t&&t[Eh])}var xh="@@__IMMUTABLE_INDEXED__@@";function Jr(t){return!!(t&&t[xh])}function eb(t){return ge(t)||Jr(t)}var $n=function(e){return Er(e)?e:nr(e)},Yr=function(t){function e(n){return ge(n)?n:fs(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}($n),sa=function(t){function e(n){return Jr(n)?n:vi(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}($n),ju=function(t){function e(n){return Er(n)&&!eb(n)?n:Uu(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}($n);$n.Keyed=Yr;$n.Indexed=sa;$n.Set=ju;var v$="@@__IMMUTABLE_SEQ__@@";function nb(t){return!!(t&&t[v$])}var _$="@@__IMMUTABLE_RECORD__@@";function aa(t){return!!(t&&t[_$])}function Ji(t){return Er(t)||aa(t)}var os="@@__IMMUTABLE_ORDERED__@@";function Wi(t){return!!(t&&t[os])}var Du=0,xr=1,Cr=2,Mv=typeof Symbol=="function"&&Symbol.iterator,b$="@@iterator",Ap=Mv||b$,Dt=function(e){this.next=e};Dt.prototype.toString=function(){return"[Iterator]"};Dt.KEYS=Du;Dt.VALUES=xr;Dt.ENTRIES=Cr;Dt.prototype.inspect=Dt.prototype.toSource=function(){return this.toString()};Dt.prototype[Ap]=function(){return this};function me(t,e,n,r){var i=t===Du?e:t===xr?n:[e,n];return r?r.value=i:r={value:i,done:!1},r}function Kn(){return{value:void 0,done:!0}}function S$(t){return Array.isArray(t)?!0:!!kp(t)}function Hx(t){return t&&typeof t.next=="function"}function Nv(t){var e=kp(t);return e&&e.call(t)}function kp(t){var e=t&&(Mv&&t[Mv]||t[b$]);if(typeof e=="function")return e}function AX(t){var e=kp(t);return e&&e===t.entries}function kX(t){var e=kp(t);return e&&e===t.keys}var zu=Object.prototype.hasOwnProperty;function w$(t){return Array.isArray(t)||typeof t=="string"?!0:t&&typeof t=="object"&&Number.isInteger(t.length)&&t.length>=0&&(t.length===0?Object.keys(t).length===1:t.hasOwnProperty(t.length-1))}var nr=function(t){function e(n){return n==null?ib():Ji(n)?n.toSeq():PX(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq {","}")},e.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},e.prototype.__iterate=function(r,i){var s=this._cache;if(s){for(var a=s.length,c=0;c!==a;){var l=s[i?a-++c:c++];if(r(l[1],l[0],this)===!1)break}return c}return this.__iterateUncached(r,i)},e.prototype.__iterator=function(r,i){var s=this._cache;if(s){var a=s.length,c=0;return new Dt(function(){if(c===a)return Kn();var l=s[i?a-++c:c++];return me(r,l[0],l[1])})}return this.__iteratorUncached(r,i)},e}($n),fs=function(t){function e(n){return n==null?ib().toKeyedSeq():Er(n)?ge(n)?n.toSeq():n.fromEntrySeq():aa(n)?n.toSeq():ob(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toKeyedSeq=function(){return this},e}(nr),vi=function(t){function e(n){return n==null?ib():Er(n)?ge(n)?n.entrySeq():n.toIndexedSeq():aa(n)?n.toSeq().entrySeq():E$(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return e(arguments)},e.prototype.toIndexedSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq [","]")},e}(nr),Uu=function(t){function e(n){return(Er(n)&&!eb(n)?n:vi(n)).toSetSeq()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return e(arguments)},e.prototype.toSetSeq=function(){return this},e}(nr);nr.isSeq=nb;nr.Keyed=fs;nr.Set=Uu;nr.Indexed=vi;nr.prototype[v$]=!0;var vu=function(t){function e(n){this._array=n,this.size=n.length}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(r,i){return this.has(r)?this._array[is(this,r)]:i},e.prototype.__iterate=function(r,i){for(var s=this._array,a=s.length,c=0;c!==a;){var l=i?a-++c:c++;if(r(s[l],l,this)===!1)break}return c},e.prototype.__iterator=function(r,i){var s=this._array,a=s.length,c=0;return new Dt(function(){if(c===a)return Kn();var l=i?a-++c:c++;return me(r,l,s[l])})},e}(vi),rb=function(t){function e(n){var r=Object.keys(n).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(n):[]);this._object=n,this._keys=r,this.size=r.length}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(r,i){return i!==void 0&&!this.has(r)?i:this._object[r]},e.prototype.has=function(r){return zu.call(this._object,r)},e.prototype.__iterate=function(r,i){for(var s=this._object,a=this._keys,c=a.length,l=0;l!==c;){var d=a[i?c-++l:l++];if(r(s[d],d,this)===!1)break}return l},e.prototype.__iterator=function(r,i){var s=this._object,a=this._keys,c=a.length,l=0;return new Dt(function(){if(l===c)return Kn();var d=a[i?c-++l:l++];return me(r,d,s[d])})},e}(fs);rb.prototype[os]=!0;var IX=function(t){function e(n){this._collection=n,this.size=n.length||n.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__iterateUncached=function(r,i){if(i)return this.cacheResult().__iterate(r,i);var s=this._collection,a=Nv(s),c=0;if(Hx(a))for(var l;!(l=a.next()).done&&r(l.value,c++,this)!==!1;);return c},e.prototype.__iteratorUncached=function(r,i){if(i)return this.cacheResult().__iterator(r,i);var s=this._collection,a=Nv(s);if(!Hx(a))return new Dt(Kn);var c=0;return new Dt(function(){var l=a.next();return l.done?l:me(r,c++,l.value)})},e}(vi),Gx;function ib(){return Gx||(Gx=new vu([]))}function ob(t){var e=sb(t);if(e)return e.fromEntrySeq();if(typeof t=="object")return new rb(t);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+t)}function E$(t){var e=sb(t);if(e)return e;throw new TypeError("Expected Array or collection object of values: "+t)}function PX(t){var e=sb(t);if(e)return AX(t)?e.fromEntrySeq():kX(t)?e.toSetSeq():e;if(typeof t=="object")return new rb(t);throw new TypeError("Expected Array or collection object of values, or keyed object: "+t)}function sb(t){return w$(t)?new vu(t):S$(t)?new IX(t):void 0}var x$="@@__IMMUTABLE_MAP__@@";function ab(t){return!!(t&&t[x$])}function C$(t){return ab(t)&&Wi(t)}function Jx(t){return!!(t&&typeof t.equals=="function"&&typeof t.hashCode=="function")}function mr(t,e){if(t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1;if(typeof t.valueOf=="function"&&typeof e.valueOf=="function"){if(t=t.valueOf(),e=e.valueOf(),t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1}return!!(Jx(t)&&Jx(e)&&t.equals(e))}var Cc=typeof Math.imul=="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(e,n){e|=0,n|=0;var r=e&65535,i=n&65535;return r*i+((e>>>16)*i+r*(n>>>16)<<16>>>0)|0};function Ip(t){return t>>>1&1073741824|t&3221225471}var $X=Object.prototype.valueOf;function dr(t){if(t==null)return Yx(t);if(typeof t.hashCode=="function")return Ip(t.hashCode(t));var e=BX(t);if(e==null)return Yx(e);switch(typeof e){case"boolean":return e?1108378657:1108378656;case"number":return RX(e);case"string":return e.length>jX?MX(e):Lv(e);case"object":case"function":return LX(e);case"symbol":return NX(e);default:if(typeof e.toString=="function")return Lv(e.toString());throw new Error("Value type "+typeof e+" cannot be hashed.")}}function Yx(t){return t===null?1108378658:1108378659}function RX(t){if(t!==t||t===1/0)return 0;var e=t|0;for(e!==t&&(e^=t*4294967295);t>4294967295;)t/=4294967295,e^=t;return Ip(e)}function MX(t){var e=vy[t];return e===void 0&&(e=Lv(t),yy===DX&&(yy=0,vy={}),yy++,vy[t]=e),e}function Lv(t){for(var e=0,n=0;n<t.length;n++)e=31*e+t.charCodeAt(n)|0;return Ip(e)}function NX(t){var e=Zx[t];return e!==void 0||(e=T$(),Zx[t]=e),e}function LX(t){var e;if(Fv&&(e=Bv.get(t),e!==void 0)||(e=t[As],e!==void 0)||!Qx&&(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[As],e!==void 0||(e=FX(t),e!==void 0)))return e;if(e=T$(),Fv)Bv.set(t,e);else{if(Xx!==void 0&&Xx(t)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(Qx)Object.defineProperty(t,As,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(t.propertyIsEnumerable!==void 0&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[As]=e;else if(t.nodeType!==void 0)t[As]=e;else throw new Error("Unable to set a non-enumerable property on object.")}return e}var Xx=Object.isExtensible,Qx=function(){try{return Object.defineProperty({},"@",{}),!0}catch{return!1}}();function FX(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}function BX(t){return t.valueOf!==$X&&typeof t.valueOf=="function"?t.valueOf(t):t}function T$(){var t=++my;return my&1073741824&&(my=0),t}var Fv=typeof WeakMap=="function",Bv;Fv&&(Bv=new WeakMap);var Zx=Object.create(null),my=0,As="__immutablehash__";typeof Symbol=="function"&&(As=Symbol(As));var jX=16,DX=255,yy=0,vy={},Pp=function(t){function e(n,r){this._iter=n,this._useKeys=r,this.size=n.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(r,i){return this._iter.get(r,i)},e.prototype.has=function(r){return this._iter.has(r)},e.prototype.valueSeq=function(){return this._iter.valueSeq()},e.prototype.reverse=function(){var r=this,i=ub(this,!0);return this._useKeys||(i.valueSeq=function(){return r._iter.toSeq().reverse()}),i},e.prototype.map=function(r,i){var s=this,a=P$(this,r,i);return this._useKeys||(a.valueSeq=function(){return s._iter.toSeq().map(r,i)}),a},e.prototype.__iterate=function(r,i){var s=this;return this._iter.__iterate(function(a,c){return r(a,c,s)},i)},e.prototype.__iterator=function(r,i){return this._iter.__iterator(r,i)},e}(fs);Pp.prototype[os]=!0;var O$=function(t){function e(n){this._iter=n,this.size=n.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.includes=function(r){return this._iter.includes(r)},e.prototype.__iterate=function(r,i){var s=this,a=0;return i&&yu(this),this._iter.__iterate(function(c){return r(c,i?s.size-++a:a++,s)},i)},e.prototype.__iterator=function(r,i){var s=this,a=this._iter.__iterator(xr,i),c=0;return i&&yu(this),new Dt(function(){var l=a.next();return l.done?l:me(r,i?s.size-++c:c++,l.value,l)})},e}(vi),A$=function(t){function e(n){this._iter=n,this.size=n.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.has=function(r){return this._iter.includes(r)},e.prototype.__iterate=function(r,i){var s=this;return this._iter.__iterate(function(a){return r(a,a,s)},i)},e.prototype.__iterator=function(r,i){var s=this._iter.__iterator(xr,i);return new Dt(function(){var a=s.next();return a.done?a:me(r,a.value,a.value,a)})},e}(Uu),k$=function(t){function e(n){this._iter=n,this.size=n.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.entrySeq=function(){return this._iter.toSeq()},e.prototype.__iterate=function(r,i){var s=this;return this._iter.__iterate(function(a){if(a){eC(a);var c=Er(a);return r(c?a.get(1):a[1],c?a.get(0):a[0],s)}},i)},e.prototype.__iterator=function(r,i){var s=this._iter.__iterator(xr,i);return new Dt(function(){for(;;){var a=s.next();if(a.done)return a;var c=a.value;if(c){eC(c);var l=Er(c);return me(r,l?c.get(0):c[0],l?c.get(1):c[1],a)}}})},e}(fs);O$.prototype.cacheResult=Pp.prototype.cacheResult=A$.prototype.cacheResult=k$.prototype.cacheResult=fb;function I$(t){var e=Yi(t);return e._iter=t,e.size=t.size,e.flip=function(){return t},e.reverse=function(){var n=t.reverse.apply(this);return n.flip=function(){return t.reverse()},n},e.has=function(n){return t.includes(n)},e.includes=function(n){return t.has(n)},e.cacheResult=fb,e.__iterateUncached=function(n,r){var i=this;return t.__iterate(function(s,a){return n(a,s,i)!==!1},r)},e.__iteratorUncached=function(n,r){if(n===Cr){var i=t.__iterator(n,r);return new Dt(function(){var s=i.next();if(!s.done){var a=s.value[0];s.value[0]=s.value[1],s.value[1]=a}return s})}return t.__iterator(n===xr?Du:xr,r)},e}function P$(t,e,n){var r=Yi(t);return r.size=t.size,r.has=function(i){return t.has(i)},r.get=function(i,s){var a=t.get(i,Ft);return a===Ft?s:e.call(n,a,i,t)},r.__iterateUncached=function(i,s){var a=this;return t.__iterate(function(c,l,d){return i(e.call(n,c,l,d),l,a)!==!1},s)},r.__iteratorUncached=function(i,s){var a=t.__iterator(Cr,s);return new Dt(function(){var c=a.next();if(c.done)return c;var l=c.value,d=l[0];return me(i,d,e.call(n,l[1],d,t),c)})},r}function ub(t,e){var n=this,r=Yi(t);return r._iter=t,r.size=t.size,r.reverse=function(){return t},t.flip&&(r.flip=function(){var i=I$(t);return i.reverse=function(){return t.flip()},i}),r.get=function(i,s){return t.get(e?i:-1-i,s)},r.has=function(i){return t.has(e?i:-1-i)},r.includes=function(i){return t.includes(i)},r.cacheResult=fb,r.__iterate=function(i,s){var a=this,c=0;return s&&yu(t),t.__iterate(function(l,d){return i(l,e?d:s?a.size-++c:c++,a)},!s)},r.__iterator=function(i,s){var a=0;s&&yu(t);var c=t.__iterator(Cr,!s);return new Dt(function(){var l=c.next();if(l.done)return l;var d=l.value;return me(i,e?d[0]:s?n.size-++a:a++,d[1],l)})},r}function $$(t,e,n,r){var i=Yi(t);return r&&(i.has=function(s){var a=t.get(s,Ft);return a!==Ft&&!!e.call(n,a,s,t)},i.get=function(s,a){var c=t.get(s,Ft);return c!==Ft&&e.call(n,c,s,t)?c:a}),i.__iterateUncached=function(s,a){var c=this,l=0;return t.__iterate(function(d,h,g){if(e.call(n,d,h,g))return l++,s(d,r?h:l-1,c)},a),l},i.__iteratorUncached=function(s,a){var c=t.__iterator(Cr,a),l=0;return new Dt(function(){for(;;){var d=c.next();if(d.done)return d;var h=d.value,g=h[0],m=h[1];if(e.call(n,m,g,t))return me(s,r?g:l++,m,d)}})},i}function zX(t,e,n){var r=Ku().asMutable();return t.__iterate(function(i,s){r.update(e.call(n,i,s,t),0,function(a){return a+1})}),r.asImmutable()}function UX(t,e,n){var r=ge(t),i=(Wi(t)?xo():Ku()).asMutable();t.__iterate(function(a,c){i.update(e.call(n,a,c,t),function(l){return l=l||[],l.push(r?[c,a]:a),l})});var s=lb(t);return i.map(function(a){return ee(t,s(a))}).asImmutable()}function WX(t,e,n){var r=ge(t),i=[[],[]];t.__iterate(function(a,c){i[e.call(n,a,c,t)?1:0].push(r?[c,a]:a)});var s=lb(t);return i.map(function(a){return ee(t,s(a))})}function cb(t,e,n,r){var i=t.size;if(Tp(e,n,i))return t;if(typeof i>"u"&&(e<0||n<0))return cb(t.toSeq().cacheResult(),e,n,r);var s=Hl(e,i),a=Op(n,i),c=a-s,l;c===c&&(l=c<0?0:c);var d=Yi(t);return d.size=l===0?l:t.size&&l||void 0,!r&&nb(t)&&l>=0&&(d.get=function(h,g){return h=is(this,h),h>=0&&h<l?t.get(h+s,g):g}),d.__iterateUncached=function(h,g){var m=this;if(l===0)return 0;if(g)return this.cacheResult().__iterate(h,g);var y=0,w=!0,x=0;return t.__iterate(function(C,T){if(!(w&&(w=y++<s)))return x++,h(C,r?T:x-1,m)!==!1&&x!==l}),x},d.__iteratorUncached=function(h,g){if(l!==0&&g)return this.cacheResult().__iterator(h,g);if(l===0)return new Dt(Kn);var m=t.__iterator(h,g),y=0,w=0;return new Dt(function(){for(;y++<s;)m.next();if(++w>l)return Kn();var x=m.next();return r||h===xr||x.done?x:h===Du?me(h,w-1,void 0,x):me(h,w-1,x.value[1],x)})},d}function KX(t,e,n){var r=Yi(t);return r.__iterateUncached=function(i,s){var a=this;if(s)return this.cacheResult().__iterate(i,s);var c=0;return t.__iterate(function(l,d,h){return e.call(n,l,d,h)&&++c&&i(l,d,a)}),c},r.__iteratorUncached=function(i,s){var a=this;if(s)return this.cacheResult().__iterator(i,s);var c=t.__iterator(Cr,s),l=!0;return new Dt(function(){if(!l)return Kn();var d=c.next();if(d.done)return d;var h=d.value,g=h[0],m=h[1];return e.call(n,m,g,a)?i===Cr?d:me(i,g,m,d):(l=!1,Kn())})},r}function R$(t,e,n,r){var i=Yi(t);return i.__iterateUncached=function(s,a){var c=this;if(a)return this.cacheResult().__iterate(s,a);var l=!0,d=0;return t.__iterate(function(h,g,m){if(!(l&&(l=e.call(n,h,g,m))))return d++,s(h,r?g:d-1,c)}),d},i.__iteratorUncached=function(s,a){var c=this;if(a)return this.cacheResult().__iterator(s,a);var l=t.__iterator(Cr,a),d=!0,h=0;return new Dt(function(){var g,m,y;do{if(g=l.next(),g.done)return r||s===xr?g:s===Du?me(s,h++,void 0,g):me(s,h++,g.value[1],g);var w=g.value;m=w[0],y=w[1],d&&(d=e.call(n,y,m,c))}while(d);return s===Cr?g:me(s,m,y,g)})},i}var qX=function(t){function e(n){this._wrappedIterables=n.flatMap(function(r){return r._wrappedIterables?r._wrappedIterables:[r]}),this.size=this._wrappedIterables.reduce(function(r,i){if(r!==void 0){var s=i.size;if(s!==void 0)return r+s}},0),this[Eh]=this._wrappedIterables[0][Eh],this[xh]=this._wrappedIterables[0][xh],this[os]=this._wrappedIterables[0][os]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__iterateUncached=function(r,i){if(this._wrappedIterables.length!==0){if(i)return this.cacheResult().__iterate(r,i);for(var s=0,a=ge(this),c=a?Cr:xr,l=this._wrappedIterables[s].__iterator(c,i),d=!0,h=0;d;){for(var g=l.next();g.done;){if(s++,s===this._wrappedIterables.length)return h;l=this._wrappedIterables[s].__iterator(c,i),g=l.next()}var m=a?r(g.value[1],g.value[0],this):r(g.value,h,this);d=m!==!1,h++}return h}},e.prototype.__iteratorUncached=function(r,i){var s=this;if(this._wrappedIterables.length===0)return new Dt(Kn);if(i)return this.cacheResult().__iterator(r,i);var a=0,c=this._wrappedIterables[a].__iterator(r,i);return new Dt(function(){for(var l=c.next();l.done;){if(a++,a===s._wrappedIterables.length)return l;c=s._wrappedIterables[a].__iterator(r,i),l=c.next()}return l})},e}(nr);function VX(t,e){var n=ge(t),r=[t].concat(e).map(function(s){return Er(s)?n&&(s=Yr(s)):s=n?ob(s):E$(Array.isArray(s)?s:[s]),s}).filter(function(s){return s.size!==0});if(r.length===0)return t;if(r.length===1){var i=r[0];if(i===t||n&&ge(i)||Jr(t)&&Jr(i))return i}return new qX(r)}function M$(t,e,n){var r=Yi(t);return r.__iterateUncached=function(i,s){if(s)return this.cacheResult().__iterate(i,s);var a=0,c=!1;function l(d,h){d.__iterate(function(g,m){return(!e||h<e)&&Er(g)?l(g,h+1):(a++,i(g,n?m:a-1,r)===!1&&(c=!0)),!c},s)}return l(t,0),a},r.__iteratorUncached=function(i,s){if(s)return this.cacheResult().__iterator(i,s);var a=t.__iterator(i,s),c=[],l=0;return new Dt(function(){for(;a;){var d=a.next();if(d.done!==!1){a=c.pop();continue}var h=d.value;if(i===Cr&&(h=h[1]),(!e||c.length<e)&&Er(h))c.push(a),a=h.__iterator(i,s);else return n?d:me(i,l++,h,d)}return Kn()})},r}function HX(t,e,n){var r=lb(t);return t.toSeq().map(function(i,s){return r(e.call(n,i,s,t))}).flatten(!0)}function GX(t,e){var n=Yi(t);return n.size=t.size&&t.size*2-1,n.__iterateUncached=function(r,i){var s=this,a=0;return t.__iterate(function(c){return(!a||r(e,a++,s)!==!1)&&r(c,a++,s)!==!1},i),a},n.__iteratorUncached=function(r,i){var s=t.__iterator(xr,i),a=0,c;return new Dt(function(){return(!c||a%2)&&(c=s.next(),c.done)?c:a%2?me(r,a++,e):me(r,a++,c.value,c)})},n}function _u(t,e,n){e||(e=N$);var r=ge(t),i=0,s=t.toSeq().map(function(a,c){return[c,a,i++,n?n(a,c,t):a]}).valueSeq().toArray();return s.sort(function(a,c){return e(a[3],c[3])||a[2]-c[2]}).forEach(r?function(a,c){s[c].length=2}:function(a,c){s[c]=a[1]}),r?fs(s):Jr(t)?vi(s):Uu(s)}function od(t,e,n){if(e||(e=N$),n){var r=t.toSeq().map(function(i,s){return[i,n(i,s,t)]}).reduce(function(i,s){return tC(e,i[1],s[1])?s:i});return r&&r[0]}return t.reduce(function(i,s){return tC(e,i,s)?s:i})}function tC(t,e,n){var r=t(n,e);return r===0&&n!==e&&(n==null||n!==n)||r>0}function sd(t,e,n,r){var i=Yi(t),s=new vu(n).map(function(a){return a.size});return i.size=r?s.max():s.min(),i.__iterate=function(a,c){for(var l=this.__iterator(xr,c),d,h=0;!(d=l.next()).done&&a(d.value,h++,this)!==!1;);return h},i.__iteratorUncached=function(a,c){var l=n.map(function(g){return g=$n(g),Nv(c?g.reverse():g)}),d=0,h=!1;return new Dt(function(){var g;return h||(g=l.map(function(m){return m.next()}),h=r?g.every(function(m){return m.done}):g.some(function(m){return m.done})),h?Kn():me(a,d++,e.apply(null,g.map(function(m){return m.value})))})},i}function ee(t,e){return t===e?t:nb(t)?e:t.constructor(e)}function eC(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function lb(t){return ge(t)?Yr:Jr(t)?sa:ju}function Yi(t){return Object.create((ge(t)?fs:Jr(t)?vi:Uu).prototype)}function fb(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):nr.prototype.cacheResult.call(this)}function N$(t,e){return t===void 0&&e===void 0?0:t===void 0?1:e===void 0?-1:t>e?1:t<e?-1:0}function Fi(t,e){e=e||0;for(var n=Math.max(0,t.length-e),r=new Array(n),i=0;i<n;i++)r[i]=t[i+e];return r}function Wc(t,e){if(!t)throw new Error(e)}function hr(t){Wc(t!==1/0,"Cannot perform this action with an infinite size.")}function L$(t){if(w$(t)&&typeof t!="string")return t;if(Wi(t))return t.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+t)}var JX=Object.prototype.toString;function YX(t){if(!t||typeof t!="object"||JX.call(t)!=="[object Object]")return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var n=e,r=Object.getPrototypeOf(e);r!==null;)n=r,r=Object.getPrototypeOf(n);return n===e}function ss(t){return typeof t=="object"&&(Ji(t)||Array.isArray(t)||YX(t))}function al(t){try{return typeof t=="string"?JSON.stringify(t):String(t)}catch{return JSON.stringify(t)}}function XX(t,e){return Ji(t)?t.has(e):ss(t)&&zu.call(t,e)}function F$(t,e,n){return Ji(t)?t.get(e,n):XX(t,e)?typeof t.get=="function"?t.get(e):t[e]:n}function Ch(t){if(Array.isArray(t))return Fi(t);var e={};for(var n in t)zu.call(t,n)&&(e[n]=t[n]);return e}function QX(t,e){if(!ss(t))throw new TypeError("Cannot update non-data-structure value: "+t);if(Ji(t)){if(!t.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+t);return t.remove(e)}if(!zu.call(t,e))return t;var n=Ch(t);return Array.isArray(n)?n.splice(e,1):delete n[e],n}function ZX(t,e,n){if(!ss(t))throw new TypeError("Cannot update non-data-structure value: "+t);if(Ji(t)){if(!t.set)throw new TypeError("Cannot update immutable value without .set() method: "+t);return t.set(e,n)}if(zu.call(t,e)&&n===t[e])return t;var r=Ch(t);return r[e]=n,r}function Wu(t,e,n,r){r||(r=n,n=void 0);var i=B$(Ji(t),t,L$(e),0,n,r);return i===Ft?n:i}function B$(t,e,n,r,i,s){var a=e===Ft;if(r===n.length){var c=a?i:e,l=s(c);return l===c?e:l}if(!a&&!ss(e))throw new TypeError("Cannot update within non-data-structure value in path ["+Array.from(n).slice(0,r).map(al)+"]: "+e);var d=n[r],h=a?Ft:F$(e,d,Ft),g=B$(h===Ft?t:Ji(h),h,n,r+1,i,s);return g===h?e:g===Ft?QX(e,d):ZX(a?t?ji():{}:e,d,g)}function tQ(t,e,n){return Wu(t,e,Ft,function(){return n})}function db(t,e){return tQ(this,t,e)}function eQ(t,e){return Wu(t,e,function(){return Ft})}function hb(t){return eQ(this,t)}function j$(t,e,n,r){return Wu(t,[e],n,r)}function pb(t,e,n){return arguments.length===1?t(this):j$(this,t,e,n)}function gb(t,e,n){return Wu(this,t,e,n)}function D$(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return U$(this,t)}function z$(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];if(typeof t!="function")throw new TypeError("Invalid merger function: "+t);return U$(this,e,t)}function U$(t,e,n){for(var r=[],i=0;i<e.length;i++){var s=Yr(e[i]);s.size!==0&&r.push(s)}return r.length===0?t:t.toSeq().size===0&&!t.__ownerID&&r.length===1?aa(t)?t:t.constructor(r[0]):t.withMutations(function(a){for(var c=n?function(d,h){j$(a,h,Ft,function(g){return g===Ft?d:n(g,d,h)})}:function(d,h){a.set(h,d)},l=0;l<r.length;l++)r[l].forEach(c)})}function mb(t,e,n){return yb(t,e,nQ(n))}function yb(t,e,n){if(!ss(t))throw new TypeError("Cannot merge into non-data-structure value: "+t);if(Ji(t))return typeof n=="function"&&t.mergeWith?t.mergeWith.apply(t,[n].concat(e)):t.merge?t.merge.apply(t,e):t.concat.apply(t,e);for(var r=Array.isArray(t),i=t,s=r?sa:Yr,a=r?function(l){i===t&&(i=Ch(i)),i.push(l)}:function(l,d){var h=zu.call(i,d),g=h&&n?n(i[d],l,d):l;(!h||g!==i[d])&&(i===t&&(i=Ch(i)),i[d]=g)},c=0;c<e.length;c++)s(e[c]).forEach(a);return i}function nQ(t){function e(n,r,i){return ss(n)&&ss(r)&&rQ(n,r)?yb(n,[r],e):t?t(n,r,i):r}return e}function rQ(t,e){var n=nr(t),r=nr(e);return Jr(n)===Jr(r)&&ge(n)===ge(r)}function W$(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return mb(this,t)}function K$(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return mb(this,e,t)}function vb(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return Wu(this,t,ji(),function(r){return yb(r,e)})}function _b(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return Wu(this,t,ji(),function(r){return mb(r,e)})}function Gl(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this}function Jl(){return this.__ownerID?this:this.__ensureOwner(new tb)}function Yl(){return this.__ensureOwner()}function bb(){return this.__altered}var Ku=function(t){function e(n){return n==null?ji():ab(n)&&!Wi(n)?n:ji().withMutations(function(r){var i=t(n);hr(i.size),i.forEach(function(s,a){return r.set(a,s)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return this.__toString("Map {","}")},e.prototype.get=function(r,i){return this._root?this._root.get(0,void 0,r,i):i},e.prototype.set=function(r,i){return iC(this,r,i)},e.prototype.remove=function(r){return iC(this,r,Ft)},e.prototype.deleteAll=function(r){var i=$n(r);return i.size===0?this:this.withMutations(function(s){i.forEach(function(a){return s.remove(a)})})},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):ji()},e.prototype.sort=function(r){return xo(_u(this,r))},e.prototype.sortBy=function(r,i){return xo(_u(this,i,r))},e.prototype.map=function(r,i){var s=this;return this.withMutations(function(a){a.forEach(function(c,l){a.set(l,r.call(i,c,l,s))})})},e.prototype.__iterator=function(r,i){return new iQ(this,r,i)},e.prototype.__iterate=function(r,i){var s=this,a=0;return this._root&&this._root.iterate(function(c){return a++,r(c[1],c[0],s)},i),a},e.prototype.__ensureOwner=function(r){return r===this.__ownerID?this:r?Sb(this.size,this._root,r,this.__hash):this.size===0?ji():(this.__ownerID=r,this.__altered=!1,this)},e}(Yr);Ku.isMap=ab;var de=Ku.prototype;de[x$]=!0;de[Vl]=de.remove;de.removeAll=de.deleteAll;de.setIn=db;de.removeIn=de.deleteIn=hb;de.update=pb;de.updateIn=gb;de.merge=de.concat=D$;de.mergeWith=z$;de.mergeDeep=W$;de.mergeDeepWith=K$;de.mergeIn=vb;de.mergeDeepIn=_b;de.withMutations=Gl;de.wasAltered=bb;de.asImmutable=Yl;de["@@transducer/init"]=de.asMutable=Jl;de["@@transducer/step"]=function(t,e){return t.set(e[0],e[1])};de["@@transducer/result"]=function(t){return t.asImmutable()};var ul=function(e,n){this.ownerID=e,this.entries=n};ul.prototype.get=function(e,n,r,i){for(var s=this.entries,a=0,c=s.length;a<c;a++)if(mr(r,s[a][0]))return s[a][1];return i};ul.prototype.update=function(e,n,r,i,s,a,c){for(var l=s===Ft,d=this.entries,h=0,g=d.length;h<g&&!mr(i,d[h][0]);h++);var m=h<g;if(m?d[h][1]===s:l)return this;if(Vr(c),(l||!m)&&Vr(a),!(l&&d.length===1)){if(!m&&!l&&d.length>=lQ)return oQ(e,d,i,s);var y=e&&e===this.ownerID,w=y?d:Fi(d);return m?l?h===g-1?w.pop():w[h]=w.pop():w[h]=[i,s]:w.push([i,s]),y?(this.entries=w,this):new ul(e,w)}};var bu=function(e,n,r){this.ownerID=e,this.bitmap=n,this.nodes=r};bu.prototype.get=function(e,n,r,i){n===void 0&&(n=dr(r));var s=1<<((e===0?n:n>>>e)&Wn),a=this.bitmap;return a&s?this.nodes[q$(a&s-1)].get(e+ne,n,r,i):i};bu.prototype.update=function(e,n,r,i,s,a,c){r===void 0&&(r=dr(i));var l=(n===0?r:r>>>n)&Wn,d=1<<l,h=this.bitmap,g=(h&d)!==0;if(!g&&s===Ft)return this;var m=q$(h&d-1),y=this.nodes,w=g?y[m]:void 0,x=wb(w,e,n+ne,r,i,s,a,c);if(x===w)return this;if(!g&&x&&y.length>=fQ)return aQ(e,y,h,l,x);if(g&&!x&&y.length===2&&oC(y[m^1]))return y[m^1];if(g&&x&&y.length===1&&oC(x))return x;var C=e&&e===this.ownerID,T=g?x?h:h^d:h|d,R=g?x?V$(y,m,x,C):cQ(y,m,C):uQ(y,m,x,C);return C?(this.bitmap=T,this.nodes=R,this):new bu(e,T,R)};var cl=function(e,n,r){this.ownerID=e,this.count=n,this.nodes=r};cl.prototype.get=function(e,n,r,i){n===void 0&&(n=dr(r));var s=(e===0?n:n>>>e)&Wn,a=this.nodes[s];return a?a.get(e+ne,n,r,i):i};cl.prototype.update=function(e,n,r,i,s,a,c){r===void 0&&(r=dr(i));var l=(n===0?r:r>>>n)&Wn,d=s===Ft,h=this.nodes,g=h[l];if(d&&!g)return this;var m=wb(g,e,n+ne,r,i,s,a,c);if(m===g)return this;var y=this.count;if(!g)y++;else if(!m&&(y--,y<dQ))return sQ(e,h,y,l);var w=e&&e===this.ownerID,x=V$(h,l,m,w);return w?(this.count=y,this.nodes=x,this):new cl(e,y,x)};var Su=function(e,n,r){this.ownerID=e,this.keyHash=n,this.entries=r};Su.prototype.get=function(e,n,r,i){for(var s=this.entries,a=0,c=s.length;a<c;a++)if(mr(r,s[a][0]))return s[a][1];return i};Su.prototype.update=function(e,n,r,i,s,a,c){r===void 0&&(r=dr(i));var l=s===Ft;if(r!==this.keyHash)return l?this:(Vr(c),Vr(a),Eb(this,e,n,r,[i,s]));for(var d=this.entries,h=0,g=d.length;h<g&&!mr(i,d[h][0]);h++);var m=h<g;if(m?d[h][1]===s:l)return this;if(Vr(c),(l||!m)&&Vr(a),l&&g===2)return new Eo(e,this.keyHash,d[h^1]);var y=e&&e===this.ownerID,w=y?d:Fi(d);return m?l?h===g-1?w.pop():w[h]=w.pop():w[h]=[i,s]:w.push([i,s]),y?(this.entries=w,this):new Su(e,this.keyHash,w)};var Eo=function(e,n,r){this.ownerID=e,this.keyHash=n,this.entry=r};Eo.prototype.get=function(e,n,r,i){return mr(r,this.entry[0])?this.entry[1]:i};Eo.prototype.update=function(e,n,r,i,s,a,c){var l=s===Ft,d=mr(i,this.entry[0]);if(d?s===this.entry[1]:l)return this;if(Vr(c),l){Vr(a);return}return d?e&&e===this.ownerID?(this.entry[1]=s,this):new Eo(e,this.keyHash,[i,s]):(Vr(a),Eb(this,e,n,dr(i),[i,s]))};ul.prototype.iterate=Su.prototype.iterate=function(t,e){for(var n=this.entries,r=0,i=n.length-1;r<=i;r++)if(t(n[e?i-r:r])===!1)return!1};bu.prototype.iterate=cl.prototype.iterate=function(t,e){for(var n=this.nodes,r=0,i=n.length-1;r<=i;r++){var s=n[e?i-r:r];if(s&&s.iterate(t,e)===!1)return!1}};Eo.prototype.iterate=function(t,e){return t(this.entry)};var iQ=function(t){function e(n,r,i){this._type=r,this._reverse=i,this._stack=n._root&&nC(n._root)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){for(var r=this._type,i=this._stack;i;){var s=i.node,a=i.index++,c=void 0;if(s.entry){if(a===0)return _y(r,s.entry)}else if(s.entries){if(c=s.entries.length-1,a<=c)return _y(r,s.entries[this._reverse?c-a:a])}else if(c=s.nodes.length-1,a<=c){var l=s.nodes[this._reverse?c-a:a];if(l){if(l.entry)return _y(r,l.entry);i=this._stack=nC(l,i)}continue}i=this._stack=this._stack.__prev}return Kn()},e}(Dt);function _y(t,e){return me(t,e[0],e[1])}function nC(t,e){return{node:t,index:0,__prev:e}}function Sb(t,e,n,r){var i=Object.create(de);return i.size=t,i._root=e,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}var rC;function ji(){return rC||(rC=Sb(0))}function iC(t,e,n){var r,i;if(t._root){var s=Rv(),a=Rv();if(r=wb(t._root,t.__ownerID,0,void 0,e,n,s,a),!a.value)return t;i=t.size+(s.value?n===Ft?-1:1:0)}else{if(n===Ft)return t;i=1,r=new ul(t.__ownerID,[[e,n]])}return t.__ownerID?(t.size=i,t._root=r,t.__hash=void 0,t.__altered=!0,t):r?Sb(i,r):ji()}function wb(t,e,n,r,i,s,a,c){return t?t.update(e,n,r,i,s,a,c):s===Ft?t:(Vr(c),Vr(a),new Eo(e,r,[i,s]))}function oC(t){return t.constructor===Eo||t.constructor===Su}function Eb(t,e,n,r,i){if(t.keyHash===r)return new Su(e,r,[t.entry,i]);var s=(n===0?t.keyHash:t.keyHash>>>n)&Wn,a=(n===0?r:r>>>n)&Wn,c,l=s===a?[Eb(t,e,n+ne,r,i)]:(c=new Eo(e,r,i),s<a?[t,c]:[c,t]);return new bu(e,1<<s|1<<a,l)}function oQ(t,e,n,r){t||(t=new tb);for(var i=new Eo(t,dr(n),[n,r]),s=0;s<e.length;s++){var a=e[s];i=i.update(t,0,void 0,a[0],a[1])}return i}function sQ(t,e,n,r){for(var i=0,s=0,a=new Array(n),c=0,l=1,d=e.length;c<d;c++,l<<=1){var h=e[c];h!==void 0&&c!==r&&(i|=l,a[s++]=h)}return new bu(t,i,a)}function aQ(t,e,n,r,i){for(var s=0,a=new Array(gr),c=0;n!==0;c++,n>>>=1)a[c]=n&1?e[s++]:void 0;return a[r]=i,new cl(t,s+1,a)}function q$(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),t=t+(t>>4)&252645135,t+=t>>8,t+=t>>16,t&127}function V$(t,e,n,r){var i=r?t:Fi(t);return i[e]=n,i}function uQ(t,e,n,r){var i=t.length+1;if(r&&e+1===i)return t[e]=n,t;for(var s=new Array(i),a=0,c=0;c<i;c++)c===e?(s[c]=n,a=-1):s[c]=t[c+a];return s}function cQ(t,e,n){var r=t.length-1;if(n&&e===r)return t.pop(),t;for(var i=new Array(r),s=0,a=0;a<r;a++)a===e&&(s=1),i[a]=t[a+s];return i}var lQ=gr/4,fQ=gr/2,dQ=gr/4,H$="@@__IMMUTABLE_LIST__@@";function G$(t){return!!(t&&t[H$])}var qu=function(t){function e(n){var r=Rd();if(n==null)return r;if(G$(n))return n;var i=t(n),s=i.size;return s===0?r:(hr(s),s>0&&s<gr?ll(0,s,ne,null,new ts(i.toArray())):r.withMutations(function(a){a.setSize(s),i.forEach(function(c,l){return a.set(l,c)})}))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("List [","]")},e.prototype.get=function(r,i){if(r=is(this,r),r>=0&&r<this.size){r+=this._origin;var s=J$(this,r);return s&&s.array[r&Wn]}return i},e.prototype.set=function(r,i){return hQ(this,r,i)},e.prototype.remove=function(r){return this.has(r)?r===0?this.shift():r===this.size-1?this.pop():this.splice(r,1):this},e.prototype.insert=function(r,i){return this.splice(r,0,i)},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=ne,this._root=this._tail=this.__hash=void 0,this.__altered=!0,this):Rd()},e.prototype.push=function(){var r=arguments,i=this.size;return this.withMutations(function(s){Go(s,0,i+r.length);for(var a=0;a<r.length;a++)s.set(i+a,r[a])})},e.prototype.pop=function(){return Go(this,0,-1)},e.prototype.unshift=function(){var r=arguments;return this.withMutations(function(i){Go(i,-r.length);for(var s=0;s<r.length;s++)i.set(s,r[s])})},e.prototype.shift=function(){return Go(this,1)},e.prototype.shuffle=function(r){return r===void 0&&(r=Math.random),this.withMutations(function(i){for(var s=i.size,a,c;s;)a=Math.floor(r()*s--),c=i.get(a),i.set(a,i.get(s)),i.set(s,c)})},e.prototype.concat=function(){for(var r=arguments,i=[],s=0;s<arguments.length;s++){var a=r[s],c=t(typeof a!="string"&&S$(a)?a:[a]);c.size!==0&&i.push(c)}return i.length===0?this:this.size===0&&!this.__ownerID&&i.length===1?this.constructor(i[0]):this.withMutations(function(l){i.forEach(function(d){return d.forEach(function(h){return l.push(h)})})})},e.prototype.setSize=function(r){return Go(this,0,r)},e.prototype.map=function(r,i){var s=this;return this.withMutations(function(a){for(var c=0;c<s.size;c++)a.set(c,r.call(i,a.get(c),c,s))})},e.prototype.slice=function(r,i){var s=this.size;return Tp(r,i,s)?this:Go(this,Hl(r,s),Op(i,s))},e.prototype.__iterator=function(r,i){var s=i?this.size:0,a=sC(this,i);return new Dt(function(){var c=a();return c===Kc?Kn():me(r,i?--s:s++,c)})},e.prototype.__iterate=function(r,i){for(var s=i?this.size:0,a=sC(this,i),c;(c=a())!==Kc&&r(c,i?--s:s++,this)!==!1;);return s},e.prototype.__ensureOwner=function(r){return r===this.__ownerID?this:r?ll(this._origin,this._capacity,this._level,this._root,this._tail,r,this.__hash):this.size===0?Rd():(this.__ownerID=r,this.__altered=!1,this)},e}(sa);qu.isList=G$;var De=qu.prototype;De[H$]=!0;De[Vl]=De.remove;De.merge=De.concat;De.setIn=db;De.deleteIn=De.removeIn=hb;De.update=pb;De.updateIn=gb;De.mergeIn=vb;De.mergeDeepIn=_b;De.withMutations=Gl;De.wasAltered=bb;De.asImmutable=Yl;De["@@transducer/init"]=De.asMutable=Jl;De["@@transducer/step"]=function(t,e){return t.push(e)};De["@@transducer/result"]=function(t){return t.asImmutable()};var ts=function(e,n){this.array=e,this.ownerID=n};ts.prototype.removeBefore=function(e,n,r){if(!(r&(1<<n+ne)-1)||this.array.length===0)return this;var i=r>>>n&Wn;if(i>=this.array.length)return new ts([],e);var s=i===0,a;if(n>0){var c=this.array[i];if(a=c&&c.removeBefore(e,n-ne,r),a===c&&s)return this}if(s&&!a)return this;var l=wu(this,e);if(!s)for(var d=0;d<i;d++)l.array[d]=void 0;return a&&(l.array[i]=a),l};ts.prototype.removeAfter=function(e,n,r){if(r===(n?1<<n+ne:gr)||this.array.length===0)return this;var i=r-1>>>n&Wn;if(i>=this.array.length)return this;var s;if(n>0){var a=this.array[i];if(s=a&&a.removeAfter(e,n-ne,r),s===a&&i===this.array.length-1)return this}var c=wu(this,e);return c.array.splice(i+1),s&&(c.array[i]=s),c};var Kc={};function sC(t,e){var n=t._origin,r=t._capacity,i=fl(r),s=t._tail;return a(t._root,t._level,0);function a(d,h,g){return h===0?c(d,g):l(d,h,g)}function c(d,h){var g=h===i?s&&s.array:d&&d.array,m=h>n?0:n-h,y=r-h;return y>gr&&(y=gr),function(){if(m===y)return Kc;var w=e?--y:m++;return g&&g[w]}}function l(d,h,g){var m,y=d&&d.array,w=g>n?0:n-g>>h,x=(r-g>>h)+1;return x>gr&&(x=gr),function(){for(;;){if(m){var C=m();if(C!==Kc)return C;m=null}if(w===x)return Kc;var T=e?--x:w++;m=a(y&&y[T],h-ne,g+(T<<h))}}}}function ll(t,e,n,r,i,s,a){var c=Object.create(De);return c.size=e-t,c._origin=t,c._capacity=e,c._level=n,c._root=r,c._tail=i,c.__ownerID=s,c.__hash=a,c.__altered=!1,c}function Rd(){return ll(0,0,ne)}function hQ(t,e,n){if(e=is(t,e),e!==e)return t;if(e>=t.size||e<0)return t.withMutations(function(a){e<0?Go(a,e).set(0,n):Go(a,0,e+1).set(e,n)});e+=t._origin;var r=t._tail,i=t._root,s=Rv();return e>=fl(t._capacity)?r=jv(r,t.__ownerID,0,e,n,s):i=jv(i,t.__ownerID,t._level,e,n,s),s.value?t.__ownerID?(t._root=i,t._tail=r,t.__hash=void 0,t.__altered=!0,t):ll(t._origin,t._capacity,t._level,i,r):t}function jv(t,e,n,r,i,s){var a=r>>>n&Wn,c=t&&a<t.array.length;if(!c&&i===void 0)return t;var l;if(n>0){var d=t&&t.array[a],h=jv(d,e,n-ne,r,i,s);return h===d?t:(l=wu(t,e),l.array[a]=h,l)}return c&&t.array[a]===i?t:(s&&Vr(s),l=wu(t,e),i===void 0&&a===l.array.length-1?l.array.pop():l.array[a]=i,l)}function wu(t,e){return e&&t&&e===t.ownerID?t:new ts(t?t.array.slice():[],e)}function J$(t,e){if(e>=fl(t._capacity))return t._tail;if(e<1<<t._level+ne){for(var n=t._root,r=t._level;n&&r>0;)n=n.array[e>>>r&Wn],r-=ne;return n}}function Go(t,e,n){e!==void 0&&(e|=0),n!==void 0&&(n|=0);var r=t.__ownerID||new tb,i=t._origin,s=t._capacity,a=i+e,c=n===void 0?s:n<0?s+n:i+n;if(a===i&&c===s)return t;if(a>=c)return t.clear();for(var l=t._level,d=t._root,h=0;a+h<0;)d=new ts(d&&d.array.length?[void 0,d]:[],r),l+=ne,h+=1<<l;h&&(a+=h,i+=h,c+=h,s+=h);for(var g=fl(s),m=fl(c);m>=1<<l+ne;)d=new ts(d&&d.array.length?[d]:[],r),l+=ne;var y=t._tail,w=m<g?J$(t,c-1):m>g?new ts([],r):y;if(y&&m>g&&a<s&&y.array.length){d=wu(d,r);for(var x=d,C=l;C>ne;C-=ne){var T=g>>>C&Wn;x=x.array[T]=wu(x.array[T],r)}x.array[g>>>ne&Wn]=y}if(c<s&&(w=w&&w.removeAfter(r,0,c)),a>=m)a-=m,c-=m,l=ne,d=null,w=w&&w.removeBefore(r,0,a);else if(a>i||m<g){for(h=0;d;){var R=a>>>l&Wn;if(R!==m>>>l&Wn)break;R&&(h+=(1<<l)*R),l-=ne,d=d.array[R]}d&&a>i&&(d=d.removeBefore(r,l,a-h)),d&&m<g&&(d=d.removeAfter(r,l,m-h)),h&&(a-=h,c-=h)}return t.__ownerID?(t.size=c-a,t._origin=a,t._capacity=c,t._level=l,t._root=d,t._tail=w,t.__hash=void 0,t.__altered=!0,t):ll(a,c,l,d,w)}function fl(t){return t<gr?0:t-1>>>ne<<ne}var xo=function(t){function e(n){return n==null?Rc():C$(n)?n:Rc().withMutations(function(r){var i=Yr(n);hr(i.size),i.forEach(function(s,a){return r.set(a,s)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("OrderedMap {","}")},e.prototype.get=function(r,i){var s=this._map.get(r);return s!==void 0?this._list.get(s)[1]:i},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this.__altered=!0,this):Rc()},e.prototype.set=function(r,i){return uC(this,r,i)},e.prototype.remove=function(r){return uC(this,r,Ft)},e.prototype.__iterate=function(r,i){var s=this;return this._list.__iterate(function(a){return a&&r(a[1],a[0],s)},i)},e.prototype.__iterator=function(r,i){return this._list.fromEntrySeq().__iterator(r,i)},e.prototype.__ensureOwner=function(r){if(r===this.__ownerID)return this;var i=this._map.__ensureOwner(r),s=this._list.__ensureOwner(r);return r?xb(i,s,r,this.__hash):this.size===0?Rc():(this.__ownerID=r,this.__altered=!1,this._map=i,this._list=s,this)},e}(Ku);xo.isOrderedMap=C$;xo.prototype[os]=!0;xo.prototype[Vl]=xo.prototype.remove;function xb(t,e,n,r){var i=Object.create(xo.prototype);return i.size=t?t.size:0,i._map=t,i._list=e,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}var aC;function Rc(){return aC||(aC=xb(ji(),Rd()))}function uC(t,e,n){var r=t._map,i=t._list,s=r.get(e),a=s!==void 0,c,l;if(n===Ft){if(!a)return t;i.size>=gr&&i.size>=r.size*2?(l=i.filter(function(d,h){return d!==void 0&&s!==h}),c=l.toKeyedSeq().map(function(d){return d[0]}).flip().toMap(),t.__ownerID&&(c.__ownerID=l.__ownerID=t.__ownerID)):(c=r.remove(e),l=s===i.size-1?i.pop():i.set(s,void 0))}else if(a){if(n===i.get(s)[1])return t;c=r,l=i.set(s,[e,n])}else c=r.set(e,i.size),l=i.set(i.size,[e,n]);return t.__ownerID?(t.size=c.size,t._map=c,t._list=l,t.__hash=void 0,t.__altered=!0,t):xb(c,l)}var Y$="@@__IMMUTABLE_STACK__@@";function Dv(t){return!!(t&&t[Y$])}var Cb=function(t){function e(n){return n==null?ad():Dv(n)?n:ad().pushAll(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("Stack [","]")},e.prototype.get=function(r,i){var s=this._head;for(r=is(this,r);s&&r--;)s=s.next;return s?s.value:i},e.prototype.peek=function(){return this._head&&this._head.value},e.prototype.push=function(){var r=arguments;if(arguments.length===0)return this;for(var i=this.size+arguments.length,s=this._head,a=arguments.length-1;a>=0;a--)s={value:r[a],next:s};return this.__ownerID?(this.size=i,this._head=s,this.__hash=void 0,this.__altered=!0,this):Mc(i,s)},e.prototype.pushAll=function(r){if(r=t(r),r.size===0)return this;if(this.size===0&&Dv(r))return r;hr(r.size);var i=this.size,s=this._head;return r.__iterate(function(a){i++,s={value:a,next:s}},!0),this.__ownerID?(this.size=i,this._head=s,this.__hash=void 0,this.__altered=!0,this):Mc(i,s)},e.prototype.pop=function(){return this.slice(1)},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):ad()},e.prototype.slice=function(r,i){if(Tp(r,i,this.size))return this;var s=Hl(r,this.size),a=Op(i,this.size);if(a!==this.size)return t.prototype.slice.call(this,r,i);for(var c=this.size-s,l=this._head;s--;)l=l.next;return this.__ownerID?(this.size=c,this._head=l,this.__hash=void 0,this.__altered=!0,this):Mc(c,l)},e.prototype.__ensureOwner=function(r){return r===this.__ownerID?this:r?Mc(this.size,this._head,r,this.__hash):this.size===0?ad():(this.__ownerID=r,this.__altered=!1,this)},e.prototype.__iterate=function(r,i){var s=this;if(i)return new vu(this.toArray()).__iterate(function(l,d){return r(l,d,s)},i);for(var a=0,c=this._head;c&&r(c.value,a++,this)!==!1;)c=c.next;return a},e.prototype.__iterator=function(r,i){if(i)return new vu(this.toArray()).__iterator(r,i);var s=0,a=this._head;return new Dt(function(){if(a){var c=a.value;return a=a.next,me(r,s++,c)}return Kn()})},e}(sa);Cb.isStack=Dv;var qn=Cb.prototype;qn[Y$]=!0;qn.shift=qn.pop;qn.unshift=qn.push;qn.unshiftAll=qn.pushAll;qn.withMutations=Gl;qn.wasAltered=bb;qn.asImmutable=Yl;qn["@@transducer/init"]=qn.asMutable=Jl;qn["@@transducer/step"]=function(t,e){return t.unshift(e)};qn["@@transducer/result"]=function(t){return t.asImmutable()};function Mc(t,e,n,r){var i=Object.create(qn);return i.size=t,i._head=e,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}var cC;function ad(){return cC||(cC=Mc(0))}var X$="@@__IMMUTABLE_SET__@@";function Tb(t){return!!(t&&t[X$])}function Q$(t){return Tb(t)&&Wi(t)}function Z$(t,e){if(t===e)return!0;if(!Er(e)||t.size!==void 0&&e.size!==void 0&&t.size!==e.size||t.__hash!==void 0&&e.__hash!==void 0&&t.__hash!==e.__hash||ge(t)!==ge(e)||Jr(t)!==Jr(e)||Wi(t)!==Wi(e))return!1;if(t.size===0&&e.size===0)return!0;var n=!eb(t);if(Wi(t)){var r=t.entries();return e.every(function(l,d){var h=r.next().value;return h&&mr(h[1],l)&&(n||mr(h[0],d))})&&r.next().done}var i=!1;if(t.size===void 0)if(e.size===void 0)typeof t.cacheResult=="function"&&t.cacheResult();else{i=!0;var s=t;t=e,e=s}var a=!0,c=e.__iterate(function(l,d){if(n?!t.has(l):i?!mr(l,t.get(d,Ft)):!mr(t.get(d,Ft),l))return a=!1,!1});return a&&t.size===c}function ua(t,e){var n=function(r){t.prototype[r]=e[r]};return Object.keys(e).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(n),t}function Th(t){if(!t||typeof t!="object")return t;if(!Er(t)){if(!ss(t))return t;t=nr(t)}if(ge(t)){var e={};return t.__iterate(function(r,i){e[i]=Th(r)}),e}var n=[];return t.__iterate(function(r){n.push(Th(r))}),n}var Xl=function(t){function e(n){return n==null?Nc():Tb(n)&&!Wi(n)?n:Nc().withMutations(function(r){var i=t(n);hr(i.size),i.forEach(function(s){return r.add(s)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(r){return this(Yr(r).keySeq())},e.intersect=function(r){return r=$n(r).toArray(),r.length?yn.intersect.apply(e(r.pop()),r):Nc()},e.union=function(r){return r=$n(r).toArray(),r.length?yn.union.apply(e(r.pop()),r):Nc()},e.prototype.toString=function(){return this.__toString("Set {","}")},e.prototype.has=function(r){return this._map.has(r)},e.prototype.add=function(r){return ud(this,this._map.set(r,r))},e.prototype.remove=function(r){return ud(this,this._map.remove(r))},e.prototype.clear=function(){return ud(this,this._map.clear())},e.prototype.map=function(r,i){var s=this,a=!1,c=ud(this,this._map.mapEntries(function(l){var d=l[1],h=r.call(i,d,d,s);return h!==d&&(a=!0),[h,h]},i));return a?c:this},e.prototype.union=function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];return r=r.filter(function(s){return s.size!==0}),r.length===0?this:this.size===0&&!this.__ownerID&&r.length===1?this.constructor(r[0]):this.withMutations(function(s){for(var a=0;a<r.length;a++)typeof r[a]=="string"?s.add(r[a]):t(r[a]).forEach(function(c){return s.add(c)})})},e.prototype.intersect=function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];if(r.length===0)return this;r=r.map(function(a){return t(a)});var s=[];return this.forEach(function(a){r.every(function(c){return c.includes(a)})||s.push(a)}),this.withMutations(function(a){s.forEach(function(c){a.remove(c)})})},e.prototype.subtract=function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];if(r.length===0)return this;r=r.map(function(a){return t(a)});var s=[];return this.forEach(function(a){r.some(function(c){return c.includes(a)})&&s.push(a)}),this.withMutations(function(a){s.forEach(function(c){a.remove(c)})})},e.prototype.sort=function(r){return dl(_u(this,r))},e.prototype.sortBy=function(r,i){return dl(_u(this,i,r))},e.prototype.wasAltered=function(){return this._map.wasAltered()},e.prototype.__iterate=function(r,i){var s=this;return this._map.__iterate(function(a){return r(a,a,s)},i)},e.prototype.__iterator=function(r,i){return this._map.__iterator(r,i)},e.prototype.__ensureOwner=function(r){if(r===this.__ownerID)return this;var i=this._map.__ensureOwner(r);return r?this.__make(i,r):this.size===0?this.__empty():(this.__ownerID=r,this._map=i,this)},e}(ju);Xl.isSet=Tb;var yn=Xl.prototype;yn[X$]=!0;yn[Vl]=yn.remove;yn.merge=yn.concat=yn.union;yn.withMutations=Gl;yn.asImmutable=Yl;yn["@@transducer/init"]=yn.asMutable=Jl;yn["@@transducer/step"]=function(t,e){return t.add(e)};yn["@@transducer/result"]=function(t){return t.asImmutable()};yn.__empty=Nc;yn.__make=tR;function ud(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:e.size===0?t.__empty():t.__make(e)}function tR(t,e){var n=Object.create(yn);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}var lC;function Nc(){return lC||(lC=tR(ji()))}var pQ=function(t){function e(n,r,i){if(i===void 0&&(i=1),!(this instanceof e))return new e(n,r,i);if(Wc(i!==0,"Cannot step a Range by 0"),Wc(n!==void 0,"You must define a start value when using Range"),Wc(r!==void 0,"You must define an end value when using Range"),i=Math.abs(i),r<n&&(i=-i),this._start=n,this._end=r,this._step=i,this.size=Math.max(0,Math.ceil((r-n)/i-1)+1),this.size===0){if(by)return by;by=this}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step!==1?" by "+this._step:"")+" ]"},e.prototype.get=function(r,i){return this.has(r)?this._start+is(this,r)*this._step:i},e.prototype.includes=function(r){var i=(r-this._start)/this._step;return i>=0&&i<this.size&&i===Math.floor(i)},e.prototype.slice=function(r,i){return Tp(r,i,this.size)?this:(r=Hl(r,this.size),i=Op(i,this.size),i<=r?new e(0,0):new e(this.get(r,this._end),this.get(i,this._end),this._step))},e.prototype.indexOf=function(r){var i=r-this._start;if(i%this._step===0){var s=i/this._step;if(s>=0&&s<this.size)return s}return-1},e.prototype.lastIndexOf=function(r){return this.indexOf(r)},e.prototype.__iterate=function(r,i){for(var s=this.size,a=this._step,c=i?this._start+(s-1)*a:this._start,l=0;l!==s&&r(c,i?s-++l:l++,this)!==!1;)c+=i?-a:a;return l},e.prototype.__iterator=function(r,i){var s=this.size,a=this._step,c=i?this._start+(s-1)*a:this._start,l=0;return new Dt(function(){if(l===s)return Kn();var d=c;return c+=i?-a:a,me(r,i?s-++l:l++,d)})},e.prototype.equals=function(r){return r instanceof e?this._start===r._start&&this._end===r._end&&this._step===r._step:Z$(this,r)},e}(vi),by;function eR(t,e,n){for(var r=L$(e),i=0;i!==r.length;)if(t=F$(t,r[i++],Ft),t===Ft)return n;return t}function nR(t,e){return eR(this,t,e)}function gQ(t,e){return eR(t,e,Ft)!==Ft}function mQ(t){return gQ(this,t)}function rR(){hr(this.size);var t={};return this.__iterate(function(e,n){t[n]=e}),t}$n.Iterator=Dt;ua($n,{toArray:function(){hr(this.size);var e=new Array(this.size||0),n=ge(this),r=0;return this.__iterate(function(i,s){e[r++]=n?[s,i]:i}),e},toIndexedSeq:function(){return new O$(this)},toJS:function(){return Th(this)},toKeyedSeq:function(){return new Pp(this,!0)},toMap:function(){return Ku(this.toKeyedSeq())},toObject:rR,toOrderedMap:function(){return xo(this.toKeyedSeq())},toOrderedSet:function(){return dl(ge(this)?this.valueSeq():this)},toSet:function(){return Xl(ge(this)?this.valueSeq():this)},toSetSeq:function(){return new A$(this)},toSeq:function(){return Jr(this)?this.toIndexedSeq():ge(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Cb(ge(this)?this.valueSeq():this)},toList:function(){return qu(ge(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(e,n){return this.size===0?e+n:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+n},concat:function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];return ee(this,VX(this,e))},includes:function(e){return this.some(function(n){return mr(n,e)})},entries:function(){return this.__iterator(Cr)},every:function(e,n){hr(this.size);var r=!0;return this.__iterate(function(i,s,a){if(!e.call(n,i,s,a))return r=!1,!1}),r},filter:function(e,n){return ee(this,$$(this,e,n,!0))},partition:function(e,n){return WX(this,e,n)},find:function(e,n,r){var i=this.findEntry(e,n);return i?i[1]:r},forEach:function(e,n){return hr(this.size),this.__iterate(n?e.bind(n):e)},join:function(e){hr(this.size),e=e!==void 0?""+e:",";var n="",r=!0;return this.__iterate(function(i){r?r=!1:n+=e,n+=i!=null?i.toString():""}),n},keys:function(){return this.__iterator(Du)},map:function(e,n){return ee(this,P$(this,e,n))},reduce:function(e,n,r){return fC(this,e,n,r,arguments.length<2,!1)},reduceRight:function(e,n,r){return fC(this,e,n,r,arguments.length<2,!0)},reverse:function(){return ee(this,ub(this,!0))},slice:function(e,n){return ee(this,cb(this,e,n,!0))},some:function(e,n){hr(this.size);var r=!1;return this.__iterate(function(i,s,a){if(e.call(n,i,s,a))return r=!0,!1}),r},sort:function(e){return ee(this,_u(this,e))},values:function(){return this.__iterator(xr)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(e,n){return yu(e?this.toSeq().filter(e,n):this)},countBy:function(e,n){return zX(this,e,n)},equals:function(e){return Z$(this,e)},entrySeq:function(){var e=this;if(e._cache)return new vu(e._cache);var n=e.toSeq().map(vQ).toIndexedSeq();return n.fromEntrySeq=function(){return e.toSeq()},n},filterNot:function(e,n){return this.filter(Sy(e),n)},findEntry:function(e,n,r){var i=r;return this.__iterate(function(s,a,c){if(e.call(n,s,a,c))return i=[a,s],!1}),i},findKey:function(e,n){var r=this.findEntry(e,n);return r&&r[0]},findLast:function(e,n,r){return this.toKeyedSeq().reverse().find(e,n,r)},findLastEntry:function(e,n,r){return this.toKeyedSeq().reverse().findEntry(e,n,r)},findLastKey:function(e,n){return this.toKeyedSeq().reverse().findKey(e,n)},first:function(e){return this.find(p$,null,e)},flatMap:function(e,n){return ee(this,HX(this,e,n))},flatten:function(e){return ee(this,M$(this,e,!0))},fromEntrySeq:function(){return new k$(this)},get:function(e,n){return this.find(function(r,i){return mr(i,e)},void 0,n)},getIn:nR,groupBy:function(e,n){return UX(this,e,n)},has:function(e){return this.get(e,Ft)!==Ft},hasIn:mQ,isSubset:function(e){return e=typeof e.includes=="function"?e:$n(e),this.every(function(n){return e.includes(n)})},isSuperset:function(e){return e=typeof e.isSubset=="function"?e:$n(e),e.isSubset(this)},keyOf:function(e){return this.findKey(function(n){return mr(n,e)})},keySeq:function(){return this.toSeq().map(yQ).toIndexedSeq()},last:function(e){return this.toSeq().reverse().first(e)},lastKeyOf:function(e){return this.toKeyedSeq().reverse().keyOf(e)},max:function(e){return od(this,e)},maxBy:function(e,n){return od(this,n,e)},min:function(e){return od(this,e?dC(e):pC)},minBy:function(e,n){return od(this,n?dC(n):pC,e)},rest:function(){return this.slice(1)},skip:function(e){return e===0?this:this.slice(Math.max(0,e))},skipLast:function(e){return e===0?this:this.slice(0,-Math.max(0,e))},skipWhile:function(e,n){return ee(this,R$(this,e,n,!0))},skipUntil:function(e,n){return this.skipWhile(Sy(e),n)},sortBy:function(e,n){return ee(this,_u(this,n,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return this.slice(-Math.max(0,e))},takeWhile:function(e,n){return ee(this,KX(this,e,n))},takeUntil:function(e,n){return this.takeWhile(Sy(e),n)},update:function(e){return e(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=_Q(this))}});var Mn=$n.prototype;Mn[y$]=!0;Mn[Ap]=Mn.values;Mn.toJSON=Mn.toArray;Mn.__toStringMapper=al;Mn.inspect=Mn.toSource=function(){return this.toString()};Mn.chain=Mn.flatMap;Mn.contains=Mn.includes;ua(Yr,{flip:function(){return ee(this,I$(this))},mapEntries:function(e,n){var r=this,i=0;return ee(this,this.toSeq().map(function(s,a){return e.call(n,[a,s],i++,r)}).fromEntrySeq())},mapKeys:function(e,n){var r=this;return ee(this,this.toSeq().flip().map(function(i,s){return e.call(n,i,s,r)}).flip())}});var Ql=Yr.prototype;Ql[Eh]=!0;Ql[Ap]=Mn.entries;Ql.toJSON=rR;Ql.__toStringMapper=function(t,e){return al(e)+": "+al(t)};ua(sa,{toKeyedSeq:function(){return new Pp(this,!1)},filter:function(e,n){return ee(this,$$(this,e,n,!1))},findIndex:function(e,n){var r=this.findEntry(e,n);return r?r[0]:-1},indexOf:function(e){var n=this.keyOf(e);return n===void 0?-1:n},lastIndexOf:function(e){var n=this.lastKeyOf(e);return n===void 0?-1:n},reverse:function(){return ee(this,ub(this,!1))},slice:function(e,n){return ee(this,cb(this,e,n,!1))},splice:function(e,n){var r=arguments.length;if(n=Math.max(n||0,0),r===0||r===2&&!n)return this;e=Hl(e,e<0?this.count():this.size);var i=this.slice(0,e);return ee(this,r===1?i:i.concat(Fi(arguments,2),this.slice(e+n)))},findLastIndex:function(e,n){var r=this.findLastEntry(e,n);return r?r[0]:-1},first:function(e){return this.get(0,e)},flatten:function(e){return ee(this,M$(this,e,!1))},get:function(e,n){return e=is(this,e),e<0||this.size===1/0||this.size!==void 0&&e>this.size?n:this.find(function(r,i){return i===e},void 0,n)},has:function(e){return e=is(this,e),e>=0&&(this.size!==void 0?this.size===1/0||e<this.size:this.indexOf(e)!==-1)},interpose:function(e){return ee(this,GX(this,e))},interleave:function(){var e=[this].concat(Fi(arguments)),n=sd(this.toSeq(),vi.of,e),r=n.flatten(!0);return n.size&&(r.size=n.size*e.length),ee(this,r)},keySeq:function(){return pQ(0,this.size)},last:function(e){return this.get(-1,e)},skipWhile:function(e,n){return ee(this,R$(this,e,n,!1))},zip:function(){var e=[this].concat(Fi(arguments));return ee(this,sd(this,hC,e))},zipAll:function(){var e=[this].concat(Fi(arguments));return ee(this,sd(this,hC,e,!0))},zipWith:function(e){var n=Fi(arguments);return n[0]=this,ee(this,sd(this,e,n))}});var Vu=sa.prototype;Vu[xh]=!0;Vu[os]=!0;ua(ju,{get:function(e,n){return this.has(e)?e:n},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}});var Eu=ju.prototype;Eu.has=Mn.includes;Eu.contains=Eu.includes;Eu.keys=Eu.values;ua(fs,Ql);ua(vi,Vu);ua(Uu,Eu);function fC(t,e,n,r,i,s){return hr(t.size),t.__iterate(function(a,c,l){i?(i=!1,n=a):n=e.call(r,n,a,c,l)},s),n}function yQ(t,e){return e}function vQ(t,e){return[e,t]}function Sy(t){return function(){return!t.apply(this,arguments)}}function dC(t){return function(){return-t.apply(this,arguments)}}function hC(){return Fi(arguments)}function pC(t,e){return t<e?1:t>e?-1:0}function _Q(t){if(t.size===1/0)return 0;var e=Wi(t),n=ge(t),r=e?1:0;return t.__iterate(n?e?function(i,s){r=31*r+gC(dr(i),dr(s))|0}:function(i,s){r=r+gC(dr(i),dr(s))|0}:e?function(i){r=31*r+dr(i)|0}:function(i){r=r+dr(i)|0}),bQ(t.size,r)}function bQ(t,e){return e=Cc(e,3432918353),e=Cc(e<<15|e>>>-15,461845907),e=Cc(e<<13|e>>>-13,5),e=(e+3864292196|0)^t,e=Cc(e^e>>>16,2246822507),e=Cc(e^e>>>13,3266489909),e=Ip(e^e>>>16),e}function gC(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}var dl=function(t){function e(n){return n==null?zv():Q$(n)?n:zv().withMutations(function(r){var i=ju(n);hr(i.size),i.forEach(function(s){return r.add(s)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(r){return this(Yr(r).keySeq())},e.prototype.toString=function(){return this.__toString("OrderedSet {","}")},e}(Xl);dl.isOrderedSet=Q$;var ca=dl.prototype;ca[os]=!0;ca.zip=Vu.zip;ca.zipWith=Vu.zipWith;ca.zipAll=Vu.zipAll;ca.__empty=zv;ca.__make=iR;function iR(t,e){var n=Object.create(ca);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}var mC;function zv(){return mC||(mC=iR(Rc()))}function SQ(t){if(aa(t))throw new Error("Can not call `Record` with an immutable Record as default values. Use a plain javascript object instead.");if(Ji(t))throw new Error("Can not call `Record` with an immutable Collection as default values. Use a plain javascript object instead.");if(t===null||typeof t!="object")throw new Error("Can not call `Record` with a non-object as default values. Use a plain javascript object instead.")}var rn=function(e,n){var r;SQ(e);var i=function(c){var l=this;if(c instanceof i)return c;if(!(this instanceof i))return new i(c);if(!r){r=!0;var d=Object.keys(e),h=s._indices={};s._name=n,s._keys=d,s._defaultValues=e;for(var g=0;g<d.length;g++){var m=d[g];h[m]=g,s[m]?typeof console=="object"&&console.warn&&console.warn("Cannot define "+Ab(this)+' with property "'+m+'" since that property name is part of the Record API.'):wQ(s,m)}}return this.__ownerID=void 0,this._values=qu().withMutations(function(y){y.setSize(l._keys.length),Yr(c).forEach(function(w,x){y.set(l._indices[x],w===l._defaultValues[x]?void 0:w)})}),this},s=i.prototype=Object.create(ce);return s.constructor=i,n&&(i.displayName=n),i};rn.prototype.toString=function(){for(var e=Ab(this)+" { ",n=this._keys,r,i=0,s=n.length;i!==s;i++)r=n[i],e+=(i?", ":"")+r+": "+al(this.get(r));return e+" }"};rn.prototype.equals=function(e){return this===e||aa(e)&&xu(this).equals(xu(e))};rn.prototype.hashCode=function(){return xu(this).hashCode()};rn.prototype.has=function(e){return this._indices.hasOwnProperty(e)};rn.prototype.get=function(e,n){if(!this.has(e))return n;var r=this._indices[e],i=this._values.get(r);return i===void 0?this._defaultValues[e]:i};rn.prototype.set=function(e,n){if(this.has(e)){var r=this._values.set(this._indices[e],n===this._defaultValues[e]?void 0:n);if(r!==this._values&&!this.__ownerID)return Ob(this,r)}return this};rn.prototype.remove=function(e){return this.set(e)};rn.prototype.clear=function(){var e=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:Ob(this,e)};rn.prototype.wasAltered=function(){return this._values.wasAltered()};rn.prototype.toSeq=function(){return xu(this)};rn.prototype.toJS=function(){return Th(this)};rn.prototype.entries=function(){return this.__iterator(Cr)};rn.prototype.__iterator=function(e,n){return xu(this).__iterator(e,n)};rn.prototype.__iterate=function(e,n){return xu(this).__iterate(e,n)};rn.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var n=this._values.__ensureOwner(e);return e?Ob(this,n,e):(this.__ownerID=e,this._values=n,this)};rn.isRecord=aa;rn.getDescriptiveName=Ab;var ce=rn.prototype;ce[_$]=!0;ce[Vl]=ce.remove;ce.deleteIn=ce.removeIn=hb;ce.getIn=nR;ce.hasIn=Mn.hasIn;ce.merge=D$;ce.mergeWith=z$;ce.mergeIn=vb;ce.mergeDeep=W$;ce.mergeDeepWith=K$;ce.mergeDeepIn=_b;ce.setIn=db;ce.update=pb;ce.updateIn=gb;ce.withMutations=Gl;ce.asMutable=Jl;ce.asImmutable=Yl;ce[Ap]=ce.entries;ce.toJSON=ce.toObject=Mn.toObject;ce.inspect=ce.toSource=function(){return this.toString()};function Ob(t,e,n){var r=Object.create(Object.getPrototypeOf(t));return r._values=e,r.__ownerID=n,r}function Ab(t){return t.constructor.displayName||t.constructor.name||"Record"}function xu(t){return ob(t._keys.map(function(e){return[e,t.get(e)]}))}function wQ(t,e){try{Object.defineProperty(t,e,{get:function(){return this.get(e)},set:function(n){Wc(this.__ownerID,"Cannot set on an immutable record."),this.set(e,n)}})}catch{}}const EQ=t=>{const e=t.useValue(),n=t.useSet();return{add:a=>{n(c=>[...c,a])},remove:a=>{n(c=>c.filter(l=>l!==a))},update:(a,c)=>{n(l=>l.map(d=>d===a?c:d))},values:e}},xQ=(t,e)=>e>=t.startTime&&(t.endTime===void 0||e<t.endTime),CQ=(t,e)=>at.find(t,n=>xQ(n,e)),TQ=t=>{const e=lR();return ue.useMemo(()=>CQ(t.clips,e),[e])},oR=()=>gt.project.arrangement.useValue(),sR=()=>oR().tracks,aR=t=>sR().find(n=>n.name===t),OQ=t=>{const e=aR(t);return e===void 0?kG:e},kb=()=>gt.project.config.useFocus("active").useSet(),Hu=()=>gt.project.config.useFocus("active").useValue(),uR=()=>{const t=Hu(),e=gt.project.config.useValue();return at.find(e.projects,r=>r.key===t)||Y_()},AQ=()=>{const t=Hu(),e=gt.project.config.useValue(),n=at.findIndex(e.projects,r=>r.key===t);return gt.project.config.useFocus("projects").useArray()[n]},cR=()=>{const t=Hu(),e=gt.project.config.useValue(),n=gt.project.config.useSet(),r=qu(e.projects),i=r.findIndex(s=>s.key===t);return s=>{const a=i!==void 0?r.set(i,s(e.projects[i])):r;console.log("useUpdateActiveProject",a),n({active:t,projects:a.toArray()})}},$p=()=>gt.project.config.useValue(),kQ=()=>{const t=cR(),e=$p();return n=>e.projects.findIndex(i=>i.label===n)===-1?(t(i=>({...i,label:n})),ct()):It(`Project ${n} already exists`)},IQ=()=>{const t=uR(),e={...Y_().style,...t.style};return{...e,horizontalGradient:`linear-gradient(to right, ${e.accent.color1}, ${e.accent.color2})`,leftVerticalGradient:`linear-gradient(to bottom, ${e.accent.color1}, ${e.accent.color2})`,rightVerticalGradient:`linear-gradient(to top, ${e.accent.color1}, ${e.accent.color2})`}},PQ=()=>$p(),$Q=()=>{const t=Hu(),e=$p(),n=at.find(e.projects,r=>r.key===t);if(n!==void 0)return n.label},RQ=()=>{const t=gt.project.config.useFocusMemo(e=>e.prop("projects"));return EQ(t)},MQ=()=>gt.project.abletonName.useValue(),NQ=t=>{const e=gt.importStatus.useValue();ue.useEffect(()=>t(e),[e])},LQ=()=>gt.importStatus.useValue().type!=="done",lR=()=>gt.realTime.beats.useValue(),FQ=()=>gt.realTime.barBeats.useValue(),BQ=()=>gt.realTime.timeSignature.useValue(),jQ=()=>gt.realTime.tempo.useValue(),DQ=()=>gt.realTime.isPlaying.useValue(),zQ=()=>gt.realTime.metronomeState.useValue(),UQ=()=>gt.realTime.metronomeState.get(),WQ=()=>gt.realTime.loopState.useValue(),KQ=()=>gt.realTime.loopState.get(),qQ=()=>{const t=$p(),e=Hu(),n=kb();return r=>{const i=qu(t.projects).find(s=>s.abletonProject===r);i!==void 0&&r!==e&&n(i.key)}},fR="reload-project",VQ=()=>{const t=kb();return()=>{t(e=>(setTimeout(()=>{t(e)},500),fR))}},HQ=()=>Vt.useActiveProjectName()===fR,Vt={useOnStatusChange:NQ,useBeat:lR,useBarBeats:FQ,useTimeSignature:BQ,useTempo:jQ,useIsPlaying:DQ,useActiveClip:TQ,useArrangement:oR,useProjectsConfig:PQ,useProjectsListAtom:RQ,useActiveProjectLabel:$Q,useSetActiveProject:kb,useProjectStyle:IQ,useAbletonProjectName:MQ,useSetActiveProjectName:kQ,useActiveProjectValue:uR,useActiveProjectName:Hu,useActiveProjectState:AQ,useUpdateActiveProject:cR,useTracks:sR,useTrack:OQ,useTrackOrUndefined:aR,useMetronomeState:zQ,getMetronomeState:UQ,useLoopState:WQ,getLoopState:KQ,useOnProjectLoad:qQ,useIsProjectLoading:LQ,useRefreshProject:VQ,useIsReloadProject:HQ},dR=be.one({name:"metronome-control",schema:ot({color:tt.Schema}),init:()=>({color:tt.BLUE}),component:({target:t,color:e})=>{const n=ko.useDawEmitter(),r=Vt.useMetronomeState();return G.jsx(wo,{isFlashing:r,color:e,target:t,onClick:()=>n.send(hn.metronome(!Vt.getMetronomeState())),options:{metronomeState:r}})}}),GQ=be.one({name:"loop-control",schema:ot({color:tt.Schema}),init:()=>({color:tt.GREEN}),component:({target:t,color:e})=>{const n=ko.useDawEmitter(),r=Vt.useLoopState();return G.jsx(wo,{isFlashing:r,color:e,target:t,onClick:()=>n.send(hn.loop(!Vt.getLoopState()))})}}),hR=be.one({name:"play-stop",schema:ot({playColor:tt.Schema,stopColor:tt.Schema}),init:()=>({playColor:tt.GREEN,stopColor:tt.RED}),component:({target:t,playColor:e,stopColor:n})=>Vt.useIsPlaying()?d$.component({target:t,color:n}):f$.component({target:t,color:e})}),JQ=be.one({name:"metronome",schema:ot({oneColor:tt.Schema,restColor:tt.Schema}),init:()=>({oneColor:tt.GREEN,restColor:tt.RED}),component:({target:t,oneColor:e,restColor:n})=>{const[r,i]=ue.useState(tt.BLACK);return ue.useEffect(()=>h$.onTick(s=>{!s.halfBeat&&s.isPlaying?i(s.beat===1?e:n):i(tt.BLACK)}),[]),G.jsx("pad",{color:r,target:t})}}),YQ=(t,e,n,r)=>{const i=e+1;return i<=t?i===1?n:r:tt.BLACK},pR=be.many({name:"beats",schema:ot({oneColor:tt.Schema,restColor:tt.Schema}),init:()=>({oneColor:tt.GREEN,restColor:tt.RED}),component:({targets:t,oneColor:e,restColor:n})=>{const r=Vt.useBarBeats(),i=Vt.useTimeSignature(),s=at.map(t,(a,c)=>G.jsx("pad",{color:YQ(r,c,e,n),target:a,options:{timeSignature:i}},`beat-${c}`));return G.jsx(G.Fragment,{children:s})}}),XQ=be.many({name:"time-sig-count",schema:ot({color:tt.Schema}),init:()=>({color:tt.BLUE}),component:({targets:t,color:e})=>{const n=Vt.useTimeSignature(),r=t.map((i,s)=>G.jsx("pad",{target:i,color:s+1<=n.noteCount?e:tt.BLACK},`time-sig-count-${s}`));return G.jsx(G.Fragment,{children:r})}}),QQ=be.many({name:"time-sig-length",schema:ot({color:tt.Schema}),init:()=>({color:tt.PURPLE}),component:({targets:t,color:e})=>{const n=Vt.useTimeSignature(),r=t.map((i,s)=>G.jsx("pad",{target:i,color:s+1<=n.noteLength?e:tt.BLACK},`time-sig-length-${s}`));return G.jsx(G.Fragment,{children:r})}}),gR=be.many({name:"nav-clips",schema:ot({trackName:re,sort:In(Je("alphabetical","order"))}),init:()=>({trackName:"Nav Clip Track",sort:"order"}),tracks:t=>[t.trackName],component:({targets:t,trackName:e,sort:n})=>{const r=ko.useDawEmitter(),i=Vt.useArrangement(),s=Vt.useTrack(e),a=Vt.useActiveClip(s),c=ue.useMemo(()=>at.fromPairs(at.map(i.cues,y=>[y.time,y])),[i.cues]),l=s.clips.filter(y=>y.type==="real"),d=n==="alphabetical"?l.sort((y,w)=>y.name.localeCompare(w.name)):l,h=ue.useMemo(()=>{const y=[];for(let w=0;w<d.length;w++){const x=t==null?void 0:t[w],C=d==null?void 0:d[w];if(C!==void 0&&x!==void 0){const T=c==null?void 0:c[C.startTime];T!==void 0&&y.push({clip:C,cue:T,target:x})}}return y},[s,c,t]),g=y=>{r.send(hn.jumpToCue(y.cue.index))},m=h.map((y,w)=>G.jsx(wo,{isFlashing:y.clip===a,color:y.clip.color,target:y.target,onClick:()=>g(y),options:{label:y.clip.name}},`song-${w}`));return G.jsx(G.Fragment,{children:m})}}),ZQ=be.many({name:"bar-tracker",schema:ot({trackName:re,color:tt.Schema}),init:()=>({trackName:"Track",color:tt.GREEN}),tracks:t=>[t.trackName],component:({targets:t,trackName:e,color:n})=>{const r=Vt.useTrack(e),i=Vt.useBeat(),s=Vt.useBarBeats(),a=Vt.useActiveClip(r),c=Vt.useTimeSignature(),[l,d]=ue.useState(0),h=ue.useMemo(()=>{if(a.type==="real"){const y=Number(a.name);if(!isNaN(y))return y}return 0},[a]);ue.useEffect(()=>{if(s===1&&AP.isReal(a)){const y=Math.floor(i-a.startTime);c.noteLength===4?d(Math.floor(y/c.noteCount)):c.noteLength===8&&(c.noteCount%2===0?d(Math.floor(y/(c.noteCount/2))):y%c.noteCount===0?d(Math.floor(y/c.noteCount)*2):d(Math.floor((y+.5)*2/c.noteCount)))}},[s,i,a,c]);const g=l%h+1,m=t.map((y,w)=>G.jsx(wo,{color:w<g?n:tt.BLACK,target:y},`bar-tracker-${w}`));return G.jsx(G.Fragment,{children:m})}}),tZ=t=>e=>t.type==="real"&&t.endTime!==void 0&&e.startTime<t.endTime,mR=be.many({name:"track-sections",schema:ot({trackName:re,parentTrackName:re}),init:()=>({trackName:"Track Sections",parentTrackName:"Parent Track Sections"}),tracks:t=>[t.trackName,t.parentTrackName],component:({targets:t,trackName:e,parentTrackName:n=""})=>{const r=Vt.useTrack(e),i=Vt.useActiveClip(r),s=Vt.useTrack(n),a=Vt.useActiveClip(s),c=Vt.useBeat(),l=ue.useMemo(()=>{const g=[];return r.clips.forEach(m=>{m.startTime>=i.startTime&&g.push(m)}),g.filter(tZ(a))},[r,i,a]),d=ue.useMemo(()=>{if(i&&i.endTime!==void 0){const g=i.endTime-i.startTime;return(c-i.startTime)/g*100}else return},[i,c]),h=t.map((g,m)=>{const y=l==null?void 0:l[m],w=y!==void 0&&y.type==="real"?y.color:tt.BLACK,x=y!==void 0&&y.type==="real"?y.name:"";return G.jsx(wo,{color:w,target:g,options:{label:x,progress:d,isActive:y===i}},`track-sections-${m}`)});return G.jsx(G.Fragment,{children:h})}}),wy=[void 0,"c#","d#",void 0,"f#","g#","a#"],Ey=["c","d","e","f","g","a","b","c"],eZ=be.of({name:"keyboard",schema:ot({topTargets:bo(ui.Schema),bottomTargets:bo(ui.Schema),trackName:re,topColor:tt.Schema,bottomColor:tt.Schema}),init:()=>({topTargets:[],bottomTargets:[],trackName:"Keyboard Track",topColor:tt.GREEN,bottomColor:tt.RED}),targets:t=>({_tag:"many",targets:[...t.topTargets,...t.bottomTargets]}),inputType:"many",tracks:t=>[t.trackName],component:({topTargets:t,bottomTargets:e,trackName:n,topColor:r,bottomColor:i})=>{const s=Vt.useTrack(n),a=Vt.useActiveClip(s),[c,l]=ue.useMemo(()=>AP.isReal(a)?[a.name.toLowerCase(),a.color]:[void 0,void 0],[a]),d=y=>y===void 0||c===void 0?!1:y===c,h=y=>()=>{},g=t.map((y,w)=>{const x=wy==null?void 0:wy[w];return G.jsx(wo,{color:x!==void 0?d(x)&&l!==void 0?l:r:tt.BLACK,target:y,isFlashing:d(x),onClick:h()},`keyboard-top-${w}`)}),m=e.map((y,w)=>{const x=Ey==null?void 0:Ey[w];return G.jsx(wo,{color:x!==void 0?d(x)&&l!==void 0?l:i:tt.BLACK,target:y,isFlashing:d(x),onClick:h()},`keyboard-bottom-${w}`)});return G.jsxs(G.Fragment,{children:[g,m]})}}),yR=be.one({name:"button",schema:ot({color:tt.Schema,isFlashing:_p,midi:bo(sl.schema),text:In(ot({content:re,color:In(tt.Schema),size:In(re)}))}),init:()=>({color:tt.GREEN,isFlashing:!1,midi:[]}),component:({target:t,color:e,isFlashing:n,midi:r})=>{const i=ko.useDawEmitter();return G.jsx(wo,{isFlashing:n,color:e,target:t,onClick:()=>{r.forEach(i.send)}})}}),Uv={10927616:74,16149507:84,4047616:76,6441901:69,14402304:99,8754719:19,16725558:5,3947580:71,10056267:10,8237133:18,12026454:11,12565097:73,13381230:58,12243060:111,16249980:13,13013643:4,10208397:88,695438:65,13821080:110,3101346:46,16749734:107,8962746:102,5538020:79,13684944:117,15064289:119,14183652:94,11442405:44,13408551:100,1090798:78,11096369:127,16753961:96,1769263:87,5480241:64,1698303:90,16773172:97,7491393:126,8940772:80,14837594:10,8912743:16,10060650:105,13872497:14,16753524:108,8092539:70,2319236:39,1716118:47,12349846:59,11481907:121,15029152:57,2490280:25,11119017:112,10701741:81,15597486:8,49071:77,10851765:93,12558270:48,32192:43,8758722:103,10204100:104,11958214:55,8623052:66,16726484:95,12581632:86,13958625:28,12173795:115,13482980:116,16777215:3,6094824:33,13496824:114,9611263:92,9160191:36},vR={};for(const t in Uv){const e=Uv[t];e!==void 0&&(vR[e]=t)}const nZ=t=>at.get(Uv,t,void 0),rZ=t=>{const e=at.get(vR,t,void 0);if(e!==void 0)return parseInt(e)},iZ={getNovationColor:nZ,getColorFromNovation:rZ},oZ=be.one({name:"soft-refresh",schema:ot({color:tt.Schema}),init:()=>({color:tt.PURPLE}),component:({target:t,color:e})=>{const n=Vt.useRefreshProject();return G.jsx("pad",{color:e,target:t,onClick:()=>{n()}})}}),sZ=(t,e)=>t,aZ=Q_.of({init:t=>()=>{t.send(sl.sysex([32,41,2,13,14,1]))},render:t=>e=>{const n=[32,41,2,13,3];at.forEach(e,r=>{if(r.color!==void 0){const i=iZ.getNovationColor(r.color);if(i!==void 0)n.push(0,ui.toValue(r.target),i);else{const[s,a,c]=tt.toRGB(sZ(r.color));n.push(3,ui.toValue(r.target),Math.floor(s/2),Math.floor(a/2),Math.floor(c/2))}}}),t.send(sl.sysex(n))},loading:t=>e=>{const n=ui.notes({from:11,to:99}),r=(a,c)=>{const l=Math.floor(c/10),d=c%10;return l<=a+1&&d<=a+1?tt.ROYGBIV[(Math.max(l,d)-1)%7]||tt.WHITE:tt.BLACK};let i=0;const s=setInterval(()=>{const a=i%9;e.render(t)(n.map((c,l)=>({target:c,color:r(a,ui.toValue(c))}))),i++},250);return()=>{clearInterval(s)}},listenFilter:t=>!(t.type==="noteon"&&t.velocity===0||t.type==="cc"&&t.data===0),targets:ui.notes({from:11,to:99})}),uZ=e$.of({name:"Launchpad Mini [MK3]",controller:aZ,widgets:Z_([f$,d$,xX,dR,GQ,hR,JQ,pR,XQ,QQ,gR,ZQ,mR,eZ,yR,oZ])}),_R={device:uZ},hl={black:"#000",white:"#fff"},$a={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Ra={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Ma={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Na={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},La={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},Tc={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},cZ={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function Ys(t,...e){const n=new URL(`https://mui.com/production-error/?code=${t}`);return e.forEach(r=>n.searchParams.append("args[]",r)),`Minified MUI error #${t}; visit ${n} for the full message.`}var bR="$$material";function Oh(){return Oh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Oh.apply(null,arguments)}function lZ(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function fZ(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var dZ=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(fZ(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=lZ(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),An="-ms-",Ah="-moz-",Wt="-webkit-",SR="comm",Ib="rule",Pb="decl",hZ="@import",wR="@keyframes",pZ="@layer",gZ=Math.abs,Rp=String.fromCharCode,mZ=Object.assign;function yZ(t,e){return pn(t,0)^45?(((e<<2^pn(t,0))<<2^pn(t,1))<<2^pn(t,2))<<2^pn(t,3):0}function ER(t){return t.trim()}function vZ(t,e){return(t=e.exec(t))?t[0]:t}function Kt(t,e,n){return t.replace(e,n)}function Wv(t,e){return t.indexOf(e)}function pn(t,e){return t.charCodeAt(e)|0}function pl(t,e,n){return t.slice(e,n)}function Mi(t){return t.length}function $b(t){return t.length}function cd(t,e){return e.push(t),t}function _Z(t,e){return t.map(e).join("")}var Mp=1,Cu=1,xR=0,rr=0,Ne=0,Gu="";function Np(t,e,n,r,i,s,a){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:Mp,column:Cu,length:a,return:""}}function Oc(t,e){return mZ(Np("",null,null,"",null,null,0),t,{length:-t.length},e)}function bZ(){return Ne}function SZ(){return Ne=rr>0?pn(Gu,--rr):0,Cu--,Ne===10&&(Cu=1,Mp--),Ne}function yr(){return Ne=rr<xR?pn(Gu,rr++):0,Cu++,Ne===10&&(Cu=1,Mp++),Ne}function Ki(){return pn(Gu,rr)}function Md(){return rr}function Zl(t,e){return pl(Gu,t,e)}function gl(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function CR(t){return Mp=Cu=1,xR=Mi(Gu=t),rr=0,[]}function TR(t){return Gu="",t}function Nd(t){return ER(Zl(rr-1,Kv(t===91?t+2:t===40?t+1:t)))}function wZ(t){for(;(Ne=Ki())&&Ne<33;)yr();return gl(t)>2||gl(Ne)>3?"":" "}function EZ(t,e){for(;--e&&yr()&&!(Ne<48||Ne>102||Ne>57&&Ne<65||Ne>70&&Ne<97););return Zl(t,Md()+(e<6&&Ki()==32&&yr()==32))}function Kv(t){for(;yr();)switch(Ne){case t:return rr;case 34:case 39:t!==34&&t!==39&&Kv(Ne);break;case 40:t===41&&Kv(t);break;case 92:yr();break}return rr}function xZ(t,e){for(;yr()&&t+Ne!==57;)if(t+Ne===84&&Ki()===47)break;return"/*"+Zl(e,rr-1)+"*"+Rp(t===47?t:yr())}function CZ(t){for(;!gl(Ki());)yr();return Zl(t,rr)}function TZ(t){return TR(Ld("",null,null,null,[""],t=CR(t),0,[0],t))}function Ld(t,e,n,r,i,s,a,c,l){for(var d=0,h=0,g=a,m=0,y=0,w=0,x=1,C=1,T=1,R=0,M="",P=i,j=s,B=r,k=M;C;)switch(w=R,R=yr()){case 40:if(w!=108&&pn(k,g-1)==58){Wv(k+=Kt(Nd(R),"&","&\f"),"&\f")!=-1&&(T=-1);break}case 34:case 39:case 91:k+=Nd(R);break;case 9:case 10:case 13:case 32:k+=wZ(w);break;case 92:k+=EZ(Md()-1,7);continue;case 47:switch(Ki()){case 42:case 47:cd(OZ(xZ(yr(),Md()),e,n),l);break;default:k+="/"}break;case 123*x:c[d++]=Mi(k)*T;case 125*x:case 59:case 0:switch(R){case 0:case 125:C=0;case 59+h:T==-1&&(k=Kt(k,/\f/g,"")),y>0&&Mi(k)-g&&cd(y>32?vC(k+";",r,n,g-1):vC(Kt(k," ","")+";",r,n,g-2),l);break;case 59:k+=";";default:if(cd(B=yC(k,e,n,d,h,i,c,M,P=[],j=[],g),s),R===123)if(h===0)Ld(k,e,B,B,P,s,g,c,j);else switch(m===99&&pn(k,3)===110?100:m){case 100:case 108:case 109:case 115:Ld(t,B,B,r&&cd(yC(t,B,B,0,0,i,c,M,i,P=[],g),j),i,j,g,c,r?P:j);break;default:Ld(k,B,B,B,[""],j,0,c,j)}}d=h=y=0,x=T=1,M=k="",g=a;break;case 58:g=1+Mi(k),y=w;default:if(x<1){if(R==123)--x;else if(R==125&&x++==0&&SZ()==125)continue}switch(k+=Rp(R),R*x){case 38:T=h>0?1:(k+="\f",-1);break;case 44:c[d++]=(Mi(k)-1)*T,T=1;break;case 64:Ki()===45&&(k+=Nd(yr())),m=Ki(),h=g=Mi(M=k+=CZ(Md())),R++;break;case 45:w===45&&Mi(k)==2&&(x=0)}}return s}function yC(t,e,n,r,i,s,a,c,l,d,h){for(var g=i-1,m=i===0?s:[""],y=$b(m),w=0,x=0,C=0;w<r;++w)for(var T=0,R=pl(t,g+1,g=gZ(x=a[w])),M=t;T<y;++T)(M=ER(x>0?m[T]+" "+R:Kt(R,/&\f/g,m[T])))&&(l[C++]=M);return Np(t,e,n,i===0?Ib:c,l,d,h)}function OZ(t,e,n){return Np(t,e,n,SR,Rp(bZ()),pl(t,2,-2),0)}function vC(t,e,n,r){return Np(t,e,n,Pb,pl(t,0,r),pl(t,r+1,-1),r)}function Ga(t,e){for(var n="",r=$b(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function AZ(t,e,n,r){switch(t.type){case pZ:if(t.children.length)break;case hZ:case Pb:return t.return=t.return||t.value;case SR:return"";case wR:return t.return=t.value+"{"+Ga(t.children,r)+"}";case Ib:t.value=t.props.join(",")}return Mi(n=Ga(t.children,r))?t.return=t.value+"{"+n+"}":""}function kZ(t){var e=$b(t);return function(n,r,i,s){for(var a="",c=0;c<e;c++)a+=t[c](n,r,i,s)||"";return a}}function IZ(t){return function(e){e.root||(e=e.return)&&t(e)}}function OR(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var PZ=function(e,n,r){for(var i=0,s=0;i=s,s=Ki(),i===38&&s===12&&(n[r]=1),!gl(s);)yr();return Zl(e,rr)},$Z=function(e,n){var r=-1,i=44;do switch(gl(i)){case 0:i===38&&Ki()===12&&(n[r]=1),e[r]+=PZ(rr-1,n,r);break;case 2:e[r]+=Nd(i);break;case 4:if(i===44){e[++r]=Ki()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Rp(i)}while(i=yr());return e},RZ=function(e,n){return TR($Z(CR(e),n))},_C=new WeakMap,MZ=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!_C.get(r))&&!i){_C.set(e,!0);for(var s=[],a=RZ(n,s),c=r.props,l=0,d=0;l<a.length;l++)for(var h=0;h<c.length;h++,d++)e.props[d]=s[l]?a[l].replace(/&\f/g,c[h]):c[h]+" "+a[l]}}},NZ=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function AR(t,e){switch(yZ(t,e)){case 5103:return Wt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Wt+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Wt+t+Ah+t+An+t+t;case 6828:case 4268:return Wt+t+An+t+t;case 6165:return Wt+t+An+"flex-"+t+t;case 5187:return Wt+t+Kt(t,/(\w+).+(:[^]+)/,Wt+"box-$1$2"+An+"flex-$1$2")+t;case 5443:return Wt+t+An+"flex-item-"+Kt(t,/flex-|-self/,"")+t;case 4675:return Wt+t+An+"flex-line-pack"+Kt(t,/align-content|flex-|-self/,"")+t;case 5548:return Wt+t+An+Kt(t,"shrink","negative")+t;case 5292:return Wt+t+An+Kt(t,"basis","preferred-size")+t;case 6060:return Wt+"box-"+Kt(t,"-grow","")+Wt+t+An+Kt(t,"grow","positive")+t;case 4554:return Wt+Kt(t,/([^-])(transform)/g,"$1"+Wt+"$2")+t;case 6187:return Kt(Kt(Kt(t,/(zoom-|grab)/,Wt+"$1"),/(image-set)/,Wt+"$1"),t,"")+t;case 5495:case 3959:return Kt(t,/(image-set\([^]*)/,Wt+"$1$`$1");case 4968:return Kt(Kt(t,/(.+:)(flex-)?(.*)/,Wt+"box-pack:$3"+An+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Wt+t+t;case 4095:case 3583:case 4068:case 2532:return Kt(t,/(.+)-inline(.+)/,Wt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Mi(t)-1-e>6)switch(pn(t,e+1)){case 109:if(pn(t,e+4)!==45)break;case 102:return Kt(t,/(.+:)(.+)-([^]+)/,"$1"+Wt+"$2-$3$1"+Ah+(pn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Wv(t,"stretch")?AR(Kt(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(pn(t,e+1)!==115)break;case 6444:switch(pn(t,Mi(t)-3-(~Wv(t,"!important")&&10))){case 107:return Kt(t,":",":"+Wt)+t;case 101:return Kt(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Wt+(pn(t,14)===45?"inline-":"")+"box$3$1"+Wt+"$2$3$1"+An+"$2box$3")+t}break;case 5936:switch(pn(t,e+11)){case 114:return Wt+t+An+Kt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Wt+t+An+Kt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Wt+t+An+Kt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Wt+t+An+t+t}return t}var LZ=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case Pb:e.return=AR(e.value,e.length);break;case wR:return Ga([Oc(e,{value:Kt(e.value,"@","@"+Wt)})],i);case Ib:if(e.length)return _Z(e.props,function(s){switch(vZ(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Ga([Oc(e,{props:[Kt(s,/:(read-\w+)/,":"+Ah+"$1")]})],i);case"::placeholder":return Ga([Oc(e,{props:[Kt(s,/:(plac\w+)/,":"+Wt+"input-$1")]}),Oc(e,{props:[Kt(s,/:(plac\w+)/,":"+Ah+"$1")]}),Oc(e,{props:[Kt(s,/:(plac\w+)/,An+"input-$1")]})],i)}return""})}},FZ=[LZ],BZ=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(x){var C=x.getAttribute("data-emotion");C.indexOf(" ")!==-1&&(document.head.appendChild(x),x.setAttribute("data-s",""))})}var i=e.stylisPlugins||FZ,s={},a,c=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(x){for(var C=x.getAttribute("data-emotion").split(" "),T=1;T<C.length;T++)s[C[T]]=!0;c.push(x)});var l,d=[MZ,NZ];{var h,g=[AZ,IZ(function(x){h.insert(x)})],m=kZ(d.concat(i,g)),y=function(C){return Ga(TZ(C),m)};l=function(C,T,R,M){h=R,y(C?C+"{"+T.styles+"}":T.styles),M&&(w.inserted[T.name]=!0)}}var w={key:n,sheet:new dZ({key:n,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return w.sheet.hydrate(c),w},kR={exports:{}},Jt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var on=typeof Symbol=="function"&&Symbol.for,Rb=on?Symbol.for("react.element"):60103,Mb=on?Symbol.for("react.portal"):60106,Lp=on?Symbol.for("react.fragment"):60107,Fp=on?Symbol.for("react.strict_mode"):60108,Bp=on?Symbol.for("react.profiler"):60114,jp=on?Symbol.for("react.provider"):60109,Dp=on?Symbol.for("react.context"):60110,Nb=on?Symbol.for("react.async_mode"):60111,zp=on?Symbol.for("react.concurrent_mode"):60111,Up=on?Symbol.for("react.forward_ref"):60112,Wp=on?Symbol.for("react.suspense"):60113,jZ=on?Symbol.for("react.suspense_list"):60120,Kp=on?Symbol.for("react.memo"):60115,qp=on?Symbol.for("react.lazy"):60116,DZ=on?Symbol.for("react.block"):60121,zZ=on?Symbol.for("react.fundamental"):60117,UZ=on?Symbol.for("react.responder"):60118,WZ=on?Symbol.for("react.scope"):60119;function Ar(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Rb:switch(t=t.type,t){case Nb:case zp:case Lp:case Bp:case Fp:case Wp:return t;default:switch(t=t&&t.$$typeof,t){case Dp:case Up:case qp:case Kp:case jp:return t;default:return e}}case Mb:return e}}}function IR(t){return Ar(t)===zp}Jt.AsyncMode=Nb;Jt.ConcurrentMode=zp;Jt.ContextConsumer=Dp;Jt.ContextProvider=jp;Jt.Element=Rb;Jt.ForwardRef=Up;Jt.Fragment=Lp;Jt.Lazy=qp;Jt.Memo=Kp;Jt.Portal=Mb;Jt.Profiler=Bp;Jt.StrictMode=Fp;Jt.Suspense=Wp;Jt.isAsyncMode=function(t){return IR(t)||Ar(t)===Nb};Jt.isConcurrentMode=IR;Jt.isContextConsumer=function(t){return Ar(t)===Dp};Jt.isContextProvider=function(t){return Ar(t)===jp};Jt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Rb};Jt.isForwardRef=function(t){return Ar(t)===Up};Jt.isFragment=function(t){return Ar(t)===Lp};Jt.isLazy=function(t){return Ar(t)===qp};Jt.isMemo=function(t){return Ar(t)===Kp};Jt.isPortal=function(t){return Ar(t)===Mb};Jt.isProfiler=function(t){return Ar(t)===Bp};Jt.isStrictMode=function(t){return Ar(t)===Fp};Jt.isSuspense=function(t){return Ar(t)===Wp};Jt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Lp||t===zp||t===Bp||t===Fp||t===Wp||t===jZ||typeof t=="object"&&t!==null&&(t.$$typeof===qp||t.$$typeof===Kp||t.$$typeof===jp||t.$$typeof===Dp||t.$$typeof===Up||t.$$typeof===zZ||t.$$typeof===UZ||t.$$typeof===WZ||t.$$typeof===DZ)};Jt.typeOf=Ar;kR.exports=Jt;var KZ=kR.exports,PR=KZ,qZ={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},VZ={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},$R={};$R[PR.ForwardRef]=qZ;$R[PR.Memo]=VZ;var HZ=!0;function RR(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(r+=i+" ")}),r}var Lb=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||HZ===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},MR=function(e,n,r){Lb(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function GZ(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var JZ={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},YZ=/[A-Z]|^ms/g,XZ=/_EMO_([^_]+?)_([^]*?)_EMO_/g,NR=function(e){return e.charCodeAt(1)===45},bC=function(e){return e!=null&&typeof e!="boolean"},xy=OR(function(t){return NR(t)?t:t.replace(YZ,"-$&").toLowerCase()}),SC=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(XZ,function(r,i,s){return Ni={name:i,styles:s,next:Ni},i})}return JZ[e]!==1&&!NR(e)&&typeof n=="number"&&n!==0?n+"px":n};function ml(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return Ni={name:i.name,styles:i.styles,next:Ni},i.name;var s=n;if(s.styles!==void 0){var a=s.next;if(a!==void 0)for(;a!==void 0;)Ni={name:a.name,styles:a.styles,next:Ni},a=a.next;var c=s.styles+";";return c}return QZ(t,e,n)}case"function":{if(t!==void 0){var l=Ni,d=n(t);return Ni=l,ml(t,e,d)}break}}var h=n;if(e==null)return h;var g=e[h];return g!==void 0?g:h}function QZ(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=ml(t,e,n[i])+";";else for(var s in n){var a=n[s];if(typeof a!="object"){var c=a;e!=null&&e[c]!==void 0?r+=s+"{"+e[c]+"}":bC(c)&&(r+=xy(s)+":"+SC(s,c)+";")}else if(Array.isArray(a)&&typeof a[0]=="string"&&(e==null||e[a[0]]===void 0))for(var l=0;l<a.length;l++)bC(a[l])&&(r+=xy(s)+":"+SC(s,a[l])+";");else{var d=ml(t,e,a);switch(s){case"animation":case"animationName":{r+=xy(s)+":"+d+";";break}default:r+=s+"{"+d+"}"}}}return r}var wC=/label:\s*([^\s;{]+)\s*(;|$)/g,Ni;function Vp(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";Ni=void 0;var s=t[0];if(s==null||s.raw===void 0)r=!1,i+=ml(n,e,s);else{var a=s;i+=a[0]}for(var c=1;c<t.length;c++)if(i+=ml(n,e,t[c]),r){var l=s;i+=l[c]}wC.lastIndex=0;for(var d="",h;(h=wC.exec(i))!==null;)d+="-"+h[1];var g=GZ(i)+d;return{name:g,styles:i,next:Ni}}var ZZ=function(e){return e()},ttt=Pv.useInsertionEffect?Pv.useInsertionEffect:!1,LR=ttt||ZZ,FR=H.createContext(typeof HTMLElement<"u"?BZ({key:"css"}):null);FR.Provider;var BR=function(e){return H.forwardRef(function(n,r){var i=H.useContext(FR);return e(n,i,r)})},Fb=H.createContext({}),Bb={}.hasOwnProperty,qv="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",ett=function(e,n){var r={};for(var i in n)Bb.call(n,i)&&(r[i]=n[i]);return r[qv]=e,r},ntt=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return Lb(n,r,i),LR(function(){return MR(n,r,i)}),null},rtt=BR(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[qv],s=[r],a="";typeof t.className=="string"?a=RR(e.registered,s,t.className):t.className!=null&&(a=t.className+" ");var c=Vp(s,void 0,H.useContext(Fb));a+=e.key+"-"+c.name;var l={};for(var d in t)Bb.call(t,d)&&d!=="css"&&d!==qv&&(l[d]=t[d]);return l.className=a,n&&(l.ref=n),H.createElement(H.Fragment,null,H.createElement(ntt,{cache:e,serialized:c,isStringTag:typeof i=="string"}),H.createElement(i,l))}),itt=rtt,EC=function(e,n){var r=arguments;if(n==null||!Bb.call(n,"css"))return H.createElement.apply(void 0,r);var i=r.length,s=new Array(i);s[0]=itt,s[1]=ett(e,n);for(var a=2;a<i;a++)s[a]=r[a];return H.createElement.apply(null,s)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(EC||(EC={}));function jb(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Vp(e)}function tf(){var t=jb.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var ott=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,stt=OR(function(t){return ott.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),att=stt,utt=function(e){return e!=="theme"},xC=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?att:utt},CC=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(a){return e.__emotion_forwardProp(a)&&s(a)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},ctt=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return Lb(n,r,i),LR(function(){return MR(n,r,i)}),null},ltt=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,a;n!==void 0&&(s=n.label,a=n.target);var c=CC(e,n,r),l=c||xC(i),d=!l("as");return function(){var h=arguments,g=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&g.push("label:"+s+";"),h[0]==null||h[0].raw===void 0)g.push.apply(g,h);else{var m=h[0];g.push(m[0]);for(var y=h.length,w=1;w<y;w++)g.push(h[w],m[w])}var x=BR(function(C,T,R){var M=d&&C.as||i,P="",j=[],B=C;if(C.theme==null){B={};for(var k in C)B[k]=C[k];B.theme=H.useContext(Fb)}typeof C.className=="string"?P=RR(T.registered,j,C.className):C.className!=null&&(P=C.className+" ");var z=Vp(g.concat(j),T.registered,B);P+=T.key+"-"+z.name,a!==void 0&&(P+=" "+a);var K=d&&c===void 0?xC(M):l,b={};for(var N in C)d&&N==="as"||K(N)&&(b[N]=C[N]);return b.className=P,R&&(b.ref=R),H.createElement(H.Fragment,null,H.createElement(ctt,{cache:T,serialized:z,isStringTag:typeof M=="string"}),H.createElement(M,b))});return x.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",x.defaultProps=e.defaultProps,x.__emotion_real=x,x.__emotion_base=i,x.__emotion_styles=g,x.__emotion_forwardProp=c,Object.defineProperty(x,"toString",{value:function(){return"."+a}}),x.withComponent=function(C,T){var R=t(C,Oh({},n,T,{shouldForwardProp:CC(x,T,!0)}));return R.apply(void 0,g)},x}},ftt=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Vv=ltt.bind(null);ftt.forEach(function(t){Vv[t]=Vv(t)});/**
 * @mui/styled-engine v6.4.9
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function jR(t,e){return Vv(t,e)}function dtt(t,e){Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))}const TC=[];function OC(t){return TC[0]=t,Vp(TC)}var DR={exports:{}},ie={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Db=Symbol.for("react.transitional.element"),zb=Symbol.for("react.portal"),Hp=Symbol.for("react.fragment"),Gp=Symbol.for("react.strict_mode"),Jp=Symbol.for("react.profiler"),Yp=Symbol.for("react.consumer"),Xp=Symbol.for("react.context"),Qp=Symbol.for("react.forward_ref"),Zp=Symbol.for("react.suspense"),tg=Symbol.for("react.suspense_list"),eg=Symbol.for("react.memo"),ng=Symbol.for("react.lazy"),htt=Symbol.for("react.offscreen"),ptt=Symbol.for("react.client.reference");function Xr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Db:switch(t=t.type,t){case Hp:case Jp:case Gp:case Zp:case tg:return t;default:switch(t=t&&t.$$typeof,t){case Xp:case Qp:case ng:case eg:return t;case Yp:return t;default:return e}}case zb:return e}}}ie.ContextConsumer=Yp;ie.ContextProvider=Xp;ie.Element=Db;ie.ForwardRef=Qp;ie.Fragment=Hp;ie.Lazy=ng;ie.Memo=eg;ie.Portal=zb;ie.Profiler=Jp;ie.StrictMode=Gp;ie.Suspense=Zp;ie.SuspenseList=tg;ie.isContextConsumer=function(t){return Xr(t)===Yp};ie.isContextProvider=function(t){return Xr(t)===Xp};ie.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Db};ie.isForwardRef=function(t){return Xr(t)===Qp};ie.isFragment=function(t){return Xr(t)===Hp};ie.isLazy=function(t){return Xr(t)===ng};ie.isMemo=function(t){return Xr(t)===eg};ie.isPortal=function(t){return Xr(t)===zb};ie.isProfiler=function(t){return Xr(t)===Jp};ie.isStrictMode=function(t){return Xr(t)===Gp};ie.isSuspense=function(t){return Xr(t)===Zp};ie.isSuspenseList=function(t){return Xr(t)===tg};ie.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Hp||t===Jp||t===Gp||t===Zp||t===tg||t===htt||typeof t=="object"&&t!==null&&(t.$$typeof===ng||t.$$typeof===eg||t.$$typeof===Xp||t.$$typeof===Yp||t.$$typeof===Qp||t.$$typeof===ptt||t.getModuleId!==void 0)};ie.typeOf=Xr;DR.exports=ie;var zR=DR.exports;function Bi(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function UR(t){if(H.isValidElement(t)||zR.isValidElementType(t)||!Bi(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=UR(t[n])}),e}function vr(t,e,n={clone:!0}){const r=n.clone?{...t}:t;return Bi(t)&&Bi(e)&&Object.keys(e).forEach(i=>{H.isValidElement(e[i])||zR.isValidElementType(e[i])?r[i]=e[i]:Bi(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&Bi(t[i])?r[i]=vr(t[i],e[i],n):n.clone?r[i]=Bi(e[i])?UR(e[i]):e[i]:r[i]=e[i]}),r}const gtt=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function mtt(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...i}=t,s=gtt(e),a=Object.keys(s);function c(m){return`@media (min-width:${typeof e[m]=="number"?e[m]:m}${n})`}function l(m){return`@media (max-width:${(typeof e[m]=="number"?e[m]:m)-r/100}${n})`}function d(m,y){const w=a.indexOf(y);return`@media (min-width:${typeof e[m]=="number"?e[m]:m}${n}) and (max-width:${(w!==-1&&typeof e[a[w]]=="number"?e[a[w]]:y)-r/100}${n})`}function h(m){return a.indexOf(m)+1<a.length?d(m,a[a.indexOf(m)+1]):c(m)}function g(m){const y=a.indexOf(m);return y===0?c(a[1]):y===a.length-1?l(a[y]):d(m,a[a.indexOf(m)+1]).replace("@media","@media not all and")}return{keys:a,values:s,up:c,down:l,between:d,only:h,not:g,unit:n,...i}}function ytt(t,e){if(!t.containerQueries)return e;const n=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,i)=>{var a,c;const s=/min-width:\s*([0-9.]+)/;return+(((a=r.match(s))==null?void 0:a[1])||0)-+(((c=i.match(s))==null?void 0:c[1])||0)});return n.length?n.reduce((r,i)=>{const s=e[i];return delete r[i],r[i]=s,r},{...e}):e}function vtt(t,e){return e==="@"||e.startsWith("@")&&(t.some(n=>e.startsWith(`@${n}`))||!!e.match(/^@\d/))}function _tt(t,e){const n=e.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,i]=n,s=Number.isNaN(+r)?r||0:+r;return t.containerQueries(i).up(s)}function btt(t){const e=(s,a)=>s.replace("@media",a?`@container ${a}`:"@container");function n(s,a){s.up=(...c)=>e(t.breakpoints.up(...c),a),s.down=(...c)=>e(t.breakpoints.down(...c),a),s.between=(...c)=>e(t.breakpoints.between(...c),a),s.only=(...c)=>e(t.breakpoints.only(...c),a),s.not=(...c)=>{const l=e(t.breakpoints.not(...c),a);return l.includes("not all and")?l.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):l}}const r={},i=s=>(n(r,s),r);return n(i),{...t,containerQueries:i}}const Stt={borderRadius:4};function qc(t,e){return e?vr(t,e,{clone:!1}):t}const rg={xs:0,sm:600,md:900,lg:1200,xl:1536},AC={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${rg[t]}px)`},wtt={containerQueries:t=>({up:e=>{let n=typeof e=="number"?e:rg[e]||e;return typeof n=="number"&&(n=`${n}px`),t?`@container ${t} (min-width:${n})`:`@container (min-width:${n})`}})};function Co(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const s=r.breakpoints||AC;return e.reduce((a,c,l)=>(a[s.up(s.keys[l])]=n(e[l]),a),{})}if(typeof e=="object"){const s=r.breakpoints||AC;return Object.keys(e).reduce((a,c)=>{if(vtt(s.keys,c)){const l=_tt(r.containerQueries?r:wtt,c);l&&(a[l]=n(e[c],c))}else if(Object.keys(s.values||rg).includes(c)){const l=s.up(c);a[l]=n(e[c],c)}else{const l=c;a[l]=e[l]}return a},{})}return n(e)}function Ett(t={}){var n;return((n=t.keys)==null?void 0:n.reduce((r,i)=>{const s=t.up(i);return r[s]={},r},{}))||{}}function xtt(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function qt(t){if(typeof t!="string")throw new Error(Ys(7));return t.charAt(0).toUpperCase()+t.slice(1)}function ig(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function kh(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=ig(t,n)||r,e&&(i=e(i,r,t)),i}function Pe(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,s=a=>{if(a[e]==null)return null;const c=a[e],l=a.theme,d=ig(l,r)||{};return Co(a,c,g=>{let m=kh(d,i,g);return g===m&&typeof g=="string"&&(m=kh(d,i,`${e}${g==="default"?"":qt(g)}`,g)),n===!1?m:{[n]:m}})};return s.propTypes={},s.filterProps=[e],s}function Ctt(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const Ttt={m:"margin",p:"padding"},Ott={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},kC={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Att=Ctt(t=>{if(t.length>2)if(kC[t])t=kC[t];else return[t];const[e,n]=t.split(""),r=Ttt[e],i=Ott[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),Ub=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Wb=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...Ub,...Wb];function ef(t,e,n,r){const i=ig(t,e,!0)??n;return typeof i=="number"||typeof i=="string"?s=>typeof s=="string"?s:typeof i=="string"?`calc(${s} * ${i})`:i*s:Array.isArray(i)?s=>{if(typeof s=="string")return s;const a=Math.abs(s),c=i[a];return s>=0?c:typeof c=="number"?-c:`-${c}`}:typeof i=="function"?i:()=>{}}function Kb(t){return ef(t,"spacing",8)}function nf(t,e){return typeof e=="string"||e==null?e:t(e)}function ktt(t,e){return n=>t.reduce((r,i)=>(r[i]=nf(e,n),r),{})}function Itt(t,e,n,r){if(!e.includes(n))return null;const i=Att(n),s=ktt(i,r),a=t[n];return Co(t,a,s)}function WR(t,e){const n=Kb(t.theme);return Object.keys(t).map(r=>Itt(t,e,r,n)).reduce(qc,{})}function we(t){return WR(t,Ub)}we.propTypes={};we.filterProps=Ub;function Ee(t){return WR(t,Wb)}Ee.propTypes={};Ee.filterProps=Wb;function KR(t=8,e=Kb({spacing:t})){if(t.mui)return t;const n=(...r)=>(r.length===0?[1]:r).map(s=>{const a=e(s);return typeof a=="number"?`${a}px`:a}).join(" ");return n.mui=!0,n}function og(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>e[s]?qc(i,e[s](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function Kr(t){return typeof t!="number"?t:`${t}px solid`}function Qr(t,e){return Pe({prop:t,themeKey:"borders",transform:e})}const Ptt=Qr("border",Kr),$tt=Qr("borderTop",Kr),Rtt=Qr("borderRight",Kr),Mtt=Qr("borderBottom",Kr),Ntt=Qr("borderLeft",Kr),Ltt=Qr("borderColor"),Ftt=Qr("borderTopColor"),Btt=Qr("borderRightColor"),jtt=Qr("borderBottomColor"),Dtt=Qr("borderLeftColor"),ztt=Qr("outline",Kr),Utt=Qr("outlineColor"),sg=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=ef(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:nf(e,r)});return Co(t,t.borderRadius,n)}return null};sg.propTypes={};sg.filterProps=["borderRadius"];og(Ptt,$tt,Rtt,Mtt,Ntt,Ltt,Ftt,Btt,jtt,Dtt,sg,ztt,Utt);const ag=t=>{if(t.gap!==void 0&&t.gap!==null){const e=ef(t.theme,"spacing",8),n=r=>({gap:nf(e,r)});return Co(t,t.gap,n)}return null};ag.propTypes={};ag.filterProps=["gap"];const ug=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=ef(t.theme,"spacing",8),n=r=>({columnGap:nf(e,r)});return Co(t,t.columnGap,n)}return null};ug.propTypes={};ug.filterProps=["columnGap"];const cg=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=ef(t.theme,"spacing",8),n=r=>({rowGap:nf(e,r)});return Co(t,t.rowGap,n)}return null};cg.propTypes={};cg.filterProps=["rowGap"];const Wtt=Pe({prop:"gridColumn"}),Ktt=Pe({prop:"gridRow"}),qtt=Pe({prop:"gridAutoFlow"}),Vtt=Pe({prop:"gridAutoColumns"}),Htt=Pe({prop:"gridAutoRows"}),Gtt=Pe({prop:"gridTemplateColumns"}),Jtt=Pe({prop:"gridTemplateRows"}),Ytt=Pe({prop:"gridTemplateAreas"}),Xtt=Pe({prop:"gridArea"});og(ag,ug,cg,Wtt,Ktt,qtt,Vtt,Htt,Gtt,Jtt,Ytt,Xtt);function Ja(t,e){return e==="grey"?e:t}const Qtt=Pe({prop:"color",themeKey:"palette",transform:Ja}),Ztt=Pe({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Ja}),tet=Pe({prop:"backgroundColor",themeKey:"palette",transform:Ja});og(Qtt,Ztt,tet);function pr(t){return t<=1&&t!==0?`${t*100}%`:t}const eet=Pe({prop:"width",transform:pr}),qb=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var i,s,a,c,l;const r=((a=(s=(i=t.theme)==null?void 0:i.breakpoints)==null?void 0:s.values)==null?void 0:a[n])||rg[n];return r?((l=(c=t.theme)==null?void 0:c.breakpoints)==null?void 0:l.unit)!=="px"?{maxWidth:`${r}${t.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:pr(n)}};return Co(t,t.maxWidth,e)}return null};qb.filterProps=["maxWidth"];const net=Pe({prop:"minWidth",transform:pr}),ret=Pe({prop:"height",transform:pr}),iet=Pe({prop:"maxHeight",transform:pr}),oet=Pe({prop:"minHeight",transform:pr});Pe({prop:"size",cssProperty:"width",transform:pr});Pe({prop:"size",cssProperty:"height",transform:pr});const set=Pe({prop:"boxSizing"});og(eet,qb,net,ret,iet,oet,set);const rf={border:{themeKey:"borders",transform:Kr},borderTop:{themeKey:"borders",transform:Kr},borderRight:{themeKey:"borders",transform:Kr},borderBottom:{themeKey:"borders",transform:Kr},borderLeft:{themeKey:"borders",transform:Kr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Kr},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:sg},color:{themeKey:"palette",transform:Ja},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Ja},backgroundColor:{themeKey:"palette",transform:Ja},p:{style:Ee},pt:{style:Ee},pr:{style:Ee},pb:{style:Ee},pl:{style:Ee},px:{style:Ee},py:{style:Ee},padding:{style:Ee},paddingTop:{style:Ee},paddingRight:{style:Ee},paddingBottom:{style:Ee},paddingLeft:{style:Ee},paddingX:{style:Ee},paddingY:{style:Ee},paddingInline:{style:Ee},paddingInlineStart:{style:Ee},paddingInlineEnd:{style:Ee},paddingBlock:{style:Ee},paddingBlockStart:{style:Ee},paddingBlockEnd:{style:Ee},m:{style:we},mt:{style:we},mr:{style:we},mb:{style:we},ml:{style:we},mx:{style:we},my:{style:we},margin:{style:we},marginTop:{style:we},marginRight:{style:we},marginBottom:{style:we},marginLeft:{style:we},marginX:{style:we},marginY:{style:we},marginInline:{style:we},marginInlineStart:{style:we},marginInlineEnd:{style:we},marginBlock:{style:we},marginBlockStart:{style:we},marginBlockEnd:{style:we},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:ag},rowGap:{style:cg},columnGap:{style:ug},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:pr},maxWidth:{style:qb},minWidth:{transform:pr},height:{transform:pr},maxHeight:{transform:pr},minHeight:{transform:pr},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function aet(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function uet(t,e){return typeof t=="function"?t(e):t}function cet(){function t(n,r,i,s){const a={[n]:r,theme:i},c=s[n];if(!c)return{[n]:r};const{cssProperty:l=n,themeKey:d,transform:h,style:g}=c;if(r==null)return null;if(d==="typography"&&r==="inherit")return{[n]:r};const m=ig(i,d)||{};return g?g(a):Co(a,r,w=>{let x=kh(m,h,w);return w===x&&typeof w=="string"&&(x=kh(m,h,`${n}${w==="default"?"":qt(w)}`,w)),l===!1?x:{[l]:x}})}function e(n){const{sx:r,theme:i={}}=n||{};if(!r)return null;const s=i.unstable_sxConfig??rf;function a(c){let l=c;if(typeof c=="function")l=c(i);else if(typeof c!="object")return c;if(!l)return null;const d=Ett(i.breakpoints),h=Object.keys(d);let g=d;return Object.keys(l).forEach(m=>{const y=uet(l[m],i);if(y!=null)if(typeof y=="object")if(s[m])g=qc(g,t(m,y,i,s));else{const w=Co({theme:i},y,x=>({[m]:x}));aet(w,y)?g[m]=e({sx:y,theme:i}):g=qc(g,w)}else g=qc(g,t(m,y,i,s))}),ytt(i,xtt(h,g))}return Array.isArray(r)?r.map(a):a(r)}return e}const Xs=cet();Xs.filterProps=["sx"];function fet(t,e){var r;const n=this;if(n.vars){if(!((r=n.colorSchemes)!=null&&r[t])||typeof n.getColorSchemeSelector!="function")return{};let i=n.getColorSchemeSelector(t);return i==="&"?e:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:e})}return n.palette.mode===t?e:{}}function Vb(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:s={},...a}=t,c=mtt(n),l=KR(i);let d=vr({breakpoints:c,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:l,shape:{...Stt,...s}},a);return d=btt(d),d.applyStyles=fet,d=e.reduce((h,g)=>vr(h,g),d),d.unstable_sxConfig={...rf,...a==null?void 0:a.unstable_sxConfig},d.unstable_sx=function(g){return Xs({sx:g,theme:this})},d}function det(t){return Object.keys(t).length===0}function het(t=null){const e=H.useContext(Fb);return!e||det(e)?t:e}const pet=Vb();function get(t=pet){return het(t)}const met=t=>{var r;const e={systemProps:{},otherProps:{}},n=((r=t==null?void 0:t.theme)==null?void 0:r.unstable_sxConfig)??rf;return Object.keys(t).forEach(i=>{n[i]?e.systemProps[i]=t[i]:e.otherProps[i]=t[i]}),e};function qR(t){const{sx:e,...n}=t,{systemProps:r,otherProps:i}=met(n);let s;return Array.isArray(e)?s=[r,...e]:typeof e=="function"?s=(...a)=>{const c=e(...a);return Bi(c)?{...r,...c}:r}:s={...r,...e},{...i,sx:s}}const IC=t=>t,yet=()=>{let t=IC;return{configure(e){t=e},generate(e){return t(e)},reset(){t=IC}}},VR=yet();function HR(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=HR(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function gn(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=HR(t))&&(r&&(r+=" "),r+=e);return r}function vet(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=t,s=jR("div",{shouldForwardProp:c=>c!=="theme"&&c!=="sx"&&c!=="as"})(Xs);return H.forwardRef(function(l,d){const h=get(n),{className:g,component:m="div",...y}=qR(l);return G.jsx(s,{as:m,ref:d,className:gn(g,i?i(r):r),theme:e&&h[e]||h,...y})})}const _et={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function la(t,e,n="Mui"){const r=_et[e];return r?`${n}-${r}`:`${VR.generate(t)}-${e}`}function ds(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=la(t,i,n)}),r}function GR(t){const{variants:e,...n}=t,r={variants:e,style:OC(n),isProcessed:!0};return r.style===n||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=OC(i.style))}),r}const bet=Vb();function Cy(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function wet(t){return t?(e,n)=>n[t]:null}function Eet(t,e,n){t.theme=Tet(t.theme)?n:t.theme[e]||t.theme}function Fd(t,e){const n=typeof e=="function"?e(t):e;if(Array.isArray(n))return n.flatMap(r=>Fd(t,r));if(Array.isArray(n==null?void 0:n.variants)){let r;if(n.isProcessed)r=n.style;else{const{variants:i,...s}=n;r=s}return JR(t,n.variants,[r])}return n!=null&&n.isProcessed?n.style:n}function JR(t,e,n=[]){var i;let r;t:for(let s=0;s<e.length;s+=1){const a=e[s];if(typeof a.props=="function"){if(r??(r={...t,...t.ownerState,ownerState:t.ownerState}),!a.props(r))continue}else for(const c in a.props)if(t[c]!==a.props[c]&&((i=t.ownerState)==null?void 0:i[c])!==a.props[c])continue t;typeof a.style=="function"?(r??(r={...t,...t.ownerState,ownerState:t.ownerState}),n.push(a.style(r))):n.push(a.style)}return n}function xet(t={}){const{themeId:e,defaultTheme:n=bet,rootShouldForwardProp:r=Cy,slotShouldForwardProp:i=Cy}=t;function s(c){Eet(c,e,n)}return(c,l={})=>{dtt(c,j=>j.filter(B=>B!==Xs));const{name:d,slot:h,skipVariantsResolver:g,skipSx:m,overridesResolver:y=wet(Aet(h)),...w}=l,x=g!==void 0?g:h&&h!=="Root"&&h!=="root"||!1,C=m||!1;let T=Cy;h==="Root"||h==="root"?T=r:h?T=i:Oet(c)&&(T=void 0);const R=jR(c,{shouldForwardProp:T,label:Cet(),...w}),M=j=>{if(typeof j=="function"&&j.__emotion_real!==j)return function(k){return Fd(k,j)};if(Bi(j)){const B=GR(j);return B.variants?function(z){return Fd(z,B)}:B.style}return j},P=(...j)=>{const B=[],k=j.map(M),z=[];if(B.push(s),d&&y&&z.push(function(D){var pt,rt;const nt=(rt=(pt=D.theme.components)==null?void 0:pt[d])==null?void 0:rt.styleOverrides;if(!nt)return null;const mt={};for(const st in nt)mt[st]=Fd(D,nt[st]);return y(D,mt)}),d&&!x&&z.push(function(D){var mt,pt;const X=D.theme,nt=(pt=(mt=X==null?void 0:X.components)==null?void 0:mt[d])==null?void 0:pt.variants;return nt?JR(D,nt):null}),C||z.push(Xs),Array.isArray(k[0])){const N=k.shift(),D=new Array(B.length).fill(""),X=new Array(z.length).fill("");let nt;nt=[...D,...N,...X],nt.raw=[...D,...N.raw,...X],B.unshift(nt)}const K=[...B,...k,...z],b=R(...K);return c.muiName&&(b.muiName=c.muiName),b};return R.withConfig&&(P.withConfig=R.withConfig),P}}function Cet(t,e){return void 0}function Tet(t){for(const e in t)return!1;return!0}function Oet(t){return typeof t=="string"&&t.charCodeAt(0)>96}function Aet(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}function Ih(t,e){const n={...e};for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const i=r;if(i==="components"||i==="slots")n[i]={...t[i],...n[i]};else if(i==="componentsProps"||i==="slotProps"){const s=t[i],a=e[i];if(!a)n[i]=s||{};else if(!s)n[i]=a;else{n[i]={...a};for(const c in s)if(Object.prototype.hasOwnProperty.call(s,c)){const l=c;n[i][l]=Ih(s[l],a[l])}}}else n[i]===void 0&&(n[i]=t[i])}return n}const ket=typeof window<"u"?H.useLayoutEffect:H.useEffect;function Iet(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}function Hb(t,e=0,n=1){return Iet(t,e,n)}function Pet(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function as(t){if(t.type)return t;if(t.charAt(0)==="#")return as(Pet(t));const e=t.indexOf("("),n=t.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(Ys(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(Ys(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}const $et=t=>{const e=as(t);return e.values.slice(0,3).map((n,r)=>e.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},Lc=(t,e)=>{try{return $et(t)}catch{return t}};function lg(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.includes("rgb")?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function YR(t){t=as(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),a=(d,h=(d+n/30)%12)=>i-s*Math.max(Math.min(h-3,9-h,1),-1);let c="rgb";const l=[Math.round(a(0)*255),Math.round(a(8)*255),Math.round(a(4)*255)];return t.type==="hsla"&&(c+="a",l.push(e[3])),lg({type:c,values:l})}function Hv(t){t=as(t);let e=t.type==="hsl"||t.type==="hsla"?as(YR(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function Ret(t,e){const n=Hv(t),r=Hv(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function Yo(t,e){return t=as(t),e=Hb(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,lg(t)}function ld(t,e,n){try{return Yo(t,e)}catch{return t}}function Gb(t,e){if(t=as(t),e=Hb(e),t.type.includes("hsl"))t.values[2]*=1-e;else if(t.type.includes("rgb")||t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]*=1-e;return lg(t)}function Zt(t,e,n){try{return Gb(t,e)}catch{return t}}function Jb(t,e){if(t=as(t),e=Hb(e),t.type.includes("hsl"))t.values[2]+=(100-t.values[2])*e;else if(t.type.includes("rgb"))for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return lg(t)}function te(t,e,n){try{return Jb(t,e)}catch{return t}}function Met(t,e=.15){return Hv(t)>.5?Gb(t,e):Jb(t,e)}function fd(t,e,n){try{return Met(t,e)}catch{return t}}function Net(t,e){typeof t=="function"?t(e):t&&(t.current=e)}let PC=0;function Let(t){const[e,n]=H.useState(t),r=t||e;return H.useEffect(()=>{e==null&&(PC+=1,n(`mui-${PC}`))},[e]),r}const Fet={...Pv},$C=Fet.useId;function XR(t){if($C!==void 0){const e=$C();return t??e}return Let(t)}function Bd(t){const e=H.useRef(t);return ket(()=>{e.current=t}),H.useRef((...n)=>(0,e.current)(...n)).current}function RC(...t){return H.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{Net(n,e)})},t)}const MC={};function QR(t,e){const n=H.useRef(MC);return n.current===MC&&(n.current=t(e)),n}const Bet=[];function jet(t){H.useEffect(t,Bet)}class Yb{constructor(){_(this,"currentId",null);_(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});_(this,"disposeEffect",()=>this.clear)}static create(){return new Yb}start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}}function Det(){const t=QR(Yb.create).current;return jet(t.disposeEffect),t}function NC(t){try{return t.matches(":focus-visible")}catch{}return!1}function Ju(t,e,n=void 0){const r={};for(const i in t){const s=t[i];let a="",c=!0;for(let l=0;l<s.length;l+=1){const d=s[l];d&&(a+=(c===!0?"":" ")+e(d),c=!1,n&&n[d]&&(a+=" "+n[d]))}r[i]=a}return r}const zet=H.createContext(void 0);function Uet(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const i=e.components[n];return i.defaultProps?Ih(i.defaultProps,r):!i.styleOverrides&&!i.variants?Ih(i,r):r}function Wet({props:t,name:e}){const n=H.useContext(zet);return Uet({props:t,name:e,theme:{components:n}})}const LC={theme:void 0};function Ket(t){let e,n;return function(i){let s=e;return(s===void 0||i.theme!==n)&&(LC.theme=i.theme,s=GR(t(LC)),e=s,n=i.theme),s}}function qet(t=""){function e(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${t?`${t}-`:""}${i}${e(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${t?`${t}-`:""}${r}${e(...i)})`}const FC=(t,e,n,r=[])=>{let i=t;e.forEach((s,a)=>{a===e.length-1?Array.isArray(i)?i[Number(s)]=n:i&&typeof i=="object"&&(i[s]=n):i&&typeof i=="object"&&(i[s]||(i[s]=r.includes(s)?[]:{}),i=i[s])})},Vet=(t,e,n)=>{function r(i,s=[],a=[]){Object.entries(i).forEach(([c,l])=>{(!n||n&&!n([...s,c]))&&l!=null&&(typeof l=="object"&&Object.keys(l).length>0?r(l,[...s,c],Array.isArray(l)?[...a,c]:a):e([...s,c],l,a))})}r(t)},Het=(t,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>t.includes(r))||t[t.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function Ty(t,e){const{prefix:n,shouldSkipGeneratingVar:r}=e||{},i={},s={},a={};return Vet(t,(c,l,d)=>{if((typeof l=="string"||typeof l=="number")&&(!r||!r(c,l))){const h=`--${n?`${n}-`:""}${c.join("-")}`,g=Het(c,l);Object.assign(i,{[h]:g}),FC(s,c,`var(${h})`,d),FC(a,c,`var(${h}, ${g})`,d)}},c=>c[0]==="vars"),{css:i,vars:s,varsWithDefaults:a}}function Get(t,e={}){const{getSelector:n=C,disableCssColorScheme:r,colorSchemeSelector:i}=e,{colorSchemes:s={},components:a,defaultColorScheme:c="light",...l}=t,{vars:d,css:h,varsWithDefaults:g}=Ty(l,e);let m=g;const y={},{[c]:w,...x}=s;if(Object.entries(x||{}).forEach(([M,P])=>{const{vars:j,css:B,varsWithDefaults:k}=Ty(P,e);m=vr(m,k),y[M]={css:B,vars:j}}),w){const{css:M,vars:P,varsWithDefaults:j}=Ty(w,e);m=vr(m,j),y[c]={css:M,vars:P}}function C(M,P){var B,k;let j=i;if(i==="class"&&(j=".%s"),i==="data"&&(j="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(j=`[${i}="%s"]`),M){if(j==="media")return t.defaultColorScheme===M?":root":{[`@media (prefers-color-scheme: ${((k=(B=s[M])==null?void 0:B.palette)==null?void 0:k.mode)||M})`]:{":root":P}};if(j)return t.defaultColorScheme===M?`:root, ${j.replace("%s",String(M))}`:j.replace("%s",String(M))}return":root"}return{vars:m,generateThemeVars:()=>{let M={...d};return Object.entries(y).forEach(([,{vars:P}])=>{M=vr(M,P)}),M},generateStyleSheets:()=>{var z,K;const M=[],P=t.defaultColorScheme||"light";function j(b,N){Object.keys(N).length&&M.push(typeof b=="string"?{[b]:{...N}}:b)}j(n(void 0,{...h}),h);const{[P]:B,...k}=y;if(B){const{css:b}=B,N=(K=(z=s[P])==null?void 0:z.palette)==null?void 0:K.mode,D=!r&&N?{colorScheme:N,...b}:{...b};j(n(P,{...D}),D)}return Object.entries(k).forEach(([b,{css:N}])=>{var nt,mt;const D=(mt=(nt=s[b])==null?void 0:nt.palette)==null?void 0:mt.mode,X=!r&&D?{colorScheme:D,...N}:{...N};j(n(b,{...X}),X)}),M}}}function Jet(t){return function(n){return t==="media"?`@media (prefers-color-scheme: ${n})`:t?t.startsWith("data-")&&!t.includes("%s")?`[${t}="${n}"] &`:t==="class"?`.${n} &`:t==="data"?`[data-${n}] &`:`${t.replace("%s",n)} &`:"&"}}function ZR(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:hl.white,default:hl.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const Yet=ZR();function tM(){return{text:{primary:hl.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:hl.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const BC=tM();function jC(t,e,n,r){const i=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=Jb(t.main,i):e==="dark"&&(t.dark=Gb(t.main,s)))}function Xet(t="light"){return t==="dark"?{main:Ma[200],light:Ma[50],dark:Ma[400]}:{main:Ma[700],light:Ma[400],dark:Ma[800]}}function Qet(t="light"){return t==="dark"?{main:Ra[200],light:Ra[50],dark:Ra[400]}:{main:Ra[500],light:Ra[300],dark:Ra[700]}}function Zet(t="light"){return t==="dark"?{main:$a[500],light:$a[300],dark:$a[700]}:{main:$a[700],light:$a[400],dark:$a[800]}}function tnt(t="light"){return t==="dark"?{main:Na[400],light:Na[300],dark:Na[700]}:{main:Na[700],light:Na[500],dark:Na[900]}}function ent(t="light"){return t==="dark"?{main:La[400],light:La[300],dark:La[700]}:{main:La[800],light:La[500],dark:La[900]}}function nnt(t="light"){return t==="dark"?{main:Tc[400],light:Tc[300],dark:Tc[700]}:{main:"#ed6c02",light:Tc[500],dark:Tc[900]}}function Xb(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2,...i}=t,s=t.primary||Xet(e),a=t.secondary||Qet(e),c=t.error||Zet(e),l=t.info||tnt(e),d=t.success||ent(e),h=t.warning||nnt(e);function g(x){return Ret(x,BC.text.primary)>=n?BC.text.primary:Yet.text.primary}const m=({color:x,name:C,mainShade:T=500,lightShade:R=300,darkShade:M=700})=>{if(x={...x},!x.main&&x[T]&&(x.main=x[T]),!x.hasOwnProperty("main"))throw new Error(Ys(11,C?` (${C})`:"",T));if(typeof x.main!="string")throw new Error(Ys(12,C?` (${C})`:"",JSON.stringify(x.main)));return jC(x,"light",R,r),jC(x,"dark",M,r),x.contrastText||(x.contrastText=g(x.main)),x};let y;return e==="light"?y=ZR():e==="dark"&&(y=tM()),vr({common:{...hl},mode:e,primary:m({color:s,name:"primary"}),secondary:m({color:a,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:m({color:c,name:"error"}),warning:m({color:h,name:"warning"}),info:m({color:l,name:"info"}),success:m({color:d,name:"success"}),grey:cZ,contrastThreshold:n,getContrastText:g,augmentColor:m,tonalOffset:r,...y},i)}function rnt(t){const e={};return Object.entries(t).forEach(r=>{const[i,s]=r;typeof s=="object"&&(e[i]=`${s.fontStyle?`${s.fontStyle} `:""}${s.fontVariant?`${s.fontVariant} `:""}${s.fontWeight?`${s.fontWeight} `:""}${s.fontStretch?`${s.fontStretch} `:""}${s.fontSize||""}${s.lineHeight?`/${s.lineHeight} `:""}${s.fontFamily||""}`)}),e}function int(t,e){return{toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}},...e}}function ont(t){return Math.round(t*1e5)/1e5}const DC={textTransform:"uppercase"},zC='"Roboto", "Helvetica", "Arial", sans-serif';function snt(t,e){const{fontFamily:n=zC,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:s=400,fontWeightMedium:a=500,fontWeightBold:c=700,htmlFontSize:l=16,allVariants:d,pxToRem:h,...g}=typeof e=="function"?e(t):e,m=r/14,y=h||(C=>`${C/l*m}rem`),w=(C,T,R,M,P)=>({fontFamily:n,fontWeight:C,fontSize:y(T),lineHeight:R,...n===zC?{letterSpacing:`${ont(M/T)}em`}:{},...P,...d}),x={h1:w(i,96,1.167,-1.5),h2:w(i,60,1.2,-.5),h3:w(s,48,1.167,0),h4:w(s,34,1.235,.25),h5:w(s,24,1.334,0),h6:w(a,20,1.6,.15),subtitle1:w(s,16,1.75,.15),subtitle2:w(a,14,1.57,.1),body1:w(s,16,1.5,.15),body2:w(s,14,1.43,.15),button:w(a,14,1.75,.4,DC),caption:w(s,12,1.66,.4),overline:w(s,12,2.66,1,DC),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return vr({htmlFontSize:l,pxToRem:y,fontFamily:n,fontSize:r,fontWeightLight:i,fontWeightRegular:s,fontWeightMedium:a,fontWeightBold:c,...x},g,{clone:!1})}const ant=.2,unt=.14,cnt=.12;function pe(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${ant})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${unt})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${cnt})`].join(",")}const lnt=["none",pe(0,2,1,-1,0,1,1,0,0,1,3,0),pe(0,3,1,-2,0,2,2,0,0,1,5,0),pe(0,3,3,-2,0,3,4,0,0,1,8,0),pe(0,2,4,-1,0,4,5,0,0,1,10,0),pe(0,3,5,-1,0,5,8,0,0,1,14,0),pe(0,3,5,-1,0,6,10,0,0,1,18,0),pe(0,4,5,-2,0,7,10,1,0,2,16,1),pe(0,5,5,-3,0,8,10,1,0,3,14,2),pe(0,5,6,-3,0,9,12,1,0,3,16,2),pe(0,6,6,-3,0,10,14,1,0,4,18,3),pe(0,6,7,-4,0,11,15,1,0,4,20,3),pe(0,7,8,-4,0,12,17,2,0,5,22,4),pe(0,7,8,-4,0,13,19,2,0,5,24,4),pe(0,7,9,-4,0,14,21,2,0,5,26,4),pe(0,8,9,-5,0,15,22,2,0,6,28,5),pe(0,8,10,-5,0,16,24,2,0,6,30,5),pe(0,8,11,-5,0,17,26,2,0,6,32,5),pe(0,9,11,-5,0,18,28,2,0,7,34,6),pe(0,9,12,-6,0,19,29,2,0,7,36,6),pe(0,10,13,-6,0,20,31,3,0,8,38,7),pe(0,10,13,-6,0,21,33,3,0,8,40,7),pe(0,10,14,-6,0,22,35,3,0,8,42,7),pe(0,11,14,-7,0,23,36,3,0,9,44,8),pe(0,11,15,-7,0,24,38,3,0,9,46,8)],fnt={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},dnt={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function UC(t){return`${Math.round(t)}ms`}function hnt(t){if(!t)return 0;const e=t/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function pnt(t){const e={...fnt,...t.easing},n={...dnt,...t.duration};return{getAutoHeightDuration:hnt,create:(i=["all"],s={})=>{const{duration:a=n.standard,easing:c=e.easeInOut,delay:l=0,...d}=s;return(Array.isArray(i)?i:[i]).map(h=>`${h} ${typeof a=="string"?a:UC(a)} ${c} ${typeof l=="string"?l:UC(l)}`).join(",")},...t,easing:e,duration:n}}const gnt={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function mnt(t){return Bi(t)||typeof t>"u"||typeof t=="string"||typeof t=="boolean"||typeof t=="number"||Array.isArray(t)}function eM(t={}){const e={...t};function n(r){const i=Object.entries(r);for(let s=0;s<i.length;s++){const[a,c]=i[s];!mnt(c)||a.startsWith("unstable_")?delete r[a]:Bi(c)&&(r[a]={...c},n(r[a]))}}return n(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function Gv(t={},...e){const{breakpoints:n,mixins:r={},spacing:i,palette:s={},transitions:a={},typography:c={},shape:l,...d}=t;if(t.vars&&t.generateThemeVars===void 0)throw new Error(Ys(20));const h=Xb(s),g=Vb(t);let m=vr(g,{mixins:int(g.breakpoints,r),palette:h,shadows:lnt.slice(),typography:snt(h,c),transitions:pnt(a),zIndex:{...gnt}});return m=vr(m,d),m=e.reduce((y,w)=>vr(y,w),m),m.unstable_sxConfig={...rf,...d==null?void 0:d.unstable_sxConfig},m.unstable_sx=function(w){return Xs({sx:w,theme:this})},m.toRuntimeSource=eM,m}function ynt(t){let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,Math.round(e*10)/1e3}const vnt=[...Array(25)].map((t,e)=>{if(e===0)return"none";const n=ynt(e);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function nM(t){return{inputPlaceholder:t==="dark"?.5:.42,inputUnderline:t==="dark"?.7:.42,switchTrackDisabled:t==="dark"?.2:.12,switchTrack:t==="dark"?.3:.38}}function rM(t){return t==="dark"?vnt:[]}function _nt(t){const{palette:e={mode:"light"},opacity:n,overlays:r,...i}=t,s=Xb(e);return{palette:s,opacity:{...nM(s.mode),...n},overlays:r||rM(s.mode),...i}}function bnt(t){var e;return!!t[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!t[0].match(/sxConfig$/)||t[0]==="palette"&&!!((e=t[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const Snt=t=>[...[...Array(25)].map((e,n)=>`--${t?`${t}-`:""}overlays-${n}`),`--${t?`${t}-`:""}palette-AppBar-darkBg`,`--${t?`${t}-`:""}palette-AppBar-darkColor`];var wnt=t=>(e,n)=>{const r=t.rootSelector||":root",i=t.colorSchemeSelector;let s=i;if(i==="class"&&(s=".%s"),i==="data"&&(s="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(s=`[${i}="%s"]`),t.defaultColorScheme===e){if(e==="dark"){const a={};return Snt(t.cssVarPrefix).forEach(c=>{a[c]=n[c],delete n[c]}),s==="media"?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:a}}:s?{[s.replace("%s",e)]:a,[`${r}, ${s.replace("%s",e)}`]:n}:{[r]:{...n,...a}}}if(s&&s!=="media")return`${r}, ${s.replace("%s",String(e))}`}else if(e){if(s==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:n}};if(s)return s.replace("%s",String(e))}return r};function Ent(t,e){e.forEach(n=>{t[n]||(t[n]={})})}function U(t,e,n){!t[e]&&n&&(t[e]=n)}function Fc(t){return typeof t!="string"||!t.startsWith("hsl")?t:YR(t)}function lo(t,e){`${e}Channel`in t||(t[`${e}Channel`]=Lc(Fc(t[e])))}function xnt(t){return typeof t=="number"?`${t}px`:typeof t=="string"||typeof t=="function"||Array.isArray(t)?t:"8px"}const Ti=t=>{try{return t()}catch{}},Cnt=(t="mui")=>qet(t);function Oy(t,e,n,r){if(!e)return;e=e===!0?{}:e;const i=r==="dark"?"dark":"light";if(!n){t[r]=_nt({...e,palette:{mode:i,...e==null?void 0:e.palette}});return}const{palette:s,...a}=Gv({...n,palette:{mode:i,...e==null?void 0:e.palette}});return t[r]={...e,palette:s,opacity:{...nM(i),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||rM(i)},a}function Tnt(t={},...e){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:s="mui",shouldSkipGeneratingVar:a=bnt,colorSchemeSelector:c=n.light&&n.dark?"media":void 0,rootSelector:l=":root",...d}=t,h=Object.keys(n)[0],g=r||(n.light&&h!=="light"?"light":h),m=Cnt(s),{[g]:y,light:w,dark:x,...C}=n,T={...C};let R=y;if((g==="dark"&&!("dark"in n)||g==="light"&&!("light"in n))&&(R=!0),!R)throw new Error(Ys(21,g));const M=Oy(T,R,d,g);w&&!T.light&&Oy(T,w,void 0,"light"),x&&!T.dark&&Oy(T,x,void 0,"dark");let P={defaultColorScheme:g,...M,cssVarPrefix:s,colorSchemeSelector:c,rootSelector:l,getCssVar:m,colorSchemes:T,font:{...rnt(M.typography),...M.font},spacing:xnt(d.spacing)};Object.keys(P.colorSchemes).forEach(K=>{const b=P.colorSchemes[K].palette,N=D=>{const X=D.split("-"),nt=X[1],mt=X[2];return m(D,b[nt][mt])};if(b.mode==="light"&&(U(b.common,"background","#fff"),U(b.common,"onBackground","#000")),b.mode==="dark"&&(U(b.common,"background","#000"),U(b.common,"onBackground","#fff")),Ent(b,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),b.mode==="light"){U(b.Alert,"errorColor",Zt(b.error.light,.6)),U(b.Alert,"infoColor",Zt(b.info.light,.6)),U(b.Alert,"successColor",Zt(b.success.light,.6)),U(b.Alert,"warningColor",Zt(b.warning.light,.6)),U(b.Alert,"errorFilledBg",N("palette-error-main")),U(b.Alert,"infoFilledBg",N("palette-info-main")),U(b.Alert,"successFilledBg",N("palette-success-main")),U(b.Alert,"warningFilledBg",N("palette-warning-main")),U(b.Alert,"errorFilledColor",Ti(()=>b.getContrastText(b.error.main))),U(b.Alert,"infoFilledColor",Ti(()=>b.getContrastText(b.info.main))),U(b.Alert,"successFilledColor",Ti(()=>b.getContrastText(b.success.main))),U(b.Alert,"warningFilledColor",Ti(()=>b.getContrastText(b.warning.main))),U(b.Alert,"errorStandardBg",te(b.error.light,.9)),U(b.Alert,"infoStandardBg",te(b.info.light,.9)),U(b.Alert,"successStandardBg",te(b.success.light,.9)),U(b.Alert,"warningStandardBg",te(b.warning.light,.9)),U(b.Alert,"errorIconColor",N("palette-error-main")),U(b.Alert,"infoIconColor",N("palette-info-main")),U(b.Alert,"successIconColor",N("palette-success-main")),U(b.Alert,"warningIconColor",N("palette-warning-main")),U(b.AppBar,"defaultBg",N("palette-grey-100")),U(b.Avatar,"defaultBg",N("palette-grey-400")),U(b.Button,"inheritContainedBg",N("palette-grey-300")),U(b.Button,"inheritContainedHoverBg",N("palette-grey-A100")),U(b.Chip,"defaultBorder",N("palette-grey-400")),U(b.Chip,"defaultAvatarColor",N("palette-grey-700")),U(b.Chip,"defaultIconColor",N("palette-grey-700")),U(b.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),U(b.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),U(b.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),U(b.LinearProgress,"primaryBg",te(b.primary.main,.62)),U(b.LinearProgress,"secondaryBg",te(b.secondary.main,.62)),U(b.LinearProgress,"errorBg",te(b.error.main,.62)),U(b.LinearProgress,"infoBg",te(b.info.main,.62)),U(b.LinearProgress,"successBg",te(b.success.main,.62)),U(b.LinearProgress,"warningBg",te(b.warning.main,.62)),U(b.Skeleton,"bg",`rgba(${N("palette-text-primaryChannel")} / 0.11)`),U(b.Slider,"primaryTrack",te(b.primary.main,.62)),U(b.Slider,"secondaryTrack",te(b.secondary.main,.62)),U(b.Slider,"errorTrack",te(b.error.main,.62)),U(b.Slider,"infoTrack",te(b.info.main,.62)),U(b.Slider,"successTrack",te(b.success.main,.62)),U(b.Slider,"warningTrack",te(b.warning.main,.62));const D=fd(b.background.default,.8);U(b.SnackbarContent,"bg",D),U(b.SnackbarContent,"color",Ti(()=>b.getContrastText(D))),U(b.SpeedDialAction,"fabHoverBg",fd(b.background.paper,.15)),U(b.StepConnector,"border",N("palette-grey-400")),U(b.StepContent,"border",N("palette-grey-400")),U(b.Switch,"defaultColor",N("palette-common-white")),U(b.Switch,"defaultDisabledColor",N("palette-grey-100")),U(b.Switch,"primaryDisabledColor",te(b.primary.main,.62)),U(b.Switch,"secondaryDisabledColor",te(b.secondary.main,.62)),U(b.Switch,"errorDisabledColor",te(b.error.main,.62)),U(b.Switch,"infoDisabledColor",te(b.info.main,.62)),U(b.Switch,"successDisabledColor",te(b.success.main,.62)),U(b.Switch,"warningDisabledColor",te(b.warning.main,.62)),U(b.TableCell,"border",te(ld(b.divider,1),.88)),U(b.Tooltip,"bg",ld(b.grey[700],.92))}if(b.mode==="dark"){U(b.Alert,"errorColor",te(b.error.light,.6)),U(b.Alert,"infoColor",te(b.info.light,.6)),U(b.Alert,"successColor",te(b.success.light,.6)),U(b.Alert,"warningColor",te(b.warning.light,.6)),U(b.Alert,"errorFilledBg",N("palette-error-dark")),U(b.Alert,"infoFilledBg",N("palette-info-dark")),U(b.Alert,"successFilledBg",N("palette-success-dark")),U(b.Alert,"warningFilledBg",N("palette-warning-dark")),U(b.Alert,"errorFilledColor",Ti(()=>b.getContrastText(b.error.dark))),U(b.Alert,"infoFilledColor",Ti(()=>b.getContrastText(b.info.dark))),U(b.Alert,"successFilledColor",Ti(()=>b.getContrastText(b.success.dark))),U(b.Alert,"warningFilledColor",Ti(()=>b.getContrastText(b.warning.dark))),U(b.Alert,"errorStandardBg",Zt(b.error.light,.9)),U(b.Alert,"infoStandardBg",Zt(b.info.light,.9)),U(b.Alert,"successStandardBg",Zt(b.success.light,.9)),U(b.Alert,"warningStandardBg",Zt(b.warning.light,.9)),U(b.Alert,"errorIconColor",N("palette-error-main")),U(b.Alert,"infoIconColor",N("palette-info-main")),U(b.Alert,"successIconColor",N("palette-success-main")),U(b.Alert,"warningIconColor",N("palette-warning-main")),U(b.AppBar,"defaultBg",N("palette-grey-900")),U(b.AppBar,"darkBg",N("palette-background-paper")),U(b.AppBar,"darkColor",N("palette-text-primary")),U(b.Avatar,"defaultBg",N("palette-grey-600")),U(b.Button,"inheritContainedBg",N("palette-grey-800")),U(b.Button,"inheritContainedHoverBg",N("palette-grey-700")),U(b.Chip,"defaultBorder",N("palette-grey-700")),U(b.Chip,"defaultAvatarColor",N("palette-grey-300")),U(b.Chip,"defaultIconColor",N("palette-grey-300")),U(b.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),U(b.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),U(b.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),U(b.LinearProgress,"primaryBg",Zt(b.primary.main,.5)),U(b.LinearProgress,"secondaryBg",Zt(b.secondary.main,.5)),U(b.LinearProgress,"errorBg",Zt(b.error.main,.5)),U(b.LinearProgress,"infoBg",Zt(b.info.main,.5)),U(b.LinearProgress,"successBg",Zt(b.success.main,.5)),U(b.LinearProgress,"warningBg",Zt(b.warning.main,.5)),U(b.Skeleton,"bg",`rgba(${N("palette-text-primaryChannel")} / 0.13)`),U(b.Slider,"primaryTrack",Zt(b.primary.main,.5)),U(b.Slider,"secondaryTrack",Zt(b.secondary.main,.5)),U(b.Slider,"errorTrack",Zt(b.error.main,.5)),U(b.Slider,"infoTrack",Zt(b.info.main,.5)),U(b.Slider,"successTrack",Zt(b.success.main,.5)),U(b.Slider,"warningTrack",Zt(b.warning.main,.5));const D=fd(b.background.default,.98);U(b.SnackbarContent,"bg",D),U(b.SnackbarContent,"color",Ti(()=>b.getContrastText(D))),U(b.SpeedDialAction,"fabHoverBg",fd(b.background.paper,.15)),U(b.StepConnector,"border",N("palette-grey-600")),U(b.StepContent,"border",N("palette-grey-600")),U(b.Switch,"defaultColor",N("palette-grey-300")),U(b.Switch,"defaultDisabledColor",N("palette-grey-600")),U(b.Switch,"primaryDisabledColor",Zt(b.primary.main,.55)),U(b.Switch,"secondaryDisabledColor",Zt(b.secondary.main,.55)),U(b.Switch,"errorDisabledColor",Zt(b.error.main,.55)),U(b.Switch,"infoDisabledColor",Zt(b.info.main,.55)),U(b.Switch,"successDisabledColor",Zt(b.success.main,.55)),U(b.Switch,"warningDisabledColor",Zt(b.warning.main,.55)),U(b.TableCell,"border",Zt(ld(b.divider,1),.68)),U(b.Tooltip,"bg",ld(b.grey[700],.92))}lo(b.background,"default"),lo(b.background,"paper"),lo(b.common,"background"),lo(b.common,"onBackground"),lo(b,"divider"),Object.keys(b).forEach(D=>{const X=b[D];D!=="tonalOffset"&&X&&typeof X=="object"&&(X.main&&U(b[D],"mainChannel",Lc(Fc(X.main))),X.light&&U(b[D],"lightChannel",Lc(Fc(X.light))),X.dark&&U(b[D],"darkChannel",Lc(Fc(X.dark))),X.contrastText&&U(b[D],"contrastTextChannel",Lc(Fc(X.contrastText))),D==="text"&&(lo(b[D],"primary"),lo(b[D],"secondary")),D==="action"&&(X.active&&lo(b[D],"active"),X.selected&&lo(b[D],"selected")))})}),P=e.reduce((K,b)=>vr(K,b),P);const j={prefix:s,disableCssColorScheme:i,shouldSkipGeneratingVar:a,getSelector:wnt(P)},{vars:B,generateThemeVars:k,generateStyleSheets:z}=Get(P,j);return P.vars=B,Object.entries(P.colorSchemes[P.defaultColorScheme]).forEach(([K,b])=>{P[K]=b}),P.generateThemeVars=k,P.generateStyleSheets=z,P.generateSpacing=function(){return KR(d.spacing,Kb(this))},P.getColorSchemeSelector=Jet(c),P.spacing=P.generateSpacing(),P.shouldSkipGeneratingVar=a,P.unstable_sxConfig={...rf,...d==null?void 0:d.unstable_sxConfig},P.unstable_sx=function(b){return Xs({sx:b,theme:this})},P.toRuntimeSource=eM,P}function WC(t,e,n){t.colorSchemes&&n&&(t.colorSchemes[e]={...n!==!0&&n,palette:Xb({...n===!0?{}:n.palette,mode:e})})}function iM(t={},...e){const{palette:n,cssVariables:r=!1,colorSchemes:i=n?void 0:{light:!0},defaultColorScheme:s=n==null?void 0:n.mode,...a}=t,c=s||"light",l=i==null?void 0:i[c],d={...i,...n?{[c]:{...typeof l!="boolean"&&l,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in t))return Gv(t,...e);let h=n;"palette"in t||d[c]&&(d[c]!==!0?h=d[c].palette:c==="dark"&&(h={mode:"dark"}));const g=Gv({...t,palette:h},...e);return g.defaultColorScheme=c,g.colorSchemes=d,g.palette.mode==="light"&&(g.colorSchemes.light={...d.light!==!0&&d.light,palette:g.palette},WC(g,"dark",d.dark)),g.palette.mode==="dark"&&(g.colorSchemes.dark={...d.dark!==!0&&d.dark,palette:g.palette},WC(g,"light",d.light)),g}return!n&&!("light"in d)&&c==="light"&&(d.light=!0),Tnt({...a,colorSchemes:d,defaultColorScheme:c,...typeof r!="boolean"&&r},...e)}const Ont=iM();function Ant(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const oM=t=>Ant(t)&&t!=="classes",Hn=xet({themeId:bR,defaultTheme:Ont,rootShouldForwardProp:oM});function knt(){return qR}const Qs=Ket;function fa(t){return Wet(t)}function Int(t){return la("MuiSvgIcon",t)}ds("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Pnt=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${qt(e)}`,`fontSize${qt(n)}`]};return Ju(i,Int,r)},$nt=Hn("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${qt(n.color)}`],e[`fontSize${qt(n.fontSize)}`]]}})(Qs(({theme:t})=>{var e,n,r,i,s,a,c,l,d,h,g,m,y,w;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(i=(e=t.transitions)==null?void 0:e.create)==null?void 0:i.call(e,"fill",{duration:(r=(n=(t.vars??t).transitions)==null?void 0:n.duration)==null?void 0:r.shorter}),variants:[{props:x=>!x.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((a=(s=t.typography)==null?void 0:s.pxToRem)==null?void 0:a.call(s,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((l=(c=t.typography)==null?void 0:c.pxToRem)==null?void 0:l.call(c,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((h=(d=t.typography)==null?void 0:d.pxToRem)==null?void 0:h.call(d,35))||"2.1875rem"}},...Object.entries((t.vars??t).palette).filter(([,x])=>x&&x.main).map(([x])=>{var C,T;return{props:{color:x},style:{color:(T=(C=(t.vars??t).palette)==null?void 0:C[x])==null?void 0:T.main}}}),{props:{color:"action"},style:{color:(m=(g=(t.vars??t).palette)==null?void 0:g.action)==null?void 0:m.active}},{props:{color:"disabled"},style:{color:(w=(y=(t.vars??t).palette)==null?void 0:y.action)==null?void 0:w.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),Jv=H.forwardRef(function(e,n){const r=fa({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:a="inherit",component:c="svg",fontSize:l="medium",htmlColor:d,inheritViewBox:h=!1,titleAccess:g,viewBox:m="0 0 24 24",...y}=r,w=H.isValidElement(i)&&i.type==="svg",x={...r,color:a,component:c,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:h,viewBox:m,hasSvgAsChild:w},C={};h||(C.viewBox=m);const T=Pnt(x);return G.jsxs($nt,{as:c,className:gn(T.root,s),focusable:"false",color:d,"aria-hidden":g?void 0:!0,role:g?"img":void 0,ref:n,...C,...y,...w&&i.props,ownerState:x,children:[w?i.props.children:i,g?G.jsx("title",{children:g}):null]})});Jv.muiName="SvgIcon";function Qb(t,e){function n(r,i){return G.jsx(Jv,{"data-testid":`${e}Icon`,ref:i,...r,children:t})}return n.muiName=Jv.muiName,H.memo(H.forwardRef(n))}function Rnt(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Yv(t,e){return Yv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Yv(t,e)}function Mnt(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Yv(t,e)}var KC=ue.createContext(null);function Nnt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Zb(t,e){var n=function(s){return e&&H.isValidElement(s)?e(s):s},r=Object.create(null);return t&&H.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function Lnt(t,e){t=t||{},e=e||{};function n(h){return h in e?e[h]:t[h]}var r=Object.create(null),i=[];for(var s in t)s in e?i.length&&(r[s]=i,i=[]):i.push(s);var a,c={};for(var l in e){if(r[l])for(a=0;a<r[l].length;a++){var d=r[l][a];c[r[l][a]]=n(d)}c[l]=n(l)}for(a=0;a<i.length;a++)c[i[a]]=n(i[a]);return c}function Rs(t,e,n){return n[e]!=null?n[e]:t.props[e]}function Fnt(t,e){return Zb(t.children,function(n){return H.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:Rs(n,"appear",t),enter:Rs(n,"enter",t),exit:Rs(n,"exit",t)})})}function Bnt(t,e,n){var r=Zb(t.children),i=Lnt(e,r);return Object.keys(i).forEach(function(s){var a=i[s];if(H.isValidElement(a)){var c=s in e,l=s in r,d=e[s],h=H.isValidElement(d)&&!d.props.in;l&&(!c||h)?i[s]=H.cloneElement(a,{onExited:n.bind(null,a),in:!0,exit:Rs(a,"exit",t),enter:Rs(a,"enter",t)}):!l&&c&&!h?i[s]=H.cloneElement(a,{in:!1}):l&&c&&H.isValidElement(d)&&(i[s]=H.cloneElement(a,{onExited:n.bind(null,a),in:d.props.in,exit:Rs(a,"exit",t),enter:Rs(a,"enter",t)}))}}),i}var jnt=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},Dnt={component:"div",childFactory:function(e){return e}},tS=function(t){Mnt(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var a=s.handleExited.bind(Nnt(s));return s.state={contextValue:{isMounting:!0},handleExited:a,firstRender:!0},s}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,s){var a=s.children,c=s.handleExited,l=s.firstRender;return{children:l?Fnt(i,c):Bnt(i,a,c),firstRender:!1}},n.handleExited=function(i,s){var a=Zb(this.props.children);i.key in a||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(c){var l=Oh({},c.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,s=i.component,a=i.childFactory,c=Rnt(i,["component","childFactory"]),l=this.state.contextValue,d=jnt(this.state.children).map(a);return delete c.appear,delete c.enter,delete c.exit,s===null?ue.createElement(KC.Provider,{value:l},d):ue.createElement(KC.Provider,{value:l},ue.createElement(s,c,d))},e}(ue.Component);tS.propTypes={};tS.defaultProps=Dnt;class Ph{constructor(){_(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new Ph}static use(){const e=QR(Ph.create).current,[n,r]=H.useState(!1);return e.shouldMount=n,e.setShouldMount=r,H.useEffect(e.mountEffect,[n]),e}mount(){return this.mounted||(this.mounted=Unt(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.start(...e)})}stop(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.stop(...e)})}pulsate(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.pulsate(...e)})}}function znt(){return Ph.use()}function Unt(){let t,e;const n=new Promise((r,i)=>{t=r,e=i});return n.resolve=t,n.reject=e,n}function Wnt(t){const{className:e,classes:n,pulsate:r=!1,rippleX:i,rippleY:s,rippleSize:a,in:c,onExited:l,timeout:d}=t,[h,g]=H.useState(!1),m=gn(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),y={width:a,height:a,top:-(a/2)+s,left:-(a/2)+i},w=gn(n.child,h&&n.childLeaving,r&&n.childPulsate);return!c&&!h&&g(!0),H.useEffect(()=>{if(!c&&l!=null){const x=setTimeout(l,d);return()=>{clearTimeout(x)}}},[l,c,d]),G.jsx("span",{className:m,style:y,children:G.jsx("span",{className:w})})}const Ur=ds("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Xv=550,Knt=80,qnt=tf`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,Vnt=tf`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,Hnt=tf`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,Gnt=Hn("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Jnt=Hn(Wnt,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${Ur.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${qnt};
    animation-duration: ${Xv}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  &.${Ur.ripplePulsate} {
    animation-duration: ${({theme:t})=>t.transitions.duration.shorter}ms;
  }

  & .${Ur.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${Ur.childLeaving} {
    opacity: 0;
    animation-name: ${Vnt};
    animation-duration: ${Xv}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  & .${Ur.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${Hnt};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,Ynt=H.forwardRef(function(e,n){const r=fa({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:a,...c}=r,[l,d]=H.useState([]),h=H.useRef(0),g=H.useRef(null);H.useEffect(()=>{g.current&&(g.current(),g.current=null)},[l]);const m=H.useRef(!1),y=Det(),w=H.useRef(null),x=H.useRef(null),C=H.useCallback(P=>{const{pulsate:j,rippleX:B,rippleY:k,rippleSize:z,cb:K}=P;d(b=>[...b,G.jsx(Jnt,{classes:{ripple:gn(s.ripple,Ur.ripple),rippleVisible:gn(s.rippleVisible,Ur.rippleVisible),ripplePulsate:gn(s.ripplePulsate,Ur.ripplePulsate),child:gn(s.child,Ur.child),childLeaving:gn(s.childLeaving,Ur.childLeaving),childPulsate:gn(s.childPulsate,Ur.childPulsate)},timeout:Xv,pulsate:j,rippleX:B,rippleY:k,rippleSize:z},h.current)]),h.current+=1,g.current=K},[s]),T=H.useCallback((P={},j={},B=()=>{})=>{const{pulsate:k=!1,center:z=i||j.pulsate,fakeElement:K=!1}=j;if((P==null?void 0:P.type)==="mousedown"&&m.current){m.current=!1;return}(P==null?void 0:P.type)==="touchstart"&&(m.current=!0);const b=K?null:x.current,N=b?b.getBoundingClientRect():{width:0,height:0,left:0,top:0};let D,X,nt;if(z||P===void 0||P.clientX===0&&P.clientY===0||!P.clientX&&!P.touches)D=Math.round(N.width/2),X=Math.round(N.height/2);else{const{clientX:mt,clientY:pt}=P.touches&&P.touches.length>0?P.touches[0]:P;D=Math.round(mt-N.left),X=Math.round(pt-N.top)}if(z)nt=Math.sqrt((2*N.width**2+N.height**2)/3),nt%2===0&&(nt+=1);else{const mt=Math.max(Math.abs((b?b.clientWidth:0)-D),D)*2+2,pt=Math.max(Math.abs((b?b.clientHeight:0)-X),X)*2+2;nt=Math.sqrt(mt**2+pt**2)}P!=null&&P.touches?w.current===null&&(w.current=()=>{C({pulsate:k,rippleX:D,rippleY:X,rippleSize:nt,cb:B})},y.start(Knt,()=>{w.current&&(w.current(),w.current=null)})):C({pulsate:k,rippleX:D,rippleY:X,rippleSize:nt,cb:B})},[i,C,y]),R=H.useCallback(()=>{T({},{pulsate:!0})},[T]),M=H.useCallback((P,j)=>{if(y.clear(),(P==null?void 0:P.type)==="touchend"&&w.current){w.current(),w.current=null,y.start(0,()=>{M(P,j)});return}w.current=null,d(B=>B.length>0?B.slice(1):B),g.current=j},[y]);return H.useImperativeHandle(n,()=>({pulsate:R,start:T,stop:M}),[R,T,M]),G.jsx(Gnt,{className:gn(Ur.root,s.root,a),ref:x,...c,children:G.jsx(tS,{component:null,exit:!0,children:l})})});function Xnt(t){return la("MuiButtonBase",t)}const Qnt=ds("MuiButtonBase",["root","disabled","focusVisible"]),Znt=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:i}=t,a=Ju({root:["root",e&&"disabled",n&&"focusVisible"]},Xnt,i);return n&&r&&(a.root+=` ${r}`),a},trt=Hn("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Qnt.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),sM=H.forwardRef(function(e,n){const r=fa({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:a,className:c,component:l="button",disabled:d=!1,disableRipple:h=!1,disableTouchRipple:g=!1,focusRipple:m=!1,focusVisibleClassName:y,LinkComponent:w="a",onBlur:x,onClick:C,onContextMenu:T,onDragLeave:R,onFocus:M,onFocusVisible:P,onKeyDown:j,onKeyUp:B,onMouseDown:k,onMouseLeave:z,onMouseUp:K,onTouchEnd:b,onTouchMove:N,onTouchStart:D,tabIndex:X=0,TouchRippleProps:nt,touchRippleRef:mt,type:pt,...rt}=r,st=H.useRef(null),Nt=znt(),sn=RC(Nt.ref,mt),[oe,Po]=H.useState(!1);d&&oe&&Po(!1),H.useImperativeHandle(i,()=>({focusVisible:()=>{Po(!0),st.current.focus()}}),[]);const Yu=Nt.shouldMount&&!h&&!d;H.useEffect(()=>{oe&&m&&!h&&Nt.pulsate()},[h,m,oe,Nt]);const Xu=fo(Nt,"start",k,g),bi=fo(Nt,"stop",T,g),$o=fo(Nt,"stop",R,g),hs=fo(Nt,"stop",K,g),Xi=fo(Nt,"stop",Q=>{oe&&Q.preventDefault(),z&&z(Q)},g),Gn=fo(Nt,"start",D,g),Qu=fo(Nt,"stop",b,g),Ro=fo(Nt,"stop",N,g),Mo=fo(Nt,"stop",Q=>{NC(Q.target)||Po(!1),x&&x(Q)},!1),da=Bd(Q=>{st.current||(st.current=Q.currentTarget),NC(Q.target)&&(Po(!0),P&&P(Q)),M&&M(Q)}),an=()=>{const Q=st.current;return l&&l!=="button"&&!(Q.tagName==="A"&&Q.href)},Qi=Bd(Q=>{m&&!Q.repeat&&oe&&Q.key===" "&&Nt.stop(Q,()=>{Nt.start(Q)}),Q.target===Q.currentTarget&&an()&&Q.key===" "&&Q.preventDefault(),j&&j(Q),Q.target===Q.currentTarget&&an()&&Q.key==="Enter"&&!d&&(Q.preventDefault(),C&&C(Q))}),Zu=Bd(Q=>{m&&Q.key===" "&&oe&&!Q.defaultPrevented&&Nt.stop(Q,()=>{Nt.pulsate(Q)}),B&&B(Q),C&&Q.target===Q.currentTarget&&an()&&Q.key===" "&&!Q.defaultPrevented&&C(Q)});let bn=l;bn==="button"&&(rt.href||rt.to)&&(bn=w);const Si={};bn==="button"?(Si.type=pt===void 0?"button":pt,Si.disabled=d):(!rt.href&&!rt.to&&(Si.role="button"),d&&(Si["aria-disabled"]=d));const tc=RC(n,st),wi={...r,centerRipple:s,component:l,disabled:d,disableRipple:h,disableTouchRipple:g,focusRipple:m,tabIndex:X,focusVisible:oe},Ln=Znt(wi);return G.jsxs(trt,{as:bn,className:gn(Ln.root,c),ownerState:wi,onBlur:Mo,onClick:C,onContextMenu:bi,onFocus:da,onKeyDown:Qi,onKeyUp:Zu,onMouseDown:Xu,onMouseLeave:Xi,onMouseUp:hs,onDragLeave:$o,onTouchEnd:Qu,onTouchMove:Ro,onTouchStart:Gn,ref:tc,tabIndex:d?-1:X,type:pt,...Si,...rt,children:[a,Yu?G.jsx(Ynt,{ref:sn,center:s,...nt}):null]})});function fo(t,e,n,r=!1){return Bd(i=>(n&&n(i),r||t[e](i),!0))}function ert(t){return typeof t.main=="string"}function nrt(t,e=[]){if(!ert(t))return!1;for(const n of e)if(!t.hasOwnProperty(n)||typeof t[n]!="string")return!1;return!0}function yl(t=[]){return([,e])=>e&&nrt(e,t)}function rrt(t){return la("MuiCircularProgress",t)}ds("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Vo=44,Qv=tf`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,Zv=tf`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,irt=typeof Qv!="string"?jb`
        animation: ${Qv} 1.4s linear infinite;
      `:null,ort=typeof Zv!="string"?jb`
        animation: ${Zv} 1.4s ease-in-out infinite;
      `:null,srt=t=>{const{classes:e,variant:n,color:r,disableShrink:i}=t,s={root:["root",n,`color${qt(r)}`],svg:["svg"],circle:["circle",`circle${qt(n)}`,i&&"circleDisableShrink"]};return Ju(s,rrt,e)},art=Hn("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`color${qt(n.color)}`]]}})(Qs(({theme:t})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("transform")}},{props:{variant:"indeterminate"},style:irt||{animation:`${Qv} 1.4s linear infinite`}},...Object.entries(t.palette).filter(yl()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}}))]}))),urt=Hn("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(t,e)=>e.svg})({display:"block"}),crt=Hn("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.circle,e[`circle${qt(n.variant)}`],n.disableShrink&&e.circleDisableShrink]}})(Qs(({theme:t})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink,style:ort||{animation:`${Zv} 1.4s ease-in-out infinite`}}]}))),aM=H.forwardRef(function(e,n){const r=fa({props:e,name:"MuiCircularProgress"}),{className:i,color:s="primary",disableShrink:a=!1,size:c=40,style:l,thickness:d=3.6,value:h=0,variant:g="indeterminate",...m}=r,y={...r,color:s,disableShrink:a,size:c,thickness:d,value:h,variant:g},w=srt(y),x={},C={},T={};if(g==="determinate"){const R=2*Math.PI*((Vo-d)/2);x.strokeDasharray=R.toFixed(3),T["aria-valuenow"]=Math.round(h),x.strokeDashoffset=`${((100-h)/100*R).toFixed(3)}px`,C.transform="rotate(-90deg)"}return G.jsx(art,{className:gn(w.root,i),style:{width:c,height:c,...C,...l},ownerState:y,ref:n,role:"progressbar",...T,...m,children:G.jsx(urt,{className:w.svg,ownerState:y,viewBox:`${Vo/2} ${Vo/2} ${Vo} ${Vo}`,children:G.jsx(crt,{className:w.circle,style:x,ownerState:y,cx:Vo,cy:Vo,r:(Vo-d)/2,fill:"none",strokeWidth:d})})})});function lrt(t){return la("MuiIconButton",t)}const qC=ds("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),frt=t=>{const{classes:e,disabled:n,color:r,edge:i,size:s,loading:a}=t,c={root:["root",a&&"loading",n&&"disabled",r!=="default"&&`color${qt(r)}`,i&&`edge${qt(i)}`,`size${qt(s)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return Ju(c,lrt,e)},drt=Hn(sM,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.loading&&e.loading,n.color!=="default"&&e[`color${qt(n.color)}`],n.edge&&e[`edge${qt(n.edge)}`],e[`size${qt(n.size)}`]]}})(Qs(({theme:t})=>({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:Yo(t.palette.action.active,t.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),Qs(({theme:t})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(t.palette).filter(yl()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}})),...Object.entries(t.palette).filter(yl()).map(([e])=>({props:{color:e},style:{"--IconButton-hoverBg":t.vars?`rgba(${(t.vars||t).palette[e].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Yo((t.vars||t).palette[e].main,t.palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:t.typography.pxToRem(28)}}],[`&.${qC.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled},[`&.${qC.loading}`]:{color:"transparent"}}))),hrt=Hn("span",{name:"MuiIconButton",slot:"LoadingIndicator",overridesResolver:(t,e)=>e.loadingIndicator})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(t.vars||t).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),eS=H.forwardRef(function(e,n){const r=fa({props:e,name:"MuiIconButton"}),{edge:i=!1,children:s,className:a,color:c="default",disabled:l=!1,disableFocusRipple:d=!1,size:h="medium",id:g,loading:m=null,loadingIndicator:y,...w}=r,x=XR(g),C=y??G.jsx(aM,{"aria-labelledby":x,color:"inherit",size:16}),T={...r,edge:i,color:c,disabled:l,disableFocusRipple:d,loading:m,loadingIndicator:C,size:h},R=frt(T);return G.jsxs(drt,{id:m?x:g,className:gn(R.root,a),centerRipple:!0,focusRipple:!d,disabled:l||m,ref:n,...w,ownerState:T,children:[typeof m=="boolean"&&G.jsx("span",{className:R.loadingWrapper,style:{display:"contents"},children:G.jsx(hrt,{className:R.loadingIndicator,ownerState:T,children:m&&C})}),s]})});function prt(t){return la("MuiTypography",t)}ds("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const grt={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},mrt=knt(),yrt=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:i,variant:s,classes:a}=t,c={root:["root",s,t.align!=="inherit"&&`align${qt(e)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return Ju(c,prt,a)},vrt=Hn("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${qt(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(Qs(({theme:t})=>{var e;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(t.typography).filter(([n,r])=>n!=="inherit"&&r&&typeof r=="object").map(([n,r])=>({props:{variant:n},style:r})),...Object.entries(t.palette).filter(yl()).map(([n])=>({props:{color:n},style:{color:(t.vars||t).palette[n].main}})),...Object.entries(((e=t.palette)==null?void 0:e.text)||{}).filter(([,n])=>typeof n=="string").map(([n])=>({props:{color:`text${qt(n)}`},style:{color:(t.vars||t).palette.text[n]}})),{props:({ownerState:n})=>n.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:n})=>n.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:n})=>n.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:n})=>n.paragraph,style:{marginBottom:16}}]}})),VC={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Io=H.forwardRef(function(e,n){const{color:r,...i}=fa({props:e,name:"MuiTypography"}),s=!grt[r],a=mrt({...i,...s&&{color:r}}),{align:c="inherit",className:l,component:d,gutterBottom:h=!1,noWrap:g=!1,paragraph:m=!1,variant:y="body1",variantMapping:w=VC,...x}=a,C={...a,align:c,color:r,className:l,component:d,gutterBottom:h,noWrap:g,paragraph:m,variant:y,variantMapping:w},T=d||(m?"p":w[y]||VC[y])||"span",R=yrt(C);return G.jsx(vrt,{as:T,ref:n,className:gn(R.root,l),...x,ownerState:C,style:{...c!=="inherit"&&{"--Typography-textAlign":c},...x.style}})}),_rt=ds("MuiBox",["root"]),brt=iM(),Hr=vet({themeId:bR,defaultTheme:brt,defaultClassName:_rt.root,generateClassName:VR.generate});function Srt(t){return la("MuiButton",t)}const xs=ds("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),wrt=H.createContext({}),Ert=H.createContext(void 0),xrt=t=>{const{color:e,disableElevation:n,fullWidth:r,size:i,variant:s,loading:a,loadingPosition:c,classes:l}=t,d={root:["root",a&&"loading",s,`${s}${qt(e)}`,`size${qt(i)}`,`${s}Size${qt(i)}`,`color${qt(e)}`,n&&"disableElevation",r&&"fullWidth",a&&`loadingPosition${qt(c)}`],startIcon:["icon","startIcon",`iconSize${qt(i)}`],endIcon:["icon","endIcon",`iconSize${qt(i)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},h=Ju(d,Srt,l);return{...l,...h}},uM=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],Crt=Hn(sM,{shouldForwardProp:t=>oM(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${qt(n.color)}`],e[`size${qt(n.size)}`],e[`${n.variant}Size${qt(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth,n.loading&&e.loading]}})(Qs(({theme:t})=>{const e=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],n=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return{...t.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${xs.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(t.vars||t).shadows[2],"&:hover":{boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2]}},"&:active":{boxShadow:(t.vars||t).shadows[8]},[`&.${xs.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]},[`&.${xs.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${xs.disabled}`]:{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(t.palette).filter(yl()).map(([r])=>({props:{color:r},style:{"--variant-textColor":(t.vars||t).palette[r].main,"--variant-outlinedColor":(t.vars||t).palette[r].main,"--variant-outlinedBorder":t.vars?`rgba(${t.vars.palette[r].mainChannel} / 0.5)`:Yo(t.palette[r].main,.5),"--variant-containedColor":(t.vars||t).palette[r].contrastText,"--variant-containedBg":(t.vars||t).palette[r].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(t.vars||t).palette[r].dark,"--variant-textBg":t.vars?`rgba(${t.vars.palette[r].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Yo(t.palette[r].main,t.palette.action.hoverOpacity),"--variant-outlinedBorder":(t.vars||t).palette[r].main,"--variant-outlinedBg":t.vars?`rgba(${t.vars.palette[r].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Yo(t.palette[r].main,t.palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedBg:e,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedHoverBg:n,"--variant-textBg":t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:Yo(t.palette.text.primary,t.palette.action.hoverOpacity),"--variant-outlinedBg":t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:Yo(t.palette.text.primary,t.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:t.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${xs.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${xs.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),[`&.${xs.loading}`]:{color:"transparent"}}}]}})),Trt=Hn("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,n.loading&&e.startIconLoadingStart,e[`iconSize${qt(n.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...uM]})),Ort=Hn("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,n.loading&&e.endIconLoadingEnd,e[`iconSize${qt(n.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...uM]})),Art=Hn("span",{name:"MuiButton",slot:"LoadingIndicator",overridesResolver:(t,e)=>e.loadingIndicator})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(t.vars||t).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),HC=Hn("span",{name:"MuiButton",slot:"LoadingIconPlaceholder",overridesResolver:(t,e)=>e.loadingIconPlaceholder})({display:"inline-block",width:"1em",height:"1em"}),krt=H.forwardRef(function(e,n){const r=H.useContext(wrt),i=H.useContext(Ert),s=Ih(r,e),a=fa({props:s,name:"MuiButton"}),{children:c,color:l="primary",component:d="button",className:h,disabled:g=!1,disableElevation:m=!1,disableFocusRipple:y=!1,endIcon:w,focusVisibleClassName:x,fullWidth:C=!1,id:T,loading:R=null,loadingIndicator:M,loadingPosition:P="center",size:j="medium",startIcon:B,type:k,variant:z="text",...K}=a,b=XR(T),N=M??G.jsx(aM,{"aria-labelledby":b,color:"inherit",size:16}),D={...a,color:l,component:d,disabled:g,disableElevation:m,disableFocusRipple:y,fullWidth:C,loading:R,loadingIndicator:N,loadingPosition:P,size:j,type:k,variant:z},X=xrt(D),nt=(B||R&&P==="start")&&G.jsx(Trt,{className:X.startIcon,ownerState:D,children:B||G.jsx(HC,{className:X.loadingIconPlaceholder,ownerState:D})}),mt=(w||R&&P==="end")&&G.jsx(Ort,{className:X.endIcon,ownerState:D,children:w||G.jsx(HC,{className:X.loadingIconPlaceholder,ownerState:D})}),pt=i||"",rt=typeof R=="boolean"?G.jsx("span",{className:X.loadingWrapper,style:{display:"contents"},children:R&&G.jsx(Art,{className:X.loadingIndicator,ownerState:D,children:N})}):null;return G.jsxs(Crt,{ownerState:D,className:gn(r.className,X.root,h,pt),component:d,disabled:g||R,focusRipple:!y,focusVisibleClassName:gn(X.focusVisible,x),ref:n,type:k,id:R?b:T,...K,classes:X,children:[nt,P!=="end"&&rt,c,P==="end"&&rt,mt]})}),_i=({children:t})=>G.jsx(Hr,{sx:{height:100,width:"100%",display:"flex"},children:t}),Irt=ot({label:In(re),border:In(ot({sizePx:In(Be),color:In(re)})),visible:In(_p)}),Prt=()=>({}),$rt=t=>({widget:be.intersect(t.widget,Irt,Prt),Component:t.Component}),Zr={of:$rt};var Rrt=Qb(G.jsx("path",{d:"M8 5v14l11-7z"}),"PlayArrow");const Mrt=({onPlay:t})=>G.jsx(Hr,{sx:{borderRadius:"5px",backgroundColor:"success.main"},children:G.jsx(eS,{sx:{width:100,height:100},"aria-label":"play",onClick:t,children:G.jsx(Rrt,{sx:{fontSize:80}})})});var Nrt=Qb(G.jsx("path",{d:"M6 6h12v12H6z"}),"Stop");const Lrt=({onStop:t})=>G.jsx(Hr,{sx:{borderRadius:"5px",backgroundColor:"error.main"},children:G.jsx(eS,{sx:{width:100,height:100},"aria-label":"play",onClick:t,children:G.jsx(Nrt,{sx:{fontSize:80}})})}),Frt=Zr.of({widget:hR,Component:(t,e,n)=>G.jsx(_i,{children:n.color===t.playColor?G.jsx(Mrt,{onPlay:()=>e(t.target)}):G.jsx(Lrt,{onStop:()=>e(t.target)})})}),Brt=Zr.of({widget:pR,Component:(t,e,n)=>{var i,s,a;const r=((a=(s=(i=at.head(n))==null?void 0:i.options)==null?void 0:s.timeSignature)==null?void 0:a.noteCount)||8;return G.jsx(_i,{children:n.slice(0,r).map((c,l)=>G.jsx(Hr,{sx:{borderRadius:"5px",border:"1px solid black",width:100,backgroundColor:`#${c.color===tt.BLACK?"777777":tt.toHex(c.color)}`,display:"flex"},children:G.jsx(Io,{sx:{width:"100%"},variant:"h1",lineHeight:1,align:"center",children:l+1})},l))})}}),jrt=be.one({name:"active-clip",schema:ot({trackName:re}),init:()=>({trackName:"Track"}),tracks:t=>[t.trackName],component:({target:t,trackName:e})=>{const n=Vt.useTrack(e),r=Vt.useActiveClip(n);return G.jsx("pad",{target:t,color:r.type==="real"?r.color:tt.BLACK,options:{label:r.type==="real"?r.name:void 0}})}}),Drt=Zr.of({widget:jrt,Component:(t,e,n)=>{var r;return G.jsx(_i,{children:G.jsx(Io,{sx:{borderRadius:"5px",width:"100%",px:1,backgroundColor:`#${tt.toHex(n.color)}`},variant:"h1",lineHeight:1,align:"center",children:((r=n.options)==null?void 0:r.label)||""})})}}),t0=Pn("init",{widgets:bo(C_)}),$h=Pn("pad",{target:ui.Schema,color:tt.Schema,options:In(C_)});Ao(t0,$h);const GC=t=>{const e=r=>{const i=t[ui.toKey(r)];return i!==void 0&&i._tag==="pad"?i:$h.make({target:r,color:0,options:{}})};return{one:e,many:r=>r.map(e)}},zrt=t=>{const e=at.fromPairs(at.map(t,a=>[a.widget.name,a])),n=a=>e[a],r=(a,c,l)=>{const d=n(a._tag);return a.target!==void 0?d.Component(a,c,GC(l).one(a.target)):a.targets!==void 0?d.Component(a,c,GC(l).many(a.targets)):d.Component(a)},i=at.map(t,a=>a.widget),s=Ao(...i.map(a=>a.schema));return{widgets:t,controllerWidgets:i,getByName:n,Component:r,schema:s}},Urt=be.one({name:"tempo",schema:ot({}),init:()=>({}),component:({target:t})=>{const e=Vt.useTempo();return G.jsx("pad",{color:tt.BLACK,target:t,options:{label:e}})}}),Wrt=Zr.of({widget:Urt,Component:(t,e,n)=>{var r;return G.jsx(_i,{children:G.jsx(Io,{sx:{borderRadius:"5px",width:"100%",backgroundColor:`#${tt.toHex(n.color)}`},variant:"h1",lineHeight:1,align:"center",children:((r=n.options)==null?void 0:r.label)||"0"})})}}),Krt=be.one({name:"time-signature",schema:ot({}),init:()=>({}),component:({target:t})=>{const e=Vt.useTimeSignature();return G.jsx("pad",{color:tt.BLACK,target:t,options:{label:`${e.noteCount}/${e.noteLength}`}})}}),qrt=Zr.of({widget:Krt,Component:(t,e,n)=>{var r;return G.jsx(_i,{children:G.jsx(Io,{sx:{borderRadius:"5px",width:"100%",backgroundColor:`#${tt.toHex(n.color)}`},variant:"h1",lineHeight:1,align:"center",children:((r=n.options)==null?void 0:r.label)||"4/4"})})}}),Vrt=be.one({name:"beat",schema:ot({}),init:()=>({}),component:({target:t})=>{const e=Vt.useBarBeats();return G.jsx("pad",{color:tt.BLACK,target:t,options:{label:`${e}`}})}}),Hrt=Zr.of({widget:Vrt,Component:(t,e,n)=>{var r;return G.jsx(_i,{children:G.jsx(Io,{sx:{borderRadius:"5px",width:"100%",backgroundColor:`#${tt.toHex(n.color)}`},variant:"h1",lineHeight:1,align:"center",children:((r=n.options)==null?void 0:r.label)||"0"})})}}),Grt=Zr.of({widget:gR,Component:(t,e,n)=>G.jsx(_i,{children:n.map((r,i)=>{var s;return r.options!==void 0?G.jsx(Hr,{sx:{borderRadius:"5px",border:"1px solid black",backgroundColor:`#${tt.toHex(r.color)}`,display:"flex",width:100,cursor:"pointer",alignItems:"center",justifyContent:"center"},onClick:()=>e(r.target),children:G.jsx(Io,{sx:{width:"100%",px:1},lineHeight:1,align:"center",children:((s=r.options)==null?void 0:s.label)||""})},i):null})})}),Jrt=t=>{var e;return((e=t.options)==null?void 0:e.isActive)||!1},Yrt=Zr.of({widget:mR,Component:(t,e,n)=>G.jsx(_i,{children:n.map((r,i)=>{var s,a,c;return r.options!==void 0?G.jsxs(Hr,{sx:{position:"relative",borderRadius:"5px",border:"1px solid black",backgroundColor:`#${tt.toHex(r.color)}`,display:"flex",width:100,alignItems:"center",justifyContent:"center"},children:[Jrt(r)&&((s=r.options)==null?void 0:s.progress)!==void 0?G.jsx(Hr,{sx:{position:"absolute",top:0,left:(a=r.options)==null?void 0:a.progress,height:"100%",width:"5px",backgroundColor:"black"}}):null,G.jsx(Io,{sx:{width:"100%",px:1},lineHeight:1,align:"center",children:((c=r.options)==null?void 0:c.label)||""})]},i):null})})}),Xrt=Zr.of({widget:be.none({name:"spacer",schema:ot({width:Be,isLineBreaking:In(_p)}),init:()=>({width:100}),component:({})=>G.jsx(G.Fragment,{})}),Component:t=>G.jsx(Hr,{sx:{width:`${t.width}px`}})}),Qrt=Zr.of({widget:yR,Component:(t,e,n)=>{var r,i,s;return G.jsx(_i,{children:G.jsx(krt,{sx:{height:100,width:100,backgroundColor:`#${tt.toHex(t.color)}`,textDecoration:"none"},onClick:()=>e(n.target),variant:"text",children:G.jsx(Io,{sx:{fontWeight:"bold",color:`#${tt.toHex(((r=t.text)==null?void 0:r.color)||tt.BLACK)}`,fontSize:(i=t.text)==null?void 0:i.size},children:((s=t.text)==null?void 0:s.content)||""})})})}}),Zrt=Pn("midi-note-vary-velocity",{note:Be,...oa.fields}),tit=Pn("midi-note-vary-note",{velocity:Be,...oa.fields}),eit=Pn("midi-cc-vary-data",{controllerNumber:Be,...oa.fields}),nit=Ao(tit,Zrt,eit),rit=be.one({name:"knob",schema:ot({color:tt.Schema,midi:nit,text:In(ot({content:re,color:In(tt.Schema),size:In(re)}))}),init:()=>({color:tt.GREEN,midi:{_tag:"midi-note-vary-velocity",note:1,channel:1}}),component:({target:t,color:e,midi:n})=>(ko.useDawEmitter(),G.jsx(wo,{color:e,target:t,onClick:()=>{console.log("idk what to do here yet")}}))});var iit={};function oit(t){if(Array.isArray(t))return t}function sit(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,c=[],l=!0,d=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(c.push(r.value),c.length!==e);l=!0);}catch(h){d=!0,i=h}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(d)throw i}}return c}}function e0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cM(t,e){if(t){if(typeof t=="string")return e0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e0(t,e)}}function ait(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jd(t,e){return oit(t)||sit(t,e)||cM(t,e)||ait()}function mn(t){"@babel/helpers - typeof";return mn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mn(t)}function Rh(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(e){for(var r=[],i=0;i<e.length;i++){var s=e[i];if(s){var a=mn(s);if(a==="string"||a==="number")r.push(s);else if(a==="object"){var c=Array.isArray(s)?s:Object.entries(s).map(function(l){var d=jd(l,2),h=d[0],g=d[1];return g?h:null});r=c.length?r.concat(c.filter(function(l){return!!l})):r}}}return r.join(" ").trim()}}function uit(t){if(Array.isArray(t))return e0(t)}function cit(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function lit(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n0(t){return uit(t)||cit(t)||cM(t)||lit()}function lM(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fit(t,e){if(mn(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mn(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fM(t){var e=fit(t,"string");return mn(e)==="symbol"?e:String(e)}function dit(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fM(r.key),r)}}function dM(t,e,n){return n&&dit(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function nS(t,e,n){return e=fM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ay(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=hit(t))||e){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(d){throw d},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,a=!1,c;return{s:function(){n=n.call(t)},n:function(){var d=n.next();return s=d.done,d},e:function(d){a=!0,c=d},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(a)throw c}}}}function hit(t,e){if(t){if(typeof t=="string")return JC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JC(t,e)}}function JC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ds=function(){function t(){lM(this,t)}return dM(t,null,[{key:"innerWidth",value:function(n){if(n){var r=n.offsetWidth,i=getComputedStyle(n);return r=r+(parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)),r}return 0}},{key:"width",value:function(n){if(n){var r=n.offsetWidth,i=getComputedStyle(n);return r=r-(parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)),r}return 0}},{key:"getBrowserLanguage",value:function(){return navigator.userLanguage||navigator.languages&&navigator.languages.length&&navigator.languages[0]||navigator.language||navigator.browserLanguage||navigator.systemLanguage||"en"}},{key:"getWindowScrollTop",value:function(){var n=document.documentElement;return(window.pageYOffset||n.scrollTop)-(n.clientTop||0)}},{key:"getWindowScrollLeft",value:function(){var n=document.documentElement;return(window.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}},{key:"getOuterWidth",value:function(n,r){if(n){var i=n.getBoundingClientRect().width||n.offsetWidth;if(r){var s=getComputedStyle(n);i=i+(parseFloat(s.marginLeft)+parseFloat(s.marginRight))}return i}return 0}},{key:"getOuterHeight",value:function(n,r){if(n){var i=n.getBoundingClientRect().height||n.offsetHeight;if(r){var s=getComputedStyle(n);i=i+(parseFloat(s.marginTop)+parseFloat(s.marginBottom))}return i}return 0}},{key:"getClientHeight",value:function(n,r){if(n){var i=n.clientHeight;if(r){var s=getComputedStyle(n);i=i+(parseFloat(s.marginTop)+parseFloat(s.marginBottom))}return i}return 0}},{key:"getClientWidth",value:function(n,r){if(n){var i=n.clientWidth;if(r){var s=getComputedStyle(n);i=i+(parseFloat(s.marginLeft)+parseFloat(s.marginRight))}return i}return 0}},{key:"getViewport",value:function(){var n=window,r=document,i=r.documentElement,s=r.getElementsByTagName("body")[0],a=n.innerWidth||i.clientWidth||s.clientWidth,c=n.innerHeight||i.clientHeight||s.clientHeight;return{width:a,height:c}}},{key:"getOffset",value:function(n){if(n){var r=n.getBoundingClientRect();return{top:r.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:r.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}return{top:"auto",left:"auto"}}},{key:"index",value:function(n){if(n)for(var r=n.parentNode.childNodes,i=0,s=0;s<r.length;s++){if(r[s]===n)return i;r[s].nodeType===1&&i++}return-1}},{key:"addMultipleClasses",value:function(n,r){if(n&&r)if(n.classList)for(var i=r.split(" "),s=0;s<i.length;s++)n.classList.add(i[s]);else for(var a=r.split(" "),c=0;c<a.length;c++)n.className=n.className+(" "+a[c])}},{key:"removeMultipleClasses",value:function(n,r){if(n&&r)if(n.classList)for(var i=r.split(" "),s=0;s<i.length;s++)n.classList.remove(i[s]);else for(var a=r.split(" "),c=0;c<a.length;c++)n.className=n.className.replace(new RegExp("(^|\\b)"+a[c].split(" ").join("|")+"(\\b|$)","gi")," ")}},{key:"addClass",value:function(n,r){n&&r&&(n.classList?n.classList.add(r):n.className=n.className+(" "+r))}},{key:"removeClass",value:function(n,r){n&&r&&(n.classList?n.classList.remove(r):n.className=n.className.replace(new RegExp("(^|\\b)"+r.split(" ").join("|")+"(\\b|$)","gi")," "))}},{key:"hasClass",value:function(n,r){return n?n.classList?n.classList.contains(r):new RegExp("(^| )"+r+"( |$)","gi").test(n.className):!1}},{key:"addStyles",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};n&&Object.entries(r).forEach(function(i){var s=jd(i,2),a=s[0],c=s[1];return n.style[a]=c})}},{key:"find",value:function(n,r){return n?Array.from(n.querySelectorAll(r)):[]}},{key:"findSingle",value:function(n,r){return n?n.querySelector(r):null}},{key:"setAttributes",value:function(n){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(n){var s=function(c,l){var d,h,g=n!=null&&(d=n.$attrs)!==null&&d!==void 0&&d[c]?[n==null||(h=n.$attrs)===null||h===void 0?void 0:h[c]]:[];return[l].flat().reduce(function(m,y){if(y!=null){var w=mn(y);if(w==="string"||w==="number")m.push(y);else if(w==="object"){var x=Array.isArray(y)?s(c,y):Object.entries(y).map(function(C){var T=jd(C,2),R=T[0],M=T[1];return c==="style"&&(M||M===0)?"".concat(R.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),":").concat(M):M?R:void 0});m=x.length?m.concat(x.filter(function(C){return!!C})):m}}return m},g)};Object.entries(i).forEach(function(a){var c=jd(a,2),l=c[0],d=c[1];if(d!=null){var h=l.match(/^on(.+)/);h?n.addEventListener(h[1].toLowerCase(),d):l==="p-bind"?r.setAttributes(n,d):(d=l==="class"?n0(new Set(s("class",d))).join(" ").trim():l==="style"?s("style",d).join(";").trim():d,(n.$attrs=n.$attrs||{})&&(n.$attrs[l]=d),n.setAttribute(l,d))}})}}},{key:"getAttribute",value:function(n,r){if(n){var i=n.getAttribute(r);return isNaN(i)?i==="true"||i==="false"?i==="true":i:+i}}},{key:"isAttributeEquals",value:function(n,r,i){return n?this.getAttribute(n,r)===i:!1}},{key:"isAttributeNotEquals",value:function(n,r,i){return!this.isAttributeEquals(n,r,i)}},{key:"getHeight",value:function(n){if(n){var r=n.offsetHeight,i=getComputedStyle(n);return r=r-(parseFloat(i.paddingTop)+parseFloat(i.paddingBottom)+parseFloat(i.borderTopWidth)+parseFloat(i.borderBottomWidth)),r}return 0}},{key:"getWidth",value:function(n){if(n){var r=n.offsetWidth,i=getComputedStyle(n);return r=r-(parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)+parseFloat(i.borderLeftWidth)+parseFloat(i.borderRightWidth)),r}return 0}},{key:"alignOverlay",value:function(n,r,i){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;n&&r&&(i==="self"?this.relativePosition(n,r):(s&&(n.style.minWidth=t.getOuterWidth(r)+"px"),this.absolutePosition(n,r)))}},{key:"absolutePosition",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"left";if(n&&r){var s=n.offsetParent?{width:n.offsetWidth,height:n.offsetHeight}:this.getHiddenElementDimensions(n),a=s.height,c=s.width,l=r.offsetHeight,d=r.offsetWidth,h=r.getBoundingClientRect(),g=this.getWindowScrollTop(),m=this.getWindowScrollLeft(),y=this.getViewport(),w,x;h.top+l+a>y.height?(w=h.top+g-a,w<0&&(w=g),n.style.transformOrigin="bottom"):(w=l+h.top+g,n.style.transformOrigin="top");var C=h.left,T=i==="left"?0:c-d;C+d+c>y.width?x=Math.max(0,C+m+d-c):x=C-T+m,n.style.top=w+"px",n.style.left=x+"px"}}},{key:"relativePosition",value:function(n,r){if(n&&r){var i=n.offsetParent?{width:n.offsetWidth,height:n.offsetHeight}:this.getHiddenElementDimensions(n),s=r.offsetHeight,a=r.getBoundingClientRect(),c=this.getViewport(),l,d;a.top+s+i.height>c.height?(l=-1*i.height,a.top+l<0&&(l=-1*a.top),n.style.transformOrigin="bottom"):(l=s,n.style.transformOrigin="top"),i.width>c.width?d=a.left*-1:a.left+i.width>c.width?d=(a.left+i.width-c.width)*-1:d=0,n.style.top=l+"px",n.style.left=d+"px"}}},{key:"flipfitCollision",value:function(n,r){var i=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"left top",a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"left bottom",c=arguments.length>4?arguments[4]:void 0;if(n&&r){var l=r.getBoundingClientRect(),d=this.getViewport(),h=s.split(" "),g=a.split(" "),m=function(T,R){return R?+T.substring(T.search(/(\+|-)/g))||0:T.substring(0,T.search(/(\+|-)/g))||T},y={my:{x:m(h[0]),y:m(h[1]||h[0]),offsetX:m(h[0],!0),offsetY:m(h[1]||h[0],!0)},at:{x:m(g[0]),y:m(g[1]||g[0]),offsetX:m(g[0],!0),offsetY:m(g[1]||g[0],!0)}},w={left:function(){var T=y.my.offsetX+y.at.offsetX;return T+l.left+(y.my.x==="left"?0:-1*(y.my.x==="center"?i.getOuterWidth(n)/2:i.getOuterWidth(n)))},top:function(){var T=y.my.offsetY+y.at.offsetY;return T+l.top+(y.my.y==="top"?0:-1*(y.my.y==="center"?i.getOuterHeight(n)/2:i.getOuterHeight(n)))}},x={count:{x:0,y:0},left:function(){var T=w.left(),R=t.getWindowScrollLeft();n.style.left=T+R+"px",this.count.x===2?(n.style.left=R+"px",this.count.x=0):T<0&&(this.count.x++,y.my.x="left",y.at.x="right",y.my.offsetX*=-1,y.at.offsetX*=-1,this.right())},right:function(){var T=w.left()+t.getOuterWidth(r),R=t.getWindowScrollLeft();n.style.left=T+R+"px",this.count.x===2?(n.style.left=d.width-t.getOuterWidth(n)+R+"px",this.count.x=0):T+t.getOuterWidth(n)>d.width&&(this.count.x++,y.my.x="right",y.at.x="left",y.my.offsetX*=-1,y.at.offsetX*=-1,this.left())},top:function(){var T=w.top(),R=t.getWindowScrollTop();n.style.top=T+R+"px",this.count.y===2?(n.style.left=R+"px",this.count.y=0):T<0&&(this.count.y++,y.my.y="top",y.at.y="bottom",y.my.offsetY*=-1,y.at.offsetY*=-1,this.bottom())},bottom:function(){var T=w.top()+t.getOuterHeight(r),R=t.getWindowScrollTop();n.style.top=T+R+"px",this.count.y===2?(n.style.left=d.height-t.getOuterHeight(n)+R+"px",this.count.y=0):T+t.getOuterHeight(r)>d.height&&(this.count.y++,y.my.y="bottom",y.at.y="top",y.my.offsetY*=-1,y.at.offsetY*=-1,this.top())},center:function(T){if(T==="y"){var R=w.top()+t.getOuterHeight(r)/2;n.style.top=R+t.getWindowScrollTop()+"px",R<0?this.bottom():R+t.getOuterHeight(r)>d.height&&this.top()}else{var M=w.left()+t.getOuterWidth(r)/2;n.style.left=M+t.getWindowScrollLeft()+"px",M<0?this.left():M+t.getOuterWidth(n)>d.width&&this.right()}}};x[y.at.x]("x"),x[y.at.y]("y"),this.isFunction(c)&&c(y)}}},{key:"findCollisionPosition",value:function(n){if(n){var r=n==="top"||n==="bottom",i=n==="left"?"right":"left",s=n==="top"?"bottom":"top";return r?{axis:"y",my:"center ".concat(s),at:"center ".concat(n)}:{axis:"x",my:"".concat(i," center"),at:"".concat(n," center")}}}},{key:"getParents",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return n.parentNode===null?r:this.getParents(n.parentNode,r.concat([n.parentNode]))}},{key:"getScrollableParents",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=[];if(n){var s=this.getParents(n),a=/(auto|scroll)/,c=function(P){var j=P?getComputedStyle(P):null;return j&&(a.test(j.getPropertyValue("overflow"))||a.test(j.getPropertyValue("overflow-x"))||a.test(j.getPropertyValue("overflow-y")))},l=function(P){r&&i.push(P.nodeName==="BODY"||P.nodeName==="HTML"||P.nodeType===9?window:P)},d=Ay(s),h;try{for(d.s();!(h=d.n()).done;){var g,m=h.value,y=m.nodeType===1&&((g=m.dataset)===null||g===void 0?void 0:g.scrollselectors);if(y){var w=y.split(","),x=Ay(w),C;try{for(x.s();!(C=x.n()).done;){var T=C.value,R=this.findSingle(m,T);R&&c(R)&&l(R)}}catch(M){x.e(M)}finally{x.f()}}m.nodeType===1&&c(m)&&l(m)}}catch(M){d.e(M)}finally{d.f()}}return i.some(function(M){return M===document.body||M===window})||i.push(r?window:document.body),i}},{key:"getHiddenElementOuterHeight",value:function(n){if(n){n.style.visibility="hidden",n.style.display="block";var r=n.offsetHeight;return n.style.display="none",n.style.visibility="visible",r}return 0}},{key:"getHiddenElementOuterWidth",value:function(n){if(n){n.style.visibility="hidden",n.style.display="block";var r=n.offsetWidth;return n.style.display="none",n.style.visibility="visible",r}return 0}},{key:"getHiddenElementDimensions",value:function(n){var r={};return n&&(n.style.visibility="hidden",n.style.display="block",r.width=n.offsetWidth,r.height=n.offsetHeight,n.style.display="none",n.style.visibility="visible"),r}},{key:"fadeIn",value:function(n,r){if(n){n.style.opacity=0;var i=+new Date,s=0,a=function(){s=+n.style.opacity+(new Date().getTime()-i)/r,n.style.opacity=s,i=+new Date,+s<1&&(window.requestAnimationFrame&&requestAnimationFrame(a)||setTimeout(a,16))};a()}}},{key:"fadeOut",value:function(n,r){if(n)var i=1,s=50,a=s/r,c=setInterval(function(){i=i-a,i<=0&&(i=0,clearInterval(c)),n.style.opacity=i},s)}},{key:"getUserAgent",value:function(){return navigator.userAgent}},{key:"isIOS",value:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}},{key:"isAndroid",value:function(){return/(android)/i.test(navigator.userAgent)}},{key:"isChrome",value:function(){return/(chrome)/i.test(navigator.userAgent)}},{key:"isClient",value:function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}},{key:"isTouchDevice",value:function(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}},{key:"isFunction",value:function(n){return!!(n&&n.constructor&&n.call&&n.apply)}},{key:"appendChild",value:function(n,r){if(this.isElement(r))r.appendChild(n);else if(r.el&&r.el.nativeElement)r.el.nativeElement.appendChild(n);else throw new Error("Cannot append "+r+" to "+n)}},{key:"removeChild",value:function(n,r){if(this.isElement(r))r.removeChild(n);else if(r.el&&r.el.nativeElement)r.el.nativeElement.removeChild(n);else throw new Error("Cannot remove "+n+" from "+r)}},{key:"isElement",value:function(n){return(typeof HTMLElement>"u"?"undefined":mn(HTMLElement))==="object"?n instanceof HTMLElement:n&&mn(n)==="object"&&n!==null&&n.nodeType===1&&typeof n.nodeName=="string"}},{key:"scrollInView",value:function(n,r){var i=getComputedStyle(n).getPropertyValue("border-top-width"),s=i?parseFloat(i):0,a=getComputedStyle(n).getPropertyValue("padding-top"),c=a?parseFloat(a):0,l=n.getBoundingClientRect(),d=r.getBoundingClientRect(),h=d.top+document.body.scrollTop-(l.top+document.body.scrollTop)-s-c,g=n.scrollTop,m=n.clientHeight,y=this.getOuterHeight(r);h<0?n.scrollTop=g+h:h+y>m&&(n.scrollTop=g+h-m+y)}},{key:"clearSelection",value:function(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}},{key:"calculateScrollbarWidth",value:function(n){if(n){var r=getComputedStyle(n);return n.offsetWidth-n.clientWidth-parseFloat(r.borderLeftWidth)-parseFloat(r.borderRightWidth)}if(this.calculatedScrollbarWidth!=null)return this.calculatedScrollbarWidth;var i=document.createElement("div");i.className="p-scrollbar-measure",document.body.appendChild(i);var s=i.offsetWidth-i.clientWidth;return document.body.removeChild(i),this.calculatedScrollbarWidth=s,s}},{key:"calculateBodyScrollbarWidth",value:function(){return window.innerWidth-document.documentElement.offsetWidth}},{key:"getBrowser",value:function(){if(!this.browser){var n=this.resolveUserAgent();this.browser={},n.browser&&(this.browser[n.browser]=!0,this.browser.version=n.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}},{key:"resolveUserAgent",value:function(){var n=navigator.userAgent.toLowerCase(),r=/(chrome)[ ]([\w.]+)/.exec(n)||/(webkit)[ ]([\w.]+)/.exec(n)||/(opera)(?:.*version|)[ ]([\w.]+)/.exec(n)||/(msie) ([\w.]+)/.exec(n)||n.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(n)||[];return{browser:r[1]||"",version:r[2]||"0"}}},{key:"blockBodyScroll",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"p-overflow-hidden",r=!!document.body.style.getPropertyValue("--scrollbar-width");!r&&document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,n)}},{key:"unblockBodyScroll",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"p-overflow-hidden";document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,n)}},{key:"isVisible",value:function(n){return n&&(n.clientHeight!==0||n.getClientRects().length!==0||getComputedStyle(n).display!=="none")}},{key:"isExist",value:function(n){return!!(n!==null&&typeof n<"u"&&n.nodeName&&n.parentNode)}},{key:"getFocusableElements",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=t.find(n,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])'.concat(r,`,
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r,`,
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r,`,
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r,`,
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r,`,
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r,`,
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r)),s=[],a=Ay(i),c;try{for(a.s();!(c=a.n()).done;){var l=c.value;getComputedStyle(l).display!=="none"&&getComputedStyle(l).visibility!=="hidden"&&s.push(l)}}catch(d){a.e(d)}finally{a.f()}return s}},{key:"getFirstFocusableElement",value:function(n,r){var i=t.getFocusableElements(n,r);return i.length>0?i[0]:null}},{key:"getLastFocusableElement",value:function(n,r){var i=t.getFocusableElements(n,r);return i.length>0?i[i.length-1]:null}},{key:"focus",value:function(n,r){var i=r===void 0?!0:!r;n&&document.activeElement!==n&&n.focus({preventScroll:i})}},{key:"focusFirstElement",value:function(n,r){if(n){var i=t.getFirstFocusableElement(n);return i&&t.focus(i,r),i}}},{key:"getCursorOffset",value:function(n,r,i,s){if(n){var a=getComputedStyle(n),c=document.createElement("div");c.style.position="absolute",c.style.top="0px",c.style.left="0px",c.style.visibility="hidden",c.style.pointerEvents="none",c.style.overflow=a.overflow,c.style.width=a.width,c.style.height=a.height,c.style.padding=a.padding,c.style.border=a.border,c.style.overflowWrap=a.overflowWrap,c.style.whiteSpace=a.whiteSpace,c.style.lineHeight=a.lineHeight,c.innerHTML=r.replace(/\r\n|\r|\n/g,"<br />");var l=document.createElement("span");l.textContent=s,c.appendChild(l);var d=document.createTextNode(i);c.appendChild(d),document.body.appendChild(c);var h=l.offsetLeft,g=l.offsetTop,m=l.clientHeight;return document.body.removeChild(c),{left:Math.abs(h-n.scrollLeft),top:Math.abs(g-n.scrollTop)+m}}return{top:"auto",left:"auto"}}},{key:"invokeElementMethod",value:function(n,r,i){n[r].apply(n,i)}},{key:"isClickable",value:function(n){var r=n.nodeName,i=n.parentElement&&n.parentElement.nodeName;return r==="INPUT"||r==="TEXTAREA"||r==="BUTTON"||r==="A"||i==="INPUT"||i==="TEXTAREA"||i==="BUTTON"||i==="A"||this.hasClass(n,"p-button")||this.hasClass(n.parentElement,"p-button")||this.hasClass(n.parentElement,"p-checkbox")||this.hasClass(n.parentElement,"p-radiobutton")}},{key:"applyStyle",value:function(n,r){if(typeof r=="string")n.style.cssText=r;else for(var i in r)n.style[i]=r[i]}},{key:"exportCSV",value:function(n,r){var i=new Blob([n],{type:"application/csv;charset=utf-8;"});if(window.navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(i,r+".csv");else{var s=t.saveAs({name:r+".csv",src:URL.createObjectURL(i)});s||(n="data:text/csv;charset=utf-8,"+n,window.open(encodeURI(n)))}}},{key:"saveAs",value:function(n){if(n){var r=document.createElement("a");if(r.download!==void 0){var i=n.name,s=n.src;return r.setAttribute("href",s),r.setAttribute("download",i),r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r),!0}}return!1}},{key:"createInlineStyle",value:function(n,r){var i=document.createElement("style");return t.addNonce(i,n),r||(r=document.head),r.appendChild(i),i}},{key:"removeInlineStyle",value:function(n){if(this.isExist(n)){try{n.parentNode.removeChild(n)}catch{}n=null}return n}},{key:"addNonce",value:function(n,r){try{r||(r=iit.REACT_APP_CSS_NONCE)}catch{}r&&n.setAttribute("nonce",r)}},{key:"getTargetElement",value:function(n){if(!n)return null;if(n==="document")return document;if(n==="window")return window;if(mn(n)==="object"&&n.hasOwnProperty("current"))return this.isExist(n.current)?n.current:null;var r=function(a){return!!(a&&a.constructor&&a.call&&a.apply)},i=r(n)?n():n;return i&&i.nodeType===9||this.isExist(i)?i:null}},{key:"getAttributeNames",value:function(n){var r,i,s;for(i=[],s=n.attributes,r=0;r<s.length;++r)i.push(s[r].nodeName);return i.sort(),i}},{key:"isEqualElement",value:function(n,r){var i,s,a,c,l;if(i=t.getAttributeNames(n),s=t.getAttributeNames(r),i.join(",")!==s.join(","))return!1;for(var d=0;d<i.length;++d)if(a=i[d],a==="style")for(var h=n.style,g=r.style,m=/^\d+$/,y=0,w=Object.keys(h);y<w.length;y++){var x=w[y];if(!m.test(x)&&h[x]!==g[x])return!1}else if(n.getAttribute(a)!==r.getAttribute(a))return!1;for(c=n.firstChild,l=r.firstChild;c&&l;c=c.nextSibling,l=l.nextSibling){if(c.nodeType!==l.nodeType)return!1;if(c.nodeType===1){if(!t.isEqualElement(c,l))return!1}else if(c.nodeValue!==l.nodeValue)return!1}return!(c||l)}},{key:"hasCSSAnimation",value:function(n){if(n){var r=getComputedStyle(n),i=parseFloat(r.getPropertyValue("animation-duration")||"0");return i>0}return!1}},{key:"hasCSSTransition",value:function(n){if(n){var r=getComputedStyle(n),i=parseFloat(r.getPropertyValue("transition-duration")||"0");return i>0}return!1}}])}();nS(Ds,"DATA_PROPS",["data-"]);nS(Ds,"ARIA_PROPS",["aria","focus-target"]);function pit(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=git(t))||e){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(d){throw d},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,a=!1,c;return{s:function(){n=n.call(t)},n:function(){var d=n.next();return s=d.done,d},e:function(d){a=!0,c=d},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(a)throw c}}}}function git(t,e){if(t){if(typeof t=="string")return YC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return YC(t,e)}}function YC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var xe=function(){function t(){lM(this,t)}return dM(t,null,[{key:"equals",value:function(n,r,i){return i&&n&&mn(n)==="object"&&r&&mn(r)==="object"?this.deepEquals(this.resolveFieldData(n,i),this.resolveFieldData(r,i)):this.deepEquals(n,r)}},{key:"deepEquals",value:function(n,r){if(n===r)return!0;if(n&&r&&mn(n)==="object"&&mn(r)==="object"){var i=Array.isArray(n),s=Array.isArray(r),a,c,l;if(i&&s){if(c=n.length,c!==r.length)return!1;for(a=c;a--!==0;)if(!this.deepEquals(n[a],r[a]))return!1;return!0}if(i!==s)return!1;var d=n instanceof Date,h=r instanceof Date;if(d!==h)return!1;if(d&&h)return n.getTime()===r.getTime();var g=n instanceof RegExp,m=r instanceof RegExp;if(g!==m)return!1;if(g&&m)return n.toString()===r.toString();var y=Object.keys(n);if(c=y.length,c!==Object.keys(r).length)return!1;for(a=c;a--!==0;)if(!Object.prototype.hasOwnProperty.call(r,y[a]))return!1;for(a=c;a--!==0;)if(l=y[a],!this.deepEquals(n[l],r[l]))return!1;return!0}return n!==n&&r!==r}},{key:"resolveFieldData",value:function(n,r){if(!n||!r)return null;try{var i=n[r];if(this.isNotEmpty(i))return i}catch{}if(Object.keys(n).length){if(this.isFunction(r))return r(n);if(this.isNotEmpty(n[r]))return n[r];if(r.indexOf(".")===-1)return n[r];for(var s=r.split("."),a=n,c=0,l=s.length;c<l;++c){if(a==null)return null;a=a[s[c]]}return a}return null}},{key:"findDiffKeys",value:function(n,r){return!n||!r?{}:Object.keys(n).filter(function(i){return!r.hasOwnProperty(i)}).reduce(function(i,s){return i[s]=n[s],i},{})}},{key:"reduceKeys",value:function(n,r){var i={};return!n||!r||r.length===0||Object.keys(n).filter(function(s){return r.some(function(a){return s.startsWith(a)})}).forEach(function(s){i[s]=n[s],delete n[s]}),i}},{key:"reorderArray",value:function(n,r,i){n&&r!==i&&(i>=n.length&&(i=i%n.length,r=r%n.length),n.splice(i,0,n.splice(r,1)[0]))}},{key:"findIndexInList",value:function(n,r,i){var s=this;return r?i?r.findIndex(function(a){return s.equals(a,n,i)}):r.findIndex(function(a){return a===n}):-1}},{key:"getJSXElement",value:function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return this.isFunction(n)?n.apply(void 0,i):n}},{key:"getItemValue",value:function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return this.isFunction(n)?n.apply(void 0,i):n}},{key:"getProp",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=n?n[r]:void 0;return s===void 0?i[r]:s}},{key:"getPropCaseInsensitive",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=this.toFlatCase(r);for(var a in n)if(n.hasOwnProperty(a)&&this.toFlatCase(a)===s)return n[a];for(var c in i)if(i.hasOwnProperty(c)&&this.toFlatCase(c)===s)return i[c]}},{key:"getMergedProps",value:function(n,r){return Object.assign({},r,n)}},{key:"getDiffProps",value:function(n,r){return this.findDiffKeys(n,r)}},{key:"getPropValue",value:function(n){if(!this.isFunction(n))return n;for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];if(i.length===1){var a=i[0];return n(Array.isArray(a)?a[0]:a)}return n(i)}},{key:"getComponentProp",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.isNotEmpty(n)?this.getProp(n.props,r,i):void 0}},{key:"getComponentProps",value:function(n,r){return this.isNotEmpty(n)?this.getMergedProps(n.props,r):void 0}},{key:"getComponentDiffProps",value:function(n,r){return this.isNotEmpty(n)?this.getDiffProps(n.props,r):void 0}},{key:"isValidChild",value:function(n,r,i){if(n){var s,a=this.getComponentProp(n,"__TYPE")||(n.type?n.type.displayName:void 0);!a&&n!==null&&n!==void 0&&(s=n.type)!==null&&s!==void 0&&(s=s._payload)!==null&&s!==void 0&&s.value&&(a=n.type._payload.value.find(function(d){return d===r}));var c=a===r;try{var l}catch{}return c}return!1}},{key:"getRefElement",value:function(n){return n?mn(n)==="object"&&n.hasOwnProperty("current")?n.current:n:null}},{key:"combinedRefs",value:function(n,r){n&&r&&(typeof r=="function"?r(n.current):r.current=n.current)}},{key:"removeAccents",value:function(n){return n&&n.search(/[\xC0-\xFF]/g)>-1&&(n=n.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),n}},{key:"toFlatCase",value:function(n){return this.isNotEmpty(n)&&this.isString(n)?n.replace(/(-|_)/g,"").toLowerCase():n}},{key:"toCapitalCase",value:function(n){return this.isNotEmpty(n)&&this.isString(n)?n[0].toUpperCase()+n.slice(1):n}},{key:"trim",value:function(n){return this.isNotEmpty(n)&&this.isString(n)?n.trim():n}},{key:"isEmpty",value:function(n){return n==null||n===""||Array.isArray(n)&&n.length===0||!(n instanceof Date)&&mn(n)==="object"&&Object.keys(n).length===0}},{key:"isNotEmpty",value:function(n){return!this.isEmpty(n)}},{key:"isFunction",value:function(n){return!!(n&&n.constructor&&n.call&&n.apply)}},{key:"isObject",value:function(n){return n!==null&&n instanceof Object&&n.constructor===Object}},{key:"isDate",value:function(n){return n!==null&&n instanceof Date&&n.constructor===Date}},{key:"isArray",value:function(n){return n!==null&&Array.isArray(n)}},{key:"isString",value:function(n){return n!==null&&typeof n=="string"}},{key:"isPrintableCharacter",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return this.isNotEmpty(n)&&n.length===1&&n.match(/\S| /)}},{key:"isLetter",value:function(n){return/^[a-zA-Z\u00C0-\u017F]$/.test(n)}},{key:"isScalar",value:function(n){return n!=null&&(typeof n=="string"||typeof n=="number"||typeof n=="bigint"||typeof n=="boolean")}},{key:"findLast",value:function(n,r){var i;if(this.isNotEmpty(n))try{i=n.findLast(r)}catch{i=n0(n).reverse().find(r)}return i}},{key:"findLastIndex",value:function(n,r){var i=-1;if(this.isNotEmpty(n))try{i=n.findLastIndex(r)}catch{i=n.lastIndexOf(n0(n).reverse().find(r))}return i}},{key:"sort",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,s=arguments.length>3?arguments[3]:void 0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,c=this.compare(n,r,s,i),l=i;return(this.isEmpty(n)||this.isEmpty(r))&&(l=a===1?i:a),l*c}},{key:"compare",value:function(n,r,i){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,a=-1,c=this.isEmpty(n),l=this.isEmpty(r);return c&&l?a=0:c?a=s:l?a=-s:typeof n=="string"&&typeof r=="string"?a=i(n,r):a=n<r?-1:n>r?1:0,a}},{key:"localeComparator",value:function(n){return new Intl.Collator(n,{numeric:!0}).compare}},{key:"findChildrenByKey",value:function(n,r){var i=pit(n),s;try{for(i.s();!(s=i.n()).done;){var a=s.value;if(a.key===r)return a.children||[];if(a.children){var c=this.findChildrenByKey(a.children,r);if(c.length>0)return c}}}catch(l){i.e(l)}finally{i.f()}return[]}},{key:"mutateFieldData",value:function(n,r,i){if(!(mn(n)!=="object"||typeof r!="string"))for(var s=r.split("."),a=n,c=0,l=s.length;c<l;++c){if(c+1-l===0){a[s[c]]=i;break}a[s[c]]||(a[s[c]]={}),a=a[s[c]]}}}])}();function XC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XC(Object(n),!0).forEach(function(r){nS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mh(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t){var n=function(a){return typeof a=="function"},r=e.classNameMergeFunction,i=n(r);return t.reduce(function(s,a){if(!a)return s;var c=function(){var h=a[l];if(l==="style")s.style=QC(QC({},s.style),a.style);else if(l==="className"){var g="";i?g=r(s.className,a.className):g=[s.className,a.className].join(" ").trim(),s.className=g||void 0}else if(n(h)){var m=s[l];s[l]=m?function(){m.apply(void 0,arguments),h.apply(void 0,arguments)}:h}else s[l]=h};for(var l in a)c();return s},{})}}var Tn=Object.freeze({STARTS_WITH:"startsWith",CONTAINS:"contains",NOT_CONTAINS:"notContains",ENDS_WITH:"endsWith",EQUALS:"equals",NOT_EQUALS:"notEquals",IN:"in",LESS_THAN:"lt",LESS_THAN_OR_EQUAL_TO:"lte",GREATER_THAN:"gt",GREATER_THAN_OR_EQUAL_TO:"gte",BETWEEN:"between",DATE_IS:"dateIs",DATE_IS_NOT:"dateIsNot",DATE_BEFORE:"dateBefore",DATE_AFTER:"dateAfter",CUSTOM:"custom"});function vl(t){"@babel/helpers - typeof";return vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vl(t)}function mit(t,e){if(vl(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yit(t){var e=mit(t,"string");return vl(e)==="symbol"?e:String(e)}function kr(t,e,n){return e=yit(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vit(t,e,n){return Object.defineProperty(t,"prototype",{writable:!1}),t}function _it(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var ir=vit(function t(){_it(this,t)});kr(ir,"ripple",!1);kr(ir,"inputStyle","outlined");kr(ir,"locale","en");kr(ir,"appendTo",null);kr(ir,"cssTransition",!0);kr(ir,"autoZIndex",!0);kr(ir,"hideOverlaysOnDocumentScrolling",!1);kr(ir,"nonce",null);kr(ir,"nullSortOrder",1);kr(ir,"zIndex",{modal:1100,overlay:1e3,menu:1e3,tooltip:1100,toast:1200});kr(ir,"pt",void 0);kr(ir,"filterMatchModeOptions",{text:[Tn.STARTS_WITH,Tn.CONTAINS,Tn.NOT_CONTAINS,Tn.ENDS_WITH,Tn.EQUALS,Tn.NOT_EQUALS],numeric:[Tn.EQUALS,Tn.NOT_EQUALS,Tn.LESS_THAN,Tn.LESS_THAN_OR_EQUAL_TO,Tn.GREATER_THAN,Tn.GREATER_THAN_OR_EQUAL_TO],date:[Tn.DATE_IS,Tn.DATE_IS_NOT,Tn.DATE_BEFORE,Tn.DATE_AFTER]});kr(ir,"changeTheme",function(t,e,n,r){var i,s=document.getElementById(n);if(!s)throw Error("Element with id ".concat(n," not found."));var a=s.getAttribute("href").replace(t,e),c=document.createElement("link");c.setAttribute("rel","stylesheet"),c.setAttribute("id",n),c.setAttribute("href",a),c.addEventListener("load",function(){r&&r()}),(i=s.parentNode)===null||i===void 0||i.replaceChild(c,s)});var rS=ue.createContext(),fg=ir;function bit(t){if(Array.isArray(t))return t}function Sit(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,c=[],l=!0,d=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(c.push(r.value),c.length!==e);l=!0);}catch(h){d=!0,i=h}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(d)throw i}}return c}}function ZC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wit(t,e){if(t){if(typeof t=="string")return ZC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZC(t,e)}}function Eit(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xit(t,e){return bit(t)||Sit(t,e)||wit(t,e)||Eit()}var tT=function(e){var n=H.useRef(null);return H.useEffect(function(){return n.current=e,function(){n.current=null}},[e]),n.current},hM=function(e){return H.useEffect(function(){return e},[])},dd=function(e){var n=e.target,r=n===void 0?"document":n,i=e.type,s=e.listener,a=e.options,c=e.when,l=c===void 0?!0:c,d=H.useRef(null),h=H.useRef(null),g=tT(s),m=tT(a),y=function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},M=R.target;xe.isNotEmpty(M)&&(w(),(R.when||l)&&(d.current=Ds.getTargetElement(M))),!h.current&&d.current&&(h.current=function(P){return s&&s(P)},d.current.addEventListener(i,h.current,a))},w=function(){h.current&&(d.current.removeEventListener(i,h.current,a),h.current=null)},x=function(){w(),g=null,m=null},C=H.useCallback(function(){l?d.current=Ds.getTargetElement(r):(w(),d.current=null)},[r,l]);return H.useEffect(function(){C()},[C]),H.useEffect(function(){var T="".concat(g)!=="".concat(s),R=m!==a,M=h.current;M&&(T||R)?(w(),l&&y()):M||x()},[s,a,l]),hM(function(){x()}),[y,w]},Cit=function(){var e=H.useContext(rS);return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Mh(r,e==null?void 0:e.ptOptions)}},Tit=function(e){var n=H.useRef(!1);return H.useEffect(function(){if(!n.current)return n.current=!0,e&&e()},[])},Oit=0,hd=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=H.useState(!1),i=xit(r,2),s=i[0],a=i[1],c=H.useRef(null),l=H.useContext(rS),d=Ds.isClient()?window.document:void 0,h=n.document,g=h===void 0?d:h,m=n.manual,y=m===void 0?!1:m,w=n.name,x=w===void 0?"style_".concat(++Oit):w,C=n.id,T=C===void 0?void 0:C,R=n.media,M=R===void 0?void 0:R,P=function(K){var b=K.querySelector('style[data-primereact-style-id="'.concat(x,'"]'));if(b)return b;if(T!==void 0){var N=g.getElementById(T);if(N)return N}return g.createElement("style")},j=function(K){s&&e!==K&&(c.current.textContent=K)},B=function(){if(!(!g||s)){var K=(l==null?void 0:l.styleContainer)||g.head;c.current=P(K),c.current.isConnected||(c.current.type="text/css",T&&(c.current.id=T),M&&(c.current.media=M),Ds.addNonce(c.current,l&&l.nonce||fg.nonce),K.appendChild(c.current),x&&c.current.setAttribute("data-primereact-style-id",x)),c.current.textContent=e,a(!0)}},k=function(){!g||!c.current||(Ds.removeInlineStyle(c.current),a(!1))};return H.useEffect(function(){y||B()},[y]),{id:T,name:x,update:j,unload:k,load:B,isLoaded:s}},Ait=function(e,n){var r=H.useRef(!1);return H.useEffect(function(){if(!r.current){r.current=!0;return}return e&&e()},n)};function r0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kit(t){if(Array.isArray(t))return r0(t)}function Iit(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Pit(t,e){if(t){if(typeof t=="string")return r0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r0(t,e)}}function $it(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eT(t){return kit(t)||Iit(t)||Pit(t)||$it()}function _l(t){"@babel/helpers - typeof";return _l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_l(t)}function Rit(t,e){if(_l(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_l(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mit(t){var e=Rit(t,"string");return _l(e)==="symbol"?e:String(e)}function i0(t,e,n){return e=Mit(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nT(Object(n),!0).forEach(function(r){i0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Nit=`
.p-hidden-accessible {
    border: 0;
    clip: rect(0 0 0 0);
    height: 1px;
    margin: -1px;
    opacity: 0;
    overflow: hidden;
    padding: 0;
    pointer-events: none;
    position: absolute;
    white-space: nowrap;
    width: 1px;
}

.p-overflow-hidden {
    overflow: hidden;
    padding-right: var(--scrollbar-width);
}
`,Lit=`
.p-button {
    margin: 0;
    display: inline-flex;
    cursor: pointer;
    user-select: none;
    align-items: center;
    vertical-align: bottom;
    text-align: center;
    overflow: hidden;
    position: relative;
}

.p-button-label {
    flex: 1 1 auto;
}

.p-button-icon-right {
    order: 1;
}

.p-button:disabled {
    cursor: default;
}

.p-button-icon-only {
    justify-content: center;
}

.p-button-icon-only .p-button-label {
    visibility: hidden;
    width: 0;
    flex: 0 0 auto;
}

.p-button-vertical {
    flex-direction: column;
}

.p-button-icon-bottom {
    order: 2;
}

.p-button-group .p-button {
    margin: 0;
}

.p-button-group .p-button:not(:last-child) {
    border-right: 0 none;
}

.p-button-group .p-button:not(:first-of-type):not(:last-of-type) {
    border-radius: 0;
}

.p-button-group .p-button:first-of-type {
    border-top-right-radius: 0;
    border-bottom-right-radius: 0;
}

.p-button-group .p-button:last-of-type {
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
}

.p-button-group .p-button:focus {
    position: relative;
    z-index: 1;
}

.p-button-group-single .p-button:first-of-type {
    border-top-right-radius: var(--border-radius) !important;
    border-bottom-right-radius: var(--border-radius) !important;
}

.p-button-group-single .p-button:last-of-type {
    border-top-left-radius: var(--border-radius) !important;
    border-bottom-left-radius: var(--border-radius) !important;
}
`,Fit=`
.p-inputtext {
    margin: 0;
}

.p-fluid .p-inputtext {
    width: 100%;
}

/* InputGroup */
.p-inputgroup {
    display: flex;
    align-items: stretch;
    width: 100%;
}

.p-inputgroup-addon {
    display: flex;
    align-items: center;
    justify-content: center;
}

.p-inputgroup .p-float-label {
    display: flex;
    align-items: stretch;
    width: 100%;
}

.p-inputgroup .p-inputtext,
.p-fluid .p-inputgroup .p-inputtext,
.p-inputgroup .p-inputwrapper,
.p-fluid .p-inputgroup .p-input {
    flex: 1 1 auto;
    width: 1%;
}

/* Floating Label */
.p-float-label {
    display: block;
    position: relative;
}

.p-float-label label {
    position: absolute;
    pointer-events: none;
    top: 50%;
    margin-top: -0.5rem;
    transition-property: all;
    transition-timing-function: ease;
    line-height: 1;
}

.p-float-label textarea ~ label,
.p-float-label .p-mention ~ label {
    top: 1rem;
}

.p-float-label input:focus ~ label,
.p-float-label input:-webkit-autofill ~ label,
.p-float-label input.p-filled ~ label,
.p-float-label textarea:focus ~ label,
.p-float-label textarea.p-filled ~ label,
.p-float-label .p-inputwrapper-focus ~ label,
.p-float-label .p-inputwrapper-filled ~ label,
.p-float-label .p-tooltip-target-wrapper ~ label {
    top: -0.75rem;
    font-size: 12px;
}

.p-float-label .p-placeholder,
.p-float-label input::placeholder,
.p-float-label .p-inputtext::placeholder {
    opacity: 0;
    transition-property: all;
    transition-timing-function: ease;
}

.p-float-label .p-focus .p-placeholder,
.p-float-label input:focus::placeholder,
.p-float-label .p-inputtext:focus::placeholder {
    opacity: 1;
    transition-property: all;
    transition-timing-function: ease;
}

.p-input-icon-left,
.p-input-icon-right {
    position: relative;
    display: inline-block;
}

.p-input-icon-left > i,
.p-input-icon-right > i,
.p-input-icon-left > svg,
.p-input-icon-right > svg,
.p-input-icon-left > .p-input-prefix,
.p-input-icon-right > .p-input-suffix {
    position: absolute;
    top: 50%;
    margin-top: -0.5rem;
}

.p-fluid .p-input-icon-left,
.p-fluid .p-input-icon-right {
    display: block;
    width: 100%;
}
`,Bit=`
.p-icon {
    display: inline-block;
}

.p-icon-spin {
    -webkit-animation: p-icon-spin 2s infinite linear;
    animation: p-icon-spin 2s infinite linear;
}

svg.p-icon {
    pointer-events: auto;
}

svg.p-icon g,
.p-disabled svg.p-icon {
    pointer-events: none;
}

@-webkit-keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}

@keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}
`,jit=`
@layer primereact {
    .p-component, .p-component * {
        box-sizing: border-box;
    }

    .p-hidden {
        display: none;
    }

    .p-hidden-space {
        visibility: hidden;
    }

    .p-reset {
        margin: 0;
        padding: 0;
        border: 0;
        outline: 0;
        text-decoration: none;
        font-size: 100%;
        list-style: none;
    }

    .p-disabled, .p-disabled * {
        cursor: default;
        pointer-events: none;
        user-select: none;
    }

    .p-component-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }

    .p-unselectable-text {
        user-select: none;
    }

    .p-scrollbar-measure {
        width: 100px;
        height: 100px;
        overflow: scroll;
        position: absolute;
        top: -9999px;
    }

    @-webkit-keyframes p-fadein {
      0%   { opacity: 0; }
      100% { opacity: 1; }
    }
    @keyframes p-fadein {
      0%   { opacity: 0; }
      100% { opacity: 1; }
    }

    .p-link {
        text-align: left;
        background-color: transparent;
        margin: 0;
        padding: 0;
        border: none;
        cursor: pointer;
        user-select: none;
    }

    .p-link:disabled {
        cursor: default;
    }

    /* Non react overlay animations */
    .p-connected-overlay {
        opacity: 0;
        transform: scaleY(0.8);
        transition: transform .12s cubic-bezier(0, 0, 0.2, 1), opacity .12s cubic-bezier(0, 0, 0.2, 1);
    }

    .p-connected-overlay-visible {
        opacity: 1;
        transform: scaleY(1);
    }

    .p-connected-overlay-hidden {
        opacity: 0;
        transform: scaleY(1);
        transition: opacity .1s linear;
    }

    /* React based overlay animations */
    .p-connected-overlay-enter {
        opacity: 0;
        transform: scaleY(0.8);
    }

    .p-connected-overlay-enter-active {
        opacity: 1;
        transform: scaleY(1);
        transition: transform .12s cubic-bezier(0, 0, 0.2, 1), opacity .12s cubic-bezier(0, 0, 0.2, 1);
    }

    .p-connected-overlay-enter-done {
        transform: none;
    }

    .p-connected-overlay-exit {
        opacity: 1;
    }

    .p-connected-overlay-exit-active {
        opacity: 0;
        transition: opacity .1s linear;
    }

    /* Toggleable Content */
    .p-toggleable-content-enter {
        max-height: 0;
    }

    .p-toggleable-content-enter-active {
        overflow: hidden;
        max-height: 1000px;
        transition: max-height 1s ease-in-out;
    }

    .p-toggleable-content-enter-done {
        transform: none;
    }

    .p-toggleable-content-exit {
        max-height: 1000px;
    }

    .p-toggleable-content-exit-active {
        overflow: hidden;
        max-height: 0;
        transition: max-height 0.45s cubic-bezier(0, 1, 0, 1);
    }

    /* @todo Refactor */
    .p-menu .p-menuitem-link {
        cursor: pointer;
        display: flex;
        align-items: center;
        text-decoration: none;
        overflow: hidden;
        position: relative;
    }

    `.concat(Lit,`
    `).concat(Fit,`
    `).concat(Bit,`
}
`),$e={cProps:void 0,cParams:void 0,cName:void 0,defaultProps:{pt:void 0,ptOptions:void 0,unstyled:!1},context:{},globalCSS:void 0,classes:{},styles:"",extend:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.css,r=Qe(Qe({},e.defaultProps),$e.defaultProps),i={},s=function(h){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return $e.context=g,$e.cProps=h,xe.getMergedProps(h,r)},a=function(h){return xe.getDiffProps(h,r)},c=function(){var h,g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},w=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;g.hasOwnProperty("pt")&&g.pt!==void 0&&(g=g.pt);var x=m,C=/./g.test(x)&&!!y[x.split(".")[0]],T=C?xe.toFlatCase(x.split(".")[1]):xe.toFlatCase(x),R=y.hostName&&xe.toFlatCase(y.hostName),M=R||y.props&&y.props.__TYPE&&xe.toFlatCase(y.props.__TYPE)||"",P=T==="transition",j="data-pc-",B=function(st){return st!=null&&st.props?st.hostName?st.props.__TYPE===st.hostName?st.props:B(st.parent):st.parent:void 0},k=function(st){var Nt,sn;return((Nt=y.props)===null||Nt===void 0?void 0:Nt[st])||((sn=B(y))===null||sn===void 0?void 0:sn[st])};$e.cParams=y,$e.cName=M;var z=k("ptOptions")||$e.context.ptOptions||{},K=z.mergeSections,b=K===void 0?!0:K,N=z.mergeProps,D=N===void 0?!1:N,X=function(){var st=mo.apply(void 0,arguments);return Array.isArray(st)?{className:Rh.apply(void 0,eT(st))}:xe.isString(st)?{className:st}:st!=null&&st.hasOwnProperty("className")&&Array.isArray(st.className)?{className:Rh.apply(void 0,eT(st.className))}:st},nt=w?C?pM(X,x,y):gM(X,x,y):void 0,mt=C?void 0:hg(dg(g,M),X,x,y),pt=!P&&Qe(Qe({},T==="root"&&i0({},"".concat(j,"name"),y.props&&y.props.__parentMetadata?xe.toFlatCase(y.props.__TYPE):M)),{},i0({},"".concat(j,"section"),T));return b||!b&&mt?D?Mh([nt,mt,Object.keys(pt).length?pt:{}],{classNameMergeFunction:(h=$e.context.ptOptions)===null||h===void 0?void 0:h.classNameMergeFunction}):Qe(Qe(Qe({},nt),mt),Object.keys(pt).length?pt:{}):Qe(Qe({},mt),Object.keys(pt).length?pt:{})},l=function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},g=h.props,m=h.state,y=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return c((g||{}).pt,M,Qe(Qe({},h),P))},w=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return c(M,P,j,!1)},x=function(){return $e.context.unstyled||fg.unstyled||g.unstyled},C=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return x()?void 0:mo(n&&n.classes,M,Qe({props:g,state:m},P))},T=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(j){var B,k=mo(n&&n.inlineStyles,M,Qe({props:g,state:m},P)),z=mo(i,M,Qe({props:g,state:m},P));return Mh([z,k],{classNameMergeFunction:(B=$e.context.ptOptions)===null||B===void 0?void 0:B.classNameMergeFunction})}};return{ptm:y,ptmo:w,sx:T,cx:C,isUnstyled:x}};return Qe(Qe({getProps:s,getOtherProps:a,setMetaData:l},e),{},{defaultProps:r})}},mo=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=String(xe.toFlatCase(n)).split("."),s=i.shift(),a=xe.isNotEmpty(e)?Object.keys(e).find(function(c){return xe.toFlatCase(c)===s}):"";return s?xe.isObject(e)?mo(xe.getItemValue(e[a],r),i.join("."),r):void 0:xe.getItemValue(e,r)},dg=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,i=e==null?void 0:e._usept,s=function(c){var l,d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,h=r?r(c):c,g=xe.toFlatCase(n);return(l=d?g!==$e.cName?h==null?void 0:h[g]:void 0:h==null?void 0:h[g])!==null&&l!==void 0?l:h};return xe.isNotEmpty(i)?{_usept:i,originalValue:s(e.originalValue),value:s(e.value)}:s(e,!0)},hg=function(e,n,r,i){var s=function(x){return n(x,r,i)};if(e!=null&&e.hasOwnProperty("_usept")){var a=e._usept||$e.context.ptOptions||{},c=a.mergeSections,l=c===void 0?!0:c,d=a.mergeProps,h=d===void 0?!1:d,g=a.classNameMergeFunction,m=s(e.originalValue),y=s(e.value);return m===void 0&&y===void 0?void 0:xe.isString(y)?y:xe.isString(m)?m:l||!l&&y?h?Mh([m,y],{classNameMergeFunction:g}):Qe(Qe({},m),y):y}return s(e)},Dit=function(){return dg($e.context.pt||fg.pt,void 0,function(e){return xe.getItemValue(e,$e.cParams)})},zit=function(){return dg($e.context.pt||fg.pt,void 0,function(e){return mo(e,$e.cName,$e.cParams)||xe.getItemValue(e,$e.cParams)})},pM=function(e,n,r){return hg(Dit(),e,n,r)},gM=function(e,n,r){return hg(zit(),e,n,r)},Uit=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},r=arguments.length>2?arguments[2]:void 0,i=r.name,s=r.styled,a=s===void 0?!1:s,c=r.hostName,l=c===void 0?"":c,d=pM(mo,"global.css",$e.cParams),h=xe.toFlatCase(i),g=hd(Nit,{name:"base",manual:!0}),m=g.load,y=hd(jit,{name:"common",manual:!0}),w=y.load,x=hd(d,{name:"global",manual:!0}),C=x.load,T=hd(e,{name:i,manual:!0}),R=T.load,M=function(j){if(!l){var B=hg(dg(($e.cProps||{}).pt,h),mo,"hooks.".concat(j)),k=gM(mo,"hooks.".concat(j));B==null||B(),k==null||k()}};M("useMountEffect"),Tit(function(){m(),C(),n()||(w(),a||R())}),Ait(function(){M("useUpdateEffect")}),hM(function(){M("useUnmountEffect")})};function Wit(t){if(Array.isArray(t))return t}function Kit(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,c=[],l=!0,d=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(c.push(r.value),c.length!==e);l=!0);}catch(h){d=!0,i=h}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(d)throw i}}return c}}function rT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qit(t,e){if(t){if(typeof t=="string")return rT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rT(t,e)}}function Vit(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pd(t,e){return Wit(t)||Kit(t,e)||qit(t,e)||Vit()}var ky=$e.extend({defaultProps:{__TYPE:"Knob",id:null,style:null,className:null,value:null,size:100,disabled:!1,readOnly:!1,showValue:!0,tabIndex:0,step:1,min:0,max:100,strokeWidth:14,name:null,valueColor:"var(--primary-color, Black)",rangeColor:"var(--surface-border, LightGray)",textColor:"var(--text-color-secondary, Black)",valueTemplate:"{value}",onChange:null,children:void 0},css:{classes:{range:"p-knob-range",value:"p-knob-value",label:"p-knob-text",root:function(e){var n=e.props;return Rh("p-knob p-component",{"p-disabled":n.disabled})}},styles:`
        @keyframes dash-frame {
            100% {
                stroke-dashoffset: 0;
            }
        }
        @layer primereact {
            .p-knob-range {
                fill: none;
                transition: stroke .1s ease-in;
            }
            .p-knob-value {
                animation-name: dash-frame;
                animation-fill-mode: forwards;
                fill: none;
            }
            .p-knob-text {
                font-size: 1.3rem;
                text-align: center;
            }
        }
        `}}),jr=40,gd=50,md=50,Fa=4*Math.PI/3,Cs=-Math.PI/3,mM=H.memo(H.forwardRef(function(t,e){var n=Cit(),r=H.useContext(rS),i=ky.getProps(t,r),s=ky.setMetaData({props:i}),a=s.ptm,c=s.cx,l=s.isUnstyled;Uit(ky.css.styles,l,{name:"knob"});var d=H.useRef(null),h=!i.disabled&&!i.readOnly,g=dd({target:"window",type:"mousemove",listener:function(ht){hs(ht.offsetX,ht.offsetY),ht.preventDefault()},when:h}),m=pd(g,2),y=m[0],w=m[1],x=dd({target:"window",type:"mouseup",listener:function(ht){w(),R(),ht.preventDefault()},when:h}),C=pd(x,2),T=C[0],R=C[1],M=dd({target:"window",type:"touchmove",listener:function(ht){if(ht.touches.length===1){var Sn=d.current.getBoundingClientRect(),wn=ht.targetTouches.item(0),No=wn.clientX-Sn.left,ti=wn.clientY-Sn.top;hs(No,ti),ht.preventDefault()}},when:h}),P=pd(M,2),j=P[0],B=P[1],k=dd({target:"window",type:"touchend",listener:function(){B(),b()},when:h}),z=pd(k,2),K=z[0],b=z[1],N=function(ht,Sn,wn,No,ti){return(ht-Sn)*(ti-No)/(wn-Sn)+No},D=function(){return N(i.min>0&&i.max>0?i.min:0,i.min,i.max,Fa,Cs)},X=function(){return N(i.value,i.min,i.max,Fa,Cs)},nt=function(){return gd+Math.cos(Fa)*jr},mt=function(){return md-Math.sin(Fa)*jr},pt=function(){return gd+Math.cos(Cs)*jr},rt=function(){return md-Math.sin(Cs)*jr},st=function(){return gd+Math.cos(D())*jr},Nt=function(){return md-Math.sin(D())*jr},sn=function(){return gd+Math.cos(X())*jr},oe=function(){return md-Math.sin(X())*jr},Po=function(){return Math.abs(D()-X())<Math.PI?0:1},Yu=function(){return X()>D()?0:1},Xu="M ".concat(nt()," ").concat(mt()," A ").concat(jr," ").concat(jr," 0 1 1 ").concat(pt()," ").concat(rt()),bi="M ".concat(st()," ").concat(Nt()," A ").concat(jr," ").concat(jr," 0 ").concat(Po()," ").concat(Yu()," ").concat(sn()," ").concat(oe()),$o=function(){return i.valueTemplate.replace("{value}",i.value.toString())},hs=function(ht,Sn){var wn=ht-i.size/2,No=i.size/2-Sn,ti=Math.atan2(No,wn),Lo=-Math.PI/2-Math.PI/6;Xi(ti,Lo)},Xi=function(ht,Sn){var wn;if(ht>Cs)wn=N(ht,Fa,Cs,i.min,i.max);else if(ht<Sn)wn=N(ht+2*Math.PI,Fa,Cs,i.min,i.max);else return;i.onChange&&i.onChange({value:Math.round((wn-i.min)/i.step)*i.step+i.min})},Gn=function(ht){var Sn;ht>i.max?Sn=i.max:ht<i.min?Sn=i.min:Sn=ht,i.onChange&&i.onChange({value:Sn})},Qu=function(ht){!i.disabled&&!i.readOnly&&hs(ht.nativeEvent.offsetX,ht.nativeEvent.offsetY)},Ro=function(ht){y(),T(),ht.preventDefault()},Mo=function(){w(),R()},da=function(){j(),K()},an=function(){B(),b()},Qi=function(ht){if(!i.disabled&&!i.readonly)switch(ht.code){case"ArrowRight":case"ArrowUp":ht.preventDefault(),Gn(i.value+1);break;case"ArrowLeft":case"ArrowDown":{ht.preventDefault(),Gn(i.value-1);break}case"Home":{ht.preventDefault(),Gn(i.min);break}case"End":{ht.preventDefault(),Gn(i.max);break}case"PageUp":{ht.preventDefault(),Gn(i.value+10);break}case"PageDown":{ht.preventDefault(),Gn(i.value-10);break}}};H.useImperativeHandle(e,function(){return{props:i,getElement:function(){return d.current}}});var Zu=n({x:50,y:57,textAnchor:"middle",fill:i.textColor,className:c("label"),name:i.name},a("label")),bn=i.showValue&&H.createElement("text",Zu,$o()),Si=n({ref:d,id:i.id,className:Rh(i.className,c("root")),style:i.style},a("root")),tc=n({viewBox:"0 0 100 100",width:i.size,height:i.size,"aria-valuemin":i.min,"aria-valuemax":i.max,"aria-valuenow":i.value,"aria-labelledby":i.ariaLabelledby,"aria-label":i.ariaLabel,role:"slider",tabIndex:i.readonly||i.disabled?-1:i.tabIndex,onClick:function(ht){return Qu(ht)},onMouseDown:function(ht){return Ro(ht)},onMouseUp:function(ht){return Mo()},onTouchStart:function(ht){return da()},onTouchEnd:function(ht){return an()},onKeyDown:function(ht){return Qi(ht)}},a("svg")),wi=n({d:Xu,strokeWidth:i.strokeWidth,stroke:i.rangeColor,className:c("range")},a("range")),Ln=n({d:bi,strokeWidth:i.strokeWidth,stroke:i.valueColor,className:c("value")},a("value"));return H.createElement("div",Si,H.createElement("svg",tc,H.createElement("path",wi),H.createElement("path",Ln),bn))}));mM.displayName="Knob";const Hit=Zr.of({widget:rit,Component:(t,e,n)=>{var a;const[r,i]=ue.useState(0),s=c=>{i(c)};return G.jsx(_i,{children:G.jsxs(Hr,{sx:{height:100,width:100,backgroundColor:`#${tt.toHex(t.color)}`,display:"flex",justifyContent:"center",flexDirection:"column"},children:[G.jsx(Hr,{sx:{display:"flex",justifyContent:"center"},children:G.jsx(Io,{sx:{fontWeight:"bold"},children:((a=t.text)==null?void 0:a.content)||""})}),G.jsx(Hr,{sx:{p:0,mt:1},children:G.jsx(mM,{value:r,onChange:c=>s(c.value),min:0,max:127})})]})})}});var Git=Qb(G.jsx("path",{d:"M12 2c-4.42 0-8 .5-8 4v9.5C4 17.43 5.57 19 7.5 19L6 20.5v.5h12v-.5L16.5 19c1.93 0 3.5-1.57 3.5-3.5V6c0-3.5-3.58-4-8-4M7.5 17c-.83 0-1.5-.67-1.5-1.5S6.67 14 7.5 14s1.5.67 1.5 1.5S8.33 17 7.5 17m3.5-6H6V6h5zm5.5 6c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m1.5-6h-5V6h5z"}),"DirectionsTransit");const Jit=Zr.of({widget:dR,Component:(t,e,n)=>{const i=(n.options.metronomeState!==void 0?n.options.metronomeState:!1)?t.color:tt.BLACK;return G.jsx(_i,{children:G.jsx(Hr,{sx:{borderRadius:"5px",backgroundColor:`#${tt.toHex(i)}`},children:G.jsx(eS,{sx:{width:100,height:100},"aria-label":"metro-control",onClick:()=>e(n.target),children:G.jsx(Git,{sx:{fontSize:80}})})})})}}),Yit=zrt([Frt,Brt,Drt,Wrt,qrt,Hrt,Grt,Yrt,Xrt,Qrt,Hit,Jit]),Xit=Z_(Yit.controllerWidgets),Qit={controller:Xit},Iy={sysexControlCode:50,manufacturer:3},Zit=Qit.controller;Pn("resend",{});const tot=Q_.of({init:t=>e=>{const n=t0.make({widgets:e.map(r=>r.widget)});t.send(sl.jsonSchemaSysex(n,t0,[Iy.sysexControlCode],Iy.manufacturer))},render:t=>e=>{e.forEach(n=>{t.send(sl.jsonSchemaSysex($h.make({target:n.target,color:n.color,options:n.options}),$h,[Iy.sysexControlCode]))})},targets:[]}),eot=e$.of({name:"MIDI Structor UI",controller:tot,widgets:Zit}),not={device:eot},yM=[_R.device,not.device],rot=at.keyBy(yM,"name"),iot=_R.device,oot=t=>cs(at.get(rot,t,void 0)),sot=()=>at.map(yM,"name"),aot={defaultDevice:iot,findByName:oot,getNames:sot},uot=t=>{const e=n=>{if(n.type==="init-ack")gt.importStatus.set({type:"ack",projectName:n.projectName}),gt.project.abletonName.set(n.projectName);else if(n.type==="init-project")gt.importStatus.set({type:"importing"}),gt.initArrangement.set(RG());else if(n.type==="init-track")gt.initArrangement.set(MG(n));else if(n.type==="init-clip")gt.initArrangement.set(NG(n));else if(n.type==="init-cue")gt.initArrangement.set(LG(n));else if(n.type==="init-done"){gt.importStatus.set({type:"finalizing"});const r=FG(gt.initArrangement.get());gt.project.arrangement.set(r),gt.importStatus.set({type:"done"})}else n.type==="beat"?gt.realTime.beats.set(n.value):n.type==="sig"?gt.realTime.timeSignature.set({noteCount:n.numer,noteLength:n.denom}):n.type==="bar-beat"?gt.realTime.barBeats.set(n.value):n.type==="tempo"?gt.realTime.tempo.set(n.value):n.type==="is-playing"?gt.realTime.isPlaying.set(n.value):n.type==="metronome-state"?gt.realTime.metronomeState.set(n.value):n.type==="loop-state"?gt.realTime.loopState.set(n.value):n.type==="half-beat"&&gt.realTime.halfBeat.set(n.isHalf)};t.on("sysex",n=>{const r=g3(n);r!==void 0&&e(r)})},cot=(t,e)=>(t.emit(hn.init()),gt.importStatus.sub(n=>{n.type==="ack"&&t.emit(hn.initReady(e))})),lot=t=>{const e=t.controllers.flatMap(n=>He(aot.findByName(n.device),{onSome:r=>r.widgets.resolve(n.config),onNone:()=>[]}));return Xl(e.flatMap(n=>n.tracks())).toArray()},fot=(t,e)=>{js.info("Project Main"),gt.project.config.sub(n=>He(dG.getActive(n),{onSome:r=>{if(js.info("Active project",r),r.key!=="reload-project"){const i=lot(r);return cot(e,i)}},onNone:()=>(js.error("No active project found",n),()=>{})})),ko.getChannel().onmessage=n=>{e.emit(n.data)},uot(t)},dot={init:fot};js.info("Loading Project Worker Main");const vM=s0(),_M=s0();onmessage=t=>{at.isArray(t.data)&&t.data.length==2&&t.data[0]==="DAW_LISTENER"&&vM.emit(t.data[1])};_M.on("*",t=>postMessage(["DAW_EMITTER",t]));dot.init(vM,_M);
