var J3=Object.defineProperty;var nE=e=>{throw TypeError(e)};var Y3=(e,t,n)=>t in e?J3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var _=(e,t,n)=>Y3(e,typeof t!="symbol"?t+"":t,n),rE=(e,t,n)=>t.has(e)||nE("Cannot "+n);var oE=(e,t,n)=>(rE(e,t,"read from private field"),n?n.call(e):t.get(e)),iE=(e,t,n)=>t.has(e)?nE("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),sE=(e,t,n,r)=>(rE(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n);function X3(e,t){return t.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(r){if(r!=="default"&&!(r in e)){var o=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(e,r,o.get?o:{enumerable:!0,get:function(){return n[r]}})}})}),Object.freeze(e)}var _c=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ik(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var a_={exports:{}},Ja=typeof Reflect=="object"?Reflect:null,aE=Ja&&typeof Ja.apply=="function"?Ja.apply:function(t,n,r){return Function.prototype.apply.call(t,n,r)},Ed;Ja&&typeof Ja.ownKeys=="function"?Ed=Ja.ownKeys:Object.getOwnPropertySymbols?Ed=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Ed=function(t){return Object.getOwnPropertyNames(t)};function Q3(e){console&&console.warn&&console.warn(e)}var Ak=Number.isNaN||function(t){return t!==t};function Qe(){Qe.init.call(this)}a_.exports=Qe;a_.exports.once=nD;Qe.EventEmitter=Qe;Qe.prototype._events=void 0;Qe.prototype._eventsCount=0;Qe.prototype._maxListeners=void 0;var uE=10;function Gh(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(Qe,"defaultMaxListeners",{enumerable:!0,get:function(){return uE},set:function(e){if(typeof e!="number"||e<0||Ak(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");uE=e}});Qe.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Qe.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||Ak(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function $k(e){return e._maxListeners===void 0?Qe.defaultMaxListeners:e._maxListeners}Qe.prototype.getMaxListeners=function(){return $k(this)};Qe.prototype.emit=function(t){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var o=t==="error",s=this._events;if(s!==void 0)o=o&&s.error===void 0;else if(!o)return!1;if(o){var a;if(n.length>0&&(a=n[0]),a instanceof Error)throw a;var c=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw c.context=a,c}var f=s[t];if(f===void 0)return!1;if(typeof f=="function")aE(f,this,n);else for(var d=f.length,p=Lk(f,d),r=0;r<d;++r)aE(p[r],this,n);return!0};function Rk(e,t,n,r){var o,s,a;if(Gh(n),s=e._events,s===void 0?(s=e._events=Object.create(null),e._eventsCount=0):(s.newListener!==void 0&&(e.emit("newListener",t,n.listener?n.listener:n),s=e._events),a=s[t]),a===void 0)a=s[t]=n,++e._eventsCount;else if(typeof a=="function"?a=s[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),o=$k(e),o>0&&a.length>o&&!a.warned){a.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=a.length,Q3(c)}return e}Qe.prototype.addListener=function(t,n){return Rk(this,t,n,!1)};Qe.prototype.on=Qe.prototype.addListener;Qe.prototype.prependListener=function(t,n){return Rk(this,t,n,!0)};function Z3(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Pk(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=Z3.bind(r);return o.listener=n,r.wrapFn=o,o}Qe.prototype.once=function(t,n){return Gh(n),this.on(t,Pk(this,t,n)),this};Qe.prototype.prependOnceListener=function(t,n){return Gh(n),this.prependListener(t,Pk(this,t,n)),this};Qe.prototype.removeListener=function(t,n){var r,o,s,a,c;if(Gh(n),o=this._events,o===void 0)return this;if(r=o[t],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete o[t],o.removeListener&&this.emit("removeListener",t,r.listener||n));else if(typeof r!="function"){for(s=-1,a=r.length-1;a>=0;a--)if(r[a]===n||r[a].listener===n){c=r[a].listener,s=a;break}if(s<0)return this;s===0?r.shift():eD(r,s),r.length===1&&(o[t]=r[0]),o.removeListener!==void 0&&this.emit("removeListener",t,c||n)}return this};Qe.prototype.off=Qe.prototype.removeListener;Qe.prototype.removeAllListeners=function(t){var n,r,o;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[t]),this;if(arguments.length===0){var s=Object.keys(r),a;for(o=0;o<s.length;++o)a=s[o],a!=="removeListener"&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[t],typeof n=="function")this.removeListener(t,n);else if(n!==void 0)for(o=n.length-1;o>=0;o--)this.removeListener(t,n[o]);return this};function Mk(e,t,n){var r=e._events;if(r===void 0)return[];var o=r[t];return o===void 0?[]:typeof o=="function"?n?[o.listener||o]:[o]:n?tD(o):Lk(o,o.length)}Qe.prototype.listeners=function(t){return Mk(this,t,!0)};Qe.prototype.rawListeners=function(t){return Mk(this,t,!1)};Qe.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):Nk.call(e,t)};Qe.prototype.listenerCount=Nk;function Nk(e){var t=this._events;if(t!==void 0){var n=t[e];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}Qe.prototype.eventNames=function(){return this._eventsCount>0?Ed(this._events):[]};function Lk(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function eD(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function tD(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function nD(e,t){return new Promise(function(n,r){function o(a){e.removeListener(t,s),r(a)}function s(){typeof e.removeListener=="function"&&e.removeListener("error",o),n([].slice.call(arguments))}Fk(e,t,s,{once:!0}),t!=="error"&&rD(e,o,{once:!0})})}function rD(e,t,n){typeof e.on=="function"&&Fk(e,"error",t,n)}function Fk(e,t,n,r){if(typeof e.on=="function")r.once?e.once(t,n):e.on(t,n);else if(typeof e.addEventListener=="function")e.addEventListener(t,function o(s){r.once&&e.removeEventListener(t,o),n(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var oD=a_.exports;const iD=typeof window>"u",Bk=self.name,sD=()=>iD&&typeof self<"u"?Bk==="project"?"project":"controller":"main",jk=sD(),aD=e=>e==="main"?"32":e==="project"?"34":"33",uD=aD(jk),Ms={type:jk,name:Bk,color:uD},cE=()=>{},cD=()=>{const e=Ms.type,n=`\x1B[${Ms.color}m[${e}]\x1B[0m %s`;return{debug:console.debug.bind(console,n),info:console.info.bind(console,n),warn:console.warn.bind(console,n),error:console.error.bind(console,n),noop:cE,enabled:(r,o)=>r?o:cE}},nn=cD(),Jc=()=>lD(new oD.EventEmitter),lD=e=>({on:(t,n)=>(e.on(t,n),()=>{e.off(t,n)}),emit:t=>{e.emit("*",t),e.emit(t.type,t)}}),u_=e=>{const t=nn.enabled(!1,nn.info),n=Jc(),r=Jc(),o=new BroadcastChannel(e);return o.onmessage=s=>{t("Received message",s),r.emit(s.data)},n.on("*",s=>{t("Emitting event",s),o.postMessage(s)}),{emitter:n,listener:r}};var Jd={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Jd.exports;(function(e,t){(function(){var n,r="4.17.21",o=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",c="Invalid `variable` option passed into `_.template`",f="__lodash_hash_undefined__",d=500,p="__lodash_placeholder__",g=1,m=2,y=4,b=1,x=2,T=1,k=2,L=4,N=8,R=16,W=32,j=64,A=128,U=256,K=512,S=30,M="...",D=800,X=16,re=1,_e=2,me=3,ie=1/0,ce=9007199254740991,Le=17976931348623157e292,un=NaN,ct=4294967295,Ni=ct-1,Zu=ct>>>1,ec=[["ary",A],["bind",T],["bindKey",k],["curry",N],["curryRight",R],["flip",K],["partial",W],["partialRight",j],["rearg",U]],wo="[object Arguments]",Li="[object Array]",ys="[object AsyncFunction]",ei="[object Boolean]",Qn="[object Date]",tc="[object DOMException]",Fi="[object Error]",Bi="[object Function]",ba="[object GeneratorFunction]",cn="[object Map]",ti="[object Number]",nc="[object Null]",wn="[object Object]",Eo="[object Promise]",rc="[object Proxy]",xo="[object RegExp]",Dn="[object Set]",Q="[object String]",ge="[object Symbol]",En="[object Undefined]",xn="[object WeakMap]",ji="[object WeakSet]",uo="[object ArrayBuffer]",Di="[object DataView]",kg="[object Float32Array]",Og="[object Float64Array]",Ig="[object Int8Array]",Ag="[object Int16Array]",$g="[object Int32Array]",Rg="[object Uint8Array]",Pg="[object Uint8ClampedArray]",Mg="[object Uint16Array]",Ng="[object Uint32Array]",m2=/\b__p \+= '';/g,y2=/\b(__p \+=) '' \+/g,v2=/(__e\(.*?\)|\b__t\)) \+\n'';/g,kS=/&(?:amp|lt|gt|quot|#39);/g,OS=/[&<>"']/g,_2=RegExp(kS.source),b2=RegExp(OS.source),S2=/<%-([\s\S]+?)%>/g,w2=/<%([\s\S]+?)%>/g,IS=/<%=([\s\S]+?)%>/g,E2=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,x2=/^\w*$/,C2=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Lg=/[\\^$.*+?()[\]{}|]/g,T2=RegExp(Lg.source),Fg=/^\s+/,k2=/\s/,O2=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,I2=/\{\n\/\* \[wrapped with (.+)\] \*/,A2=/,? & /,$2=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,R2=/[()=,{}\[\]\/\s]/,P2=/\\(\\)?/g,M2=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,AS=/\w*$/,N2=/^[-+]0x[0-9a-f]+$/i,L2=/^0b[01]+$/i,F2=/^\[object .+?Constructor\]$/,B2=/^0o[0-7]+$/i,j2=/^(?:0|[1-9]\d*)$/,D2=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,lf=/($^)/,W2=/['\n\r\u2028\u2029\\]/g,ff="\\ud800-\\udfff",U2="\\u0300-\\u036f",z2="\\ufe20-\\ufe2f",q2="\\u20d0-\\u20ff",$S=U2+z2+q2,RS="\\u2700-\\u27bf",PS="a-z\\xdf-\\xf6\\xf8-\\xff",K2="\\xac\\xb1\\xd7\\xf7",V2="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",H2="\\u2000-\\u206f",G2=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",MS="A-Z\\xc0-\\xd6\\xd8-\\xde",NS="\\ufe0e\\ufe0f",LS=K2+V2+H2+G2,Bg="['’]",J2="["+ff+"]",FS="["+LS+"]",df="["+$S+"]",BS="\\d+",Y2="["+RS+"]",jS="["+PS+"]",DS="[^"+ff+LS+BS+RS+PS+MS+"]",jg="\\ud83c[\\udffb-\\udfff]",X2="(?:"+df+"|"+jg+")",WS="[^"+ff+"]",Dg="(?:\\ud83c[\\udde6-\\uddff]){2}",Wg="[\\ud800-\\udbff][\\udc00-\\udfff]",Sa="["+MS+"]",US="\\u200d",zS="(?:"+jS+"|"+DS+")",Q2="(?:"+Sa+"|"+DS+")",qS="(?:"+Bg+"(?:d|ll|m|re|s|t|ve))?",KS="(?:"+Bg+"(?:D|LL|M|RE|S|T|VE))?",VS=X2+"?",HS="["+NS+"]?",Z2="(?:"+US+"(?:"+[WS,Dg,Wg].join("|")+")"+HS+VS+")*",eN="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",tN="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",GS=HS+VS+Z2,nN="(?:"+[Y2,Dg,Wg].join("|")+")"+GS,rN="(?:"+[WS+df+"?",df,Dg,Wg,J2].join("|")+")",oN=RegExp(Bg,"g"),iN=RegExp(df,"g"),Ug=RegExp(jg+"(?="+jg+")|"+rN+GS,"g"),sN=RegExp([Sa+"?"+jS+"+"+qS+"(?="+[FS,Sa,"$"].join("|")+")",Q2+"+"+KS+"(?="+[FS,Sa+zS,"$"].join("|")+")",Sa+"?"+zS+"+"+qS,Sa+"+"+KS,tN,eN,BS,nN].join("|"),"g"),aN=RegExp("["+US+ff+$S+NS+"]"),uN=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,cN=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],lN=-1,dt={};dt[kg]=dt[Og]=dt[Ig]=dt[Ag]=dt[$g]=dt[Rg]=dt[Pg]=dt[Mg]=dt[Ng]=!0,dt[wo]=dt[Li]=dt[uo]=dt[ei]=dt[Di]=dt[Qn]=dt[Fi]=dt[Bi]=dt[cn]=dt[ti]=dt[wn]=dt[xo]=dt[Dn]=dt[Q]=dt[xn]=!1;var lt={};lt[wo]=lt[Li]=lt[uo]=lt[Di]=lt[ei]=lt[Qn]=lt[kg]=lt[Og]=lt[Ig]=lt[Ag]=lt[$g]=lt[cn]=lt[ti]=lt[wn]=lt[xo]=lt[Dn]=lt[Q]=lt[ge]=lt[Rg]=lt[Pg]=lt[Mg]=lt[Ng]=!0,lt[Fi]=lt[Bi]=lt[xn]=!1;var fN={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},dN={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},hN={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},pN={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},gN=parseFloat,mN=parseInt,JS=typeof _c=="object"&&_c&&_c.Object===Object&&_c,yN=typeof self=="object"&&self&&self.Object===Object&&self,ln=JS||yN||Function("return this")(),zg=t&&!t.nodeType&&t,vs=zg&&!0&&e&&!e.nodeType&&e,YS=vs&&vs.exports===zg,qg=YS&&JS.process,Nr=function(){try{var $=vs&&vs.require&&vs.require("util").types;return $||qg&&qg.binding&&qg.binding("util")}catch{}}(),XS=Nr&&Nr.isArrayBuffer,QS=Nr&&Nr.isDate,ZS=Nr&&Nr.isMap,e1=Nr&&Nr.isRegExp,t1=Nr&&Nr.isSet,n1=Nr&&Nr.isTypedArray;function cr($,q,B){switch(B.length){case 0:return $.call(q);case 1:return $.call(q,B[0]);case 2:return $.call(q,B[0],B[1]);case 3:return $.call(q,B[0],B[1],B[2])}return $.apply(q,B)}function vN($,q,B,ne){for(var be=-1,ze=$==null?0:$.length;++be<ze;){var Kt=$[be];q(ne,Kt,B(Kt),$)}return ne}function Lr($,q){for(var B=-1,ne=$==null?0:$.length;++B<ne&&q($[B],B,$)!==!1;);return $}function _N($,q){for(var B=$==null?0:$.length;B--&&q($[B],B,$)!==!1;);return $}function r1($,q){for(var B=-1,ne=$==null?0:$.length;++B<ne;)if(!q($[B],B,$))return!1;return!0}function Wi($,q){for(var B=-1,ne=$==null?0:$.length,be=0,ze=[];++B<ne;){var Kt=$[B];q(Kt,B,$)&&(ze[be++]=Kt)}return ze}function hf($,q){var B=$==null?0:$.length;return!!B&&wa($,q,0)>-1}function Kg($,q,B){for(var ne=-1,be=$==null?0:$.length;++ne<be;)if(B(q,$[ne]))return!0;return!1}function mt($,q){for(var B=-1,ne=$==null?0:$.length,be=Array(ne);++B<ne;)be[B]=q($[B],B,$);return be}function Ui($,q){for(var B=-1,ne=q.length,be=$.length;++B<ne;)$[be+B]=q[B];return $}function Vg($,q,B,ne){var be=-1,ze=$==null?0:$.length;for(ne&&ze&&(B=$[++be]);++be<ze;)B=q(B,$[be],be,$);return B}function bN($,q,B,ne){var be=$==null?0:$.length;for(ne&&be&&(B=$[--be]);be--;)B=q(B,$[be],be,$);return B}function Hg($,q){for(var B=-1,ne=$==null?0:$.length;++B<ne;)if(q($[B],B,$))return!0;return!1}var SN=Gg("length");function wN($){return $.split("")}function EN($){return $.match($2)||[]}function o1($,q,B){var ne;return B($,function(be,ze,Kt){if(q(be,ze,Kt))return ne=ze,!1}),ne}function pf($,q,B,ne){for(var be=$.length,ze=B+(ne?1:-1);ne?ze--:++ze<be;)if(q($[ze],ze,$))return ze;return-1}function wa($,q,B){return q===q?NN($,q,B):pf($,i1,B)}function xN($,q,B,ne){for(var be=B-1,ze=$.length;++be<ze;)if(ne($[be],q))return be;return-1}function i1($){return $!==$}function s1($,q){var B=$==null?0:$.length;return B?Yg($,q)/B:un}function Gg($){return function(q){return q==null?n:q[$]}}function Jg($){return function(q){return $==null?n:$[q]}}function a1($,q,B,ne,be){return be($,function(ze,Kt,Ze){B=ne?(ne=!1,ze):q(B,ze,Kt,Ze)}),B}function CN($,q){var B=$.length;for($.sort(q);B--;)$[B]=$[B].value;return $}function Yg($,q){for(var B,ne=-1,be=$.length;++ne<be;){var ze=q($[ne]);ze!==n&&(B=B===n?ze:B+ze)}return B}function Xg($,q){for(var B=-1,ne=Array($);++B<$;)ne[B]=q(B);return ne}function TN($,q){return mt(q,function(B){return[B,$[B]]})}function u1($){return $&&$.slice(0,d1($)+1).replace(Fg,"")}function lr($){return function(q){return $(q)}}function Qg($,q){return mt(q,function(B){return $[B]})}function oc($,q){return $.has(q)}function c1($,q){for(var B=-1,ne=$.length;++B<ne&&wa(q,$[B],0)>-1;);return B}function l1($,q){for(var B=$.length;B--&&wa(q,$[B],0)>-1;);return B}function kN($,q){for(var B=$.length,ne=0;B--;)$[B]===q&&++ne;return ne}var ON=Jg(fN),IN=Jg(dN);function AN($){return"\\"+pN[$]}function $N($,q){return $==null?n:$[q]}function Ea($){return aN.test($)}function RN($){return uN.test($)}function PN($){for(var q,B=[];!(q=$.next()).done;)B.push(q.value);return B}function Zg($){var q=-1,B=Array($.size);return $.forEach(function(ne,be){B[++q]=[be,ne]}),B}function f1($,q){return function(B){return $(q(B))}}function zi($,q){for(var B=-1,ne=$.length,be=0,ze=[];++B<ne;){var Kt=$[B];(Kt===q||Kt===p)&&($[B]=p,ze[be++]=B)}return ze}function gf($){var q=-1,B=Array($.size);return $.forEach(function(ne){B[++q]=ne}),B}function MN($){var q=-1,B=Array($.size);return $.forEach(function(ne){B[++q]=[ne,ne]}),B}function NN($,q,B){for(var ne=B-1,be=$.length;++ne<be;)if($[ne]===q)return ne;return-1}function LN($,q,B){for(var ne=B+1;ne--;)if($[ne]===q)return ne;return ne}function xa($){return Ea($)?BN($):SN($)}function co($){return Ea($)?jN($):wN($)}function d1($){for(var q=$.length;q--&&k2.test($.charAt(q)););return q}var FN=Jg(hN);function BN($){for(var q=Ug.lastIndex=0;Ug.test($);)++q;return q}function jN($){return $.match(Ug)||[]}function DN($){return $.match(sN)||[]}var WN=function $(q){q=q==null?ln:Ca.defaults(ln.Object(),q,Ca.pick(ln,cN));var B=q.Array,ne=q.Date,be=q.Error,ze=q.Function,Kt=q.Math,Ze=q.Object,em=q.RegExp,UN=q.String,Fr=q.TypeError,mf=B.prototype,zN=ze.prototype,Ta=Ze.prototype,yf=q["__core-js_shared__"],vf=zN.toString,Je=Ta.hasOwnProperty,qN=0,h1=function(){var i=/[^.]+$/.exec(yf&&yf.keys&&yf.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}(),_f=Ta.toString,KN=vf.call(Ze),VN=ln._,HN=em("^"+vf.call(Je).replace(Lg,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),bf=YS?q.Buffer:n,qi=q.Symbol,Sf=q.Uint8Array,p1=bf?bf.allocUnsafe:n,wf=f1(Ze.getPrototypeOf,Ze),g1=Ze.create,m1=Ta.propertyIsEnumerable,Ef=mf.splice,y1=qi?qi.isConcatSpreadable:n,ic=qi?qi.iterator:n,_s=qi?qi.toStringTag:n,xf=function(){try{var i=xs(Ze,"defineProperty");return i({},"",{}),i}catch{}}(),GN=q.clearTimeout!==ln.clearTimeout&&q.clearTimeout,JN=ne&&ne.now!==ln.Date.now&&ne.now,YN=q.setTimeout!==ln.setTimeout&&q.setTimeout,Cf=Kt.ceil,Tf=Kt.floor,tm=Ze.getOwnPropertySymbols,XN=bf?bf.isBuffer:n,v1=q.isFinite,QN=mf.join,ZN=f1(Ze.keys,Ze),Vt=Kt.max,Cn=Kt.min,eL=ne.now,tL=q.parseInt,_1=Kt.random,nL=mf.reverse,nm=xs(q,"DataView"),sc=xs(q,"Map"),rm=xs(q,"Promise"),ka=xs(q,"Set"),ac=xs(q,"WeakMap"),uc=xs(Ze,"create"),kf=ac&&new ac,Oa={},rL=Cs(nm),oL=Cs(sc),iL=Cs(rm),sL=Cs(ka),aL=Cs(ac),Of=qi?qi.prototype:n,cc=Of?Of.valueOf:n,b1=Of?Of.toString:n;function w(i){if(xt(i)&&!Ee(i)&&!(i instanceof Ne)){if(i instanceof Br)return i;if(Je.call(i,"__wrapped__"))return Sw(i)}return new Br(i)}var Ia=function(){function i(){}return function(u){if(!St(u))return{};if(g1)return g1(u);i.prototype=u;var l=new i;return i.prototype=n,l}}();function If(){}function Br(i,u){this.__wrapped__=i,this.__actions__=[],this.__chain__=!!u,this.__index__=0,this.__values__=n}w.templateSettings={escape:S2,evaluate:w2,interpolate:IS,variable:"",imports:{_:w}},w.prototype=If.prototype,w.prototype.constructor=w,Br.prototype=Ia(If.prototype),Br.prototype.constructor=Br;function Ne(i){this.__wrapped__=i,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ct,this.__views__=[]}function uL(){var i=new Ne(this.__wrapped__);return i.__actions__=Zn(this.__actions__),i.__dir__=this.__dir__,i.__filtered__=this.__filtered__,i.__iteratees__=Zn(this.__iteratees__),i.__takeCount__=this.__takeCount__,i.__views__=Zn(this.__views__),i}function cL(){if(this.__filtered__){var i=new Ne(this);i.__dir__=-1,i.__filtered__=!0}else i=this.clone(),i.__dir__*=-1;return i}function lL(){var i=this.__wrapped__.value(),u=this.__dir__,l=Ee(i),h=u<0,v=l?i.length:0,E=wF(0,v,this.__views__),C=E.start,O=E.end,P=O-C,V=h?O:C-1,H=this.__iteratees__,Y=H.length,Z=0,se=Cn(P,this.__takeCount__);if(!l||!h&&v==P&&se==P)return q1(i,this.__actions__);var he=[];e:for(;P--&&Z<se;){V+=u;for(var Oe=-1,pe=i[V];++Oe<Y;){var Pe=H[Oe],Fe=Pe.iteratee,hr=Pe.type,zn=Fe(pe);if(hr==_e)pe=zn;else if(!zn){if(hr==re)continue e;break e}}he[Z++]=pe}return he}Ne.prototype=Ia(If.prototype),Ne.prototype.constructor=Ne;function bs(i){var u=-1,l=i==null?0:i.length;for(this.clear();++u<l;){var h=i[u];this.set(h[0],h[1])}}function fL(){this.__data__=uc?uc(null):{},this.size=0}function dL(i){var u=this.has(i)&&delete this.__data__[i];return this.size-=u?1:0,u}function hL(i){var u=this.__data__;if(uc){var l=u[i];return l===f?n:l}return Je.call(u,i)?u[i]:n}function pL(i){var u=this.__data__;return uc?u[i]!==n:Je.call(u,i)}function gL(i,u){var l=this.__data__;return this.size+=this.has(i)?0:1,l[i]=uc&&u===n?f:u,this}bs.prototype.clear=fL,bs.prototype.delete=dL,bs.prototype.get=hL,bs.prototype.has=pL,bs.prototype.set=gL;function ni(i){var u=-1,l=i==null?0:i.length;for(this.clear();++u<l;){var h=i[u];this.set(h[0],h[1])}}function mL(){this.__data__=[],this.size=0}function yL(i){var u=this.__data__,l=Af(u,i);if(l<0)return!1;var h=u.length-1;return l==h?u.pop():Ef.call(u,l,1),--this.size,!0}function vL(i){var u=this.__data__,l=Af(u,i);return l<0?n:u[l][1]}function _L(i){return Af(this.__data__,i)>-1}function bL(i,u){var l=this.__data__,h=Af(l,i);return h<0?(++this.size,l.push([i,u])):l[h][1]=u,this}ni.prototype.clear=mL,ni.prototype.delete=yL,ni.prototype.get=vL,ni.prototype.has=_L,ni.prototype.set=bL;function ri(i){var u=-1,l=i==null?0:i.length;for(this.clear();++u<l;){var h=i[u];this.set(h[0],h[1])}}function SL(){this.size=0,this.__data__={hash:new bs,map:new(sc||ni),string:new bs}}function wL(i){var u=Uf(this,i).delete(i);return this.size-=u?1:0,u}function EL(i){return Uf(this,i).get(i)}function xL(i){return Uf(this,i).has(i)}function CL(i,u){var l=Uf(this,i),h=l.size;return l.set(i,u),this.size+=l.size==h?0:1,this}ri.prototype.clear=SL,ri.prototype.delete=wL,ri.prototype.get=EL,ri.prototype.has=xL,ri.prototype.set=CL;function Ss(i){var u=-1,l=i==null?0:i.length;for(this.__data__=new ri;++u<l;)this.add(i[u])}function TL(i){return this.__data__.set(i,f),this}function kL(i){return this.__data__.has(i)}Ss.prototype.add=Ss.prototype.push=TL,Ss.prototype.has=kL;function lo(i){var u=this.__data__=new ni(i);this.size=u.size}function OL(){this.__data__=new ni,this.size=0}function IL(i){var u=this.__data__,l=u.delete(i);return this.size=u.size,l}function AL(i){return this.__data__.get(i)}function $L(i){return this.__data__.has(i)}function RL(i,u){var l=this.__data__;if(l instanceof ni){var h=l.__data__;if(!sc||h.length<o-1)return h.push([i,u]),this.size=++l.size,this;l=this.__data__=new ri(h)}return l.set(i,u),this.size=l.size,this}lo.prototype.clear=OL,lo.prototype.delete=IL,lo.prototype.get=AL,lo.prototype.has=$L,lo.prototype.set=RL;function S1(i,u){var l=Ee(i),h=!l&&Ts(i),v=!l&&!h&&Ji(i),E=!l&&!h&&!v&&Pa(i),C=l||h||v||E,O=C?Xg(i.length,UN):[],P=O.length;for(var V in i)(u||Je.call(i,V))&&!(C&&(V=="length"||v&&(V=="offset"||V=="parent")||E&&(V=="buffer"||V=="byteLength"||V=="byteOffset")||ai(V,P)))&&O.push(V);return O}function w1(i){var u=i.length;return u?i[pm(0,u-1)]:n}function PL(i,u){return zf(Zn(i),ws(u,0,i.length))}function ML(i){return zf(Zn(i))}function om(i,u,l){(l!==n&&!fo(i[u],l)||l===n&&!(u in i))&&oi(i,u,l)}function lc(i,u,l){var h=i[u];(!(Je.call(i,u)&&fo(h,l))||l===n&&!(u in i))&&oi(i,u,l)}function Af(i,u){for(var l=i.length;l--;)if(fo(i[l][0],u))return l;return-1}function NL(i,u,l,h){return Ki(i,function(v,E,C){u(h,v,l(v),C)}),h}function E1(i,u){return i&&To(u,Xt(u),i)}function LL(i,u){return i&&To(u,tr(u),i)}function oi(i,u,l){u=="__proto__"&&xf?xf(i,u,{configurable:!0,enumerable:!0,value:l,writable:!0}):i[u]=l}function im(i,u){for(var l=-1,h=u.length,v=B(h),E=i==null;++l<h;)v[l]=E?n:jm(i,u[l]);return v}function ws(i,u,l){return i===i&&(l!==n&&(i=i<=l?i:l),u!==n&&(i=i>=u?i:u)),i}function jr(i,u,l,h,v,E){var C,O=u&g,P=u&m,V=u&y;if(l&&(C=v?l(i,h,v,E):l(i)),C!==n)return C;if(!St(i))return i;var H=Ee(i);if(H){if(C=xF(i),!O)return Zn(i,C)}else{var Y=Tn(i),Z=Y==Bi||Y==ba;if(Ji(i))return H1(i,O);if(Y==wn||Y==wo||Z&&!v){if(C=P||Z?{}:dw(i),!O)return P?hF(i,LL(C,i)):dF(i,E1(C,i))}else{if(!lt[Y])return v?i:{};C=CF(i,Y,O)}}E||(E=new lo);var se=E.get(i);if(se)return se;E.set(i,C),Ww(i)?i.forEach(function(pe){C.add(jr(pe,u,l,pe,i,E))}):jw(i)&&i.forEach(function(pe,Pe){C.set(Pe,jr(pe,u,l,Pe,i,E))});var he=V?P?Cm:xm:P?tr:Xt,Oe=H?n:he(i);return Lr(Oe||i,function(pe,Pe){Oe&&(Pe=pe,pe=i[Pe]),lc(C,Pe,jr(pe,u,l,Pe,i,E))}),C}function FL(i){var u=Xt(i);return function(l){return x1(l,i,u)}}function x1(i,u,l){var h=l.length;if(i==null)return!h;for(i=Ze(i);h--;){var v=l[h],E=u[v],C=i[v];if(C===n&&!(v in i)||!E(C))return!1}return!0}function C1(i,u,l){if(typeof i!="function")throw new Fr(a);return yc(function(){i.apply(n,l)},u)}function fc(i,u,l,h){var v=-1,E=hf,C=!0,O=i.length,P=[],V=u.length;if(!O)return P;l&&(u=mt(u,lr(l))),h?(E=Kg,C=!1):u.length>=o&&(E=oc,C=!1,u=new Ss(u));e:for(;++v<O;){var H=i[v],Y=l==null?H:l(H);if(H=h||H!==0?H:0,C&&Y===Y){for(var Z=V;Z--;)if(u[Z]===Y)continue e;P.push(H)}else E(u,Y,h)||P.push(H)}return P}var Ki=Q1(Co),T1=Q1(am,!0);function BL(i,u){var l=!0;return Ki(i,function(h,v,E){return l=!!u(h,v,E),l}),l}function $f(i,u,l){for(var h=-1,v=i.length;++h<v;){var E=i[h],C=u(E);if(C!=null&&(O===n?C===C&&!dr(C):l(C,O)))var O=C,P=E}return P}function jL(i,u,l,h){var v=i.length;for(l=ke(l),l<0&&(l=-l>v?0:v+l),h=h===n||h>v?v:ke(h),h<0&&(h+=v),h=l>h?0:zw(h);l<h;)i[l++]=u;return i}function k1(i,u){var l=[];return Ki(i,function(h,v,E){u(h,v,E)&&l.push(h)}),l}function fn(i,u,l,h,v){var E=-1,C=i.length;for(l||(l=kF),v||(v=[]);++E<C;){var O=i[E];u>0&&l(O)?u>1?fn(O,u-1,l,h,v):Ui(v,O):h||(v[v.length]=O)}return v}var sm=Z1(),O1=Z1(!0);function Co(i,u){return i&&sm(i,u,Xt)}function am(i,u){return i&&O1(i,u,Xt)}function Rf(i,u){return Wi(u,function(l){return ui(i[l])})}function Es(i,u){u=Hi(u,i);for(var l=0,h=u.length;i!=null&&l<h;)i=i[ko(u[l++])];return l&&l==h?i:n}function I1(i,u,l){var h=u(i);return Ee(i)?h:Ui(h,l(i))}function Wn(i){return i==null?i===n?En:nc:_s&&_s in Ze(i)?SF(i):MF(i)}function um(i,u){return i>u}function DL(i,u){return i!=null&&Je.call(i,u)}function WL(i,u){return i!=null&&u in Ze(i)}function UL(i,u,l){return i>=Cn(u,l)&&i<Vt(u,l)}function cm(i,u,l){for(var h=l?Kg:hf,v=i[0].length,E=i.length,C=E,O=B(E),P=1/0,V=[];C--;){var H=i[C];C&&u&&(H=mt(H,lr(u))),P=Cn(H.length,P),O[C]=!l&&(u||v>=120&&H.length>=120)?new Ss(C&&H):n}H=i[0];var Y=-1,Z=O[0];e:for(;++Y<v&&V.length<P;){var se=H[Y],he=u?u(se):se;if(se=l||se!==0?se:0,!(Z?oc(Z,he):h(V,he,l))){for(C=E;--C;){var Oe=O[C];if(!(Oe?oc(Oe,he):h(i[C],he,l)))continue e}Z&&Z.push(he),V.push(se)}}return V}function zL(i,u,l,h){return Co(i,function(v,E,C){u(h,l(v),E,C)}),h}function dc(i,u,l){u=Hi(u,i),i=mw(i,u);var h=i==null?i:i[ko(Wr(u))];return h==null?n:cr(h,i,l)}function A1(i){return xt(i)&&Wn(i)==wo}function qL(i){return xt(i)&&Wn(i)==uo}function KL(i){return xt(i)&&Wn(i)==Qn}function hc(i,u,l,h,v){return i===u?!0:i==null||u==null||!xt(i)&&!xt(u)?i!==i&&u!==u:VL(i,u,l,h,hc,v)}function VL(i,u,l,h,v,E){var C=Ee(i),O=Ee(u),P=C?Li:Tn(i),V=O?Li:Tn(u);P=P==wo?wn:P,V=V==wo?wn:V;var H=P==wn,Y=V==wn,Z=P==V;if(Z&&Ji(i)){if(!Ji(u))return!1;C=!0,H=!1}if(Z&&!H)return E||(E=new lo),C||Pa(i)?cw(i,u,l,h,v,E):_F(i,u,P,l,h,v,E);if(!(l&b)){var se=H&&Je.call(i,"__wrapped__"),he=Y&&Je.call(u,"__wrapped__");if(se||he){var Oe=se?i.value():i,pe=he?u.value():u;return E||(E=new lo),v(Oe,pe,l,h,E)}}return Z?(E||(E=new lo),bF(i,u,l,h,v,E)):!1}function HL(i){return xt(i)&&Tn(i)==cn}function lm(i,u,l,h){var v=l.length,E=v,C=!h;if(i==null)return!E;for(i=Ze(i);v--;){var O=l[v];if(C&&O[2]?O[1]!==i[O[0]]:!(O[0]in i))return!1}for(;++v<E;){O=l[v];var P=O[0],V=i[P],H=O[1];if(C&&O[2]){if(V===n&&!(P in i))return!1}else{var Y=new lo;if(h)var Z=h(V,H,P,i,u,Y);if(!(Z===n?hc(H,V,b|x,h,Y):Z))return!1}}return!0}function $1(i){if(!St(i)||IF(i))return!1;var u=ui(i)?HN:F2;return u.test(Cs(i))}function GL(i){return xt(i)&&Wn(i)==xo}function JL(i){return xt(i)&&Tn(i)==Dn}function YL(i){return xt(i)&&Jf(i.length)&&!!dt[Wn(i)]}function R1(i){return typeof i=="function"?i:i==null?nr:typeof i=="object"?Ee(i)?N1(i[0],i[1]):M1(i):eE(i)}function fm(i){if(!mc(i))return ZN(i);var u=[];for(var l in Ze(i))Je.call(i,l)&&l!="constructor"&&u.push(l);return u}function XL(i){if(!St(i))return PF(i);var u=mc(i),l=[];for(var h in i)h=="constructor"&&(u||!Je.call(i,h))||l.push(h);return l}function dm(i,u){return i<u}function P1(i,u){var l=-1,h=er(i)?B(i.length):[];return Ki(i,function(v,E,C){h[++l]=u(v,E,C)}),h}function M1(i){var u=km(i);return u.length==1&&u[0][2]?pw(u[0][0],u[0][1]):function(l){return l===i||lm(l,i,u)}}function N1(i,u){return Im(i)&&hw(u)?pw(ko(i),u):function(l){var h=jm(l,i);return h===n&&h===u?Dm(l,i):hc(u,h,b|x)}}function Pf(i,u,l,h,v){i!==u&&sm(u,function(E,C){if(v||(v=new lo),St(E))QL(i,u,C,l,Pf,h,v);else{var O=h?h($m(i,C),E,C+"",i,u,v):n;O===n&&(O=E),om(i,C,O)}},tr)}function QL(i,u,l,h,v,E,C){var O=$m(i,l),P=$m(u,l),V=C.get(P);if(V){om(i,l,V);return}var H=E?E(O,P,l+"",i,u,C):n,Y=H===n;if(Y){var Z=Ee(P),se=!Z&&Ji(P),he=!Z&&!se&&Pa(P);H=P,Z||se||he?Ee(O)?H=O:At(O)?H=Zn(O):se?(Y=!1,H=H1(P,!0)):he?(Y=!1,H=G1(P,!0)):H=[]:vc(P)||Ts(P)?(H=O,Ts(O)?H=qw(O):(!St(O)||ui(O))&&(H=dw(P))):Y=!1}Y&&(C.set(P,H),v(H,P,h,E,C),C.delete(P)),om(i,l,H)}function L1(i,u){var l=i.length;if(l)return u+=u<0?l:0,ai(u,l)?i[u]:n}function F1(i,u,l){u.length?u=mt(u,function(E){return Ee(E)?function(C){return Es(C,E.length===1?E[0]:E)}:E}):u=[nr];var h=-1;u=mt(u,lr(de()));var v=P1(i,function(E,C,O){var P=mt(u,function(V){return V(E)});return{criteria:P,index:++h,value:E}});return CN(v,function(E,C){return fF(E,C,l)})}function ZL(i,u){return B1(i,u,function(l,h){return Dm(i,h)})}function B1(i,u,l){for(var h=-1,v=u.length,E={};++h<v;){var C=u[h],O=Es(i,C);l(O,C)&&pc(E,Hi(C,i),O)}return E}function eF(i){return function(u){return Es(u,i)}}function hm(i,u,l,h){var v=h?xN:wa,E=-1,C=u.length,O=i;for(i===u&&(u=Zn(u)),l&&(O=mt(i,lr(l)));++E<C;)for(var P=0,V=u[E],H=l?l(V):V;(P=v(O,H,P,h))>-1;)O!==i&&Ef.call(O,P,1),Ef.call(i,P,1);return i}function j1(i,u){for(var l=i?u.length:0,h=l-1;l--;){var v=u[l];if(l==h||v!==E){var E=v;ai(v)?Ef.call(i,v,1):ym(i,v)}}return i}function pm(i,u){return i+Tf(_1()*(u-i+1))}function tF(i,u,l,h){for(var v=-1,E=Vt(Cf((u-i)/(l||1)),0),C=B(E);E--;)C[h?E:++v]=i,i+=l;return C}function gm(i,u){var l="";if(!i||u<1||u>ce)return l;do u%2&&(l+=i),u=Tf(u/2),u&&(i+=i);while(u);return l}function $e(i,u){return Rm(gw(i,u,nr),i+"")}function nF(i){return w1(Ma(i))}function rF(i,u){var l=Ma(i);return zf(l,ws(u,0,l.length))}function pc(i,u,l,h){if(!St(i))return i;u=Hi(u,i);for(var v=-1,E=u.length,C=E-1,O=i;O!=null&&++v<E;){var P=ko(u[v]),V=l;if(P==="__proto__"||P==="constructor"||P==="prototype")return i;if(v!=C){var H=O[P];V=h?h(H,P,O):n,V===n&&(V=St(H)?H:ai(u[v+1])?[]:{})}lc(O,P,V),O=O[P]}return i}var D1=kf?function(i,u){return kf.set(i,u),i}:nr,oF=xf?function(i,u){return xf(i,"toString",{configurable:!0,enumerable:!1,value:Um(u),writable:!0})}:nr;function iF(i){return zf(Ma(i))}function Dr(i,u,l){var h=-1,v=i.length;u<0&&(u=-u>v?0:v+u),l=l>v?v:l,l<0&&(l+=v),v=u>l?0:l-u>>>0,u>>>=0;for(var E=B(v);++h<v;)E[h]=i[h+u];return E}function sF(i,u){var l;return Ki(i,function(h,v,E){return l=u(h,v,E),!l}),!!l}function Mf(i,u,l){var h=0,v=i==null?h:i.length;if(typeof u=="number"&&u===u&&v<=Zu){for(;h<v;){var E=h+v>>>1,C=i[E];C!==null&&!dr(C)&&(l?C<=u:C<u)?h=E+1:v=E}return v}return mm(i,u,nr,l)}function mm(i,u,l,h){var v=0,E=i==null?0:i.length;if(E===0)return 0;u=l(u);for(var C=u!==u,O=u===null,P=dr(u),V=u===n;v<E;){var H=Tf((v+E)/2),Y=l(i[H]),Z=Y!==n,se=Y===null,he=Y===Y,Oe=dr(Y);if(C)var pe=h||he;else V?pe=he&&(h||Z):O?pe=he&&Z&&(h||!se):P?pe=he&&Z&&!se&&(h||!Oe):se||Oe?pe=!1:pe=h?Y<=u:Y<u;pe?v=H+1:E=H}return Cn(E,Ni)}function W1(i,u){for(var l=-1,h=i.length,v=0,E=[];++l<h;){var C=i[l],O=u?u(C):C;if(!l||!fo(O,P)){var P=O;E[v++]=C===0?0:C}}return E}function U1(i){return typeof i=="number"?i:dr(i)?un:+i}function fr(i){if(typeof i=="string")return i;if(Ee(i))return mt(i,fr)+"";if(dr(i))return b1?b1.call(i):"";var u=i+"";return u=="0"&&1/i==-1/0?"-0":u}function Vi(i,u,l){var h=-1,v=hf,E=i.length,C=!0,O=[],P=O;if(l)C=!1,v=Kg;else if(E>=o){var V=u?null:yF(i);if(V)return gf(V);C=!1,v=oc,P=new Ss}else P=u?[]:O;e:for(;++h<E;){var H=i[h],Y=u?u(H):H;if(H=l||H!==0?H:0,C&&Y===Y){for(var Z=P.length;Z--;)if(P[Z]===Y)continue e;u&&P.push(Y),O.push(H)}else v(P,Y,l)||(P!==O&&P.push(Y),O.push(H))}return O}function ym(i,u){return u=Hi(u,i),i=mw(i,u),i==null||delete i[ko(Wr(u))]}function z1(i,u,l,h){return pc(i,u,l(Es(i,u)),h)}function Nf(i,u,l,h){for(var v=i.length,E=h?v:-1;(h?E--:++E<v)&&u(i[E],E,i););return l?Dr(i,h?0:E,h?E+1:v):Dr(i,h?E+1:0,h?v:E)}function q1(i,u){var l=i;return l instanceof Ne&&(l=l.value()),Vg(u,function(h,v){return v.func.apply(v.thisArg,Ui([h],v.args))},l)}function vm(i,u,l){var h=i.length;if(h<2)return h?Vi(i[0]):[];for(var v=-1,E=B(h);++v<h;)for(var C=i[v],O=-1;++O<h;)O!=v&&(E[v]=fc(E[v]||C,i[O],u,l));return Vi(fn(E,1),u,l)}function K1(i,u,l){for(var h=-1,v=i.length,E=u.length,C={};++h<v;){var O=h<E?u[h]:n;l(C,i[h],O)}return C}function _m(i){return At(i)?i:[]}function bm(i){return typeof i=="function"?i:nr}function Hi(i,u){return Ee(i)?i:Im(i,u)?[i]:bw(He(i))}var aF=$e;function Gi(i,u,l){var h=i.length;return l=l===n?h:l,!u&&l>=h?i:Dr(i,u,l)}var V1=GN||function(i){return ln.clearTimeout(i)};function H1(i,u){if(u)return i.slice();var l=i.length,h=p1?p1(l):new i.constructor(l);return i.copy(h),h}function Sm(i){var u=new i.constructor(i.byteLength);return new Sf(u).set(new Sf(i)),u}function uF(i,u){var l=u?Sm(i.buffer):i.buffer;return new i.constructor(l,i.byteOffset,i.byteLength)}function cF(i){var u=new i.constructor(i.source,AS.exec(i));return u.lastIndex=i.lastIndex,u}function lF(i){return cc?Ze(cc.call(i)):{}}function G1(i,u){var l=u?Sm(i.buffer):i.buffer;return new i.constructor(l,i.byteOffset,i.length)}function J1(i,u){if(i!==u){var l=i!==n,h=i===null,v=i===i,E=dr(i),C=u!==n,O=u===null,P=u===u,V=dr(u);if(!O&&!V&&!E&&i>u||E&&C&&P&&!O&&!V||h&&C&&P||!l&&P||!v)return 1;if(!h&&!E&&!V&&i<u||V&&l&&v&&!h&&!E||O&&l&&v||!C&&v||!P)return-1}return 0}function fF(i,u,l){for(var h=-1,v=i.criteria,E=u.criteria,C=v.length,O=l.length;++h<C;){var P=J1(v[h],E[h]);if(P){if(h>=O)return P;var V=l[h];return P*(V=="desc"?-1:1)}}return i.index-u.index}function Y1(i,u,l,h){for(var v=-1,E=i.length,C=l.length,O=-1,P=u.length,V=Vt(E-C,0),H=B(P+V),Y=!h;++O<P;)H[O]=u[O];for(;++v<C;)(Y||v<E)&&(H[l[v]]=i[v]);for(;V--;)H[O++]=i[v++];return H}function X1(i,u,l,h){for(var v=-1,E=i.length,C=-1,O=l.length,P=-1,V=u.length,H=Vt(E-O,0),Y=B(H+V),Z=!h;++v<H;)Y[v]=i[v];for(var se=v;++P<V;)Y[se+P]=u[P];for(;++C<O;)(Z||v<E)&&(Y[se+l[C]]=i[v++]);return Y}function Zn(i,u){var l=-1,h=i.length;for(u||(u=B(h));++l<h;)u[l]=i[l];return u}function To(i,u,l,h){var v=!l;l||(l={});for(var E=-1,C=u.length;++E<C;){var O=u[E],P=h?h(l[O],i[O],O,l,i):n;P===n&&(P=i[O]),v?oi(l,O,P):lc(l,O,P)}return l}function dF(i,u){return To(i,Om(i),u)}function hF(i,u){return To(i,lw(i),u)}function Lf(i,u){return function(l,h){var v=Ee(l)?vN:NL,E=u?u():{};return v(l,i,de(h,2),E)}}function Aa(i){return $e(function(u,l){var h=-1,v=l.length,E=v>1?l[v-1]:n,C=v>2?l[2]:n;for(E=i.length>3&&typeof E=="function"?(v--,E):n,C&&Un(l[0],l[1],C)&&(E=v<3?n:E,v=1),u=Ze(u);++h<v;){var O=l[h];O&&i(u,O,h,E)}return u})}function Q1(i,u){return function(l,h){if(l==null)return l;if(!er(l))return i(l,h);for(var v=l.length,E=u?v:-1,C=Ze(l);(u?E--:++E<v)&&h(C[E],E,C)!==!1;);return l}}function Z1(i){return function(u,l,h){for(var v=-1,E=Ze(u),C=h(u),O=C.length;O--;){var P=C[i?O:++v];if(l(E[P],P,E)===!1)break}return u}}function pF(i,u,l){var h=u&T,v=gc(i);function E(){var C=this&&this!==ln&&this instanceof E?v:i;return C.apply(h?l:this,arguments)}return E}function ew(i){return function(u){u=He(u);var l=Ea(u)?co(u):n,h=l?l[0]:u.charAt(0),v=l?Gi(l,1).join(""):u.slice(1);return h[i]()+v}}function $a(i){return function(u){return Vg(Qw(Xw(u).replace(oN,"")),i,"")}}function gc(i){return function(){var u=arguments;switch(u.length){case 0:return new i;case 1:return new i(u[0]);case 2:return new i(u[0],u[1]);case 3:return new i(u[0],u[1],u[2]);case 4:return new i(u[0],u[1],u[2],u[3]);case 5:return new i(u[0],u[1],u[2],u[3],u[4]);case 6:return new i(u[0],u[1],u[2],u[3],u[4],u[5]);case 7:return new i(u[0],u[1],u[2],u[3],u[4],u[5],u[6])}var l=Ia(i.prototype),h=i.apply(l,u);return St(h)?h:l}}function gF(i,u,l){var h=gc(i);function v(){for(var E=arguments.length,C=B(E),O=E,P=Ra(v);O--;)C[O]=arguments[O];var V=E<3&&C[0]!==P&&C[E-1]!==P?[]:zi(C,P);if(E-=V.length,E<l)return iw(i,u,Ff,v.placeholder,n,C,V,n,n,l-E);var H=this&&this!==ln&&this instanceof v?h:i;return cr(H,this,C)}return v}function tw(i){return function(u,l,h){var v=Ze(u);if(!er(u)){var E=de(l,3);u=Xt(u),l=function(O){return E(v[O],O,v)}}var C=i(u,l,h);return C>-1?v[E?u[C]:C]:n}}function nw(i){return si(function(u){var l=u.length,h=l,v=Br.prototype.thru;for(i&&u.reverse();h--;){var E=u[h];if(typeof E!="function")throw new Fr(a);if(v&&!C&&Wf(E)=="wrapper")var C=new Br([],!0)}for(h=C?h:l;++h<l;){E=u[h];var O=Wf(E),P=O=="wrapper"?Tm(E):n;P&&Am(P[0])&&P[1]==(A|N|W|U)&&!P[4].length&&P[9]==1?C=C[Wf(P[0])].apply(C,P[3]):C=E.length==1&&Am(E)?C[O]():C.thru(E)}return function(){var V=arguments,H=V[0];if(C&&V.length==1&&Ee(H))return C.plant(H).value();for(var Y=0,Z=l?u[Y].apply(this,V):H;++Y<l;)Z=u[Y].call(this,Z);return Z}})}function Ff(i,u,l,h,v,E,C,O,P,V){var H=u&A,Y=u&T,Z=u&k,se=u&(N|R),he=u&K,Oe=Z?n:gc(i);function pe(){for(var Pe=arguments.length,Fe=B(Pe),hr=Pe;hr--;)Fe[hr]=arguments[hr];if(se)var zn=Ra(pe),pr=kN(Fe,zn);if(h&&(Fe=Y1(Fe,h,v,se)),E&&(Fe=X1(Fe,E,C,se)),Pe-=pr,se&&Pe<V){var $t=zi(Fe,zn);return iw(i,u,Ff,pe.placeholder,l,Fe,$t,O,P,V-Pe)}var ho=Y?l:this,li=Z?ho[i]:i;return Pe=Fe.length,O?Fe=NF(Fe,O):he&&Pe>1&&Fe.reverse(),H&&P<Pe&&(Fe.length=P),this&&this!==ln&&this instanceof pe&&(li=Oe||gc(li)),li.apply(ho,Fe)}return pe}function rw(i,u){return function(l,h){return zL(l,i,u(h),{})}}function Bf(i,u){return function(l,h){var v;if(l===n&&h===n)return u;if(l!==n&&(v=l),h!==n){if(v===n)return h;typeof l=="string"||typeof h=="string"?(l=fr(l),h=fr(h)):(l=U1(l),h=U1(h)),v=i(l,h)}return v}}function wm(i){return si(function(u){return u=mt(u,lr(de())),$e(function(l){var h=this;return i(u,function(v){return cr(v,h,l)})})})}function jf(i,u){u=u===n?" ":fr(u);var l=u.length;if(l<2)return l?gm(u,i):u;var h=gm(u,Cf(i/xa(u)));return Ea(u)?Gi(co(h),0,i).join(""):h.slice(0,i)}function mF(i,u,l,h){var v=u&T,E=gc(i);function C(){for(var O=-1,P=arguments.length,V=-1,H=h.length,Y=B(H+P),Z=this&&this!==ln&&this instanceof C?E:i;++V<H;)Y[V]=h[V];for(;P--;)Y[V++]=arguments[++O];return cr(Z,v?l:this,Y)}return C}function ow(i){return function(u,l,h){return h&&typeof h!="number"&&Un(u,l,h)&&(l=h=n),u=ci(u),l===n?(l=u,u=0):l=ci(l),h=h===n?u<l?1:-1:ci(h),tF(u,l,h,i)}}function Df(i){return function(u,l){return typeof u=="string"&&typeof l=="string"||(u=Ur(u),l=Ur(l)),i(u,l)}}function iw(i,u,l,h,v,E,C,O,P,V){var H=u&N,Y=H?C:n,Z=H?n:C,se=H?E:n,he=H?n:E;u|=H?W:j,u&=~(H?j:W),u&L||(u&=-4);var Oe=[i,u,v,se,Y,he,Z,O,P,V],pe=l.apply(n,Oe);return Am(i)&&yw(pe,Oe),pe.placeholder=h,vw(pe,i,u)}function Em(i){var u=Kt[i];return function(l,h){if(l=Ur(l),h=h==null?0:Cn(ke(h),292),h&&v1(l)){var v=(He(l)+"e").split("e"),E=u(v[0]+"e"+(+v[1]+h));return v=(He(E)+"e").split("e"),+(v[0]+"e"+(+v[1]-h))}return u(l)}}var yF=ka&&1/gf(new ka([,-0]))[1]==ie?function(i){return new ka(i)}:Km;function sw(i){return function(u){var l=Tn(u);return l==cn?Zg(u):l==Dn?MN(u):TN(u,i(u))}}function ii(i,u,l,h,v,E,C,O){var P=u&k;if(!P&&typeof i!="function")throw new Fr(a);var V=h?h.length:0;if(V||(u&=-97,h=v=n),C=C===n?C:Vt(ke(C),0),O=O===n?O:ke(O),V-=v?v.length:0,u&j){var H=h,Y=v;h=v=n}var Z=P?n:Tm(i),se=[i,u,l,h,v,H,Y,E,C,O];if(Z&&RF(se,Z),i=se[0],u=se[1],l=se[2],h=se[3],v=se[4],O=se[9]=se[9]===n?P?0:i.length:Vt(se[9]-V,0),!O&&u&(N|R)&&(u&=-25),!u||u==T)var he=pF(i,u,l);else u==N||u==R?he=gF(i,u,O):(u==W||u==(T|W))&&!v.length?he=mF(i,u,l,h):he=Ff.apply(n,se);var Oe=Z?D1:yw;return vw(Oe(he,se),i,u)}function aw(i,u,l,h){return i===n||fo(i,Ta[l])&&!Je.call(h,l)?u:i}function uw(i,u,l,h,v,E){return St(i)&&St(u)&&(E.set(u,i),Pf(i,u,n,uw,E),E.delete(u)),i}function vF(i){return vc(i)?n:i}function cw(i,u,l,h,v,E){var C=l&b,O=i.length,P=u.length;if(O!=P&&!(C&&P>O))return!1;var V=E.get(i),H=E.get(u);if(V&&H)return V==u&&H==i;var Y=-1,Z=!0,se=l&x?new Ss:n;for(E.set(i,u),E.set(u,i);++Y<O;){var he=i[Y],Oe=u[Y];if(h)var pe=C?h(Oe,he,Y,u,i,E):h(he,Oe,Y,i,u,E);if(pe!==n){if(pe)continue;Z=!1;break}if(se){if(!Hg(u,function(Pe,Fe){if(!oc(se,Fe)&&(he===Pe||v(he,Pe,l,h,E)))return se.push(Fe)})){Z=!1;break}}else if(!(he===Oe||v(he,Oe,l,h,E))){Z=!1;break}}return E.delete(i),E.delete(u),Z}function _F(i,u,l,h,v,E,C){switch(l){case Di:if(i.byteLength!=u.byteLength||i.byteOffset!=u.byteOffset)return!1;i=i.buffer,u=u.buffer;case uo:return!(i.byteLength!=u.byteLength||!E(new Sf(i),new Sf(u)));case ei:case Qn:case ti:return fo(+i,+u);case Fi:return i.name==u.name&&i.message==u.message;case xo:case Q:return i==u+"";case cn:var O=Zg;case Dn:var P=h&b;if(O||(O=gf),i.size!=u.size&&!P)return!1;var V=C.get(i);if(V)return V==u;h|=x,C.set(i,u);var H=cw(O(i),O(u),h,v,E,C);return C.delete(i),H;case ge:if(cc)return cc.call(i)==cc.call(u)}return!1}function bF(i,u,l,h,v,E){var C=l&b,O=xm(i),P=O.length,V=xm(u),H=V.length;if(P!=H&&!C)return!1;for(var Y=P;Y--;){var Z=O[Y];if(!(C?Z in u:Je.call(u,Z)))return!1}var se=E.get(i),he=E.get(u);if(se&&he)return se==u&&he==i;var Oe=!0;E.set(i,u),E.set(u,i);for(var pe=C;++Y<P;){Z=O[Y];var Pe=i[Z],Fe=u[Z];if(h)var hr=C?h(Fe,Pe,Z,u,i,E):h(Pe,Fe,Z,i,u,E);if(!(hr===n?Pe===Fe||v(Pe,Fe,l,h,E):hr)){Oe=!1;break}pe||(pe=Z=="constructor")}if(Oe&&!pe){var zn=i.constructor,pr=u.constructor;zn!=pr&&"constructor"in i&&"constructor"in u&&!(typeof zn=="function"&&zn instanceof zn&&typeof pr=="function"&&pr instanceof pr)&&(Oe=!1)}return E.delete(i),E.delete(u),Oe}function si(i){return Rm(gw(i,n,xw),i+"")}function xm(i){return I1(i,Xt,Om)}function Cm(i){return I1(i,tr,lw)}var Tm=kf?function(i){return kf.get(i)}:Km;function Wf(i){for(var u=i.name+"",l=Oa[u],h=Je.call(Oa,u)?l.length:0;h--;){var v=l[h],E=v.func;if(E==null||E==i)return v.name}return u}function Ra(i){var u=Je.call(w,"placeholder")?w:i;return u.placeholder}function de(){var i=w.iteratee||zm;return i=i===zm?R1:i,arguments.length?i(arguments[0],arguments[1]):i}function Uf(i,u){var l=i.__data__;return OF(u)?l[typeof u=="string"?"string":"hash"]:l.map}function km(i){for(var u=Xt(i),l=u.length;l--;){var h=u[l],v=i[h];u[l]=[h,v,hw(v)]}return u}function xs(i,u){var l=$N(i,u);return $1(l)?l:n}function SF(i){var u=Je.call(i,_s),l=i[_s];try{i[_s]=n;var h=!0}catch{}var v=_f.call(i);return h&&(u?i[_s]=l:delete i[_s]),v}var Om=tm?function(i){return i==null?[]:(i=Ze(i),Wi(tm(i),function(u){return m1.call(i,u)}))}:Vm,lw=tm?function(i){for(var u=[];i;)Ui(u,Om(i)),i=wf(i);return u}:Vm,Tn=Wn;(nm&&Tn(new nm(new ArrayBuffer(1)))!=Di||sc&&Tn(new sc)!=cn||rm&&Tn(rm.resolve())!=Eo||ka&&Tn(new ka)!=Dn||ac&&Tn(new ac)!=xn)&&(Tn=function(i){var u=Wn(i),l=u==wn?i.constructor:n,h=l?Cs(l):"";if(h)switch(h){case rL:return Di;case oL:return cn;case iL:return Eo;case sL:return Dn;case aL:return xn}return u});function wF(i,u,l){for(var h=-1,v=l.length;++h<v;){var E=l[h],C=E.size;switch(E.type){case"drop":i+=C;break;case"dropRight":u-=C;break;case"take":u=Cn(u,i+C);break;case"takeRight":i=Vt(i,u-C);break}}return{start:i,end:u}}function EF(i){var u=i.match(I2);return u?u[1].split(A2):[]}function fw(i,u,l){u=Hi(u,i);for(var h=-1,v=u.length,E=!1;++h<v;){var C=ko(u[h]);if(!(E=i!=null&&l(i,C)))break;i=i[C]}return E||++h!=v?E:(v=i==null?0:i.length,!!v&&Jf(v)&&ai(C,v)&&(Ee(i)||Ts(i)))}function xF(i){var u=i.length,l=new i.constructor(u);return u&&typeof i[0]=="string"&&Je.call(i,"index")&&(l.index=i.index,l.input=i.input),l}function dw(i){return typeof i.constructor=="function"&&!mc(i)?Ia(wf(i)):{}}function CF(i,u,l){var h=i.constructor;switch(u){case uo:return Sm(i);case ei:case Qn:return new h(+i);case Di:return uF(i,l);case kg:case Og:case Ig:case Ag:case $g:case Rg:case Pg:case Mg:case Ng:return G1(i,l);case cn:return new h;case ti:case Q:return new h(i);case xo:return cF(i);case Dn:return new h;case ge:return lF(i)}}function TF(i,u){var l=u.length;if(!l)return i;var h=l-1;return u[h]=(l>1?"& ":"")+u[h],u=u.join(l>2?", ":" "),i.replace(O2,`{
/* [wrapped with `+u+`] */
`)}function kF(i){return Ee(i)||Ts(i)||!!(y1&&i&&i[y1])}function ai(i,u){var l=typeof i;return u=u??ce,!!u&&(l=="number"||l!="symbol"&&j2.test(i))&&i>-1&&i%1==0&&i<u}function Un(i,u,l){if(!St(l))return!1;var h=typeof u;return(h=="number"?er(l)&&ai(u,l.length):h=="string"&&u in l)?fo(l[u],i):!1}function Im(i,u){if(Ee(i))return!1;var l=typeof i;return l=="number"||l=="symbol"||l=="boolean"||i==null||dr(i)?!0:x2.test(i)||!E2.test(i)||u!=null&&i in Ze(u)}function OF(i){var u=typeof i;return u=="string"||u=="number"||u=="symbol"||u=="boolean"?i!=="__proto__":i===null}function Am(i){var u=Wf(i),l=w[u];if(typeof l!="function"||!(u in Ne.prototype))return!1;if(i===l)return!0;var h=Tm(l);return!!h&&i===h[0]}function IF(i){return!!h1&&h1 in i}var AF=yf?ui:Hm;function mc(i){var u=i&&i.constructor,l=typeof u=="function"&&u.prototype||Ta;return i===l}function hw(i){return i===i&&!St(i)}function pw(i,u){return function(l){return l==null?!1:l[i]===u&&(u!==n||i in Ze(l))}}function $F(i){var u=Hf(i,function(h){return l.size===d&&l.clear(),h}),l=u.cache;return u}function RF(i,u){var l=i[1],h=u[1],v=l|h,E=v<(T|k|A),C=h==A&&l==N||h==A&&l==U&&i[7].length<=u[8]||h==(A|U)&&u[7].length<=u[8]&&l==N;if(!(E||C))return i;h&T&&(i[2]=u[2],v|=l&T?0:L);var O=u[3];if(O){var P=i[3];i[3]=P?Y1(P,O,u[4]):O,i[4]=P?zi(i[3],p):u[4]}return O=u[5],O&&(P=i[5],i[5]=P?X1(P,O,u[6]):O,i[6]=P?zi(i[5],p):u[6]),O=u[7],O&&(i[7]=O),h&A&&(i[8]=i[8]==null?u[8]:Cn(i[8],u[8])),i[9]==null&&(i[9]=u[9]),i[0]=u[0],i[1]=v,i}function PF(i){var u=[];if(i!=null)for(var l in Ze(i))u.push(l);return u}function MF(i){return _f.call(i)}function gw(i,u,l){return u=Vt(u===n?i.length-1:u,0),function(){for(var h=arguments,v=-1,E=Vt(h.length-u,0),C=B(E);++v<E;)C[v]=h[u+v];v=-1;for(var O=B(u+1);++v<u;)O[v]=h[v];return O[u]=l(C),cr(i,this,O)}}function mw(i,u){return u.length<2?i:Es(i,Dr(u,0,-1))}function NF(i,u){for(var l=i.length,h=Cn(u.length,l),v=Zn(i);h--;){var E=u[h];i[h]=ai(E,l)?v[E]:n}return i}function $m(i,u){if(!(u==="constructor"&&typeof i[u]=="function")&&u!="__proto__")return i[u]}var yw=_w(D1),yc=YN||function(i,u){return ln.setTimeout(i,u)},Rm=_w(oF);function vw(i,u,l){var h=u+"";return Rm(i,TF(h,LF(EF(h),l)))}function _w(i){var u=0,l=0;return function(){var h=eL(),v=X-(h-l);if(l=h,v>0){if(++u>=D)return arguments[0]}else u=0;return i.apply(n,arguments)}}function zf(i,u){var l=-1,h=i.length,v=h-1;for(u=u===n?h:u;++l<u;){var E=pm(l,v),C=i[E];i[E]=i[l],i[l]=C}return i.length=u,i}var bw=$F(function(i){var u=[];return i.charCodeAt(0)===46&&u.push(""),i.replace(C2,function(l,h,v,E){u.push(v?E.replace(P2,"$1"):h||l)}),u});function ko(i){if(typeof i=="string"||dr(i))return i;var u=i+"";return u=="0"&&1/i==-1/0?"-0":u}function Cs(i){if(i!=null){try{return vf.call(i)}catch{}try{return i+""}catch{}}return""}function LF(i,u){return Lr(ec,function(l){var h="_."+l[0];u&l[1]&&!hf(i,h)&&i.push(h)}),i.sort()}function Sw(i){if(i instanceof Ne)return i.clone();var u=new Br(i.__wrapped__,i.__chain__);return u.__actions__=Zn(i.__actions__),u.__index__=i.__index__,u.__values__=i.__values__,u}function FF(i,u,l){(l?Un(i,u,l):u===n)?u=1:u=Vt(ke(u),0);var h=i==null?0:i.length;if(!h||u<1)return[];for(var v=0,E=0,C=B(Cf(h/u));v<h;)C[E++]=Dr(i,v,v+=u);return C}function BF(i){for(var u=-1,l=i==null?0:i.length,h=0,v=[];++u<l;){var E=i[u];E&&(v[h++]=E)}return v}function jF(){var i=arguments.length;if(!i)return[];for(var u=B(i-1),l=arguments[0],h=i;h--;)u[h-1]=arguments[h];return Ui(Ee(l)?Zn(l):[l],fn(u,1))}var DF=$e(function(i,u){return At(i)?fc(i,fn(u,1,At,!0)):[]}),WF=$e(function(i,u){var l=Wr(u);return At(l)&&(l=n),At(i)?fc(i,fn(u,1,At,!0),de(l,2)):[]}),UF=$e(function(i,u){var l=Wr(u);return At(l)&&(l=n),At(i)?fc(i,fn(u,1,At,!0),n,l):[]});function zF(i,u,l){var h=i==null?0:i.length;return h?(u=l||u===n?1:ke(u),Dr(i,u<0?0:u,h)):[]}function qF(i,u,l){var h=i==null?0:i.length;return h?(u=l||u===n?1:ke(u),u=h-u,Dr(i,0,u<0?0:u)):[]}function KF(i,u){return i&&i.length?Nf(i,de(u,3),!0,!0):[]}function VF(i,u){return i&&i.length?Nf(i,de(u,3),!0):[]}function HF(i,u,l,h){var v=i==null?0:i.length;return v?(l&&typeof l!="number"&&Un(i,u,l)&&(l=0,h=v),jL(i,u,l,h)):[]}function ww(i,u,l){var h=i==null?0:i.length;if(!h)return-1;var v=l==null?0:ke(l);return v<0&&(v=Vt(h+v,0)),pf(i,de(u,3),v)}function Ew(i,u,l){var h=i==null?0:i.length;if(!h)return-1;var v=h-1;return l!==n&&(v=ke(l),v=l<0?Vt(h+v,0):Cn(v,h-1)),pf(i,de(u,3),v,!0)}function xw(i){var u=i==null?0:i.length;return u?fn(i,1):[]}function GF(i){var u=i==null?0:i.length;return u?fn(i,ie):[]}function JF(i,u){var l=i==null?0:i.length;return l?(u=u===n?1:ke(u),fn(i,u)):[]}function YF(i){for(var u=-1,l=i==null?0:i.length,h={};++u<l;){var v=i[u];h[v[0]]=v[1]}return h}function Cw(i){return i&&i.length?i[0]:n}function XF(i,u,l){var h=i==null?0:i.length;if(!h)return-1;var v=l==null?0:ke(l);return v<0&&(v=Vt(h+v,0)),wa(i,u,v)}function QF(i){var u=i==null?0:i.length;return u?Dr(i,0,-1):[]}var ZF=$e(function(i){var u=mt(i,_m);return u.length&&u[0]===i[0]?cm(u):[]}),eB=$e(function(i){var u=Wr(i),l=mt(i,_m);return u===Wr(l)?u=n:l.pop(),l.length&&l[0]===i[0]?cm(l,de(u,2)):[]}),tB=$e(function(i){var u=Wr(i),l=mt(i,_m);return u=typeof u=="function"?u:n,u&&l.pop(),l.length&&l[0]===i[0]?cm(l,n,u):[]});function nB(i,u){return i==null?"":QN.call(i,u)}function Wr(i){var u=i==null?0:i.length;return u?i[u-1]:n}function rB(i,u,l){var h=i==null?0:i.length;if(!h)return-1;var v=h;return l!==n&&(v=ke(l),v=v<0?Vt(h+v,0):Cn(v,h-1)),u===u?LN(i,u,v):pf(i,i1,v,!0)}function oB(i,u){return i&&i.length?L1(i,ke(u)):n}var iB=$e(Tw);function Tw(i,u){return i&&i.length&&u&&u.length?hm(i,u):i}function sB(i,u,l){return i&&i.length&&u&&u.length?hm(i,u,de(l,2)):i}function aB(i,u,l){return i&&i.length&&u&&u.length?hm(i,u,n,l):i}var uB=si(function(i,u){var l=i==null?0:i.length,h=im(i,u);return j1(i,mt(u,function(v){return ai(v,l)?+v:v}).sort(J1)),h});function cB(i,u){var l=[];if(!(i&&i.length))return l;var h=-1,v=[],E=i.length;for(u=de(u,3);++h<E;){var C=i[h];u(C,h,i)&&(l.push(C),v.push(h))}return j1(i,v),l}function Pm(i){return i==null?i:nL.call(i)}function lB(i,u,l){var h=i==null?0:i.length;return h?(l&&typeof l!="number"&&Un(i,u,l)?(u=0,l=h):(u=u==null?0:ke(u),l=l===n?h:ke(l)),Dr(i,u,l)):[]}function fB(i,u){return Mf(i,u)}function dB(i,u,l){return mm(i,u,de(l,2))}function hB(i,u){var l=i==null?0:i.length;if(l){var h=Mf(i,u);if(h<l&&fo(i[h],u))return h}return-1}function pB(i,u){return Mf(i,u,!0)}function gB(i,u,l){return mm(i,u,de(l,2),!0)}function mB(i,u){var l=i==null?0:i.length;if(l){var h=Mf(i,u,!0)-1;if(fo(i[h],u))return h}return-1}function yB(i){return i&&i.length?W1(i):[]}function vB(i,u){return i&&i.length?W1(i,de(u,2)):[]}function _B(i){var u=i==null?0:i.length;return u?Dr(i,1,u):[]}function bB(i,u,l){return i&&i.length?(u=l||u===n?1:ke(u),Dr(i,0,u<0?0:u)):[]}function SB(i,u,l){var h=i==null?0:i.length;return h?(u=l||u===n?1:ke(u),u=h-u,Dr(i,u<0?0:u,h)):[]}function wB(i,u){return i&&i.length?Nf(i,de(u,3),!1,!0):[]}function EB(i,u){return i&&i.length?Nf(i,de(u,3)):[]}var xB=$e(function(i){return Vi(fn(i,1,At,!0))}),CB=$e(function(i){var u=Wr(i);return At(u)&&(u=n),Vi(fn(i,1,At,!0),de(u,2))}),TB=$e(function(i){var u=Wr(i);return u=typeof u=="function"?u:n,Vi(fn(i,1,At,!0),n,u)});function kB(i){return i&&i.length?Vi(i):[]}function OB(i,u){return i&&i.length?Vi(i,de(u,2)):[]}function IB(i,u){return u=typeof u=="function"?u:n,i&&i.length?Vi(i,n,u):[]}function Mm(i){if(!(i&&i.length))return[];var u=0;return i=Wi(i,function(l){if(At(l))return u=Vt(l.length,u),!0}),Xg(u,function(l){return mt(i,Gg(l))})}function kw(i,u){if(!(i&&i.length))return[];var l=Mm(i);return u==null?l:mt(l,function(h){return cr(u,n,h)})}var AB=$e(function(i,u){return At(i)?fc(i,u):[]}),$B=$e(function(i){return vm(Wi(i,At))}),RB=$e(function(i){var u=Wr(i);return At(u)&&(u=n),vm(Wi(i,At),de(u,2))}),PB=$e(function(i){var u=Wr(i);return u=typeof u=="function"?u:n,vm(Wi(i,At),n,u)}),MB=$e(Mm);function NB(i,u){return K1(i||[],u||[],lc)}function LB(i,u){return K1(i||[],u||[],pc)}var FB=$e(function(i){var u=i.length,l=u>1?i[u-1]:n;return l=typeof l=="function"?(i.pop(),l):n,kw(i,l)});function Ow(i){var u=w(i);return u.__chain__=!0,u}function BB(i,u){return u(i),i}function qf(i,u){return u(i)}var jB=si(function(i){var u=i.length,l=u?i[0]:0,h=this.__wrapped__,v=function(E){return im(E,i)};return u>1||this.__actions__.length||!(h instanceof Ne)||!ai(l)?this.thru(v):(h=h.slice(l,+l+(u?1:0)),h.__actions__.push({func:qf,args:[v],thisArg:n}),new Br(h,this.__chain__).thru(function(E){return u&&!E.length&&E.push(n),E}))});function DB(){return Ow(this)}function WB(){return new Br(this.value(),this.__chain__)}function UB(){this.__values__===n&&(this.__values__=Uw(this.value()));var i=this.__index__>=this.__values__.length,u=i?n:this.__values__[this.__index__++];return{done:i,value:u}}function zB(){return this}function qB(i){for(var u,l=this;l instanceof If;){var h=Sw(l);h.__index__=0,h.__values__=n,u?v.__wrapped__=h:u=h;var v=h;l=l.__wrapped__}return v.__wrapped__=i,u}function KB(){var i=this.__wrapped__;if(i instanceof Ne){var u=i;return this.__actions__.length&&(u=new Ne(this)),u=u.reverse(),u.__actions__.push({func:qf,args:[Pm],thisArg:n}),new Br(u,this.__chain__)}return this.thru(Pm)}function VB(){return q1(this.__wrapped__,this.__actions__)}var HB=Lf(function(i,u,l){Je.call(i,l)?++i[l]:oi(i,l,1)});function GB(i,u,l){var h=Ee(i)?r1:BL;return l&&Un(i,u,l)&&(u=n),h(i,de(u,3))}function JB(i,u){var l=Ee(i)?Wi:k1;return l(i,de(u,3))}var YB=tw(ww),XB=tw(Ew);function QB(i,u){return fn(Kf(i,u),1)}function ZB(i,u){return fn(Kf(i,u),ie)}function e5(i,u,l){return l=l===n?1:ke(l),fn(Kf(i,u),l)}function Iw(i,u){var l=Ee(i)?Lr:Ki;return l(i,de(u,3))}function Aw(i,u){var l=Ee(i)?_N:T1;return l(i,de(u,3))}var t5=Lf(function(i,u,l){Je.call(i,l)?i[l].push(u):oi(i,l,[u])});function n5(i,u,l,h){i=er(i)?i:Ma(i),l=l&&!h?ke(l):0;var v=i.length;return l<0&&(l=Vt(v+l,0)),Yf(i)?l<=v&&i.indexOf(u,l)>-1:!!v&&wa(i,u,l)>-1}var r5=$e(function(i,u,l){var h=-1,v=typeof u=="function",E=er(i)?B(i.length):[];return Ki(i,function(C){E[++h]=v?cr(u,C,l):dc(C,u,l)}),E}),o5=Lf(function(i,u,l){oi(i,l,u)});function Kf(i,u){var l=Ee(i)?mt:P1;return l(i,de(u,3))}function i5(i,u,l,h){return i==null?[]:(Ee(u)||(u=u==null?[]:[u]),l=h?n:l,Ee(l)||(l=l==null?[]:[l]),F1(i,u,l))}var s5=Lf(function(i,u,l){i[l?0:1].push(u)},function(){return[[],[]]});function a5(i,u,l){var h=Ee(i)?Vg:a1,v=arguments.length<3;return h(i,de(u,4),l,v,Ki)}function u5(i,u,l){var h=Ee(i)?bN:a1,v=arguments.length<3;return h(i,de(u,4),l,v,T1)}function c5(i,u){var l=Ee(i)?Wi:k1;return l(i,Gf(de(u,3)))}function l5(i){var u=Ee(i)?w1:nF;return u(i)}function f5(i,u,l){(l?Un(i,u,l):u===n)?u=1:u=ke(u);var h=Ee(i)?PL:rF;return h(i,u)}function d5(i){var u=Ee(i)?ML:iF;return u(i)}function h5(i){if(i==null)return 0;if(er(i))return Yf(i)?xa(i):i.length;var u=Tn(i);return u==cn||u==Dn?i.size:fm(i).length}function p5(i,u,l){var h=Ee(i)?Hg:sF;return l&&Un(i,u,l)&&(u=n),h(i,de(u,3))}var g5=$e(function(i,u){if(i==null)return[];var l=u.length;return l>1&&Un(i,u[0],u[1])?u=[]:l>2&&Un(u[0],u[1],u[2])&&(u=[u[0]]),F1(i,fn(u,1),[])}),Vf=JN||function(){return ln.Date.now()};function m5(i,u){if(typeof u!="function")throw new Fr(a);return i=ke(i),function(){if(--i<1)return u.apply(this,arguments)}}function $w(i,u,l){return u=l?n:u,u=i&&u==null?i.length:u,ii(i,A,n,n,n,n,u)}function Rw(i,u){var l;if(typeof u!="function")throw new Fr(a);return i=ke(i),function(){return--i>0&&(l=u.apply(this,arguments)),i<=1&&(u=n),l}}var Nm=$e(function(i,u,l){var h=T;if(l.length){var v=zi(l,Ra(Nm));h|=W}return ii(i,h,u,l,v)}),Pw=$e(function(i,u,l){var h=T|k;if(l.length){var v=zi(l,Ra(Pw));h|=W}return ii(u,h,i,l,v)});function Mw(i,u,l){u=l?n:u;var h=ii(i,N,n,n,n,n,n,u);return h.placeholder=Mw.placeholder,h}function Nw(i,u,l){u=l?n:u;var h=ii(i,R,n,n,n,n,n,u);return h.placeholder=Nw.placeholder,h}function Lw(i,u,l){var h,v,E,C,O,P,V=0,H=!1,Y=!1,Z=!0;if(typeof i!="function")throw new Fr(a);u=Ur(u)||0,St(l)&&(H=!!l.leading,Y="maxWait"in l,E=Y?Vt(Ur(l.maxWait)||0,u):E,Z="trailing"in l?!!l.trailing:Z);function se($t){var ho=h,li=v;return h=v=n,V=$t,C=i.apply(li,ho),C}function he($t){return V=$t,O=yc(Pe,u),H?se($t):C}function Oe($t){var ho=$t-P,li=$t-V,tE=u-ho;return Y?Cn(tE,E-li):tE}function pe($t){var ho=$t-P,li=$t-V;return P===n||ho>=u||ho<0||Y&&li>=E}function Pe(){var $t=Vf();if(pe($t))return Fe($t);O=yc(Pe,Oe($t))}function Fe($t){return O=n,Z&&h?se($t):(h=v=n,C)}function hr(){O!==n&&V1(O),V=0,h=P=v=O=n}function zn(){return O===n?C:Fe(Vf())}function pr(){var $t=Vf(),ho=pe($t);if(h=arguments,v=this,P=$t,ho){if(O===n)return he(P);if(Y)return V1(O),O=yc(Pe,u),se(P)}return O===n&&(O=yc(Pe,u)),C}return pr.cancel=hr,pr.flush=zn,pr}var y5=$e(function(i,u){return C1(i,1,u)}),v5=$e(function(i,u,l){return C1(i,Ur(u)||0,l)});function _5(i){return ii(i,K)}function Hf(i,u){if(typeof i!="function"||u!=null&&typeof u!="function")throw new Fr(a);var l=function(){var h=arguments,v=u?u.apply(this,h):h[0],E=l.cache;if(E.has(v))return E.get(v);var C=i.apply(this,h);return l.cache=E.set(v,C)||E,C};return l.cache=new(Hf.Cache||ri),l}Hf.Cache=ri;function Gf(i){if(typeof i!="function")throw new Fr(a);return function(){var u=arguments;switch(u.length){case 0:return!i.call(this);case 1:return!i.call(this,u[0]);case 2:return!i.call(this,u[0],u[1]);case 3:return!i.call(this,u[0],u[1],u[2])}return!i.apply(this,u)}}function b5(i){return Rw(2,i)}var S5=aF(function(i,u){u=u.length==1&&Ee(u[0])?mt(u[0],lr(de())):mt(fn(u,1),lr(de()));var l=u.length;return $e(function(h){for(var v=-1,E=Cn(h.length,l);++v<E;)h[v]=u[v].call(this,h[v]);return cr(i,this,h)})}),Lm=$e(function(i,u){var l=zi(u,Ra(Lm));return ii(i,W,n,u,l)}),Fw=$e(function(i,u){var l=zi(u,Ra(Fw));return ii(i,j,n,u,l)}),w5=si(function(i,u){return ii(i,U,n,n,n,u)});function E5(i,u){if(typeof i!="function")throw new Fr(a);return u=u===n?u:ke(u),$e(i,u)}function x5(i,u){if(typeof i!="function")throw new Fr(a);return u=u==null?0:Vt(ke(u),0),$e(function(l){var h=l[u],v=Gi(l,0,u);return h&&Ui(v,h),cr(i,this,v)})}function C5(i,u,l){var h=!0,v=!0;if(typeof i!="function")throw new Fr(a);return St(l)&&(h="leading"in l?!!l.leading:h,v="trailing"in l?!!l.trailing:v),Lw(i,u,{leading:h,maxWait:u,trailing:v})}function T5(i){return $w(i,1)}function k5(i,u){return Lm(bm(u),i)}function O5(){if(!arguments.length)return[];var i=arguments[0];return Ee(i)?i:[i]}function I5(i){return jr(i,y)}function A5(i,u){return u=typeof u=="function"?u:n,jr(i,y,u)}function $5(i){return jr(i,g|y)}function R5(i,u){return u=typeof u=="function"?u:n,jr(i,g|y,u)}function P5(i,u){return u==null||x1(i,u,Xt(u))}function fo(i,u){return i===u||i!==i&&u!==u}var M5=Df(um),N5=Df(function(i,u){return i>=u}),Ts=A1(function(){return arguments}())?A1:function(i){return xt(i)&&Je.call(i,"callee")&&!m1.call(i,"callee")},Ee=B.isArray,L5=XS?lr(XS):qL;function er(i){return i!=null&&Jf(i.length)&&!ui(i)}function At(i){return xt(i)&&er(i)}function F5(i){return i===!0||i===!1||xt(i)&&Wn(i)==ei}var Ji=XN||Hm,B5=QS?lr(QS):KL;function j5(i){return xt(i)&&i.nodeType===1&&!vc(i)}function D5(i){if(i==null)return!0;if(er(i)&&(Ee(i)||typeof i=="string"||typeof i.splice=="function"||Ji(i)||Pa(i)||Ts(i)))return!i.length;var u=Tn(i);if(u==cn||u==Dn)return!i.size;if(mc(i))return!fm(i).length;for(var l in i)if(Je.call(i,l))return!1;return!0}function W5(i,u){return hc(i,u)}function U5(i,u,l){l=typeof l=="function"?l:n;var h=l?l(i,u):n;return h===n?hc(i,u,n,l):!!h}function Fm(i){if(!xt(i))return!1;var u=Wn(i);return u==Fi||u==tc||typeof i.message=="string"&&typeof i.name=="string"&&!vc(i)}function z5(i){return typeof i=="number"&&v1(i)}function ui(i){if(!St(i))return!1;var u=Wn(i);return u==Bi||u==ba||u==ys||u==rc}function Bw(i){return typeof i=="number"&&i==ke(i)}function Jf(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=ce}function St(i){var u=typeof i;return i!=null&&(u=="object"||u=="function")}function xt(i){return i!=null&&typeof i=="object"}var jw=ZS?lr(ZS):HL;function q5(i,u){return i===u||lm(i,u,km(u))}function K5(i,u,l){return l=typeof l=="function"?l:n,lm(i,u,km(u),l)}function V5(i){return Dw(i)&&i!=+i}function H5(i){if(AF(i))throw new be(s);return $1(i)}function G5(i){return i===null}function J5(i){return i==null}function Dw(i){return typeof i=="number"||xt(i)&&Wn(i)==ti}function vc(i){if(!xt(i)||Wn(i)!=wn)return!1;var u=wf(i);if(u===null)return!0;var l=Je.call(u,"constructor")&&u.constructor;return typeof l=="function"&&l instanceof l&&vf.call(l)==KN}var Bm=e1?lr(e1):GL;function Y5(i){return Bw(i)&&i>=-9007199254740991&&i<=ce}var Ww=t1?lr(t1):JL;function Yf(i){return typeof i=="string"||!Ee(i)&&xt(i)&&Wn(i)==Q}function dr(i){return typeof i=="symbol"||xt(i)&&Wn(i)==ge}var Pa=n1?lr(n1):YL;function X5(i){return i===n}function Q5(i){return xt(i)&&Tn(i)==xn}function Z5(i){return xt(i)&&Wn(i)==ji}var ej=Df(dm),tj=Df(function(i,u){return i<=u});function Uw(i){if(!i)return[];if(er(i))return Yf(i)?co(i):Zn(i);if(ic&&i[ic])return PN(i[ic]());var u=Tn(i),l=u==cn?Zg:u==Dn?gf:Ma;return l(i)}function ci(i){if(!i)return i===0?i:0;if(i=Ur(i),i===ie||i===-1/0){var u=i<0?-1:1;return u*Le}return i===i?i:0}function ke(i){var u=ci(i),l=u%1;return u===u?l?u-l:u:0}function zw(i){return i?ws(ke(i),0,ct):0}function Ur(i){if(typeof i=="number")return i;if(dr(i))return un;if(St(i)){var u=typeof i.valueOf=="function"?i.valueOf():i;i=St(u)?u+"":u}if(typeof i!="string")return i===0?i:+i;i=u1(i);var l=L2.test(i);return l||B2.test(i)?mN(i.slice(2),l?2:8):N2.test(i)?un:+i}function qw(i){return To(i,tr(i))}function nj(i){return i?ws(ke(i),-9007199254740991,ce):i===0?i:0}function He(i){return i==null?"":fr(i)}var rj=Aa(function(i,u){if(mc(u)||er(u)){To(u,Xt(u),i);return}for(var l in u)Je.call(u,l)&&lc(i,l,u[l])}),Kw=Aa(function(i,u){To(u,tr(u),i)}),Xf=Aa(function(i,u,l,h){To(u,tr(u),i,h)}),oj=Aa(function(i,u,l,h){To(u,Xt(u),i,h)}),ij=si(im);function sj(i,u){var l=Ia(i);return u==null?l:E1(l,u)}var aj=$e(function(i,u){i=Ze(i);var l=-1,h=u.length,v=h>2?u[2]:n;for(v&&Un(u[0],u[1],v)&&(h=1);++l<h;)for(var E=u[l],C=tr(E),O=-1,P=C.length;++O<P;){var V=C[O],H=i[V];(H===n||fo(H,Ta[V])&&!Je.call(i,V))&&(i[V]=E[V])}return i}),uj=$e(function(i){return i.push(n,uw),cr(Vw,n,i)});function cj(i,u){return o1(i,de(u,3),Co)}function lj(i,u){return o1(i,de(u,3),am)}function fj(i,u){return i==null?i:sm(i,de(u,3),tr)}function dj(i,u){return i==null?i:O1(i,de(u,3),tr)}function hj(i,u){return i&&Co(i,de(u,3))}function pj(i,u){return i&&am(i,de(u,3))}function gj(i){return i==null?[]:Rf(i,Xt(i))}function mj(i){return i==null?[]:Rf(i,tr(i))}function jm(i,u,l){var h=i==null?n:Es(i,u);return h===n?l:h}function yj(i,u){return i!=null&&fw(i,u,DL)}function Dm(i,u){return i!=null&&fw(i,u,WL)}var vj=rw(function(i,u,l){u!=null&&typeof u.toString!="function"&&(u=_f.call(u)),i[u]=l},Um(nr)),_j=rw(function(i,u,l){u!=null&&typeof u.toString!="function"&&(u=_f.call(u)),Je.call(i,u)?i[u].push(l):i[u]=[l]},de),bj=$e(dc);function Xt(i){return er(i)?S1(i):fm(i)}function tr(i){return er(i)?S1(i,!0):XL(i)}function Sj(i,u){var l={};return u=de(u,3),Co(i,function(h,v,E){oi(l,u(h,v,E),h)}),l}function wj(i,u){var l={};return u=de(u,3),Co(i,function(h,v,E){oi(l,v,u(h,v,E))}),l}var Ej=Aa(function(i,u,l){Pf(i,u,l)}),Vw=Aa(function(i,u,l,h){Pf(i,u,l,h)}),xj=si(function(i,u){var l={};if(i==null)return l;var h=!1;u=mt(u,function(E){return E=Hi(E,i),h||(h=E.length>1),E}),To(i,Cm(i),l),h&&(l=jr(l,g|m|y,vF));for(var v=u.length;v--;)ym(l,u[v]);return l});function Cj(i,u){return Hw(i,Gf(de(u)))}var Tj=si(function(i,u){return i==null?{}:ZL(i,u)});function Hw(i,u){if(i==null)return{};var l=mt(Cm(i),function(h){return[h]});return u=de(u),B1(i,l,function(h,v){return u(h,v[0])})}function kj(i,u,l){u=Hi(u,i);var h=-1,v=u.length;for(v||(v=1,i=n);++h<v;){var E=i==null?n:i[ko(u[h])];E===n&&(h=v,E=l),i=ui(E)?E.call(i):E}return i}function Oj(i,u,l){return i==null?i:pc(i,u,l)}function Ij(i,u,l,h){return h=typeof h=="function"?h:n,i==null?i:pc(i,u,l,h)}var Gw=sw(Xt),Jw=sw(tr);function Aj(i,u,l){var h=Ee(i),v=h||Ji(i)||Pa(i);if(u=de(u,4),l==null){var E=i&&i.constructor;v?l=h?new E:[]:St(i)?l=ui(E)?Ia(wf(i)):{}:l={}}return(v?Lr:Co)(i,function(C,O,P){return u(l,C,O,P)}),l}function $j(i,u){return i==null?!0:ym(i,u)}function Rj(i,u,l){return i==null?i:z1(i,u,bm(l))}function Pj(i,u,l,h){return h=typeof h=="function"?h:n,i==null?i:z1(i,u,bm(l),h)}function Ma(i){return i==null?[]:Qg(i,Xt(i))}function Mj(i){return i==null?[]:Qg(i,tr(i))}function Nj(i,u,l){return l===n&&(l=u,u=n),l!==n&&(l=Ur(l),l=l===l?l:0),u!==n&&(u=Ur(u),u=u===u?u:0),ws(Ur(i),u,l)}function Lj(i,u,l){return u=ci(u),l===n?(l=u,u=0):l=ci(l),i=Ur(i),UL(i,u,l)}function Fj(i,u,l){if(l&&typeof l!="boolean"&&Un(i,u,l)&&(u=l=n),l===n&&(typeof u=="boolean"?(l=u,u=n):typeof i=="boolean"&&(l=i,i=n)),i===n&&u===n?(i=0,u=1):(i=ci(i),u===n?(u=i,i=0):u=ci(u)),i>u){var h=i;i=u,u=h}if(l||i%1||u%1){var v=_1();return Cn(i+v*(u-i+gN("1e-"+((v+"").length-1))),u)}return pm(i,u)}var Bj=$a(function(i,u,l){return u=u.toLowerCase(),i+(l?Yw(u):u)});function Yw(i){return Wm(He(i).toLowerCase())}function Xw(i){return i=He(i),i&&i.replace(D2,ON).replace(iN,"")}function jj(i,u,l){i=He(i),u=fr(u);var h=i.length;l=l===n?h:ws(ke(l),0,h);var v=l;return l-=u.length,l>=0&&i.slice(l,v)==u}function Dj(i){return i=He(i),i&&b2.test(i)?i.replace(OS,IN):i}function Wj(i){return i=He(i),i&&T2.test(i)?i.replace(Lg,"\\$&"):i}var Uj=$a(function(i,u,l){return i+(l?"-":"")+u.toLowerCase()}),zj=$a(function(i,u,l){return i+(l?" ":"")+u.toLowerCase()}),qj=ew("toLowerCase");function Kj(i,u,l){i=He(i),u=ke(u);var h=u?xa(i):0;if(!u||h>=u)return i;var v=(u-h)/2;return jf(Tf(v),l)+i+jf(Cf(v),l)}function Vj(i,u,l){i=He(i),u=ke(u);var h=u?xa(i):0;return u&&h<u?i+jf(u-h,l):i}function Hj(i,u,l){i=He(i),u=ke(u);var h=u?xa(i):0;return u&&h<u?jf(u-h,l)+i:i}function Gj(i,u,l){return l||u==null?u=0:u&&(u=+u),tL(He(i).replace(Fg,""),u||0)}function Jj(i,u,l){return(l?Un(i,u,l):u===n)?u=1:u=ke(u),gm(He(i),u)}function Yj(){var i=arguments,u=He(i[0]);return i.length<3?u:u.replace(i[1],i[2])}var Xj=$a(function(i,u,l){return i+(l?"_":"")+u.toLowerCase()});function Qj(i,u,l){return l&&typeof l!="number"&&Un(i,u,l)&&(u=l=n),l=l===n?ct:l>>>0,l?(i=He(i),i&&(typeof u=="string"||u!=null&&!Bm(u))&&(u=fr(u),!u&&Ea(i))?Gi(co(i),0,l):i.split(u,l)):[]}var Zj=$a(function(i,u,l){return i+(l?" ":"")+Wm(u)});function e3(i,u,l){return i=He(i),l=l==null?0:ws(ke(l),0,i.length),u=fr(u),i.slice(l,l+u.length)==u}function t3(i,u,l){var h=w.templateSettings;l&&Un(i,u,l)&&(u=n),i=He(i),u=Xf({},u,h,aw);var v=Xf({},u.imports,h.imports,aw),E=Xt(v),C=Qg(v,E),O,P,V=0,H=u.interpolate||lf,Y="__p += '",Z=em((u.escape||lf).source+"|"+H.source+"|"+(H===IS?M2:lf).source+"|"+(u.evaluate||lf).source+"|$","g"),se="//# sourceURL="+(Je.call(u,"sourceURL")?(u.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++lN+"]")+`
`;i.replace(Z,function(pe,Pe,Fe,hr,zn,pr){return Fe||(Fe=hr),Y+=i.slice(V,pr).replace(W2,AN),Pe&&(O=!0,Y+=`' +
__e(`+Pe+`) +
'`),zn&&(P=!0,Y+=`';
`+zn+`;
__p += '`),Fe&&(Y+=`' +
((__t = (`+Fe+`)) == null ? '' : __t) +
'`),V=pr+pe.length,pe}),Y+=`';
`;var he=Je.call(u,"variable")&&u.variable;if(!he)Y=`with (obj) {
`+Y+`
}
`;else if(R2.test(he))throw new be(c);Y=(P?Y.replace(m2,""):Y).replace(y2,"$1").replace(v2,"$1;"),Y="function("+(he||"obj")+`) {
`+(he?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(O?", __e = _.escape":"")+(P?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Y+`return __p
}`;var Oe=Zw(function(){return ze(E,se+"return "+Y).apply(n,C)});if(Oe.source=Y,Fm(Oe))throw Oe;return Oe}function n3(i){return He(i).toLowerCase()}function r3(i){return He(i).toUpperCase()}function o3(i,u,l){if(i=He(i),i&&(l||u===n))return u1(i);if(!i||!(u=fr(u)))return i;var h=co(i),v=co(u),E=c1(h,v),C=l1(h,v)+1;return Gi(h,E,C).join("")}function i3(i,u,l){if(i=He(i),i&&(l||u===n))return i.slice(0,d1(i)+1);if(!i||!(u=fr(u)))return i;var h=co(i),v=l1(h,co(u))+1;return Gi(h,0,v).join("")}function s3(i,u,l){if(i=He(i),i&&(l||u===n))return i.replace(Fg,"");if(!i||!(u=fr(u)))return i;var h=co(i),v=c1(h,co(u));return Gi(h,v).join("")}function a3(i,u){var l=S,h=M;if(St(u)){var v="separator"in u?u.separator:v;l="length"in u?ke(u.length):l,h="omission"in u?fr(u.omission):h}i=He(i);var E=i.length;if(Ea(i)){var C=co(i);E=C.length}if(l>=E)return i;var O=l-xa(h);if(O<1)return h;var P=C?Gi(C,0,O).join(""):i.slice(0,O);if(v===n)return P+h;if(C&&(O+=P.length-O),Bm(v)){if(i.slice(O).search(v)){var V,H=P;for(v.global||(v=em(v.source,He(AS.exec(v))+"g")),v.lastIndex=0;V=v.exec(H);)var Y=V.index;P=P.slice(0,Y===n?O:Y)}}else if(i.indexOf(fr(v),O)!=O){var Z=P.lastIndexOf(v);Z>-1&&(P=P.slice(0,Z))}return P+h}function u3(i){return i=He(i),i&&_2.test(i)?i.replace(kS,FN):i}var c3=$a(function(i,u,l){return i+(l?" ":"")+u.toUpperCase()}),Wm=ew("toUpperCase");function Qw(i,u,l){return i=He(i),u=l?n:u,u===n?RN(i)?DN(i):EN(i):i.match(u)||[]}var Zw=$e(function(i,u){try{return cr(i,n,u)}catch(l){return Fm(l)?l:new be(l)}}),l3=si(function(i,u){return Lr(u,function(l){l=ko(l),oi(i,l,Nm(i[l],i))}),i});function f3(i){var u=i==null?0:i.length,l=de();return i=u?mt(i,function(h){if(typeof h[1]!="function")throw new Fr(a);return[l(h[0]),h[1]]}):[],$e(function(h){for(var v=-1;++v<u;){var E=i[v];if(cr(E[0],this,h))return cr(E[1],this,h)}})}function d3(i){return FL(jr(i,g))}function Um(i){return function(){return i}}function h3(i,u){return i==null||i!==i?u:i}var p3=nw(),g3=nw(!0);function nr(i){return i}function zm(i){return R1(typeof i=="function"?i:jr(i,g))}function m3(i){return M1(jr(i,g))}function y3(i,u){return N1(i,jr(u,g))}var v3=$e(function(i,u){return function(l){return dc(l,i,u)}}),_3=$e(function(i,u){return function(l){return dc(i,l,u)}});function qm(i,u,l){var h=Xt(u),v=Rf(u,h);l==null&&!(St(u)&&(v.length||!h.length))&&(l=u,u=i,i=this,v=Rf(u,Xt(u)));var E=!(St(l)&&"chain"in l)||!!l.chain,C=ui(i);return Lr(v,function(O){var P=u[O];i[O]=P,C&&(i.prototype[O]=function(){var V=this.__chain__;if(E||V){var H=i(this.__wrapped__),Y=H.__actions__=Zn(this.__actions__);return Y.push({func:P,args:arguments,thisArg:i}),H.__chain__=V,H}return P.apply(i,Ui([this.value()],arguments))})}),i}function b3(){return ln._===this&&(ln._=VN),this}function Km(){}function S3(i){return i=ke(i),$e(function(u){return L1(u,i)})}var w3=wm(mt),E3=wm(r1),x3=wm(Hg);function eE(i){return Im(i)?Gg(ko(i)):eF(i)}function C3(i){return function(u){return i==null?n:Es(i,u)}}var T3=ow(),k3=ow(!0);function Vm(){return[]}function Hm(){return!1}function O3(){return{}}function I3(){return""}function A3(){return!0}function $3(i,u){if(i=ke(i),i<1||i>ce)return[];var l=ct,h=Cn(i,ct);u=de(u),i-=ct;for(var v=Xg(h,u);++l<i;)u(l);return v}function R3(i){return Ee(i)?mt(i,ko):dr(i)?[i]:Zn(bw(He(i)))}function P3(i){var u=++qN;return He(i)+u}var M3=Bf(function(i,u){return i+u},0),N3=Em("ceil"),L3=Bf(function(i,u){return i/u},1),F3=Em("floor");function B3(i){return i&&i.length?$f(i,nr,um):n}function j3(i,u){return i&&i.length?$f(i,de(u,2),um):n}function D3(i){return s1(i,nr)}function W3(i,u){return s1(i,de(u,2))}function U3(i){return i&&i.length?$f(i,nr,dm):n}function z3(i,u){return i&&i.length?$f(i,de(u,2),dm):n}var q3=Bf(function(i,u){return i*u},1),K3=Em("round"),V3=Bf(function(i,u){return i-u},0);function H3(i){return i&&i.length?Yg(i,nr):0}function G3(i,u){return i&&i.length?Yg(i,de(u,2)):0}return w.after=m5,w.ary=$w,w.assign=rj,w.assignIn=Kw,w.assignInWith=Xf,w.assignWith=oj,w.at=ij,w.before=Rw,w.bind=Nm,w.bindAll=l3,w.bindKey=Pw,w.castArray=O5,w.chain=Ow,w.chunk=FF,w.compact=BF,w.concat=jF,w.cond=f3,w.conforms=d3,w.constant=Um,w.countBy=HB,w.create=sj,w.curry=Mw,w.curryRight=Nw,w.debounce=Lw,w.defaults=aj,w.defaultsDeep=uj,w.defer=y5,w.delay=v5,w.difference=DF,w.differenceBy=WF,w.differenceWith=UF,w.drop=zF,w.dropRight=qF,w.dropRightWhile=KF,w.dropWhile=VF,w.fill=HF,w.filter=JB,w.flatMap=QB,w.flatMapDeep=ZB,w.flatMapDepth=e5,w.flatten=xw,w.flattenDeep=GF,w.flattenDepth=JF,w.flip=_5,w.flow=p3,w.flowRight=g3,w.fromPairs=YF,w.functions=gj,w.functionsIn=mj,w.groupBy=t5,w.initial=QF,w.intersection=ZF,w.intersectionBy=eB,w.intersectionWith=tB,w.invert=vj,w.invertBy=_j,w.invokeMap=r5,w.iteratee=zm,w.keyBy=o5,w.keys=Xt,w.keysIn=tr,w.map=Kf,w.mapKeys=Sj,w.mapValues=wj,w.matches=m3,w.matchesProperty=y3,w.memoize=Hf,w.merge=Ej,w.mergeWith=Vw,w.method=v3,w.methodOf=_3,w.mixin=qm,w.negate=Gf,w.nthArg=S3,w.omit=xj,w.omitBy=Cj,w.once=b5,w.orderBy=i5,w.over=w3,w.overArgs=S5,w.overEvery=E3,w.overSome=x3,w.partial=Lm,w.partialRight=Fw,w.partition=s5,w.pick=Tj,w.pickBy=Hw,w.property=eE,w.propertyOf=C3,w.pull=iB,w.pullAll=Tw,w.pullAllBy=sB,w.pullAllWith=aB,w.pullAt=uB,w.range=T3,w.rangeRight=k3,w.rearg=w5,w.reject=c5,w.remove=cB,w.rest=E5,w.reverse=Pm,w.sampleSize=f5,w.set=Oj,w.setWith=Ij,w.shuffle=d5,w.slice=lB,w.sortBy=g5,w.sortedUniq=yB,w.sortedUniqBy=vB,w.split=Qj,w.spread=x5,w.tail=_B,w.take=bB,w.takeRight=SB,w.takeRightWhile=wB,w.takeWhile=EB,w.tap=BB,w.throttle=C5,w.thru=qf,w.toArray=Uw,w.toPairs=Gw,w.toPairsIn=Jw,w.toPath=R3,w.toPlainObject=qw,w.transform=Aj,w.unary=T5,w.union=xB,w.unionBy=CB,w.unionWith=TB,w.uniq=kB,w.uniqBy=OB,w.uniqWith=IB,w.unset=$j,w.unzip=Mm,w.unzipWith=kw,w.update=Rj,w.updateWith=Pj,w.values=Ma,w.valuesIn=Mj,w.without=AB,w.words=Qw,w.wrap=k5,w.xor=$B,w.xorBy=RB,w.xorWith=PB,w.zip=MB,w.zipObject=NB,w.zipObjectDeep=LB,w.zipWith=FB,w.entries=Gw,w.entriesIn=Jw,w.extend=Kw,w.extendWith=Xf,qm(w,w),w.add=M3,w.attempt=Zw,w.camelCase=Bj,w.capitalize=Yw,w.ceil=N3,w.clamp=Nj,w.clone=I5,w.cloneDeep=$5,w.cloneDeepWith=R5,w.cloneWith=A5,w.conformsTo=P5,w.deburr=Xw,w.defaultTo=h3,w.divide=L3,w.endsWith=jj,w.eq=fo,w.escape=Dj,w.escapeRegExp=Wj,w.every=GB,w.find=YB,w.findIndex=ww,w.findKey=cj,w.findLast=XB,w.findLastIndex=Ew,w.findLastKey=lj,w.floor=F3,w.forEach=Iw,w.forEachRight=Aw,w.forIn=fj,w.forInRight=dj,w.forOwn=hj,w.forOwnRight=pj,w.get=jm,w.gt=M5,w.gte=N5,w.has=yj,w.hasIn=Dm,w.head=Cw,w.identity=nr,w.includes=n5,w.indexOf=XF,w.inRange=Lj,w.invoke=bj,w.isArguments=Ts,w.isArray=Ee,w.isArrayBuffer=L5,w.isArrayLike=er,w.isArrayLikeObject=At,w.isBoolean=F5,w.isBuffer=Ji,w.isDate=B5,w.isElement=j5,w.isEmpty=D5,w.isEqual=W5,w.isEqualWith=U5,w.isError=Fm,w.isFinite=z5,w.isFunction=ui,w.isInteger=Bw,w.isLength=Jf,w.isMap=jw,w.isMatch=q5,w.isMatchWith=K5,w.isNaN=V5,w.isNative=H5,w.isNil=J5,w.isNull=G5,w.isNumber=Dw,w.isObject=St,w.isObjectLike=xt,w.isPlainObject=vc,w.isRegExp=Bm,w.isSafeInteger=Y5,w.isSet=Ww,w.isString=Yf,w.isSymbol=dr,w.isTypedArray=Pa,w.isUndefined=X5,w.isWeakMap=Q5,w.isWeakSet=Z5,w.join=nB,w.kebabCase=Uj,w.last=Wr,w.lastIndexOf=rB,w.lowerCase=zj,w.lowerFirst=qj,w.lt=ej,w.lte=tj,w.max=B3,w.maxBy=j3,w.mean=D3,w.meanBy=W3,w.min=U3,w.minBy=z3,w.stubArray=Vm,w.stubFalse=Hm,w.stubObject=O3,w.stubString=I3,w.stubTrue=A3,w.multiply=q3,w.nth=oB,w.noConflict=b3,w.noop=Km,w.now=Vf,w.pad=Kj,w.padEnd=Vj,w.padStart=Hj,w.parseInt=Gj,w.random=Fj,w.reduce=a5,w.reduceRight=u5,w.repeat=Jj,w.replace=Yj,w.result=kj,w.round=K3,w.runInContext=$,w.sample=l5,w.size=h5,w.snakeCase=Xj,w.some=p5,w.sortedIndex=fB,w.sortedIndexBy=dB,w.sortedIndexOf=hB,w.sortedLastIndex=pB,w.sortedLastIndexBy=gB,w.sortedLastIndexOf=mB,w.startCase=Zj,w.startsWith=e3,w.subtract=V3,w.sum=H3,w.sumBy=G3,w.template=t3,w.times=$3,w.toFinite=ci,w.toInteger=ke,w.toLength=zw,w.toLower=n3,w.toNumber=Ur,w.toSafeInteger=nj,w.toString=He,w.toUpper=r3,w.trim=o3,w.trimEnd=i3,w.trimStart=s3,w.truncate=a3,w.unescape=u3,w.uniqueId=P3,w.upperCase=c3,w.upperFirst=Wm,w.each=Iw,w.eachRight=Aw,w.first=Cw,qm(w,function(){var i={};return Co(w,function(u,l){Je.call(w.prototype,l)||(i[l]=u)}),i}(),{chain:!1}),w.VERSION=r,Lr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(i){w[i].placeholder=w}),Lr(["drop","take"],function(i,u){Ne.prototype[i]=function(l){l=l===n?1:Vt(ke(l),0);var h=this.__filtered__&&!u?new Ne(this):this.clone();return h.__filtered__?h.__takeCount__=Cn(l,h.__takeCount__):h.__views__.push({size:Cn(l,ct),type:i+(h.__dir__<0?"Right":"")}),h},Ne.prototype[i+"Right"]=function(l){return this.reverse()[i](l).reverse()}}),Lr(["filter","map","takeWhile"],function(i,u){var l=u+1,h=l==re||l==me;Ne.prototype[i]=function(v){var E=this.clone();return E.__iteratees__.push({iteratee:de(v,3),type:l}),E.__filtered__=E.__filtered__||h,E}}),Lr(["head","last"],function(i,u){var l="take"+(u?"Right":"");Ne.prototype[i]=function(){return this[l](1).value()[0]}}),Lr(["initial","tail"],function(i,u){var l="drop"+(u?"":"Right");Ne.prototype[i]=function(){return this.__filtered__?new Ne(this):this[l](1)}}),Ne.prototype.compact=function(){return this.filter(nr)},Ne.prototype.find=function(i){return this.filter(i).head()},Ne.prototype.findLast=function(i){return this.reverse().find(i)},Ne.prototype.invokeMap=$e(function(i,u){return typeof i=="function"?new Ne(this):this.map(function(l){return dc(l,i,u)})}),Ne.prototype.reject=function(i){return this.filter(Gf(de(i)))},Ne.prototype.slice=function(i,u){i=ke(i);var l=this;return l.__filtered__&&(i>0||u<0)?new Ne(l):(i<0?l=l.takeRight(-i):i&&(l=l.drop(i)),u!==n&&(u=ke(u),l=u<0?l.dropRight(-u):l.take(u-i)),l)},Ne.prototype.takeRightWhile=function(i){return this.reverse().takeWhile(i).reverse()},Ne.prototype.toArray=function(){return this.take(ct)},Co(Ne.prototype,function(i,u){var l=/^(?:filter|find|map|reject)|While$/.test(u),h=/^(?:head|last)$/.test(u),v=w[h?"take"+(u=="last"?"Right":""):u],E=h||/^find/.test(u);v&&(w.prototype[u]=function(){var C=this.__wrapped__,O=h?[1]:arguments,P=C instanceof Ne,V=O[0],H=P||Ee(C),Y=function(Pe){var Fe=v.apply(w,Ui([Pe],O));return h&&Z?Fe[0]:Fe};H&&l&&typeof V=="function"&&V.length!=1&&(P=H=!1);var Z=this.__chain__,se=!!this.__actions__.length,he=E&&!Z,Oe=P&&!se;if(!E&&H){C=Oe?C:new Ne(this);var pe=i.apply(C,O);return pe.__actions__.push({func:qf,args:[Y],thisArg:n}),new Br(pe,Z)}return he&&Oe?i.apply(this,O):(pe=this.thru(Y),he?h?pe.value()[0]:pe.value():pe)})}),Lr(["pop","push","shift","sort","splice","unshift"],function(i){var u=mf[i],l=/^(?:push|sort|unshift)$/.test(i)?"tap":"thru",h=/^(?:pop|shift)$/.test(i);w.prototype[i]=function(){var v=arguments;if(h&&!this.__chain__){var E=this.value();return u.apply(Ee(E)?E:[],v)}return this[l](function(C){return u.apply(Ee(C)?C:[],v)})}}),Co(Ne.prototype,function(i,u){var l=w[u];if(l){var h=l.name+"";Je.call(Oa,h)||(Oa[h]=[]),Oa[h].push({name:u,func:l})}}),Oa[Ff(n,k).name]=[{name:"wrapper",func:n}],Ne.prototype.clone=uL,Ne.prototype.reverse=cL,Ne.prototype.value=lL,w.prototype.at=jB,w.prototype.chain=DB,w.prototype.commit=WB,w.prototype.next=UB,w.prototype.plant=qB,w.prototype.reverse=KB,w.prototype.toJSON=w.prototype.valueOf=w.prototype.value=VB,w.prototype.first=w.prototype.head,ic&&(w.prototype[ic]=zB),w},Ca=WN();vs?((vs.exports=Ca)._=Ca,zg._=Ca):ln._=Ca}).call(_c)})(Jd,Jd.exports);var fD=Jd.exports,te=Ik(fD);const dD=1,By=2,hD={INIT_ACK:{statusByte:2,parse:e=>({type:"init-ack",projectName:e[0]})},INIT:{statusByte:3,parse:e=>({type:"init-project",messageCount:te.toNumber(e[0])})},DONE:{statusByte:4,parse:e=>({type:"init-done"})},TRACK:{statusByte:5,parse:e=>({type:"init-track",name:e[0],trackIndex:te.toNumber(e[1]),color:te.toNumber(e[2])})},CLIP:{statusByte:6,parse:e=>({type:"init-clip",name:e[0],trackIndex:te.toNumber(e[1]),clipIndex:te.toNumber(e[2]),color:te.toNumber(e[3]),startTime:te.toNumber(e[4]),endTime:te.toNumber(e[5])})},BEAT:{statusByte:7,parse:e=>({type:"beat",value:te.toNumber(e[0])})},BAR_BEAT:{statusByte:8,parse:e=>({type:"bar-beat",value:te.toNumber(e[0])})},SIG:{statusByte:9,parse:e=>({type:"sig",numer:te.toNumber(e[0]),denom:te.toNumber(e[1])})},TEMPO:{statusByte:10,parse:e=>({type:"tempo",value:te.toNumber(e[0])})},IS_PLAYING:{statusByte:11,parse:e=>({type:"is-playing",value:te.toNumber(e[0])===1})},CUE:{statusByte:12,parse:e=>({type:"init-cue",id:te.toNumber(e[0]),name:e[1],time:te.toNumber(e[2]),index:te.toNumber(e[3])})},METRONOME_STATE:{statusByte:13,parse:e=>({type:"metronome-state",value:te.toNumber(e[0])===1})},LOOP_STATE:{statusByte:14,parse:e=>({type:"loop-state",value:te.toNumber(e[0])===1})},TICK:{statusByte:15,parse:e=>({type:"tick",tick:te.toNumber(e[0])})}},pD=te.fromPairs(te.map(hD,e=>[e.statusByte,e])),gD=e=>{const t=te.join(te.map(e,r=>String.fromCharCode(r)),""),n=te.split(t,String.fromCharCode(dD));return[te.toNumber(n[0]),n.splice(1)]},mD=e=>{try{if(e.manufacturer===By){const[t,n]=gD(e.body),r=pD[t];if(r!==void 0)return r.parse(n);console.warn("Did not find parser for message",e)}}catch(t){console.error("Got error parsing message",t)}},lE=e=>{const t=[];return te.forEach(e,(n,r)=>{t.push(e.charCodeAt(r))}),t},gn={base:(e,t)=>({type:"sysex",manufacturer:By,body:[e,...lE(t.toString())]}),baseJSON:(e,t)=>({type:"sysex",manufacturer:By,body:[e,...lE(JSON.stringify(t))]}),init:()=>gn.base(64,1),initReady:e=>gn.baseJSON(65,{tracks:e}),play:()=>gn.base(80,1),stop:()=>gn.base(81,1),jumpToCue:e=>gn.base(82,e),jumpBy:e=>gn.base(84,e),record:()=>gn.base(85,1),metronome:e=>gn.base(86,e?1:0),loop:e=>gn.base(87,e?1:0)},yD=e=>typeof e=="function",I=function(e,t){if(typeof e=="function")return function(){return e(arguments)?t.apply(this,arguments):n=>t(n,...arguments)};switch(e){case 0:case 1:throw new RangeError(`Invalid arity ${e}`);case 2:return function(n,r){return arguments.length>=2?t(n,r):function(o){return t(o,n)}};case 3:return function(n,r,o){return arguments.length>=3?t(n,r,o):function(s){return t(s,n,r)}};case 4:return function(n,r,o,s){return arguments.length>=4?t(n,r,o,s):function(a){return t(a,n,r,o)}};case 5:return function(n,r,o,s,a){return arguments.length>=5?t(n,r,o,s,a):function(c){return t(c,n,r,o,s)}};default:return function(){if(arguments.length>=e)return t.apply(this,arguments);const n=arguments;return function(r){return t(r,...n)}}}},Pt=e=>e,Jh=e=>()=>e,fE=Jh(!0),jy=Jh(!1),Dk=Jh(void 0),vD=Dk;function F(e,t,n,r,o,s,a,c,f){switch(arguments.length){case 1:return e;case 2:return t(e);case 3:return n(t(e));case 4:return r(n(t(e)));case 5:return o(r(n(t(e))));case 6:return s(o(r(n(t(e)))));case 7:return a(s(o(r(n(t(e))))));case 8:return c(a(s(o(r(n(t(e)))))));case 9:return f(c(a(s(o(r(n(t(e))))))));default:{let d=arguments[0];for(let p=1;p<arguments.length;p++)d=arguments[p](d);return d}}}const Yh=e=>(t,n)=>t===n||e(t,n),_D=I(2,(e,t)=>Yh((n,r)=>e(t(n),t(r)))),bD=e=>Yh((t,n)=>{if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(!e(t[r],n[r]))return!1;return!0});let SD="3.13.12";const Xh=()=>SD,Qf=`effect/GlobalValue/globalStoreId/${Xh()}`;let bc;const De=(e,t)=>(bc||(globalThis[Qf]??(globalThis[Qf]=new Map),bc=globalThis[Qf]),bc.has(e)||bc.set(e,t()),bc.get(e)),Vo=e=>typeof e=="string",Vs=e=>typeof e=="number",c_=e=>typeof e=="boolean",Qh=e=>typeof e=="bigint",Dy=e=>typeof e=="symbol",Ou=yD,wD=e=>e===void 0,ED=e=>!1,l_=e=>typeof e=="object"&&e!==null,hs=e=>l_(e)||Ou(e),Ce=I(2,(e,t)=>hs(e)&&t in e),f_=I(2,(e,t)=>Ce(e,"_tag")&&e._tag===t),Na=e=>e==null,xD=e=>e!=null,CD=e=>e instanceof Date,Wk=e=>Ce(e,Symbol.iterator),TD=e=>l_(e)&&!Array.isArray(e),kD=e=>Ce(e,"then")&&Ou(e.then),Zh=e=>`BUG: ${e} - please report an issue at https://github.com/Effect-TS/effect/issues`;let Uk=class zk{constructor(t){_(this,"self");_(this,"called",!1);this.self=t}next(t){return this.called?{value:t,done:!0}:(this.called=!0,{value:this.self,done:!1})}return(t){return{value:t,done:!0}}throw(t){throw t}[Symbol.iterator](){return new zk(this.self)}};const OD=335903614,ID=4150755663,AD=1481765933,$D=1284865837,RD=9007199254740992,PD=134217728;class MD{constructor(t,n,r,o){_(this,"_state");return Na(n)&&Na(t)?(n=Math.random()*4294967295>>>0,t=0):Na(n)&&(n=t,t=0),Na(o)&&Na(r)?(o=this._state?this._state[3]:ID,r=this._state?this._state[2]:OD):Na(o)&&(o=r,r=0),this._state=new Int32Array([0,0,r>>>0,((o||0)|1)>>>0]),this._next(),dE(this._state,this._state[0],this._state[1],t>>>0,n>>>0),this._next(),this}getState(){return[this._state[0],this._state[1],this._state[2],this._state[3]]}setState(t){this._state[0]=t[0],this._state[1]=t[1],this._state[2]=t[2],this._state[3]=t[3]|1}integer(t){return Math.round(this.number()*Number.MAX_SAFE_INTEGER)%t}number(){const t=(this._next()&67108863)*1,n=(this._next()&134217727)*1;return(t*PD+n)/RD}_next(){const t=this._state[0]>>>0,n=this._state[1]>>>0;ND(this._state,t,n,AD,$D),dE(this._state,this._state[0],this._state[1],this._state[2],this._state[3]);let r=t>>>18,o=(n>>>18|t<<14)>>>0;r=(r^t)>>>0,o=(o^n)>>>0;const s=(o>>>27|r<<5)>>>0,a=t>>>27,c=(-a>>>0&31)>>>0;return(s>>>a|s<<c)>>>0}}function ND(e,t,n,r,o){let s=(n>>>16)*(o&65535)>>>0,a=(n&65535)*(o>>>16)>>>0,c=(n&65535)*(o&65535)>>>0,f=(n>>>16)*(o>>>16)+((a>>>16)+(s>>>16))>>>0;a=a<<16>>>0,c=c+a>>>0,c>>>0<a>>>0&&(f=f+1>>>0),s=s<<16>>>0,c=c+s>>>0,c>>>0<s>>>0&&(f=f+1>>>0),f=f+Math.imul(n,r)>>>0,f=f+Math.imul(t,o)>>>0,e[0]=f,e[1]=c}function dE(e,t,n,r,o){let s=t+r>>>0;const a=n+o>>>0;a>>>0<n>>>0&&(s=s+1|0),e[0]=s,e[1]=a}const Wy=Symbol.for("effect/Utils/YieldWrap");var Cl;class Tl{constructor(t){iE(this,Cl);sE(this,Cl,t)}[Wy](){return oE(this,Cl)}}Cl=new WeakMap;function LD(e){if(typeof e=="object"&&e!==null&&Wy in e)return e[Wy]();throw new Error(Zh("yieldWrapGet"))}const Kr=De("effect/Utils/isStructuralRegion",()=>({enabled:!1,tester:void 0})),FD=e=>{const t={[e](n){return n()}};return function(n){return t[e](n)}},Kn=FD("effect_internal_function"),Gm=De(Symbol.for("effect/Hash/randomHashCache"),()=>new WeakMap),Re=Symbol.for("effect/Hash"),fe=e=>{if(Kr.enabled===!0)return 0;switch(typeof e){case"number":return h_(e);case"bigint":return jt(e.toString(10));case"boolean":return jt(String(e));case"symbol":return jt(String(e));case"string":return jt(e);case"undefined":return jt("undefined");case"function":case"object":return e===null?jt("null"):e instanceof Date?fe(e.toISOString()):BD(e)?e[Re]():d_(e);default:throw new Error(`BUG: unhandled typeof ${typeof e} - please report an issue at https://github.com/Effect-TS/effect/issues`)}},d_=e=>(Gm.has(e)||Gm.set(e,h_(Math.floor(Math.random()*Number.MAX_SAFE_INTEGER))),Gm.get(e)),je=e=>t=>t*53^e,ep=e=>e&3221225471|e>>>1&1073741824,BD=e=>Ce(e,Re),h_=e=>{if(e!==e||e===1/0)return 0;let t=e|0;for(t!==e&&(t^=e*4294967295);e>4294967295;)t^=e/=4294967295;return ep(t)},jt=e=>{let t=5381,n=e.length;for(;n;)t=t*33^e.charCodeAt(--n);return ep(t)},jD=(e,t)=>{let n=12289;for(let r=0;r<t.length;r++)n^=F(jt(t[r]),je(fe(e[t[r]])));return ep(n)},qk=e=>jD(e,Object.keys(e)),kl=e=>{let t=6151;for(let n=0;n<e.length;n++)t=F(t,je(fe(e[n])));return ep(t)},It=function(){if(arguments.length===1){const n=arguments[0];return function(r){return Object.defineProperty(n,Re,{value(){return r},enumerable:!1}),r}}const e=arguments[0],t=arguments[1];return Object.defineProperty(e,Re,{value(){return t},enumerable:!1}),t},Ie=Symbol.for("effect/Equal");function Ae(){return arguments.length===1?e=>Yd(e,arguments[0]):Yd(arguments[0],arguments[1])}function Yd(e,t){if(e===t)return!0;const n=typeof e;if(n!==typeof t)return!1;if(n==="object"||n==="function"){if(e!==null&&t!==null){if(Xd(e)&&Xd(t))return fe(e)===fe(t)&&e[Ie](t)?!0:Kr.enabled&&Kr.tester?Kr.tester(e,t):!1;if(e instanceof Date&&t instanceof Date)return e.toISOString()===t.toISOString()}if(Kr.enabled){if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every((r,o)=>Yd(r,t[o]));if(Object.getPrototypeOf(e)===Object.prototype&&Object.getPrototypeOf(e)===Object.prototype){const r=Object.keys(e),o=Object.keys(t);if(r.length===o.length){for(const s of r)if(!(s in t&&Yd(e[s],t[s])))return Kr.tester?Kr.tester(e,t):!1;return!0}}return Kr.tester?Kr.tester(e,t):!1}}return Kr.enabled&&Kr.tester?Kr.tester(e,t):!1}const Xd=e=>Ce(e,Ie),p_=()=>Ae,gt=Symbol.for("nodejs.util.inspect.custom"),Mt=e=>{try{if(Ce(e,"toJSON")&&Ou(e.toJSON)&&e.toJSON.length===0)return e.toJSON();if(Array.isArray(e))return e.map(Mt)}catch{return{}}return WD(e)},zt=e=>JSON.stringify(e,null,2),ru=(e,t=2)=>{if(typeof e=="string")return e;try{return typeof e=="object"?Kk(e,t):String(e)}catch{return String(e)}},Kk=(e,t)=>{let n=[];const r=JSON.stringify(e,(o,s)=>typeof s=="object"&&s!==null?n.includes(s)?void 0:n.push(s)&&(js.fiberRefs!==void 0&&Vk(s)?s[g_](js.fiberRefs):s):s,t);return n=void 0,r},g_=Symbol.for("effect/Inspectable/Redactable"),Vk=e=>typeof e=="object"&&e!==null&&g_ in e,js=De("effect/Inspectable/redactableState",()=>({fiberRefs:void 0})),DD=(e,t)=>{const n=js.fiberRefs;js.fiberRefs=e;try{return t()}finally{js.fiberRefs=n}},WD=e=>Vk(e)&&js.fiberRefs!==void 0?e[g_](js.fiberRefs):e,ye=(e,t)=>{switch(t.length){case 0:return e;case 1:return t[0](e);case 2:return t[1](t[0](e));case 3:return t[2](t[1](t[0](e)));case 4:return t[3](t[2](t[1](t[0](e))));case 5:return t[4](t[3](t[2](t[1](t[0](e)))));case 6:return t[5](t[4](t[3](t[2](t[1](t[0](e))))));case 7:return t[6](t[5](t[4](t[3](t[2](t[1](t[0](e)))))));case 8:return t[7](t[6](t[5](t[4](t[3](t[2](t[1](t[0](e))))))));case 9:return t[8](t[7](t[6](t[5](t[4](t[3](t[2](t[1](t[0](e)))))))));default:{let n=e;for(let r=0,o=t.length;r<o;r++)n=t[r](n);return n}}},Wc="Async",tp="Commit",Zr="Failure",xd="OnFailure",Qd="OnSuccess",Zd="OnSuccessAndFailure",eo="Success",Hk="Sync",UD="Tag",Ol="UpdateRuntimeFlags",eh="While",Cd="Iterator",Gk="WithRuntime",Td="Yield",m_="RevertFlags",zD=Symbol.for("effect/Effect"),qD=Symbol.for("effect/Stream"),KD=Symbol.for("effect/Sink"),VD=Symbol.for("effect/Channel"),ou={_R:e=>e,_E:e=>e,_A:e=>e,_V:Xh()},HD={_A:e=>e,_In:e=>e,_L:e=>e,_E:e=>e,_R:e=>e},GD={_Env:e=>e,_InErr:e=>e,_InElem:e=>e,_InDone:e=>e,_OutErr:e=>e,_OutElem:e=>e,_OutDone:e=>e},Il={[zD]:ou,[qD]:ou,[KD]:HD,[VD]:GD,[Ie](e){return this===e},[Re](){return It(this,d_(this))},[Symbol.iterator](){return new Uk(new Tl(this))},pipe(){return ye(this,arguments)}},Al={[Re](){return It(this,qk(this))},[Ie](e){const t=Object.keys(this),n=Object.keys(e);if(t.length!==n.length)return!1;for(const r of t)if(!(r in e&&Ae(this[r],e[r])))return!1;return!0}},$l={...Il,_op:tp},JD={...$l,...Al},YD=function(){function e(){}return e.prototype=$l,e}(),Jk=Symbol.for("effect/Option"),Yk={...Il,[Jk]:{_A:e=>e},[gt](){return this.toJSON()},toString(){return zt(this.toJSON())}},XD=Object.assign(Object.create(Yk),{_tag:"Some",_op:"Some",[Ie](e){return y_(e)&&Qk(e)&&Ae(this.value,e.value)},[Re](){return It(this,je(fe(this._tag))(fe(this.value)))},toJSON(){return{_id:"Option",_tag:this._tag,value:Mt(this.value)}}}),QD=fe("None"),ZD=Object.assign(Object.create(Yk),{_tag:"None",_op:"None",[Ie](e){return y_(e)&&Xk(e)},[Re](){return QD},toJSON(){return{_id:"Option",_tag:this._tag}}}),y_=e=>Ce(e,Jk),Xk=e=>e._tag==="None",Qk=e=>e._tag==="Some",v_=Object.create(ZD),th=e=>{const t=Object.create(XD);return t.value=e,t},Zk=Symbol.for("effect/Either"),eO={...Il,[Zk]:{_R:e=>e},[gt](){return this.toJSON()},toString(){return zt(this.toJSON())}},eW=Object.assign(Object.create(eO),{_tag:"Right",_op:"Right",[Ie](e){return __(e)&&tO(e)&&Ae(this.right,e.right)},[Re](){return je(fe(this._tag))(fe(this.right))},toJSON(){return{_id:"Either",_tag:this._tag,right:Mt(this.right)}}}),tW=Object.assign(Object.create(eO),{_tag:"Left",_op:"Left",[Ie](e){return __(e)&&b_(e)&&Ae(this.left,e.left)},[Re](){return je(fe(this._tag))(fe(this.left))},toJSON(){return{_id:"Either",_tag:this._tag,left:Mt(this.left)}}}),__=e=>Ce(e,Zk),b_=e=>e._tag==="Left",tO=e=>e._tag==="Right",nW=e=>{const t=Object.create(tW);return t.left=e,t},rW=e=>{const t=Object.create(eW);return t.right=e,t},oW=e=>b_(e)?v_:th(e.right),Te=rW,Se=nW,iW=e=>{if(Ou(e))try{return Te(e())}catch(t){return Se(t)}else try{return Te(e.try())}catch(t){return Se(e.catch(t))}},sW=__,en=b_,yi=tO,aW=I(2,(e,{onLeft:t,onRight:n})=>en(e)?Se(t(e.left)):Te(n(e.right))),S_=I(2,(e,t)=>en(e)?Se(t(e.left)):Te(e.right)),uW=I(2,(e,t)=>yi(e)?Te(t(e.right)):Se(e.left)),Iu=I(2,(e,{onLeft:t,onRight:n})=>en(e)?t(e.left):n(e.right)),cW=Iu({onLeft:Pt,onRight:Pt}),nO=I(2,(e,t)=>{if(yi(e))return e.right;throw t(e.left)}),rO=nO(()=>new Error("getOrThrow called on a Left")),oO=e=>e.length>0,iO=e=>(t,n)=>t===n?0:e(t,n),lW=iO((e,t)=>e<t?-1:1),sO=I(2,(e,t)=>iO((n,r)=>e(t(n),t(r)))),fW=e=>I(2,(t,n)=>e(t,n)===1),oe=()=>v_,we=th,dW=y_,Nt=Xk,Ln=Qk,Ot=I(2,(e,{onNone:t,onSome:n})=>Nt(e)?t():n(e.value)),hW=oW,bt=I(2,(e,t)=>Nt(e)?t():e.value),ts=I(2,(e,t)=>Nt(e)?t():e),pW=I(2,(e,t)=>Nt(e)?we(t()):e),Ii=e=>e==null?oe():we(e),mo=bt(Dk),gW=e=>(...t)=>{try{return we(e(...t))}catch{return oe()}},aO=I(2,(e,t)=>Nt(e)?oe():we(t(e.value))),is=I(2,(e,t)=>Nt(e)?oe():t(e.value)),mW=I(2,(e,t)=>Nt(e)?oe():Ii(t(e.value))),yW=e=>Yh((t,n)=>Nt(t)?Nt(n):Nt(n)?!1:e(t.value,n.value)),vW=e=>I(2,(t,n)=>Nt(t)?!1:e(t.value,n)),_W=p_(),bW=vW(_W),SW=I(2,(e,t)=>Nt(e)?!1:t(e.value)),wW=(...e)=>e,np=e=>new Array(e),EW=I(2,(e,t)=>{const n=Math.max(1,Math.floor(e)),r=new Array(n);for(let o=0;o<n;o++)r[o]=t(o);return r}),wt=e=>Array.isArray(e)?e:Array.from(e),xW=e=>Array.isArray(e)?e:[e],CW=I(2,(e,{onEmpty:t,onNonEmpty:n})=>rn(e)?n(or(e),Hs(e)):t()),nh=I(2,(e,t)=>[t,...e]),TW=I(2,(e,t)=>[...e,t]),uO=I(2,(e,t)=>wt(e).concat(wt(t))),kW=Array.isArray,OW=e=>e.length===0,IW=OW,kd=oO,rn=oO,cO=(e,t)=>e<0||e>=t.length,AW=(e,t)=>Math.floor(Math.min(Math.max(0,e),t.length)),$W=I(2,(e,t)=>{const n=Math.floor(t);return cO(n,e)?oe():we(e[n])}),lO=I(2,(e,t)=>{const n=Math.floor(t);if(cO(n,e))throw new Error(`Index ${n} out of bounds`);return e[n]}),Uc=$W(0),or=lO(0),RW=e=>rn(e)?we(fO(e)):oe(),fO=e=>e[e.length-1],Hs=e=>e.slice(1),PW=(e,t)=>{let n=0;for(const r of e){if(!t(r,n))break;n++}return n},MW=I(2,(e,t)=>dO(e,PW(e,t))),NW=I(2,(e,t)=>{const n=wt(e);return n.slice(AW(t,n),n.length)}),hE=e=>Array.from(e).reverse(),Yc=I(2,(e,t)=>{const n=Array.from(e);return n.sort(t),n}),pE=I(2,(e,t)=>LW(e,t,wW)),LW=I(3,(e,t,n)=>{const r=wt(e),o=wt(t);if(rn(r)&&rn(o)){const s=[n(or(r),or(o))],a=Math.min(r.length,o.length);for(let c=1;c<a;c++)s[c]=n(r[c],o[c]);return s}return[]}),FW=p_(),dO=I(2,(e,t)=>{const n=Array.from(e),r=Math.floor(t);return rn(n)?r>=1?BW(n,r):[[],n]:[n,[]]}),BW=I(2,(e,t)=>{const n=Math.max(1,Math.floor(t));return n>=e.length?[Rc(e),[]]:[nh(e.slice(1,n),or(e)),e.slice(n)]}),Rc=e=>e.slice(),jW=I(3,(e,t,n)=>{const r=wt(e),o=wt(t);return rn(r)?rn(o)?mO(n)(uO(r,o)):r:o}),Od=I(2,(e,t)=>jW(e,t,FW)),Gs=()=>[],go=e=>[e],Ya=I(2,(e,t)=>e.map(t)),hO=I(2,(e,t)=>{if(IW(e))return[];const n=[];for(let r=0;r<e.length;r++){const o=t(e[r],r);for(let s=0;s<o.length;s++)n.push(o[s])}return n}),pO=hO(Pt),DW=I(2,(e,t)=>{const n=wt(e),r=[];for(let o=0;o<n.length;o++)t(n[o],o)&&r.push(n[o]);return r}),gO=I(3,(e,t,n)=>wt(e).reduce((r,o,s)=>n(r,o,s),t)),gE=(e,t)=>{const n=[];let r=e,o;for(;Ln(o=t(r));){const[s,a]=o.value;n.push(s),r=a}return n},w_=bD,mO=I(2,(e,t)=>{const n=wt(e);if(rn(n)){const r=[or(n)],o=Hs(n);for(const s of o)r.every(a=>!t(s,a))&&r.push(s);return r}return[]}),WW=e=>mO(e,p_()),Au=I(2,(e,t)=>wt(e).join(t)),yO=(e,t)=>{switch(t._tag){case"StringKeyword":case"TemplateLiteral":return Object.keys(e);case"SymbolKeyword":return Object.getOwnPropertySymbols(e);case"Refinement":return yO(e,t.from)}},Xa=e=>Object.keys(e).concat(Object.getOwnPropertySymbols(e)),vO=e=>{let t=!1,n;return()=>(t||(n=e(),t=!0),n)},UW=e=>{try{return e.toISOString()}catch{return String(e)}},Uo=(e,t=!0)=>{if(Array.isArray(e))return`[${e.map(n=>Uo(n,t)).join(",")}]`;if(CD(e))return UW(e);if(Ce(e,"toString")&&Ou(e.toString)&&e.toString!==Object.prototype.toString)return e.toString();if(Vo(e))return JSON.stringify(e);if(Vs(e)||e==null||c_(e)||Dy(e))return String(e);if(Qh(e))return String(e)+"n";if(Wk(e))return`${e.constructor.name}(${Uo(Array.from(e),t)})`;try{t&&JSON.stringify(e);const n=`{${Xa(e).map(o=>`${Vo(o)?JSON.stringify(o):String(o)}:${Uo(e[o],!1)}`).join(",")}}`,r=e.constructor.name;return e.constructor!==Object.prototype.constructor?`${r}(${n})`:n}catch{return"<circular structure>"}},zW=e=>typeof e=="string"?JSON.stringify(e):String(e),E_=e=>Array.isArray(e),mE=e=>`[${zW(e)}]`,qW=e=>E_(e)?e.map(mE).join(""):mE(e),aa=(e,t,n,r)=>{let o=e;return t!==void 0&&(o+=`
details: ${t}`),r&&(o+=`
schema (${r._tag}): ${r}`),o},KW=e=>aa("Unsupported key schema",void 0,void 0,e),VW=e=>aa("Unsupported literal",`literal value: ${Uo(e)}`),yE=e=>aa("Duplicate index signature",`${e} index signature`),HW=aa("Unsupported index signature parameter","An index signature parameter type must be `string`, `symbol`, a template literal type or a refinement of the previous types"),GW=aa("Invalid element","A required element cannot follow an optional element. ts(1257)"),vE=e=>aa("Duplicate property signature transformation",`Duplicate key ${Uo(e)}`),JW=e=>aa("Duplicate property signature",`Duplicate key ${Uo(e)}`),iu=lW,rh=e=>e.replace(/[/\\^$*+?.()|[\]{}]/g,"\\$&"),YW=Symbol.for("effect/annotation/Brand"),XW=Symbol.for("effect/annotation/SchemaId"),_O=Symbol.for("effect/annotation/Message"),x_=Symbol.for("effect/annotation/MissingMessage"),bO=Symbol.for("effect/annotation/Identifier"),Ai=Symbol.for("effect/annotation/Title"),Uy=Symbol.for("effect/annotation/AutoTitle"),Rl=Symbol.for("effect/annotation/Description"),SO=Symbol.for("effect/annotation/Examples"),wO=Symbol.for("effect/annotation/Default"),EO=Symbol.for("effect/annotation/JSONSchema"),xO=Symbol.for("effect/annotation/Arbitrary"),CO=Symbol.for("effect/annotation/Pretty"),TO=Symbol.for("effect/annotation/Equivalence"),QW=Symbol.for("effect/annotation/Documentation"),kO=Symbol.for("effect/annotation/Concurrency"),OO=Symbol.for("effect/annotation/Batching"),IO=Symbol.for("effect/annotation/ParseIssueTitle"),AO=Symbol.for("effect/annotation/ParseOptions"),$O=Symbol.for("effect/annotation/DecodingFallback"),RO=Symbol.for("effect/annotation/Surrogate"),ZW=Symbol.for("effect/annotation/StableFilter"),jn=I(2,(e,t)=>Object.prototype.hasOwnProperty.call(e.annotations,t)?we(e.annotations[t]):oe()),eU=jn(YW),tU=jn(_O),nU=jn(x_),PO=jn(Ai),MO=jn(Uy),rp=jn(bO),NO=jn(Rl),rU=jn(kO),oU=jn(OO),iU=jn(IO),sU=jn(AO),aU=jn($O),LO=jn(RO),uU=jn(ZW),cU=e=>SW(uU(e),t=>t===!0),FO=Symbol.for("effect/annotation/JSONIdentifier"),lU=jn(FO),fU=e=>ts(lU(e),()=>rp(e)),dU=Symbol.for("effect/schema/ParseJson");class op{constructor(t,n,r,o={}){_(this,"typeParameters");_(this,"decodeUnknown");_(this,"encodeUnknown");_(this,"annotations");_(this,"_tag","Declaration");this.typeParameters=t,this.decodeUnknown=n,this.encodeUnknown=r,this.annotations=o}toString(){return bt(Ho(this),()=>"<declaration schema>")}toJSON(){return{_tag:this._tag,typeParameters:this.typeParameters.map(t=>t.toJSON()),annotations:Jt(this.annotations)}}}const Pl=e=>t=>t._tag===e;let zy=class{constructor(t,n={}){_(this,"literal");_(this,"annotations");_(this,"_tag","Literal");this.literal=t,this.annotations=n}toString(){return bt(Ho(this),()=>Uo(this.literal))}toJSON(){return{_tag:this._tag,literal:Qh(this.literal)?String(this.literal):this.literal,annotations:Jt(this.annotations)}}};const _E=Pl("Literal");class hU{constructor(t,n={}){_(this,"symbol");_(this,"annotations");_(this,"_tag","UniqueSymbol");this.symbol=t,this.annotations=n}toString(){return bt(Ho(this),()=>Uo(this.symbol))}toJSON(){return{_tag:this._tag,symbol:String(this.symbol),annotations:Jt(this.annotations)}}}class pU{constructor(t={}){_(this,"annotations");_(this,"_tag","UndefinedKeyword");this.annotations=t}toString(){return ca(this)}toJSON(){return{_tag:this._tag,annotations:Jt(this.annotations)}}}const qy=new pU({[Ai]:"undefined"});class gU{constructor(t={}){_(this,"annotations");_(this,"_tag","NeverKeyword");this.annotations=t}toString(){return ca(this)}toJSON(){return{_tag:this._tag,annotations:Jt(this.annotations)}}}const C_=new gU({[Ai]:"never"});class mU{constructor(t={}){_(this,"annotations");_(this,"_tag","UnknownKeyword");this.annotations=t}toString(){return ca(this)}toJSON(){return{_tag:this._tag,annotations:Jt(this.annotations)}}}const BO=new mU({[Ai]:"unknown"});class yU{constructor(t={}){_(this,"annotations");_(this,"_tag","AnyKeyword");this.annotations=t}toString(){return ca(this)}toJSON(){return{_tag:this._tag,annotations:Jt(this.annotations)}}}const jO=new yU({[Ai]:"any"});class vU{constructor(t={}){_(this,"annotations");_(this,"_tag","StringKeyword");this.annotations=t}toString(){return ca(this)}toJSON(){return{_tag:this._tag,annotations:Jt(this.annotations)}}}const _U=new vU({[Ai]:"string",[Rl]:"a string"}),bU=Pl("StringKeyword");class SU{constructor(t={}){_(this,"annotations");_(this,"_tag","NumberKeyword");this.annotations=t}toString(){return ca(this)}toJSON(){return{_tag:this._tag,annotations:Jt(this.annotations)}}}const wU=new SU({[Ai]:"number",[Rl]:"a number"});class EU{constructor(t={}){_(this,"annotations");_(this,"_tag","BooleanKeyword");this.annotations=t}toString(){return ca(this)}toJSON(){return{_tag:this._tag,annotations:Jt(this.annotations)}}}const xU=new EU({[Ai]:"boolean",[Rl]:"a boolean"}),CU=Pl("SymbolKeyword");let ip=class{constructor(t,n={}){_(this,"type");_(this,"annotations");this.type=t,this.annotations=n}toJSON(){return{type:this.type.toJSON(),annotations:Jt(this.annotations)}}toString(){return String(this.type)}};class ua extends ip{constructor(n,r,o={}){super(n,o);_(this,"isOptional");this.isOptional=r}toJSON(){return{type:this.type.toJSON(),isOptional:this.isOptional,annotations:Jt(this.annotations)}}toString(){return String(this.type)+(this.isOptional?"?":"")}}const DO=e=>e.map(t=>t.type);class T_{constructor(t,n,r,o={}){_(this,"elements");_(this,"rest");_(this,"isReadonly");_(this,"annotations");_(this,"_tag","TupleType");this.elements=t,this.rest=n,this.isReadonly=r,this.annotations=o;let s=!1,a=!1;for(const c of t)if(c.isOptional)s=!0;else if(s){a=!0;break}if(a||s&&n.length>1)throw new Error(GW)}toString(){return bt(Ho(this),()=>TU(this))}toJSON(){return{_tag:this._tag,elements:this.elements.map(t=>t.toJSON()),rest:this.rest.map(t=>t.toJSON()),isReadonly:this.isReadonly,annotations:Jt(this.annotations)}}}const TU=e=>{const t=e.elements.map(String).join(", ");return CW(e.rest,{onEmpty:()=>`readonly [${t}]`,onNonEmpty:(n,r)=>{const o=String(n),s=o.includes(" | ")?`(${o})`:o;if(r.length>0){const a=r.map(String).join(", ");return e.elements.length>0?`readonly [${t}, ...${s}[], ${a}]`:`readonly [...${s}[], ${a}]`}else return e.elements.length>0?`readonly [${t}, ...${s}[]]`:`ReadonlyArray<${o}>`}})};class $n extends ua{constructor(n,r,o,s,a){super(r,o,a);_(this,"name");_(this,"isReadonly");this.name=n,this.isReadonly=s}toString(){return(this.isReadonly?"readonly ":"")+String(this.name)+(this.isOptional?"?":"")+": "+this.type}toJSON(){return{name:String(this.name),type:this.type.toJSON(),isOptional:this.isOptional,isReadonly:this.isReadonly,annotations:Jt(this.annotations)}}}const WO=e=>{switch(e._tag){case"StringKeyword":case"SymbolKeyword":case"TemplateLiteral":return!0;case"Refinement":return WO(e.from)}return!1};class sp{constructor(t,n,r){_(this,"type");_(this,"isReadonly");_(this,"parameter");if(this.type=n,this.isReadonly=r,WO(t))this.parameter=t;else throw new Error(HW)}toString(){return(this.isReadonly?"readonly ":"")+`[x: ${this.parameter}]: ${this.type}`}toJSON(){return{parameter:this.parameter.toJSON(),type:this.type.toJSON(),isReadonly:this.isReadonly}}}class Ds{constructor(t,n,r={}){_(this,"annotations");_(this,"_tag","TypeLiteral");_(this,"propertySignatures");_(this,"indexSignatures");this.annotations=r;const o={};for(let a=0;a<t.length;a++){const c=t[a].name;if(Object.prototype.hasOwnProperty.call(o,c))throw new Error(JW(c));o[c]=null}const s={string:!1,symbol:!1};for(let a=0;a<n.length;a++){const c=GO(n[a].parameter);if(bU(c)){if(s.string)throw new Error(yE("string"));s.string=!0}else if(CU(c)){if(s.symbol)throw new Error(yE("symbol"));s.symbol=!0}}this.propertySignatures=t,this.indexSignatures=n}toString(){return bt(Ho(this),()=>kU(this))}toJSON(){return{_tag:this._tag,propertySignatures:this.propertySignatures.map(t=>t.toJSON()),indexSignatures:this.indexSignatures.map(t=>t.toJSON()),annotations:Jt(this.annotations)}}}const bE=e=>e.map(String).join("; "),kU=e=>{if(e.propertySignatures.length>0){const t=e.propertySignatures.map(String).join("; ");return e.indexSignatures.length>0?`{ ${t}; ${bE(e.indexSignatures)} }`:`{ ${t} }`}else return e.indexSignatures.length>0?`{ ${bE(e.indexSignatures)} }`:"{}"},OU=Yc(sO(iu,e=>{switch(e._tag){case"AnyKeyword":return 0;case"UnknownKeyword":return 1;case"ObjectKeyword":return 2;case"StringKeyword":case"NumberKeyword":case"BooleanKeyword":case"BigIntKeyword":case"SymbolKeyword":return 3}return 4})),IU={string:"StringKeyword",number:"NumberKeyword",boolean:"BooleanKeyword",bigint:"BigIntKeyword"},UO=e=>hO(e,t=>zO(t)?UO(t.types):[t]),AU=e=>{const t=OU(e),n=[],r={},o=[];for(const s of t)switch(s._tag){case"NeverKeyword":break;case"AnyKeyword":return[jO];case"UnknownKeyword":return[BO];case"ObjectKeyword":case"UndefinedKeyword":case"VoidKeyword":case"StringKeyword":case"NumberKeyword":case"BooleanKeyword":case"BigIntKeyword":case"SymbolKeyword":{r[s._tag]||(r[s._tag]=s,n.push(s));break}case"Literal":{const a=typeof s.literal;switch(a){case"string":case"number":case"bigint":case"boolean":{const c=IU[a];!r[c]&&!o.includes(s.literal)&&(o.push(s.literal),n.push(s));break}case"object":{o.includes(s.literal)||(o.push(s.literal),n.push(s));break}}break}case"UniqueSymbol":{!r.SymbolKeyword&&!o.includes(s.symbol)&&(o.push(s.symbol),n.push(s));break}case"TupleType":{r.ObjectKeyword||n.push(s);break}case"TypeLiteral":{s.propertySignatures.length===0&&s.indexSignatures.length===0?r["{}"]||(r["{}"]=s,n.push(s)):r.ObjectKeyword||n.push(s);break}default:n.push(s)}return n};var mi;let Po=(mi=class{constructor(t,n={}){_(this,"types");_(this,"annotations");_(this,"_tag","Union");this.types=t,this.annotations=n}toString(){return bt(Ho(this),()=>this.types.map(String).join(" | "))}toJSON(){return{_tag:this._tag,types:this.types.map(t=>t.toJSON()),annotations:Jt(this.annotations)}}},_(mi,"make",(t,n)=>k_(t)?new mi(t,n):t.length===1?t[0]:C_),_(mi,"unify",(t,n)=>mi.make(AU(UO(t)),n)),mi);const $U=(e,t)=>e.map(t),k_=e=>e.length>1,zO=Pl("Union"),Jm=De(Symbol.for("effect/Schema/AST/toJSONMemoMap"),()=>new WeakMap);class qO{constructor(t,n={}){_(this,"f");_(this,"annotations");_(this,"_tag","Suspend");this.f=t,this.annotations=n,this.f=vO(t)}toString(){return Ho(this).pipe(ts(()=>is(gW(this.f)(),t=>Ho(t))),bt(()=>"<suspended schema>"))}toJSON(){const t=this.f();let n=Jm.get(t);return n||(Jm.set(t,{_tag:this._tag}),n={_tag:this._tag,ast:t.toJSON(),annotations:Jt(this.annotations)},Jm.set(t,n),n)}}let RU=class{constructor(t,n,r={}){_(this,"from");_(this,"filter");_(this,"annotations");_(this,"_tag","Refinement");this.from=t,this.filter=n,this.annotations=r}toString(){return rp(this).pipe(bt(()=>Ot(JO(this),{onNone:()=>`{ ${this.from} | filter }`,onSome:t=>O_(this.from)?String(this.from)+" & "+t:t})))}toJSON(){return{_tag:this._tag,from:this.from.toJSON(),annotations:Jt(this.annotations)}}};const O_=Pl("Refinement"),Ym={};let I_=class{constructor(t,n,r,o={}){_(this,"from");_(this,"to");_(this,"transformation");_(this,"annotations");_(this,"_tag","Transformation");this.from=t,this.to=n,this.transformation=r,this.annotations=o}toString(){return bt(Ho(this),()=>`(${String(this.from)} <-> ${String(this.to)})`)}toJSON(){return{_tag:this._tag,from:this.from.toJSON(),to:this.to.toJSON(),annotations:Jt(this.annotations)}}};class PU{constructor(t,n){_(this,"decode");_(this,"encode");_(this,"_tag","FinalTransformation");this.decode=t,this.encode=n}}class MU{constructor(){_(this,"_tag","ComposeTransformation")}}const NU=new MU;let LU=class{constructor(t,n,r,o){_(this,"from");_(this,"to");_(this,"decode");_(this,"encode");this.from=t,this.to=n,this.decode=r,this.encode=o}};class FU{constructor(t){_(this,"propertySignatureTransformations");_(this,"_tag","TypeLiteralTransformation");this.propertySignatureTransformations=t;const n={},r={};for(const o of t){const s=o.from;if(n[s])throw new Error(vE(s));n[s]=!0;const a=o.to;if(r[a])throw new Error(vE(a));r[a]=!0}}}const su=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={...e.annotations,...t},o=LO(e);return Ln(o)&&(r[RO]=su(o.value,t)),n.annotations.value=r,Object.create(Object.getPrototypeOf(e),n)},BU="[\\s\\S]*",jU="[+-]?\\d*\\.?\\d+(?:[Ee][+-]?\\d+)?",KO=(e,t)=>{switch(e._tag){case"Literal":return rh(String(e.literal));case"StringKeyword":return BU;case"NumberKeyword":return jU;case"TemplateLiteral":return VO(e);case"Union":return e.types.map(n=>KO(n)).join("|")}},DU=(e,t,n,r)=>zO(e)?`(${t})`:t,VO=(e,t,n)=>{let r="";if(e.head!==""){const o=rh(e.head);r+=o}for(const o of e.spans){const s=KO(o.type);if(r+=DU(o.type,s),o.literal!==""){const a=rh(o.literal);r+=a}}return r},WU=e=>new RegExp(`^${VO(e)}$`),SE=(e,t)=>{const n=[],r=[],o=s=>{switch(s._tag){case"NeverKeyword":break;case"StringKeyword":case"SymbolKeyword":case"TemplateLiteral":case"Refinement":r.push(new sp(s,t,!0));break;case"Literal":if(Vo(s.literal)||Vs(s.literal))n.push(new $n(s.literal,t,!1,!0));else throw new Error(VW(s.literal));break;case"Enums":{for(const[a,c]of s.enums)n.push(new $n(c,t,!1,!0));break}case"UniqueSymbol":n.push(new $n(s.symbol,t,!1,!0));break;case"Union":s.types.forEach(o);break;default:throw new Error(KW(s))}};return o(e),{propertySignatures:n,indexSignatures:r}},HO=e=>t=>{let n;for(const r of e)Object.prototype.hasOwnProperty.call(t.annotations,r)&&(n===void 0&&(n={}),n[r]=t.annotations[r]);return n},UU=HO([SO,wO,EO,xO,CO,TO]),tn=e=>{switch(e._tag){case"Declaration":{const t=Gr(e.typeParameters,tn);return t===e.typeParameters?e:new op(t,e.decodeUnknown,e.encodeUnknown,e.annotations)}case"TupleType":{const t=Gr(e.elements,o=>{const s=tn(o.type);return s===o.type?o:new ua(s,o.isOptional)}),n=DO(e.rest),r=Gr(n,tn);return t===e.elements&&r===n?e:new T_(t,r.map(o=>new ip(o)),e.isReadonly,e.annotations)}case"TypeLiteral":{const t=Gr(e.propertySignatures,r=>{const o=tn(r.type);return o===r.type?r:new $n(r.name,o,r.isOptional,r.isReadonly)}),n=Gr(e.indexSignatures,r=>{const o=tn(r.type);return o===r.type?r:new sp(r.parameter,o,r.isReadonly)});return t===e.propertySignatures&&n===e.indexSignatures?e:new Ds(t,n,e.annotations)}case"Union":{const t=Gr(e.types,tn);return t===e.types?e:Po.make(t,e.annotations)}case"Suspend":return new qO(()=>tn(e.f()),e.annotations);case"Refinement":{const t=tn(e.from);return t===e.from?e:new RU(t,e.filter,e.annotations)}case"Transformation":{const t=UU(e);return tn(t!==void 0?su(e.to,t):e.to)}}return e},La=e=>Ot(fU(e),{onNone:()=>{},onSome:t=>({[FO]:t})});function Gr(e,t){let n=!1;const r=np(e.length);for(let o=0;o<e.length;o++){const s=e[o],a=t(s);a!==s&&(n=!0),r[o]=a}return n?r:e}const Io=(e,t)=>{switch(e._tag){case"Declaration":{const n=Gr(e.typeParameters,r=>Io(r));return n===e.typeParameters?e:new op(n,e.decodeUnknown,e.encodeUnknown,e.annotations)}case"TupleType":{const n=Gr(e.elements,s=>{const a=Io(s.type);return a===s.type?s:new ua(a,s.isOptional)}),r=DO(e.rest),o=Gr(r,s=>Io(s));return n===e.elements&&o===r?e:new T_(n,o.map(s=>new ip(s)),e.isReadonly,La(e))}case"TypeLiteral":{const n=Gr(e.propertySignatures,o=>{const s=Io(o.type);return s===o.type?o:new $n(o.name,s,o.isOptional,o.isReadonly)}),r=Gr(e.indexSignatures,o=>{const s=Io(o.type);return s===o.type?o:new sp(o.parameter,s,o.isReadonly)});return n===e.propertySignatures&&r===e.indexSignatures?e:new Ds(n,r,La(e))}case"Union":{const n=Gr(e.types,r=>Io(r));return n===e.types?e:Po.make(n,La(e))}case"Suspend":return new qO(()=>Io(e.f()),La(e));case"Refinement":{const n=Io(e.from),r=La(e);return r?su(n,r):n}case"Transformation":{const n=La(e);return Io(n?su(e.from,n):e.from)}}return e},wE=e=>Io(e),Jt=e=>{const t={};for(const n of Object.getOwnPropertySymbols(e))t[String(n)]=e[n];return t},GO=e=>{switch(e._tag){case"StringKeyword":case"SymbolKeyword":case"TemplateLiteral":return e;case"Refinement":return GO(e.from)}},zU=(e,t)=>new I_(e,t,NU),ca=e=>bt(Ho(e),()=>e._tag);function qU(e){return Ot(eU(e),{onNone:()=>"",onSome:t=>t.map(n=>` & Brand<${Uo(n)}>`).join("")})}const JO=e=>PO(e).pipe(ts(()=>NO(e)),ts(()=>MO(e)),aO(t=>t+qU(e))),Ho=e=>ts(rp(e),()=>JO(e)),KU=Symbol.for("effect/Context/Tag"),oh=Symbol.for("effect/Context/Reference"),VU="effect/STM",HU=Symbol.for(VU),YO={...Il,_op:"Tag",[HU]:ou,[KU]:{_Service:e=>e,_Identifier:e=>e},toString(){return zt(this.toJSON())},toJSON(){return{_id:"Tag",key:this.key,stack:this.stack}},[gt](){return this.toJSON()},of(e){return e},context(e){return QO(this,e)}},GU={...YO,[oh]:oh},JU=e=>{const t=Error.stackTraceLimit;Error.stackTraceLimit=2;const n=new Error;Error.stackTraceLimit=t;const r=Object.create(YO);return Object.defineProperty(r,"stack",{get(){return n.stack}}),r.key=e,r},YU=()=>(e,t)=>{const n=Error.stackTraceLimit;Error.stackTraceLimit=2;const r=new Error;Error.stackTraceLimit=n;function o(){}return Object.setPrototypeOf(o,GU),o.key=e,o.defaultValue=t.defaultValue,Object.defineProperty(o,"stack",{get(){return r.stack}}),o},XO=Symbol.for("effect/Context"),XU={[XO]:{_Services:e=>e},[Ie](e){if(ZU(e)&&this.unsafeMap.size===e.unsafeMap.size){for(const t of this.unsafeMap.keys())if(!e.unsafeMap.has(t)||!Ae(this.unsafeMap.get(t),e.unsafeMap.get(t)))return!1;return!0}return!1},[Re](){return It(this,h_(this.unsafeMap.size))},pipe(){return ye(this,arguments)},toString(){return zt(this.toJSON())},toJSON(){return{_id:"Context",services:Array.from(this.unsafeMap).map(Mt)}},[gt](){return this.toJSON()}},au=e=>{const t=Object.create(XU);return t.unsafeMap=e,t},QU=e=>{const t=new Error(`Service not found${e.key?`: ${String(e.key)}`:""}`);if(e.stack){const n=e.stack.split(`
`);if(n.length>2){const r=n[2].match(/at (.*)/);r&&(t.message=t.message+` (defined at ${r[1]})`)}}if(t.stack){const n=t.stack.split(`
`);n.splice(1,3),t.stack=n.join(`
`)}return t},ZU=e=>Ce(e,XO),ez=e=>Ce(e,oh),tz=au(new Map),nz=()=>tz,QO=(e,t)=>au(new Map([[e.key,t]])),rz=I(3,(e,t,n)=>{const r=new Map(e.unsafeMap);return r.set(t.key,n),au(r)}),Xm=De("effect/Context/defaultValueCache",()=>new Map),A_=e=>{if(Xm.has(e.key))return Xm.get(e.key);const t=e.defaultValue();return Xm.set(e.key,t),t},oz=(e,t)=>e.unsafeMap.has(t.key)?e.unsafeMap.get(t.key):A_(t),ZO=I(2,(e,t)=>{if(!e.unsafeMap.has(t.key)){if(oh in t)return A_(t);throw QU(t)}return e.unsafeMap.get(t.key)}),iz=ZO,sz=I(2,(e,t)=>e.unsafeMap.has(t.key)?th(e.unsafeMap.get(t.key)):ez(t)?th(A_(t)):v_),az=I(2,(e,t)=>{const n=new Map(e.unsafeMap);for(const[r,o]of t.unsafeMap)n.set(r,o);return au(n)}),la=JU,$_=nz,uz=QO,Sc=rz,eI=iz,tI=ZO,Ml=sz,nI=az,rI=YU,oI=Symbol.for("effect/Chunk");function cz(e,t,n,r,o){for(let s=t;s<Math.min(e.length,t+o);s++)n[r+s-t]=e[s];return n}const iI=[],lz=e=>Yh((t,n)=>t.length===n.length&&Ws(t).every((r,o)=>e(r,Us(n,o)))),fz=lz(Ae),dz={[oI]:{_A:e=>e},toString(){return zt(this.toJSON())},toJSON(){return{_id:"Chunk",values:Ws(this).map(Mt)}},[gt](){return this.toJSON()},[Ie](e){return sI(e)&&fz(this,e)},[Re](){return It(this,kl(Ws(this)))},[Symbol.iterator](){switch(this.backing._tag){case"IArray":return this.backing.array[Symbol.iterator]();case"IEmpty":return iI[Symbol.iterator]();default:return Ws(this)[Symbol.iterator]()}},pipe(){return ye(this,arguments)}},Ht=e=>{const t=Object.create(dz);switch(t.backing=e,e._tag){case"IEmpty":{t.length=0,t.depth=0,t.left=t,t.right=t;break}case"IConcat":{t.length=e.left.length+e.right.length,t.depth=1+Math.max(e.left.depth,e.right.depth),t.left=e.left,t.right=e.right;break}case"IArray":{t.length=e.array.length,t.depth=0,t.left=Mo,t.right=Mo;break}case"ISingleton":{t.length=1,t.depth=0,t.left=Mo,t.right=Mo;break}case"ISlice":{t.length=e.length,t.depth=e.chunk.depth+1,t.left=Mo,t.right=Mo;break}}return t},sI=e=>Ce(e,oI),Mo=Ht({_tag:"IEmpty"}),Tr=()=>Mo,Qm=(...e)=>mz(e),ir=e=>Ht({_tag:"ISingleton",a:e}),ih=e=>sI(e)?e:Nl(wt(e)),Ky=(e,t,n)=>{switch(e.backing._tag){case"IArray":{cz(e.backing.array,0,t,n,e.length);break}case"IConcat":{Ky(e.left,t,n),Ky(e.right,t,n+e.left.length);break}case"ISingleton":{t[n]=e.backing.a;break}case"ISlice":{let r=0,o=n;for(;r<e.length;)t[o]=Us(e,r),r+=1,o+=1;break}}},hz=e=>{switch(e.backing._tag){case"IEmpty":return iI;case"IArray":return e.backing.array;default:{const t=new Array(e.length);return Ky(e,t,0),e.backing={_tag:"IArray",array:t},e.left=Mo,e.right=Mo,e.depth=0,t}}},Ws=hz,pz=e=>{switch(e.backing._tag){case"IEmpty":case"ISingleton":return e;case"IArray":return Ht({_tag:"IArray",array:hE(e.backing.array)});case"IConcat":return Ht({_tag:"IConcat",left:wi(e.backing.right),right:wi(e.backing.left)});case"ISlice":return Nl(hE(Ws(e)))}},wi=pz,gz=I(2,(e,t)=>t<0||t>=e.length?oe():we(Us(e,t))),Nl=e=>e.length===0?Tr():e.length===1?ir(e[0]):Ht({_tag:"IArray",array:e}),mz=e=>Nl(e),Us=I(2,(e,t)=>{switch(e.backing._tag){case"IEmpty":throw new Error("Index out of bounds");case"ISingleton":{if(t!==0)throw new Error("Index out of bounds");return e.backing.a}case"IArray":{if(t>=e.length||t<0)throw new Error("Index out of bounds");return e.backing.array[t]}case"IConcat":return t<e.left.length?Us(e.left,t):Us(e.right,t-e.left.length);case"ISlice":return Us(e.backing.chunk,t+e.backing.offset)}}),Vy=I(2,(e,t)=>rr(e,ir(t))),Hn=I(2,(e,t)=>rr(ir(t),e)),Hy=I(2,(e,t)=>{if(t<=0)return e;if(t>=e.length)return Mo;switch(e.backing._tag){case"ISlice":return Ht({_tag:"ISlice",chunk:e.backing.chunk,offset:e.backing.offset+t,length:e.backing.length-t});case"IConcat":return t>e.left.length?Hy(e.right,t-e.left.length):Ht({_tag:"IConcat",left:Hy(e.left,t),right:e.right});default:return Ht({_tag:"ISlice",chunk:e,offset:t,length:e.length-t})}}),rr=I(2,(e,t)=>{if(e.backing._tag==="IEmpty")return t;if(t.backing._tag==="IEmpty")return e;const n=t.depth-e.depth;if(Math.abs(n)<=1)return Ht({_tag:"IConcat",left:e,right:t});if(n<-1)if(e.left.depth>=e.right.depth){const r=rr(e.right,t);return Ht({_tag:"IConcat",left:e.left,right:r})}else{const r=rr(e.right.right,t);if(r.depth===e.depth-3){const o=Ht({_tag:"IConcat",left:e.right.left,right:r});return Ht({_tag:"IConcat",left:e.left,right:o})}else{const o=Ht({_tag:"IConcat",left:e.left,right:e.right.left});return Ht({_tag:"IConcat",left:o,right:r})}}else if(t.right.depth>=t.left.depth){const r=rr(e,t.left);return Ht({_tag:"IConcat",left:r,right:t.right})}else{const r=rr(e,t.left.left);if(r.depth===t.depth-3){const o=Ht({_tag:"IConcat",left:r,right:t.left.right});return Ht({_tag:"IConcat",left:o,right:t.right})}else{const o=Ht({_tag:"IConcat",left:t.left.right,right:t.right});return Ht({_tag:"IConcat",left:r,right:o})}}}),yz=I(2,(e,t)=>Nl(DW(e,t))),aI=e=>e.length===0,Ei=e=>e.length>0,uI=gz(0),cI=e=>Us(e,0),Do=cI,vi=e=>Hy(e,1),Gy=Symbol.for("effect/Duration"),lI=BigInt(0),EE=BigInt(24),Zf=BigInt(60),Jy=BigInt(1e3),xE=BigInt(1e6),CE=BigInt(1e9),vz=/^(-?\d+(?:\.\d+)?)\s+(nanos?|micros?|millis?|seconds?|minutes?|hours?|days?|weeks?)$/,Go=e=>{if(fI(e))return e;if(Vs(e))return sh(e);if(Qh(e))return Zm(e);if(Array.isArray(e)&&e.length===2&&e.every(Vs))return e[0]===-1/0||e[1]===-1/0||Number.isNaN(e[0])||Number.isNaN(e[1])?dI:e[0]===1/0||e[1]===1/0?wz:Zm(BigInt(Math.round(e[0]*1e9))+BigInt(Math.round(e[1])));if(Vo(e)){const t=vz.exec(e);if(t){const[n,r,o]=t,s=Number(r);switch(o){case"nano":case"nanos":return Zm(BigInt(r));case"micro":case"micros":return Ez(BigInt(r));case"milli":case"millis":return sh(s);case"second":case"seconds":return xz(s);case"minute":case"minutes":return Cz(s);case"hour":case"hours":return Tz(s);case"day":case"days":return kz(s);case"week":case"weeks":return Oz(s)}}}throw new Error("Invalid DurationInput")},TE={_tag:"Millis",millis:0},_z={_tag:"Infinity"},bz={[Gy]:Gy,[Re](){return It(this,qk(this.value))},[Ie](e){return fI(e)&&Mz(this,e)},toString(){return`Duration(${Lz(this)})`},toJSON(){switch(this.value._tag){case"Millis":return{_id:"Duration",_tag:"Millis",millis:this.value.millis};case"Nanos":return{_id:"Duration",_tag:"Nanos",hrtime:Az(this)};case"Infinity":return{_id:"Duration",_tag:"Infinity"}}},[gt](){return this.toJSON()},pipe(){return ye(this,arguments)}},Xo=e=>{const t=Object.create(bz);return Vs(e)?isNaN(e)||e<=0?t.value=TE:Number.isFinite(e)?Number.isInteger(e)?t.value={_tag:"Millis",millis:e}:t.value={_tag:"Nanos",nanos:BigInt(Math.round(e*1e6))}:t.value=_z:e<=lI?t.value=TE:t.value={_tag:"Nanos",nanos:e},t},fI=e=>Ce(e,Gy),Sz=e=>{switch(e.value._tag){case"Millis":return e.value.millis===0;case"Nanos":return e.value.nanos===lI;case"Infinity":return!1}},dI=Xo(0),wz=Xo(1/0),Zm=e=>Xo(e),Ez=e=>Xo(e*Jy),sh=e=>Xo(e),xz=e=>Xo(e*1e3),Cz=e=>Xo(e*6e4),Tz=e=>Xo(e*36e5),kz=e=>Xo(e*864e5),Oz=e=>Xo(e*6048e5),Yy=e=>$z(e,{onMillis:t=>t,onNanos:t=>Number(t)/1e6}),Iz=e=>{const t=Go(e);switch(t.value._tag){case"Infinity":throw new Error("Cannot convert infinite duration to nanos");case"Nanos":return t.value.nanos;case"Millis":return BigInt(Math.round(t.value.millis*1e6))}},Az=e=>{const t=Go(e);switch(t.value._tag){case"Infinity":return[1/0,0];case"Nanos":return[Number(t.value.nanos/CE),Number(t.value.nanos%CE)];case"Millis":return[Math.floor(t.value.millis/1e3),Math.round(t.value.millis%1e3*1e6)]}},$z=I(2,(e,t)=>{const n=Go(e);switch(n.value._tag){case"Nanos":return t.onNanos(n.value.nanos);case"Infinity":return t.onMillis(1/0);case"Millis":return t.onMillis(n.value.millis)}}),hI=I(3,(e,t,n)=>{const r=Go(e),o=Go(t);if(r.value._tag==="Infinity"||o.value._tag==="Infinity")return n.onMillis(Yy(r),Yy(o));if(r.value._tag==="Nanos"||o.value._tag==="Nanos"){const s=r.value._tag==="Nanos"?r.value.nanos:BigInt(Math.round(r.value.millis*1e6)),a=o.value._tag==="Nanos"?o.value.nanos:BigInt(Math.round(o.value.millis*1e6));return n.onNanos(s,a)}return n.onMillis(r.value.millis,o.value.millis)}),Rz=(e,t)=>hI(e,t,{onMillis:(n,r)=>n===r,onNanos:(n,r)=>n===r}),Pz=I(2,(e,t)=>hI(e,t,{onMillis:(n,r)=>n>=r,onNanos:(n,r)=>n>=r})),Mz=I(2,(e,t)=>Rz(Go(e),Go(t))),Nz=e=>{const t=Go(e);if(t.value._tag==="Infinity")return{days:1/0,hours:1/0,minutes:1/0,seconds:1/0,millis:1/0,nanos:1/0};const n=Iz(t),r=n/xE,o=r/Jy,s=o/Zf,a=s/Zf,c=a/EE;return{days:Number(c),hours:Number(a%EE),minutes:Number(s%Zf),seconds:Number(o%Zf),millis:Number(r%Jy),nanos:Number(n%xE)}},Lz=e=>{const t=Go(e);if(t.value._tag==="Infinity")return"Infinity";if(Sz(t))return"0";const n=Nz(t),r=[];return n.days!==0&&r.push(`${n.days}d`),n.hours!==0&&r.push(`${n.hours}h`),n.minutes!==0&&r.push(`${n.minutes}m`),n.seconds!==0&&r.push(`${n.seconds}s`),n.millis!==0&&r.push(`${n.millis}ms`),n.nanos!==0&&r.push(`${n.nanos}ns`),r.join(" ")},Js=5,R_=Math.pow(2,Js),Fz=R_-1,Bz=R_/2,jz=R_/4;function Dz(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),e=e+(e>>4)&252645135,e+=e>>8,e+=e>>16,e&127}function uu(e,t){return t>>>e&Fz}function Ga(e){return 1<<e}function pI(e,t){return Dz(e&t-1)}const Wz=(e,t)=>({value:e,previous:t});function Qa(e,t,n,r){let o=r;if(!e){const s=r.length;o=new Array(s);for(let a=0;a<s;++a)o[a]=r[a]}return o[t]=n,o}function gI(e,t,n){const r=n.length-1;let o=0,s=0,a=n;if(e)o=s=t;else for(a=new Array(r);o<t;)a[s++]=n[o++];for(++o;o<=r;)a[s++]=n[o++];return e&&(a.length=r),a}function Uz(e,t,n,r){const o=r.length;if(e){let f=o;for(;f>=t;)r[f--]=r[f];return r[t]=n,r}let s=0,a=0;const c=new Array(o+1);for(;s<t;)c[a++]=r[s++];for(c[t]=n;s<o;)c[++a]=r[s++];return c}class ss{constructor(){_(this,"_tag","EmptyNode")}modify(t,n,r,o,s,a){const c=r(oe());return Nt(c)?new ss:(++a.value,new zs(t,o,s,c))}}function yo(e){return f_(e,"EmptyNode")}function zz(e){return yo(e)||e._tag==="LeafNode"||e._tag==="CollisionNode"}function ap(e,t){return yo(e)?!1:t===e.edit}class zs{constructor(t,n,r,o){_(this,"edit");_(this,"hash");_(this,"key");_(this,"value");_(this,"_tag","LeafNode");this.edit=t,this.hash=n,this.key=r,this.value=o}modify(t,n,r,o,s,a){if(Ae(s,this.key)){const f=r(this.value);return f===this.value?this:Nt(f)?(--a.value,new ss):ap(this,t)?(this.value=f,this):new zs(t,o,s,f)}const c=r(oe());return Nt(c)?this:(++a.value,mI(t,n,this.hash,this,o,new zs(t,o,s,c)))}}class P_{constructor(t,n,r){_(this,"edit");_(this,"hash");_(this,"children");_(this,"_tag","CollisionNode");this.edit=t,this.hash=n,this.children=r}modify(t,n,r,o,s,a){if(o===this.hash){const f=ap(this,t),d=this.updateCollisionList(f,t,this.hash,this.children,r,s,a);return d===this.children?this:d.length>1?new P_(t,this.hash,d):d[0]}const c=r(oe());return Nt(c)?this:(++a.value,mI(t,n,this.hash,this,o,new zs(t,o,s,c)))}updateCollisionList(t,n,r,o,s,a,c){const f=o.length;for(let p=0;p<f;++p){const g=o[p];if("key"in g&&Ae(a,g.key)){const m=g.value,y=s(m);return y===m?o:Nt(y)?(--c.value,gI(t,p,o)):Qa(t,p,new zs(n,r,a,y),o)}}const d=s(oe());return Nt(d)?o:(++c.value,Qa(t,f,new zs(n,r,a,d),o))}}class cu{constructor(t,n,r){_(this,"edit");_(this,"mask");_(this,"children");_(this,"_tag","IndexedNode");this.edit=t,this.mask=n,this.children=r}modify(t,n,r,o,s,a){const c=this.mask,f=this.children,d=uu(n,o),p=Ga(d),g=pI(c,p),m=c&p,y=ap(this,t);if(!m){const L=new ss().modify(t,n+Js,r,o,s,a);return L?f.length>=Bz?Kz(t,d,L,c,f):new cu(t,c|p,Uz(y,g,L,f)):this}const b=f[g],x=b.modify(t,n+Js,r,o,s,a);if(b===x)return this;let T=c,k;if(yo(x)){if(T&=~p,!T)return new ss;if(f.length<=2&&zz(f[g^1]))return f[g^1];k=gI(y,g,f)}else k=Qa(y,g,x,f);return y?(this.mask=T,this.children=k,this):new cu(t,T,k)}}class M_{constructor(t,n,r){_(this,"edit");_(this,"size");_(this,"children");_(this,"_tag","ArrayNode");this.edit=t,this.size=n,this.children=r}modify(t,n,r,o,s,a){let c=this.size;const f=this.children,d=uu(n,o),p=f[d],g=(p||new ss).modify(t,n+Js,r,o,s,a);if(p===g)return this;const m=ap(this,t);let y;if(yo(p)&&!yo(g))++c,y=Qa(m,d,g,f);else if(!yo(p)&&yo(g)){if(--c,c<=jz)return qz(t,c,d,f);y=Qa(m,d,new ss,f)}else y=Qa(m,d,g,f);return m?(this.size=c,this.children=y,this):new M_(t,c,y)}}function qz(e,t,n,r){const o=new Array(t-1);let s=0,a=0;for(let c=0,f=r.length;c<f;++c)if(c!==n){const d=r[c];d&&!yo(d)&&(o[s++]=d,a|=1<<c)}return new cu(e,a,o)}function Kz(e,t,n,r,o){const s=[];let a=r,c=0;for(let f=0;a;++f)a&1&&(s[f]=o[c++]),a>>>=1;return s[t]=n,new M_(e,c+1,s)}function Vz(e,t,n,r,o,s){if(n===o)return new P_(e,n,[s,r]);const a=uu(t,n),c=uu(t,o);if(a===c)return f=>new cu(e,Ga(a)|Ga(c),[f]);{const f=a<c?[r,s]:[s,r];return new cu(e,Ga(a)|Ga(c),f)}}function mI(e,t,n,r,o,s){let a,c=t;for(;;){const f=Vz(e,c,n,r,o,s);if(typeof f=="function")a=Wz(f,a),c=c+Js;else{let d=f;for(;a!=null;)d=a.value(d),a=a.previous;return d}}}const yI="effect/HashMap",Xy=Symbol.for(yI),Hz={[Xy]:Xy,[Symbol.iterator](){return new up(this,(e,t)=>[e,t])},[Re](){let e=fe(yI);for(const t of this)e^=F(fe(t[0]),je(fe(t[1])));return It(this,e)},[Ie](e){if(Yz(e)){if(e._size!==this._size)return!1;for(const t of this){const n=F(e,L_(t[0],fe(t[0])));if(Nt(n))return!1;if(!Ae(t[1],n.value))return!1}return!0}return!1},toString(){return zt(this.toJSON())},toJSON(){return{_id:"HashMap",values:Array.from(this).map(Mt)}},[gt](){return this.toJSON()},pipe(){return ye(this,arguments)}},N_=(e,t,n,r)=>{const o=Object.create(Hz);return o._editable=e,o._edit=t,o._root=n,o._size=r,o};class up{constructor(t,n){_(this,"map");_(this,"f");_(this,"v");this.map=t,this.f=n,this.v=vI(this.map._root,this.f,void 0)}next(){if(Nt(this.v))return{done:!0,value:void 0};const t=this.v.value;return this.v=ah(t.cont),{done:!1,value:t.value}}[Symbol.iterator](){return new up(this.map,this.f)}}const ah=e=>e?_I(e[0],e[1],e[2],e[3],e[4]):oe(),vI=(e,t,n=void 0)=>{switch(e._tag){case"LeafNode":return Ln(e.value)?we({value:t(e.key,e.value.value),cont:n}):ah(n);case"CollisionNode":case"ArrayNode":case"IndexedNode":{const r=e.children;return _I(r.length,r,0,t,n)}default:return ah(n)}},_I=(e,t,n,r,o)=>{for(;n<e;){const s=t[n++];if(s&&!yo(s))return vI(s,r,[e,t,n,r,o])}return ah(o)},Gz=N_(!1,0,new ss,0),cp=()=>Gz,Jz=e=>{const t=SI(cp());for(const n of e)Xc(t,n[0],n[1]);return t4(t)},Yz=e=>Ce(e,Xy),Xz=e=>e&&yo(e._root),Qz=I(2,(e,t)=>L_(e,t,fe(t))),L_=I(3,(e,t,n)=>{let r=e._root,o=0;for(;;)switch(r._tag){case"LeafNode":return Ae(t,r.key)?r.value:oe();case"CollisionNode":{if(n===r.hash){const s=r.children;for(let a=0,c=s.length;a<c;++a){const f=s[a];if("key"in f&&Ae(t,f.key))return f.value}}return oe()}case"IndexedNode":{const s=uu(o,n),a=Ga(s);if(r.mask&a){r=r.children[pI(r.mask,a)],o+=Js;break}return oe()}case"ArrayNode":{if(r=r.children[uu(o,n)],r){o+=Js;break}return oe()}default:return oe()}}),Zz=I(2,(e,t)=>Ln(L_(e,t,fe(t)))),Xc=I(3,(e,t,n)=>F_(e,t,()=>we(n))),e4=I(3,(e,t,n)=>e._editable?(e._root=t,e._size=n,e):t===e._root?e:N_(e._editable,e._edit,t,n)),bI=e=>new up(e,t=>t),Qy=e=>e._size,SI=e=>N_(!0,e._edit+1,e._root,e._size),t4=e=>(e._editable=!1,e),F_=I(3,(e,t,n)=>n4(e,t,fe(t),n)),n4=I(4,(e,t,n,r)=>{const o={value:e._size},s=e._root.modify(e._editable?e._edit:NaN,0,r,n,t,o);return F(e,e4(s,o.value))}),kE=I(2,(e,t)=>F_(e,t,oe)),r4=I(2,(e,t)=>lp(e,cp(),(n,r,o)=>Xc(n,o,t(r,o)))),o4=I(2,(e,t)=>lp(e,void 0,(n,r,o)=>t(r,o))),lp=I(3,(e,t,n)=>{const r=e._root;if(r._tag==="LeafNode")return Ln(r.value)?n(t,r.value.value,r.key):t;if(r._tag==="EmptyNode")return t;const o=[r.children];let s;for(;s=o.pop();)for(let a=0,c=s.length;a<c;){const f=s[a++];f&&!yo(f)&&(f._tag==="LeafNode"?Ln(f.value)&&(t=n(t,f.value.value,f.key)):o.push(f.children))}return t}),wI="effect/HashSet",Zy=Symbol.for(wI),i4={[Zy]:Zy,[Symbol.iterator](){return bI(this._keyMap)},[Re](){return It(this,je(fe(this._keyMap))(fe(wI)))},[Ie](e){return s4(e)?Qy(this._keyMap)===Qy(e._keyMap)&&Ae(this._keyMap,e._keyMap):!1},toString(){return zt(this.toJSON())},toJSON(){return{_id:"HashSet",values:Array.from(this).map(Mt)}},[gt](){return this.toJSON()},pipe(){return ye(this,arguments)}},fp=e=>{const t=Object.create(i4);return t._keyMap=e,t},s4=e=>Ce(e,Zy),a4=fp(cp()),dp=()=>a4,u4=e=>{const t=B_(dp());for(const n of e)Qc(t,n);return j_(t)},c4=(...e)=>{const t=B_(dp());for(const n of e)Qc(t,n);return j_(t)},l4=I(2,(e,t)=>Zz(e._keyMap,t)),f4=e=>Qy(e._keyMap),B_=e=>fp(SI(e._keyMap)),j_=e=>(e._keyMap._editable=!1,e),EI=I(2,(e,t)=>{const n=B_(e);return t(n),j_(n)}),Qc=I(2,(e,t)=>e._keyMap._editable?(Xc(t,!0)(e._keyMap),e):fp(Xc(t,!0)(e._keyMap))),xI=I(2,(e,t)=>e._keyMap._editable?(kE(t)(e._keyMap),e):fp(kE(t)(e._keyMap))),d4=I(2,(e,t)=>EI(e,n=>{for(const r of t)xI(n,r)})),h4=I(2,(e,t)=>EI(dp(),n=>{p4(e,r=>Qc(n,r));for(const r of t)Qc(n,r)})),p4=I(2,(e,t)=>o4(e._keyMap,(n,r)=>t(r))),g4=I(3,(e,t,n)=>lp(e._keyMap,t,(r,o,s)=>n(r,s))),Ys=dp,m4=u4,D_=c4,y4=l4,CI=f4,zc=Qc,TI=xI,OE=d4,Zc=h4,uh=g4,IE=Symbol.for("effect/MutableRef"),v4={[IE]:IE,toString(){return zt(this.toJSON())},toJSON(){return{_id:"MutableRef",current:Mt(this.current)}},[gt](){return this.toJSON()},pipe(){return ye(this,arguments)}},hp=e=>{const t=Object.create(v4);return t.current=e,t},pn=e=>e.current,Ll=I(2,(e,t)=>(e.current=t,e)),W_="effect/FiberId",el=Symbol.for(W_),ch="None",ev="Runtime",_4="Composite",b4=jt(`${W_}-${ch}`);var kT;let S4=class{constructor(){_(this,kT,el);_(this,"_tag",ch);_(this,"id",-1);_(this,"startTimeMillis",-1)}[(kT=el,Re)](){return b4}[Ie](t){return kI(t)&&t._tag===ch}toString(){return zt(this.toJSON())}toJSON(){return{_id:"FiberId",_tag:this._tag}}[gt](){return this.toJSON()}};var OT;class w4{constructor(t,n){_(this,"id");_(this,"startTimeMillis");_(this,OT,el);_(this,"_tag",ev);this.id=t,this.startTimeMillis=n}[(OT=el,Re)](){return It(this,jt(`${W_}-${this._tag}-${this.id}-${this.startTimeMillis}`))}[Ie](t){return kI(t)&&t._tag===ev&&this.id===t.id&&this.startTimeMillis===t.startTimeMillis}toString(){return zt(this.toJSON())}toJSON(){return{_id:"FiberId",_tag:this._tag,id:this.id,startTimeMillis:this.startTimeMillis}}[gt](){return this.toJSON()}}const E4=new S4,kI=e=>Ce(e,el),tv=e=>{switch(e._tag){case ch:return Ys();case ev:return D_(e.id);case _4:return F(tv(e.left),Zc(tv(e.right)))}},AE=De(Symbol.for("effect/Fiber/Id/_fiberCounter"),()=>hp(0)),OI=e=>Array.from(tv(e)).map(n=>`#${n}`).join(","),x4=()=>{const e=pn(AE);return F(AE,Ll(e+1)),new w4(e,Date.now())},lu=E4,C4=OI,II=x4,U_=cp,T4=Jz,k4=Xz,AI=Qz,$I=Xc,RI=bI,O4=F_,I4=r4,PI=lp,tl=Symbol.for("effect/List"),nv=e=>wt(e),A4=e=>_D(w_(e),nv),$4=A4(Ae),R4={[tl]:tl,_tag:"Cons",toString(){return zt(this.toJSON())},toJSON(){return{_id:"List",_tag:"Cons",values:nv(this).map(Mt)}},[gt](){return this.toJSON()},[Ie](e){return NI(e)&&this._tag===e._tag&&$4(this,e)},[Re](){return It(this,kl(nv(this)))},[Symbol.iterator](){let e=!1,t=this;return{next(){if(e)return this.return();if(t._tag==="Nil")return e=!0,this.return();const n=t.head;return t=t.tail,{done:e,value:n}},return(n){return e||(e=!0),{done:!0,value:n}}}},pipe(){return ye(this,arguments)}},lh=(e,t)=>{const n=Object.create(R4);return n.head=e,n.tail=t,n},P4=jt("Nil"),M4={[tl]:tl,_tag:"Nil",toString(){return zt(this.toJSON())},toJSON(){return{_id:"List",_tag:"Nil"}},[gt](){return this.toJSON()},[Re](){return P4},[Ie](e){return NI(e)&&this._tag===e._tag},[Symbol.iterator](){return{next(){return{done:!0,value:void 0}}}},pipe(){return ye(this,arguments)}},MI=Object.create(M4),NI=e=>Ce(e,tl),Si=e=>e._tag==="Nil",N4=e=>e._tag==="Cons",L4=()=>MI,Xs=(e,t)=>lh(e,t),fu=L4,z_=e=>lh(e,MI),F4=I(2,(e,t)=>j4(t,e)),B4=I(2,(e,t)=>Xs(t,e)),j4=I(2,(e,t)=>{if(Si(e))return t;if(Si(t))return e;{const n=lh(t.head,e);let r=n,o=t.tail;for(;!Si(o);){const s=lh(o.head,e);r.tail=s,r=s,o=o.tail}return n}}),D4=I(3,(e,t,n)=>{let r=t,o=e;for(;!Si(o);)r=n(r,o.head),o=o.tail;return r}),W4=e=>{let t=fu(),n=e;for(;!Si(n);)t=B4(t,n.head),n=n.tail;return t},q_=function(){function e(t){t&&Object.assign(this,t)}return e.prototype=Al,e}(),U4=e=>Object.assign(Object.create(Al),e),z4=Symbol.for("effect/DifferContextPatch");function $E(e){return e}const Fl={...q_.prototype,[z4]:{_Value:$E,_Patch:$E}},q4=Object.assign(Object.create(Fl),{_tag:"Empty"}),K4=Object.create(q4),LI=()=>K4,V4=Object.assign(Object.create(Fl),{_tag:"AndThen"}),H4=(e,t)=>{const n=Object.create(V4);return n.first=e,n.second=t,n},G4=Object.assign(Object.create(Fl),{_tag:"AddService"}),J4=(e,t)=>{const n=Object.create(G4);return n.key=e,n.service=t,n},Y4=Object.assign(Object.create(Fl),{_tag:"RemoveService"}),X4=e=>{const t=Object.create(Y4);return t.key=e,t},Q4=Object.assign(Object.create(Fl),{_tag:"UpdateService"}),Z4=(e,t)=>{const n=Object.create(Q4);return n.key=e,n.update=t,n},e6=(e,t)=>{const n=new Map(e.unsafeMap);let r=LI();for(const[o,s]of t.unsafeMap.entries())if(n.has(o)){const a=n.get(o);n.delete(o),Ae(a,s)||(r=Id(Z4(o,()=>s))(r))}else n.delete(o),r=Id(J4(o,s))(r);for(const[o]of n.entries())r=Id(X4(o))(r);return r},Id=I(2,(e,t)=>H4(e,t)),t6=I(2,(e,t)=>{if(e._tag==="Empty")return t;let n=!1,r=ir(e);const o=new Map(t.unsafeMap);for(;Ei(r);){const a=Do(r),c=vi(r);switch(a._tag){case"Empty":{r=c;break}case"AddService":{o.set(a.key,a.service),r=c;break}case"AndThen":{r=Hn(Hn(c,a.second),a.first);break}case"RemoveService":{o.delete(a.key),r=c;break}case"UpdateService":{o.set(a.key,a.update(o.get(a.key))),n=!0,r=c;break}}}if(!n)return au(o);const s=new Map;for(const[a]of t.unsafeMap)o.has(a)&&(s.set(a,o.get(a)),o.delete(a));for(const[a,c]of o)s.set(a,c);return au(s)}),n6=Symbol.for("effect/DifferHashSetPatch");function ey(e){return e}const pp={...q_.prototype,[n6]:{_Value:ey,_Key:ey,_Patch:ey}},r6=Object.assign(Object.create(pp),{_tag:"Empty"}),o6=Object.create(r6),FI=()=>o6,i6=Object.assign(Object.create(pp),{_tag:"AndThen"}),s6=(e,t)=>{const n=Object.create(i6);return n.first=e,n.second=t,n},a6=Object.assign(Object.create(pp),{_tag:"Add"}),u6=e=>{const t=Object.create(a6);return t.value=e,t},c6=Object.assign(Object.create(pp),{_tag:"Remove"}),l6=e=>{const t=Object.create(c6);return t.value=e,t},f6=(e,t)=>{const[n,r]=uh([e,FI()],([o,s],a)=>y4(a)(o)?[TI(a)(o),s]:[o,rv(u6(a))(s)])(t);return uh(r,(o,s)=>rv(l6(s))(o))(n)},rv=I(2,(e,t)=>s6(e,t)),d6=I(2,(e,t)=>{if(e._tag==="Empty")return t;let n=t,r=ir(e);for(;Ei(r);){const o=Do(r),s=vi(r);switch(o._tag){case"Empty":{r=s;break}case"AndThen":{r=Hn(o.first)(Hn(o.second)(s));break}case"Add":{n=zc(o.value)(n),r=s;break}case"Remove":n=TI(o.value)(n),r=s}}return n}),h6=Symbol.for("effect/DifferReadonlyArrayPatch");function RE(e){return e}const Bl={...q_.prototype,[h6]:{_Value:RE,_Patch:RE}},p6=Object.assign(Object.create(Bl),{_tag:"Empty"}),g6=Object.create(p6),BI=()=>g6,m6=Object.assign(Object.create(Bl),{_tag:"AndThen"}),y6=(e,t)=>{const n=Object.create(m6);return n.first=e,n.second=t,n},v6=Object.assign(Object.create(Bl),{_tag:"Append"}),_6=e=>{const t=Object.create(v6);return t.values=e,t},b6=Object.assign(Object.create(Bl),{_tag:"Slice"}),S6=(e,t)=>{const n=Object.create(b6);return n.from=e,n.until=t,n},w6=Object.assign(Object.create(Bl),{_tag:"Update"}),E6=(e,t)=>{const n=Object.create(w6);return n.index=e,n.patch=t,n},x6=e=>{let t=0,n=BI();for(;t<e.oldValue.length&&t<e.newValue.length;){const r=e.oldValue[t],o=e.newValue[t],s=e.differ.diff(r,o);Ae(s,e.differ.empty)||(n=Ad(n,E6(t,s))),t=t+1}return t<e.oldValue.length&&(n=Ad(n,S6(0,t))),t<e.newValue.length&&(n=Ad(n,_6(NW(t)(e.newValue)))),n},Ad=I(2,(e,t)=>y6(e,t)),C6=I(3,(e,t,n)=>{if(e._tag==="Empty")return t;let r=t.slice(),o=go(e);for(;kd(o);){const s=or(o),a=Hs(o);switch(s._tag){case"Empty":{o=a;break}case"AndThen":{a.unshift(s.first,s.second),o=a;break}case"Append":{for(const c of s.values)r.push(c);o=a;break}case"Slice":{r=r.slice(s.from,s.until),o=a;break}case"Update":{r[s.index]=n.patch(s.patch,r[s.index]),o=a;break}}}return r}),T6=Symbol.for("effect/Differ"),k6={[T6]:{_P:Pt,_V:Pt},pipe(){return ye(this,arguments)}},$u=e=>{const t=Object.create(k6);return t.empty=e.empty,t.diff=e.diff,t.combine=e.combine,t.patch=e.patch,t},O6=()=>$u({empty:LI(),combine:(e,t)=>Id(t)(e),diff:(e,t)=>e6(e,t),patch:(e,t)=>t6(t)(e)}),I6=()=>$u({empty:FI(),combine:(e,t)=>rv(t)(e),diff:(e,t)=>f6(e,t),patch:(e,t)=>d6(t)(e)}),A6=e=>$u({empty:BI(),combine:(t,n)=>Ad(t,n),diff:(t,n)=>x6({oldValue:t,newValue:n,differ:e}),patch:(t,n)=>C6(t,n,e)}),jI=()=>$6((e,t)=>t),$6=e=>$u({empty:Pt,combine:(t,n)=>t===Pt?n:n===Pt?t:r=>n(t(r)),diff:(t,n)=>Ae(t,n)?Pt:Jh(n),patch:(t,n)=>e(n,t(n))}),nl=255,DI=8,ov=e=>e&nl,iv=e=>e>>DI&nl,jl=(e,t)=>(e&nl)+((t&e&nl)<<DI),R6=jl(0,0),P6=e=>jl(e,e),M6=e=>jl(e,0),N6=I(2,(e,t)=>jl(ov(e)&~t,iv(e))),L6=I(2,(e,t)=>e|t),F6=e=>~e>>>0&nl,B6=0,Ru=1,j6=2,WI=4,sv=16,UI=32,D6=e=>gp(e,UI),W6=I(2,(e,t)=>e|t),Xi=e=>zI(e)&&!z6(e),zI=e=>gp(e,Ru),gp=I(2,(e,t)=>(e&t)!==0),qI=(...e)=>e.reduce((t,n)=>t|n,0),U6=qI(B6),PE=e=>gp(e,WI),z6=e=>gp(e,sv),$d=I(2,(e,t)=>jl(e^t,t)),Rd=I(2,(e,t)=>e&(F6(ov(t))|iv(t))|ov(t)&iv(t)),ME=$u({empty:R6,diff:(e,t)=>$d(e,t),combine:(e,t)=>L6(t)(e),patch:(e,t)=>Rd(t,e)}),q6=P6,KI=M6,NE=N6,VI=(e,t)=>({_tag:"Par",left:e,right:t}),ed=(e,t)=>({_tag:"Seq",left:e,right:t}),K6=e=>{let t=z_(e),n=fu();for(;;){const[r,o]=D4(t,[HI(),fu()],([s,a],c)=>{const[f,d]=V6(c);return[X6(s,f),F4(a,d)]});if(n=H6(n,r),Si(o))return W4(n);t=o}throw new Error("BUG: BlockedRequests.flatten - please report an issue at https://github.com/Effect-TS/effect/issues")},V6=e=>{let t=e,n=HI(),r=fu(),o=fu();for(;;)switch(t._tag){case"Empty":{if(Si(r))return[n,o];t=r.head,r=r.tail;break}case"Par":{r=Xs(t.right,r),t=t.left;break}case"Seq":{const s=t.left,a=t.right;switch(s._tag){case"Empty":{t=a;break}case"Par":{const c=s.left,f=s.right;t=VI(ed(c,a),ed(f,a));break}case"Seq":{const c=s.left,f=s.right;t=ed(c,ed(f,a));break}case"Single":{t=s,o=Xs(a,o);break}}break}case"Single":{if(n=Y6(n,t),Si(r))return[n,o];t=r.head,r=r.tail;break}}throw new Error("BUG: BlockedRequests.step - please report an issue at https://github.com/Effect-TS/effect/issues")},H6=(e,t)=>{if(Si(e))return z_(ty(t));if(Q6(t))return e;const n=oq(e.head),r=Z6(t);return n.length===1&&r.length===1&&Ae(n[0],r[0])?Xs(rq(e.head,ty(t)),e.tail):Xs(ty(t),e)},G6=Symbol.for("effect/RequestBlock/RequestBlockParallel"),J6={_R:e=>e};var IT;IT=G6;class K_{constructor(t){_(this,"map");_(this,IT,J6);this.map=t}}const HI=()=>new K_(U_()),Y6=(e,t)=>new K_(O4(e.map,t.dataSource,n=>pW(aO(n,Vy(t.blockedRequest)),()=>ir(t.blockedRequest)))),X6=(e,t)=>new K_(PI(e.map,t.map,(n,r,o)=>$I(n,o,Ot(AI(n,o),{onNone:()=>r,onSome:s=>rr(r,s)})))),Q6=e=>k4(e.map),Z6=e=>Array.from(RI(e.map)),ty=e=>nq(I4(e.map,t=>ir(t))),eq=Symbol.for("effect/RequestBlock/RequestBlockSequential"),tq={_R:e=>e};var AT;AT=eq;class GI{constructor(t){_(this,"map");_(this,AT,tq);this.map=t}}const nq=e=>new GI(e),rq=(e,t)=>new GI(PI(t.map,e.map,(n,r,o)=>$I(n,o,Ot(AI(n,o),{onNone:()=>Tr(),onSome:s=>rr(s,r)})))),oq=e=>Array.from(RI(e.map)),iq=e=>Array.from(e.map),Pu="Die",Qs="Empty",fa="Fail",Mu="Interrupt",du="Parallel",hu="Sequential",JI="effect/Cause",YI=Symbol.for(JI),sq={_E:e=>e},Nu={[YI]:sq,[Re](){return F(fe(JI),je(fe(Sq(this))),It(this))},[Ie](e){return aq(e)&&bq(this,e)},pipe(){return ye(this,arguments)},toJSON(){switch(this._tag){case"Empty":return{_id:"Cause",_tag:this._tag};case"Die":return{_id:"Cause",_tag:this._tag,defect:Mt(this.defect)};case"Interrupt":return{_id:"Cause",_tag:this._tag,fiberId:this.fiberId.toJSON()};case"Fail":return{_id:"Cause",_tag:this._tag,failure:Mt(this.error)};case"Sequential":case"Parallel":return{_id:"Cause",_tag:this._tag,left:Mt(this.left),right:Mt(this.right)}}},toString(){return Lu(this)},[gt](){return this.toJSON()}},rl=(()=>{const e=Object.create(Nu);return e._tag=Qs,e})(),fh=e=>{const t=Object.create(Nu);return t._tag=fa,t.error=e,t},zo=e=>{const t=Object.create(Nu);return t._tag=Pu,t.defect=e,t},gi=e=>{const t=Object.create(Nu);return t._tag=Mu,t.fiberId=e,t},mp=(e,t)=>{const n=Object.create(Nu);return n._tag=du,n.left=e,n.right=t,n},Xr=(e,t)=>{const n=Object.create(Nu);return n._tag=hu,n.left=e,n.right=t,n},aq=e=>Ce(e,YI),uq=e=>e._tag===Qs,cq=e=>e._tag===fa,lq=e=>e._tag===Pu,fq=e=>e._tag===Qs?!0:pu(e,!0,(t,n)=>{switch(n._tag){case Qs:return we(t);case Pu:case fa:case Mu:return we(!1);default:return oe()}}),dq=e=>Ln(vq(e)),V_=e=>G_(void 0,Eq)(e),hq=e=>wi(pu(e,Tr(),(t,n)=>n._tag===fa?we(F(t,Hn(n.error))):oe())),pq=e=>wi(pu(e,Tr(),(t,n)=>n._tag===Pu?we(F(t,Hn(n.defect))):oe())),gq=e=>pu(e,Ys(),(t,n)=>n._tag===Mu?we(F(t,zc(n.fiberId))):oe()),mq=e=>H_(e,t=>t._tag===fa?we(t.error):oe()),yq=e=>{const t=mq(e);switch(t._tag){case"None":return Te(e);case"Some":return Se(t.value)}},vq=e=>H_(e,t=>t._tag===Mu?we(t.fiberId):oe()),LE=e=>XI(e,{onEmpty:rl,onFail:()=>rl,onDie:zo,onInterrupt:gi,onSequential:Xr,onParallel:mp}),_q=e=>XI(e,{onEmpty:rl,onFail:zo,onDie:zo,onInterrupt:gi,onSequential:Xr,onParallel:mp}),bq=(e,t)=>{let n=ir(e),r=ir(t);for(;Ei(n)&&Ei(r);){const[o,s]=F(Do(n),pu([Ys(),Tr()],([f,d],p)=>{const[g,m]=av(p);return we([F(f,Zc(g)),F(d,rr(m))])})),[a,c]=F(Do(r),pu([Ys(),Tr()],([f,d],p)=>{const[g,m]=av(p);return we([F(f,Zc(g)),F(d,rr(m))])}));if(!Ae(o,a))return!1;n=s,r=c}return!0},Sq=e=>wq(ir(e),Tr()),wq=(e,t)=>{for(;;){const[n,r]=F(e,gO([Ys(),Tr()],([s,a],c)=>{const[f,d]=av(c);return[F(s,Zc(f)),F(a,rr(d))]})),o=CI(n)>0?F(t,Hn(n)):t;if(aI(r))return wi(o);e=r,t=o}throw new Error(Zh("Cause.flattenCauseLoop"))},H_=I(2,(e,t)=>{const n=[e];for(;n.length>0;){const r=n.pop(),o=t(r);switch(o._tag){case"None":{switch(r._tag){case hu:case du:{n.push(r.right),n.push(r.left);break}}break}case"Some":return o}}return oe()}),av=e=>{let t=e;const n=[];let r=Ys(),o=Tr();for(;t!==void 0;)switch(t._tag){case Qs:{if(n.length===0)return[r,o];t=n.pop();break}case fa:{if(r=zc(r,Qm(t._tag,t.error)),n.length===0)return[r,o];t=n.pop();break}case Pu:{if(r=zc(r,Qm(t._tag,t.defect)),n.length===0)return[r,o];t=n.pop();break}case Mu:{if(r=zc(r,Qm(t._tag,t.fiberId)),n.length===0)return[r,o];t=n.pop();break}case hu:{switch(t.left._tag){case Qs:{t=t.right;break}case hu:{t=Xr(t.left.left,Xr(t.left.right,t.right));break}case du:{t=mp(Xr(t.left.left,t.right),Xr(t.left.right,t.right));break}default:{o=Hn(o,t.right),t=t.left;break}}break}case du:{n.push(t.right),t=t.left;break}}throw new Error(Zh("Cause.evaluateCauseLoop"))},Eq={emptyCase:fE,failCase:jy,dieCase:jy,interruptCase:fE,sequentialCase:(e,t,n)=>t&&n,parallelCase:(e,t,n)=>t&&n},FE="SequentialCase",BE="ParallelCase",XI=I(2,(e,{onDie:t,onEmpty:n,onFail:r,onInterrupt:o,onParallel:s,onSequential:a})=>G_(e,void 0,{emptyCase:()=>n,failCase:(c,f)=>r(f),dieCase:(c,f)=>t(f),interruptCase:(c,f)=>o(f),sequentialCase:(c,f,d)=>a(f,d),parallelCase:(c,f,d)=>s(f,d)})),pu=I(3,(e,t,n)=>{let r=t,o=e;const s=[];for(;o!==void 0;){const a=n(r,o);switch(r=Ln(a)?a.value:r,o._tag){case hu:{s.push(o.right),o=o.left;break}case du:{s.push(o.right),o=o.left;break}default:{o=void 0;break}}o===void 0&&s.length>0&&(o=s.pop())}return r}),G_=I(3,(e,t,n)=>{const r=[e],o=[];for(;r.length>0;){const a=r.pop();switch(a._tag){case Qs:{o.push(Te(n.emptyCase(t)));break}case fa:{o.push(Te(n.failCase(t,a.error)));break}case Pu:{o.push(Te(n.dieCase(t,a.defect)));break}case Mu:{o.push(Te(n.interruptCase(t,a.fiberId)));break}case hu:{r.push(a.right),r.push(a.left),o.push(Se({_tag:FE}));break}case du:{r.push(a.right),r.push(a.left),o.push(Se({_tag:BE}));break}}}const s=[];for(;o.length>0;){const a=o.pop();switch(a._tag){case"Left":{switch(a.left._tag){case FE:{const c=s.pop(),f=s.pop(),d=n.sequentialCase(t,c,f);s.push(d);break}case BE:{const c=s.pop(),f=s.pop(),d=n.parallelCase(t,c,f);s.push(d);break}}break}case"Right":{s.push(a.right);break}}}if(s.length===0)throw new Error("BUG: Cause.reduceWithContext - please report an issue at https://github.com/Effect-TS/effect/issues");return s.pop()}),Lu=(e,t)=>V_(e)?"All fibers interrupted without errors.":ZI(e).map(function(n){return(t==null?void 0:t.renderErrorCause)!==!0||n.cause===void 0?n.stack:`${n.stack} {
${QI(n.cause,"  ")}
}`}).join(`
`),QI=(e,t)=>{const n=e.stack.split(`
`);let r=`${t}[cause]: ${n[0]}`;for(let o=1,s=n.length;o<s;o++)r+=`
${t}${n[o]}`;return e.cause&&(r+=` {
${QI(e.cause,`${t}  `)}
${t}}`),r};class dh extends globalThis.Error{constructor(n){const r=typeof n=="object"&&n!==null,o=Error.stackTraceLimit;Error.stackTraceLimit=1;super(xq(n),r&&"cause"in n&&typeof n.cause<"u"?{cause:new dh(n.cause)}:void 0);_(this,"span");this.message===""&&(this.message="An error has occurred"),Error.stackTraceLimit=o,this.name=n instanceof Error?n.name:"Error",r&&(gu in n&&(this.span=n[gu]),Object.keys(n).forEach(s=>{s in this||(this[s]=n[s])})),this.stack=kq(`${this.name}: ${this.message}`,n instanceof Error&&n.stack?n.stack:"",this.span)}}const xq=e=>{if(typeof e=="string")return e;if(typeof e=="object"&&e!==null&&e instanceof Error)return e.message;try{if(Ce(e,"toString")&&Ou(e.toString)&&e.toString!==Object.prototype.toString&&e.toString!==globalThis.Array.prototype.toString)return e.toString()}catch{}return Kk(e)},Cq=/\((.*)\)/g,Tq=De("effect/Tracer/spanToTrace",()=>new WeakMap),kq=(e,t,n)=>{const r=[e],o=t.startsWith(e)?t.slice(e.length).split(`
`):t.split(`
`);for(let s=1;s<o.length&&!o[s].includes("Generator.next");s++){if(o[s].includes("effect_internal_function")){r.pop();break}r.push(o[s].replace(/at .*effect_instruction_i.*\((.*)\)/,"at $1").replace(/EffectPrimitive\.\w+/,"<anonymous>"))}if(n){let s=n,a=0;for(;s&&s._tag==="Span"&&a<10;){const c=Tq.get(s);if(typeof c=="function"){const f=c();if(typeof f=="string"){const d=f.matchAll(Cq);let p=!1;for(const[,g]of d)p=!0,r.push(`    at ${s.name} (${g})`);p||r.push(`    at ${s.name} (${f.replace(/^at /,"")})`)}else r.push(`    at ${s.name}`)}else r.push(`    at ${s.name}`);s=mo(s.parent),a++}}return r.join(`
`)},gu=Symbol.for("effect/SpanAnnotation"),ZI=e=>G_(e,void 0,{emptyCase:()=>[],dieCase:(t,n)=>[new dh(n)],failCase:(t,n)=>[new dh(n)],interruptCase:()=>[],parallelCase:(t,n,r)=>[...n,...r],sequentialCase:(t,n,r)=>[...n,...r]}),Dl="Pending",J_="Done",Oq="effect/Deferred",Iq=Symbol.for(Oq),Aq={_E:e=>e,_A:e=>e},$q=e=>({_tag:Dl,joiners:e}),eA=e=>({_tag:J_,effect:e});class Wl{constructor(t){_(this,"self");_(this,"called",!1);this.self=t}next(t){return this.called?{value:t,done:!0}:(this.called=!0,{value:this.self,done:!1})}return(t){return{value:t,done:!0}}throw(t){throw t}[Symbol.iterator](){return new Wl(this.self)}}const tA=(e,t)=>{const n=new on("Blocked");return n.effect_instruction_i0=e,n.effect_instruction_i1=t,n},Rq=e=>{const t=new on("RunBlocked");return t.effect_instruction_i0=e,t},mu=Symbol.for("effect/Effect");class Pq{constructor(t,n){_(this,"patch");_(this,"op");_(this,"_op",m_);this.patch=t,this.op=n}}var $T;class on{constructor(t){_(this,"_op");_(this,"effect_instruction_i0");_(this,"effect_instruction_i1");_(this,"effect_instruction_i2");_(this,"trace");_(this,$T,ou);this._op=t}[($T=mu,Ie)](t){return this===t}[Re](){return It(this,d_(this))}pipe(){return ye(this,arguments)}toJSON(){return{_id:"Effect",_op:this._op,effect_instruction_i0:Mt(this.effect_instruction_i0),effect_instruction_i1:Mt(this.effect_instruction_i1),effect_instruction_i2:Mt(this.effect_instruction_i2)}}toString(){return zt(this.toJSON())}[gt](){return this.toJSON()}[Symbol.iterator](){return new Wl(new Tl(this))}}var RT;class nA{constructor(t){_(this,"_op");_(this,"effect_instruction_i0");_(this,"effect_instruction_i1");_(this,"effect_instruction_i2");_(this,"trace");_(this,RT,ou);this._op=t,this._tag=t}[(RT=mu,Ie)](t){return c0(t)&&t._op==="Failure"&&Ae(this.effect_instruction_i0,t.effect_instruction_i0)}[Re](){return F(jt(this._tag),je(fe(this.effect_instruction_i0)),It(this))}get cause(){return this.effect_instruction_i0}pipe(){return ye(this,arguments)}toJSON(){return{_id:"Exit",_tag:this._op,cause:this.cause.toJSON()}}toString(){return zt(this.toJSON())}[gt](){return this.toJSON()}[Symbol.iterator](){return new Wl(new Tl(this))}}var PT;class rA{constructor(t){_(this,"_op");_(this,"effect_instruction_i0");_(this,"effect_instruction_i1");_(this,"effect_instruction_i2");_(this,"trace");_(this,PT,ou);this._op=t,this._tag=t}[(PT=mu,Ie)](t){return c0(t)&&t._op==="Success"&&Ae(this.effect_instruction_i0,t.effect_instruction_i0)}[Re](){return F(jt(this._tag),je(fe(this.effect_instruction_i0)),It(this))}get value(){return this.effect_instruction_i0}pipe(){return ye(this,arguments)}toJSON(){return{_id:"Exit",_tag:this._op,value:Mt(this.value)}}toString(){return zt(this.toJSON())}[gt](){return this.toJSON()}[Symbol.iterator](){return new Wl(new Tl(this))}}const yp=e=>Ce(e,mu),Fn=e=>{const t=new on(Gk);return t.effect_instruction_i0=e,t},Mq=I(3,(e,t,n)=>bp(r=>ae(e,o=>ae(iA(rt(()=>r(t(o)))),s=>rt(()=>n(o,s)).pipe(yu({onFailure:a=>{switch(s._tag){case Zr:return kr(Xr(s.effect_instruction_i0,a));case eo:return kr(a)}},onSuccess:()=>s})))))),Zs=I(2,(e,t)=>ae(e,()=>xe(t))),Fu=e=>Zs(e,void 0),oA=function(){const e=new on(tp);switch(arguments.length){case 2:{e.effect_instruction_i0=arguments[0],e.commit=arguments[1];break}case 3:{e.effect_instruction_i0=arguments[0],e.effect_instruction_i1=arguments[1],e.commit=arguments[2];break}case 4:{e.effect_instruction_i0=arguments[0],e.effect_instruction_i1=arguments[1],e.effect_instruction_i2=arguments[2],e.commit=arguments[3];break}default:throw new Error(Zh("you're not supposed to end up here"))}return e},hh=(e,t=lu)=>{const n=new on(Wc);let r;return n.effect_instruction_i0=o=>{r=e(o)},n.effect_instruction_i1=t,t0(n,o=>yp(r)?r:no)},Nq=(e,t=lu)=>rt(()=>hh(e,t)),ol=(e,t=lu)=>oA(e,function(){let n,r;function o(f){n?n(f):r===void 0&&(r=f)}const s=new on(Wc);s.effect_instruction_i0=f=>{n=f,r&&f(r)},s.effect_instruction_i1=t;let a,c;return this.effect_instruction_i0.length!==1?(c=new AbortController,a=Kn(()=>this.effect_instruction_i0(o,c.signal))):a=Kn(()=>this.effect_instruction_i0(o)),a||c?t0(s,f=>(c&&c.abort(),a??no)):s}),Lq=I(2,(e,t)=>{const n=new on(xd);return n.effect_instruction_i0=e,n.effect_instruction_i1=t,n}),il=I(2,(e,t)=>ea(e,{onFailure:t,onSuccess:xe})),jE=Symbol.for("effect/OriginalAnnotation"),Y_=(e,t)=>Ln(t)?new Proxy(e,{has(n,r){return r===gu||r===jE||r in n},get(n,r){return r===gu?t.value:r===jE?e:n[r]}}):e,ph=e=>hs(e)&&!(gu in e)?Fn(t=>kr(zo(Y_(e,d0(t))))):kr(zo(e)),DE=e=>Fq(()=>zo(new mK(e))),gh=e=>ea(e,{onFailure:t=>xe(Se(t)),onSuccess:t=>xe(Te(t))}),iA=e=>jq(e,{onFailure:ht,onSuccess:Dt}),mn=e=>hs(e)&&!(gu in e)?Fn(t=>kr(fh(Y_(e,d0(t))))):kr(fh(e)),X_=e=>ae(le(e),mn),kr=e=>{const t=new nA(Zr);return t.effect_instruction_i0=e,t},Fq=e=>ae(le(e),kr),Q_=Fn(e=>xe(e.id())),sA=e=>Fn(t=>e(t.id())),ae=I(2,(e,t)=>{const n=new on(Qd);return n.effect_instruction_i0=e,n.effect_instruction_i1=t,n}),Bq=e=>{const t=new on("OnStep");return t.effect_instruction_i0=e,t},aA=e=>ae(e,Pt),jq=I(2,(e,t)=>yu(e,{onFailure:n=>xe(t.onFailure(n)),onSuccess:n=>xe(t.onSuccess(n))})),yu=I(2,(e,t)=>{const n=new on(Zd);return n.effect_instruction_i0=e,n.effect_instruction_i1=t.onFailure,n.effect_instruction_i2=t.onSuccess,n}),ea=I(2,(e,t)=>yu(e,{onFailure:n=>{if(pq(n).length>0)return kr(_q(n));const o=hq(n);return o.length>0?t.onFailure(cI(o)):kr(n)},onSuccess:t.onSuccess})),es=I(2,(e,t)=>rt(()=>{const n=wt(e),r=np(n.length);let o=0;return Zs(r0({while:()=>o<n.length,body:()=>t(n[o],o),step:s=>{r[o++]=s}}),r)})),vp=I(2,(e,t)=>rt(()=>{const n=wt(e);let r=0;return r0({while:()=>r<n.length,body:()=>t(n[r],r),step:()=>{r++}})})),ks=ae(Q_,e=>uA(e)),uA=e=>kr(gi(e)),cA=e=>{const t=new on(Ol);return t.effect_instruction_i0=q6(Ru),t.effect_instruction_i1=()=>e,t},st=I(2,(e,t)=>ae(e,n=>le(()=>t(n)))),Z_=I(2,(e,t)=>ea(e,{onFailure:n=>X_(()=>t.onFailure(n)),onSuccess:n=>le(()=>t.onSuccess(n))})),_p=I(2,(e,t)=>yu(e,{onFailure:n=>{const r=yq(n);switch(r._tag){case"Left":return X_(()=>t(r.left));case"Right":return kr(r.right)}},onSuccess:xe})),e0=I(2,(e,t)=>bp(n=>yu(n(e),{onFailure:r=>{const o=ht(r);return yu(t(o),{onFailure:s=>ht(Xr(r,s)),onSuccess:()=>o})},onSuccess:r=>{const o=Dt(r);return ta(t(o),o)}}))),t0=I(2,(e,t)=>e0(e,vA({onFailure:n=>V_(n)?Fu(t(gq(n))):no,onSuccess:()=>no}))),Dq=e=>Wq(e,Pt),Wq=I(2,(e,t)=>ea(e,{onFailure:n=>ph(t(n)),onSuccess:xe})),xe=e=>{const t=new rA(eo);return t.effect_instruction_i0=e,t},rt=e=>{const t=new on(tp);return t.commit=e,t},le=e=>{const t=new on(Hk);return t.effect_instruction_i0=e,t},Uq=I(e=>e.length===3||e.length===2&&!(hs(e[1])&&"onlyEffect"in e[1]),(e,t)=>ae(e,n=>{const r=typeof t=="function"?t(n):t;return yp(r)?Zs(r,n):kD(r)?hh(o=>{r.then(s=>o(xe(n)),s=>o(mn(new _K(s,"An unknown error occurred in Effect.tap"))))}):xe(n)})),zq=e=>Fn(t=>{const n=t.getFiberRef(cv),r=F(n,bt(()=>t.scope()));return e(Sp(cv,we(r)))}),n0=e=>{const t=new on(Ol);return t.effect_instruction_i0=KI(Ru),t.effect_instruction_i1=()=>e,t},bp=e=>oA(e,function(){const t=new on(Ol);return t.effect_instruction_i0=KI(Ru),t.effect_instruction_i1=n=>zI(n)?Kn(()=>this.effect_instruction_i0(cA)):Kn(()=>this.effect_instruction_i0(n0)),t}),no=xe(void 0),qq=e=>{const t=new on(Ol);return t.effect_instruction_i0=e,t.effect_instruction_i1=void 0,t},Kq=I(2,(e,t)=>ae(t,n=>n?F(e,st(we)):xe(oe()))),r0=e=>{const t=new on(eh);return t.effect_instruction_i0=e.while,t.effect_instruction_i1=e.body,t.effect_instruction_i2=e.step,t},o0=e=>{const t=new on(Td);return typeof(e==null?void 0:e.priority)<"u"?lK(t,e.priority):t},lA=I(2,(e,t)=>ae(e,n=>st(t,r=>[n,r]))),fA=I(2,(e,t)=>ae(e,n=>Zs(t,n))),ta=I(2,(e,t)=>ae(e,()=>t)),Vq=I(3,(e,t,n)=>ae(e,r=>st(t,o=>n(r,o)))),Hq=e=>ae(Q_,t=>F(e,dA(t))),dA=I(2,(e,t)=>ae(e.interruptAsFork(t),()=>e.await)),Gq={_tag:"All",syslog:0,label:"ALL",ordinal:Number.MIN_SAFE_INTEGER,pipe(){return ye(this,arguments)}},Jq={_tag:"Fatal",syslog:2,label:"FATAL",ordinal:5e4,pipe(){return ye(this,arguments)}},Yq={_tag:"Error",syslog:3,label:"ERROR",ordinal:4e4,pipe(){return ye(this,arguments)}},Xq={_tag:"Warning",syslog:4,label:"WARN",ordinal:3e4,pipe(){return ye(this,arguments)}},hA={_tag:"Info",syslog:6,label:"INFO",ordinal:2e4,pipe(){return ye(this,arguments)}},pA={_tag:"Debug",syslog:7,label:"DEBUG",ordinal:1e4,pipe(){return ye(this,arguments)}},Qq={_tag:"Trace",syslog:7,label:"TRACE",ordinal:0,pipe(){return ye(this,arguments)}},Zq={_tag:"None",syslog:7,label:"OFF",ordinal:Number.MAX_SAFE_INTEGER,pipe(){return ye(this,arguments)}},eK="effect/FiberRef",tK=Symbol.for(eK),nK={_A:e=>e},i0=e=>Fn(t=>Dt(t.getFiberRef(e))),s0=I(2,(e,t)=>ae(i0(e),t)),WE=I(2,(e,t)=>rK(e,()=>[void 0,t])),rK=I(2,(e,t)=>Fn(n=>{const[r,o]=t(n.getFiberRef(e));return n.setFiberRef(e,o),xe(r)})),Sp=I(3,(e,t,n)=>Mq(fA(i0(t),WE(t,n)),()=>e,r=>WE(t,r))),$r=(e,t)=>Bu(e,{differ:jI(),fork:(t==null?void 0:t.fork)??Pt,join:t==null?void 0:t.join}),oK=e=>{const t=I6();return Bu(e,{differ:t,fork:t.empty})},iK=e=>{const t=A6(jI());return Bu(e,{differ:t,fork:t.empty})},gA=e=>{const t=O6();return Bu(e,{differ:t,fork:t.empty})},Bu=(e,t)=>({...$l,[tK]:nK,initial:e,commit(){return i0(this)},diff:(r,o)=>t.differ.diff(r,o),combine:(r,o)=>t.differ.combine(r,o),patch:r=>o=>t.differ.patch(r,o),fork:t.fork,join:t.join??((r,o)=>o)}),sK=e=>Bu(e,{differ:ME,fork:ME.empty}),Ul=De(Symbol.for("effect/FiberRef/currentContext"),()=>gA($_())),wp=De(Symbol.for("effect/FiberRef/currentSchedulingPriority"),()=>$r(0)),mA=De(Symbol.for("effect/FiberRef/currentMaxOpsBeforeYield"),()=>$r(2048)),aK=De(Symbol.for("effect/FiberRef/currentLogAnnotation"),()=>$r(U_())),uK=De(Symbol.for("effect/FiberRef/currentLogLevel"),()=>$r(hA)),cK=De(Symbol.for("effect/FiberRef/currentLogSpan"),()=>$r(fu())),lK=I(2,(e,t)=>Sp(e,wp,t)),fK=De(Symbol.for("effect/FiberRef/currentConcurrency"),()=>$r("unbounded")),dK=De(Symbol.for("effect/FiberRef/currentRequestBatching"),()=>$r(!0)),hK=De(Symbol.for("effect/FiberRef/currentUnhandledErrorLogLevel"),()=>$r(we(pA))),uv=De(Symbol.for("effect/FiberRef/currentMetricLabels"),()=>iK(Gs())),cv=De(Symbol.for("effect/FiberRef/currentForkScopeOverride"),()=>$r(oe(),{fork:()=>oe(),join:(e,t)=>e})),td=De(Symbol.for("effect/FiberRef/currentInterruptedCause"),()=>$r(rl,{fork:()=>rl,join:(e,t)=>e})),pK=(e,t)=>e.addFinalizer(()=>Fu(t)),gK=(e,t)=>e.close(t),Ep=(e,t)=>e.fork(t),a0=function(){class e extends globalThis.Error{commit(){return mn(this)}toJSON(){const n={...this};return this.message&&(n.message=this.message),this.cause&&(n.cause=this.cause),n}[gt](){return this.toString!==globalThis.Error.prototype.toString?this.stack?`${this.toString()}
${this.stack.split(`
`).slice(1).join(`
`)}`:this.toString():"Bun"in globalThis?Lu(fh(this),{renderErrorCause:!0}):this}}return Object.assign(e.prototype,JD),e}(),yA=(e,t)=>{class n extends a0{constructor(){super(...arguments);_(this,"_tag",t)}}return Object.assign(n.prototype,e),n.prototype.name=t,n},UE=Symbol.for("effect/Cause/errors/RuntimeException"),mK=yA({[UE]:UE},"RuntimeException"),yK=Symbol.for("effect/Cause/errors/InterruptedException"),vK=e=>Ce(e,yK),zE=Symbol.for("effect/Cause/errors/NoSuchElement"),u0=yA({[zE]:zE},"NoSuchElementException"),qE=Symbol.for("effect/Cause/errors/UnknownException"),_K=function(){class e extends a0{constructor(r,o){super(o??"An unknown error occurred",{cause:r});_(this,"_tag","UnknownException");_(this,"error");this.error=r}}return Object.assign(e.prototype,{[qE]:qE,name:"UnknownException"}),e}(),c0=e=>yp(e)&&"_tag"in e&&(e._tag==="Success"||e._tag==="Failure"),bK=e=>e._tag==="Success",KE=(e,t)=>xK(e,t!=null&&t.parallel?mp:Xr),SK=e=>ht(zo(e)),VE=e=>ht(fh(e)),ht=e=>{const t=new nA(Zr);return t.effect_instruction_i0=e,t},wK=e=>ht(gi(e)),ny=I(2,(e,t)=>{switch(e._tag){case Zr:return ht(e.effect_instruction_i0);case eo:return Dt(t(e.effect_instruction_i0))}}),vA=I(2,(e,{onFailure:t,onSuccess:n})=>{switch(e._tag){case Zr:return t(e.effect_instruction_i0);case eo:return n(e.effect_instruction_i0)}}),Dt=e=>{const t=new rA(eo);return t.effect_instruction_i0=e,t},Ns=Dt(void 0),EK=I(3,(e,t,{onFailure:n,onSuccess:r})=>{switch(e._tag){case Zr:switch(t._tag){case eo:return ht(e.effect_instruction_i0);case Zr:return ht(n(e.effect_instruction_i0,t.effect_instruction_i0))}case eo:switch(t._tag){case eo:return Dt(r(e.effect_instruction_i0,t.effect_instruction_i0));case Zr:return ht(t.effect_instruction_i0)}}}),xK=(e,t)=>{const n=ih(e);return Ei(n)?F(vi(n),gO(F(Do(n),ny(ir)),(r,o)=>F(r,EK(o,{onSuccess:(s,a)=>F(s,Hn(a)),onFailure:t}))),ny(wi),ny(r=>Ws(r)),we):oe()},l0=e=>({...$l,[Iq]:Aq,state:hp($q([])),commit(){return mh(this)},blockingOn:e}),CK=()=>ae(Q_,e=>TK(e)),TK=e=>le(()=>l0(e)),mh=e=>Nq(t=>{const n=pn(e.state);switch(n._tag){case J_:return t(n.effect);case Dl:return n.joiners.push(t),IK(e,t)}},e.blockingOn),_A=I(2,(e,t)=>le(()=>{const n=pn(e.state);switch(n._tag){case J_:return!1;case Dl:{Ll(e.state,eA(t));for(let r=0,o=n.joiners.length;r<o;r++)n.joiners[r](t);return!0}}})),kK=I(2,(e,t)=>_A(e,uA(t))),OK=I(2,(e,t)=>_A(e,xe(t))),f0=(e,t)=>{const n=pn(e.state);if(n._tag===Dl){Ll(e.state,eA(t));for(let r=0,o=n.joiners.length;r<o;r++)n.joiners[r](t)}},IK=(e,t)=>le(()=>{const n=pn(e.state);if(n._tag===Dl){const r=n.joiners.indexOf(t);r>=0&&n.joiners.splice(r,1)}}),AK=Fn(e=>Dt(e.currentContext)),$K=()=>AK,zl=e=>ae($K(),e),RK=I(2,(e,t)=>Sp(Ul,t)(e)),PK=I(2,(e,t)=>zl(n=>RK(e,t(n)))),d0=e=>{const t=e.currentSpan;return t!==void 0&&t._tag==="Span"?we(t):oe()},MK=bK,HE=Symbol.for("effect/MutableHashMap"),NK={[HE]:HE,[Symbol.iterator](){return new h0(this)},toString(){return zt(this.toJSON())},toJSON(){return{_id:"MutableHashMap",values:Array.from(this).map(Mt)}},[gt](){return this.toJSON()},pipe(){return ye(this,arguments)}};class h0{constructor(t){_(this,"self");_(this,"referentialIterator");_(this,"bucketIterator");this.self=t,this.referentialIterator=t.referential[Symbol.iterator]()}next(){if(this.bucketIterator!==void 0)return this.bucketIterator.next();const t=this.referentialIterator.next();return t.done?(this.bucketIterator=new LK(this.self.buckets.values()),this.next()):t}[Symbol.iterator](){return new h0(this.self)}}class LK{constructor(t){_(this,"backing");_(this,"currentBucket");this.backing=t}next(){if(this.currentBucket===void 0){const n=this.backing.next();if(n.done)return n;this.currentBucket=n.value[Symbol.iterator]()}const t=this.currentBucket.next();return t.done?(this.currentBucket=void 0,this.next()):t}}const FK=()=>{const e=Object.create(NK);return e.referential=new Map,e.buckets=new Map,e.bucketsSize=0,e},Rs=I(2,(e,t)=>{if(Xd(t)===!1)return e.referential.has(t)?we(e.referential.get(t)):oe();const n=t[Re](),r=e.buckets.get(n);return r===void 0?oe():BK(e,r,t)}),BK=(e,t,n,r=!1)=>{for(let o=0,s=t.length;o<s;o++)if(n[Ie](t[o][0])){const a=t[o][1];return r&&(t.splice(o,1),e.bucketsSize--),we(a)}return oe()},wc=I(2,(e,t)=>Ln(Rs(e,t))),Ec=I(3,(e,t,n)=>{if(Xd(t)===!1)return e.referential.set(t,n),e;const r=t[Re](),o=e.buckets.get(r);return o===void 0?(e.buckets.set(r,[[t,n]]),e.bucketsSize++,e):(jK(e,o,t),o.push([t,n]),e.bucketsSize++,e)}),jK=(e,t,n)=>{for(let r=0,o=t.length;r<o;r++)if(n[Ie](t[r][0])){t.splice(r,1),e.bucketsSize--;return}},GE=Symbol.for("effect/MutableList"),DK={[GE]:GE,[Symbol.iterator](){let e=!1,t=this.head;return{next(){if(e)return this.return();if(t==null)return e=!0,this.return();const n=t.value;return t=t.next,{done:e,value:n}},return(n){return e||(e=!0),{done:!0,value:n}}}},toString(){return zt(this.toJSON())},toJSON(){return{_id:"MutableList",values:Array.from(this).map(Mt)}},[gt](){return this.toJSON()},pipe(){return ye(this,arguments)}},WK=e=>({value:e,removed:!1,prev:void 0,next:void 0}),UK=()=>{const e=Object.create(DK);return e.head=void 0,e.tail=void 0,e._length=0,e},bA=e=>p0(e)===0,p0=e=>e._length,zK=I(2,(e,t)=>{const n=WK(t);return e.head===void 0&&(e.head=n),e.tail===void 0||(e.tail.next=n,n.prev=e.tail),e.tail=n,e._length+=1,e}),qK=e=>{const t=e.head;if(t!==void 0)return KK(e,t),t.value},KK=(e,t)=>{t.removed||(t.removed=!0,t.prev!==void 0&&t.next!==void 0?(t.prev.next=t.next,t.next.prev=t.prev):t.prev!==void 0?(e.tail=t.prev,t.prev.next=void 0):t.next!==void 0?(e.head=t.next,t.next.prev=void 0):(e.tail=void 0,e.head=void 0),e._length>0&&(e._length-=1))},JE=Symbol.for("effect/MutableQueue"),Jr=Symbol.for("effect/mutable/MutableQueue/Empty"),VK={[JE]:JE,[Symbol.iterator](){return Array.from(this.queue)[Symbol.iterator]()},toString(){return zt(this.toJSON())},toJSON(){return{_id:"MutableQueue",values:Array.from(this).map(Mt)}},[gt](){return this.toJSON()},pipe(){return ye(this,arguments)}},HK=e=>{const t=Object.create(VK);return t.queue=UK(),t.capacity=e,t},SA=()=>HK(void 0),wA=e=>p0(e.queue),GK=e=>bA(e.queue),JK=e=>e.capacity===void 0?1/0:e.capacity,g0=I(2,(e,t)=>{const n=p0(e.queue);return e.capacity!==void 0&&n===e.capacity?!1:(zK(t)(e.queue),!0)}),EA=I(2,(e,t)=>{const n=t[Symbol.iterator]();let r,o=Tr(),s=!0;for(;s&&(r=n.next())&&!r.done;)s=g0(r.value)(e);for(;r!=null&&!r.done;)o=Hn(r.value)(o),r=n.next();return wi(o)}),sl=I(2,(e,t)=>bA(e.queue)?t:qK(e.queue)),m0=I(2,(e,t)=>{let n=Tr(),r=0;for(;r<t;){const o=sl(Jr)(e);if(o===Jr)break;n=Hn(o)(n),r+=1}return wi(n)});function YK(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var xA={exports:{}},Lt=xA.exports={},$o,Ro;function lv(){throw new Error("setTimeout has not been defined")}function fv(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?$o=setTimeout:$o=lv}catch{$o=lv}try{typeof clearTimeout=="function"?Ro=clearTimeout:Ro=fv}catch{Ro=fv}})();function CA(e){if($o===setTimeout)return setTimeout(e,0);if(($o===lv||!$o)&&setTimeout)return $o=setTimeout,setTimeout(e,0);try{return $o(e,0)}catch{try{return $o.call(null,e,0)}catch{return $o.call(this,e,0)}}}function XK(e){if(Ro===clearTimeout)return clearTimeout(e);if((Ro===fv||!Ro)&&clearTimeout)return Ro=clearTimeout,clearTimeout(e);try{return Ro(e)}catch{try{return Ro.call(null,e)}catch{return Ro.call(this,e)}}}var _i=[],Za=!1,Ls,Pd=-1;function QK(){!Za||!Ls||(Za=!1,Ls.length?_i=Ls.concat(_i):Pd=-1,_i.length&&TA())}function TA(){if(!Za){var e=CA(QK);Za=!0;for(var t=_i.length;t;){for(Ls=_i,_i=[];++Pd<t;)Ls&&Ls[Pd].run();Pd=-1,t=_i.length}Ls=null,Za=!1,XK(e)}}Lt.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];_i.push(new kA(e,t)),_i.length===1&&!Za&&CA(TA)};function kA(e,t){this.fun=e,this.array=t}kA.prototype.run=function(){this.fun.apply(null,this.array)};Lt.title="browser";Lt.browser=!0;Lt.env={};Lt.argv=[];Lt.version="";Lt.versions={};function $i(){}Lt.on=$i;Lt.addListener=$i;Lt.once=$i;Lt.off=$i;Lt.removeListener=$i;Lt.removeAllListeners=$i;Lt.emit=$i;Lt.prependListener=$i;Lt.prependOnceListener=$i;Lt.listeners=function(e){return[]};Lt.binding=function(e){throw new Error("process.binding is not supported")};Lt.cwd=function(){return"/"};Lt.chdir=function(e){throw new Error("process.chdir is not supported")};Lt.umask=function(){return 0};var ZK=xA.exports;const vo=YK(ZK),e8="effect/Clock",YE=Symbol.for(e8),xp=la("effect/Clock"),t8=2**31-1,XE={unsafeSchedule(e,t){const n=Yy(t);if(n>t8)return jy;let r=!1;const o=setTimeout(()=>{r=!0,e()},n);return()=>(clearTimeout(o),!r)}},QE=function(){const e=BigInt(1e6);if(typeof performance>"u")return()=>BigInt(Date.now())*e;if(typeof performance.timeOrigin=="number"&&performance.timeOrigin===0)return()=>BigInt(Math.round(performance.now()*1e6));const t=BigInt(Date.now())*e-BigInt(Math.round(performance.now()*1e6));return()=>t+BigInt(Math.round(performance.now()*1e6))}(),n8=function(){const e=typeof vo=="object"&&"hrtime"in vo&&typeof vo.hrtime.bigint=="function"?vo.hrtime:void 0;if(!e)return QE;const t=QE()-e.bigint();return()=>t+e.bigint()}();var MT;MT=YE;class r8{constructor(){_(this,MT,YE);_(this,"currentTimeMillis",le(()=>this.unsafeCurrentTimeMillis()));_(this,"currentTimeNanos",le(()=>this.unsafeCurrentTimeNanos()))}unsafeCurrentTimeMillis(){return Date.now()}unsafeCurrentTimeNanos(){return n8()}scheduler(){return xe(XE)}sleep(t){return ol(n=>{const r=XE.unsafeSchedule(()=>n(no),t);return Fu(le(r))})}}const o8=()=>new r8,OA="And",IA="Or",AA="InvalidData",$A="MissingData",RA="SourceUnavailable",PA="Unsupported",i8="effect/ConfigError",ZE=Symbol.for(i8),ju={_tag:"ConfigError",[ZE]:ZE},MA=(e,t)=>{const n=Object.create(ju);return n._op=OA,n.left=e,n.right=t,Object.defineProperty(n,"toString",{enumerable:!1,value(){return`${this.left} and ${this.right}`}}),n},NA=(e,t)=>{const n=Object.create(ju);return n._op=IA,n.left=e,n.right=t,Object.defineProperty(n,"toString",{enumerable:!1,value(){return`${this.left} or ${this.right}`}}),n},s8=(e,t,n={pathDelim:"."})=>{const r=Object.create(ju);return r._op=AA,r.path=e,r.message=t,Object.defineProperty(r,"toString",{enumerable:!1,value(){return`(Invalid data at ${F(this.path,Au(n.pathDelim))}: "${this.message}")`}}),r},na=(e,t,n={pathDelim:"."})=>{const r=Object.create(ju);return r._op=$A,r.path=e,r.message=t,Object.defineProperty(r,"toString",{enumerable:!1,value(){return`(Missing data at ${F(this.path,Au(n.pathDelim))}: "${this.message}")`}}),r},a8=(e,t,n,r={pathDelim:"."})=>{const o=Object.create(ju);return o._op=RA,o.path=e,o.message=t,o.cause=n,Object.defineProperty(o,"toString",{enumerable:!1,value(){return`(Source unavailable at ${F(this.path,Au(r.pathDelim))}: "${this.message}")`}}),o},u8=(e,t,n={pathDelim:"."})=>{const r=Object.create(ju);return r._op=PA,r.path=e,r.message=t,Object.defineProperty(r,"toString",{enumerable:!1,value(){return`(Unsupported operation at ${F(this.path,Au(n.pathDelim))}: "${this.message}")`}}),r},Fs=I(2,(e,t)=>{switch(e._op){case OA:return MA(Fs(e.left,t),Fs(e.right,t));case IA:return NA(Fs(e.left,t),Fs(e.right,t));case AA:return s8([...t,...e.path],e.message);case $A:return na([...t,...e.path],e.message);case RA:return a8([...t,...e.path],e.message,e.cause);case PA:return u8([...t,...e.path],e.message)}}),c8={_tag:"Empty"},ry=I(2,(e,t)=>{let n=z_(t),r=e;for(;N4(n);){const o=n.head;switch(o._tag){case"Empty":{n=n.tail;break}case"AndThen":{n=Xs(o.first,Xs(o.second,n.tail));break}case"MapName":{r=Ya(r,o.f),n=n.tail;break}case"Nested":{r=nh(r,o.name),n=n.tail;break}case"Unnested":{if(F(Uc(r),bW(o.name)))r=Hs(r),n=n.tail;else return Se(na(r,`Expected ${o.name} to be in path in ConfigProvider#unnested`));break}}}return Te(r)}),l8="Constant",f8="Fail",d8="Fallback",h8="Described",p8="Lazy",g8="MapOrFail",m8="Nested",y8="Primitive",v8="Sequence",_8="HashMap",b8="ZipWith";var ex={};const yh=(e,t)=>[...e,...t],S8="effect/ConfigProvider",tx=Symbol.for(S8),w8=la("effect/ConfigProvider"),E8="effect/ConfigProviderFlat",nx=Symbol.for(E8),x8=e=>({[tx]:tx,pipe(){return ye(this,arguments)},...e}),C8=e=>({[nx]:nx,patch:e.patch,load:(t,n,r=!0)=>e.load(t,n,r),enumerateChildren:e.enumerateChildren}),T8=e=>x8({load:t=>ae(Vr(e,Gs(),t,!1),n=>Ot(Uc(n),{onNone:()=>mn(na(Gs(),`Expected a single value having structure: ${t}`)),onSome:xe})),flattened:e}),k8=e=>{const{pathDelim:t,seqDelim:n}=Object.assign({},{pathDelim:"_",seqDelim:","},e),r=f=>F(f,Au(t)),o=f=>f.split(t),s=()=>typeof vo<"u"&&"env"in vo&&typeof ex=="object"?ex:{};return T8(C8({load:(f,d,p=!0)=>{const g=r(f),m=s(),y=g in m?we(m[g]):oe();return F(y,_p(()=>na(f,`Expected ${g} to exist in the process context`)),ae(b=>R8(b,f,d,n,p)))},enumerateChildren:f=>le(()=>{const d=s(),m=Object.keys(d).map(y=>o(y.toUpperCase())).filter(y=>{for(let b=0;b<f.length;b++){const x=F(f,lO(b)),T=y[b];if(T===void 0||x!==T)return!1}return!0}).flatMap(y=>y.slice(f.length,f.length+1));return m4(m)}),patch:c8}))},O8=(e,t,n,r)=>{const o=gE(n.length,f=>f>=r.length?oe():we([e(f),f+1])),s=gE(r.length,f=>f>=n.length?oe():we([t(f),f+1])),a=yh(n,o),c=yh(r,s);return[a,c]},I8=(e,t)=>{let n=t;if(n._tag==="Nested"){const r=e.slice();for(;n._tag==="Nested";)r.push(n.name),n=n.config;return r}return e},Vr=(e,t,n,r)=>{const o=n;switch(o._tag){case l8:return xe(go(o.value));case h8:return rt(()=>Vr(e,t,o.config,r));case f8:return mn(na(t,o.message));case d8:return F(rt(()=>Vr(e,t,o.first,r)),il(s=>o.condition(s)?F(Vr(e,t,o.second,r),il(a=>mn(NA(s,a)))):mn(s)));case p8:return rt(()=>Vr(e,t,o.config(),r));case g8:return rt(()=>F(Vr(e,t,o.original,r),ae(es(s=>F(o.mapOrFail(s),_p(Fs(I8(t,o.original))))))));case m8:return rt(()=>Vr(e,yh(t,go(o.name)),o.config,r));case y8:return F(ry(t,e.patch),ae(s=>F(e.load(s,o,r),ae(a=>{if(a.length===0){const c=F(RW(s),bt(()=>"<n/a>"));return mn(na([],`Expected ${o.description} with name ${c}`))}return xe(a)}))));case v8:return F(ry(t,e.patch),ae(s=>F(e.enumerateChildren(s),ae(M8),ae(a=>a.length===0?rt(()=>st(Vr(e,t,o.config,!0),go)):F(es(a,c=>Vr(e,TW(t,`[${c}]`),o.config,!0)),st(c=>{const f=pO(c);return f.length===0?go(Gs()):go(f)}))))));case _8:return rt(()=>F(ry(t,e.patch),ae(s=>F(e.enumerateChildren(s),ae(a=>F(a,es(c=>Vr(e,yh(s,go(c)),o.valueConfig,r)),st(c=>c.length===0?go(U_()):F(P8(c),Ya(f=>T4(pE(wt(a),f)))))))))));case b8:return rt(()=>F(Vr(e,t,o.left,r),gh,ae(s=>F(Vr(e,t,o.right,r),gh,ae(a=>{if(en(s)&&en(a))return mn(MA(s.left,a.left));if(en(s)&&yi(a))return mn(s.left);if(yi(s)&&en(a))return mn(a.left);if(yi(s)&&yi(a)){const c=F(t,Au(".")),f=A8(t,c),[d,p]=O8(f,f,F(s.right,Ya(Te)),F(a.right,Ya(Te)));return F(d,pE(p),es(([g,m])=>F(lA(g,m),st(([y,b])=>o.zip(y,b)))))}throw new Error("BUG: ConfigProvider.fromFlatLoop - please report an issue at https://github.com/Effect-TS/effect/issues")})))))}},A8=(e,t)=>n=>Se(na(e,`The element at index ${n} in a sequence at path "${t}" was missing`)),$8=(e,t)=>e.split(new RegExp(`\\s*${rh(t)}\\s*`)),R8=(e,t,n,r,o)=>o?F($8(e,r),es(s=>n.parse(s.trim())),_p(Fs(t))):F(n.parse(e),Z_({onFailure:Fs(t),onSuccess:go})),P8=e=>Object.keys(e[0]).map(t=>e.map(n=>n[t])),M8=e=>F(es(e,L8),Z_({onFailure:()=>Gs(),onSuccess:Yc(iu)}),gh,st(cW)),N8=/^(\[(\d+)\])$/,L8=e=>{const t=e.match(N8);if(t!==null){const n=t[2];return F(n!==void 0&&n.length>0?we(n):oe(),is(F8))}return oe()},F8=e=>{const t=Number.parseInt(e);return Number.isNaN(t)?oe():we(t)},rx=Symbol.for("effect/Console"),LA=la("effect/Console"),B8={[rx]:rx,assert(e,...t){return le(()=>{console.assert(e,...t)})},clear:le(()=>{console.clear()}),count(e){return le(()=>{console.count(e)})},countReset(e){return le(()=>{console.countReset(e)})},debug(...e){return le(()=>{console.debug(...e)})},dir(e,t){return le(()=>{console.dir(e,t)})},dirxml(...e){return le(()=>{console.dirxml(...e)})},error(...e){return le(()=>{console.error(...e)})},group(e){return e!=null&&e.collapsed?le(()=>console.groupCollapsed(e==null?void 0:e.label)):le(()=>console.group(e==null?void 0:e.label))},groupEnd:le(()=>{console.groupEnd()}),info(...e){return le(()=>{console.info(...e)})},log(...e){return le(()=>{console.log(...e)})},table(e,t){return le(()=>{console.table(e,t)})},time(e){return le(()=>console.time(e))},timeEnd(e){return le(()=>console.timeEnd(e))},timeLog(e,...t){return le(()=>{console.timeLog(e,...t)})},trace(...e){return le(()=>{console.trace(...e)})},warn(...e){return le(()=>{console.warn(...e)})},unsafe:console},j8="effect/Random",ox=Symbol.for(j8),D8=la("effect/Random");var NT;NT=ox;class W8{constructor(t){_(this,"seed");_(this,NT,ox);_(this,"PRNG");this.seed=t,this.PRNG=new MD(t)}get next(){return le(()=>this.PRNG.number())}get nextBoolean(){return st(this.next,t=>t>.5)}get nextInt(){return le(()=>this.PRNG.integer(Number.MAX_SAFE_INTEGER))}nextRange(t,n){return st(this.next,r=>(n-t)*r+t)}nextIntBetween(t,n){return le(()=>this.PRNG.integer(n-t)+t)}shuffle(t){return U8(t,n=>this.nextIntBetween(0,n))}}const U8=(e,t)=>rt(()=>F(le(()=>Array.from(e)),ae(n=>{const r=[];for(let o=n.length;o>=2;o=o-1)r.push(o);return F(r,vp(o=>F(t(o),st(s=>z8(n,o-1,s)))),Zs(ih(n)))}))),z8=(e,t,n)=>{const r=e[t];return e[t]=e[n],e[n]=r,e},q8=e=>new W8(fe(e)),ix=Symbol.for("effect/Tracer"),K8=e=>({[ix]:ix,...e}),FA=la("effect/Tracer"),BA=la("effect/ParentSpan"),sx=function(){const e="abcdef0123456789",t=e.length;return function(n){let r="";for(let o=0;o<n;o++)r+=e.charAt(Math.floor(Math.random()*t));return r}}();class V8{constructor(t,n,r,o,s,a){_(this,"name");_(this,"parent");_(this,"context");_(this,"links");_(this,"startTime");_(this,"kind");_(this,"_tag","Span");_(this,"spanId");_(this,"traceId","native");_(this,"sampled",!0);_(this,"status");_(this,"attributes");_(this,"events",[]);this.name=t,this.parent=n,this.context=r,this.links=o,this.startTime=s,this.kind=a,this.status={_tag:"Started",startTime:s},this.attributes=new Map,this.traceId=n._tag==="Some"?n.value.traceId:sx(32),this.spanId=sx(16)}end(t,n){this.status={_tag:"Ended",endTime:t,exit:n,startTime:this.status.startTime}}attribute(t,n){this.attributes.set(t,n)}event(t,n,r){this.events.push([t,n,r??{}])}}const H8=K8({span:(e,t,n,r,o,s)=>new V8(e,t,n,r,o,s),context:e=>e()}),G8=F($_(),Sc(xp,o8()),Sc(LA,B8),Sc(D8,q8(Math.random())),Sc(w8,k8()),Sc(FA,H8)),vh=De(Symbol.for("effect/DefaultServices/currentServices"),()=>gA(G8)),J8=e=>{const t=Go(e);return jA(n=>n.sleep(t))},Y8=e=>Fn(t=>e(t.currentDefaultServices)),jA=e=>Y8(t=>e(t.unsafeMap.get(xp.key))),X8=jA(e=>e.currentTimeMillis),Q8=J8,Z8=X8;function e7(e){return new as(e)}function t7(){return e7(new Map)}const ax=Symbol.for("effect/FiberRefs");var LT;LT=ax;class as{constructor(t){_(this,"locals");_(this,LT,ax);this.locals=t}pipe(){return ye(this,arguments)}}const n7=(e,t,n,r=!1)=>{const o=e;let s=t,a=n,c=r,f;for(;f===void 0;)if(rn(s)&&rn(a)){const d=or(s)[0],p=Hs(s),g=or(a)[0],m=or(a)[1],y=Hs(a);d.startTimeMillis<g.startTimeMillis?(a=y,c=!0):d.startTimeMillis>g.startTimeMillis?s=p:d.id<g.id?(a=y,c=!0):d.id>g.id?s=p:f=[m,c]}else f=[o.initial,!0];return f},r7=I(3,(e,t,n)=>{const r=new Map(e.locals);return n.locals.forEach((o,s)=>{const a=o[0][1];if(!o[0][0][Ie](t)){if(!r.has(s)){if(Ae(a,s.initial))return;r.set(s,[[t,s.join(s.initial,a)]]);return}const c=r.get(s),[f,d]=n7(s,c,o);if(d){const p=s.diff(f,a),g=c[0][1],m=s.join(g,s.patch(p)(g));if(!Ae(g,m)){let y;const b=c[0][0];b[Ie](t)?y=[[b,m],...c.slice(1)]:y=[[t,m],...c],r.set(s,y)}}}}),new as(r)}),o7=I(2,(e,t)=>{const n=new Map;return DA(e,n,t),new as(n)}),DA=(e,t,n)=>{e.locals.forEach((r,o)=>{const s=r[0][1],a=o.patch(o.fork)(s);Ae(s,a)?t.set(o,r):t.set(o,[[n,a],...r])})},WA=I(2,(e,t)=>{const n=new Map(e.locals);return n.delete(t),new as(n)}),i7=I(2,(e,t)=>e.locals.has(t)?we(or(e.locals.get(t))[1]):oe()),al=I(2,(e,t)=>F(i7(e,t),bt(()=>t.initial))),dv=I(2,(e,{fiberId:t,fiberRef:n,value:r})=>{if(e.locals.size===0)return new as(new Map([[n,[[t,r]]]]));const o=new Map(e.locals);return hv(o,t,n,r),new as(o)}),hv=(e,t,n,r)=>{const o=e.get(n)??[];let s;if(rn(o)){const[a,c]=or(o);if(a[Ie](t)){if(Ae(c,r))return;s=[[t,r],...o.slice(1)]}else s=[[t,r],...o]}else s=[[t,r]];e.set(n,s)},s7=I(2,(e,{entries:t,forkAs:n})=>{if(e.locals.size===0)return new as(new Map(t));const r=new Map(e.locals);return n!==void 0&&DA(e,r,n),t.forEach(([o,s])=>{s.length===1?hv(r,s[0][0],o,s[0][1]):s.forEach(([a,c])=>{hv(r,a,o,c)})}),new as(r)}),a7=al,u7=s7,c7=t7,l7=Gq,f7=Jq,d7=Yq,h7=Xq,p7=hA,g7=pA,m7=Qq,y7=Zq,v7=F(iu,sO(e=>e.ordinal)),_7=fW(v7),b7=e=>{switch(e){case"All":return l7;case"Debug":return g7;case"Error":return d7;case"Fatal":return f7;case"Info":return p7;case"Trace":return m7;case"None":return y7;case"Warning":return h7}},UA=e=>e.replace(/[\s="]/g,"_"),S7=e=>t=>`${UA(t.label)}=${e-t.startTime}ms`,w7=Il,E7=YD;class y0 extends E7{}const ux=Symbol.for("effect/Readable"),x7=Symbol.for("effect/Ref"),C7={_A:e=>e};var FT,BT,jT;class T7 extends(jT=y0,BT=x7,FT=ux,jT){constructor(n){super();_(this,"ref");_(this,BT,C7);_(this,FT,ux);_(this,"get");this.ref=n,this.get=le(()=>pn(this.ref))}commit(){return this.get}modify(n){return le(()=>{const r=pn(this.ref),[o,s]=n(r);return r!==s&&Ll(s)(this.ref),o})}}const k7=e=>new T7(hp(e)),O7=e=>le(()=>k7(e)),oy=e=>e.get,cx=I(2,(e,t)=>e.modify(()=>[void 0,t])),zA="Empty",qA="Add",KA="Remove",VA="Update",HA="AndThen",I7={_tag:zA},A7=(e,t)=>{const n=new Map(e.locals);let r=I7;for(const[o,s]of t.locals.entries()){const a=or(s)[1],c=n.get(o);if(c!==void 0){const f=or(c)[1];Ae(f,a)||(r=iy({_tag:VA,fiberRef:o,patch:o.diff(f,a)})(r))}else r=iy({_tag:qA,fiberRef:o,value:a})(r);n.delete(o)}for(const[o]of n.entries())r=iy({_tag:KA,fiberRef:o})(r);return r},iy=I(2,(e,t)=>({_tag:HA,first:e,second:t})),$7=I(3,(e,t,n)=>{let r=n,o=go(e);for(;rn(o);){const s=or(o),a=Hs(o);switch(s._tag){case zA:{o=a;break}case qA:{r=dv(r,{fiberId:t,fiberRef:s.fiberRef,value:s.value}),o=a;break}case KA:{r=WA(r,s.fiberRef),o=a;break}case VA:{const c=al(r,s.fiberRef);r=dv(r,{fiberId:t,fiberRef:s.fiberRef,value:s.fiberRef.patch(s.patch)(c)}),o=a;break}case HA:{o=nh(s.first)(nh(s.second)(a));break}}}return r}),GA="effect/MetricLabel",pv=Symbol.for(GA);var DT;class R7{constructor(t,n){_(this,"key");_(this,"value");_(this,DT,pv);_(this,"_hash");this.key=t,this.value=n,this._hash=jt(GA+this.key+this.value)}[(DT=pv,Re)](){return this._hash}[Ie](t){return M7(t)&&this.key===t.key&&this.value===t.value}pipe(){return ye(this,arguments)}}const P7=(e,t)=>new R7(e,t),M7=e=>Ce(e,pv),N7=e=>st(e,t=>!t),L7=Q8,F7="Sequential",B7="Parallel",j7="ParallelN",JA={_tag:F7},D7={_tag:B7},W7=e=>({_tag:j7,parallelism:e}),gv=JA,mv=D7,yv=W7,U7=A7,z7=$7,Cp="effect/FiberStatus",ra=Symbol.for(Cp),_h="Done",lx="Running",fx="Suspended",q7=jt(`${Cp}-${_h}`);var WT;class K7{constructor(){_(this,WT,ra);_(this,"_tag",_h)}[(WT=ra,Re)](){return q7}[Ie](t){return v0(t)&&t._tag===_h}}var UT;class V7{constructor(t){_(this,"runtimeFlags");_(this,UT,ra);_(this,"_tag",lx);this.runtimeFlags=t}[(UT=ra,Re)](){return F(fe(Cp),je(fe(this._tag)),je(fe(this.runtimeFlags)),It(this))}[Ie](t){return v0(t)&&t._tag===lx&&this.runtimeFlags===t.runtimeFlags}}var zT;class H7{constructor(t,n){_(this,"runtimeFlags");_(this,"blockingOn");_(this,zT,ra);_(this,"_tag",fx);this.runtimeFlags=t,this.blockingOn=n}[(zT=ra,Re)](){return F(fe(Cp),je(fe(this._tag)),je(fe(this.runtimeFlags)),je(fe(this.blockingOn)),It(this))}[Ie](t){return v0(t)&&t._tag===fx&&this.runtimeFlags===t.runtimeFlags&&Ae(this.blockingOn,t.blockingOn)}}const G7=new K7,J7=e=>new V7(e),Y7=(e,t)=>new H7(e,t),v0=e=>Ce(e,ra),X7=e=>e._tag===_h,Q7=G7,YA=J7,Z7=Y7,e9=X7,t9=Symbol.for("effect/Micro"),bh=Symbol.for("effect/Micro/MicroExit"),dx=Symbol.for("effect/Micro/MicroCause"),n9={_E:Pt};var qT;class XA extends globalThis.Error{constructor(n,r,o){const s=`MicroCause.${n}`;let a,c,f;if(r instanceof globalThis.Error){a=`(${s}) ${r.name}`,c=r.message;const d=c.split(`
`).length;f=r.stack?`(${s}) ${r.stack.split(`
`).slice(0,d+3).join(`
`)}`:`${a}: ${c}`}else a=s,c=ru(r,0),f=`${a}: ${c}`;o.length>0&&(f+=`
    ${o.join(`
    `)}`);super(c);_(this,"_tag");_(this,"traces");_(this,qT);this._tag=n,this.traces=o,this[dx]=n9,this.name=a,this.stack=f}pipe(){return ye(this,arguments)}toString(){return this.stack}[(qT=dx,gt)](){return this.stack}}class r9 extends XA{constructor(n,r=[]){super("Die",n,r);_(this,"defect");this.defect=n}}const o9=(e,t=[])=>new r9(e,t);class i9 extends XA{constructor(t=[]){super("Interrupt","interrupted",t)}}const s9=(e=[])=>new i9(e),a9=e=>e._tag==="Interrupt",hx=Symbol.for("effect/Micro/MicroFiber"),u9={_A:Pt,_E:Pt};var KT;KT=hx;class c9{constructor(t,n=!0){_(this,"context");_(this,"interruptible");_(this,KT);_(this,"_stack",[]);_(this,"_observers",[]);_(this,"_exit");_(this,"_children");_(this,"currentOpCount",0);_(this,"_interrupted",!1);_(this,"_yielded");this.context=t,this.interruptible=n,this[hx]=u9}getRef(t){return oz(this.context,t)}addObserver(t){return this._exit?(t(this._exit),vD):(this._observers.push(t),()=>{const n=this._observers.indexOf(t);n>=0&&this._observers.splice(n,1)})}unsafeInterrupt(){this._exit||(this._interrupted=!0,this.interruptible&&this.evaluate(E0))}unsafePoll(){return this._exit}evaluate(t){if(this._exit)return;if(this._yielded!==void 0){const o=this._yielded;this._yielded=void 0,o()}const n=this.runLoop(t);if(n===nd)return;const r=px.interruptChildren&&px.interruptChildren(this);if(r!==void 0)return this.evaluate(wh(r,()=>n));this._exit=n;for(let o=0;o<this._observers.length;o++)this._observers[o](n);this._observers.length=0}runLoop(t){let n=!1,r=t;this.currentOpCount=0;try{for(;;){if(this.currentOpCount++,!n&&this.getRef(x0).shouldYield(this)){n=!0;const o=r;r=wh(p9,()=>o)}if(r=r[vv](this),r===nd){const o=this._yielded;return bh in o?(this._yielded=void 0,o):nd}}}catch(o){return Ce(r,vv)?_v(o):_v(`MicroFiber.runLoop: Not a valid effect: ${String(r)}`)}}getCont(t){for(;;){const n=this._stack.pop();if(!n)return;const r=n[Sh]&&n[Sh](this);if(r)return{[t]:r};if(n[t])return n}}yieldWith(t){return this._yielded=t,nd}children(){return this._children??(this._children=new Set)}}const px=De("effect/Micro/fiberMiddleware",()=>({interruptChildren:void 0})),QA=Symbol.for("effect/Micro/identifier"),Gt=Symbol.for("effect/Micro/args"),vv=Symbol.for("effect/Micro/evaluate"),vu=Symbol.for("effect/Micro/successCont"),eu=Symbol.for("effect/Micro/failureCont"),Sh=Symbol.for("effect/Micro/ensureCont"),nd=Symbol.for("effect/Micro/Yield"),l9={_A:Pt,_E:Pt,_R:Pt},f9={...w7,_op:"Micro",[t9]:l9,pipe(){return ye(this,arguments)},[Symbol.iterator](){return new Uk(new Tl(this))},toJSON(){return{_id:"Micro",op:this[QA],...Gt in this?{args:this[Gt]}:void 0}},toString(){return zt(this)},[gt](){return zt(this)}};function d9(e){return _v("Micro.evaluate: Not implemented")}const Tp=e=>({...f9,[QA]:e.op,[vv]:e.eval??d9,[vu]:e.contA,[eu]:e.contE,[Sh]:e.ensure}),_0=e=>{const t=Tp(e);return function(){const n=Object.create(t);return n[Gt]=e.single===!1?arguments:arguments[0],n}},ZA=e=>{const t={...Tp(e),[bh]:bh,_tag:e.op,get[e.prop](){return this[Gt]},toJSON(){return{_id:"MicroExit",_tag:e.op,[e.prop]:this[Gt]}},[Ie](n){return y9(n)&&n._tag===e.op&&Ae(this[Gt],n[Gt])},[Re](){return It(this,je(jt(e.op))(fe(this[Gt])))}};return function(n){const r=Object.create(t);return r[Gt]=n,r[vu]=void 0,r[eu]=void 0,r[Sh]=void 0,r}},b0=ZA({op:"Success",prop:"value",eval(e){const t=e.getCont(vu);return t?t[vu](this[Gt],e):e.yieldWith(this)}}),e$=ZA({op:"Failure",prop:"cause",eval(e){let t=e.getCont(eu);for(;a9(this[Gt])&&t&&e.interruptible;)t=e.getCont(eu);return t?t[eu](this[Gt],e):e.yieldWith(this)}}),h9=_0({op:"Yield",eval(e){let t=!1;return e.getRef(x0).scheduleTask(()=>{t||e.evaluate(v9)},this[Gt]??0),e.yieldWith(()=>{t=!0})}}),p9=h9(0),g9=b0(void 0),S0=_0({op:"WithMicroFiber",eval(e){return this[Gt](e)}}),wh=I(2,(e,t)=>{const n=Object.create(m9);return n[Gt]=e,n[vu]=t,n}),m9=Tp({op:"OnSuccess",eval(e){return e._stack.push(this),this[Gt]}}),y9=e=>Ce(e,bh),t$=b0,w0=e$,E0=w0(s9()),_v=e=>w0(o9(e)),v9=t$(void 0),_9="setImmediate"in globalThis?globalThis.setImmediate:e=>setTimeout(e,0);class n${constructor(){_(this,"tasks",[]);_(this,"running",!1);_(this,"afterScheduled",()=>{this.running=!1,this.runTasks()})}scheduleTask(t,n){this.tasks.push(t),this.running||(this.running=!0,_9(this.afterScheduled))}runTasks(){const t=this.tasks;this.tasks=[];for(let n=0,r=t.length;n<r;n++)t[n]()}shouldYield(t){return t.currentOpCount>=t.getRef(w9)}flush(){for(;this.tasks.length>0;)this.runTasks()}}const b9=I(2,(e,t)=>S0(n=>{const r=n.context;return n.context=t(r),C9(e,()=>(n.context=r,g9))})),S9=I(2,(e,t)=>b9(e,nI(t)));class w9 extends rI()("effect/Micro/currentMaxOpsBeforeYield",{defaultValue:()=>2048}){}class x0 extends rI()("effect/Micro/currentScheduler",{defaultValue:()=>new n$}){}const E9=I(2,(e,t)=>{const n=Object.create(x9);return n[Gt]=e,n[vu]=t.onSuccess,n[eu]=t.onFailure,n}),x9=Tp({op:"OnSuccessAndFailure",eval(e){return e._stack.push(this),this[Gt]}}),C9=I(2,(e,t)=>k9(n=>E9(n(e),{onFailure:r=>wh(t(w0(r)),()=>e$(r)),onSuccess:r=>wh(t(t$(r)),()=>b0(r))}))),r$=_0({op:"SetInterruptible",ensure(e){if(e.interruptible=this[Gt],e._interrupted&&e.interruptible)return()=>E0}}),T9=e=>S0(t=>t.interruptible?e:(t.interruptible=!0,t._stack.push(r$(!1)),t._interrupted?E0:e)),k9=e=>S0(t=>t.interruptible?(t.interruptible=!1,t._stack.push(r$(!0)),e(T9)):e(Pt)),O9=(e,t)=>{const n=new c9(x0.context(new n$));return n.evaluate(e),n};class o${constructor(){_(this,"buckets",[])}scheduleTask(t,n){const r=this.buckets.length;let o,s=0;for(;s<r&&this.buckets[s][0]<=n;s++)o=this.buckets[s];o&&o[0]===n?o[1].push(t):s===r?this.buckets.push([n,[t]]):this.buckets.splice(s,0,[n,[t]])}}class I9{constructor(t){_(this,"maxNextTickBeforeTimer");_(this,"running",!1);_(this,"tasks",new o$);this.maxNextTickBeforeTimer=t}starveInternal(t){const n=this.tasks.buckets;this.tasks.buckets=[];for(const[r,o]of n)for(let s=0;s<o.length;s++)o[s]();this.tasks.buckets.length===0?this.running=!1:this.starve(t)}starve(t=0){t>=this.maxNextTickBeforeTimer?setTimeout(()=>this.starveInternal(0),0):Promise.resolve(void 0).then(()=>this.starveInternal(t+1))}shouldYield(t){return t.currentOpCount>t.getFiberRef(mA)?t.getFiberRef(wp):!1}scheduleTask(t,n){this.tasks.scheduleTask(t,n),this.running||(this.running=!0,this.starve())}}const i$=De(Symbol.for("effect/Scheduler/defaultScheduler"),()=>new I9(2048));class s${constructor(){_(this,"tasks",new o$);_(this,"deferred",!1)}scheduleTask(t,n){this.deferred?i$.scheduleTask(t,n):this.tasks.scheduleTask(t,n)}shouldYield(t){return t.currentOpCount>t.getFiberRef(mA)?t.getFiberRef(wp):!1}flush(){for(;this.tasks.buckets.length>0;){const t=this.tasks.buckets;this.tasks.buckets=[];for(const[n,r]of t)for(let o=0;o<r.length;o++)r[o]()}this.deferred=!0}}const a$=De(Symbol.for("effect/FiberRef/currentScheduler"),()=>$r(i$)),u$=De(Symbol.for("effect/FiberRef/currentRequestMap"),()=>$r(new Map)),gx=(e,t,n,r)=>{switch(e){case void 0:return t();case"unbounded":return n();case"inherit":return s0(fK,o=>o==="unbounded"?n():o>1?r(o):t());default:return e>1?r(e):t()}},C0="InterruptSignal",T0="Stateful",k0="Resume",O0="YieldNow",sy=e=>({_tag:C0,cause:e}),Md=e=>({_tag:T0,onFiber:e}),Fa=e=>({_tag:k0,effect:e}),A9=()=>({_tag:O0}),$9="effect/FiberScope",Eh=Symbol.for($9);var VT;VT=Eh;class R9{constructor(){_(this,VT,Eh);_(this,"fiberId",lu);_(this,"roots",new Set)}add(t,n){this.roots.add(n),n.addObserver(()=>{this.roots.delete(n)})}}var HT;HT=Eh;class P9{constructor(t,n){_(this,"fiberId");_(this,"parent");_(this,HT,Eh);this.fiberId=t,this.parent=n}add(t,n){this.parent.tell(Md(r=>{r.addChild(n),n.addObserver(()=>{r.removeChild(n)})}))}}const M9=e=>new P9(e.id(),e),I0=De(Symbol.for("effect/FiberScope/Global"),()=>new R9),N9="effect/Fiber",L9=Symbol.for(N9),F9={_E:e=>e,_A:e=>e},B9="effect/Fiber",j9=Symbol.for(B9),c$=e=>fA(aA(e.await),e.inheritAll);({...$l});const Os="effect/FiberCurrent",D9="effect/Logger",W9=Symbol.for(D9),U9={_Message:e=>e,_Output:e=>e},A0=e=>({[W9]:U9,log:e,pipe(){return ye(this,arguments)}}),z9=/^[^\s"=]*$/,q9=(e,t)=>({annotations:n,cause:r,date:o,fiberId:s,logLevel:a,message:c,spans:f})=>{const d=b=>b.match(z9)?b:e(b),p=(b,x)=>`${UA(b)}=${d(x)}`,g=(b,x)=>" "+p(b,x);let m=p("timestamp",o.toISOString());m+=g("level",a.label),m+=g("fiber",OI(s));const y=xW(c);for(let b=0;b<y.length;b++)m+=g("message",ru(y[b],t));uq(r)||(m+=g("cause",Lu(r,{renderErrorCause:!0})));for(const b of f)m+=" "+S7(o.getTime())(b);for(const[b,x]of n)m+=g(b,ru(x,t));return m},K9=e=>`"${e.replace(/\\([\s\S])|(")/g,"\\$1$2")}"`,V9=A0(q9(K9)),H9=typeof vo=="object"&&vo!==null&&typeof vo.stdout=="object"&&vo.stdout!==null;H9&&vo.stdout.isTTY;const l$="effect/MetricBoundaries",bv=Symbol.for(l$);var GT;class G9{constructor(t){_(this,"values");_(this,GT,bv);_(this,"_hash");this.values=t,this._hash=F(jt(l$),je(kl(this.values)))}[(GT=bv,Re)](){return this._hash}[Ie](t){return J9(t)&&Ae(this.values,t.values)}pipe(){return ye(this,arguments)}}const J9=e=>Ce(e,bv),Y9=e=>{const t=F(e,uO(ir(Number.POSITIVE_INFINITY)),WW);return new G9(t)},X9=e=>F(EW(e.count-1,t=>e.start*Math.pow(e.factor,t)),Nl,Y9),Q9="effect/MetricKeyType",f$=Symbol.for(Q9),d$="effect/MetricKeyType/Counter",Sv=Symbol.for(d$),Z9="effect/MetricKeyType/Frequency",eV=Symbol.for(Z9),tV="effect/MetricKeyType/Gauge",nV=Symbol.for(tV),h$="effect/MetricKeyType/Histogram",wv=Symbol.for(h$),rV="effect/MetricKeyType/Summary",oV=Symbol.for(rV),p$={_In:e=>e,_Out:e=>e};var JT,YT;class iV{constructor(t,n){_(this,"incremental");_(this,"bigint");_(this,YT,p$);_(this,JT,Sv);_(this,"_hash");this.incremental=t,this.bigint=n,this._hash=jt(d$)}[(YT=f$,JT=Sv,Re)](){return this._hash}[Ie](t){return g$(t)}pipe(){return ye(this,arguments)}}var XT,QT;class sV{constructor(t){_(this,"boundaries");_(this,QT,p$);_(this,XT,wv);_(this,"_hash");this.boundaries=t,this._hash=F(jt(h$),je(fe(this.boundaries)))}[(QT=f$,XT=wv,Re)](){return this._hash}[Ie](t){return m$(t)&&Ae(this.boundaries,t.boundaries)}pipe(){return ye(this,arguments)}}const aV=e=>new iV((e==null?void 0:e.incremental)??!1,(e==null?void 0:e.bigint)??!1),uV=e=>new sV(e),g$=e=>Ce(e,Sv),cV=e=>Ce(e,eV),lV=e=>Ce(e,nV),m$=e=>Ce(e,wv),fV=e=>Ce(e,oV),dV="effect/MetricKey",y$=Symbol.for(dV),hV={_Type:e=>e},pV=w_(Ae);var ZT;class $0{constructor(t,n,r,o=[]){_(this,"name");_(this,"keyType");_(this,"description");_(this,"tags");_(this,ZT,hV);_(this,"_hash");this.name=t,this.keyType=n,this.description=r,this.tags=o,this._hash=F(jt(this.name+this.description),je(fe(this.keyType)),je(kl(this.tags)))}[(ZT=y$,Re)](){return this._hash}[Ie](t){return gV(t)&&this.name===t.name&&Ae(this.keyType,t.keyType)&&Ae(this.description,t.description)&&pV(this.tags,t.tags)}pipe(){return ye(this,arguments)}}const gV=e=>Ce(e,y$),mV=(e,t)=>new $0(e,aV(t),Ii(t==null?void 0:t.description)),yV=(e,t,n)=>new $0(e,uV(t),Ii(n)),vV=I(2,(e,t)=>t.length===0?e:new $0(e.name,e.keyType,e.description,Od(e.tags,t))),_V="effect/MetricState",ql=Symbol.for(_V),v$="effect/MetricState/Counter",Ev=Symbol.for(v$),_$="effect/MetricState/Frequency",xv=Symbol.for(_$),b$="effect/MetricState/Gauge",Cv=Symbol.for(b$),S$="effect/MetricState/Histogram",Tv=Symbol.for(S$),w$="effect/MetricState/Summary",kv=Symbol.for(w$),Kl={_A:e=>e};var ek,tk;class bV{constructor(t){_(this,"count");_(this,tk,Kl);_(this,ek,Ev);this.count=t}[(tk=ql,ek=Ev,Re)](){return F(fe(v$),je(fe(this.count)),It(this))}[Ie](t){return $V(t)&&this.count===t.count}pipe(){return ye(this,arguments)}}const SV=w_(Ae);var nk,rk;class wV{constructor(t){_(this,"occurrences");_(this,rk,Kl);_(this,nk,xv);_(this,"_hash");this.occurrences=t}[(rk=ql,nk=xv,Re)](){return F(jt(_$),je(kl(wt(this.occurrences.entries()))),It(this))}[Ie](t){return RV(t)&&SV(wt(this.occurrences.entries()),wt(t.occurrences.entries()))}pipe(){return ye(this,arguments)}}var ok,ik;class EV{constructor(t){_(this,"value");_(this,ik,Kl);_(this,ok,Cv);this.value=t}[(ik=ql,ok=Cv,Re)](){return F(fe(b$),je(fe(this.value)),It(this))}[Ie](t){return PV(t)&&this.value===t.value}pipe(){return ye(this,arguments)}}var sk,ak;class xV{constructor(t,n,r,o,s){_(this,"buckets");_(this,"count");_(this,"min");_(this,"max");_(this,"sum");_(this,ak,Kl);_(this,sk,Tv);this.buckets=t,this.count=n,this.min=r,this.max=o,this.sum=s}[(ak=ql,sk=Tv,Re)](){return F(fe(S$),je(fe(this.buckets)),je(fe(this.count)),je(fe(this.min)),je(fe(this.max)),je(fe(this.sum)),It(this))}[Ie](t){return MV(t)&&Ae(this.buckets,t.buckets)&&this.count===t.count&&this.min===t.min&&this.max===t.max&&this.sum===t.sum}pipe(){return ye(this,arguments)}}var uk,ck;class CV{constructor(t,n,r,o,s,a){_(this,"error");_(this,"quantiles");_(this,"count");_(this,"min");_(this,"max");_(this,"sum");_(this,ck,Kl);_(this,uk,kv);this.error=t,this.quantiles=n,this.count=r,this.min=o,this.max=s,this.sum=a}[(ck=ql,uk=kv,Re)](){return F(fe(w$),je(fe(this.error)),je(fe(this.quantiles)),je(fe(this.count)),je(fe(this.min)),je(fe(this.max)),je(fe(this.sum)),It(this))}[Ie](t){return NV(t)&&this.error===t.error&&Ae(this.quantiles,t.quantiles)&&this.count===t.count&&this.min===t.min&&this.max===t.max&&this.sum===t.sum}pipe(){return ye(this,arguments)}}const TV=e=>new bV(e),kV=e=>new wV(e),OV=e=>new EV(e),IV=e=>new xV(e.buckets,e.count,e.min,e.max,e.sum),AV=e=>new CV(e.error,e.quantiles,e.count,e.min,e.max,e.sum),$V=e=>Ce(e,Ev),RV=e=>Ce(e,xv),PV=e=>Ce(e,Cv),MV=e=>Ce(e,Tv),NV=e=>Ce(e,kv),LV="effect/MetricHook",FV=Symbol.for(LV),BV={_In:e=>e,_Out:e=>e},Vl=e=>({[FV]:BV,pipe(){return ye(this,arguments)},...e}),mx=BigInt(0),jV=e=>{let t=e.keyType.bigint?mx:0;const n=e.keyType.incremental?e.keyType.bigint?o=>o>=mx:o=>o>=0:o=>!0,r=o=>{n(o)&&(t=t+o)};return Vl({get:()=>TV(t),update:r,modify:r})},DV=e=>{const t=new Map;for(const r of e.keyType.preregisteredWords)t.set(r,0);const n=r=>{const o=t.get(r)??0;t.set(r,o+1)};return Vl({get:()=>kV(t),update:n,modify:n})},WV=(e,t)=>{let n=t;return Vl({get:()=>OV(n),update:r=>{n=r},modify:r=>{n=n+r}})},UV=e=>{const t=e.keyType.boundaries.values,n=t.length,r=new Uint32Array(n+1),o=new Float32Array(n);let s=0,a=0,c=Number.MAX_VALUE,f=Number.MIN_VALUE;F(t,Yc(iu),Ya((g,m)=>{o[m]=g}));const d=g=>{let m=0,y=n;for(;m!==y;){const b=Math.floor(m+(y-m)/2),x=o[b];g<=x?y=b:m=b,y===m+1&&(g<=o[m]?y=m:m=y)}r[m]=r[m]+1,s=s+1,a=a+g,g<c&&(c=g),g>f&&(f=g)},p=()=>{const g=np(n);let m=0;for(let y=0;y<n;y++){const b=o[y],x=r[y];m=m+x,g[y]=[b,m]}return g};return Vl({get:()=>IV({buckets:p(),count:s,min:c,max:f,sum:a}),update:d,modify:d})},zV=e=>{const{error:t,maxAge:n,maxSize:r,quantiles:o}=e.keyType,s=F(o,Yc(iu)),a=np(r);let c=0,f=0,d=0,p=Number.MAX_VALUE,g=Number.MIN_VALUE;const m=b=>{const x=[];let T=0;for(;T!==r-1;){const k=a[T];if(k!=null){const[L,N]=k,R=sh(b-L);Pz(R,dI)&&R<=n&&x.push(N)}T=T+1}return qV(t,s,Yc(x,iu))},y=(b,x)=>{if(r>0){c=c+1;const T=c%r;a[T]=[x,b]}f=f+1,d=d+b,b<p&&(p=b),b>g&&(g=b)};return Vl({get:()=>AV({error:t,quantiles:m(Date.now()),count:f,min:p,max:g,sum:d}),update:([b,x])=>y(b,x),modify:([b,x])=>y(b,x)})},qV=(e,t,n)=>{const r=n.length;if(!rn(t))return Gs();const o=t[0],s=t.slice(1),a=yx(e,r,oe(),0,o,n),c=go(a);return s.forEach(f=>{c.push(yx(e,r,a.value,a.consumed,f,a.rest))}),Ya(c,f=>[f.quantile,f.value])},yx=(e,t,n,r,o,s)=>{let a=e,c=t,f=n,d=r,p=o,g=s,m=e,y=t,b=n,x=r,T=o,k=s;for(;;){if(!rn(g))return{quantile:p,value:oe(),consumed:d,rest:[]};if(p===1)return{quantile:p,value:we(fO(g)),consumed:d+g.length,rest:[]};const L=MW(g,A=>A<=g[0]),N=p*c,R=a/2*N,W=d+L[0].length,j=Math.abs(W-N);if(W<N-R){m=a,y=c,b=Uc(g),x=W,T=p,k=L[1],a=m,c=y,f=b,d=x,p=T,g=k;continue}if(W>N+R)return{quantile:p,value:f,consumed:d,rest:g};switch(f._tag){case"None":{m=a,y=c,b=Uc(g),x=W,T=p,k=L[1],a=m,c=y,f=b,d=x,p=T,g=k;continue}case"Some":{const A=Math.abs(N-f.value);if(j<A){m=a,y=c,b=Uc(g),x=W,T=p,k=L[1],a=m,c=y,f=b,d=x,p=T,g=k;continue}return{quantile:p,value:we(f.value),consumed:d,rest:g}}}}throw new Error("BUG: MetricHook.resolveQuantiles - please report an issue at https://github.com/Effect-TS/effect/issues")},KV="effect/MetricPair",VV=Symbol.for(KV),HV={_Type:e=>e},GV=(e,t)=>({[VV]:HV,metricKey:e,metricState:t,pipe(){return ye(this,arguments)}}),JV="effect/MetricRegistry",vx=Symbol.for(JV);var lk;lk=vx;class YV{constructor(){_(this,lk,vx);_(this,"map",FK())}snapshot(){const t=[];for(const[n,r]of this.map)t.push(GV(n,r.get()));return t}get(t){const n=F(this.map,Rs(t),mo);if(n==null){if(g$(t.keyType))return this.getCounter(t);if(lV(t.keyType))return this.getGauge(t);if(cV(t.keyType))return this.getFrequency(t);if(m$(t.keyType))return this.getHistogram(t);if(fV(t.keyType))return this.getSummary(t);throw new Error("BUG: MetricRegistry.get - unknown MetricKeyType - please report an issue at https://github.com/Effect-TS/effect/issues")}else return n}getCounter(t){let n=F(this.map,Rs(t),mo);if(n==null){const r=jV(t);F(this.map,wc(t))||F(this.map,Ec(t,r)),n=r}return n}getFrequency(t){let n=F(this.map,Rs(t),mo);if(n==null){const r=DV(t);F(this.map,wc(t))||F(this.map,Ec(t,r)),n=r}return n}getGauge(t){let n=F(this.map,Rs(t),mo);if(n==null){const r=WV(t,t.keyType.bigint?BigInt(0):0);F(this.map,wc(t))||F(this.map,Ec(t,r)),n=r}return n}getHistogram(t){let n=F(this.map,Rs(t),mo);if(n==null){const r=UV(t);F(this.map,wc(t))||F(this.map,Ec(t,r)),n=r}return n}getSummary(t){let n=F(this.map,Rs(t),mo);if(n==null){const r=zV(t);F(this.map,wc(t))||F(this.map,Ec(t,r)),n=r}return n}}const XV=()=>new YV,QV="effect/Metric",ZV=Symbol.for(QV),eH={_Type:e=>e,_In:e=>e,_Out:e=>e},_x=De(Symbol.for("effect/Metric/globalMetricRegistry"),()=>XV()),E$=function(e,t,n,r){const o=Object.assign(s=>Uq(s,a=>oH(o,a)),{[ZV]:eH,keyType:e,unsafeUpdate:t,unsafeValue:n,unsafeModify:r,register(){return this.unsafeValue([]),this},pipe(){return ye(this,arguments)}});return o},kp=(e,t)=>x$(mV(e,t)),x$=e=>{let t;const n=new WeakMap,r=o=>{if(o.length===0)return t!==void 0||(t=_x.get(e)),t;let s=n.get(o);return s!==void 0||(s=_x.get(vV(e,o)),n.set(o,s)),s};return E$(e.keyType,(o,s)=>r(s).update(o),o=>r(o).get(),(o,s)=>r(s).modify(o))},tH=(e,t,n)=>x$(yV(e,t,n)),nH=I(3,(e,t,n)=>rH(e,[P7(t,n)])),rH=I(2,(e,t)=>E$(e.keyType,(n,r)=>e.unsafeUpdate(n,Od(t,r)),n=>e.unsafeValue(Od(t,n)),(n,r)=>e.unsafeModify(n,Od(t,r)))),oH=I(2,(e,t)=>s0(uv,n=>le(()=>e.unsafeUpdate(t,n))));({...Al});const iH=I(2,(e,t)=>s0(u$,n=>le(()=>{if(n.has(e)){const r=n.get(e);r.state.completed||(r.state.completed=!0,f0(r.result,t))}}))),sH="effect/Supervisor",Op=Symbol.for(sH),R0={_T:e=>e};var fk;fk=Op;const xS=class xS{constructor(t,n){_(this,"underlying");_(this,"value0");_(this,fk,R0);this.underlying=t,this.value0=n}get value(){return this.value0}onStart(t,n,r,o){this.underlying.onStart(t,n,r,o)}onEnd(t,n){this.underlying.onEnd(t,n)}onEffect(t,n){this.underlying.onEffect(t,n)}onSuspend(t){this.underlying.onSuspend(t)}onResume(t){this.underlying.onResume(t)}map(t){return new xS(this,F(this.value,st(t)))}zip(t){return new Ch(this,t)}};let xh=xS;var dk;dk=Op;const CS=class CS{constructor(t,n){_(this,"left");_(this,"right");_(this,"_tag","Zip");_(this,dk,R0);this.left=t,this.right=n}get value(){return lA(this.left.value,this.right.value)}onStart(t,n,r,o){this.left.onStart(t,n,r,o),this.right.onStart(t,n,r,o)}onEnd(t,n){this.left.onEnd(t,n),this.right.onEnd(t,n)}onEffect(t,n){this.left.onEffect(t,n),this.right.onEffect(t,n)}onSuspend(t){this.left.onSuspend(t),this.right.onSuspend(t)}onResume(t){this.left.onResume(t),this.right.onResume(t)}map(t){return new xh(this,F(this.value,st(t)))}zip(t){return new CS(this,t)}};let Ch=CS;const C$=e=>Ce(e,Op)&&f_(e,"Zip");var hk;hk=Op;class aH{constructor(t){_(this,"effect");_(this,hk,R0);this.effect=t}get value(){return this.effect}onStart(t,n,r,o){}onEnd(t,n){}onEffect(t,n){}onSuspend(t){}onResume(t){}map(t){return new xh(this,F(this.value,st(t)))}zip(t){return new Ch(this,t)}onRun(t,n){return t()}}const uH=e=>new aH(e),Ip=De("effect/Supervisor/none",()=>uH(no)),cH=$u,T$="Empty",k$="AddSupervisor",O$="RemoveSupervisor",I$="AndThen",qc={_tag:T$},Nd=(e,t)=>({_tag:I$,first:e,second:t}),lH=(e,t)=>fH(t,ir(e)),fH=(e,t)=>{let n=e,r=t;for(;Ei(r);){const o=Do(r);switch(o._tag){case T$:{r=vi(r);break}case k$:{n=n.zip(o.supervisor),r=vi(r);break}case O$:{n=Ov(n,o.supervisor),r=vi(r);break}case I$:{r=Hn(o.first)(Hn(o.second)(vi(r)));break}}}return n},Ov=(e,t)=>Ae(e,t)?Ip:C$(e)?Ov(e.left,t).zip(Ov(e.right,t)):e,Th=e=>Ae(e,Ip)?Ys():C$(e)?F(Th(e.left),Zc(Th(e.right))):D_(e),dH=(e,t)=>{if(Ae(e,t))return qc;const n=Th(e),r=Th(t),o=F(r,OE(n),uh(qc,(a,c)=>Nd(a,{_tag:k$,supervisor:c}))),s=F(n,OE(r),uh(qc,(a,c)=>Nd(a,{_tag:O$,supervisor:c})));return Nd(o,s)},hH=cH({empty:qc,patch:lH,combine:Nd,diff:dH}),pH=kp("effect_fiber_started",{incremental:!0}),bx=kp("effect_fiber_active"),gH=kp("effect_fiber_successes",{incremental:!0}),mH=kp("effect_fiber_failures",{incremental:!0}),yH=nH(tH("effect_fiber_lifetimes",X9({start:.5,factor:2,count:35})),"time_unit","milliseconds"),xc="Continue",vH="Done",Sx="Yield",_H={_E:e=>e,_A:e=>e},rd=e=>{throw new Error(`BUG: FiberRuntime - ${ru(e)} - please report an issue at https://github.com/Effect-TS/effect/issues`)},fi=Symbol.for("effect/internal/fiberRuntime/YieldedOp"),di=De("effect/internal/fiberRuntime/yieldedOpChannel",()=>({currentOp:null})),Cc={[Qd]:(e,t,n)=>Kn(()=>t.effect_instruction_i1(n)),OnStep:(e,t,n)=>Dt(Dt(n)),[Zd]:(e,t,n)=>Kn(()=>t.effect_instruction_i2(n)),[m_]:(e,t,n)=>(e.patchRuntimeFlags(e.currentRuntimeFlags,t.patch),Xi(e.currentRuntimeFlags)&&e.isInterrupted()?ht(e.getInterruptedCause()):Dt(n)),[eh]:(e,t,n)=>(Kn(()=>t.effect_instruction_i2(n)),Kn(()=>t.effect_instruction_i0())?(e.pushStack(t),Kn(()=>t.effect_instruction_i1())):no),[Cd]:(e,t,n)=>{const r=Kn(()=>t.effect_instruction_i0.next(n));return r.done?Dt(r.value):(e.pushStack(t),LD(r.value))}},bH={[C0]:(e,t,n,r)=>(e.processNewInterruptSignal(r.cause),Xi(t)?ht(r.cause):n),[k0]:(e,t,n,r)=>{throw new Error("It is illegal to have multiple concurrent run loops in a single fiber")},[T0]:(e,t,n,r)=>(r.onFiber(e,YA(t)),n),[O0]:(e,t,n,r)=>ae(o0(),()=>n)},SH=e=>vp(K6(e),t=>ns(iq(t),([n,r])=>{const o=new Map,s=[];for(const c of r){s.push(Ws(c));for(const f of c)o.set(f.request,f)}const a=s.flat();return Sp(NH(n.runAll(s),a,()=>a.forEach(c=>{c.listeners.interrupted=!0})),u$,o)},!1,!1)),wH=Xh();var pk,gk;class A$ extends y0{constructor(n,r,o){super();_(this,gk,F9);_(this,pk,_H);_(this,"_fiberRefs");_(this,"_fiberId");_(this,"_queue",new Array);_(this,"_children",null);_(this,"_observers",new Array);_(this,"_running",!1);_(this,"_stack",[]);_(this,"_asyncInterruptor",null);_(this,"_asyncBlockingOn",null);_(this,"_exitValue",null);_(this,"_steps",[]);_(this,"_isYielding",!1);_(this,"currentRuntimeFlags");_(this,"currentOpCount",0);_(this,"currentSupervisor");_(this,"currentScheduler");_(this,"currentTracer");_(this,"currentSpan");_(this,"currentContext");_(this,"currentDefaultServices");_(this,"run",()=>{this.drainQueueOnCurrentThread()});if(this.currentRuntimeFlags=o,this._fiberId=n,this._fiberRefs=r,PE(o)){const s=this.getFiberRef(uv);pH.unsafeUpdate(1,s),bx.unsafeUpdate(1,s)}this.refreshRefCache()}commit(){return c$(this)}id(){return this._fiberId}resume(n){this.tell(Fa(n))}get status(){return this.ask((n,r)=>r)}get runtimeFlags(){return this.ask((n,r)=>e9(r)?n.currentRuntimeFlags:r.runtimeFlags)}scope(){return M9(this)}get children(){return this.ask(n=>Array.from(n.getChildren()))}getChildren(){return this._children===null&&(this._children=new Set),this._children}getInterruptedCause(){return this.getFiberRef(td)}fiberRefs(){return this.ask(n=>n.getFiberRefs())}ask(n){return rt(()=>{const r=l0(this._fiberId);return this.tell(Md((o,s)=>{f0(r,le(()=>n(o,s)))})),mh(r)})}tell(n){this._queue.push(n),this._running||(this._running=!0,this.drainQueueLaterOnExecutor())}get await(){return ol(n=>{const r=o=>n(xe(o));return this.tell(Md((o,s)=>{o._exitValue!==null?r(this._exitValue):o.addObserver(r)})),le(()=>this.tell(Md((o,s)=>{o.removeObserver(r)})))},this.id())}get inheritAll(){return Fn((n,r)=>{const o=n.id(),s=n.getFiberRefs(),a=r.runtimeFlags,c=this.getFiberRefs(),f=r7(s,o,c);n.setFiberRefs(f);const d=n.getFiberRef(Tx),p=F($d(a,d),NE(Ru),NE(sv));return qq(p)})}get poll(){return le(()=>Ii(this._exitValue))}unsafePoll(){return this._exitValue}interruptAsFork(n){return le(()=>this.tell(sy(gi(n))))}unsafeInterruptAsFork(n){this.tell(sy(gi(n)))}addObserver(n){this._exitValue!==null?n(this._exitValue):this._observers.push(n)}removeObserver(n){this._observers=this._observers.filter(r=>r!==n)}getFiberRefs(){return this.setFiberRef(Tx,this.currentRuntimeFlags),this._fiberRefs}unsafeDeleteFiberRef(n){this._fiberRefs=WA(this._fiberRefs,n)}getFiberRef(n){return this._fiberRefs.locals.has(n)?this._fiberRefs.locals.get(n)[0][1]:n.initial}setFiberRef(n,r){this._fiberRefs=dv(this._fiberRefs,{fiberId:this._fiberId,fiberRef:n,value:r}),this.refreshRefCache()}refreshRefCache(){this.currentDefaultServices=this.getFiberRef(vh),this.currentTracer=this.currentDefaultServices.unsafeMap.get(FA.key),this.currentSupervisor=this.getFiberRef(MH),this.currentScheduler=this.getFiberRef(a$),this.currentContext=this.getFiberRef(Ul),this.currentSpan=this.currentContext.unsafeMap.get(BA.key)}setFiberRefs(n){this._fiberRefs=n,this.refreshRefCache()}addChild(n){this.getChildren().add(n)}removeChild(n){this.getChildren().delete(n)}transferChildren(n){const r=this._children;if(this._children=null,r!==null&&r.size>0)for(const o of r)o._exitValue===null&&n.add(this.currentRuntimeFlags,o)}drainQueueOnCurrentThread(){let n=!0;for(;n;){let r=xc;const o=globalThis[Os];globalThis[Os]=this;try{for(;r===xc;)r=this._queue.length===0?vH:this.evaluateMessageWhileSuspended(this._queue.splice(0,1)[0])}finally{this._running=!1,globalThis[Os]=o}this._queue.length>0&&!this._running?(this._running=!0,r===Sx?(this.drainQueueLaterOnExecutor(),n=!1):n=!0):n=!1}}drainQueueLaterOnExecutor(){this.currentScheduler.scheduleTask(this.run,this.getFiberRef(wp))}drainQueueWhileRunning(n,r){let o=r;for(;this._queue.length>0;){const s=this._queue.splice(0,1)[0];o=bH[s._tag](this,n,o,s)}return o}isInterrupted(){return!fq(this.getFiberRef(td))}addInterruptedCause(n){const r=this.getFiberRef(td);this.setFiberRef(td,Xr(r,n))}processNewInterruptSignal(n){this.addInterruptedCause(n),this.sendInterruptSignalToAllChildren()}sendInterruptSignalToAllChildren(){if(this._children===null||this._children.size===0)return!1;let n=!1;for(const r of this._children)r.tell(sy(gi(this.id()))),n=!0;return n}interruptAllChildren(){if(this.sendInterruptSignalToAllChildren()){const n=this._children.values();this._children=null;let r=!1;return r0({while:()=>!r,body:()=>{const s=n.next();return s.done?le(()=>{r=!0}):Fu(s.value.await)},step:()=>{}})}return null}reportExitValue(n){if(PE(this.currentRuntimeFlags)){const r=this.getFiberRef(uv),o=this.id().startTimeMillis,s=Date.now();switch(yH.unsafeUpdate(s-o,r),bx.unsafeUpdate(-1,r),n._tag){case eo:{gH.unsafeUpdate(1,r);break}case Zr:{mH.unsafeUpdate(1,r);break}}}if(n._tag==="Failure"){const r=this.getFiberRef(hK);!V_(n.cause)&&r._tag==="Some"&&this.log("Fiber terminated with an unhandled error",n.cause,r)}}setExitValue(n){this._exitValue=n,this.reportExitValue(n);for(let r=this._observers.length-1;r>=0;r--)this._observers[r](n);this._observers=[]}getLoggers(){return this.getFiberRef(kH)}log(n,r,o){const s=Ln(o)?o.value:this.getFiberRef(uK),a=this.getFiberRef(EH);if(_7(a,s))return;const c=this.getFiberRef(cK),f=this.getFiberRef(aK),d=this.getLoggers(),p=this.getFiberRefs();if(CI(d)>0){const g=eI(this.getFiberRef(vh),xp),m=new Date(g.unsafeCurrentTimeMillis());DD(p,()=>{for(const y of d)y.log({fiberId:this.id(),logLevel:s,message:n,cause:r,context:p,spans:c,annotations:f,date:m})})}}evaluateMessageWhileSuspended(n){switch(n._tag){case O0:return Sx;case C0:return this.processNewInterruptSignal(n.cause),this._asyncInterruptor!==null&&(this._asyncInterruptor(ht(n.cause)),this._asyncInterruptor=null),xc;case k0:return this._asyncInterruptor=null,this._asyncBlockingOn=null,this.evaluateEffect(n.effect),xc;case T0:return n.onFiber(this,this._exitValue!==null?Q7:Z7(this.currentRuntimeFlags,this._asyncBlockingOn)),xc;default:return rd(n)}}evaluateEffect(n){this.currentSupervisor.onResume(this);try{let r=Xi(this.currentRuntimeFlags)&&this.isInterrupted()?ht(this.getInterruptedCause()):n;for(;r!==null;){const o=r,s=this.runLoop(o);if(s===fi){const a=di.currentOp;di.currentOp=null,a._op===Td?D6(this.currentRuntimeFlags)?(this.tell(A9()),this.tell(Fa(Ns)),r=null):r=Ns:a._op===Wc&&(r=null)}else{this.currentRuntimeFlags=F(this.currentRuntimeFlags,W6(sv));const a=this.interruptAllChildren();a!==null?r=ae(a,()=>s):(this._queue.length===0?this.setExitValue(s):this.tell(Fa(s)),r=null)}}}finally{this.currentSupervisor.onSuspend(this)}}start(n){if(this._running)this.tell(Fa(n));else{this._running=!0;const r=globalThis[Os];globalThis[Os]=this;try{this.evaluateEffect(n)}finally{this._running=!1,globalThis[Os]=r,this._queue.length>0&&this.drainQueueLaterOnExecutor()}}}startFork(n){this.tell(Fa(n))}patchRuntimeFlags(n,r){const o=Rd(n,r);return globalThis[Os]=this,this.currentRuntimeFlags=o,o}initiateAsync(n,r){let o=!1;const s=a=>{o||(o=!0,this.tell(Fa(a)))};Xi(n)&&(this._asyncInterruptor=s);try{r(s)}catch(a){s(kr(zo(a)))}}pushStack(n){this._stack.push(n),n._op==="OnStep"&&this._steps.push({refs:this.getFiberRefs(),flags:this.currentRuntimeFlags})}popStack(){const n=this._stack.pop();if(n)return n._op==="OnStep"&&this._steps.pop(),n}getNextSuccessCont(){let n=this.popStack();for(;n;){if(n._op!==xd)return n;n=this.popStack()}}getNextFailCont(){let n=this.popStack();for(;n;){if(n._op!==Qd&&n._op!==eh&&n._op!==Cd)return n;n=this.popStack()}}[(gk=L9,pk=j9,UD)](n){return le(()=>tI(this.currentContext,n))}Left(n){return mn(n.left)}None(n){return mn(new u0)}Right(n){return Dt(n.right)}Some(n){return Dt(n.value)}Micro(n){return hh(r=>{let o=r;const s=O9(S9(n,this.currentContext));return s.addObserver(a=>{if(a._tag==="Success")return o(Dt(a.value));switch(a.cause._tag){case"Interrupt":return o(ht(gi(lu)));case"Fail":return o(mn(a.cause.error));case"Die":return o(ph(a.cause.defect))}}),hh(a=>{o=c=>{a(no)},s.unsafeInterrupt()})})}[Hk](n){const r=Kn(()=>n.effect_instruction_i0()),o=this.getNextSuccessCont();return o!==void 0?(o._op in Cc||rd(o),Cc[o._op](this,o,r)):(di.currentOp=Dt(r),fi)}[eo](n){const r=n,o=this.getNextSuccessCont();return o!==void 0?(o._op in Cc||rd(o),Cc[o._op](this,o,r.effect_instruction_i0)):(di.currentOp=r,fi)}[Zr](n){const r=n.effect_instruction_i0,o=this.getNextFailCont();if(o!==void 0)switch(o._op){case xd:case Zd:return Xi(this.currentRuntimeFlags)&&this.isInterrupted()?ht(LE(r)):Kn(()=>o.effect_instruction_i1(r));case"OnStep":return Xi(this.currentRuntimeFlags)&&this.isInterrupted()?ht(LE(r)):Dt(ht(r));case m_:return this.patchRuntimeFlags(this.currentRuntimeFlags,o.patch),Xi(this.currentRuntimeFlags)&&this.isInterrupted()?ht(Xr(r,this.getInterruptedCause())):ht(r);default:rd(o)}else return di.currentOp=ht(r),fi}[Gk](n){return Kn(()=>n.effect_instruction_i0(this,YA(this.currentRuntimeFlags)))}Blocked(n){const r=this.getFiberRefs(),o=this.currentRuntimeFlags;if(this._steps.length>0){const s=[],a=this._steps[this._steps.length-1];let c=this.popStack();for(;c&&c._op!=="OnStep";)s.push(c),c=this.popStack();this.setFiberRefs(a.refs),this.currentRuntimeFlags=a.flags;const f=U7(a.refs,r),d=$d(a.flags,o);return Dt(tA(n.effect_instruction_i0,Fn(p=>{for(;s.length>0;)p.pushStack(s.pop());return p.setFiberRefs(z7(p.id(),p.getFiberRefs())(f)),p.currentRuntimeFlags=Rd(d)(p.currentRuntimeFlags),n.effect_instruction_i1})))}return bp(s=>ae($$(Rq(n.effect_instruction_i0)),()=>s(n.effect_instruction_i1)))}RunBlocked(n){return SH(n.effect_instruction_i0)}[Ol](n){const r=n.effect_instruction_i0,o=this.currentRuntimeFlags,s=Rd(o,r);if(Xi(s)&&this.isInterrupted())return ht(this.getInterruptedCause());if(this.patchRuntimeFlags(this.currentRuntimeFlags,r),n.effect_instruction_i1){const a=$d(s,o);return this.pushStack(new Pq(a,n)),Kn(()=>n.effect_instruction_i1(o))}else return Ns}[Qd](n){return this.pushStack(n),n.effect_instruction_i0}OnStep(n){return this.pushStack(n),n.effect_instruction_i0}[xd](n){return this.pushStack(n),n.effect_instruction_i0}[Zd](n){return this.pushStack(n),n.effect_instruction_i0}[Wc](n){return this._asyncBlockingOn=n.effect_instruction_i1,this.initiateAsync(this.currentRuntimeFlags,n.effect_instruction_i0),di.currentOp=n,fi}[Td](n){return this._isYielding=!1,di.currentOp=n,fi}[eh](n){const r=n.effect_instruction_i0,o=n.effect_instruction_i1;return r()?(this.pushStack(n),o()):Ns}[Cd](n){return Cc[Cd](this,n,void 0)}[tp](n){return Kn(()=>n.commit())}runLoop(n){let r=n;for(this.currentOpCount=0;;){if(this.currentRuntimeFlags&j6&&this.currentSupervisor.onEffect(this,r),this._queue.length>0&&(r=this.drainQueueWhileRunning(this.currentRuntimeFlags,r)),!this._isYielding){this.currentOpCount+=1;const o=this.currentScheduler.shouldYield(this);if(o!==!1){this._isYielding=!0,this.currentOpCount=0;const s=r;r=ae(o0({priority:o}),()=>s)}}try{if(r=this.currentTracer.context(()=>wH!==r[mu]._V?DE(`Cannot execute an Effect versioned ${r[mu]._V} with a Runtime of version ${Xh()}`):this[r._op](r),this),r===fi){const o=di.currentOp;return o._op===Td||o._op===Wc?fi:(di.currentOp=null,o._op===eo||o._op===Zr?o:ht(zo(o)))}}catch(o){r!==fi&&!Ce(r,"_op")||!(r._op in this)?r=DE(`Not a valid effect: ${ru(r)}`):vK(o)?r=ht(Xr(zo(o),gi(lu))):r=ph(o)}}}}const EH=De("effect/FiberRef/currentMinimumLogLevel",()=>$r(b7("Info"))),xH=e=>A0(t=>{const n=a7(t.context,vh);eI(n,LA).unsafe.log(e.log(t))}),CH=De(Symbol.for("effect/Logger/defaultLogger"),()=>xH(V9)),TH=De(Symbol.for("effect/Logger/tracerLogger"),()=>A0(({annotations:e,cause:t,context:n,fiberId:r,logLevel:o,message:s})=>{const a=Ml(al(n,Ul),BA);if(a._tag==="None"||a.value._tag==="ExternalSpan")return;const c=tI(al(n,vh),xp),f={};for(const[d,p]of e)f[d]=p;f["effect.fiberId"]=C4(r),f["effect.logLevel"]=o.label,t!==null&&t._tag!=="Empty"&&(f["effect.cause"]=Lu(t,{renderErrorCause:!0})),a.value.event(ru(Array.isArray(s)?s[0]:s),c.unsafeCurrentTimeNanos(),f)})),kH=De(Symbol.for("effect/FiberRef/currentLoggers"),()=>oK(D_(CH,TH))),OH=I(e=>Wk(e[0]),(e,t,n)=>Fn(r=>{const o=(n==null?void 0:n.batching)===!0||(n==null?void 0:n.batching)==="inherit"&&r.getFiberRef(dK);return n!=null&&n.discard?gx(n.concurrency,()=>Ba(gv,n==null?void 0:n.concurrentFinalizers)(s=>o?ns(e,(a,c)=>s(t(a,c)),!0,!1,1):vp(e,(a,c)=>s(t(a,c)))),()=>Ba(mv,n==null?void 0:n.concurrentFinalizers)(s=>ns(e,(a,c)=>s(t(a,c)),o,!1)),s=>Ba(yv(s),n==null?void 0:n.concurrentFinalizers)(a=>ns(e,(c,f)=>a(t(c,f)),o,!1,s))):gx(n==null?void 0:n.concurrency,()=>Ba(gv,n==null?void 0:n.concurrentFinalizers)(s=>o?wx(e,1,(a,c)=>s(t(a,c)),!0):es(e,(a,c)=>s(t(a,c)))),()=>Ba(mv,n==null?void 0:n.concurrentFinalizers)(s=>IH(e,(a,c)=>s(t(a,c)),o)),s=>Ba(yv(s),n==null?void 0:n.concurrentFinalizers)(a=>wx(e,s,(c,f)=>a(t(c,f)),o)))})),IH=(e,t,n)=>rt(()=>{const r=wt(e),o=new Array(r.length);return ta(ns(r,(a,c)=>ae(t(a,c),f=>le(()=>o[c]=f)),n,!1),xe(o))}),ns=(e,t,n,r,o)=>bp(s=>zq(a=>Fn(c=>{let f=Array.from(e).reverse(),d=f.length;if(d===0)return no;let p=0,g=!1;const m=o?Math.min(f.length,o):f.length,y=new Set,b=new Array,x=()=>y.forEach(U=>{U.currentScheduler.scheduleTask(()=>{U.unsafeInterruptAsFork(c.id())},0)}),T=new Array,k=new Array,L=new Array,N=()=>{const U=b.filter(({exit:K})=>K._tag==="Failure").sort((K,S)=>K.index<S.index?-1:K.index===S.index?0:1).map(({exit:K})=>K);return U.length===0&&U.push(Ns),U},R=(U,K=!1)=>{const S=n0(a(U)),M=$H(S,c,c.currentRuntimeFlags,I0);return c.currentScheduler.scheduleTask(()=>{K&&M.unsafeInterruptAsFork(c.id()),M.resume(S)},0),M},W=()=>{r||(d-=f.length,f=[]),g=!0,x()},j=n?Bq:iA,A=R(ol(U=>{const K=(M,D)=>{M._op==="Blocked"?L.push(M):(b.push({index:D,exit:M}),M._op==="Failure"&&!g&&W())},S=()=>{if(f.length>0){const M=f.pop();let D=p++;const X=()=>{const ie=f.pop();return D=p++,ae(o0(),()=>ae(j(s(t(ie,D))),re))},re=ie=>f.length>0&&(K(ie,D),f.length>0)?X():xe(ie),_e=ae(j(s(t(M,D))),re),me=R(_e);T.push(me),y.add(me),g&&me.currentScheduler.scheduleTask(()=>{me.unsafeInterruptAsFork(c.id())},0),me.addObserver(ie=>{let ce;if(ie._op==="Failure"?ce=ie:ce=ie.effect_instruction_i0,k.push(me),y.delete(me),K(ce,D),b.length===d)U(xe(bt(KE(N(),{parallel:!0}),()=>Ns)));else if(L.length+b.length===d){const Le=N(),un=L.map(ct=>ct.effect_instruction_i0).reduce(VI);U(xe(tA(un,ns([bt(KE(Le,{parallel:!0}),()=>Ns),...L.map(ct=>ct.effect_instruction_i1)],ct=>ct,n,!0,o))))}else S()})}};for(let M=0;M<m;M++)S()}));return Fu(e0(aA(s(c$(A))),vA({onFailure:U=>{W();const K=L.length+1,S=Math.min(typeof o=="number"?o:L.length,L.length),M=Array.from(L);return ol(D=>{let X=0,re=0;const _e=(ie,ce)=>Le=>{X++,X===K&&D(Dt(ht(U))),M.length>0&&ce&&me()},me=()=>{R(M.pop(),!0).addObserver(_e(re,!0)),re++};A.addObserver(_e(re,!1)),re++;for(let ie=0;ie<S;ie++)me()})},onSuccess:()=>es(k,U=>U.inheritAll)})))}))),wx=(e,t,n,r)=>rt(()=>{const o=wt(e),s=new Array(o.length);return ta(ns(o,(c,f)=>st(n(c,f),d=>s[f]=d),r,!1,t),xe(s))}),$$=e=>RH(e,I0),AH=(e,t,n,r=null)=>{const o=R$(e,t,n,r);return o.resume(e),o},$H=(e,t,n,r=null)=>R$(e,t,n,r),R$=(e,t,n,r=null)=>{const o=II(),s=t.getFiberRefs(),a=o7(s,o),c=new A$(o,a,n),f=al(a,Ul),d=c.currentSupervisor;return d.onStart(f,e,we(t),c),c.addObserver(g=>d.onEnd(g,c)),(r!==null?r:F(t.getFiberRef(cv),bt(()=>t.scope()))).add(n,c),c},RH=(e,t)=>Fn((n,r)=>xe(AH(e,n,r.runtimeFlags,t))),Ex=e=>zl(t=>Ot(Ml(t,Hl),{onNone:()=>e,onSome:n=>{switch(n.strategy._tag){case"Parallel":return e;case"Sequential":case"ParallelN":return ae(Ep(n,mv),r=>P0(e,r))}}})),xx=e=>t=>zl(n=>Ot(Ml(n,Hl),{onNone:()=>t,onSome:r=>r.strategy._tag==="ParallelN"&&r.strategy.parallelism===e?t:ae(Ep(r,yv(e)),o=>P0(t,o))})),Ba=(e,t)=>n=>zl(r=>Ot(Ml(r,Hl),{onNone:()=>n(Pt),onSome:o=>{if(t===!0){const s=e._tag==="Parallel"?Ex:e._tag==="Sequential"?Cx:xx(e.parallelism);switch(o.strategy._tag){case"Parallel":return s(n(Ex));case"Sequential":return s(n(Cx));case"ParallelN":return s(n(xx(o.strategy.parallelism)))}}else return n(Pt)}})),Cx=e=>zl(t=>Ot(Ml(t,Hl),{onNone:()=>e,onSome:n=>{switch(n.strategy._tag){case"Sequential":return e;case"Parallel":case"ParallelN":return ae(Ep(n,gv),r=>P0(e,r))}}})),Hl=la("effect/Scope"),P0=I(2,(e,t)=>PK(e,nI(uz(Hl,t)))),PH=e=>Bu(e,{differ:hH,fork:qc}),Tx=sK(U6),MH=PH(Ip),NH=(e,t,n)=>sA(r=>ae(ae($$(cA(e)),o=>ol(s=>{const a=t.map(d=>d.listeners.count),c=()=>{a.every(d=>d===0)&&t.every(d=>d.result.state.current._tag==="Pending"?!0:!!(d.result.state.current._tag==="Done"&&c0(d.result.state.current.effect)&&d.result.state.current.effect._tag==="Failure"&&dq(d.result.state.current.effect.cause)))&&(f.forEach(d=>d()),n==null||n(),s(Hq(o)))};o.addObserver(d=>{f.forEach(p=>p()),s(d)});const f=t.map((d,p)=>{const g=m=>{a[p]=m,c()};return d.listeners.addObserver(g),()=>d.listeners.removeObserver(g)});return c(),le(()=>{f.forEach(d=>d())})})),()=>rt(()=>{const o=t.flatMap(s=>s.state.completed?[]:[s]);return vp(o,s=>iH(s.request,wK(r)))}))),LH=cq,FH=Lu,BH="effect/ScheduleInterval",kh=Symbol.for(BH),P$={[kh]:kh,startMillis:0,endMillis:0},M$=(e,t)=>e>t?P$:{[kh]:kh,startMillis:e,endMillis:t},jH=I(2,(e,t)=>DH(e,t)===e),DH=I(2,(e,t)=>e.endMillis<=t.startMillis?e:t.endMillis<=e.startMillis?t:e.startMillis<t.startMillis?e:t.startMillis<e.startMillis?t:e.endMillis<=t.endMillis?e:t),WH=e=>e.startMillis>=e.endMillis,UH=I(2,(e,t)=>{const n=Math.max(e.startMillis,t.startMillis),r=Math.min(e.endMillis,t.endMillis);return M$(n,r)}),zH=e=>M$(e,Number.POSITIVE_INFINITY),N$=P$,qH=jH,KH=WH,VH=UH,HH=zH,GH="effect/ScheduleIntervals",kx=Symbol.for(GH),L$=e=>({[kx]:kx,intervals:e}),JH=I(2,(e,t)=>YH(e.intervals,t.intervals,Tr())),YH=(e,t,n)=>{let r=e,o=t,s=n;for(;Ei(r)&&Ei(o);){const a=F(Do(r),VH(Do(o))),c=KH(a)?s:F(s,Hn(a));F(Do(r),qH(Do(o)))?r=vi(r):o=vi(o),s=c}return L$(wi(s))},Iv=e=>F(e.intervals,uI,bt(()=>N$)).startMillis,XH=e=>F(e.intervals,uI,bt(()=>N$)).endMillis,QH=I(2,(e,t)=>Iv(e)<Iv(t)),ZH=e=>Ei(e.intervals),eG=L$,tG=JH,nG=Iv,Ox=XH,rG=QH,oG=ZH,M0="Continue",F$="Done",iG=e=>({_tag:M0,intervals:e}),sG=e=>({_tag:M0,intervals:eG(ir(e))}),aG={_tag:F$},uG=e=>e._tag===M0,cG=e=>e._tag===F$,lG=iG,fG=sG,ul=aG,Ix=uG,Oh=cG,dG=gK,hG=Ep,pG=U4,gG=e=>t=>{const n=t===void 0?Object.create(Al):pG(t);return n._tag=e,n},mG=()=>new Proxy({},{get(e,t,n){return t==="$is"?f_:t==="$match"?yG:gG(t)}});function yG(){if(arguments.length===1){const n=arguments[0];return function(r){return n[r._tag](r)}}const e=arguments[0];return arguments[1][e._tag](e)}const vG=function(){const e=Symbol.for("effect/Data/Error/plainArgs");return class extends a0{constructor(n){super(n==null?void 0:n.message,n!=null&&n.cause?{cause:n.cause}:void 0),n&&(Object.assign(this,n),Object.defineProperty(this,e,{value:n,enumerable:!1}))}toJSON(){return{...this[e],...this}}}}(),_G=e=>{class t extends vG{constructor(){super(...arguments);_(this,"_tag",e)}}return t.prototype.name=e,t},bG="effect/Schedule",B$=Symbol.for(bG),SG=e=>Ce(e,B$),wG="effect/ScheduleDriver",EG=Symbol.for(wG),xG={_Out:e=>e,_In:e=>e,_R:e=>e},CG={_Out:e=>e,_In:e=>e,_R:e=>e};var mk;mk=B$;class TG{constructor(t,n){_(this,"initial");_(this,"step");_(this,mk,xG);this.initial=t,this.step=n}pipe(){return ye(this,arguments)}}var yk;yk=EG;class kG{constructor(t,n){_(this,"schedule");_(this,"ref");_(this,yk,CG);this.schedule=t,this.ref=n}get state(){return st(oy(this.ref),t=>t[1])}get last(){return ae(oy(this.ref),([t,n])=>{switch(t._tag){case"None":return X_(()=>new u0);case"Some":return xe(t.value)}})}get reset(){return cx(this.ref,[oe(),this.schedule.initial])}next(t){return F(st(oy(this.ref),n=>n[1]),ae(n=>F(Z8,ae(r=>F(rt(()=>this.schedule.step(r,t,n)),ae(([o,s,a])=>{const c=cx(this.ref,[we(s),o]);if(Oh(a))return ta(c,mn(oe()));const f=nG(a.intervals)-r;return f<=0?Zs(c,s):F(c,ta(L7(sh(f))),Zs(s))}))))))}}const Gl=(e,t)=>new TG(e,t),OG=I(2,(e,t)=>N0(e,(n,r)=>le(()=>t(n,r)))),N0=I(2,(e,t)=>Gl(e.initial,(n,r,o)=>ae(e.step(n,r,o),([s,a,c])=>Oh(c)?xe([s,a,ul]):st(t(r,a),f=>f?[s,a,c]:[s,a,ul])))),IG=e=>F(O7([oe(),e.initial]),st(t=>new kG(e,t))),AG=I(2,(e,t)=>$G(e,t,tG)),$G=I(3,(e,t,n)=>Gl([e.initial,t.initial],(r,o,s)=>F(Vq(e.step(r,o,s[0]),t.step(r,o,s[1]),(a,c)=>[a,c]),ae(([[a,c,f],[d,p,g]])=>Ix(f)&&Ix(g)?Av(e,t,o,a,c,f.intervals,d,p,g.intervals,n):xe([[a,d],[c,p],ul]))))),Av=(e,t,n,r,o,s,a,c,f,d)=>{const p=d(s,f);return oG(p)?xe([[r,a],[o,c],lG(p)]):F(s,rG(f))?ae(e.step(Ox(s),n,r),([g,m,y])=>Oh(y)?xe([[g,a],[m,c],ul]):Av(e,t,n,g,m,y.intervals,a,c,f,d)):ae(t.step(Ox(f),n,a),([g,m,y])=>Oh(y)?xe([[r,g],[o,m],ul]):Av(e,t,n,r,o,s,g,m,y.intervals,d))},RG=I(2,(e,t)=>PG(e,n=>le(()=>t(n)))),PG=I(2,(e,t)=>Gl(e.initial,(n,r,o)=>ae(e.step(n,r,o),([s,a,c])=>st(t(a),f=>[s,f,c])))),MG=e=>Gl(e.initial,(t,n,r)=>F(e.step(t,n,r),st(([o,s,a])=>[o,n,a]))),NG=e=>jG(L0,t=>t<e),LG=(e,t)=>Gl(e,(n,r,o)=>le(()=>[t(o),o,fG(HH(n))])),FG=I(2,(e,t)=>N0(e,(n,r)=>N7(t(n)))),BG=I(2,(e,t)=>N0(e,(n,r)=>t(n))),jG=I(2,(e,t)=>OG(e,(n,r)=>t(r))),Ld=Symbol.for("effect/Schedule/ScheduleDefect");var vk;vk=Ld;class DG{constructor(t){_(this,"error");_(this,vk);this.error=t,this[Ld]=Ld}}const WG=e=>Ce(e,Ld),Ax=e=>il(e,t=>ph(new DG(t))),UG=e=>Lq(e,t=>Ot(H_(t,n=>lq(n)&&WG(n.defect)?we(n.defect):oe()),{onNone:()=>kr(t),onSome:n=>mn(n.error)})),$x=I(2,(e,t)=>qG(e,t,(n,r)=>mn(n))),zG=I(2,(e,t)=>{if(SG(t))return $x(e,t);const n=t.schedule??MG(L0),r=t.while?BG(n,a=>{const c=t.while(a);return typeof c=="boolean"?xe(c):Ax(c)}):n,o=t.until?FG(r,a=>{const c=t.until(a);return typeof c=="boolean"?xe(c):Ax(c)}):r,s=t.times?AG(o,NG(t.times)).pipe(RG(a=>a[0])):o;return UG($x(e,s))}),qG=I(3,(e,t,n)=>ae(IG(t),r=>ea(e,{onFailure:o=>n(o,oe()),onSuccess:o=>j$(e,r,n,o)}))),j$=(e,t,n,r)=>ea(t.next(r),{onFailure:()=>Dq(t.last),onSuccess:o=>ea(e,{onFailure:s=>n(s,we(o)),onSuccess:s=>j$(e,t,n,s)})}),L0=LG(0,e=>e+1),F0=e=>(t,n)=>{const r=II(),o=[[Ul,[[r,e.context]]]];n!=null&&n.scheduler&&o.push([a$,[[r,n.scheduler]]]);let s=u7(e.fiberRefs,{entries:o,forkAs:r});n!=null&&n.updateRefs&&(s=n.updateRefs(s,r));const a=new A$(r,s,e.runtimeFlags);let c=t;n!=null&&n.scope&&(c=ae(hG(n.scope,JA),d=>ta(pK(d,sA(p=>Ae(p,a.id())?no:dA(a,p))),e0(t,p=>dG(d,p)))));const f=a.currentSupervisor;return f!==Ip&&(f.onStart(e.context,c,oe(),a),a.addObserver(d=>f.onEnd(d,a))),I0.add(e.runtimeFlags,a),(n==null?void 0:n.immediate)===!1?a.resume(c):a.start(c),a},KG=e=>t=>{const n=JG(e)(t);if(n._tag==="Failure")throw D$(n.effect_instruction_i0);return n.effect_instruction_i0};class VG extends Error{constructor(n){super(`Fiber #${n.id().id} cannot be resolved synchronously. This is caused by using runSync on an effect that performs async work`);_(this,"fiber");_(this,"_tag","AsyncFiberException");this.fiber=n,this.name=this._tag,this.stack=this.message}}const HG=e=>{const t=Error.stackTraceLimit;Error.stackTraceLimit=0;const n=new VG(e);return Error.stackTraceLimit=t,n},ay=Symbol.for("effect/Runtime/FiberFailure"),od=Symbol.for("effect/Runtime/FiberFailure/Cause");var _k,bk;class GG extends Error{constructor(n){const r=ZI(n)[0];super((r==null?void 0:r.message)||"An error has occurred");_(this,bk);_(this,_k);this[ay]=ay,this[od]=n,this.name=r?`(FiberFailure) ${r.name}`:"FiberFailure",r!=null&&r.stack&&(this.stack=r.stack)}toJSON(){return{_id:"FiberFailure",cause:this[od].toJSON()}}toString(){return"(FiberFailure) "+Lu(this[od],{renderErrorCause:!0})}[(bk=ay,_k=od,gt)](){return this.toString()}}const D$=e=>{const t=Error.stackTraceLimit;Error.stackTraceLimit=0;const n=new GG(e);return Error.stackTraceLimit=t,n},W$=e=>{const t=e;switch(t._op){case"Failure":case"Success":return t;case"Left":return VE(t.left);case"Right":return Dt(t.right);case"Some":return Dt(t.value);case"None":return VE(u0())}},JG=e=>t=>{const n=W$(t);if(n)return n;const r=new s$,o=F0(e)(t,{scheduler:r});r.flush();const s=o.unsafePoll();return s||SK(Y_(HG(o),d0(o)))},YG=e=>(t,n)=>XG(e)(t,n).then(r=>{switch(r._tag){case eo:return r.effect_instruction_i0;case Zr:throw D$(r.effect_instruction_i0)}}),XG=e=>(t,n)=>new Promise(r=>{const o=W$(t);o&&r(o);const s=F0(e)(t);s.addObserver(a=>{r(a)}),(n==null?void 0:n.signal)!==void 0&&(n.signal.aborted?s.unsafeInterruptAsFork(s.id()):n.signal.addEventListener("abort",()=>{s.unsafeInterruptAsFork(s.id())},{once:!0}))});class QG{constructor(t,n,r){_(this,"context");_(this,"runtimeFlags");_(this,"fiberRefs");this.context=t,this.runtimeFlags=n,this.fiberRefs=r}pipe(){return ye(this,arguments)}}const ZG=e=>new QG(e.context,e.runtimeFlags,e.fiberRefs),eJ=qI(Ru,UI,WI),B0=ZG({context:$_(),runtimeFlags:eJ,fiberRefs:c7()}),tJ=F0(B0),nJ=YG(B0),rJ=KG(B0),oJ=yp,Kc=OH,id=rt,zr=no,iJ=il,Ih=st,sJ=Z_,aJ=_p,ja=gh,Ao=ae,uJ=zG,cJ=tJ,lJ=nJ,Ap=rJ,fJ="effect/QueueEnqueue",dJ=Symbol.for(fJ),hJ="effect/QueueDequeue",pJ=Symbol.for(hJ),gJ="effect/QueueStrategy",mJ=Symbol.for(gJ),yJ="effect/BackingQueue",vJ=Symbol.for(yJ),_J={_A:e=>e},bJ={_A:e=>e},SJ={_In:e=>e},wJ={_Out:e=>e};var Sk,wk,Ek;class EJ extends(Ek=y0,wk=dJ,Sk=pJ,Ek){constructor(n,r,o,s,a){super();_(this,"queue");_(this,"takers");_(this,"shutdownHook");_(this,"shutdownFlag");_(this,"strategy");_(this,wk,SJ);_(this,Sk,wJ);this.queue=n,this.takers=r,this.shutdownHook=o,this.shutdownFlag=s,this.strategy=a}pipe(){return ye(this,arguments)}commit(){return this.take}capacity(){return this.queue.capacity()}get size(){return rt(()=>il(this.unsafeSize(),()=>ks))}unsafeSize(){return pn(this.shutdownFlag)?oe():we(this.queue.length()-wA(this.takers)+this.strategy.surplusSize())}get isEmpty(){return st(this.size,n=>n<=0)}get isFull(){return st(this.size,n=>n>=this.capacity())}get shutdown(){return n0(Fn(n=>(F(this.shutdownFlag,Ll(!0)),F(ns(j0(this.takers),r=>kK(r,n.id()),!1,!1),ta(this.strategy.shutdown),Kq(OK(this.shutdownHook,void 0)),Fu))))}get isShutdown(){return le(()=>pn(this.shutdownFlag))}get awaitShutdown(){return mh(this.shutdownHook)}isActive(){return!pn(this.shutdownFlag)}unsafeOffer(n){if(pn(this.shutdownFlag))return!1;let r;if(this.queue.length()===0){const s=F(this.takers,sl(Jr));s!==Jr?(Fd(s,n),r=!0):r=!1}else r=!1;if(r)return!0;const o=this.queue.offer(n);return sd(this.strategy,this.queue,this.takers),o}offer(n){return rt(()=>{if(pn(this.shutdownFlag))return ks;let r;if(this.queue.length()===0){const s=F(this.takers,sl(Jr));s!==Jr?(Fd(s,n),r=!0):r=!1}else r=!1;if(r)return xe(!0);const o=this.queue.offer(n);return sd(this.strategy,this.queue,this.takers),o?xe(!0):this.strategy.handleSurplus([n],this.queue,this.takers,this.shutdownFlag)})}offerAll(n){return rt(()=>{if(pn(this.shutdownFlag))return ks;const r=wt(n),o=this.queue.length()===0?wt(PJ(this.takers,r.length)):Gs,[s,a]=F(r,dO(o.length));for(let f=0;f<o.length;f++){const d=o[f],p=s[f];Fd(d,p)}if(a.length===0)return xe(!0);const c=this.queue.offerAll(a);return sd(this.strategy,this.queue,this.takers),aI(c)?xe(!0):this.strategy.handleSurplus(c,this.queue,this.takers,this.shutdownFlag)})}get take(){return Fn(n=>{if(pn(this.shutdownFlag))return ks;const r=this.queue.poll(Jr);if(r!==Jr)return this.strategy.unsafeOnQueueEmptySpace(this.queue,this.takers),xe(r);{const o=l0(n.id());return F(rt(()=>(F(this.takers,g0(o)),sd(this.strategy,this.queue,this.takers),pn(this.shutdownFlag)?ks:mh(o))),t0(()=>le(()=>MJ(this.takers,o))))}})}get takeAll(){return rt(()=>pn(this.shutdownFlag)?ks:le(()=>{const n=this.queue.pollUpTo(Number.POSITIVE_INFINITY);return this.strategy.unsafeOnQueueEmptySpace(this.queue,this.takers),ih(n)}))}takeUpTo(n){return rt(()=>pn(this.shutdownFlag)?ks:le(()=>{const r=this.queue.pollUpTo(n);return this.strategy.unsafeOnQueueEmptySpace(this.queue,this.takers),ih(r)}))}takeBetween(n,r){return rt(()=>U$(this,n,r,Tr()))}}const U$=(e,t,n,r)=>n<t?xe(r):F(AJ(e,n),ae(o=>{const s=t-o.length;return s===1?F($v(e),st(a=>F(r,rr(o),Vy(a)))):s>1?F($v(e),ae(a=>U$(e,s-1,n-o.length-1,F(r,rr(o),Vy(a))))):xe(F(r,rr(o)))})),xJ=()=>F(le(()=>SA()),ae(e=>TJ(OJ(e),$J()))),CJ=(e,t,n,r,o)=>new EJ(e,t,n,r,o),TJ=(e,t)=>F(CK(),st(n=>CJ(e,SA(),n,hp(!1),t)));var xk;xk=vJ;class kJ{constructor(t){_(this,"mutable");_(this,xk,bJ);this.mutable=t}poll(t){return sl(this.mutable,t)}pollUpTo(t){return m0(this.mutable,t)}offerAll(t){return EA(this.mutable,t)}offer(t){return g0(this.mutable,t)}capacity(){return JK(this.mutable)}length(){return wA(this.mutable)}}const OJ=e=>new kJ(e),IJ=I(2,(e,t)=>e.offer(t)),$v=e=>e.take,AJ=I(2,(e,t)=>e.takeUpTo(t)),$J=()=>new RJ;var Ck;Ck=mJ;class RJ{constructor(){_(this,Ck,_J)}surplusSize(){return 0}get shutdown(){return no}onCompleteTakersWithEmptyQueue(){}handleSurplus(t,n,r,o){return xe(!1)}unsafeOnQueueEmptySpace(t,n){}}const Fd=(e,t)=>f0(e,xe(t)),z$=(e,t)=>F(e,EA(t)),j0=e=>F(e,m0(Number.POSITIVE_INFINITY)),PJ=(e,t)=>F(e,m0(t)),MJ=(e,t)=>{z$(e,F(j0(e),yz(n=>t!==n)))},sd=(e,t,n)=>{let r=!0;for(;r&&t.length()!==0;){const o=F(n,sl(Jr));if(o!==Jr){const s=t.poll(Jr);s!==Jr?(Fd(o,s),e.unsafeOnQueueEmptySpace(t,n)):z$(n,F(j0(n),Hn(o))),r=!0}else r=!1}r&&t.length()===0&&!GK(n)&&e.onCompleteTakersWithEmptyQueue(n)},NJ=xJ,LJ=IJ,FJ=$v,BJ=L0;class kn{constructor(t,n,r){_(this,"path");_(this,"actual");_(this,"issue");_(this,"_tag","Pointer");this.path=t,this.actual=n,this.issue=r}}class Rx{constructor(t,n){_(this,"actual");_(this,"message");_(this,"_tag","Unexpected");this.actual=t,this.message=n}}class Tc{constructor(t,n){_(this,"ast");_(this,"message");_(this,"_tag","Missing");_(this,"actual");this.ast=t,this.message=n}}class Rt{constructor(t,n,r,o){_(this,"ast");_(this,"actual");_(this,"issues");_(this,"output");_(this,"_tag","Composite");this.ast=t,this.actual=n,this.issues=r,this.output=o}}class uy{constructor(t,n,r,o){_(this,"ast");_(this,"actual");_(this,"kind");_(this,"issue");_(this,"_tag","Refinement");this.ast=t,this.actual=n,this.kind=r,this.issue=o}}class cy{constructor(t,n,r,o){_(this,"ast");_(this,"actual");_(this,"kind");_(this,"issue");_(this,"_tag","Transformation");this.ast=t,this.actual=n,this.kind=r,this.issue=o}}class Fo{constructor(t,n,r){_(this,"ast");_(this,"actual");_(this,"message");_(this,"_tag","Type");this.ast=t,this.actual=n,this.message=r}}class Px{constructor(t,n,r){_(this,"ast");_(this,"actual");_(this,"message");_(this,"_tag","Forbidden");this.ast=t,this.actual=n,this.message=r}}const Mx=Symbol.for("effect/Schema/ParseErrorTypeId");var Tk;class jJ extends _G("ParseError"){constructor(){super(...arguments);_(this,Tk,Mx)}get message(){return this.toString()}toString(){return Bd.formatIssueSync(this.issue)}toJSON(){return{_id:"ParseError",message:this.toString()}}[(Tk=Mx,gt)](){return this.toJSON()}}const D0=e=>new jJ({issue:e}),Ah=Te,q$=Se,Nx=iW,Rn=sW,_o=I(2,(e,t)=>Rn(e)?Iu(e,{onLeft:Se,onRight:t}):Ao(e,t)),mr=I(2,(e,t)=>Rn(e)?uW(e,t):Ih(e,t)),ly=I(2,(e,t)=>Rn(e)?S_(e,t):aJ(e,t)),DJ=I(2,(e,t)=>Rn(e)?aW(e,{onLeft:t.onFailure,onRight:t.onSuccess}):sJ(e,t)),K$=I(2,(e,t)=>Rn(e)?Iu(e,{onLeft:t,onRight:Te}):iJ(e,t)),W0=(e,t)=>t===void 0||Vs(t)?e:e===void 0?t:{...e,...t},$p=(e,t,n)=>{const r=hn(e,t);return(o,s)=>r(o,W0(n,s))},WJ=(e,t,n)=>{const r=$p(e,t,n);return(o,s)=>nO(r(o,s),D0)},UJ=(e,t,n)=>{const r=$p(e,t,n);return(o,s)=>hW(r(o,s))},V$=(e,t,n)=>{const r=hn(e,t);return(o,s)=>r(o,{...W0(n,s),isEffectAllowed:!0})},zJ=(e,t)=>$p(e.ast,!0,t),qJ=(e,t)=>V$(e.ast,!0,t),KJ=(e,t)=>UJ(e.ast,!1,t),VJ=(e,t)=>$p(e.ast,!1,t),HJ=(e,t)=>V$(e.ast,!1,t),GJ=(e,t)=>WJ(tn(e.ast),!0,t),JJ=KJ,YJ=De(Symbol.for("effect/ParseResult/decodeMemoMap"),()=>new WeakMap),XJ=De(Symbol.for("effect/ParseResult/encodeMemoMap"),()=>new WeakMap),hn=(e,t)=>{const n=t?YJ:XJ,r=n.get(e);if(r)return r;const o=QJ(e,t),s=sU(e),a=Ln(s)?(d,p)=>o(d,W0(p,s.value)):o,c=aU(e),f=t&&Ln(c)?(d,p)=>Mc(K$(a(d,p),c.value),e,d,p):a;return n.set(e,f),f},fy=e=>mo(rU(e)),dy=e=>mo(oU(e)),QJ=(e,t)=>{switch(e._tag){case"Refinement":if(t){const n=hn(e.from,!0);return(r,o)=>{o=o??Ym;const s=(o==null?void 0:o.errors)==="all",a=_o(K$(n(r,o),c=>{const f=new uy(e,r,"From",c);return s&&cU(e)&&Y$(c)?Ot(e.filter(r,o,e),{onNone:()=>Se(f),onSome:d=>Se(new Rt(e,r,[f,new uy(e,r,"Predicate",d)]))}):Se(f)}),c=>Ot(e.filter(c,o,e),{onNone:()=>Te(c),onSome:f=>Se(new uy(e,r,"Predicate",f))}));return Mc(a,e,r,o)}}else{const n=hn(tn(e),!0),r=hn(H$(e.from),!1);return(o,s)=>Mc(_o(n(o,s),a=>r(a,s)),e,o,s)}case"Transformation":{const n=tY(e.transformation,t),r=t?hn(e.from,!0):hn(e.to,!1),o=t?hn(e.to,!0):hn(e.from,!1);return(s,a)=>Mc(_o(ly(r(s,a),c=>new cy(e,s,t?"Encoded":"Type",c)),c=>_o(ly(n(c,a??Ym,e,s),f=>new cy(e,s,"Transformation",f)),f=>ly(o(f,a),d=>new cy(e,s,t?"Type":"Encoded",d)))),e,s,a)}case"Declaration":{const n=t?e.decodeUnknown(...e.typeParameters):e.encodeUnknown(...e.typeParameters);return(r,o)=>Mc(n(r,o??Ym,e),e,r,o)}case"Literal":return gr(e,n=>n===e.literal);case"UniqueSymbol":return gr(e,n=>n===e.symbol);case"UndefinedKeyword":return gr(e,wD);case"NeverKeyword":return gr(e,ED);case"UnknownKeyword":case"AnyKeyword":case"VoidKeyword":return Te;case"StringKeyword":return gr(e,Vo);case"NumberKeyword":return gr(e,Vs);case"BooleanKeyword":return gr(e,c_);case"BigIntKeyword":return gr(e,Qh);case"SymbolKeyword":return gr(e,Dy);case"ObjectKeyword":return gr(e,hs);case"Enums":return gr(e,n=>e.enums.some(([r,o])=>o===n));case"TemplateLiteral":{const n=WU(e);return gr(e,r=>Vo(r)&&n.test(r))}case"TupleType":{const n=e.elements.map(d=>hn(d.type,t)),r=e.rest.map(d=>hn(d.type,t));let o=e.elements.filter(d=>!d.isOptional);e.rest.length>0&&(o=o.concat(e.rest.slice(1)));const s=o.length,a=e.elements.length>0?e.elements.map((d,p)=>p).join(" | "):"never",c=fy(e),f=dy(e);return(d,p)=>{if(!kW(d))return Se(new Fo(e,d));const g=(p==null?void 0:p.errors)==="all",m=[];let y=0;const b=[],x=d.length;for(let N=x;N<=s-1;N++){const R=new kn(N,d,new Tc(o[N-x]));if(g){m.push([y++,R]);continue}else return Se(new Rt(e,d,R,b))}if(e.rest.length===0)for(let N=e.elements.length;N<=x-1;N++){const R=new kn(N,d,new Rx(d[N],`is unexpected, expected: ${a}`));if(g){m.push([y++,R]);continue}else return Se(new Rt(e,d,R,b))}let T=0,k;for(;T<n.length;T++)if(x<T+1){if(e.elements[T].isOptional)continue}else{const N=n[T],R=N(d[T],p);if(Rn(R)){if(en(R)){const W=new kn(T,d,R.left);if(g){m.push([y++,W]);continue}else return Se(new Rt(e,d,W,po(b)))}b.push([y++,R.right])}else{const W=y++,j=T;k||(k=[]),k.push(({es:A,output:U})=>Ao(ja(R),K=>{if(en(K)){const S=new kn(j,d,K.left);return g?(A.push([W,S]),zr):Se(new Rt(e,d,S,po(U)))}return U.push([W,K.right]),zr}))}}if(rn(r)){const[N,...R]=r;for(;T<x-R.length;T++){const W=N(d[T],p);if(Rn(W))if(en(W)){const j=new kn(T,d,W.left);if(g){m.push([y++,j]);continue}else return Se(new Rt(e,d,j,po(b)))}else b.push([y++,W.right]);else{const j=y++,A=T;k||(k=[]),k.push(({es:U,output:K})=>Ao(ja(W),S=>{if(en(S)){const M=new kn(A,d,S.left);return g?(U.push([j,M]),zr):Se(new Rt(e,d,M,po(K)))}else return K.push([j,S.right]),zr}))}}for(let W=0;W<R.length;W++)if(T+=W,!(x<T+1)){const j=R[W](d[T],p);if(Rn(j)){if(en(j)){const A=new kn(T,d,j.left);if(g){m.push([y++,A]);continue}else return Se(new Rt(e,d,A,po(b)))}b.push([y++,j.right])}else{const A=y++,U=T;k||(k=[]),k.push(({es:K,output:S})=>Ao(ja(j),M=>{if(en(M)){const D=new kn(U,d,M.left);return g?(K.push([A,D]),zr):Se(new Rt(e,d,D,po(S)))}return S.push([A,M.right]),zr}))}}}const L=({es:N,output:R})=>kd(N)?Se(new Rt(e,d,po(N),po(R))):Te(po(R));if(k&&k.length>0){const N=k;return id(()=>{const R={es:Rc(m),output:Rc(b)};return Ao(Kc(N,W=>W(R),{concurrency:c,batching:f,discard:!0}),()=>L(R))})}return L({output:b,es:m})}}case"TypeLiteral":{if(e.propertySignatures.length===0&&e.indexSignatures.length===0)return gr(e,xD);const n=[],r={},o=[];for(const p of e.propertySignatures)n.push([hn(p.type,t),p]),r[p.name]=null,o.push(p.name);const s=e.indexSignatures.map(p=>[hn(p.parameter,t),hn(p.type,t),p.parameter]),a=Po.make(e.indexSignatures.map(p=>p.parameter).concat(o.map(p=>Dy(p)?new hU(p):new zy(p)))),c=hn(a,t),f=fy(e),d=dy(e);return(p,g)=>{if(!TD(p))return Se(new Fo(e,p));const m=(g==null?void 0:g.errors)==="all",y=[];let b=0;const x=(g==null?void 0:g.onExcessProperty)==="error",T=(g==null?void 0:g.onExcessProperty)==="preserve",k={};let L;if(x||T){L=Xa(p);for(const j of L){const A=c(j,g);if(Rn(A)&&en(A))if(x){const U=new kn(j,p,new Rx(p[j],`is unexpected, expected: ${String(a)}`));if(m){y.push([b++,U]);continue}else return Se(new Rt(e,p,U,k))}else k[j]=p[j]}}let N;const R=(g==null?void 0:g.exact)===!0;for(let j=0;j<n.length;j++){const A=n[j][1],U=A.name,K=Object.prototype.hasOwnProperty.call(p,U);if(!K){if(A.isOptional)continue;if(R){const D=new kn(U,p,new Tc(A));if(m){y.push([b++,D]);continue}else return Se(new Rt(e,p,D,k))}}const S=n[j][0],M=S(p[U],g);if(Rn(M)){if(en(M)){const D=new kn(U,p,K?M.left:new Tc(A));if(m){y.push([b++,D]);continue}else return Se(new Rt(e,p,D,k))}k[U]=M.right}else{const D=b++,X=U;N||(N=[]),N.push(({es:re,output:_e})=>Ao(ja(M),me=>{if(en(me)){const ie=new kn(X,p,K?me.left:new Tc(A));return m?(re.push([D,ie]),zr):Se(new Rt(e,p,ie,_e))}return _e[X]=me.right,zr}))}}for(let j=0;j<s.length;j++){const A=s[j],U=A[0],K=A[1],S=yO(p,A[2]);for(const M of S){const D=U(M,g);if(Rn(D)&&yi(D)){const X=K(p[M],g);if(Rn(X))if(en(X)){const re=new kn(M,p,X.left);if(m){y.push([b++,re]);continue}else return Se(new Rt(e,p,re,k))}else Object.prototype.hasOwnProperty.call(r,M)||(k[M]=X.right);else{const re=b++,_e=M;N||(N=[]),N.push(({es:me,output:ie})=>Ao(ja(X),ce=>{if(en(ce)){const Le=new kn(_e,p,ce.left);return m?(me.push([re,Le]),zr):Se(new Rt(e,p,Le,ie))}else return Object.prototype.hasOwnProperty.call(r,M)||(ie[M]=ce.right),zr}))}}}}const W=({es:j,output:A})=>{if(kd(j))return Se(new Rt(e,p,po(j),A));if((g==null?void 0:g.propertyOrder)==="original"){const U=L||Xa(p);for(const S of o)U.indexOf(S)===-1&&U.push(S);const K={};for(const S of U)Object.prototype.hasOwnProperty.call(A,S)&&(K[S]=A[S]);return Te(K)}return Te(A)};if(N&&N.length>0){const j=N;return id(()=>{const A={es:Rc(y),output:Object.assign({},k)};return Ao(Kc(j,U=>U(A),{concurrency:f,batching:d,discard:!0}),()=>W(A))})}return W({es:y,output:k})}}case"Union":{const n=ZJ(e.types,t),r=Xa(n.keys),o=r.length,s=e.types.length,a=new Map;for(let d=0;d<s;d++)a.set(e.types[d],hn(e.types[d],t));const c=fy(e)??1,f=dy(e);return(d,p)=>{const g=[];let m=0,y=[];if(o>0)if(l_(d))for(let T=0;T<o;T++){const k=r[T],L=n.keys[k].buckets;if(Object.prototype.hasOwnProperty.call(d,k)){const N=String(d[k]);if(Object.prototype.hasOwnProperty.call(L,N))y=y.concat(L[N]);else{const{candidates:R,literals:W}=n.keys[k],j=Po.make(W),A=R.length===s?new Ds([new $n(k,j,!1,!0)],[]):Po.make(R);g.push([m++,new Rt(A,d,new kn(k,d,new Fo(j,d[k])))])}}else{const{candidates:N,literals:R}=n.keys[k],W=new $n(k,Po.make(R),!1,!0),j=N.length===s?new Ds([W],[]):Po.make(N);g.push([m++,new Rt(j,d,new kn(k,d,new Tc(W)))])}}else{const T=n.candidates.length===s?e:Po.make(n.candidates);g.push([m++,new Fo(T,d)])}n.otherwise.length>0&&(y=y.concat(n.otherwise));let b;for(let T=0;T<y.length;T++){const k=y[T],L=a.get(k)(d,p);if(Rn(L)&&(!b||b.length===0)){if(yi(L))return L;g.push([m++,L.left])}else{const N=m++;b||(b=[]),b.push(R=>id(()=>"finalResult"in R?zr:Ao(ja(L),W=>(yi(W)?R.finalResult=W:R.es.push([N,W.left]),zr))))}}const x=T=>kd(T)?T.length===1&&T[0][1]._tag==="Type"?Se(T[0][1]):Se(new Rt(e,d,po(T))):Se(new Fo(e,d));if(b&&b.length>0){const T=b;return id(()=>{const k={es:Rc(g)};return Ao(Kc(T,L=>L(k),{concurrency:c,batching:f,discard:!0}),()=>"finalResult"in k?k.finalResult:x(k.es))})}return x(g)}}case"Suspend":{const n=vO(()=>hn(su(e.f(),e.annotations),t));return(r,o)=>n()(r,o)}}},gr=(e,t)=>n=>t(n)?Te(n):Se(new Fo(e,n)),Pc=(e,t)=>{switch(e._tag){case"Declaration":{const n=LO(e);if(Ln(n))return Pc(n.value,t);break}case"TypeLiteral":{const n=[];for(let r=0;r<e.propertySignatures.length;r++){const o=e.propertySignatures[r],s=t?wE(o.type):tn(o.type);_E(s)&&!o.isOptional&&n.push([o.name,s])}return n}case"TupleType":{const n=[];for(let r=0;r<e.elements.length;r++){const o=e.elements[r],s=t?wE(o.type):tn(o.type);_E(s)&&!o.isOptional&&n.push([r,s])}return n}case"Refinement":return Pc(e.from,t);case"Suspend":return Pc(e.f(),t);case"Transformation":return Pc(t?e.from:e.to,t)}return[]},ZJ=(e,t)=>{const n={},r=[],o=[];for(let s=0;s<e.length;s++){const a=e[s],c=Pc(a,t);if(c.length>0){o.push(a);for(let f=0;f<c.length;f++){const[d,p]=c[f],g=String(p.literal);n[d]=n[d]||{buckets:{},literals:[],candidates:[]};const m=n[d].buckets;if(Object.prototype.hasOwnProperty.call(m,g)){if(f<c.length-1)continue;m[g].push(a),n[d].literals.push(p),n[d].candidates.push(a)}else{m[g]=[a],n[d].literals.push(p),n[d].candidates.push(a);break}}}else r.push(a)}return{keys:n,otherwise:r,candidates:o}},H$=e=>O_(e)?H$(e.from):e,Mc=(e,t,n,r)=>{if((r==null?void 0:r.isEffectAllowed)===!0||Rn(e))return e;const o=new s$,s=cJ(e,{scheduler:o});o.flush();const a=s.unsafePoll();if(a){if(MK(a))return Te(a.value);const c=a.cause;return LH(c)?Se(c.error):Se(new Px(t,n,FH(c)))}return Se(new Px(t,n,"cannot be be resolved synchronously, this is caused by using runSync on an effect that performs async work"))},eY=([e],[t])=>e>t?1:e<t?-1:0;function po(e){return e.sort(eY).map(t=>t[1])}const tY=(e,t)=>{switch(e._tag){case"FinalTransformation":return t?e.decode:e.encode;case"ComposeTransformation":return Te;case"TypeLiteralTransformation":return n=>{let r=Te(n);for(const o of e.propertySignatureTransformations){const[s,a]=t?[o.from,o.to]:[o.to,o.from],c=t?o.decode:o.encode;r=mr(r,d=>{const p=c(Object.prototype.hasOwnProperty.call(d,s)?we(d[s]):oe());return delete d[s],Ln(p)&&(d[a]=p.value),d})}return r}}},qn=(e,t=[])=>({value:e,forest:t}),Bd={formatIssue:e=>mr(Va(e),nY),formatIssueSync:e=>{const t=Bd.formatIssue(e);return Rn(t)?rO(t):Ap(t)},formatError:e=>Bd.formatIssue(e.issue),formatErrorSync:e=>Bd.formatIssueSync(e.issue)},nY=e=>e.value+G$(`
`,e.forest),G$=(e,t)=>{let n="";const r=t.length;let o;for(let s=0;s<r;s++){o=t[s];const a=s===r-1;n+=e+(a?"└":"├")+"─ "+o.value,n+=G$(e+(r>1&&!a?"│  ":"   "),o.forest)}return n},rY=e=>{switch(e){case"Encoded":return"Encoded side transformation failure";case"Transformation":return"Transformation process failure";case"Type":return"Type side transformation failure"}},oY=e=>{switch(e){case"From":return"From side refinement failure";case"Predicate":return"Predicate refinement failure"}},J$=e=>"ast"in e?we(e.ast):oe(),Rv=Te(void 0),iY=e=>J$(e).pipe(is(tU),Ot({onNone:()=>Rv,onSome:t=>{const n=t(e);return Vo(n)?Te({message:n,override:!1}):oJ(n)?Ih(n,r=>({message:r,override:!1})):Vo(n.message)?Te({message:n.message,override:n.override}):Ih(n.message,r=>({message:r,override:n.override}))}})),U0=e=>t=>t._tag===e,Y$=U0("Composite"),Lx=U0("Refinement"),Fx=U0("Transformation"),rs=e=>_o(iY(e),t=>t!==void 0?!t.override&&(Y$(e)||Lx(e)&&e.kind==="From"||Fx(e)&&e.kind!=="Transformation")?Fx(e)||Lx(e)?rs(e.issue):Rv:Te(t.message):Rv),X$=e=>J$(e).pipe(is(iU),mW(t=>t(e)),mo);function sY(e){return NO(e).pipe(ts(()=>PO(e)),ts(()=>MO(e)),ts(()=>rp(e)),bt(()=>`{ ${e.from} | filter }`))}function aY(e){return e.message!==void 0?e.message:`Expected ${O_(e.ast)?sY(e.ast):String(e.ast)}, actual ${Uo(e.actual)}`}const Q$=e=>mr(rs(e),t=>t??X$(e)??aY(e)),ad=e=>X$(e)??String(e.ast),Z$=e=>e.message??"is forbidden",eR=e=>e.message??"is unexpected",tR=e=>{const t=nU(e.ast);if(Ln(t)){const n=t.value();return Vo(n)?Te(n):n}return Te(e.message??"is missing")},Va=e=>{switch(e._tag){case"Type":return mr(Q$(e),qn);case"Forbidden":return Te(qn(ad(e),[qn(Z$(e))]));case"Unexpected":return Te(qn(eR(e)));case"Missing":return mr(tR(e),qn);case"Transformation":return _o(rs(e),t=>t!==void 0?Te(qn(t)):mr(Va(e.issue),n=>qn(ad(e),[qn(rY(e.kind),[n])])));case"Refinement":return _o(rs(e),t=>t!==void 0?Te(qn(t)):mr(Va(e.issue),n=>qn(ad(e),[qn(oY(e.kind),[n])])));case"Pointer":return mr(Va(e.issue),t=>qn(qW(e.path),[t]));case"Composite":return _o(rs(e),t=>{if(t!==void 0)return Te(qn(t));const n=ad(e);return E_(e.issues)?mr(Kc(e.issues,Va),r=>qn(n,r)):mr(Va(e.issues),r=>qn(n,[r]))})}},Is=(e,t,n)=>({_tag:e,path:t,message:n}),jd={formatIssue:e=>Ha(e,void 0,[]),formatIssueSync:e=>{const t=jd.formatIssue(e);return Rn(t)?rO(t):Ap(t)},formatError:e=>jd.formatIssue(e.issue),formatErrorSync:e=>jd.formatIssueSync(e.issue)},Ha=(e,t,n)=>{const r=e._tag;switch(r){case"Type":return mr(Q$(e),o=>[Is(t??r,n,o)]);case"Forbidden":return Te([Is(r,n,Z$(e))]);case"Unexpected":return Te([Is(r,n,eR(e))]);case"Missing":return mr(tR(e),o=>[Is(r,n,o)]);case"Pointer":return Ha(e.issue,void 0,n.concat(e.path));case"Composite":return _o(rs(e),o=>o!==void 0?Te([Is(r,n,o)]):E_(e.issues)?mr(Kc(e.issues,s=>Ha(s,void 0,n)),pO):Ha(e.issues,void 0,n));case"Refinement":return _o(rs(e),o=>o!==void 0?Te([Is(r,n,o)]):Ha(e.issue,e.kind==="Predicate"?r:void 0,n));case"Transformation":return _o(rs(e),o=>o!==void 0?Te([Is(r,n,o)]):Ha(e.issue,e.kind==="Transformation"?r:void 0,n))}},uY=I(e=>hs(e[0]),(e,...t)=>{const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}),cY=I(e=>hs(e[0]),(e,...t)=>{const n={...e};for(const r of t)delete n[r];return n}),cl=Symbol.for("effect/Schema");function Sn(e){var t,n,r;return n=cl,t=cl,r=class{constructor(){_(this,n,Bx)}static annotations(s){return Sn(ps(this.ast,s))}static pipe(){return ye(this,arguments)}static toString(){return String(e)}},_(r,"ast",e),_(r,"Type"),_(r,"Encoded"),_(r,"Context"),_(r,t,Bx),r}const Bx={_A:e=>e,_I:e=>e,_R:e=>e},jx={schemaId:XW,message:_O,missingMessage:x_,identifier:bO,title:Ai,description:Rl,examples:SO,default:wO,documentation:QW,jsonSchema:EO,arbitrary:xO,pretty:CO,equivalence:TO,concurrency:kO,batching:OO,parseIssueTitle:IO,parseOptions:AO,decodingFallback:$O},Jl=e=>{if(!e)return{};const t={...e};for(const n in jx)if(n in e){const r=jx[n];t[r]=e[n],delete t[n]}return t},ps=(e,t)=>su(e,Jl(t));const z0=e=>String(e.ast),lY=e=>Sn(tn(e.ast)),fY=(e,t)=>{const n=VJ(e,t);return(r,o)=>S_(n(r,o),D0)},dY=fY,q0=(e,t)=>{const n=zJ(e,t);return(r,o)=>S_(n(r,o),D0)},us=e=>Ce(e,cl)&&hs(e[cl]);function hY(e){return k_(e)?Po.make($U(e,t=>new zy(t))):new zy(e[0])}function nR(e,t=hY(e)){var n;return n=class extends Sn(t){static annotations(o){return nR(this.literals,ps(this.ast,o))}},_(n,"literals",[...e]),n}function Yt(...e){return rn(e)?nR(e):rR}const pY=(e,t,n)=>K0(e,new op(e.map(r=>r.ast),(...r)=>t.decode(...r.map(Sn)),(...r)=>t.encode(...r.map(Sn)),Jl(n))),gY=(e,t)=>{const n=()=>(o,s,a)=>e(o)?Ah(o):q$(new Fo(a,o)),r=n;return K0([],new op([],n,r,Jl(t)))};function K0(e,t){var n;return n=class extends Sn(t){static annotations(o){return K0(this.typeParameters,ps(this.ast,o))}},_(n,"typeParameters",[...e]),n}const mY=function(){if(Array.isArray(arguments[0])){const n=arguments[0],r=arguments[1],o=arguments[2];return pY(n,r,o)}const e=arguments[0],t=arguments[1];return gY(e,t)};class yY extends Sn(qy){}class rR extends Sn(C_){}class vY extends Sn(BO){}class V0 extends Sn(jO){}class it extends Sn(_U){}class Ut extends Sn(wU){}class Rp extends Sn(xU){}const _Y=e=>Po.make(e.map(t=>t.ast));function oR(e,t=_Y(e)){var n;return n=class extends Sn(t){static annotations(o){return oR(this.members,ps(this.ast,o))}},_(n,"members",[...e]),n}function Ri(...e){return k_(e)?oR(e):rn(e)?e[0]:rR}const bY=e=>Ri(e,yY),SY=(e,t)=>new T_(e.map(n=>us(n)?new ua(n.ast,!1):n.ast),t.map(n=>us(n)?new ip(n.ast):n.ast),!0);function iR(e,t,n=SY(e,t)){var r;return r=class extends Sn(n){static annotations(s){return iR(this.elements,this.rest,ps(this.ast,s))}},_(r,"elements",[...e]),_(r,"rest",[...t]),r}function sR(e,t){var n;return n=class extends iR([],[e],t){static annotations(o){return sR(this.value,ps(this.ast,o))}},_(n,"value",e),n}const Jo=e=>sR(e),Pv=e=>e?'"?:"':'":"';class Pp extends ua{constructor(n,r,o,s,a){super(n,r,s);_(this,"isReadonly");_(this,"defaultValue");_(this,"_tag","PropertySignatureDeclaration");this.isReadonly=o,this.defaultValue=a}toString(){const n=Pv(this.isOptional),r=String(this.type);return`PropertySignature<${n}, ${r}, never, ${n}, ${r}>`}}class wY extends ua{constructor(n,r,o,s,a){super(n,r,s);_(this,"isReadonly");_(this,"fromKey");this.isReadonly=o,this.fromKey=a}}class aR extends ua{constructor(n,r,o,s,a){super(n,r,s);_(this,"isReadonly");_(this,"defaultValue");this.isReadonly=o,this.defaultValue=a}}const EY=e=>e===void 0?"never":Vo(e)?JSON.stringify(e):String(e);class uR{constructor(t,n,r,o){_(this,"from");_(this,"to");_(this,"decode");_(this,"encode");_(this,"_tag","PropertySignatureTransformation");this.from=t,this.to=n,this.decode=r,this.encode=o}toString(){return`PropertySignature<${Pv(this.to.isOptional)}, ${this.to.type}, ${EY(this.from.fromKey)}, ${Pv(this.from.isOptional)}, ${this.from.type}>`}}const cR=(e,t)=>{switch(e._tag){case"PropertySignatureDeclaration":return new Pp(e.type,e.isOptional,e.isReadonly,{...e.annotations,...t},e.defaultValue);case"PropertySignatureTransformation":return new uR(new wY(e.from.type,e.from.isOptional,e.from.isReadonly,e.from.annotations),new aR(e.to.type,e.to.isOptional,e.to.isReadonly,{...e.to.annotations,...t},e.to.defaultValue),e.decode,e.encode)}},lR=Symbol.for("effect/PropertySignature"),fR=e=>Ce(e,lR);var kk,Ok;Ok=cl,kk=lR;const TS=class TS{constructor(t){_(this,"ast");_(this,Ok);_(this,kk,null);_(this,"_TypeToken");_(this,"_Key");_(this,"_EncodedToken");_(this,"_HasDefault");this.ast=t}pipe(){return ye(this,arguments)}annotations(t){return new TS(cR(this.ast,Jl(t)))}toString(){return String(this.ast)}};let $h=TS;const Dx=e=>new $h(e);class Mp extends $h{constructor(n,r){super(n);_(this,"from");this.from=r}annotations(n){return new Mp(cR(this.ast,Jl(n)),this.from)}}const xY=e=>new Mp(new Pp(e.ast,!1,!0,{},void 0),e),CY=I(2,(e,t)=>{const n=e.ast;switch(n._tag){case"PropertySignatureDeclaration":return Dx(new Pp(n.type,n.isOptional,n.isReadonly,n.annotations,t));case"PropertySignatureTransformation":return Dx(new uR(n.from,new aR(n.to.type,n.to.isOptional,n.to.isReadonly,n.to.annotations,t),n.decode,n.encode))}}),Pn=e=>{const t=e.ast===qy||e.ast===C_?qy:bY(e).ast;return new Mp(new Pp(t,!0,!0,{},void 0),e)},TY=HO([x_]),kY=(e,t)=>{const n=Xa(e),r=[];if(n.length>0){const s=[],a=[],c=[];for(let f=0;f<n.length;f++){const d=n[f],p=e[d];if(fR(p)){const g=p.ast;switch(g._tag){case"PropertySignatureDeclaration":{const m=g.type,y=g.isOptional,b=g.annotations;s.push(new $n(d,m,y,!0,TY(g))),a.push(new $n(d,tn(m),y,!0,b)),r.push(new $n(d,m,y,!0,b));break}case"PropertySignatureTransformation":{const m=g.from.fromKey??d;s.push(new $n(m,g.from.type,g.from.isOptional,!0,g.from.annotations)),a.push(new $n(d,g.to.type,g.to.isOptional,!0,g.to.annotations)),c.push(new LU(m,d,g.decode,g.encode));break}}}else s.push(new $n(d,p.ast,!1,!0)),a.push(new $n(d,tn(p.ast),!1,!0)),r.push(new $n(d,p.ast,!1,!0))}if(rn(c)){const f=[],d=[];for(const p of t){const{indexSignatures:g,propertySignatures:m}=SE(p.key.ast,p.value.ast);m.forEach(y=>{s.push(y),a.push(new $n(y.name,tn(y.type),y.isOptional,y.isReadonly,y.annotations))}),g.forEach(y=>{f.push(y),d.push(new sp(y.parameter,tn(y.type),y.isReadonly))})}return new I_(new Ds(s,f,{[Uy]:"Struct (Encoded side)"}),new Ds(a,d,{[Uy]:"Struct (Type side)"}),new FU(c))}}const o=[];for(const s of t){const{indexSignatures:a,propertySignatures:c}=SE(s.key.ast,s.value.ast);c.forEach(f=>r.push(f)),a.forEach(f=>o.push(f))}return new Ds(r,o)},OY=(e,t)=>{const n=Xa(e);for(const r of n){const o=e[r];if(t[r]===void 0&&fR(o)){const s=o.ast,a=s._tag==="PropertySignatureDeclaration"?s.defaultValue:s.to.defaultValue;a!==void 0&&(t[r]=a())}}return t};function dR(e,t,n=kY(e,t)){var r;return r=class extends Sn(n){static annotations(s){return dR(this.fields,this.records,ps(this.ast,s))}static pick(...s){return ue(uY(e,...s))}static omit(...s){return ue(cY(e,...s))}},_(r,"fields",{...e}),_(r,"records",[...t]),_(r,"make",(s,a)=>{const c=OY(e,{...s});return WY(a)?c:GJ(r)(c)}),r}function ue(e,...t){return dR(e,t)}const IY=e=>Yt(e).pipe(xY,CY(()=>e)),Mn=(e,t)=>ue({_tag:IY(e),...t}),AY=I(e=>us(e[1]),(e,t)=>H0(e,t,zU(e.ast,t.ast)));function H0(e,t,n){var r;return r=class extends Sn(n){static annotations(s){return H0(this.from,this.to,ps(this.ast,s))}},_(r,"from",e),_(r,"to",t),r}const hR=I(e=>us(e[0])&&us(e[1]),(e,t,n)=>H0(e,t,new I_(e.ast,t.ast,new PU(n.decode,n.encode)))),pR=I(e=>us(e[0])&&us(e[1]),(e,t,n)=>hR(e,t,{strict:!0,decode:(r,o,s,a)=>Ah(n.decode(r,a)),encode:(r,o,s,a)=>Ah(n.encode(r,a))})),Wx=e=>e instanceof Error?e.message:String(e),$Y=e=>hR(it.annotations({description:"a string to be decoded into JSON"}),vY,{strict:!0,decode:(t,n,r)=>Nx({try:()=>JSON.parse(t,e==null?void 0:e.reviver),catch:o=>new Fo(r,t,Wx(o))}),encode:(t,n,r)=>Nx({try:()=>JSON.stringify(t,e==null?void 0:e.replacer,e==null?void 0:e.space),catch:o=>new Fo(r,t,Wx(o))})}).annotations({title:"parseJson",schemaId:dU}),G0=(e,t)=>us(e)?AY(G0(t),e):$Y(e),RY=(e,t,n,r)=>DJ(e,{onFailure:o=>new Rt(n,r,o),onSuccess:t}),PY=ue({_tag:Yt("None")}).annotations({description:"NoneEncoded"}),MY=e=>ue({_tag:Yt("Some"),value:e}).annotations({description:`SomeEncoded<${z0(e)}>`}),NY=e=>Ri(PY,MY(e)).annotations({description:`OptionEncoded<${z0(e)}>`}),gR=e=>e._tag==="None"?oe():we(e.value),LY=(e,t)=>n=>n.oneof(t,n.record({_tag:n.constant("None")}),n.record({_tag:n.constant("Some"),value:e(n)})).map(gR),FY=e=>Ot({onNone:()=>"none()",onSome:t=>`some(${e(t)})`}),Ux=e=>(t,n,r)=>dW(t)?Nt(t)?Ah(oe()):RY(e(t.value,n),we,r,t):q$(new Fo(r,t)),BY=e=>mY([e],{decode:t=>Ux(qJ(t)),encode:t=>Ux(HJ(t))},{description:`Option<${z0(e)}>`,pretty:FY,arbitrary:LY,equivalence:yW}),jY={_tag:"None"},DY=e=>({_tag:"Some",value:e});function zx(e){const t=e;return pR(NY(t),BY(lY(t)),{strict:!0,decode:r=>gR(r),encode:r=>Ot(r,{onNone:()=>jY,onSome:DY})})}function WY(e){return c_(e)?e:(e==null?void 0:e.disableValidation)??!1}const UY=ue({widgets:Jo(V0)}),zY={Schema:UY},dn=[];for(let e=0;e<256;++e)dn.push((e+256).toString(16).slice(1));function qY(e,t=0){return(dn[e[t+0]]+dn[e[t+1]]+dn[e[t+2]]+dn[e[t+3]]+"-"+dn[e[t+4]]+dn[e[t+5]]+"-"+dn[e[t+6]]+dn[e[t+7]]+"-"+dn[e[t+8]]+dn[e[t+9]]+"-"+dn[e[t+10]]+dn[e[t+11]]+dn[e[t+12]]+dn[e[t+13]]+dn[e[t+14]]+dn[e[t+15]]).toLowerCase()}let hy;const KY=new Uint8Array(16);function VY(){if(!hy){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");hy=crypto.getRandomValues.bind(crypto)}return hy(KY)}const HY=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var qx={randomUUID:HY};function mR(e,t,n){var o;if(qx.randomUUID&&!e)return qx.randomUUID();e=e||{};const r=e.random??((o=e.rng)==null?void 0:o.call(e))??VY();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,qY(r)}const J0=e=>jd.formatErrorSync(e).map(t=>`${t.path.join(".")} ${t.message}`).join(`
`),GY=e=>Iu(q0(e.schema,{errors:"all"})(e.raw),{onRight:e.ok,onLeft:t=>e.error(J0(t))}),JY=e=>Iu(q0(G0(e.schema),{errors:"all"})(e.str),{onRight:e.ok,onLeft:t=>e.error(J0(t))}),YY=(e,t)=>Iu(dY(e)(t),{onRight:n=>JSON.stringify(n,null,2),onLeft:n=>(console.error("Error encoding",J0(n)),`Error encoding ${n}`)}),Rh={decodeUnknown:GY,decodeString:JY,encode:YY},yR=Symbol.for("midi/structor/schema/form/annotation"),XY=e=>({[yR]:e}),QY=e=>e._tag==="PropertySignatureDeclaration"||e._tag==="PropertySignatureTransformation"?oe():jn(yR)(e),vR={annotation:XY,getFormName:QY},da=mG(),ZY=Ri(Mn("Note",{note:Ut}),Mn("CC",{controllerNumber:Ut}),Mn("PC",{programNumber:Ut})).annotations(vR.annotation("MidiTarget")),eX=({from:e,to:t})=>{const n=[];for(let r=e;r<=t;r++)n.push(Y0(r));return n},tX=({from:e,to:t})=>{const n=[];for(let r=e;r<=t;r++)n.push(X0(r));return n},Y0=e=>da.Note({note:e}),X0=e=>da.CC({controllerNumber:e}),nX=e=>da.PC({programNumber:e}),rX=e=>da.$match({Note:({note:t})=>`noteon-${t}`,CC:({controllerNumber:t})=>`cc-${t}`,PC:({programNumber:t})=>`pc-${t}`})(e),oX=(e,t)=>da.$match({Note:({note:n})=>({type:"noteon",channel:1,note:n,velocity:t}),CC:({controllerNumber:n})=>({type:"cc",channel:1,controllerNumber:n,data:t}),PC:()=>({type:"pc",programNumber:t})})(e),iX=Array.from({length:127}).map((e,t)=>X0(t)),sX=Array.from({length:127}).map((e,t)=>Y0(t)),aX=[...iX,...sX],uX=e=>da.$match({Note:({note:t})=>t,CC:({controllerNumber:t})=>t,PC:({programNumber:t})=>t})(e),vr={note:Y0,notes:eX,cc:X0,ccs:tX,pc:nX,toKey:rX,toMessage:oX,toValue:uX,allTargets:aX,match:da.$match,Schema:ZY},cX=e=>e.flatMap(t=>t.targets()),lX=(e,t)=>{const n=cX(t),r={};n.forEach(s=>{const a=vr.toKey(s),c=r[a];c===void 0?r[a]=1:r[a]=c+1});const o=[];return te.forEach(r,(s,a)=>{s>1&&o.push(a)}),te.isEmpty(o)?Te(e):Se(`Midi targets duplicated ${o}`)},fX=(e,t)=>{const n=t.widgets.resolve(e);return lX(e,n)},_R=e=>ue({widgets:Jo(e.widgets.schema)}),dX=(e,t)=>Rh.decodeString({schema:_R(t),str:e,ok:n=>fX(n,t),error:n=>Se(n)}),hX=(e,t)=>Rh.encode(_R(t),e),pX=()=>({widgets:[]}),gX={empty:pX,parse:dX,stringify:hX},bR=ue({id:it,name:it,enabled:Rp,config:zY.Schema,device:it,color:Pn(it),selected:ue({input:zx(it),output:zx(it)})}),mX=Jo(bR),yX=e=>({name:e,enabled:!0,config:gX.empty(),device:"Launchpad Mini [MK3]",selected:{input:oe(),output:oe()},id:mR()}),vX=e=>u_(`${e.id}:listener`),_X=e=>u_(`${e.id}:emitter`),SR={Schema:bR,SchemaArray:mX,defaultConfiguredController:yX,virtualListener:vX,virtualEmitter:_X},bX=ue({label:it,key:it,abletonProject:Pn(it),controllers:SR.SchemaArray,style:ue({accent:ue({color1:it,color2:it})})}),SX=ue({active:it,projects:Jo(bX)}),wX=e=>Ii(te.find(e.projects,t=>t.key===e.active)),Q0={Schema:SX,getActive:wX},In=(e,t,n)=>16777216+(e<<16|t<<8|n<<0),EX=["","0","00","000","0000","00000","000000"],Z0=e=>{const t=e.toString(16);if(t.length>6)return t.substring(1,7);{const n=6-t.length;return EX[n]+t}},xX=e=>{const t=Z0(e);return[parseInt(t.substring(0,2),16),parseInt(t.substring(2,4),16),parseInt(t.substring(4,6),16)]},wR=e=>{const t=e.substring(0,2),n=e.substring(2,4),r=e.substring(4,6);return In(parseInt(t,16),parseInt(n,16),parseInt(r,16))},CX=pR(it,Ut,{strict:!0,decode:wR,encode:Z0}).annotations(vR.annotation("Color")),ee={fromRGB:In,fromHex:wR,toHex:Z0,toRGB:xX,BLACK:In(0,0,0),RED:In(255,0,0),GREEN:In(0,255,0),BLUE:In(0,0,255),PURPLE:In(128,0,128),YELLOW:In(255,255,0),WHITE:In(255,255,255),ROYGBIV:[In(255,0,0),In(255,165,0),In(255,255,0),In(0,255,0),In(0,0,255),In(75,0,130),In(238,130,238)],Schema:CX},TX=e=>e.type==="real",kX=e=>e.type==="blank",ER={isReal:TX,isBlank:kX},OX={name:"",color:ee.BLACK,clips:[{type:"blank",startTime:0,endTime:void 0}]},IX=()=>({tracks:[],cues:[]}),AX=e=>{const t=te.sum(te.flatMap(e.tracks,o=>te.size(te.filter(o.clips,s=>s.type==="real")))),n=te.size(e.tracks),r=te.size(e.cues);return t+n+r+1},$X=e=>{let t=0;const n=[];return te.forEach(e,r=>{t!==r.startTime&&n.push({type:"blank",startTime:t,endTime:r.startTime}),n.push({...r,type:"real"}),t=r.endTime}),n.push({type:"blank",startTime:t,endTime:void 0}),n},RX=e=>{const t=[],n=[],r=[];te.forEach(e,a=>{a.type==="init-track"?t.push(a):a.type==="init-clip"?n.push(a):r.push(a)});const o=te.sortBy(t,a=>a.trackIndex),s=te.groupBy(n,a=>a.trackIndex);return{tracks:te.map(o,a=>{const c=te.get(s,a.trackIndex);return{name:a.name,color:a.color,clips:$X(c)}}),cues:r}},PX=e=>RX(e);var xR={exports:{}},Me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yl=Symbol.for("react.element"),MX=Symbol.for("react.portal"),NX=Symbol.for("react.fragment"),LX=Symbol.for("react.strict_mode"),FX=Symbol.for("react.profiler"),BX=Symbol.for("react.provider"),jX=Symbol.for("react.context"),DX=Symbol.for("react.forward_ref"),WX=Symbol.for("react.suspense"),UX=Symbol.for("react.memo"),zX=Symbol.for("react.lazy"),Kx=Symbol.iterator;function qX(e){return e===null||typeof e!="object"?null:(e=Kx&&e[Kx]||e["@@iterator"],typeof e=="function"?e:null)}var CR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},TR=Object.assign,kR={};function Du(e,t,n){this.props=e,this.context=t,this.refs=kR,this.updater=n||CR}Du.prototype.isReactComponent={};Du.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Du.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function OR(){}OR.prototype=Du.prototype;function eb(e,t,n){this.props=e,this.context=t,this.refs=kR,this.updater=n||CR}var tb=eb.prototype=new OR;tb.constructor=eb;TR(tb,Du.prototype);tb.isPureReactComponent=!0;var Vx=Array.isArray,IR=Object.prototype.hasOwnProperty,nb={current:null},AR={key:!0,ref:!0,__self:!0,__source:!0};function $R(e,t,n){var r,o={},s=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(s=""+t.key),t)IR.call(t,r)&&!AR.hasOwnProperty(r)&&(o[r]=t[r]);var c=arguments.length-2;if(c===1)o.children=n;else if(1<c){for(var f=Array(c),d=0;d<c;d++)f[d]=arguments[d+2];o.children=f}if(e&&e.defaultProps)for(r in c=e.defaultProps,c)o[r]===void 0&&(o[r]=c[r]);return{$$typeof:Yl,type:e,key:s,ref:a,props:o,_owner:nb.current}}function KX(e,t){return{$$typeof:Yl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function rb(e){return typeof e=="object"&&e!==null&&e.$$typeof===Yl}function VX(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Hx=/\/+/g;function py(e,t){return typeof e=="object"&&e!==null&&e.key!=null?VX(""+e.key):t.toString(36)}function Dd(e,t,n,r,o){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Yl:case MX:a=!0}}if(a)return a=e,o=o(a),e=r===""?"."+py(a,0):r,Vx(o)?(n="",e!=null&&(n=e.replace(Hx,"$&/")+"/"),Dd(o,t,n,"",function(d){return d})):o!=null&&(rb(o)&&(o=KX(o,n+(!o.key||a&&a.key===o.key?"":(""+o.key).replace(Hx,"$&/")+"/")+e)),t.push(o)),1;if(a=0,r=r===""?".":r+":",Vx(e))for(var c=0;c<e.length;c++){s=e[c];var f=r+py(s,c);a+=Dd(s,t,n,f,o)}else if(f=qX(e),typeof f=="function")for(e=f.call(e),c=0;!(s=e.next()).done;)s=s.value,f=r+py(s,c++),a+=Dd(s,t,n,f,o);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function ud(e,t,n){if(e==null)return e;var r=[],o=0;return Dd(e,r,"","",function(s){return t.call(n,s,o++)}),r}function HX(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Yn={current:null},Wd={transition:null},GX={ReactCurrentDispatcher:Yn,ReactCurrentBatchConfig:Wd,ReactCurrentOwner:nb};function RR(){throw Error("act(...) is not supported in production builds of React.")}Me.Children={map:ud,forEach:function(e,t,n){ud(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ud(e,function(){t++}),t},toArray:function(e){return ud(e,function(t){return t})||[]},only:function(e){if(!rb(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Me.Component=Du;Me.Fragment=NX;Me.Profiler=FX;Me.PureComponent=eb;Me.StrictMode=LX;Me.Suspense=WX;Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GX;Me.act=RR;Me.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=TR({},e.props),o=e.key,s=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,a=nb.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(f in t)IR.call(t,f)&&!AR.hasOwnProperty(f)&&(r[f]=t[f]===void 0&&c!==void 0?c[f]:t[f])}var f=arguments.length-2;if(f===1)r.children=n;else if(1<f){c=Array(f);for(var d=0;d<f;d++)c[d]=arguments[d+2];r.children=c}return{$$typeof:Yl,type:e.type,key:o,ref:s,props:r,_owner:a}};Me.createContext=function(e){return e={$$typeof:jX,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:BX,_context:e},e.Consumer=e};Me.createElement=$R;Me.createFactory=function(e){var t=$R.bind(null,e);return t.type=e,t};Me.createRef=function(){return{current:null}};Me.forwardRef=function(e){return{$$typeof:DX,render:e}};Me.isValidElement=rb;Me.lazy=function(e){return{$$typeof:zX,_payload:{_status:-1,_result:e},_init:HX}};Me.memo=function(e,t){return{$$typeof:UX,type:e,compare:t===void 0?null:t}};Me.startTransition=function(e){var t=Wd.transition;Wd.transition={};try{e()}finally{Wd.transition=t}};Me.unstable_act=RR;Me.useCallback=function(e,t){return Yn.current.useCallback(e,t)};Me.useContext=function(e){return Yn.current.useContext(e)};Me.useDebugValue=function(){};Me.useDeferredValue=function(e){return Yn.current.useDeferredValue(e)};Me.useEffect=function(e,t){return Yn.current.useEffect(e,t)};Me.useId=function(){return Yn.current.useId()};Me.useImperativeHandle=function(e,t,n){return Yn.current.useImperativeHandle(e,t,n)};Me.useInsertionEffect=function(e,t){return Yn.current.useInsertionEffect(e,t)};Me.useLayoutEffect=function(e,t){return Yn.current.useLayoutEffect(e,t)};Me.useMemo=function(e,t){return Yn.current.useMemo(e,t)};Me.useReducer=function(e,t,n){return Yn.current.useReducer(e,t,n)};Me.useRef=function(e){return Yn.current.useRef(e)};Me.useState=function(e){return Yn.current.useState(e)};Me.useSyncExternalStore=function(e,t,n){return Yn.current.useSyncExternalStore(e,t,n)};Me.useTransition=function(){return Yn.current.useTransition()};Me.version="18.3.1";xR.exports=Me;var G=xR.exports,at=Ik(G),Mv=X3({__proto__:null,default:at},[G]);const Nc={},Gx=(e,t)=>e.unstable_is?e.unstable_is(t):t===e,Jx=e=>"init"in e,gy=e=>!!e.write,Yx=e=>"v"in e||"e"in e,cd=e=>{if("e"in e)throw e.e;if((Nc?"production":void 0)!=="production"&&!("v"in e))throw new Error("[Bug] atom state is not initialized");return e.v},Ph=new WeakMap,Xx=e=>{var t;return Mh(e)&&!!((t=Ph.get(e))!=null&&t[0])},JX=e=>{const t=Ph.get(e);t!=null&&t[0]&&(t[0]=!1,t[1].forEach(n=>n()))},PR=(e,t)=>{let n=Ph.get(e);if(!n){n=[!0,new Set],Ph.set(e,n);const r=()=>{n[0]=!1};e.then(r,r)}n[1].add(t)},Mh=e=>typeof(e==null?void 0:e.then)=="function",MR=(e,t,n)=>{n.p.has(e)||(n.p.add(e),t.then(()=>{n.p.delete(e)},()=>{n.p.delete(e)}))},my=(e,t,n)=>{const r=n(e),o="v"in r,s=r.v;if(Mh(t))for(const a of r.d.keys())MR(e,t,n(a));r.v=t,delete r.e,(!o||!Object.is(s,r.v))&&(++r.n,Mh(s)&&JX(s))},Qx=(e,t,n)=>{var r;const o=new Set;for(const s of((r=n.get(e))==null?void 0:r.t)||[])n.has(s)&&o.add(s);for(const s of t.p)o.add(s);return o},YX=()=>{const e=new Set,t=()=>{e.forEach(n=>n())};return t.add=n=>(e.add(n),()=>{e.delete(n)}),t},yy=()=>{const e={},t=new WeakMap,n=r=>{var o,s;(o=t.get(e))==null||o.forEach(a=>a(r)),(s=t.get(r))==null||s.forEach(a=>a())};return n.add=(r,o)=>{const s=r||e,a=(t.has(s)?t:t.set(s,new Set)).get(s);return a.add(o),()=>{a==null||a.delete(o),a.size||t.delete(s)}},n},XX=e=>(e.c||(e.c=yy()),e.m||(e.m=yy()),e.u||(e.u=yy()),e.f||(e.f=YX()),e),QX=Symbol(),ZX=(e=new WeakMap,t=new WeakMap,n=new WeakMap,r=new Set,o=new Set,s=new Set,a={},c=(m,...y)=>m.read(...y),f=(m,...y)=>m.write(...y),d=(m,y)=>{var b;return(b=m.unstable_onInit)==null?void 0:b.call(m,y)},p=(m,y)=>{var b;return(b=m.onMount)==null?void 0:b.call(m,y)},...g)=>{const m=g[0]||(A=>{if((Nc?"production":void 0)!=="production"&&!A)throw new Error("Atom is undefined or null");let U=e.get(A);return U||(U={d:new Map,p:new Set,n:0},e.set(A,U),d==null||d(A,j)),U}),y=g[1]||(()=>{const A=[],U=K=>{try{K()}catch(S){A.push(S)}};do{a.f&&U(a.f);const K=new Set,S=K.add.bind(K);r.forEach(M=>{var D;return(D=t.get(M))==null?void 0:D.l.forEach(S)}),r.clear(),s.forEach(S),s.clear(),o.forEach(S),o.clear(),K.forEach(U),r.size&&b()}while(r.size||s.size||o.size);if(A.length)throw new AggregateError(A)}),b=g[2]||(()=>{const A=[],U=new WeakSet,K=new WeakSet,S=Array.from(r);for(;S.length;){const M=S[S.length-1],D=m(M);if(K.has(M)){S.pop();continue}if(U.has(M)){if(n.get(M)===D.n)A.push([M,D]);else if((Nc?"production":void 0)!=="production"&&n.has(M))throw new Error("[Bug] invalidated atom exists");K.add(M),S.pop();continue}U.add(M);for(const X of Qx(M,D,t))U.has(X)||S.push(X)}for(let M=A.length-1;M>=0;--M){const[D,X]=A[M];let re=!1;for(const _e of X.d.keys())if(_e!==D&&r.has(_e)){re=!0;break}re&&(x(D),L(D)),n.delete(D)}}),x=g[3]||(A=>{var U;const K=m(A);if(Yx(K)&&(t.has(A)&&n.get(A)!==K.n||Array.from(K.d).every(([ie,ce])=>x(ie).n===ce)))return K;K.d.clear();let S=!0;const M=()=>{t.has(A)&&(L(A),b(),y())},D=ie=>{var ce;if(Gx(A,ie)){const un=m(ie);if(!Yx(un))if(Jx(ie))my(ie,ie.init,m);else throw new Error("no atom init");return cd(un)}const Le=x(ie);try{return cd(Le)}finally{K.d.set(ie,Le.n),Xx(K.v)&&MR(A,K.v,Le),(ce=t.get(ie))==null||ce.t.add(A),S||M()}};let X,re;const _e={get signal(){return X||(X=new AbortController),X.signal},get setSelf(){return(Nc?"production":void 0)!=="production"&&!gy(A)&&console.warn("setSelf function cannot be used with read-only atom"),!re&&gy(A)&&(re=(...ie)=>{if((Nc?"production":void 0)!=="production"&&S&&console.warn("setSelf function cannot be called in sync"),!S)try{return k(A,...ie)}finally{b(),y()}}),re}},me=K.n;try{const ie=c(A,D,_e);return my(A,ie,m),Mh(ie)&&(PR(ie,()=>X==null?void 0:X.abort()),ie.then(M,M)),K}catch(ie){return delete K.v,K.e=ie,++K.n,K}finally{S=!1,me!==K.n&&n.get(A)===me&&(n.set(A,K.n),r.add(A),(U=a.c)==null||U.call(a,A))}}),T=g[4]||(A=>{const U=[A];for(;U.length;){const K=U.pop(),S=m(K);for(const M of Qx(K,S,t)){const D=m(M);n.set(M,D.n),U.push(M)}}}),k=g[5]||((A,...U)=>{let K=!0;const S=D=>cd(x(D)),M=(D,...X)=>{var re;const _e=m(D);try{if(Gx(A,D)){if(!Jx(D))throw new Error("atom not writable");const me=_e.n,ie=X[0];my(D,ie,m),L(D),me!==_e.n&&(r.add(D),(re=a.c)==null||re.call(a,D),T(D));return}else return k(D,...X)}finally{K||(b(),y())}};try{return f(A,S,M,...U)}finally{K=!1}}),L=g[6]||(A=>{var U;const K=m(A),S=t.get(A);if(S&&!Xx(K.v)){for(const[M,D]of K.d)if(!S.d.has(M)){const X=m(M);N(M).t.add(A),S.d.add(M),D!==X.n&&(r.add(M),(U=a.c)==null||U.call(a,M),T(M))}for(const M of S.d||[])if(!K.d.has(M)){S.d.delete(M);const D=R(M);D==null||D.t.delete(A)}}}),N=g[7]||(A=>{var U;const K=m(A);let S=t.get(A);if(!S){x(A);for(const M of K.d.keys())N(M).t.add(A);if(S={l:new Set,d:new Set(K.d.keys()),t:new Set},t.set(A,S),(U=a.m)==null||U.call(a,A),gy(A)){const M=()=>{let D=!0;const X=(...re)=>{try{return k(A,...re)}finally{D||(b(),y())}};try{const re=p(A,X);re&&(S.u=()=>{D=!0;try{re()}finally{D=!1}})}finally{D=!1}};o.add(M)}}return S}),R=g[8]||(A=>{var U;const K=m(A);let S=t.get(A);if(S&&!S.l.size&&!Array.from(S.t).some(M=>{var D;return(D=t.get(M))==null?void 0:D.d.has(A)})){S.u&&s.add(S.u),S=void 0,t.delete(A),(U=a.u)==null||U.call(a,A);for(const M of K.d.keys()){const D=R(M);D==null||D.t.delete(A)}return}return S}),W=[e,t,n,r,o,s,a,c,f,d,p,m,y,b,x,T,k,L,N,R],j={get:A=>cd(x(A)),set:(A,...U)=>{try{return k(A,...U)}finally{b(),y()}},sub:(A,U)=>{const S=N(A).l;return S.add(U),y(),()=>{S.delete(U),R(A),y()}}};return Object.defineProperty(j,QX,{value:W}),j},NR=ZX,eQ=XX,Zx=PR,ob={};let tQ=0;function _r(e,t){const n=`atom${++tQ}`,r={toString(){return(ob?"production":void 0)!=="production"&&this.debugLabel?n+":"+this.debugLabel:n}};return typeof e=="function"?r.read=e:(r.init=e,r.read=nQ,r.write=rQ),t&&(r.write=t),r}function nQ(e){return e(this)}function rQ(e,t,n){return t(this,typeof n=="function"?n(e(this)):n)}const oQ=()=>{let e=0;const t=eQ({}),n=new WeakMap,r=new WeakMap,o=NR(n,r,void 0,void 0,void 0,void 0,t,void 0,(c,f,d,...p)=>e?d(c,...p):c.write(f,d,...p)),s=new Set;return t.m.add(void 0,c=>{s.add(c);const f=n.get(c);f.m=r.get(c)}),t.u.add(void 0,c=>{s.delete(c);const f=n.get(c);delete f.m}),Object.assign(o,{dev4_get_internal_weak_map:()=>n,dev4_get_mounted_atoms:()=>s,dev4_restore_atoms:c=>{const f={read:()=>null,write:(d,p)=>{++e;try{for(const[g,m]of c)"init"in g&&p(g,m)}finally{--e}}};o.set(f)}})};function iQ(){return(ob?"production":void 0)!=="production"?oQ():NR()}let kc;function ib(){return kc||(kc=iQ(),(ob?"production":void 0)!=="production"&&(globalThis.__JOTAI_DEFAULT_STORE__||(globalThis.__JOTAI_DEFAULT_STORE__=kc),globalThis.__JOTAI_DEFAULT_STORE__!==kc&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044"))),kc}const sQ={},aQ=G.createContext(void 0);function LR(e){return G.useContext(aQ)||ib()}const FR=e=>typeof(e==null?void 0:e.then)=="function",uQ=e=>{e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t})},cQ=at.use||(e=>{if(e.status==="pending")throw e;if(e.status==="fulfilled")return e.value;throw e.status==="rejected"?e.reason:(uQ(e),e)}),vy=new WeakMap,lQ=(e,t)=>{let n=vy.get(e);return n||(n=new Promise((r,o)=>{let s=e;const a=d=>p=>{s===d&&r(p)},c=d=>p=>{s===d&&o(p)},f=()=>{try{const d=t();FR(d)?(vy.set(d,n),s=d,d.then(a(d),c(d)),Zx(d,f)):r(d)}catch(d){o(d)}};e.then(a(e),c(e)),Zx(e,f)}),vy.set(e,n)),n};function eC(e,t){const n=LR(),[[r,o,s],a]=G.useReducer(d=>{const p=n.get(e);return Object.is(d[0],p)&&d[1]===n&&d[2]===e?d:[p,n,e]},void 0,()=>[n.get(e),n,e]);let c=r;if((o!==n||s!==e)&&(a(),c=n.get(e)),G.useEffect(()=>{const d=n.sub(e,()=>{a()});return a(),d},[n,e,void 0]),G.useDebugValue(c),FR(c)){const d=lQ(c,()=>n.get(e));return cQ(d)}return c}function fQ(e,t){const n=LR();return G.useCallback((...o)=>{if((sQ?"production":void 0)!=="production"&&!("write"in e))throw new Error("not writable atom");return n.set(e,...o)},[n,e])}const tC=ib(),sb=(e,t,n)=>{const r=e===Ms.type,o=new BroadcastChannel(t),s=mR(),a=nn.enabled(!1,nn.info);a("Creating",{owner:e,isOwner:r,key:t,id:s});let c;const f=_r(g=>g(n),(g,m,y)=>{const b=typeof y.value=="function"?y.value(g(n)):y.value;r?(m(n,y.value),c=b,a("Posting message as owner",b),o.postMessage({type:"update",value:b})):y.isEvent?(a("Setting atom as borrower",Ms.name,b),m(n,b)):(a("Posting message as borrower",b),o.postMessage({type:"update-request",value:b}))}),d=g=>{(g.data.type==="update"||g.data.type==="update-request"||g.data.type==="init-ack")&&tC.set(f,{isEvent:!0,value:g.data.value})};return o.onmessage=g=>{const m=g;a("Received message",Ms.name,m.data),m.data.type==="update-request"&&r&&d(m),m.data.type==="update"&&d(m),r&&m.data.type==="init"?o.postMessage({type:"init-ack",id:m.data.id,value:c||tC.get(n)}):!r&&m.data.type==="init-ack"&&m.data.id===s&&d(m)},r||(a("Posting init",Ms.name,s),o.postMessage({type:"init",id:s})),_r(g=>g(f),(g,m,y)=>{a("Atom set",y),m(f,{isEvent:!1,value:y})})},xi=e=>e,ab=e=>({_tag:"Left",value:e}),Np=e=>({_tag:"Right",value:e}),dQ=(e,t,n)=>n._tag==="Left"?e(n.value):t(n.value),BR={dimap:(e,t,n)=>r=>t(n(e(r))),first:e=>([t,n])=>[e(t),n],right:e=>t=>t._tag==="Left"?t:Np(e(t.value)),wander:e=>t=>t.map(e)},hQ={empty:()=>{},foldMap:(e,t)=>{for(let n=0;n<t.length;n++){const r=e(t[n]);if(r!=null)return r}}},pQ={empty:()=>[],foldMap:(e,t)=>{let n=[];return t.forEach(r=>{n=n.concat(e(r))}),n}},ub=e=>({dimap:(t,n,r)=>o=>r(t(o)),first:t=>([n,r])=>t(n),right:t=>n=>n._tag==="Left"?e.empty():t(n.value),wander:t=>n=>e.foldMap(t,n)}),_y={Equivalence:{Equivalence:"Equivalence",Iso:"Iso",Lens:"Lens",Prism:"Prism",Traversal:"Traversal",Getter:"Getter",AffineFold:"AffineFold",Fold:"Fold",Setter:"Setter"},Iso:{Equivalence:"Iso",Iso:"Iso",Lens:"Lens",Prism:"Prism",Traversal:"Traversal",Getter:"Getter",AffineFold:"AffineFold",Fold:"Fold",Setter:"Setter"},Lens:{Equivalence:"Lens",Iso:"Lens",Lens:"Lens",Prism:"Prism",Traversal:"Traversal",Getter:"Getter",AffineFold:"AffineFold",Fold:"Fold",Setter:"Setter"},Prism:{Equivalence:"Prism",Iso:"Prism",Lens:"Prism",Prism:"Prism",Traversal:"Traversal",Getter:"AffineFold",AffineFold:"AffineFold",Fold:"Fold",Setter:"Setter"},Traversal:{Equivalence:"Traversal",Iso:"Traversal",Lens:"Traversal",Prism:"Traversal",Traversal:"Traversal",Getter:"Fold",AffineFold:"Fold",Fold:"Fold",Setter:"Setter"},Getter:{Equivalence:"Getter",Iso:"Getter",Lens:"Getter",Prism:"AffineFold",Traversal:"Fold",Getter:"Getter",AffineFold:"AffineFold",Fold:"Fold",Setter:void 0},AffineFold:{Equivalence:"AffineFold",Iso:"AffineFold",Lens:"AffineFold",Prism:"AffineFold",Traversal:"Fold",Getter:"AffineFold",AffineFold:"AffineFold",Fold:"Fold",Setter:void 0},Fold:{Equivalence:"Fold",Iso:"Fold",Lens:"Fold",Prism:"Fold",Traversal:"Fold",Getter:"Fold",AffineFold:"Fold",Fold:"Fold",Setter:void 0},Setter:{Equivalence:void 0,Iso:void 0,Lens:void 0,Prism:void 0,Traversal:void 0,Getter:void 0,AffineFold:void 0,Fold:void 0,Setter:void 0}},Wu=(e,t)=>{const n=t;return n._tag=e,n},jR=e=>(e._removable=!0,e);function Ue(e,t,n){switch(arguments.length){case 2:{const r=(o,s)=>e(o,t(o,s));return r._tag=_y[e._tag][t._tag],r._removable=t._removable||!1,r}default:{const r=_y[e._tag][t._tag],o=(s,a)=>e(s,t(s,n(s,a)));return o._tag=_y[r][n._tag],o._removable=n._removable||!1,o}}}const gQ=Wu("Equivalence",(e,t)=>t),Lp=(e,t)=>Wu("Iso",(n,r)=>n.dimap(e,t,r)),Rr=(e,t)=>Wu("Lens",(n,r)=>n.dimap(o=>[e(o),o],t,n.first(r))),cb=(e,t)=>Wu("Prism",(n,r)=>n.dimap(e,o=>dQ(xi,t,o),n.right(r))),lb=Wu("Traversal",(e,t)=>e.dimap(xi,xi,e.wander(t))),mQ=e=>Wu("Getter",(t,n)=>t.dimap(e,xi,n)),DR=(e,t,n)=>e(BR,t)(n),yQ=(e,t,n)=>e(BR,()=>t)(n),vQ=(e,t)=>e(ub({}),xi)(t),_Q=(e,t)=>e(ub(hQ),xi)(t),WR=(e,t)=>e(ub(pQ),n=>[n])(t),bQ=Lp(e=>e.map((t,n)=>[n,t]),e=>{const t=[...e].sort((r,o)=>r[0]-o[0]),n=[];for(let r=0;r<t.length;++r)(r===t.length-1||t[r][0]!==t[r+1][0])&&n.push(t[r][1]);return n}),nC=e=>Rr(t=>t[e],([t,n])=>Object.assign(Object.assign({},n),{[e]:t})),SQ=e=>Rr(t=>{const n={};for(const r of e)n[r]=t[r];return n},([t,n])=>{const r=Object.assign({},n);for(const o of e)delete r[o];return Object.assign(r,t)}),UR=e=>Rr(t=>t[e],([t,n])=>{const r=n.slice();return r[e]=t,r}),fb=UR(0),db=e=>cb(t=>e(t)?Np(t):ab(t),xi),ll=Symbol("__no_match__"),zR=db(e=>e!==ll),qR=Symbol("__remove_me__"),by=e=>jR(Ue(Rr(t=>0<=e&&e<t.length?t[e]:ll,([t,n])=>{if(t===ll)return n;if(t===qR)return typeof n=="string"?n.substring(0,e)+n.substring(e+1):[...n.slice(0,e),...n.slice(e+1)];if(typeof n=="string")return e===0?t+n.substring(1):e===n.length?n.substring(0,e-1)+t:n.substring(0,e)+t+n.substring(e+1);{const r=n.slice();return r[e]=t,r}}),zR)),wQ=cb(e=>e===void 0?ab(void 0):Np(e),xi),EQ=e=>cb(t=>e(t)?Np(t):ab(t),xi),xQ=e=>jR(Ue(Rr(t=>{const n=t.findIndex(e);return n===-1?[ll,-1]:[t[n],n]},([[t,n],r])=>{if(t===ll)return r;if(t===qR)return[...r.slice(0,n),...r.slice(n+1)];const o=r.slice();return o[n]=t,o}),fb,zR)),CQ=e=>Ue(Rr(t=>{const n=t.map((r,o)=>e(r)?o:null).filter(r=>r!=null);return[n.map(r=>t[r]),n]},([[t,n],r])=>{const o=r.length,s=t.length;let a=0,c=0,f=0;const d=[];for(;a<o;)n[c]===a?(++c,f<s&&(d.push(t[f]),++f)):d.push(r[a]),++a;for(;f<s;)d.push(t[f++]);return d}),fb),TQ=e=>Rr(t=>t===void 0?e:t,([t,n])=>t),kQ=e=>Ue(Rr(t=>{const n=WR(e,t);return[n,n.length]},([[t,n],r])=>{if(t.length!==n)throw new Error("cannot add/remove elements through partsOf");let o=0;return DR(e,()=>t[o++],r)}),fb),OQ=e=>Rr(t=>e(t),([t,n])=>t),IQ=e=>Rr(t=>t,([t,n])=>e(t)),AQ=Rr(e=>{},([e,t])=>e===void 0?t:[e,...t]),$Q=Rr(e=>{},([e,t])=>e===void 0?t:[...t,e]),RQ=Ue(Lp(e=>e.split(""),e=>e.join("")),lb),PQ=Ue(Lp(e=>e.split(/\b/),e=>e.join("")),lb,db(e=>!/\s+/.test(e)));class Xe{constructor(t){this._ref=t}get _tag(){return this._ref._tag}get _removable(){return this._ref._removable}compose(t){return new Xe(Ue(this._ref,t._ref))}iso(t,n){return new Xe(Ue(this._ref,Lp(t,n)))}lens(t,n){return new Xe(Ue(this._ref,Rr(t,([r,o])=>n(o,r))))}indexed(){return new Xe(Ue(this._ref,bQ))}prop(t){return new Xe(Ue(this._ref,nC(t)))}path(...t){return t.length===1&&(t=t[0].split(".")),new Xe(t.reduce((n,r)=>Ue(n,nC(r)),this._ref))}pick(t){return new Xe(Ue(this._ref,SQ(t)))}nth(t){return new Xe(Ue(this._ref,UR(t)))}filter(t){return new Xe(Ue(this._ref,CQ(t)))}valueOr(t){return new Xe(Ue(this._ref,TQ(t)))}partsOf(t){const n=typeof t=="function"?t(KR):t;return new Xe(Ue(this._ref,kQ(n._ref)))}reread(t){return new Xe(Ue(this._ref,OQ(t)))}rewrite(t){return new Xe(Ue(this._ref,IQ(t)))}optional(){return new Xe(Ue(this._ref,wQ))}guard_(){return t=>this.guard(t)}guard(t){return new Xe(Ue(this._ref,EQ(t)))}at(t){return new Xe(Ue(this._ref,by(t)))}head(){return new Xe(Ue(this._ref,by(0)))}index(t){return new Xe(Ue(this._ref,by(t)))}find(t){return new Xe(Ue(this._ref,xQ(t)))}elems(){return new Xe(Ue(this._ref,lb))}to(t){return new Xe(Ue(this._ref,mQ(t)))}when(t){return new Xe(Ue(this._ref,db(t)))}chars(){return new Xe(Ue(this._ref,RQ))}words(){return new Xe(Ue(this._ref,PQ))}prependTo(){return new Xe(Ue(this._ref,AQ))}appendTo(){return new Xe(Ue(this._ref,$Q))}}const KR=new Xe(gQ);function MQ(){return KR}function NQ(e){return t=>vQ(e._ref,t)}function LQ(e){return t=>_Q(e._ref,t)}function FQ(e){return t=>WR(e._ref,t)}function BQ(e){return t=>n=>DR(e._ref,t,n)}function jQ(e){return t=>n=>yQ(e._ref,t,n)}const rC=(e,t,n)=>(t.has(n)?t:t.set(n,e())).get(n),DQ=new WeakMap,WQ=(e,t,n)=>{const r=rC(()=>new WeakMap,DQ,t);return rC(e,r,n)},UQ=e=>typeof e=="function";function zQ(e,t){return WQ(()=>{const n=t(MQ());return _r(o=>{const s=o(e);return s instanceof Promise?s.then(a=>oC(n,a)):oC(n,s)},(o,s,a)=>{const c=UQ(a)?BQ(n)(a):jQ(n)(a),f=o(e);return s(e,f instanceof Promise?f.then(c):c(f))})},e,t)}const oC=(e,t)=>e._tag==="Traversal"?FQ(e)(t):e._tag==="Prism"?LQ(e)(t):NQ(e)(t),Fp={},qQ=Symbol((Fp?"production":void 0)!=="production"?"RESET":""),iC=(e,t,n)=>(t.has(n)?t:t.set(n,e())).get(n),KQ=new WeakMap,VQ=(e,t,n)=>{const r=iC(()=>new WeakMap,KQ,t);return iC(e,r,n)},HQ={},sC=e=>!!e.write,GQ=e=>typeof e=="function";function aC(e,t){return VQ(()=>{const n=new WeakMap,r=(a,c)=>{let f=n.get(a);if(f)return f;const d=c&&n.get(c),p=[],g=[];return a.forEach((m,y)=>{const b=y;g[y]=b;const x=d&&d.atomList[d.keyList.indexOf(b)];if(x){p[y]=x;return}const T=L=>{const N=L(o),R=L(e),j=r(R,N==null?void 0:N.arr).keyList.indexOf(b);if(j<0||j>=R.length){const A=a[r(a).keyList.indexOf(b)];if(A)return A;throw new Error("splitAtom: index out of bounds for read")}return R[j]},k=(L,N,R)=>{const W=L(o),j=L(e),U=r(j,W==null?void 0:W.arr).keyList.indexOf(b);if(U<0||U>=j.length)throw new Error("splitAtom: index out of bounds for write");const K=GQ(R)?R(j[U]):R;Object.is(j[U],K)||N(e,[...j.slice(0,U),K,...j.slice(U+1)])};p[y]=sC(e)?_r(T,k):_r(T)}),d&&d.keyList.length===g.length&&d.keyList.every((m,y)=>m===g[y])?f=d:f={arr:a,atomList:p,keyList:g},n.set(a,f),f},o=_r(a=>{const c=a(o),f=a(e);return r(f,c==null?void 0:c.arr)});(Fp?"production":void 0)!=="production"&&(o.debugPrivate=!0),o.init=void 0;const s=sC(e)?_r(a=>a(o).atomList,(a,c,f)=>{switch(f.type){case"remove":{const d=a(s).indexOf(f.atom);if(d>=0){const p=a(e);c(e,[...p.slice(0,d),...p.slice(d+1)])}break}case"insert":{const d=f.before?a(s).indexOf(f.before):a(s).length;if(d>=0){const p=a(e);c(e,[...p.slice(0,d),f.value,...p.slice(d)])}break}case"move":{const d=a(s).indexOf(f.atom),p=f.before?a(s).indexOf(f.before):a(s).length;if(d>=0&&p>=0){const g=a(e);d<p?c(e,[...g.slice(0,d),...g.slice(d+1,p),g[d],...g.slice(p)]):c(e,[...g.slice(0,p),g[d],...g.slice(p,d),...g.slice(d+1)])}break}}}):_r(a=>a(o).atomList);return s},e,HQ)}const JQ=e=>typeof(e==null?void 0:e.then)=="function";function VR(e=()=>{try{return window.localStorage}catch(n){(Fp?"production":void 0)!=="production"&&typeof window<"u"&&console.warn(n);return}},t){var n;let r,o;const s={getItem:(f,d)=>{var p,g;const m=b=>{if(b=b||"",r!==b){try{o=JSON.parse(b,t==null?void 0:t.reviver)}catch{return d}r=b}return o},y=(g=(p=e())==null?void 0:p.getItem(f))!=null?g:null;return JQ(y)?y.then(m):m(y)},setItem:(f,d)=>{var p;return(p=e())==null?void 0:p.setItem(f,JSON.stringify(d,void 0))},removeItem:f=>{var d;return(d=e())==null?void 0:d.removeItem(f)}},a=f=>(d,p,g)=>f(d,m=>{let y;try{y=JSON.parse(m||"")}catch{y=g}p(y)});let c;try{c=(n=e())==null?void 0:n.subscribe}catch{}return!c&&typeof window<"u"&&typeof window.addEventListener=="function"&&window.Storage&&(c=(f,d)=>{if(!(e()instanceof window.Storage))return()=>{};const p=g=>{g.storageArea===e()&&g.key===f&&d(g.newValue)};return window.addEventListener("storage",p),()=>{window.removeEventListener("storage",p)}}),c&&(s.subscribe=a(c)),s}const YQ=VR();function HR(e,t,n=YQ,r){const o=r==null?void 0:r.getOnInit,s=_r(o?n.getItem(e,t):t);return(Fp?"production":void 0)!=="production"&&(s.debugPrivate=!0),s.onMount=c=>{c(n.getItem(e,t));let f;return n.subscribe&&(f=n.subscribe(e,c,t)),f},_r(c=>c(s),(c,f,d)=>{const p=typeof d=="function"?d(c(s)):d;return p===qQ?(f(s,t),n.removeItem(e)):p instanceof Promise?p.then(g=>(f(s,g),n.setItem(e,g))):(f(s,p),n.setItem(e,p))})}const XQ=()=>VR(),QQ=e=>{const t=(r,o,s)=>o!==null?Rh.decodeString({schema:e,str:o,ok:a=>a,error:a=>(nn.error(`Unable to decode JSON storage object for key [${r}], using initialValue [${s}]`,a),s)}):s,n=(r,o)=>Rh.encode(e,o);return{getItem(r,o){return t(r,localStorage.getItem(r),o)},setItem(r,o){localStorage.setItem(r,n(r,o))},removeItem(r){localStorage.removeItem(r)},subscribe(r,o,s){if(typeof window>"u"||typeof window.addEventListener>"u")return()=>{};const a=c=>{c.storageArea===localStorage&&c.key===r&&o(t(r,c.newValue,s))};return window.addEventListener("storage",a),()=>window.removeEventListener("storage",a)}}},ZQ=(e,t)=>HR(e,t,XQ(),{getOnInit:!0}),eZ=(e,t,n)=>HR(e,t,QQ(n),{getOnInit:!0}),GR={atom:ZQ,schema:eZ},ld=ib(),qs=(e,t)=>{const n=()=>ld.get(e),r=T=>{ld.set(e,T)};let o;const s=(T,k)=>{const L=()=>{const R=T(n());typeof R=="function"&&(o=R)};k&&L();const N=ld.sub(e,()=>{o!==void 0&&o(),L()});return()=>{N()}},a=T=>s(T,!1),c=T=>s(T,!0),f=()=>eC(e),d=()=>fQ(e),p=()=>[f(),d()],g=T=>qs(zQ(e,T));return{get:n,set:r,sub:a,subAndInit:c,useValue:f,useSet:d,use:p,focus:g,useFocus:T=>{const k=at.useCallback(L=>L.prop(T),[T]);return g(k)},useFocusMemo:T=>{const k=f();return at.useMemo(()=>g(T),[k])},array:()=>{const T=e;return ld.get(aC(T)).map(k=>qs(k))},useArray:()=>eC(aC(e)).map(k=>qs(k))}},tZ=(e,t)=>qs(_r(t)),nZ=(e,t,n)=>qs(sb(e,t,_r(n))),rZ=(e,t)=>qs(sb("main",e,GR.atom(e,t))),oZ=(e,t,n)=>qs(sb("main",e,Ms.type==="main"?GR.schema(e,t,n):_r(t))),uC={},iZ=e=>t=>{const n=uC[t];if(n!==void 0)return n;{const r=e(t);return uC[t]=r,r}},Zt={mem:nZ,memSingle:tZ,storage:rZ,storageSchema:oZ,family:iZ},hb=()=>({label:"Default",key:"default",controllers:[],style:{accent:{color1:"#6a11cb",color2:"#2575fc"}}}),sZ=()=>({active:"default",projects:[hb()]}),ve={initArrangement:Zt.mem("project","init-arrangement",[]),importMessageCount:Zt.mem("project","import-message-count",0),importStatus:Zt.mem("project","import-status",{type:"none"}),project:{config:Zt.storageSchema("projects-config",sZ(),Q0.Schema),abletonName:Zt.mem("project","ableton-name",void 0),arrangement:Zt.mem("project","arrangement",IX())},realTime:{beats:Zt.mem("project","real-time-beats",0),barBeats:Zt.mem("project","real-time-bar-beats",1),timeSignature:Zt.mem("project","real-time-time-signature",{noteCount:4,noteLength:4}),tempo:Zt.mem("project","real-time-tempo",0),isPlaying:Zt.mem("project","real-time-is-playing",!1),metronomeState:Zt.mem("project","real-time-metronome-state",!1),loopState:Zt.mem("project","real-time-loop-state",!1),tick:Zt.mem("project","real-time-tick",0)}},ha=ue({channel:Ut}),aZ=ue({type:Yt("sysex"),manufacturer:Ut,body:Jo(Ut)}),uZ=ue({type:Yt("noteon"),note:Ut,velocity:Ut,...ha.fields}),cZ=ue({type:Yt("noteoff"),note:Ut,velocity:Ut,...ha.fields}),lZ=ue({type:Yt("cc"),controllerNumber:Ut,data:Ut,...ha.fields}),fZ=ue({type:Yt("pc"),programNumber:Ut,...ha.fields}),dZ=ue({type:Yt("clock")}),hZ=ue({type:Yt("measureend")}),pZ=ue({type:Yt("start")}),gZ=ue({type:Yt("continue")}),mZ=ue({type:Yt("stop")}),yZ=ue({type:Yt("reset")}),vZ=ue({type:Yt("activesensing")}),_Z=ue({type:Yt("mtcquarterframe"),data:Ut}),bZ=ue({type:Yt("unknown")}),SZ=ue({type:Yt("error"),message:it}),wZ=Ri(aZ,uZ,cZ,lZ,fZ,dZ,hZ,pZ,gZ,mZ,yZ,vZ,_Z,bZ,SZ),JR=(e,t)=>{const n=[...t];return te.forEach(e,(r,o)=>{n.push(e.charCodeAt(o))}),n},pb=(e,t=0)=>({type:"sysex",manufacturer:t,body:e}),EZ=(e,t=[],n=0)=>pb(JR(JSON.stringify(e),t),n),xZ=(e,t,n=[],r=0)=>pb(JR(Ot(JJ(t)(e),{onSome:o=>JSON.stringify(o),onNone:()=>"Error encoding schema sysex"}),n),r),CZ=e=>{const t=[];return te.forEach(e,n=>{t.push(String.fromCharCode(n))}),t.join("")},TZ=(e,t,n=0)=>{const r=CZ(e.body.slice(n));return q0(G0(t))(r)},kZ=e=>({raw:[],time:new Date,...e}),fl={schema:wZ,sysex:pb,jsonSysex:EZ,jsonSchemaSysex:xZ,parseJsonSysex:TZ,raw:kZ},YR=e=>({targets:e.targets,init:e.init,render:e.render,loading:e.loading||(()=>()=>()=>{}),listenFilter:e.listenFilter||(()=>!0)}),OZ=YR({targets:[],init:()=>()=>{},render:()=>()=>{}}),gb={of:YR,empty:OZ},mb=e=>{const t=te.fromPairs(te.map(e,s=>[s.name,s])),n=Ri(...e.map(s=>s.schema)),r=s=>s.widgets.flatMap(a=>Ot(o(a._tag),{onSome:c=>({name:c.name,targets:()=>{const f=c.targets(a);return f._tag==="none"?[]:f._tag==="one"?[f.target]:f.targets},component:()=>c.component(a),widget:a,tracks:()=>c.tracks(a)}),onNone:()=>(console.error("No widget found for config",a),[])})),o=s=>Ii(te.get(t,s,void 0));return{schema:n,resolve:r,getByName:o,widgets:e}},IZ=e=>e,AZ={name:"empty",controller:gb.empty,widgets:mb([])},yb={of:IZ,empty:AZ};var XR={exports:{}},Bp={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $Z=G,RZ=Symbol.for("react.element"),PZ=Symbol.for("react.fragment"),MZ=Object.prototype.hasOwnProperty,NZ=$Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,LZ={key:!0,ref:!0,__self:!0,__source:!0};function QR(e,t,n){var r,o={},s=null,a=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)MZ.call(t,r)&&!LZ.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:RZ,type:e,key:s,ref:a,props:o,_owner:NZ.current}}Bp.Fragment=PZ;Bp.jsx=QR;Bp.jsxs=QR;XR.exports=Bp;var J=XR.exports;const ZR=ue({target:vr.Schema}),eP=ue({targets:Jo(vr.Schema)}),FZ=Mn("none",{}),BZ=Mn("one",ZR.fields),jZ=Mn("many",eP.fields);Ri(FZ,BZ,jZ);const tP=e=>({name:e.name,schema:Mn(e.name,e.schema.fields),targets:e.targets,component:e.component,tracks:e.tracks||(()=>[]),init:e.init,inputType:e.inputType}),DZ=e=>({name:e.name,schema:Mn(e.name,{...e.schema.fields}),targets:t=>({_tag:"none"}),component:e.component,tracks:e.tracks||(()=>[]),init:()=>({_tag:e.name,...e.init()}),inputType:"none"}),WZ=e=>({name:e.name,schema:Mn(e.name,{...ZR.fields,...e.schema.fields}),targets:t=>({_tag:"one",target:t.target}),component:e.component,tracks:e.tracks||(()=>[]),init:t=>({_tag:e.name,target:t.target,...e.init()}),inputType:"one"}),UZ=e=>({name:e.name,schema:Mn(e.name,{...eP.fields,...e.schema.fields}),targets:t=>({_tag:"many",targets:t.targets}),component:e.component,tracks:e.tracks||(()=>[]),init:t=>({_tag:e.name,targets:t.targets,...e.init()}),inputType:"many"}),zZ=(e,t,n)=>tP({name:e.name,schema:ue({...e.schema.fields,...t.fields}),targets:r=>e.targets(r),component:r=>e.component(r),tracks:r=>e.tracks!==void 0?e.tracks(r):[],init:r=>({...e.init(r),...n(r)}),inputType:e.inputType}),Et={of:tP,none:DZ,one:WZ,many:UZ,intersect:zZ},qZ=()=>({send:e=>{nn.debug("Empty send",e)}}),KZ=e=>({send:t=>{e.emit(t)}}),vb={empty:qZ,fromEventEmitter:KZ},VZ=()=>({on:e=>()=>{console.log("Empty listener",e)}}),nP={empty:VZ},HZ={isAllowed:!1,getInput:e=>oe(),getOutput:e=>oe(),inputs:[],outputs:[]},GZ={deviceManager:Zt.memSingle("device-manager",HZ)},_b={state:GZ.deviceManager},cC=e=>Zt.storage(e,oe()),Yo={daw:{emitter:Zt.memSingle("daw-emitter",vb.empty()),listener:Zt.memSingle("daw-listener",Jc()),selected:{input:cC("daw-midi-input-selected"),output:cC("daw-midi-output-selected")}}},rP=()=>_b.state.get(),lC=()=>{const e=F(Yo.daw.selected.input.get(),is(rP().getInput));Yo.daw.listener.set(bt(e,()=>nP.empty()))},fC=()=>{const e=F(Yo.daw.selected.output.get(),is(rP().getOutput));Yo.daw.emitter.set(bt(e,()=>vb.empty()))},Nh=e=>e==="input"?Yo.daw.selected.input:Yo.daw.selected.output,JZ=()=>{Yo.daw.selected.input.sub(lC),lC(),Yo.daw.selected.output.sub(fC),fC()},YZ=(e,t)=>{Nh(t).set(e)},XZ=e=>Nh(e).get(),QZ=e=>{const t=_b.state.useValue(),n=at.useMemo(()=>e==="input"?t.inputs:t.outputs,[t]),r=Nh(e).useValue(),o=Nh(e).useSet();return{type:e,devices:n,selected:mo(r),setSelected:s=>{o(Ii(s))}}};let Sy;const oP=()=>(Sy===void 0&&(Sy=new BroadcastChannel("project:daw")),Sy),ZZ=()=>{const e=oP();return{send:t=>{e.postMessage(t)}}},Pi={init:JZ,useMidiDevices:QZ,setSelected:YZ,getSelected:XZ,states:Yo,getChannel:oP,useDawEmitter:ZZ,useDawListener:()=>Yo.daw.listener.useValue()},iP=Et.one({name:"play",schema:ue({color:ee.Schema}),init:()=>({color:ee.GREEN}),component:({target:e,color:t})=>{const n=Pi.useDawEmitter();return J.jsx("pad",{color:t,target:e,onClick:()=>n.send(gn.play())})}}),sP=Et.one({name:"stop",schema:ue({color:ee.Schema}),init:()=>({color:ee.RED}),component:({target:e,color:t})=>{const n=Pi.useDawEmitter();return J.jsx("pad",{color:t,target:e,onClick:()=>n.send(gn.stop())})}}),eee=Et.one({name:"record",schema:ue({color:ee.Schema}),init:()=>({color:ee.PURPLE}),component:({target:e,color:t})=>{const n=Pi.useDawEmitter();return J.jsx("pad",{color:t,target:e,onClick:()=>n.send(gn.record())})}}),tee=()=>{let e=[],t=!1,n=120,r=100,o=4,s=4,a=0;const c=b=>e.forEach(x=>x(b)),f=b=>{a=b},d=()=>{c({beat:1,halfBeat:!1,isPlaying:t}),setTimeout(()=>{c({beat:1,halfBeat:!0,isPlaying:t})},Math.floor(r*.5))},p=b=>{const x=a===s?1:a+1;o===4?b===0?c({beat:x,halfBeat:!1,isPlaying:t}):b===2&&c({beat:x,halfBeat:!0,isPlaying:t}):b===0||b===5?c({beat:x,halfBeat:!1,isPlaying:t}):(b===2||b===7)&&c({beat:x,halfBeat:!0,isPlaying:t})},g=b=>{if(t=b,!b){const x=()=>setTimeout(()=>{d(),t||x()},r*2);x()}};g(!1);const m=()=>{o<=4?r=Math.floor(60/n/2*1e3):r=Math.floor(60/n/4*1e3)};return m(),ve.realTime.tempo.sub(b=>{n=b,m()}),ve.realTime.timeSignature.sub(b=>{o=b.noteLength,s=b.noteCount,m()}),ve.realTime.isPlaying.sub(g),ve.realTime.barBeats.sub(f),ve.realTime.tick.sub(p),{onTick:b=>(e=[...e,b],()=>{e=e.filter(x=>x!==b)})}};let wy;const nee=()=>(wy===void 0&&(wy=tee()),wy),ree=e=>nee().onTick(e),aP={onTick:ree},Ci=e=>{const[t,n]=at.useState(e.color);return at.useEffect(()=>e.isFlashing?aP.onTick(r=>n(r.halfBeat?ee.BLACK:e.color)):(n(e.color),()=>{}),[e.color,e.isFlashing]),J.jsx("pad",{...e,color:t})};/**
 * @license
 * MIT License
 * 
 * Copyright (c) 2014-present, Lee Byron and other contributors.
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */var Xl="delete",ot=5,wr=1<<ot,Vn=wr-1,Be={};function Nv(){return{value:!1}}function Qr(e){e&&(e.value=!0)}function bb(){}function _u(e){return e.size===void 0&&(e.size=e.__iterate(uP)),e.size}function cs(e,t){if(typeof t!="number"){var n=t>>>0;if(""+n!==t||n===4294967295)return NaN;t=n}return t<0?_u(e)+t:t}function uP(){return!0}function jp(e,t,n){return(e===0&&!lP(e)||n!==void 0&&e<=-n)&&(t===void 0||n!==void 0&&t>=n)}function Ql(e,t){return cP(e,t,0)}function Dp(e,t){return cP(e,t,t)}function cP(e,t,n){return e===void 0?n:lP(e)?t===1/0?t:Math.max(0,t+e)|0:t===void 0||t===e?e:Math.min(t,e)|0}function lP(e){return e<0||e===0&&1/e===-1/0}var fP="@@__IMMUTABLE_ITERABLE__@@";function Or(e){return!!(e&&e[fP])}var Lh="@@__IMMUTABLE_KEYED__@@";function vt(e){return!!(e&&e[Lh])}var Fh="@@__IMMUTABLE_INDEXED__@@";function ro(e){return!!(e&&e[Fh])}function Sb(e){return vt(e)||ro(e)}var Nn=function(t){return Or(t)?t:sr(t)},oo=function(e){function t(n){return vt(n)?n:gs(n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Nn),pa=function(e){function t(n){return ro(n)?n:bo(n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Nn),Uu=function(e){function t(n){return Or(n)&&!Sb(n)?n:Ku(n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Nn);Nn.Keyed=oo;Nn.Indexed=pa;Nn.Set=Uu;var dP="@@__IMMUTABLE_SEQ__@@";function wb(e){return!!(e&&e[dP])}var hP="@@__IMMUTABLE_RECORD__@@";function ga(e){return!!(e&&e[hP])}function Qo(e){return Or(e)||ga(e)}var ls="@@__IMMUTABLE_ORDERED__@@";function qo(e){return!!(e&&e[ls])}var zu=0,Ir=1,Ar=2,Lv=typeof Symbol=="function"&&Symbol.iterator,pP="@@iterator",Wp=Lv||pP,We=function(t){this.next=t};We.prototype.toString=function(){return"[Iterator]"};We.KEYS=zu;We.VALUES=Ir;We.ENTRIES=Ar;We.prototype.inspect=We.prototype.toSource=function(){return this.toString()};We.prototype[Wp]=function(){return this};function _t(e,t,n,r){var o=e===zu?t:e===Ir?n:[t,n];return r?r.value=o:r={value:o,done:!1},r}function Gn(){return{value:void 0,done:!0}}function gP(e){return Array.isArray(e)?!0:!!Up(e)}function dC(e){return e&&typeof e.next=="function"}function Fv(e){var t=Up(e);return t&&t.call(e)}function Up(e){var t=e&&(Lv&&e[Lv]||e[pP]);if(typeof t=="function")return t}function oee(e){var t=Up(e);return t&&t===e.entries}function iee(e){var t=Up(e);return t&&t===e.keys}var qu=Object.prototype.hasOwnProperty;function mP(e){return Array.isArray(e)||typeof e=="string"?!0:e&&typeof e=="object"&&Number.isInteger(e.length)&&e.length>=0&&(e.length===0?Object.keys(e).length===1:e.hasOwnProperty(e.length-1))}var sr=function(e){function t(n){return n==null?xb():Qo(n)?n.toSeq():aee(n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq {","}")},t.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},t.prototype.__iterate=function(r,o){var s=this._cache;if(s){for(var a=s.length,c=0;c!==a;){var f=s[o?a-++c:c++];if(r(f[1],f[0],this)===!1)break}return c}return this.__iterateUncached(r,o)},t.prototype.__iterator=function(r,o){var s=this._cache;if(s){var a=s.length,c=0;return new We(function(){if(c===a)return Gn();var f=s[o?a-++c:c++];return _t(r,f[0],f[1])})}return this.__iteratorUncached(r,o)},t}(Nn),gs=function(e){function t(n){return n==null?xb().toKeyedSeq():Or(n)?vt(n)?n.toSeq():n.fromEntrySeq():ga(n)?n.toSeq():Cb(n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toKeyedSeq=function(){return this},t}(sr),bo=function(e){function t(n){return n==null?xb():Or(n)?vt(n)?n.entrySeq():n.toIndexedSeq():ga(n)?n.toSeq().entrySeq():yP(n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toIndexedSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq [","]")},t}(sr),Ku=function(e){function t(n){return(Or(n)&&!Sb(n)?n:bo(n)).toSetSeq()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toSetSeq=function(){return this},t}(sr);sr.isSeq=wb;sr.Keyed=gs;sr.Set=Ku;sr.Indexed=bo;sr.prototype[dP]=!0;var bu=function(e){function t(n){this._array=n,this.size=n.length}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(r,o){return this.has(r)?this._array[cs(this,r)]:o},t.prototype.__iterate=function(r,o){for(var s=this._array,a=s.length,c=0;c!==a;){var f=o?a-++c:c++;if(r(s[f],f,this)===!1)break}return c},t.prototype.__iterator=function(r,o){var s=this._array,a=s.length,c=0;return new We(function(){if(c===a)return Gn();var f=o?a-++c:c++;return _t(r,f,s[f])})},t}(bo),Eb=function(e){function t(n){var r=Object.keys(n).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(n):[]);this._object=n,this._keys=r,this.size=r.length}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(r,o){return o!==void 0&&!this.has(r)?o:this._object[r]},t.prototype.has=function(r){return qu.call(this._object,r)},t.prototype.__iterate=function(r,o){for(var s=this._object,a=this._keys,c=a.length,f=0;f!==c;){var d=a[o?c-++f:f++];if(r(s[d],d,this)===!1)break}return f},t.prototype.__iterator=function(r,o){var s=this._object,a=this._keys,c=a.length,f=0;return new We(function(){if(f===c)return Gn();var d=a[o?c-++f:f++];return _t(r,d,s[d])})},t}(gs);Eb.prototype[ls]=!0;var see=function(e){function t(n){this._collection=n,this.size=n.length||n.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.__iterateUncached=function(r,o){if(o)return this.cacheResult().__iterate(r,o);var s=this._collection,a=Fv(s),c=0;if(dC(a))for(var f;!(f=a.next()).done&&r(f.value,c++,this)!==!1;);return c},t.prototype.__iteratorUncached=function(r,o){if(o)return this.cacheResult().__iterator(r,o);var s=this._collection,a=Fv(s);if(!dC(a))return new We(Gn);var c=0;return new We(function(){var f=a.next();return f.done?f:_t(r,c++,f.value)})},t}(bo),hC;function xb(){return hC||(hC=new bu([]))}function Cb(e){var t=Tb(e);if(t)return t.fromEntrySeq();if(typeof e=="object")return new Eb(e);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+e)}function yP(e){var t=Tb(e);if(t)return t;throw new TypeError("Expected Array or collection object of values: "+e)}function aee(e){var t=Tb(e);if(t)return oee(e)?t.fromEntrySeq():iee(e)?t.toSetSeq():t;if(typeof e=="object")return new Eb(e);throw new TypeError("Expected Array or collection object of values, or keyed object: "+e)}function Tb(e){return mP(e)?new bu(e):gP(e)?new see(e):void 0}var vP="@@__IMMUTABLE_MAP__@@";function kb(e){return!!(e&&e[vP])}function _P(e){return kb(e)&&qo(e)}function pC(e){return!!(e&&typeof e.equals=="function"&&typeof e.hashCode=="function")}function Er(e,t){if(e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1;if(typeof e.valueOf=="function"&&typeof t.valueOf=="function"){if(e=e.valueOf(),t=t.valueOf(),e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1}return!!(pC(e)&&pC(t)&&e.equals(t))}var Oc=typeof Math.imul=="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(t,n){t|=0,n|=0;var r=t&65535,o=n&65535;return r*o+((t>>>16)*o+r*(n>>>16)<<16>>>0)|0};function zp(e){return e>>>1&1073741824|e&3221225471}var uee=Object.prototype.valueOf;function yr(e){if(e==null)return gC(e);if(typeof e.hashCode=="function")return zp(e.hashCode(e));var t=pee(e);if(t==null)return gC(t);switch(typeof t){case"boolean":return t?1108378657:1108378656;case"number":return cee(t);case"string":return t.length>gee?lee(t):Bv(t);case"object":case"function":return dee(t);case"symbol":return fee(t);default:if(typeof t.toString=="function")return Bv(t.toString());throw new Error("Value type "+typeof t+" cannot be hashed.")}}function gC(e){return e===null?1108378658:1108378659}function cee(e){if(e!==e||e===1/0)return 0;var t=e|0;for(t!==e&&(t^=e*4294967295);e>4294967295;)e/=4294967295,t^=e;return zp(t)}function lee(e){var t=Cy[e];return t===void 0&&(t=Bv(e),xy===mee&&(xy=0,Cy={}),xy++,Cy[e]=t),t}function Bv(e){for(var t=0,n=0;n<e.length;n++)t=31*t+e.charCodeAt(n)|0;return zp(t)}function fee(e){var t=vC[e];return t!==void 0||(t=bP(),vC[e]=t),t}function dee(e){var t;if(jv&&(t=Dv.get(e),t!==void 0)||(t=e[Ps],t!==void 0)||!yC&&(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[Ps],t!==void 0||(t=hee(e),t!==void 0)))return t;if(t=bP(),jv)Dv.set(e,t);else{if(mC!==void 0&&mC(e)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(yC)Object.defineProperty(e,Ps,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(e.propertyIsEnumerable!==void 0&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[Ps]=t;else if(e.nodeType!==void 0)e[Ps]=t;else throw new Error("Unable to set a non-enumerable property on object.")}return t}var mC=Object.isExtensible,yC=function(){try{return Object.defineProperty({},"@",{}),!0}catch{return!1}}();function hee(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}function pee(e){return e.valueOf!==uee&&typeof e.valueOf=="function"?e.valueOf(e):e}function bP(){var e=++Ey;return Ey&1073741824&&(Ey=0),e}var jv=typeof WeakMap=="function",Dv;jv&&(Dv=new WeakMap);var vC=Object.create(null),Ey=0,Ps="__immutablehash__";typeof Symbol=="function"&&(Ps=Symbol(Ps));var gee=16,mee=255,xy=0,Cy={},qp=function(e){function t(n,r){this._iter=n,this._useKeys=r,this.size=n.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(r,o){return this._iter.get(r,o)},t.prototype.has=function(r){return this._iter.has(r)},t.prototype.valueSeq=function(){return this._iter.valueSeq()},t.prototype.reverse=function(){var r=this,o=Ob(this,!0);return this._useKeys||(o.valueSeq=function(){return r._iter.toSeq().reverse()}),o},t.prototype.map=function(r,o){var s=this,a=CP(this,r,o);return this._useKeys||(a.valueSeq=function(){return s._iter.toSeq().map(r,o)}),a},t.prototype.__iterate=function(r,o){var s=this;return this._iter.__iterate(function(a,c){return r(a,c,s)},o)},t.prototype.__iterator=function(r,o){return this._iter.__iterator(r,o)},t}(gs);qp.prototype[ls]=!0;var SP=function(e){function t(n){this._iter=n,this.size=n.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.includes=function(r){return this._iter.includes(r)},t.prototype.__iterate=function(r,o){var s=this,a=0;return o&&_u(this),this._iter.__iterate(function(c){return r(c,o?s.size-++a:a++,s)},o)},t.prototype.__iterator=function(r,o){var s=this,a=this._iter.__iterator(Ir,o),c=0;return o&&_u(this),new We(function(){var f=a.next();return f.done?f:_t(r,o?s.size-++c:c++,f.value,f)})},t}(bo),wP=function(e){function t(n){this._iter=n,this.size=n.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.has=function(r){return this._iter.includes(r)},t.prototype.__iterate=function(r,o){var s=this;return this._iter.__iterate(function(a){return r(a,a,s)},o)},t.prototype.__iterator=function(r,o){var s=this._iter.__iterator(Ir,o);return new We(function(){var a=s.next();return a.done?a:_t(r,a.value,a.value,a)})},t}(Ku),EP=function(e){function t(n){this._iter=n,this.size=n.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.entrySeq=function(){return this._iter.toSeq()},t.prototype.__iterate=function(r,o){var s=this;return this._iter.__iterate(function(a){if(a){bC(a);var c=Or(a);return r(c?a.get(1):a[1],c?a.get(0):a[0],s)}},o)},t.prototype.__iterator=function(r,o){var s=this._iter.__iterator(Ir,o);return new We(function(){for(;;){var a=s.next();if(a.done)return a;var c=a.value;if(c){bC(c);var f=Or(c);return _t(r,f?c.get(0):c[0],f?c.get(1):c[1],a)}}})},t}(gs);SP.prototype.cacheResult=qp.prototype.cacheResult=wP.prototype.cacheResult=EP.prototype.cacheResult=$b;function xP(e){var t=Zo(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var n=e.reverse.apply(this);return n.flip=function(){return e.reverse()},n},t.has=function(n){return e.includes(n)},t.includes=function(n){return e.has(n)},t.cacheResult=$b,t.__iterateUncached=function(n,r){var o=this;return e.__iterate(function(s,a){return n(a,s,o)!==!1},r)},t.__iteratorUncached=function(n,r){if(n===Ar){var o=e.__iterator(n,r);return new We(function(){var s=o.next();if(!s.done){var a=s.value[0];s.value[0]=s.value[1],s.value[1]=a}return s})}return e.__iterator(n===Ir?zu:Ir,r)},t}function CP(e,t,n){var r=Zo(e);return r.size=e.size,r.has=function(o){return e.has(o)},r.get=function(o,s){var a=e.get(o,Be);return a===Be?s:t.call(n,a,o,e)},r.__iterateUncached=function(o,s){var a=this;return e.__iterate(function(c,f,d){return o(t.call(n,c,f,d),f,a)!==!1},s)},r.__iteratorUncached=function(o,s){var a=e.__iterator(Ar,s);return new We(function(){var c=a.next();if(c.done)return c;var f=c.value,d=f[0];return _t(o,d,t.call(n,f[1],d,e),c)})},r}function Ob(e,t){var n=this,r=Zo(e);return r._iter=e,r.size=e.size,r.reverse=function(){return e},e.flip&&(r.flip=function(){var o=xP(e);return o.reverse=function(){return e.flip()},o}),r.get=function(o,s){return e.get(t?o:-1-o,s)},r.has=function(o){return e.has(t?o:-1-o)},r.includes=function(o){return e.includes(o)},r.cacheResult=$b,r.__iterate=function(o,s){var a=this,c=0;return s&&_u(e),e.__iterate(function(f,d){return o(f,t?d:s?a.size-++c:c++,a)},!s)},r.__iterator=function(o,s){var a=0;s&&_u(e);var c=e.__iterator(Ar,!s);return new We(function(){var f=c.next();if(f.done)return f;var d=f.value;return _t(o,t?d[0]:s?n.size-++a:a++,d[1],f)})},r}function TP(e,t,n,r){var o=Zo(e);return r&&(o.has=function(s){var a=e.get(s,Be);return a!==Be&&!!t.call(n,a,s,e)},o.get=function(s,a){var c=e.get(s,Be);return c!==Be&&t.call(n,c,s,e)?c:a}),o.__iterateUncached=function(s,a){var c=this,f=0;return e.__iterate(function(d,p,g){if(t.call(n,d,p,g))return f++,s(d,r?p:f-1,c)},a),f},o.__iteratorUncached=function(s,a){var c=e.__iterator(Ar,a),f=0;return new We(function(){for(;;){var d=c.next();if(d.done)return d;var p=d.value,g=p[0],m=p[1];if(t.call(n,m,g,e))return _t(s,r?g:f++,m,d)}})},o}function yee(e,t,n){var r=Hu().asMutable();return e.__iterate(function(o,s){r.update(t.call(n,o,s,e),0,function(a){return a+1})}),r.asImmutable()}function vee(e,t,n){var r=vt(e),o=(qo(e)?ki():Hu()).asMutable();e.__iterate(function(a,c){o.update(t.call(n,a,c,e),function(f){return f=f||[],f.push(r?[c,a]:a),f})});var s=Ab(e);return o.map(function(a){return nt(e,s(a))}).asImmutable()}function _ee(e,t,n){var r=vt(e),o=[[],[]];e.__iterate(function(a,c){o[t.call(n,a,c,e)?1:0].push(r?[c,a]:a)});var s=Ab(e);return o.map(function(a){return nt(e,s(a))})}function Ib(e,t,n,r){var o=e.size;if(jp(t,n,o))return e;if(typeof o>"u"&&(t<0||n<0))return Ib(e.toSeq().cacheResult(),t,n,r);var s=Ql(t,o),a=Dp(n,o),c=a-s,f;c===c&&(f=c<0?0:c);var d=Zo(e);return d.size=f===0?f:e.size&&f||void 0,!r&&wb(e)&&f>=0&&(d.get=function(p,g){return p=cs(this,p),p>=0&&p<f?e.get(p+s,g):g}),d.__iterateUncached=function(p,g){var m=this;if(f===0)return 0;if(g)return this.cacheResult().__iterate(p,g);var y=0,b=!0,x=0;return e.__iterate(function(T,k){if(!(b&&(b=y++<s)))return x++,p(T,r?k:x-1,m)!==!1&&x!==f}),x},d.__iteratorUncached=function(p,g){if(f!==0&&g)return this.cacheResult().__iterator(p,g);if(f===0)return new We(Gn);var m=e.__iterator(p,g),y=0,b=0;return new We(function(){for(;y++<s;)m.next();if(++b>f)return Gn();var x=m.next();return r||p===Ir||x.done?x:p===zu?_t(p,b-1,void 0,x):_t(p,b-1,x.value[1],x)})},d}function bee(e,t,n){var r=Zo(e);return r.__iterateUncached=function(o,s){var a=this;if(s)return this.cacheResult().__iterate(o,s);var c=0;return e.__iterate(function(f,d,p){return t.call(n,f,d,p)&&++c&&o(f,d,a)}),c},r.__iteratorUncached=function(o,s){var a=this;if(s)return this.cacheResult().__iterator(o,s);var c=e.__iterator(Ar,s),f=!0;return new We(function(){if(!f)return Gn();var d=c.next();if(d.done)return d;var p=d.value,g=p[0],m=p[1];return t.call(n,m,g,a)?o===Ar?d:_t(o,g,m,d):(f=!1,Gn())})},r}function kP(e,t,n,r){var o=Zo(e);return o.__iterateUncached=function(s,a){var c=this;if(a)return this.cacheResult().__iterate(s,a);var f=!0,d=0;return e.__iterate(function(p,g,m){if(!(f&&(f=t.call(n,p,g,m))))return d++,s(p,r?g:d-1,c)}),d},o.__iteratorUncached=function(s,a){var c=this;if(a)return this.cacheResult().__iterator(s,a);var f=e.__iterator(Ar,a),d=!0,p=0;return new We(function(){var g,m,y;do{if(g=f.next(),g.done)return r||s===Ir?g:s===zu?_t(s,p++,void 0,g):_t(s,p++,g.value[1],g);var b=g.value;m=b[0],y=b[1],d&&(d=t.call(n,y,m,c))}while(d);return s===Ar?g:_t(s,m,y,g)})},o}var See=function(e){function t(n){this._wrappedIterables=n.flatMap(function(r){return r._wrappedIterables?r._wrappedIterables:[r]}),this.size=this._wrappedIterables.reduce(function(r,o){if(r!==void 0){var s=o.size;if(s!==void 0)return r+s}},0),this[Lh]=this._wrappedIterables[0][Lh],this[Fh]=this._wrappedIterables[0][Fh],this[ls]=this._wrappedIterables[0][ls]}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.__iterateUncached=function(r,o){if(this._wrappedIterables.length!==0){if(o)return this.cacheResult().__iterate(r,o);for(var s=0,a=vt(this),c=a?Ar:Ir,f=this._wrappedIterables[s].__iterator(c,o),d=!0,p=0;d;){for(var g=f.next();g.done;){if(s++,s===this._wrappedIterables.length)return p;f=this._wrappedIterables[s].__iterator(c,o),g=f.next()}var m=a?r(g.value[1],g.value[0],this):r(g.value,p,this);d=m!==!1,p++}return p}},t.prototype.__iteratorUncached=function(r,o){var s=this;if(this._wrappedIterables.length===0)return new We(Gn);if(o)return this.cacheResult().__iterator(r,o);var a=0,c=this._wrappedIterables[a].__iterator(r,o);return new We(function(){for(var f=c.next();f.done;){if(a++,a===s._wrappedIterables.length)return f;c=s._wrappedIterables[a].__iterator(r,o),f=c.next()}return f})},t}(sr);function wee(e,t){var n=vt(e),r=[e].concat(t).map(function(s){return Or(s)?n&&(s=oo(s)):s=n?Cb(s):yP(Array.isArray(s)?s:[s]),s}).filter(function(s){return s.size!==0});if(r.length===0)return e;if(r.length===1){var o=r[0];if(o===e||n&&vt(o)||ro(e)&&ro(o))return o}return new See(r)}function OP(e,t,n){var r=Zo(e);return r.__iterateUncached=function(o,s){if(s)return this.cacheResult().__iterate(o,s);var a=0,c=!1;function f(d,p){d.__iterate(function(g,m){return(!t||p<t)&&Or(g)?f(g,p+1):(a++,o(g,n?m:a-1,r)===!1&&(c=!0)),!c},s)}return f(e,0),a},r.__iteratorUncached=function(o,s){if(s)return this.cacheResult().__iterator(o,s);var a=e.__iterator(o,s),c=[],f=0;return new We(function(){for(;a;){var d=a.next();if(d.done!==!1){a=c.pop();continue}var p=d.value;if(o===Ar&&(p=p[1]),(!t||c.length<t)&&Or(p))c.push(a),a=p.__iterator(o,s);else return n?d:_t(o,f++,p,d)}return Gn()})},r}function Eee(e,t,n){var r=Ab(e);return e.toSeq().map(function(o,s){return r(t.call(n,o,s,e))}).flatten(!0)}function xee(e,t){var n=Zo(e);return n.size=e.size&&e.size*2-1,n.__iterateUncached=function(r,o){var s=this,a=0;return e.__iterate(function(c){return(!a||r(t,a++,s)!==!1)&&r(c,a++,s)!==!1},o),a},n.__iteratorUncached=function(r,o){var s=e.__iterator(Ir,o),a=0,c;return new We(function(){return(!c||a%2)&&(c=s.next(),c.done)?c:a%2?_t(r,a++,t):_t(r,a++,c.value,c)})},n}function Su(e,t,n){t||(t=IP);var r=vt(e),o=0,s=e.toSeq().map(function(a,c){return[c,a,o++,n?n(a,c,e):a]}).valueSeq().toArray();return s.sort(function(a,c){return t(a[3],c[3])||a[2]-c[2]}).forEach(r?function(a,c){s[c].length=2}:function(a,c){s[c]=a[1]}),r?gs(s):ro(e)?bo(s):Ku(s)}function fd(e,t,n){if(t||(t=IP),n){var r=e.toSeq().map(function(o,s){return[o,n(o,s,e)]}).reduce(function(o,s){return _C(t,o[1],s[1])?s:o});return r&&r[0]}return e.reduce(function(o,s){return _C(t,o,s)?s:o})}function _C(e,t,n){var r=e(n,t);return r===0&&n!==t&&(n==null||n!==n)||r>0}function dd(e,t,n,r){var o=Zo(e),s=new bu(n).map(function(a){return a.size});return o.size=r?s.max():s.min(),o.__iterate=function(a,c){for(var f=this.__iterator(Ir,c),d,p=0;!(d=f.next()).done&&a(d.value,p++,this)!==!1;);return p},o.__iteratorUncached=function(a,c){var f=n.map(function(g){return g=Nn(g),Fv(c?g.reverse():g)}),d=0,p=!1;return new We(function(){var g;return p||(g=f.map(function(m){return m.next()}),p=r?g.every(function(m){return m.done}):g.some(function(m){return m.done})),p?Gn():_t(a,d++,t.apply(null,g.map(function(m){return m.value})))})},o}function nt(e,t){return e===t?e:wb(e)?t:e.constructor(t)}function bC(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function Ab(e){return vt(e)?oo:ro(e)?pa:Uu}function Zo(e){return Object.create((vt(e)?gs:ro(e)?bo:Ku).prototype)}function $b(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):sr.prototype.cacheResult.call(this)}function IP(e,t){return e===void 0&&t===void 0?0:e===void 0?1:t===void 0?-1:e>t?1:e<t?-1:0}function Bo(e,t){t=t||0;for(var n=Math.max(0,e.length-t),r=new Array(n),o=0;o<n;o++)r[o]=e[o+t];return r}function Vc(e,t){if(!e)throw new Error(t)}function br(e){Vc(e!==1/0,"Cannot perform this action with an infinite size.")}function AP(e){if(mP(e)&&typeof e!="string")return e;if(qo(e))return e.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+e)}var Cee=Object.prototype.toString;function Tee(e){if(!e||typeof e!="object"||Cee.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var n=t,r=Object.getPrototypeOf(t);r!==null;)n=r,r=Object.getPrototypeOf(n);return n===t}function fs(e){return typeof e=="object"&&(Qo(e)||Array.isArray(e)||Tee(e))}function dl(e){try{return typeof e=="string"?JSON.stringify(e):String(e)}catch{return JSON.stringify(e)}}function kee(e,t){return Qo(e)?e.has(t):fs(e)&&qu.call(e,t)}function $P(e,t,n){return Qo(e)?e.get(t,n):kee(e,t)?typeof e.get=="function"?e.get(t):e[t]:n}function Bh(e){if(Array.isArray(e))return Bo(e);var t={};for(var n in e)qu.call(e,n)&&(t[n]=e[n]);return t}function Oee(e,t){if(!fs(e))throw new TypeError("Cannot update non-data-structure value: "+e);if(Qo(e)){if(!e.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+e);return e.remove(t)}if(!qu.call(e,t))return e;var n=Bh(e);return Array.isArray(n)?n.splice(t,1):delete n[t],n}function Iee(e,t,n){if(!fs(e))throw new TypeError("Cannot update non-data-structure value: "+e);if(Qo(e)){if(!e.set)throw new TypeError("Cannot update immutable value without .set() method: "+e);return e.set(t,n)}if(qu.call(e,t)&&n===e[t])return e;var r=Bh(e);return r[t]=n,r}function Vu(e,t,n,r){r||(r=n,n=void 0);var o=RP(Qo(e),e,AP(t),0,n,r);return o===Be?n:o}function RP(e,t,n,r,o,s){var a=t===Be;if(r===n.length){var c=a?o:t,f=s(c);return f===c?t:f}if(!a&&!fs(t))throw new TypeError("Cannot update within non-data-structure value in path ["+Array.from(n).slice(0,r).map(dl)+"]: "+t);var d=n[r],p=a?Be:$P(t,d,Be),g=RP(p===Be?e:Qo(p),p,n,r+1,o,s);return g===p?t:g===Be?Oee(t,d):Iee(a?e?Wo():{}:t,d,g)}function Aee(e,t,n){return Vu(e,t,Be,function(){return n})}function Rb(e,t){return Aee(this,e,t)}function $ee(e,t){return Vu(e,t,function(){return Be})}function Pb(e){return $ee(this,e)}function PP(e,t,n,r){return Vu(e,[t],n,r)}function Mb(e,t,n){return arguments.length===1?e(this):PP(this,e,t,n)}function Nb(e,t,n){return Vu(this,e,t,n)}function MP(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return LP(this,e)}function NP(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];if(typeof e!="function")throw new TypeError("Invalid merger function: "+e);return LP(this,t,e)}function LP(e,t,n){for(var r=[],o=0;o<t.length;o++){var s=oo(t[o]);s.size!==0&&r.push(s)}return r.length===0?e:e.toSeq().size===0&&!e.__ownerID&&r.length===1?ga(e)?e:e.constructor(r[0]):e.withMutations(function(a){for(var c=n?function(d,p){PP(a,p,Be,function(g){return g===Be?d:n(g,d,p)})}:function(d,p){a.set(p,d)},f=0;f<r.length;f++)r[f].forEach(c)})}function Lb(e,t,n){return Fb(e,t,Ree(n))}function Fb(e,t,n){if(!fs(e))throw new TypeError("Cannot merge into non-data-structure value: "+e);if(Qo(e))return typeof n=="function"&&e.mergeWith?e.mergeWith.apply(e,[n].concat(t)):e.merge?e.merge.apply(e,t):e.concat.apply(e,t);for(var r=Array.isArray(e),o=e,s=r?pa:oo,a=r?function(f){o===e&&(o=Bh(o)),o.push(f)}:function(f,d){var p=qu.call(o,d),g=p&&n?n(o[d],f,d):f;(!p||g!==o[d])&&(o===e&&(o=Bh(o)),o[d]=g)},c=0;c<t.length;c++)s(t[c]).forEach(a);return o}function Ree(e){function t(n,r,o){return fs(n)&&fs(r)&&Pee(n,r)?Fb(n,[r],t):e?e(n,r,o):r}return t}function Pee(e,t){var n=sr(e),r=sr(t);return ro(n)===ro(r)&&vt(n)===vt(r)}function FP(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return Lb(this,e)}function BP(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return Lb(this,t,e)}function Bb(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return Vu(this,e,Wo(),function(r){return Fb(r,t)})}function jb(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return Vu(this,e,Wo(),function(r){return Lb(r,t)})}function Zl(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this}function ef(){return this.__ownerID?this:this.__ensureOwner(new bb)}function tf(){return this.__ensureOwner()}function Db(){return this.__altered}var Hu=function(e){function t(n){return n==null?Wo():kb(n)&&!qo(n)?n:Wo().withMutations(function(r){var o=e(n);br(o.size),o.forEach(function(s,a){return r.set(a,s)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return this.__toString("Map {","}")},t.prototype.get=function(r,o){return this._root?this._root.get(0,void 0,r,o):o},t.prototype.set=function(r,o){return EC(this,r,o)},t.prototype.remove=function(r){return EC(this,r,Be)},t.prototype.deleteAll=function(r){var o=Nn(r);return o.size===0?this:this.withMutations(function(s){o.forEach(function(a){return s.remove(a)})})},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Wo()},t.prototype.sort=function(r){return ki(Su(this,r))},t.prototype.sortBy=function(r,o){return ki(Su(this,o,r))},t.prototype.map=function(r,o){var s=this;return this.withMutations(function(a){a.forEach(function(c,f){a.set(f,r.call(o,c,f,s))})})},t.prototype.__iterator=function(r,o){return new Mee(this,r,o)},t.prototype.__iterate=function(r,o){var s=this,a=0;return this._root&&this._root.iterate(function(c){return a++,r(c[1],c[0],s)},o),a},t.prototype.__ensureOwner=function(r){return r===this.__ownerID?this:r?Wb(this.size,this._root,r,this.__hash):this.size===0?Wo():(this.__ownerID=r,this.__altered=!1,this)},t}(oo);Hu.isMap=kb;var pt=Hu.prototype;pt[vP]=!0;pt[Xl]=pt.remove;pt.removeAll=pt.deleteAll;pt.setIn=Rb;pt.removeIn=pt.deleteIn=Pb;pt.update=Mb;pt.updateIn=Nb;pt.merge=pt.concat=MP;pt.mergeWith=NP;pt.mergeDeep=FP;pt.mergeDeepWith=BP;pt.mergeIn=Bb;pt.mergeDeepIn=jb;pt.withMutations=Zl;pt.wasAltered=Db;pt.asImmutable=tf;pt["@@transducer/init"]=pt.asMutable=ef;pt["@@transducer/step"]=function(e,t){return e.set(t[0],t[1])};pt["@@transducer/result"]=function(e){return e.asImmutable()};var hl=function(t,n){this.ownerID=t,this.entries=n};hl.prototype.get=function(t,n,r,o){for(var s=this.entries,a=0,c=s.length;a<c;a++)if(Er(r,s[a][0]))return s[a][1];return o};hl.prototype.update=function(t,n,r,o,s,a,c){for(var f=s===Be,d=this.entries,p=0,g=d.length;p<g&&!Er(o,d[p][0]);p++);var m=p<g;if(m?d[p][1]===s:f)return this;if(Qr(c),(f||!m)&&Qr(a),!(f&&d.length===1)){if(!m&&!f&&d.length>=Dee)return Nee(t,d,o,s);var y=t&&t===this.ownerID,b=y?d:Bo(d);return m?f?p===g-1?b.pop():b[p]=b.pop():b[p]=[o,s]:b.push([o,s]),y?(this.entries=b,this):new hl(t,b)}};var wu=function(t,n,r){this.ownerID=t,this.bitmap=n,this.nodes=r};wu.prototype.get=function(t,n,r,o){n===void 0&&(n=yr(r));var s=1<<((t===0?n:n>>>t)&Vn),a=this.bitmap;return a&s?this.nodes[jP(a&s-1)].get(t+ot,n,r,o):o};wu.prototype.update=function(t,n,r,o,s,a,c){r===void 0&&(r=yr(o));var f=(n===0?r:r>>>n)&Vn,d=1<<f,p=this.bitmap,g=(p&d)!==0;if(!g&&s===Be)return this;var m=jP(p&d-1),y=this.nodes,b=g?y[m]:void 0,x=Ub(b,t,n+ot,r,o,s,a,c);if(x===b)return this;if(!g&&x&&y.length>=Wee)return Fee(t,y,p,f,x);if(g&&!x&&y.length===2&&xC(y[m^1]))return y[m^1];if(g&&x&&y.length===1&&xC(x))return x;var T=t&&t===this.ownerID,k=g?x?p:p^d:p|d,L=g?x?DP(y,m,x,T):jee(y,m,T):Bee(y,m,x,T);return T?(this.bitmap=k,this.nodes=L,this):new wu(t,k,L)};var pl=function(t,n,r){this.ownerID=t,this.count=n,this.nodes=r};pl.prototype.get=function(t,n,r,o){n===void 0&&(n=yr(r));var s=(t===0?n:n>>>t)&Vn,a=this.nodes[s];return a?a.get(t+ot,n,r,o):o};pl.prototype.update=function(t,n,r,o,s,a,c){r===void 0&&(r=yr(o));var f=(n===0?r:r>>>n)&Vn,d=s===Be,p=this.nodes,g=p[f];if(d&&!g)return this;var m=Ub(g,t,n+ot,r,o,s,a,c);if(m===g)return this;var y=this.count;if(!g)y++;else if(!m&&(y--,y<Uee))return Lee(t,p,y,f);var b=t&&t===this.ownerID,x=DP(p,f,m,b);return b?(this.count=y,this.nodes=x,this):new pl(t,y,x)};var Eu=function(t,n,r){this.ownerID=t,this.keyHash=n,this.entries=r};Eu.prototype.get=function(t,n,r,o){for(var s=this.entries,a=0,c=s.length;a<c;a++)if(Er(r,s[a][0]))return s[a][1];return o};Eu.prototype.update=function(t,n,r,o,s,a,c){r===void 0&&(r=yr(o));var f=s===Be;if(r!==this.keyHash)return f?this:(Qr(c),Qr(a),zb(this,t,n,r,[o,s]));for(var d=this.entries,p=0,g=d.length;p<g&&!Er(o,d[p][0]);p++);var m=p<g;if(m?d[p][1]===s:f)return this;if(Qr(c),(f||!m)&&Qr(a),f&&g===2)return new Ti(t,this.keyHash,d[p^1]);var y=t&&t===this.ownerID,b=y?d:Bo(d);return m?f?p===g-1?b.pop():b[p]=b.pop():b[p]=[o,s]:b.push([o,s]),y?(this.entries=b,this):new Eu(t,this.keyHash,b)};var Ti=function(t,n,r){this.ownerID=t,this.keyHash=n,this.entry=r};Ti.prototype.get=function(t,n,r,o){return Er(r,this.entry[0])?this.entry[1]:o};Ti.prototype.update=function(t,n,r,o,s,a,c){var f=s===Be,d=Er(o,this.entry[0]);if(d?s===this.entry[1]:f)return this;if(Qr(c),f){Qr(a);return}return d?t&&t===this.ownerID?(this.entry[1]=s,this):new Ti(t,this.keyHash,[o,s]):(Qr(a),zb(this,t,n,yr(o),[o,s]))};hl.prototype.iterate=Eu.prototype.iterate=function(e,t){for(var n=this.entries,r=0,o=n.length-1;r<=o;r++)if(e(n[t?o-r:r])===!1)return!1};wu.prototype.iterate=pl.prototype.iterate=function(e,t){for(var n=this.nodes,r=0,o=n.length-1;r<=o;r++){var s=n[t?o-r:r];if(s&&s.iterate(e,t)===!1)return!1}};Ti.prototype.iterate=function(e,t){return e(this.entry)};var Mee=function(e){function t(n,r,o){this._type=r,this._reverse=o,this._stack=n._root&&SC(n._root)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.next=function(){for(var r=this._type,o=this._stack;o;){var s=o.node,a=o.index++,c=void 0;if(s.entry){if(a===0)return Ty(r,s.entry)}else if(s.entries){if(c=s.entries.length-1,a<=c)return Ty(r,s.entries[this._reverse?c-a:a])}else if(c=s.nodes.length-1,a<=c){var f=s.nodes[this._reverse?c-a:a];if(f){if(f.entry)return Ty(r,f.entry);o=this._stack=SC(f,o)}continue}o=this._stack=this._stack.__prev}return Gn()},t}(We);function Ty(e,t){return _t(e,t[0],t[1])}function SC(e,t){return{node:e,index:0,__prev:t}}function Wb(e,t,n,r){var o=Object.create(pt);return o.size=e,o._root=t,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}var wC;function Wo(){return wC||(wC=Wb(0))}function EC(e,t,n){var r,o;if(e._root){var s=Nv(),a=Nv();if(r=Ub(e._root,e.__ownerID,0,void 0,t,n,s,a),!a.value)return e;o=e.size+(s.value?n===Be?-1:1:0)}else{if(n===Be)return e;o=1,r=new hl(e.__ownerID,[[t,n]])}return e.__ownerID?(e.size=o,e._root=r,e.__hash=void 0,e.__altered=!0,e):r?Wb(o,r):Wo()}function Ub(e,t,n,r,o,s,a,c){return e?e.update(t,n,r,o,s,a,c):s===Be?e:(Qr(c),Qr(a),new Ti(t,r,[o,s]))}function xC(e){return e.constructor===Ti||e.constructor===Eu}function zb(e,t,n,r,o){if(e.keyHash===r)return new Eu(t,r,[e.entry,o]);var s=(n===0?e.keyHash:e.keyHash>>>n)&Vn,a=(n===0?r:r>>>n)&Vn,c,f=s===a?[zb(e,t,n+ot,r,o)]:(c=new Ti(t,r,o),s<a?[e,c]:[c,e]);return new wu(t,1<<s|1<<a,f)}function Nee(e,t,n,r){e||(e=new bb);for(var o=new Ti(e,yr(n),[n,r]),s=0;s<t.length;s++){var a=t[s];o=o.update(e,0,void 0,a[0],a[1])}return o}function Lee(e,t,n,r){for(var o=0,s=0,a=new Array(n),c=0,f=1,d=t.length;c<d;c++,f<<=1){var p=t[c];p!==void 0&&c!==r&&(o|=f,a[s++]=p)}return new wu(e,o,a)}function Fee(e,t,n,r,o){for(var s=0,a=new Array(wr),c=0;n!==0;c++,n>>>=1)a[c]=n&1?t[s++]:void 0;return a[r]=o,new pl(e,s+1,a)}function jP(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),e=e+(e>>4)&252645135,e+=e>>8,e+=e>>16,e&127}function DP(e,t,n,r){var o=r?e:Bo(e);return o[t]=n,o}function Bee(e,t,n,r){var o=e.length+1;if(r&&t+1===o)return e[t]=n,e;for(var s=new Array(o),a=0,c=0;c<o;c++)c===t?(s[c]=n,a=-1):s[c]=e[c+a];return s}function jee(e,t,n){var r=e.length-1;if(n&&t===r)return e.pop(),e;for(var o=new Array(r),s=0,a=0;a<r;a++)a===t&&(s=1),o[a]=e[a+s];return o}var Dee=wr/4,Wee=wr/2,Uee=wr/4,WP="@@__IMMUTABLE_LIST__@@";function UP(e){return!!(e&&e[WP])}var Gu=function(e){function t(n){var r=Ud();if(n==null)return r;if(UP(n))return n;var o=e(n),s=o.size;return s===0?r:(br(s),s>0&&s<wr?gl(0,s,ot,null,new os(o.toArray())):r.withMutations(function(a){a.setSize(s),o.forEach(function(c,f){return a.set(f,c)})}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("List [","]")},t.prototype.get=function(r,o){if(r=cs(this,r),r>=0&&r<this.size){r+=this._origin;var s=zP(this,r);return s&&s.array[r&Vn]}return o},t.prototype.set=function(r,o){return zee(this,r,o)},t.prototype.remove=function(r){return this.has(r)?r===0?this.shift():r===this.size-1?this.pop():this.splice(r,1):this},t.prototype.insert=function(r,o){return this.splice(r,0,o)},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=ot,this._root=this._tail=this.__hash=void 0,this.__altered=!0,this):Ud()},t.prototype.push=function(){var r=arguments,o=this.size;return this.withMutations(function(s){Qi(s,0,o+r.length);for(var a=0;a<r.length;a++)s.set(o+a,r[a])})},t.prototype.pop=function(){return Qi(this,0,-1)},t.prototype.unshift=function(){var r=arguments;return this.withMutations(function(o){Qi(o,-r.length);for(var s=0;s<r.length;s++)o.set(s,r[s])})},t.prototype.shift=function(){return Qi(this,1)},t.prototype.shuffle=function(r){return r===void 0&&(r=Math.random),this.withMutations(function(o){for(var s=o.size,a,c;s;)a=Math.floor(r()*s--),c=o.get(a),o.set(a,o.get(s)),o.set(s,c)})},t.prototype.concat=function(){for(var r=arguments,o=[],s=0;s<arguments.length;s++){var a=r[s],c=e(typeof a!="string"&&gP(a)?a:[a]);c.size!==0&&o.push(c)}return o.length===0?this:this.size===0&&!this.__ownerID&&o.length===1?this.constructor(o[0]):this.withMutations(function(f){o.forEach(function(d){return d.forEach(function(p){return f.push(p)})})})},t.prototype.setSize=function(r){return Qi(this,0,r)},t.prototype.map=function(r,o){var s=this;return this.withMutations(function(a){for(var c=0;c<s.size;c++)a.set(c,r.call(o,a.get(c),c,s))})},t.prototype.slice=function(r,o){var s=this.size;return jp(r,o,s)?this:Qi(this,Ql(r,s),Dp(o,s))},t.prototype.__iterator=function(r,o){var s=o?this.size:0,a=CC(this,o);return new We(function(){var c=a();return c===Hc?Gn():_t(r,o?--s:s++,c)})},t.prototype.__iterate=function(r,o){for(var s=o?this.size:0,a=CC(this,o),c;(c=a())!==Hc&&r(c,o?--s:s++,this)!==!1;);return s},t.prototype.__ensureOwner=function(r){return r===this.__ownerID?this:r?gl(this._origin,this._capacity,this._level,this._root,this._tail,r,this.__hash):this.size===0?Ud():(this.__ownerID=r,this.__altered=!1,this)},t}(pa);Gu.isList=UP;var qt=Gu.prototype;qt[WP]=!0;qt[Xl]=qt.remove;qt.merge=qt.concat;qt.setIn=Rb;qt.deleteIn=qt.removeIn=Pb;qt.update=Mb;qt.updateIn=Nb;qt.mergeIn=Bb;qt.mergeDeepIn=jb;qt.withMutations=Zl;qt.wasAltered=Db;qt.asImmutable=tf;qt["@@transducer/init"]=qt.asMutable=ef;qt["@@transducer/step"]=function(e,t){return e.push(t)};qt["@@transducer/result"]=function(e){return e.asImmutable()};var os=function(t,n){this.array=t,this.ownerID=n};os.prototype.removeBefore=function(t,n,r){if(!(r&(1<<n+ot)-1)||this.array.length===0)return this;var o=r>>>n&Vn;if(o>=this.array.length)return new os([],t);var s=o===0,a;if(n>0){var c=this.array[o];if(a=c&&c.removeBefore(t,n-ot,r),a===c&&s)return this}if(s&&!a)return this;var f=xu(this,t);if(!s)for(var d=0;d<o;d++)f.array[d]=void 0;return a&&(f.array[o]=a),f};os.prototype.removeAfter=function(t,n,r){if(r===(n?1<<n+ot:wr)||this.array.length===0)return this;var o=r-1>>>n&Vn;if(o>=this.array.length)return this;var s;if(n>0){var a=this.array[o];if(s=a&&a.removeAfter(t,n-ot,r),s===a&&o===this.array.length-1)return this}var c=xu(this,t);return c.array.splice(o+1),s&&(c.array[o]=s),c};var Hc={};function CC(e,t){var n=e._origin,r=e._capacity,o=ml(r),s=e._tail;return a(e._root,e._level,0);function a(d,p,g){return p===0?c(d,g):f(d,p,g)}function c(d,p){var g=p===o?s&&s.array:d&&d.array,m=p>n?0:n-p,y=r-p;return y>wr&&(y=wr),function(){if(m===y)return Hc;var b=t?--y:m++;return g&&g[b]}}function f(d,p,g){var m,y=d&&d.array,b=g>n?0:n-g>>p,x=(r-g>>p)+1;return x>wr&&(x=wr),function(){for(;;){if(m){var T=m();if(T!==Hc)return T;m=null}if(b===x)return Hc;var k=t?--x:b++;m=a(y&&y[k],p-ot,g+(k<<p))}}}}function gl(e,t,n,r,o,s,a){var c=Object.create(qt);return c.size=t-e,c._origin=e,c._capacity=t,c._level=n,c._root=r,c._tail=o,c.__ownerID=s,c.__hash=a,c.__altered=!1,c}function Ud(){return gl(0,0,ot)}function zee(e,t,n){if(t=cs(e,t),t!==t)return e;if(t>=e.size||t<0)return e.withMutations(function(a){t<0?Qi(a,t).set(0,n):Qi(a,0,t+1).set(t,n)});t+=e._origin;var r=e._tail,o=e._root,s=Nv();return t>=ml(e._capacity)?r=Wv(r,e.__ownerID,0,t,n,s):o=Wv(o,e.__ownerID,e._level,t,n,s),s.value?e.__ownerID?(e._root=o,e._tail=r,e.__hash=void 0,e.__altered=!0,e):gl(e._origin,e._capacity,e._level,o,r):e}function Wv(e,t,n,r,o,s){var a=r>>>n&Vn,c=e&&a<e.array.length;if(!c&&o===void 0)return e;var f;if(n>0){var d=e&&e.array[a],p=Wv(d,t,n-ot,r,o,s);return p===d?e:(f=xu(e,t),f.array[a]=p,f)}return c&&e.array[a]===o?e:(s&&Qr(s),f=xu(e,t),o===void 0&&a===f.array.length-1?f.array.pop():f.array[a]=o,f)}function xu(e,t){return t&&e&&t===e.ownerID?e:new os(e?e.array.slice():[],t)}function zP(e,t){if(t>=ml(e._capacity))return e._tail;if(t<1<<e._level+ot){for(var n=e._root,r=e._level;n&&r>0;)n=n.array[t>>>r&Vn],r-=ot;return n}}function Qi(e,t,n){t!==void 0&&(t|=0),n!==void 0&&(n|=0);var r=e.__ownerID||new bb,o=e._origin,s=e._capacity,a=o+t,c=n===void 0?s:n<0?s+n:o+n;if(a===o&&c===s)return e;if(a>=c)return e.clear();for(var f=e._level,d=e._root,p=0;a+p<0;)d=new os(d&&d.array.length?[void 0,d]:[],r),f+=ot,p+=1<<f;p&&(a+=p,o+=p,c+=p,s+=p);for(var g=ml(s),m=ml(c);m>=1<<f+ot;)d=new os(d&&d.array.length?[d]:[],r),f+=ot;var y=e._tail,b=m<g?zP(e,c-1):m>g?new os([],r):y;if(y&&m>g&&a<s&&y.array.length){d=xu(d,r);for(var x=d,T=f;T>ot;T-=ot){var k=g>>>T&Vn;x=x.array[k]=xu(x.array[k],r)}x.array[g>>>ot&Vn]=y}if(c<s&&(b=b&&b.removeAfter(r,0,c)),a>=m)a-=m,c-=m,f=ot,d=null,b=b&&b.removeBefore(r,0,a);else if(a>o||m<g){for(p=0;d;){var L=a>>>f&Vn;if(L!==m>>>f&Vn)break;L&&(p+=(1<<f)*L),f-=ot,d=d.array[L]}d&&a>o&&(d=d.removeBefore(r,f,a-p)),d&&m<g&&(d=d.removeAfter(r,f,m-p)),p&&(a-=p,c-=p)}return e.__ownerID?(e.size=c-a,e._origin=a,e._capacity=c,e._level=f,e._root=d,e._tail=b,e.__hash=void 0,e.__altered=!0,e):gl(a,c,f,d,b)}function ml(e){return e<wr?0:e-1>>>ot<<ot}var ki=function(e){function t(n){return n==null?Lc():_P(n)?n:Lc().withMutations(function(r){var o=oo(n);br(o.size),o.forEach(function(s,a){return r.set(a,s)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("OrderedMap {","}")},t.prototype.get=function(r,o){var s=this._map.get(r);return s!==void 0?this._list.get(s)[1]:o},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this.__altered=!0,this):Lc()},t.prototype.set=function(r,o){return kC(this,r,o)},t.prototype.remove=function(r){return kC(this,r,Be)},t.prototype.__iterate=function(r,o){var s=this;return this._list.__iterate(function(a){return a&&r(a[1],a[0],s)},o)},t.prototype.__iterator=function(r,o){return this._list.fromEntrySeq().__iterator(r,o)},t.prototype.__ensureOwner=function(r){if(r===this.__ownerID)return this;var o=this._map.__ensureOwner(r),s=this._list.__ensureOwner(r);return r?qb(o,s,r,this.__hash):this.size===0?Lc():(this.__ownerID=r,this.__altered=!1,this._map=o,this._list=s,this)},t}(Hu);ki.isOrderedMap=_P;ki.prototype[ls]=!0;ki.prototype[Xl]=ki.prototype.remove;function qb(e,t,n,r){var o=Object.create(ki.prototype);return o.size=e?e.size:0,o._map=e,o._list=t,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}var TC;function Lc(){return TC||(TC=qb(Wo(),Ud()))}function kC(e,t,n){var r=e._map,o=e._list,s=r.get(t),a=s!==void 0,c,f;if(n===Be){if(!a)return e;o.size>=wr&&o.size>=r.size*2?(f=o.filter(function(d,p){return d!==void 0&&s!==p}),c=f.toKeyedSeq().map(function(d){return d[0]}).flip().toMap(),e.__ownerID&&(c.__ownerID=f.__ownerID=e.__ownerID)):(c=r.remove(t),f=s===o.size-1?o.pop():o.set(s,void 0))}else if(a){if(n===o.get(s)[1])return e;c=r,f=o.set(s,[t,n])}else c=r.set(t,o.size),f=o.set(o.size,[t,n]);return e.__ownerID?(e.size=c.size,e._map=c,e._list=f,e.__hash=void 0,e.__altered=!0,e):qb(c,f)}var qP="@@__IMMUTABLE_STACK__@@";function Uv(e){return!!(e&&e[qP])}var Kb=function(e){function t(n){return n==null?hd():Uv(n)?n:hd().pushAll(n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("Stack [","]")},t.prototype.get=function(r,o){var s=this._head;for(r=cs(this,r);s&&r--;)s=s.next;return s?s.value:o},t.prototype.peek=function(){return this._head&&this._head.value},t.prototype.push=function(){var r=arguments;if(arguments.length===0)return this;for(var o=this.size+arguments.length,s=this._head,a=arguments.length-1;a>=0;a--)s={value:r[a],next:s};return this.__ownerID?(this.size=o,this._head=s,this.__hash=void 0,this.__altered=!0,this):Fc(o,s)},t.prototype.pushAll=function(r){if(r=e(r),r.size===0)return this;if(this.size===0&&Uv(r))return r;br(r.size);var o=this.size,s=this._head;return r.__iterate(function(a){o++,s={value:a,next:s}},!0),this.__ownerID?(this.size=o,this._head=s,this.__hash=void 0,this.__altered=!0,this):Fc(o,s)},t.prototype.pop=function(){return this.slice(1)},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):hd()},t.prototype.slice=function(r,o){if(jp(r,o,this.size))return this;var s=Ql(r,this.size),a=Dp(o,this.size);if(a!==this.size)return e.prototype.slice.call(this,r,o);for(var c=this.size-s,f=this._head;s--;)f=f.next;return this.__ownerID?(this.size=c,this._head=f,this.__hash=void 0,this.__altered=!0,this):Fc(c,f)},t.prototype.__ensureOwner=function(r){return r===this.__ownerID?this:r?Fc(this.size,this._head,r,this.__hash):this.size===0?hd():(this.__ownerID=r,this.__altered=!1,this)},t.prototype.__iterate=function(r,o){var s=this;if(o)return new bu(this.toArray()).__iterate(function(f,d){return r(f,d,s)},o);for(var a=0,c=this._head;c&&r(c.value,a++,this)!==!1;)c=c.next;return a},t.prototype.__iterator=function(r,o){if(o)return new bu(this.toArray()).__iterator(r,o);var s=0,a=this._head;return new We(function(){if(a){var c=a.value;return a=a.next,_t(r,s++,c)}return Gn()})},t}(pa);Kb.isStack=Uv;var Jn=Kb.prototype;Jn[qP]=!0;Jn.shift=Jn.pop;Jn.unshift=Jn.push;Jn.unshiftAll=Jn.pushAll;Jn.withMutations=Zl;Jn.wasAltered=Db;Jn.asImmutable=tf;Jn["@@transducer/init"]=Jn.asMutable=ef;Jn["@@transducer/step"]=function(e,t){return e.unshift(t)};Jn["@@transducer/result"]=function(e){return e.asImmutable()};function Fc(e,t,n,r){var o=Object.create(Jn);return o.size=e,o._head=t,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}var OC;function hd(){return OC||(OC=Fc(0))}var KP="@@__IMMUTABLE_SET__@@";function Vb(e){return!!(e&&e[KP])}function VP(e){return Vb(e)&&qo(e)}function HP(e,t){if(e===t)return!0;if(!Or(t)||e.size!==void 0&&t.size!==void 0&&e.size!==t.size||e.__hash!==void 0&&t.__hash!==void 0&&e.__hash!==t.__hash||vt(e)!==vt(t)||ro(e)!==ro(t)||qo(e)!==qo(t))return!1;if(e.size===0&&t.size===0)return!0;var n=!Sb(e);if(qo(e)){var r=e.entries();return t.every(function(f,d){var p=r.next().value;return p&&Er(p[1],f)&&(n||Er(p[0],d))})&&r.next().done}var o=!1;if(e.size===void 0)if(t.size===void 0)typeof e.cacheResult=="function"&&e.cacheResult();else{o=!0;var s=e;e=t,t=s}var a=!0,c=t.__iterate(function(f,d){if(n?!e.has(f):o?!Er(f,e.get(d,Be)):!Er(e.get(d,Be),f))return a=!1,!1});return a&&e.size===c}function ma(e,t){var n=function(r){e.prototype[r]=t[r]};return Object.keys(t).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(n),e}function jh(e){if(!e||typeof e!="object")return e;if(!Or(e)){if(!fs(e))return e;e=sr(e)}if(vt(e)){var t={};return e.__iterate(function(r,o){t[o]=jh(r)}),t}var n=[];return e.__iterate(function(r){n.push(jh(r))}),n}var nf=function(e){function t(n){return n==null?Bc():Vb(n)&&!qo(n)?n:Bc().withMutations(function(r){var o=e(n);br(o.size),o.forEach(function(s){return r.add(s)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(r){return this(oo(r).keySeq())},t.intersect=function(r){return r=Nn(r).toArray(),r.length?bn.intersect.apply(t(r.pop()),r):Bc()},t.union=function(r){return r=Nn(r).toArray(),r.length?bn.union.apply(t(r.pop()),r):Bc()},t.prototype.toString=function(){return this.__toString("Set {","}")},t.prototype.has=function(r){return this._map.has(r)},t.prototype.add=function(r){return pd(this,this._map.set(r,r))},t.prototype.remove=function(r){return pd(this,this._map.remove(r))},t.prototype.clear=function(){return pd(this,this._map.clear())},t.prototype.map=function(r,o){var s=this,a=!1,c=pd(this,this._map.mapEntries(function(f){var d=f[1],p=r.call(o,d,d,s);return p!==d&&(a=!0),[p,p]},o));return a?c:this},t.prototype.union=function(){for(var r=[],o=arguments.length;o--;)r[o]=arguments[o];return r=r.filter(function(s){return s.size!==0}),r.length===0?this:this.size===0&&!this.__ownerID&&r.length===1?this.constructor(r[0]):this.withMutations(function(s){for(var a=0;a<r.length;a++)typeof r[a]=="string"?s.add(r[a]):e(r[a]).forEach(function(c){return s.add(c)})})},t.prototype.intersect=function(){for(var r=[],o=arguments.length;o--;)r[o]=arguments[o];if(r.length===0)return this;r=r.map(function(a){return e(a)});var s=[];return this.forEach(function(a){r.every(function(c){return c.includes(a)})||s.push(a)}),this.withMutations(function(a){s.forEach(function(c){a.remove(c)})})},t.prototype.subtract=function(){for(var r=[],o=arguments.length;o--;)r[o]=arguments[o];if(r.length===0)return this;r=r.map(function(a){return e(a)});var s=[];return this.forEach(function(a){r.some(function(c){return c.includes(a)})&&s.push(a)}),this.withMutations(function(a){s.forEach(function(c){a.remove(c)})})},t.prototype.sort=function(r){return yl(Su(this,r))},t.prototype.sortBy=function(r,o){return yl(Su(this,o,r))},t.prototype.wasAltered=function(){return this._map.wasAltered()},t.prototype.__iterate=function(r,o){var s=this;return this._map.__iterate(function(a){return r(a,a,s)},o)},t.prototype.__iterator=function(r,o){return this._map.__iterator(r,o)},t.prototype.__ensureOwner=function(r){if(r===this.__ownerID)return this;var o=this._map.__ensureOwner(r);return r?this.__make(o,r):this.size===0?this.__empty():(this.__ownerID=r,this._map=o,this)},t}(Uu);nf.isSet=Vb;var bn=nf.prototype;bn[KP]=!0;bn[Xl]=bn.remove;bn.merge=bn.concat=bn.union;bn.withMutations=Zl;bn.asImmutable=tf;bn["@@transducer/init"]=bn.asMutable=ef;bn["@@transducer/step"]=function(e,t){return e.add(t)};bn["@@transducer/result"]=function(e){return e.asImmutable()};bn.__empty=Bc;bn.__make=GP;function pd(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:t.size===0?e.__empty():e.__make(t)}function GP(e,t){var n=Object.create(bn);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}var IC;function Bc(){return IC||(IC=GP(Wo()))}var qee=function(e){function t(n,r,o){if(o===void 0&&(o=1),!(this instanceof t))return new t(n,r,o);if(Vc(o!==0,"Cannot step a Range by 0"),Vc(n!==void 0,"You must define a start value when using Range"),Vc(r!==void 0,"You must define an end value when using Range"),o=Math.abs(o),r<n&&(o=-o),this._start=n,this._end=r,this._step=o,this.size=Math.max(0,Math.ceil((r-n)/o-1)+1),this.size===0){if(ky)return ky;ky=this}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step!==1?" by "+this._step:"")+" ]"},t.prototype.get=function(r,o){return this.has(r)?this._start+cs(this,r)*this._step:o},t.prototype.includes=function(r){var o=(r-this._start)/this._step;return o>=0&&o<this.size&&o===Math.floor(o)},t.prototype.slice=function(r,o){return jp(r,o,this.size)?this:(r=Ql(r,this.size),o=Dp(o,this.size),o<=r?new t(0,0):new t(this.get(r,this._end),this.get(o,this._end),this._step))},t.prototype.indexOf=function(r){var o=r-this._start;if(o%this._step===0){var s=o/this._step;if(s>=0&&s<this.size)return s}return-1},t.prototype.lastIndexOf=function(r){return this.indexOf(r)},t.prototype.__iterate=function(r,o){for(var s=this.size,a=this._step,c=o?this._start+(s-1)*a:this._start,f=0;f!==s&&r(c,o?s-++f:f++,this)!==!1;)c+=o?-a:a;return f},t.prototype.__iterator=function(r,o){var s=this.size,a=this._step,c=o?this._start+(s-1)*a:this._start,f=0;return new We(function(){if(f===s)return Gn();var d=c;return c+=o?-a:a,_t(r,o?s-++f:f++,d)})},t.prototype.equals=function(r){return r instanceof t?this._start===r._start&&this._end===r._end&&this._step===r._step:HP(this,r)},t}(bo),ky;function JP(e,t,n){for(var r=AP(t),o=0;o!==r.length;)if(e=$P(e,r[o++],Be),e===Be)return n;return e}function YP(e,t){return JP(this,e,t)}function Kee(e,t){return JP(e,t,Be)!==Be}function Vee(e){return Kee(this,e)}function XP(){br(this.size);var e={};return this.__iterate(function(t,n){e[n]=t}),e}Nn.Iterator=We;ma(Nn,{toArray:function(){br(this.size);var t=new Array(this.size||0),n=vt(this),r=0;return this.__iterate(function(o,s){t[r++]=n?[s,o]:o}),t},toIndexedSeq:function(){return new SP(this)},toJS:function(){return jh(this)},toKeyedSeq:function(){return new qp(this,!0)},toMap:function(){return Hu(this.toKeyedSeq())},toObject:XP,toOrderedMap:function(){return ki(this.toKeyedSeq())},toOrderedSet:function(){return yl(vt(this)?this.valueSeq():this)},toSet:function(){return nf(vt(this)?this.valueSeq():this)},toSetSeq:function(){return new wP(this)},toSeq:function(){return ro(this)?this.toIndexedSeq():vt(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Kb(vt(this)?this.valueSeq():this)},toList:function(){return Gu(vt(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(t,n){return this.size===0?t+n:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+n},concat:function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return nt(this,wee(this,t))},includes:function(t){return this.some(function(n){return Er(n,t)})},entries:function(){return this.__iterator(Ar)},every:function(t,n){br(this.size);var r=!0;return this.__iterate(function(o,s,a){if(!t.call(n,o,s,a))return r=!1,!1}),r},filter:function(t,n){return nt(this,TP(this,t,n,!0))},partition:function(t,n){return _ee(this,t,n)},find:function(t,n,r){var o=this.findEntry(t,n);return o?o[1]:r},forEach:function(t,n){return br(this.size),this.__iterate(n?t.bind(n):t)},join:function(t){br(this.size),t=t!==void 0?""+t:",";var n="",r=!0;return this.__iterate(function(o){r?r=!1:n+=t,n+=o!=null?o.toString():""}),n},keys:function(){return this.__iterator(zu)},map:function(t,n){return nt(this,CP(this,t,n))},reduce:function(t,n,r){return AC(this,t,n,r,arguments.length<2,!1)},reduceRight:function(t,n,r){return AC(this,t,n,r,arguments.length<2,!0)},reverse:function(){return nt(this,Ob(this,!0))},slice:function(t,n){return nt(this,Ib(this,t,n,!0))},some:function(t,n){br(this.size);var r=!1;return this.__iterate(function(o,s,a){if(t.call(n,o,s,a))return r=!0,!1}),r},sort:function(t){return nt(this,Su(this,t))},values:function(){return this.__iterator(Ir)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(t,n){return _u(t?this.toSeq().filter(t,n):this)},countBy:function(t,n){return yee(this,t,n)},equals:function(t){return HP(this,t)},entrySeq:function(){var t=this;if(t._cache)return new bu(t._cache);var n=t.toSeq().map(Gee).toIndexedSeq();return n.fromEntrySeq=function(){return t.toSeq()},n},filterNot:function(t,n){return this.filter(Oy(t),n)},findEntry:function(t,n,r){var o=r;return this.__iterate(function(s,a,c){if(t.call(n,s,a,c))return o=[a,s],!1}),o},findKey:function(t,n){var r=this.findEntry(t,n);return r&&r[0]},findLast:function(t,n,r){return this.toKeyedSeq().reverse().find(t,n,r)},findLastEntry:function(t,n,r){return this.toKeyedSeq().reverse().findEntry(t,n,r)},findLastKey:function(t,n){return this.toKeyedSeq().reverse().findKey(t,n)},first:function(t){return this.find(uP,null,t)},flatMap:function(t,n){return nt(this,Eee(this,t,n))},flatten:function(t){return nt(this,OP(this,t,!0))},fromEntrySeq:function(){return new EP(this)},get:function(t,n){return this.find(function(r,o){return Er(o,t)},void 0,n)},getIn:YP,groupBy:function(t,n){return vee(this,t,n)},has:function(t){return this.get(t,Be)!==Be},hasIn:Vee,isSubset:function(t){return t=typeof t.includes=="function"?t:Nn(t),this.every(function(n){return t.includes(n)})},isSuperset:function(t){return t=typeof t.isSubset=="function"?t:Nn(t),t.isSubset(this)},keyOf:function(t){return this.findKey(function(n){return Er(n,t)})},keySeq:function(){return this.toSeq().map(Hee).toIndexedSeq()},last:function(t){return this.toSeq().reverse().first(t)},lastKeyOf:function(t){return this.toKeyedSeq().reverse().keyOf(t)},max:function(t){return fd(this,t)},maxBy:function(t,n){return fd(this,n,t)},min:function(t){return fd(this,t?$C(t):PC)},minBy:function(t,n){return fd(this,n?$C(n):PC,t)},rest:function(){return this.slice(1)},skip:function(t){return t===0?this:this.slice(Math.max(0,t))},skipLast:function(t){return t===0?this:this.slice(0,-Math.max(0,t))},skipWhile:function(t,n){return nt(this,kP(this,t,n,!0))},skipUntil:function(t,n){return this.skipWhile(Oy(t),n)},sortBy:function(t,n){return nt(this,Su(this,n,t))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return this.slice(-Math.max(0,t))},takeWhile:function(t,n){return nt(this,bee(this,t,n))},takeUntil:function(t,n){return this.takeWhile(Oy(t),n)},update:function(t){return t(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=Jee(this))}});var Bn=Nn.prototype;Bn[fP]=!0;Bn[Wp]=Bn.values;Bn.toJSON=Bn.toArray;Bn.__toStringMapper=dl;Bn.inspect=Bn.toSource=function(){return this.toString()};Bn.chain=Bn.flatMap;Bn.contains=Bn.includes;ma(oo,{flip:function(){return nt(this,xP(this))},mapEntries:function(t,n){var r=this,o=0;return nt(this,this.toSeq().map(function(s,a){return t.call(n,[a,s],o++,r)}).fromEntrySeq())},mapKeys:function(t,n){var r=this;return nt(this,this.toSeq().flip().map(function(o,s){return t.call(n,o,s,r)}).flip())}});var rf=oo.prototype;rf[Lh]=!0;rf[Wp]=Bn.entries;rf.toJSON=XP;rf.__toStringMapper=function(e,t){return dl(t)+": "+dl(e)};ma(pa,{toKeyedSeq:function(){return new qp(this,!1)},filter:function(t,n){return nt(this,TP(this,t,n,!1))},findIndex:function(t,n){var r=this.findEntry(t,n);return r?r[0]:-1},indexOf:function(t){var n=this.keyOf(t);return n===void 0?-1:n},lastIndexOf:function(t){var n=this.lastKeyOf(t);return n===void 0?-1:n},reverse:function(){return nt(this,Ob(this,!1))},slice:function(t,n){return nt(this,Ib(this,t,n,!1))},splice:function(t,n){var r=arguments.length;if(n=Math.max(n||0,0),r===0||r===2&&!n)return this;t=Ql(t,t<0?this.count():this.size);var o=this.slice(0,t);return nt(this,r===1?o:o.concat(Bo(arguments,2),this.slice(t+n)))},findLastIndex:function(t,n){var r=this.findLastEntry(t,n);return r?r[0]:-1},first:function(t){return this.get(0,t)},flatten:function(t){return nt(this,OP(this,t,!1))},get:function(t,n){return t=cs(this,t),t<0||this.size===1/0||this.size!==void 0&&t>this.size?n:this.find(function(r,o){return o===t},void 0,n)},has:function(t){return t=cs(this,t),t>=0&&(this.size!==void 0?this.size===1/0||t<this.size:this.indexOf(t)!==-1)},interpose:function(t){return nt(this,xee(this,t))},interleave:function(){var t=[this].concat(Bo(arguments)),n=dd(this.toSeq(),bo.of,t),r=n.flatten(!0);return n.size&&(r.size=n.size*t.length),nt(this,r)},keySeq:function(){return qee(0,this.size)},last:function(t){return this.get(-1,t)},skipWhile:function(t,n){return nt(this,kP(this,t,n,!1))},zip:function(){var t=[this].concat(Bo(arguments));return nt(this,dd(this,RC,t))},zipAll:function(){var t=[this].concat(Bo(arguments));return nt(this,dd(this,RC,t,!0))},zipWith:function(t){var n=Bo(arguments);return n[0]=this,nt(this,dd(this,t,n))}});var Ju=pa.prototype;Ju[Fh]=!0;Ju[ls]=!0;ma(Uu,{get:function(t,n){return this.has(t)?t:n},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}});var Cu=Uu.prototype;Cu.has=Bn.includes;Cu.contains=Cu.includes;Cu.keys=Cu.values;ma(gs,rf);ma(bo,Ju);ma(Ku,Cu);function AC(e,t,n,r,o,s){return br(e.size),e.__iterate(function(a,c,f){o?(o=!1,n=a):n=t.call(r,n,a,c,f)},s),n}function Hee(e,t){return t}function Gee(e,t){return[t,e]}function Oy(e){return function(){return!e.apply(this,arguments)}}function $C(e){return function(){return-e.apply(this,arguments)}}function RC(){return Bo(arguments)}function PC(e,t){return e<t?1:e>t?-1:0}function Jee(e){if(e.size===1/0)return 0;var t=qo(e),n=vt(e),r=t?1:0;return e.__iterate(n?t?function(o,s){r=31*r+MC(yr(o),yr(s))|0}:function(o,s){r=r+MC(yr(o),yr(s))|0}:t?function(o){r=31*r+yr(o)|0}:function(o){r=r+yr(o)|0}),Yee(e.size,r)}function Yee(e,t){return t=Oc(t,3432918353),t=Oc(t<<15|t>>>-15,461845907),t=Oc(t<<13|t>>>-13,5),t=(t+3864292196|0)^e,t=Oc(t^t>>>16,2246822507),t=Oc(t^t>>>13,3266489909),t=zp(t^t>>>16),t}function MC(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}var yl=function(e){function t(n){return n==null?zv():VP(n)?n:zv().withMutations(function(r){var o=Uu(n);br(o.size),o.forEach(function(s){return r.add(s)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(r){return this(oo(r).keySeq())},t.prototype.toString=function(){return this.__toString("OrderedSet {","}")},t}(nf);yl.isOrderedSet=VP;var ya=yl.prototype;ya[ls]=!0;ya.zip=Ju.zip;ya.zipWith=Ju.zipWith;ya.zipAll=Ju.zipAll;ya.__empty=zv;ya.__make=QP;function QP(e,t){var n=Object.create(ya);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}var NC;function zv(){return NC||(NC=QP(Lc()))}function Xee(e){if(ga(e))throw new Error("Can not call `Record` with an immutable Record as default values. Use a plain javascript object instead.");if(Qo(e))throw new Error("Can not call `Record` with an immutable Collection as default values. Use a plain javascript object instead.");if(e===null||typeof e!="object")throw new Error("Can not call `Record` with a non-object as default values. Use a plain javascript object instead.")}var sn=function(t,n){var r;Xee(t);var o=function(c){var f=this;if(c instanceof o)return c;if(!(this instanceof o))return new o(c);if(!r){r=!0;var d=Object.keys(t),p=s._indices={};s._name=n,s._keys=d,s._defaultValues=t;for(var g=0;g<d.length;g++){var m=d[g];p[m]=g,s[m]?typeof console=="object"&&console.warn&&console.warn("Cannot define "+Gb(this)+' with property "'+m+'" since that property name is part of the Record API.'):Qee(s,m)}}return this.__ownerID=void 0,this._values=Gu().withMutations(function(y){y.setSize(f._keys.length),oo(c).forEach(function(b,x){y.set(f._indices[x],b===f._defaultValues[x]?void 0:b)})}),this},s=o.prototype=Object.create(ft);return s.constructor=o,n&&(o.displayName=n),o};sn.prototype.toString=function(){for(var t=Gb(this)+" { ",n=this._keys,r,o=0,s=n.length;o!==s;o++)r=n[o],t+=(o?", ":"")+r+": "+dl(this.get(r));return t+" }"};sn.prototype.equals=function(t){return this===t||ga(t)&&Tu(this).equals(Tu(t))};sn.prototype.hashCode=function(){return Tu(this).hashCode()};sn.prototype.has=function(t){return this._indices.hasOwnProperty(t)};sn.prototype.get=function(t,n){if(!this.has(t))return n;var r=this._indices[t],o=this._values.get(r);return o===void 0?this._defaultValues[t]:o};sn.prototype.set=function(t,n){if(this.has(t)){var r=this._values.set(this._indices[t],n===this._defaultValues[t]?void 0:n);if(r!==this._values&&!this.__ownerID)return Hb(this,r)}return this};sn.prototype.remove=function(t){return this.set(t)};sn.prototype.clear=function(){var t=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:Hb(this,t)};sn.prototype.wasAltered=function(){return this._values.wasAltered()};sn.prototype.toSeq=function(){return Tu(this)};sn.prototype.toJS=function(){return jh(this)};sn.prototype.entries=function(){return this.__iterator(Ar)};sn.prototype.__iterator=function(t,n){return Tu(this).__iterator(t,n)};sn.prototype.__iterate=function(t,n){return Tu(this).__iterate(t,n)};sn.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var n=this._values.__ensureOwner(t);return t?Hb(this,n,t):(this.__ownerID=t,this._values=n,this)};sn.isRecord=ga;sn.getDescriptiveName=Gb;var ft=sn.prototype;ft[hP]=!0;ft[Xl]=ft.remove;ft.deleteIn=ft.removeIn=Pb;ft.getIn=YP;ft.hasIn=Bn.hasIn;ft.merge=MP;ft.mergeWith=NP;ft.mergeIn=Bb;ft.mergeDeep=FP;ft.mergeDeepWith=BP;ft.mergeDeepIn=jb;ft.setIn=Rb;ft.update=Mb;ft.updateIn=Nb;ft.withMutations=Zl;ft.asMutable=ef;ft.asImmutable=tf;ft[Wp]=ft.entries;ft.toJSON=ft.toObject=Bn.toObject;ft.inspect=ft.toSource=function(){return this.toString()};function Hb(e,t,n){var r=Object.create(Object.getPrototypeOf(e));return r._values=t,r.__ownerID=n,r}function Gb(e){return e.constructor.displayName||e.constructor.name||"Record"}function Tu(e){return Cb(e._keys.map(function(t){return[t,e.get(t)]}))}function Qee(e,t){try{Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(n){Vc(this.__ownerID,"Cannot set on an immutable record."),this.set(t,n)}})}catch{}}const Zee=e=>{const t=e.useValue(),n=e.useSet();return{add:a=>{n(c=>[...c,a])},remove:a=>{n(c=>c.filter(f=>f!==a))},update:(a,c)=>{n(f=>f.map(d=>d===a?c:d))},values:t}};function ete(e){return new Worker(""+new URL("ControllerWorkerMain.js",import.meta.url).href,{type:"module",name:e==null?void 0:e.name})}const tte=()=>()=>({put:()=>e=>{},useGet:()=>({})}),nte={controller:yb.empty,component:e=>at.createElement("div"),uiStore:tte()},ZP={emptyDevice:nte},rte={findByName:e=>oe(),getByName:e=>ZP.emptyDevice};let Jb=rte;const ote=e=>{const t=te.keyBy(e,o=>o.controller.name),n=o=>Ii(te.get(t,o,void 0));Jb={findByName:n,getByName:o=>Ot(n(o),{onSome:s=>s,onNone:()=>ZP.emptyDevice})}},ite=()=>Jb,ste=()=>Jb,ate={init:ote,useDevices:ste,get:ite},eM=()=>u_("controller:worker"),ute=(e,t,n)=>{const r=`controller:${e.key}:${t.name}`,o=new ete({name:r});nn.info("Creating controller worker",r),o.postMessage(["INIT",t]),bt(F(t.selected.input,is(n.getInput)),()=>nP.empty()).on("*",c=>o.postMessage(["EMITTER",c]));const a=bt(F(t.selected.output,is(n.getOutput)),()=>vb.empty());return o.onmessage=c=>{if(te.isArray(c.data)&&c.data.length==2){const[f,d]=c.data;f==="LISTENER"&&a.send(d)}},o},cte=e=>{const t=SR.virtualEmitter(e).listener,n=ate.get().getByName(e.device).uiStore(e.id).put();t.on("*",n)},lte=e=>{te.forEach(e.controllers,cte)},fte=e=>{const t=_b.state.get();nn.info("Loading Controllers for project",e);const n=te.map(e.controllers,r=>ute(e,r,t));return lte(e),()=>{nn.info("Cleaning up Controllers for project",e),n.map(r=>r.terminate())}};let LC=!1;const dte=()=>{LC||(ve.project.config.subAndInit(e=>Ot(Q0.getActive(e),{onSome:t=>fte(t),onNone:()=>(nn.error("No active project found",e),()=>{})})),eM().listener.on("RELOAD_CONTROLLERS",()=>{ve.project.config.set(e=>te.cloneDeep(e))}),LC=!0)},hte=()=>{nn.info("Sending reload request..."),eM().emitter.emit({type:"RELOAD_CONTROLLERS"})},pte={init:dte,sendReloadRequest:hte},gte=(e,t)=>t>=e.startTime&&(e.endTime===void 0||t<e.endTime),mte=(e,t)=>te.find(e,n=>gte(n,t)),yte=e=>{const t=aM();return at.useMemo(()=>mte(e.clips,t),[t,e])},tM=()=>ve.project.arrangement.useValue(),nM=()=>tM().tracks,rM=e=>nM().find(n=>n.name===e),vte=e=>{const t=rM(e);return t===void 0?OX:t},oM=()=>ve.project.config.useFocus("active").useSet(),Yu=()=>ve.project.config.useFocus("active").useValue(),iM=()=>{const e=Yu(),t=ve.project.config.useValue();return te.find(t.projects,r=>r.key===e)||hb()},_te=()=>{const e=Yu(),t=ve.project.config.useValue(),n=te.findIndex(t.projects,r=>r.key===e);return ve.project.config.useFocus("projects").useArray()[n]},sM=()=>{const e=Yu(),t=ve.project.config.useValue(),n=ve.project.config.useSet(),r=Gu(t.projects),o=r.findIndex(s=>s.key===e);return s=>{const a=o!==void 0?r.set(o,s(t.projects[o])):r;n({active:e,projects:a.toArray()})}},Kp=()=>ve.project.config.useValue(),bte=()=>{const e=sM(),t=Kp();return n=>t.projects.findIndex(o=>o.label===n)===-1?(e(o=>({...o,label:n})),oe()):we(`Project ${n} already exists`)},Ste=()=>{const e=iM(),t={...hb().style,...e.style};return{...t,horizontalGradient:`linear-gradient(to right, ${t.accent.color1}, ${t.accent.color2})`,leftVerticalGradient:`linear-gradient(to bottom, ${t.accent.color1}, ${t.accent.color2})`,rightVerticalGradient:`linear-gradient(to top, ${t.accent.color1}, ${t.accent.color2})`}},wte=()=>Kp(),Ete=()=>{const e=Yu(),t=Kp(),n=te.find(t.projects,r=>r.key===e);if(n!==void 0)return n.label},xte=()=>{const e=ve.project.config.useFocusMemo(t=>t.prop("projects"));return Zee(e)},Cte=()=>ve.project.abletonName.useValue(),Tte=e=>{const t=ve.importStatus.useValue();at.useEffect(()=>e(t),[t])},kte=()=>ve.importStatus.useValue().type!=="done",aM=()=>ve.realTime.beats.useValue(),Ote=()=>ve.realTime.barBeats.useValue(),Ite=()=>ve.realTime.timeSignature.useValue(),Ate=()=>ve.realTime.tempo.useValue(),$te=()=>ve.realTime.isPlaying.useValue(),Rte=()=>ve.realTime.metronomeState.useValue(),Pte=()=>ve.realTime.metronomeState.get(),Mte=()=>ve.realTime.loopState.useValue(),Nte=()=>ve.realTime.loopState.get(),Lte=()=>{const e=Kp(),t=Yu(),n=oM();return r=>{const o=Gu(e.projects).find(s=>s.abletonProject===r);o!==void 0&&r!==t&&n(o.key)}},Fte=()=>()=>{pte.sendReloadRequest()},Ge={useOnStatusChange:Tte,useBeat:aM,useBarBeats:Ote,useTimeSignature:Ite,useTempo:Ate,useIsPlaying:$te,useActiveClip:yte,useArrangement:tM,useProjectsConfig:wte,useProjectsListAtom:xte,useActiveProjectLabel:Ete,useSetActiveProject:oM,useProjectStyle:Ste,useAbletonProjectName:Cte,useSetActiveProjectName:bte,useActiveProjectValue:iM,useActiveProjectName:Yu,useActiveProjectState:_te,useUpdateActiveProject:sM,useTracks:nM,useTrack:vte,useTrackOrUndefined:rM,useMetronomeState:Rte,getMetronomeState:Pte,useLoopState:Mte,getLoopState:Nte,useOnProjectLoad:Lte,useIsProjectLoading:kte,useRefreshProject:Fte},uM=Et.one({name:"metronome-control",schema:ue({color:ee.Schema}),init:()=>({color:ee.BLUE}),component:({target:e,color:t})=>{const n=Pi.useDawEmitter(),r=Ge.useMetronomeState();return J.jsx(Ci,{isFlashing:r,color:t,target:e,onClick:()=>n.send(gn.metronome(!Ge.getMetronomeState())),options:{metronomeState:r}})}}),Bte=Et.one({name:"loop-control",schema:ue({color:ee.Schema}),init:()=>({color:ee.GREEN}),component:({target:e,color:t})=>{const n=Pi.useDawEmitter(),r=Ge.useLoopState();return J.jsx(Ci,{isFlashing:r,color:t,target:e,onClick:()=>n.send(gn.loop(!Ge.getLoopState()))})}}),cM=Et.one({name:"play-stop",schema:ue({playColor:ee.Schema,stopColor:ee.Schema}),init:()=>({playColor:ee.GREEN,stopColor:ee.RED}),component:({target:e,playColor:t,stopColor:n})=>Ge.useIsPlaying()?sP.component({target:e,color:n}):iP.component({target:e,color:t})}),jte=Et.one({name:"metronome",schema:ue({oneColor:ee.Schema,restColor:ee.Schema}),init:()=>({oneColor:ee.GREEN,restColor:ee.RED}),component:({target:e,oneColor:t,restColor:n})=>{const[r,o]=at.useState(ee.BLACK);return at.useEffect(()=>aP.onTick(s=>{!s.halfBeat&&s.isPlaying?o(s.beat===1?t:n):o(ee.BLACK)}),[]),J.jsx("pad",{color:r,target:e})}}),Dte=(e,t,n,r)=>{const o=t+1;return o<=e?o===1?n:r:ee.BLACK},lM=Et.many({name:"beats",schema:ue({oneColor:ee.Schema,restColor:ee.Schema}),init:()=>({oneColor:ee.GREEN,restColor:ee.RED}),component:({targets:e,oneColor:t,restColor:n})=>{const r=Ge.useBarBeats(),o=Ge.useTimeSignature(),s=te.map(e,(a,c)=>J.jsx("pad",{color:Dte(r,c,t,n),target:a,options:{timeSignature:o}},`beat-${c}`));return J.jsx(J.Fragment,{children:s})}}),Wte=Et.many({name:"time-sig-count",schema:ue({color:ee.Schema}),init:()=>({color:ee.BLUE}),component:({targets:e,color:t})=>{const n=Ge.useTimeSignature(),r=e.map((o,s)=>J.jsx("pad",{target:o,color:s+1<=n.noteCount?t:ee.BLACK},`time-sig-count-${s}`));return J.jsx(J.Fragment,{children:r})}}),Ute=Et.many({name:"time-sig-length",schema:ue({color:ee.Schema}),init:()=>({color:ee.PURPLE}),component:({targets:e,color:t})=>{const n=Ge.useTimeSignature(),r=e.map((o,s)=>J.jsx("pad",{target:o,color:s+1<=n.noteLength?t:ee.BLACK},`time-sig-length-${s}`));return J.jsx(J.Fragment,{children:r})}}),fM=Et.many({name:"nav-clips",schema:ue({trackName:it,sort:Pn(Yt("alphabetical","order"))}),init:()=>({trackName:"Nav Clip Track",sort:"order"}),tracks:e=>[e.trackName],component:({targets:e,trackName:t,sort:n})=>{const r=Pi.useDawEmitter(),o=Ge.useArrangement(),s=Ge.useTrack(t),a=Ge.useActiveClip(s),c=at.useMemo(()=>te.fromPairs(te.map(o.cues,y=>[y.time,y])),[o.cues]),f=s.clips.filter(y=>y.type==="real"),d=n==="alphabetical"?f.sort((y,b)=>y.name.localeCompare(b.name)):f,p=at.useMemo(()=>{const y=[];for(let b=0;b<d.length;b++){const x=e==null?void 0:e[b],T=d==null?void 0:d[b];if(T!==void 0&&x!==void 0){const k=c==null?void 0:c[T.startTime];k!==void 0&&y.push({clip:T,cue:k,target:x})}}return y},[s,c,e]),g=y=>{r.send(gn.jumpToCue(y.cue.index))},m=p.map((y,b)=>J.jsx(Ci,{isFlashing:y.clip===a,color:y.clip.color,target:y.target,onClick:()=>g(y),options:{label:y.clip.name}},`song-${b}-${y.clip.name}`));return J.jsx(J.Fragment,{children:m})}}),zte=Et.many({name:"bar-tracker",schema:ue({trackName:it,color:ee.Schema}),init:()=>({trackName:"Track",color:ee.GREEN}),tracks:e=>[e.trackName],component:({targets:e,trackName:t,color:n})=>{const r=Ge.useTrack(t),o=Ge.useBeat(),s=Ge.useBarBeats(),a=Ge.useActiveClip(r),c=Ge.useTimeSignature(),[f,d]=at.useState(0),p=at.useMemo(()=>{if(a.type==="real"){const y=Number(a.name);if(!isNaN(y))return y}return 0},[a]);at.useEffect(()=>{if(s===1&&ER.isReal(a)){const y=Math.floor(o-a.startTime);c.noteLength===4?d(Math.floor(y/c.noteCount)):c.noteLength===8&&(c.noteCount%2===0?d(Math.floor(y/(c.noteCount/2))):y%c.noteCount===0?d(Math.floor(y/c.noteCount)*2):d(Math.floor((y+.5)*2/c.noteCount)))}},[s,o,a,c]);const g=f%p+1,m=e.map((y,b)=>J.jsx(Ci,{color:b<g?n:ee.BLACK,target:y},`bar-tracker-${b}`));return J.jsx(J.Fragment,{children:m})}}),qte=e=>t=>e.type==="real"&&e.endTime!==void 0&&t.startTime<e.endTime,dM=Et.many({name:"track-sections",schema:ue({trackName:it,parentTrackName:it}),init:()=>({trackName:"Track Sections",parentTrackName:"Parent Track Sections"}),tracks:e=>[e.trackName,e.parentTrackName],component:({targets:e,trackName:t,parentTrackName:n=""})=>{const r=Ge.useTrack(t),o=Ge.useActiveClip(r),s=Ge.useTrack(n),a=Ge.useActiveClip(s),c=Ge.useBeat(),f=at.useMemo(()=>{const g=[];return r.clips.forEach(m=>{m.startTime>=o.startTime&&g.push(m)}),g.filter(qte(a))},[r,o,a]),d=at.useMemo(()=>{if(o&&o.endTime!==void 0){const g=o.endTime-o.startTime;return(c-o.startTime)/g*100}else return},[o,c]),p=e.map((g,m)=>{const y=f==null?void 0:f[m],b=y!==void 0&&y.type==="real"?y.color:ee.BLACK,x=y!==void 0&&y.type==="real"?y.name:"";return J.jsx(Ci,{color:b,target:g,options:{label:x,progress:d,isActive:y===o}},`track-sections-${m}`)});return J.jsx(J.Fragment,{children:p})}}),Iy=[void 0,"c#","d#",void 0,"f#","g#","a#"],Ay=["c","d","e","f","g","a","b","c"],Kte=Et.of({name:"keyboard",schema:ue({topTargets:Jo(vr.Schema),bottomTargets:Jo(vr.Schema),trackName:it,topColor:ee.Schema,bottomColor:ee.Schema}),init:()=>({topTargets:[],bottomTargets:[],trackName:"Keyboard Track",topColor:ee.GREEN,bottomColor:ee.RED}),targets:e=>({_tag:"many",targets:[...e.topTargets,...e.bottomTargets]}),inputType:"many",tracks:e=>[e.trackName],component:({topTargets:e,bottomTargets:t,trackName:n,topColor:r,bottomColor:o})=>{const s=Ge.useTrack(n),a=Ge.useActiveClip(s),[c,f]=at.useMemo(()=>ER.isReal(a)?[a.name.toLowerCase(),a.color]:[void 0,void 0],[a]),d=y=>y===void 0||c===void 0?!1:y===c,p=y=>()=>{},g=e.map((y,b)=>{const x=Iy==null?void 0:Iy[b];return J.jsx(Ci,{color:x!==void 0?d(x)&&f!==void 0?f:r:ee.BLACK,target:y,isFlashing:d(x),onClick:p()},`keyboard-top-${b}`)}),m=t.map((y,b)=>{const x=Ay==null?void 0:Ay[b];return J.jsx(Ci,{color:x!==void 0?d(x)&&f!==void 0?f:o:ee.BLACK,target:y,isFlashing:d(x),onClick:p()},`keyboard-bottom-${b}`)});return J.jsxs(J.Fragment,{children:[g,m]})}}),hM=Et.one({name:"button",schema:ue({color:ee.Schema,isFlashing:Rp,midi:Jo(fl.schema),text:Pn(ue({content:it,color:Pn(ee.Schema),size:Pn(it)}))}),init:()=>({color:ee.GREEN,isFlashing:!1,midi:[]}),component:({target:e,color:t,isFlashing:n,midi:r})=>{const o=Pi.useDawEmitter();return J.jsx(Ci,{isFlashing:n,color:t,target:e,onClick:()=>{r.forEach(o.send)}})}}),qv={10927616:74,16149507:84,4047616:76,6441901:69,14402304:99,8754719:19,16725558:5,3947580:71,10056267:10,8237133:18,12026454:11,12565097:73,13381230:58,12243060:111,16249980:13,13013643:4,10208397:88,695438:65,13821080:110,3101346:46,16749734:107,8962746:102,5538020:79,13684944:117,15064289:119,14183652:94,11442405:44,13408551:100,1090798:78,11096369:127,16753961:96,1769263:87,5480241:64,1698303:90,16773172:97,7491393:126,8940772:80,14837594:10,8912743:16,10060650:105,13872497:14,16753524:108,8092539:70,2319236:39,1716118:47,12349846:59,11481907:121,15029152:57,2490280:25,11119017:112,10701741:81,15597486:8,49071:77,10851765:93,12558270:48,32192:43,8758722:103,10204100:104,11958214:55,8623052:66,16726484:95,12581632:86,13958625:28,12173795:115,13482980:116,16777215:3,6094824:33,13496824:114,9611263:92,9160191:36},pM={};for(const e in qv){const t=qv[e];t!==void 0&&(pM[t]=e)}const Vte=e=>te.get(qv,e,void 0),Hte=e=>{const t=te.get(pM,e,void 0);if(t!==void 0)return parseInt(t)},Gte={getNovationColor:Vte,getColorFromNovation:Hte},Jte=Et.one({name:"soft-refresh",schema:ue({color:ee.Schema}),init:()=>({color:ee.PURPLE}),component:({target:e,color:t})=>{const n=Ge.useRefreshProject();return J.jsx("pad",{color:t,target:e,onClick:()=>{n()}})}}),Yte=(e,t)=>e,Xte=gb.of({init:e=>()=>{e.send(fl.sysex([32,41,2,13,14,1]))},render:e=>t=>{const n=[32,41,2,13,3];te.forEach(t,r=>{if(r.color!==void 0){const o=Gte.getNovationColor(r.color);if(o!==void 0)n.push(0,vr.toValue(r.target),o);else{const[s,a,c]=ee.toRGB(Yte(r.color));n.push(3,vr.toValue(r.target),Math.floor(s/2),Math.floor(a/2),Math.floor(c/2))}}}),e.send(fl.sysex(n))},loading:e=>t=>{const n=vr.notes({from:11,to:99}),r=(a,c)=>{const f=Math.floor(c/10),d=c%10;return f<=a+1&&d<=a+1?ee.ROYGBIV[(Math.max(f,d)-1)%7]||ee.WHITE:ee.BLACK};let o=0;const s=setInterval(()=>{const a=o%9;t.render(e)(n.map((c,f)=>({target:c,color:r(a,vr.toValue(c))}))),o++},250);return()=>{clearInterval(s)}},listenFilter:e=>!(e.type==="noteon"&&e.velocity===0||e.type==="cc"&&e.data===0),targets:vr.notes({from:11,to:99})}),Qte=yb.of({name:"Launchpad Mini [MK3]",controller:Xte,widgets:mb([iP,sP,eee,uM,Bte,cM,jte,lM,Wte,Ute,fM,zte,dM,Kte,hM,Jte])}),gM={device:Qte},vl={black:"#000",white:"#fff"},Da={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Wa={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Ua={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},za={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},qa={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},Ic={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},Zte={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function oa(e,...t){const n=new URL(`https://mui.com/production-error/?code=${e}`);return t.forEach(r=>n.searchParams.append("args[]",r)),`Minified MUI error #${e}; visit ${n} for the full message.`}var mM="$$material";function Dh(){return Dh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dh.apply(null,arguments)}function ene(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function tne(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var nne=function(){function e(n){var r=this;this._insertTag=function(o){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(o,s),r.tags.push(o)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(tne(this));var o=this.tags[this.tags.length-1];if(this.isSpeedy){var s=ene(o);try{s.insertRule(r,s.cssRules.length)}catch{}}else o.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){var o;return(o=r.parentNode)==null?void 0:o.removeChild(r)}),this.tags=[],this.ctr=0},e}(),An="-ms-",Wh="-moz-",qe="-webkit-",yM="comm",Yb="rule",Xb="decl",rne="@import",vM="@keyframes",one="@layer",ine=Math.abs,Vp=String.fromCharCode,sne=Object.assign;function ane(e,t){return yn(e,0)^45?(((t<<2^yn(e,0))<<2^yn(e,1))<<2^yn(e,2))<<2^yn(e,3):0}function _M(e){return e.trim()}function une(e,t){return(e=t.exec(e))?e[0]:e}function Ke(e,t,n){return e.replace(t,n)}function Kv(e,t){return e.indexOf(t)}function yn(e,t){return e.charCodeAt(t)|0}function _l(e,t,n){return e.slice(t,n)}function No(e){return e.length}function Qb(e){return e.length}function gd(e,t){return t.push(e),e}function cne(e,t){return e.map(t).join("")}var Hp=1,ku=1,bM=0,ar=0,Wt=0,Xu="";function Gp(e,t,n,r,o,s,a){return{value:e,root:t,parent:n,type:r,props:o,children:s,line:Hp,column:ku,length:a,return:""}}function Ac(e,t){return sne(Gp("",null,null,"",null,null,0),e,{length:-e.length},t)}function lne(){return Wt}function fne(){return Wt=ar>0?yn(Xu,--ar):0,ku--,Wt===10&&(ku=1,Hp--),Wt}function xr(){return Wt=ar<bM?yn(Xu,ar++):0,ku++,Wt===10&&(ku=1,Hp++),Wt}function Ko(){return yn(Xu,ar)}function zd(){return ar}function of(e,t){return _l(Xu,e,t)}function bl(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function SM(e){return Hp=ku=1,bM=No(Xu=e),ar=0,[]}function wM(e){return Xu="",e}function qd(e){return _M(of(ar-1,Vv(e===91?e+2:e===40?e+1:e)))}function dne(e){for(;(Wt=Ko())&&Wt<33;)xr();return bl(e)>2||bl(Wt)>3?"":" "}function hne(e,t){for(;--t&&xr()&&!(Wt<48||Wt>102||Wt>57&&Wt<65||Wt>70&&Wt<97););return of(e,zd()+(t<6&&Ko()==32&&xr()==32))}function Vv(e){for(;xr();)switch(Wt){case e:return ar;case 34:case 39:e!==34&&e!==39&&Vv(Wt);break;case 40:e===41&&Vv(e);break;case 92:xr();break}return ar}function pne(e,t){for(;xr()&&e+Wt!==57;)if(e+Wt===84&&Ko()===47)break;return"/*"+of(t,ar-1)+"*"+Vp(e===47?e:xr())}function gne(e){for(;!bl(Ko());)xr();return of(e,ar)}function mne(e){return wM(Kd("",null,null,null,[""],e=SM(e),0,[0],e))}function Kd(e,t,n,r,o,s,a,c,f){for(var d=0,p=0,g=a,m=0,y=0,b=0,x=1,T=1,k=1,L=0,N="",R=o,W=s,j=r,A=N;T;)switch(b=L,L=xr()){case 40:if(b!=108&&yn(A,g-1)==58){Kv(A+=Ke(qd(L),"&","&\f"),"&\f")!=-1&&(k=-1);break}case 34:case 39:case 91:A+=qd(L);break;case 9:case 10:case 13:case 32:A+=dne(b);break;case 92:A+=hne(zd()-1,7);continue;case 47:switch(Ko()){case 42:case 47:gd(yne(pne(xr(),zd()),t,n),f);break;default:A+="/"}break;case 123*x:c[d++]=No(A)*k;case 125*x:case 59:case 0:switch(L){case 0:case 125:T=0;case 59+p:k==-1&&(A=Ke(A,/\f/g,"")),y>0&&No(A)-g&&gd(y>32?BC(A+";",r,n,g-1):BC(Ke(A," ","")+";",r,n,g-2),f);break;case 59:A+=";";default:if(gd(j=FC(A,t,n,d,p,o,c,N,R=[],W=[],g),s),L===123)if(p===0)Kd(A,t,j,j,R,s,g,c,W);else switch(m===99&&yn(A,3)===110?100:m){case 100:case 108:case 109:case 115:Kd(e,j,j,r&&gd(FC(e,j,j,0,0,o,c,N,o,R=[],g),W),o,W,g,c,r?R:W);break;default:Kd(A,j,j,j,[""],W,0,c,W)}}d=p=y=0,x=k=1,N=A="",g=a;break;case 58:g=1+No(A),y=b;default:if(x<1){if(L==123)--x;else if(L==125&&x++==0&&fne()==125)continue}switch(A+=Vp(L),L*x){case 38:k=p>0?1:(A+="\f",-1);break;case 44:c[d++]=(No(A)-1)*k,k=1;break;case 64:Ko()===45&&(A+=qd(xr())),m=Ko(),p=g=No(N=A+=gne(zd())),L++;break;case 45:b===45&&No(A)==2&&(x=0)}}return s}function FC(e,t,n,r,o,s,a,c,f,d,p){for(var g=o-1,m=o===0?s:[""],y=Qb(m),b=0,x=0,T=0;b<r;++b)for(var k=0,L=_l(e,g+1,g=ine(x=a[b])),N=e;k<y;++k)(N=_M(x>0?m[k]+" "+L:Ke(L,/&\f/g,m[k])))&&(f[T++]=N);return Gp(e,t,n,o===0?Yb:c,f,d,p)}function yne(e,t,n){return Gp(e,t,n,yM,Vp(lne()),_l(e,2,-2),0)}function BC(e,t,n,r){return Gp(e,t,n,Xb,_l(e,0,r),_l(e,r+1,-1),r)}function tu(e,t){for(var n="",r=Qb(e),o=0;o<r;o++)n+=t(e[o],o,e,t)||"";return n}function vne(e,t,n,r){switch(e.type){case one:if(e.children.length)break;case rne:case Xb:return e.return=e.return||e.value;case yM:return"";case vM:return e.return=e.value+"{"+tu(e.children,r)+"}";case Yb:e.value=e.props.join(",")}return No(n=tu(e.children,r))?e.return=e.value+"{"+n+"}":""}function _ne(e){var t=Qb(e);return function(n,r,o,s){for(var a="",c=0;c<t;c++)a+=e[c](n,r,o,s)||"";return a}}function bne(e){return function(t){t.root||(t=t.return)&&e(t)}}function EM(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var Sne=function(t,n,r){for(var o=0,s=0;o=s,s=Ko(),o===38&&s===12&&(n[r]=1),!bl(s);)xr();return of(t,ar)},wne=function(t,n){var r=-1,o=44;do switch(bl(o)){case 0:o===38&&Ko()===12&&(n[r]=1),t[r]+=Sne(ar-1,n,r);break;case 2:t[r]+=qd(o);break;case 4:if(o===44){t[++r]=Ko()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=Vp(o)}while(o=xr());return t},Ene=function(t,n){return wM(wne(SM(t),n))},jC=new WeakMap,xne=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,o=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!jC.get(r))&&!o){jC.set(t,!0);for(var s=[],a=Ene(n,s),c=r.props,f=0,d=0;f<a.length;f++)for(var p=0;p<c.length;p++,d++)t.props[d]=s[f]?a[f].replace(/&\f/g,c[p]):c[p]+" "+a[f]}}},Cne=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function xM(e,t){switch(ane(e,t)){case 5103:return qe+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return qe+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return qe+e+Wh+e+An+e+e;case 6828:case 4268:return qe+e+An+e+e;case 6165:return qe+e+An+"flex-"+e+e;case 5187:return qe+e+Ke(e,/(\w+).+(:[^]+)/,qe+"box-$1$2"+An+"flex-$1$2")+e;case 5443:return qe+e+An+"flex-item-"+Ke(e,/flex-|-self/,"")+e;case 4675:return qe+e+An+"flex-line-pack"+Ke(e,/align-content|flex-|-self/,"")+e;case 5548:return qe+e+An+Ke(e,"shrink","negative")+e;case 5292:return qe+e+An+Ke(e,"basis","preferred-size")+e;case 6060:return qe+"box-"+Ke(e,"-grow","")+qe+e+An+Ke(e,"grow","positive")+e;case 4554:return qe+Ke(e,/([^-])(transform)/g,"$1"+qe+"$2")+e;case 6187:return Ke(Ke(Ke(e,/(zoom-|grab)/,qe+"$1"),/(image-set)/,qe+"$1"),e,"")+e;case 5495:case 3959:return Ke(e,/(image-set\([^]*)/,qe+"$1$`$1");case 4968:return Ke(Ke(e,/(.+:)(flex-)?(.*)/,qe+"box-pack:$3"+An+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+qe+e+e;case 4095:case 3583:case 4068:case 2532:return Ke(e,/(.+)-inline(.+)/,qe+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(No(e)-1-t>6)switch(yn(e,t+1)){case 109:if(yn(e,t+4)!==45)break;case 102:return Ke(e,/(.+:)(.+)-([^]+)/,"$1"+qe+"$2-$3$1"+Wh+(yn(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~Kv(e,"stretch")?xM(Ke(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(yn(e,t+1)!==115)break;case 6444:switch(yn(e,No(e)-3-(~Kv(e,"!important")&&10))){case 107:return Ke(e,":",":"+qe)+e;case 101:return Ke(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+qe+(yn(e,14)===45?"inline-":"")+"box$3$1"+qe+"$2$3$1"+An+"$2box$3")+e}break;case 5936:switch(yn(e,t+11)){case 114:return qe+e+An+Ke(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return qe+e+An+Ke(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return qe+e+An+Ke(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return qe+e+An+e+e}return e}var Tne=function(t,n,r,o){if(t.length>-1&&!t.return)switch(t.type){case Xb:t.return=xM(t.value,t.length);break;case vM:return tu([Ac(t,{value:Ke(t.value,"@","@"+qe)})],o);case Yb:if(t.length)return cne(t.props,function(s){switch(une(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return tu([Ac(t,{props:[Ke(s,/:(read-\w+)/,":"+Wh+"$1")]})],o);case"::placeholder":return tu([Ac(t,{props:[Ke(s,/:(plac\w+)/,":"+qe+"input-$1")]}),Ac(t,{props:[Ke(s,/:(plac\w+)/,":"+Wh+"$1")]}),Ac(t,{props:[Ke(s,/:(plac\w+)/,An+"input-$1")]})],o)}return""})}},kne=[Tne],One=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(x){var T=x.getAttribute("data-emotion");T.indexOf(" ")!==-1&&(document.head.appendChild(x),x.setAttribute("data-s",""))})}var o=t.stylisPlugins||kne,s={},a,c=[];a=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(x){for(var T=x.getAttribute("data-emotion").split(" "),k=1;k<T.length;k++)s[T[k]]=!0;c.push(x)});var f,d=[xne,Cne];{var p,g=[vne,bne(function(x){p.insert(x)})],m=_ne(d.concat(o,g)),y=function(T){return tu(mne(T),m)};f=function(T,k,L,N){p=L,y(T?T+"{"+k.styles+"}":k.styles),N&&(b.inserted[k.name]=!0)}}var b={key:n,sheet:new nne({key:n,container:a,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:s,registered:{},insert:f};return b.sheet.hydrate(c),b},CM={exports:{}},Ye={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var an=typeof Symbol=="function"&&Symbol.for,Zb=an?Symbol.for("react.element"):60103,eS=an?Symbol.for("react.portal"):60106,Jp=an?Symbol.for("react.fragment"):60107,Yp=an?Symbol.for("react.strict_mode"):60108,Xp=an?Symbol.for("react.profiler"):60114,Qp=an?Symbol.for("react.provider"):60109,Zp=an?Symbol.for("react.context"):60110,tS=an?Symbol.for("react.async_mode"):60111,eg=an?Symbol.for("react.concurrent_mode"):60111,tg=an?Symbol.for("react.forward_ref"):60112,ng=an?Symbol.for("react.suspense"):60113,Ine=an?Symbol.for("react.suspense_list"):60120,rg=an?Symbol.for("react.memo"):60115,og=an?Symbol.for("react.lazy"):60116,Ane=an?Symbol.for("react.block"):60121,$ne=an?Symbol.for("react.fundamental"):60117,Rne=an?Symbol.for("react.responder"):60118,Pne=an?Symbol.for("react.scope"):60119;function Pr(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Zb:switch(e=e.type,e){case tS:case eg:case Jp:case Xp:case Yp:case ng:return e;default:switch(e=e&&e.$$typeof,e){case Zp:case tg:case og:case rg:case Qp:return e;default:return t}}case eS:return t}}}function TM(e){return Pr(e)===eg}Ye.AsyncMode=tS;Ye.ConcurrentMode=eg;Ye.ContextConsumer=Zp;Ye.ContextProvider=Qp;Ye.Element=Zb;Ye.ForwardRef=tg;Ye.Fragment=Jp;Ye.Lazy=og;Ye.Memo=rg;Ye.Portal=eS;Ye.Profiler=Xp;Ye.StrictMode=Yp;Ye.Suspense=ng;Ye.isAsyncMode=function(e){return TM(e)||Pr(e)===tS};Ye.isConcurrentMode=TM;Ye.isContextConsumer=function(e){return Pr(e)===Zp};Ye.isContextProvider=function(e){return Pr(e)===Qp};Ye.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Zb};Ye.isForwardRef=function(e){return Pr(e)===tg};Ye.isFragment=function(e){return Pr(e)===Jp};Ye.isLazy=function(e){return Pr(e)===og};Ye.isMemo=function(e){return Pr(e)===rg};Ye.isPortal=function(e){return Pr(e)===eS};Ye.isProfiler=function(e){return Pr(e)===Xp};Ye.isStrictMode=function(e){return Pr(e)===Yp};Ye.isSuspense=function(e){return Pr(e)===ng};Ye.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Jp||e===eg||e===Xp||e===Yp||e===ng||e===Ine||typeof e=="object"&&e!==null&&(e.$$typeof===og||e.$$typeof===rg||e.$$typeof===Qp||e.$$typeof===Zp||e.$$typeof===tg||e.$$typeof===$ne||e.$$typeof===Rne||e.$$typeof===Pne||e.$$typeof===Ane)};Ye.typeOf=Pr;CM.exports=Ye;var Mne=CM.exports,kM=Mne,Nne={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Lne={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},OM={};OM[kM.ForwardRef]=Nne;OM[kM.Memo]=Lne;var Fne=!0;function IM(e,t,n){var r="";return n.split(" ").forEach(function(o){e[o]!==void 0?t.push(e[o]+";"):o&&(r+=o+" ")}),r}var nS=function(t,n,r){var o=t.key+"-"+n.name;(r===!1||Fne===!1)&&t.registered[o]===void 0&&(t.registered[o]=n.styles)},AM=function(t,n,r){nS(t,n,r);var o=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var s=n;do t.insert(n===s?"."+o:"",s,t.sheet,!0),s=s.next;while(s!==void 0)}};function Bne(e){for(var t=0,n,r=0,o=e.length;o>=4;++r,o-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(o){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var jne={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Dne=/[A-Z]|^ms/g,Wne=/_EMO_([^_]+?)_([^]*?)_EMO_/g,$M=function(t){return t.charCodeAt(1)===45},DC=function(t){return t!=null&&typeof t!="boolean"},$y=EM(function(e){return $M(e)?e:e.replace(Dne,"-$&").toLowerCase()}),WC=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(Wne,function(r,o,s){return Lo={name:o,styles:s,next:Lo},o})}return jne[t]!==1&&!$M(t)&&typeof n=="number"&&n!==0?n+"px":n};function Sl(e,t,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var o=n;if(o.anim===1)return Lo={name:o.name,styles:o.styles,next:Lo},o.name;var s=n;if(s.styles!==void 0){var a=s.next;if(a!==void 0)for(;a!==void 0;)Lo={name:a.name,styles:a.styles,next:Lo},a=a.next;var c=s.styles+";";return c}return Une(e,t,n)}case"function":{if(e!==void 0){var f=Lo,d=n(e);return Lo=f,Sl(e,t,d)}break}}var p=n;if(t==null)return p;var g=t[p];return g!==void 0?g:p}function Une(e,t,n){var r="";if(Array.isArray(n))for(var o=0;o<n.length;o++)r+=Sl(e,t,n[o])+";";else for(var s in n){var a=n[s];if(typeof a!="object"){var c=a;t!=null&&t[c]!==void 0?r+=s+"{"+t[c]+"}":DC(c)&&(r+=$y(s)+":"+WC(s,c)+";")}else if(Array.isArray(a)&&typeof a[0]=="string"&&(t==null||t[a[0]]===void 0))for(var f=0;f<a.length;f++)DC(a[f])&&(r+=$y(s)+":"+WC(s,a[f])+";");else{var d=Sl(e,t,a);switch(s){case"animation":case"animationName":{r+=$y(s)+":"+d+";";break}default:r+=s+"{"+d+"}"}}}return r}var UC=/label:\s*([^\s;{]+)\s*(;|$)/g,Lo;function ig(e,t,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var r=!0,o="";Lo=void 0;var s=e[0];if(s==null||s.raw===void 0)r=!1,o+=Sl(n,t,s);else{var a=s;o+=a[0]}for(var c=1;c<e.length;c++)if(o+=Sl(n,t,e[c]),r){var f=s;o+=f[c]}UC.lastIndex=0;for(var d="",p;(p=UC.exec(o))!==null;)d+="-"+p[1];var g=Bne(o)+d;return{name:g,styles:o,next:Lo}}var zne=function(t){return t()},qne=Mv.useInsertionEffect?Mv.useInsertionEffect:!1,RM=qne||zne,PM=G.createContext(typeof HTMLElement<"u"?One({key:"css"}):null);PM.Provider;var MM=function(t){return G.forwardRef(function(n,r){var o=G.useContext(PM);return t(n,o,r)})},rS=G.createContext({}),oS={}.hasOwnProperty,Hv="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Kne=function(t,n){var r={};for(var o in n)oS.call(n,o)&&(r[o]=n[o]);return r[Hv]=t,r},Vne=function(t){var n=t.cache,r=t.serialized,o=t.isStringTag;return nS(n,r,o),RM(function(){return AM(n,r,o)}),null},Hne=MM(function(e,t,n){var r=e.css;typeof r=="string"&&t.registered[r]!==void 0&&(r=t.registered[r]);var o=e[Hv],s=[r],a="";typeof e.className=="string"?a=IM(t.registered,s,e.className):e.className!=null&&(a=e.className+" ");var c=ig(s,void 0,G.useContext(rS));a+=t.key+"-"+c.name;var f={};for(var d in e)oS.call(e,d)&&d!=="css"&&d!==Hv&&(f[d]=e[d]);return f.className=a,n&&(f.ref=n),G.createElement(G.Fragment,null,G.createElement(Vne,{cache:t,serialized:c,isStringTag:typeof o=="string"}),G.createElement(o,f))}),Gne=Hne,zC=function(t,n){var r=arguments;if(n==null||!oS.call(n,"css"))return G.createElement.apply(void 0,r);var o=r.length,s=new Array(o);s[0]=Gne,s[1]=Kne(t,n);for(var a=2;a<o;a++)s[a]=r[a];return G.createElement.apply(null,s)};(function(e){var t;t||(t=e.JSX||(e.JSX={}))})(zC||(zC={}));function iS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ig(t)}function sf(){var e=iS.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var Jne=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Yne=EM(function(e){return Jne.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),Xne=Yne,Qne=function(t){return t!=="theme"},qC=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?Xne:Qne},KC=function(t,n,r){var o;if(n){var s=n.shouldForwardProp;o=t.__emotion_forwardProp&&s?function(a){return t.__emotion_forwardProp(a)&&s(a)}:s}return typeof o!="function"&&r&&(o=t.__emotion_forwardProp),o},Zne=function(t){var n=t.cache,r=t.serialized,o=t.isStringTag;return nS(n,r,o),RM(function(){return AM(n,r,o)}),null},ere=function e(t,n){var r=t.__emotion_real===t,o=r&&t.__emotion_base||t,s,a;n!==void 0&&(s=n.label,a=n.target);var c=KC(t,n,r),f=c||qC(o),d=!f("as");return function(){var p=arguments,g=r&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(s!==void 0&&g.push("label:"+s+";"),p[0]==null||p[0].raw===void 0)g.push.apply(g,p);else{var m=p[0];g.push(m[0]);for(var y=p.length,b=1;b<y;b++)g.push(p[b],m[b])}var x=MM(function(T,k,L){var N=d&&T.as||o,R="",W=[],j=T;if(T.theme==null){j={};for(var A in T)j[A]=T[A];j.theme=G.useContext(rS)}typeof T.className=="string"?R=IM(k.registered,W,T.className):T.className!=null&&(R=T.className+" ");var U=ig(g.concat(W),k.registered,j);R+=k.key+"-"+U.name,a!==void 0&&(R+=" "+a);var K=d&&c===void 0?qC(N):f,S={};for(var M in T)d&&M==="as"||K(M)&&(S[M]=T[M]);return S.className=R,L&&(S.ref=L),G.createElement(G.Fragment,null,G.createElement(Zne,{cache:k,serialized:U,isStringTag:typeof N=="string"}),G.createElement(N,S))});return x.displayName=s!==void 0?s:"Styled("+(typeof o=="string"?o:o.displayName||o.name||"Component")+")",x.defaultProps=t.defaultProps,x.__emotion_real=x,x.__emotion_base=o,x.__emotion_styles=g,x.__emotion_forwardProp=c,Object.defineProperty(x,"toString",{value:function(){return"."+a}}),x.withComponent=function(T,k){var L=e(T,Dh({},n,k,{shouldForwardProp:KC(x,k,!0)}));return L.apply(void 0,g)},x}},tre=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Gv=ere.bind(null);tre.forEach(function(e){Gv[e]=Gv(e)});/**
 * @mui/styled-engine v6.4.9
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function NM(e,t){return Gv(e,t)}function nre(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}const VC=[];function HC(e){return VC[0]=e,ig(VC)}var LM={exports:{}},ut={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sS=Symbol.for("react.transitional.element"),aS=Symbol.for("react.portal"),sg=Symbol.for("react.fragment"),ag=Symbol.for("react.strict_mode"),ug=Symbol.for("react.profiler"),cg=Symbol.for("react.consumer"),lg=Symbol.for("react.context"),fg=Symbol.for("react.forward_ref"),dg=Symbol.for("react.suspense"),hg=Symbol.for("react.suspense_list"),pg=Symbol.for("react.memo"),gg=Symbol.for("react.lazy"),rre=Symbol.for("react.offscreen"),ore=Symbol.for("react.client.reference");function io(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case sS:switch(e=e.type,e){case sg:case ug:case ag:case dg:case hg:return e;default:switch(e=e&&e.$$typeof,e){case lg:case fg:case gg:case pg:return e;case cg:return e;default:return t}}case aS:return t}}}ut.ContextConsumer=cg;ut.ContextProvider=lg;ut.Element=sS;ut.ForwardRef=fg;ut.Fragment=sg;ut.Lazy=gg;ut.Memo=pg;ut.Portal=aS;ut.Profiler=ug;ut.StrictMode=ag;ut.Suspense=dg;ut.SuspenseList=hg;ut.isContextConsumer=function(e){return io(e)===cg};ut.isContextProvider=function(e){return io(e)===lg};ut.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===sS};ut.isForwardRef=function(e){return io(e)===fg};ut.isFragment=function(e){return io(e)===sg};ut.isLazy=function(e){return io(e)===gg};ut.isMemo=function(e){return io(e)===pg};ut.isPortal=function(e){return io(e)===aS};ut.isProfiler=function(e){return io(e)===ug};ut.isStrictMode=function(e){return io(e)===ag};ut.isSuspense=function(e){return io(e)===dg};ut.isSuspenseList=function(e){return io(e)===hg};ut.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===sg||e===ug||e===ag||e===dg||e===hg||e===rre||typeof e=="object"&&e!==null&&(e.$$typeof===gg||e.$$typeof===pg||e.$$typeof===lg||e.$$typeof===cg||e.$$typeof===fg||e.$$typeof===ore||e.getModuleId!==void 0)};ut.typeOf=io;LM.exports=ut;var FM=LM.exports;function jo(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function BM(e){if(G.isValidElement(e)||FM.isValidElementType(e)||!jo(e))return e;const t={};return Object.keys(e).forEach(n=>{t[n]=BM(e[n])}),t}function Cr(e,t,n={clone:!0}){const r=n.clone?{...e}:e;return jo(e)&&jo(t)&&Object.keys(t).forEach(o=>{G.isValidElement(t[o])||FM.isValidElementType(t[o])?r[o]=t[o]:jo(t[o])&&Object.prototype.hasOwnProperty.call(e,o)&&jo(e[o])?r[o]=Cr(e[o],t[o],n):n.clone?r[o]=jo(t[o])?BM(t[o]):t[o]:r[o]=t[o]}),r}const ire=e=>{const t=Object.keys(e).map(n=>({key:n,val:e[n]}))||[];return t.sort((n,r)=>n.val-r.val),t.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function sre(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...o}=e,s=ire(t),a=Object.keys(s);function c(m){return`@media (min-width:${typeof t[m]=="number"?t[m]:m}${n})`}function f(m){return`@media (max-width:${(typeof t[m]=="number"?t[m]:m)-r/100}${n})`}function d(m,y){const b=a.indexOf(y);return`@media (min-width:${typeof t[m]=="number"?t[m]:m}${n}) and (max-width:${(b!==-1&&typeof t[a[b]]=="number"?t[a[b]]:y)-r/100}${n})`}function p(m){return a.indexOf(m)+1<a.length?d(m,a[a.indexOf(m)+1]):c(m)}function g(m){const y=a.indexOf(m);return y===0?c(a[1]):y===a.length-1?f(a[y]):d(m,a[a.indexOf(m)+1]).replace("@media","@media not all and")}return{keys:a,values:s,up:c,down:f,between:d,only:p,not:g,unit:n,...o}}function are(e,t){if(!e.containerQueries)return t;const n=Object.keys(t).filter(r=>r.startsWith("@container")).sort((r,o)=>{var a,c;const s=/min-width:\s*([0-9.]+)/;return+(((a=r.match(s))==null?void 0:a[1])||0)-+(((c=o.match(s))==null?void 0:c[1])||0)});return n.length?n.reduce((r,o)=>{const s=t[o];return delete r[o],r[o]=s,r},{...t}):t}function ure(e,t){return t==="@"||t.startsWith("@")&&(e.some(n=>t.startsWith(`@${n}`))||!!t.match(/^@\d/))}function cre(e,t){const n=t.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,o]=n,s=Number.isNaN(+r)?r||0:+r;return e.containerQueries(o).up(s)}function lre(e){const t=(s,a)=>s.replace("@media",a?`@container ${a}`:"@container");function n(s,a){s.up=(...c)=>t(e.breakpoints.up(...c),a),s.down=(...c)=>t(e.breakpoints.down(...c),a),s.between=(...c)=>t(e.breakpoints.between(...c),a),s.only=(...c)=>t(e.breakpoints.only(...c),a),s.not=(...c)=>{const f=t(e.breakpoints.not(...c),a);return f.includes("not all and")?f.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):f}}const r={},o=s=>(n(r,s),r);return n(o),{...e,containerQueries:o}}const fre={borderRadius:4};function Gc(e,t){return t?Cr(e,t,{clone:!1}):e}const mg={xs:0,sm:600,md:900,lg:1200,xl:1536},GC={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${mg[e]}px)`},dre={containerQueries:e=>({up:t=>{let n=typeof t=="number"?t:mg[t]||t;return typeof n=="number"&&(n=`${n}px`),e?`@container ${e} (min-width:${n})`:`@container (min-width:${n})`}})};function Oi(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const s=r.breakpoints||GC;return t.reduce((a,c,f)=>(a[s.up(s.keys[f])]=n(t[f]),a),{})}if(typeof t=="object"){const s=r.breakpoints||GC;return Object.keys(t).reduce((a,c)=>{if(ure(s.keys,c)){const f=cre(r.containerQueries?r:dre,c);f&&(a[f]=n(t[c],c))}else if(Object.keys(s.values||mg).includes(c)){const f=s.up(c);a[f]=n(t[c],c)}else{const f=c;a[f]=t[f]}return a},{})}return n(t)}function hre(e={}){var n;return((n=e.keys)==null?void 0:n.reduce((r,o)=>{const s=e.up(o);return r[s]={},r},{}))||{}}function pre(e,t){return e.reduce((n,r)=>{const o=n[r];return(!o||Object.keys(o).length===0)&&delete n[r],n},t)}function Ve(e){if(typeof e!="string")throw new Error(oa(7));return e.charAt(0).toUpperCase()+e.slice(1)}function yg(e,t,n=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&n){const r=`vars.${t}`.split(".").reduce((o,s)=>o&&o[s]?o[s]:null,e);if(r!=null)return r}return t.split(".").reduce((r,o)=>r&&r[o]!=null?r[o]:null,e)}function Uh(e,t,n,r=n){let o;return typeof e=="function"?o=e(n):Array.isArray(e)?o=e[n]||r:o=yg(e,n)||r,t&&(o=t(o,r,e)),o}function Ft(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:o}=e,s=a=>{if(a[t]==null)return null;const c=a[t],f=a.theme,d=yg(f,r)||{};return Oi(a,c,g=>{let m=Uh(d,o,g);return g===m&&typeof g=="string"&&(m=Uh(d,o,`${t}${g==="default"?"":Ve(g)}`,g)),n===!1?m:{[n]:m}})};return s.propTypes={},s.filterProps=[t],s}function gre(e){const t={};return n=>(t[n]===void 0&&(t[n]=e(n)),t[n])}const mre={m:"margin",p:"padding"},yre={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},JC={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},vre=gre(e=>{if(e.length>2)if(JC[e])e=JC[e];else return[e];const[t,n]=e.split(""),r=mre[t],o=yre[n]||"";return Array.isArray(o)?o.map(s=>r+s):[r+o]}),uS=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],cS=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...uS,...cS];function af(e,t,n,r){const o=yg(e,t,!0)??n;return typeof o=="number"||typeof o=="string"?s=>typeof s=="string"?s:typeof o=="string"?`calc(${s} * ${o})`:o*s:Array.isArray(o)?s=>{if(typeof s=="string")return s;const a=Math.abs(s),c=o[a];return s>=0?c:typeof c=="number"?-c:`-${c}`}:typeof o=="function"?o:()=>{}}function lS(e){return af(e,"spacing",8)}function uf(e,t){return typeof t=="string"||t==null?t:e(t)}function _re(e,t){return n=>e.reduce((r,o)=>(r[o]=uf(t,n),r),{})}function bre(e,t,n,r){if(!t.includes(n))return null;const o=vre(n),s=_re(o,r),a=e[n];return Oi(e,a,s)}function jM(e,t){const n=lS(e.theme);return Object.keys(e).map(r=>bre(e,t,r,n)).reduce(Gc,{})}function Ct(e){return jM(e,uS)}Ct.propTypes={};Ct.filterProps=uS;function Tt(e){return jM(e,cS)}Tt.propTypes={};Tt.filterProps=cS;function DM(e=8,t=lS({spacing:e})){if(e.mui)return e;const n=(...r)=>(r.length===0?[1]:r).map(s=>{const a=t(s);return typeof a=="number"?`${a}px`:a}).join(" ");return n.mui=!0,n}function vg(...e){const t=e.reduce((r,o)=>(o.filterProps.forEach(s=>{r[s]=o}),r),{}),n=r=>Object.keys(r).reduce((o,s)=>t[s]?Gc(o,t[s](r)):o,{});return n.propTypes={},n.filterProps=e.reduce((r,o)=>r.concat(o.filterProps),[]),n}function Yr(e){return typeof e!="number"?e:`${e}px solid`}function so(e,t){return Ft({prop:e,themeKey:"borders",transform:t})}const Sre=so("border",Yr),wre=so("borderTop",Yr),Ere=so("borderRight",Yr),xre=so("borderBottom",Yr),Cre=so("borderLeft",Yr),Tre=so("borderColor"),kre=so("borderTopColor"),Ore=so("borderRightColor"),Ire=so("borderBottomColor"),Are=so("borderLeftColor"),$re=so("outline",Yr),Rre=so("outlineColor"),_g=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=af(e.theme,"shape.borderRadius",4),n=r=>({borderRadius:uf(t,r)});return Oi(e,e.borderRadius,n)}return null};_g.propTypes={};_g.filterProps=["borderRadius"];vg(Sre,wre,Ere,xre,Cre,Tre,kre,Ore,Ire,Are,_g,$re,Rre);const bg=e=>{if(e.gap!==void 0&&e.gap!==null){const t=af(e.theme,"spacing",8),n=r=>({gap:uf(t,r)});return Oi(e,e.gap,n)}return null};bg.propTypes={};bg.filterProps=["gap"];const Sg=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=af(e.theme,"spacing",8),n=r=>({columnGap:uf(t,r)});return Oi(e,e.columnGap,n)}return null};Sg.propTypes={};Sg.filterProps=["columnGap"];const wg=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=af(e.theme,"spacing",8),n=r=>({rowGap:uf(t,r)});return Oi(e,e.rowGap,n)}return null};wg.propTypes={};wg.filterProps=["rowGap"];const Pre=Ft({prop:"gridColumn"}),Mre=Ft({prop:"gridRow"}),Nre=Ft({prop:"gridAutoFlow"}),Lre=Ft({prop:"gridAutoColumns"}),Fre=Ft({prop:"gridAutoRows"}),Bre=Ft({prop:"gridTemplateColumns"}),jre=Ft({prop:"gridTemplateRows"}),Dre=Ft({prop:"gridTemplateAreas"}),Wre=Ft({prop:"gridArea"});vg(bg,Sg,wg,Pre,Mre,Nre,Lre,Fre,Bre,jre,Dre,Wre);function nu(e,t){return t==="grey"?t:e}const Ure=Ft({prop:"color",themeKey:"palette",transform:nu}),zre=Ft({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:nu}),qre=Ft({prop:"backgroundColor",themeKey:"palette",transform:nu});vg(Ure,zre,qre);function Sr(e){return e<=1&&e!==0?`${e*100}%`:e}const Kre=Ft({prop:"width",transform:Sr}),fS=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=n=>{var o,s,a,c,f;const r=((a=(s=(o=e.theme)==null?void 0:o.breakpoints)==null?void 0:s.values)==null?void 0:a[n])||mg[n];return r?((f=(c=e.theme)==null?void 0:c.breakpoints)==null?void 0:f.unit)!=="px"?{maxWidth:`${r}${e.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:Sr(n)}};return Oi(e,e.maxWidth,t)}return null};fS.filterProps=["maxWidth"];const Vre=Ft({prop:"minWidth",transform:Sr}),Hre=Ft({prop:"height",transform:Sr}),Gre=Ft({prop:"maxHeight",transform:Sr}),Jre=Ft({prop:"minHeight",transform:Sr});Ft({prop:"size",cssProperty:"width",transform:Sr});Ft({prop:"size",cssProperty:"height",transform:Sr});const Yre=Ft({prop:"boxSizing"});vg(Kre,fS,Vre,Hre,Gre,Jre,Yre);const cf={border:{themeKey:"borders",transform:Yr},borderTop:{themeKey:"borders",transform:Yr},borderRight:{themeKey:"borders",transform:Yr},borderBottom:{themeKey:"borders",transform:Yr},borderLeft:{themeKey:"borders",transform:Yr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Yr},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:_g},color:{themeKey:"palette",transform:nu},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:nu},backgroundColor:{themeKey:"palette",transform:nu},p:{style:Tt},pt:{style:Tt},pr:{style:Tt},pb:{style:Tt},pl:{style:Tt},px:{style:Tt},py:{style:Tt},padding:{style:Tt},paddingTop:{style:Tt},paddingRight:{style:Tt},paddingBottom:{style:Tt},paddingLeft:{style:Tt},paddingX:{style:Tt},paddingY:{style:Tt},paddingInline:{style:Tt},paddingInlineStart:{style:Tt},paddingInlineEnd:{style:Tt},paddingBlock:{style:Tt},paddingBlockStart:{style:Tt},paddingBlockEnd:{style:Tt},m:{style:Ct},mt:{style:Ct},mr:{style:Ct},mb:{style:Ct},ml:{style:Ct},mx:{style:Ct},my:{style:Ct},margin:{style:Ct},marginTop:{style:Ct},marginRight:{style:Ct},marginBottom:{style:Ct},marginLeft:{style:Ct},marginX:{style:Ct},marginY:{style:Ct},marginInline:{style:Ct},marginInlineStart:{style:Ct},marginInlineEnd:{style:Ct},marginBlock:{style:Ct},marginBlockStart:{style:Ct},marginBlockEnd:{style:Ct},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:bg},rowGap:{style:wg},columnGap:{style:Sg},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Sr},maxWidth:{style:fS},minWidth:{transform:Sr},height:{transform:Sr},maxHeight:{transform:Sr},minHeight:{transform:Sr},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function Xre(...e){const t=e.reduce((r,o)=>r.concat(Object.keys(o)),[]),n=new Set(t);return e.every(r=>n.size===Object.keys(r).length)}function Qre(e,t){return typeof e=="function"?e(t):e}function Zre(){function e(n,r,o,s){const a={[n]:r,theme:o},c=s[n];if(!c)return{[n]:r};const{cssProperty:f=n,themeKey:d,transform:p,style:g}=c;if(r==null)return null;if(d==="typography"&&r==="inherit")return{[n]:r};const m=yg(o,d)||{};return g?g(a):Oi(a,r,b=>{let x=Uh(m,p,b);return b===x&&typeof b=="string"&&(x=Uh(m,p,`${n}${b==="default"?"":Ve(b)}`,b)),f===!1?x:{[f]:x}})}function t(n){const{sx:r,theme:o={}}=n||{};if(!r)return null;const s=o.unstable_sxConfig??cf;function a(c){let f=c;if(typeof c=="function")f=c(o);else if(typeof c!="object")return c;if(!f)return null;const d=hre(o.breakpoints),p=Object.keys(d);let g=d;return Object.keys(f).forEach(m=>{const y=Qre(f[m],o);if(y!=null)if(typeof y=="object")if(s[m])g=Gc(g,e(m,y,o,s));else{const b=Oi({theme:o},y,x=>({[m]:x}));Xre(b,y)?g[m]=t({sx:y,theme:o}):g=Gc(g,b)}else g=Gc(g,e(m,y,o,s))}),are(o,pre(p,g))}return Array.isArray(r)?r.map(a):a(r)}return t}const ia=Zre();ia.filterProps=["sx"];function eoe(e,t){var r;const n=this;if(n.vars){if(!((r=n.colorSchemes)!=null&&r[e])||typeof n.getColorSchemeSelector!="function")return{};let o=n.getColorSchemeSelector(e);return o==="&"?t:((o.includes("data-")||o.includes("."))&&(o=`*:where(${o.replace(/\s*&$/,"")}) &`),{[o]:t})}return n.palette.mode===e?t:{}}function dS(e={},...t){const{breakpoints:n={},palette:r={},spacing:o,shape:s={},...a}=e,c=sre(n),f=DM(o);let d=Cr({breakpoints:c,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:f,shape:{...fre,...s}},a);return d=lre(d),d.applyStyles=eoe,d=t.reduce((p,g)=>Cr(p,g),d),d.unstable_sxConfig={...cf,...a==null?void 0:a.unstable_sxConfig},d.unstable_sx=function(g){return ia({sx:g,theme:this})},d}function toe(e){return Object.keys(e).length===0}function noe(e=null){const t=G.useContext(rS);return!t||toe(t)?e:t}const roe=dS();function ooe(e=roe){return noe(e)}const ioe=e=>{var r;const t={systemProps:{},otherProps:{}},n=((r=e==null?void 0:e.theme)==null?void 0:r.unstable_sxConfig)??cf;return Object.keys(e).forEach(o=>{n[o]?t.systemProps[o]=e[o]:t.otherProps[o]=e[o]}),t};function WM(e){const{sx:t,...n}=e,{systemProps:r,otherProps:o}=ioe(n);let s;return Array.isArray(t)?s=[r,...t]:typeof t=="function"?s=(...a)=>{const c=t(...a);return jo(c)?{...r,...c}:r}:s={...r,...t},{...o,sx:s}}const YC=e=>e,soe=()=>{let e=YC;return{configure(t){e=t},generate(t){return e(t)},reset(){e=YC}}},UM=soe();function zM(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=zM(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function vn(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=zM(e))&&(r&&(r+=" "),r+=t);return r}function aoe(e={}){const{themeId:t,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:o}=e,s=NM("div",{shouldForwardProp:c=>c!=="theme"&&c!=="sx"&&c!=="as"})(ia);return G.forwardRef(function(f,d){const p=ooe(n),{className:g,component:m="div",...y}=WM(f);return J.jsx(s,{as:m,ref:d,className:vn(g,o?o(r):r),theme:t&&p[t]||p,...y})})}const uoe={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function va(e,t,n="Mui"){const r=uoe[t];return r?`${n}-${r}`:`${UM.generate(e)}-${t}`}function ms(e,t,n="Mui"){const r={};return t.forEach(o=>{r[o]=va(e,o,n)}),r}function qM(e){const{variants:t,...n}=e,r={variants:t,style:HC(n),isProcessed:!0};return r.style===n||t&&t.forEach(o=>{typeof o.style!="function"&&(o.style=HC(o.style))}),r}const coe=dS();function Ry(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}function loe(e){return e?(t,n)=>n[e]:null}function foe(e,t,n){e.theme=poe(e.theme)?n:e.theme[t]||e.theme}function Vd(e,t){const n=typeof t=="function"?t(e):t;if(Array.isArray(n))return n.flatMap(r=>Vd(e,r));if(Array.isArray(n==null?void 0:n.variants)){let r;if(n.isProcessed)r=n.style;else{const{variants:o,...s}=n;r=s}return KM(e,n.variants,[r])}return n!=null&&n.isProcessed?n.style:n}function KM(e,t,n=[]){var o;let r;e:for(let s=0;s<t.length;s+=1){const a=t[s];if(typeof a.props=="function"){if(r??(r={...e,...e.ownerState,ownerState:e.ownerState}),!a.props(r))continue}else for(const c in a.props)if(e[c]!==a.props[c]&&((o=e.ownerState)==null?void 0:o[c])!==a.props[c])continue e;typeof a.style=="function"?(r??(r={...e,...e.ownerState,ownerState:e.ownerState}),n.push(a.style(r))):n.push(a.style)}return n}function doe(e={}){const{themeId:t,defaultTheme:n=coe,rootShouldForwardProp:r=Ry,slotShouldForwardProp:o=Ry}=e;function s(c){foe(c,t,n)}return(c,f={})=>{nre(c,W=>W.filter(j=>j!==ia));const{name:d,slot:p,skipVariantsResolver:g,skipSx:m,overridesResolver:y=loe(moe(p)),...b}=f,x=g!==void 0?g:p&&p!=="Root"&&p!=="root"||!1,T=m||!1;let k=Ry;p==="Root"||p==="root"?k=r:p?k=o:goe(c)&&(k=void 0);const L=NM(c,{shouldForwardProp:k,label:hoe(),...b}),N=W=>{if(typeof W=="function"&&W.__emotion_real!==W)return function(A){return Vd(A,W)};if(jo(W)){const j=qM(W);return j.variants?function(U){return Vd(U,j)}:j.style}return W},R=(...W)=>{const j=[],A=W.map(N),U=[];if(j.push(s),d&&y&&U.push(function(D){var me,ie;const re=(ie=(me=D.theme.components)==null?void 0:me[d])==null?void 0:ie.styleOverrides;if(!re)return null;const _e={};for(const ce in re)_e[ce]=Vd(D,re[ce]);return y(D,_e)}),d&&!x&&U.push(function(D){var _e,me;const X=D.theme,re=(me=(_e=X==null?void 0:X.components)==null?void 0:_e[d])==null?void 0:me.variants;return re?KM(D,re):null}),T||U.push(ia),Array.isArray(A[0])){const M=A.shift(),D=new Array(j.length).fill(""),X=new Array(U.length).fill("");let re;re=[...D,...M,...X],re.raw=[...D,...M.raw,...X],j.unshift(re)}const K=[...j,...A,...U],S=L(...K);return c.muiName&&(S.muiName=c.muiName),S};return L.withConfig&&(R.withConfig=L.withConfig),R}}function hoe(e,t){return void 0}function poe(e){for(const t in e)return!1;return!0}function goe(e){return typeof e=="string"&&e.charCodeAt(0)>96}function moe(e){return e&&e.charAt(0).toLowerCase()+e.slice(1)}function zh(e,t){const n={...t};for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const o=r;if(o==="components"||o==="slots")n[o]={...e[o],...n[o]};else if(o==="componentsProps"||o==="slotProps"){const s=e[o],a=t[o];if(!a)n[o]=s||{};else if(!s)n[o]=a;else{n[o]={...a};for(const c in s)if(Object.prototype.hasOwnProperty.call(s,c)){const f=c;n[o][f]=zh(s[f],a[f])}}}else n[o]===void 0&&(n[o]=e[o])}return n}const yoe=typeof window<"u"?G.useLayoutEffect:G.useEffect;function voe(e,t=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,n))}function hS(e,t=0,n=1){return voe(e,t,n)}function _oe(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,o)=>o<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function ds(e){if(e.type)return e;if(e.charAt(0)==="#")return ds(_oe(e));const t=e.indexOf("("),n=e.substring(0,t);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(oa(9,e));let r=e.substring(t+1,e.length-1),o;if(n==="color"){if(r=r.split(" "),o=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(o))throw new Error(oa(10,o))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:o}}const boe=e=>{const t=ds(e);return t.values.slice(0,3).map((n,r)=>t.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},jc=(e,t)=>{try{return boe(e)}catch{return e}};function Eg(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.includes("rgb")?r=r.map((o,s)=>s<3?parseInt(o,10):o):t.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),t.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${t}(${r})`}function VM(e){e=ds(e);const{values:t}=e,n=t[0],r=t[1]/100,o=t[2]/100,s=r*Math.min(o,1-o),a=(d,p=(d+n/30)%12)=>o-s*Math.max(Math.min(p-3,9-p,1),-1);let c="rgb";const f=[Math.round(a(0)*255),Math.round(a(8)*255),Math.round(a(4)*255)];return e.type==="hsla"&&(c+="a",f.push(t[3])),Eg({type:c,values:f})}function Jv(e){e=ds(e);let t=e.type==="hsl"||e.type==="hsla"?ds(VM(e)).values:e.values;return t=t.map(n=>(e.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function Soe(e,t){const n=Jv(e),r=Jv(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function Zi(e,t){return e=ds(e),t=hS(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,Eg(e)}function md(e,t,n){try{return Zi(e,t)}catch{return e}}function pS(e,t){if(e=ds(e),t=hS(t),e.type.includes("hsl"))e.values[2]*=1-t;else if(e.type.includes("rgb")||e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return Eg(e)}function et(e,t,n){try{return pS(e,t)}catch{return e}}function gS(e,t){if(e=ds(e),t=hS(t),e.type.includes("hsl"))e.values[2]+=(100-e.values[2])*t;else if(e.type.includes("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return Eg(e)}function tt(e,t,n){try{return gS(e,t)}catch{return e}}function woe(e,t=.15){return Jv(e)>.5?pS(e,t):gS(e,t)}function yd(e,t,n){try{return woe(e,t)}catch{return e}}function Eoe(e,t){typeof e=="function"?e(t):e&&(e.current=t)}let XC=0;function xoe(e){const[t,n]=G.useState(e),r=e||t;return G.useEffect(()=>{t==null&&(XC+=1,n(`mui-${XC}`))},[t]),r}const Coe={...Mv},QC=Coe.useId;function HM(e){if(QC!==void 0){const t=QC();return e??t}return xoe(e)}function Hd(e){const t=G.useRef(e);return yoe(()=>{t.current=e}),G.useRef((...n)=>(0,t.current)(...n)).current}function ZC(...e){return G.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{Eoe(n,t)})},e)}const eT={};function GM(e,t){const n=G.useRef(eT);return n.current===eT&&(n.current=e(t)),n}const Toe=[];function koe(e){G.useEffect(e,Toe)}class mS{constructor(){_(this,"currentId",null);_(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});_(this,"disposeEffect",()=>this.clear)}static create(){return new mS}start(t,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},t)}}function Ooe(){const e=GM(mS.create).current;return koe(e.disposeEffect),e}function tT(e){try{return e.matches(":focus-visible")}catch{}return!1}function Qu(e,t,n=void 0){const r={};for(const o in e){const s=e[o];let a="",c=!0;for(let f=0;f<s.length;f+=1){const d=s[f];d&&(a+=(c===!0?"":" ")+t(d),c=!1,n&&n[d]&&(a+=" "+n[d]))}r[o]=a}return r}const Ioe=G.createContext(void 0);function Aoe(e){const{theme:t,name:n,props:r}=e;if(!t||!t.components||!t.components[n])return r;const o=t.components[n];return o.defaultProps?zh(o.defaultProps,r):!o.styleOverrides&&!o.variants?zh(o,r):r}function $oe({props:e,name:t}){const n=G.useContext(Ioe);return Aoe({props:e,name:t,theme:{components:n}})}const nT={theme:void 0};function Roe(e){let t,n;return function(o){let s=t;return(s===void 0||o.theme!==n)&&(nT.theme=o.theme,s=qM(e(nT)),t=s,n=o.theme),s}}function Poe(e=""){function t(...r){if(!r.length)return"";const o=r[0];return typeof o=="string"&&!o.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${e?`${e}-`:""}${o}${t(...r.slice(1))})`:`, ${o}`}return(r,...o)=>`var(--${e?`${e}-`:""}${r}${t(...o)})`}const rT=(e,t,n,r=[])=>{let o=e;t.forEach((s,a)=>{a===t.length-1?Array.isArray(o)?o[Number(s)]=n:o&&typeof o=="object"&&(o[s]=n):o&&typeof o=="object"&&(o[s]||(o[s]=r.includes(s)?[]:{}),o=o[s])})},Moe=(e,t,n)=>{function r(o,s=[],a=[]){Object.entries(o).forEach(([c,f])=>{(!n||n&&!n([...s,c]))&&f!=null&&(typeof f=="object"&&Object.keys(f).length>0?r(f,[...s,c],Array.isArray(f)?[...a,c]:a):t([...s,c],f,a))})}r(e)},Noe=(e,t)=>typeof t=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>e.includes(r))||e[e.length-1].toLowerCase().includes("opacity")?t:`${t}px`:t;function Py(e,t){const{prefix:n,shouldSkipGeneratingVar:r}=t||{},o={},s={},a={};return Moe(e,(c,f,d)=>{if((typeof f=="string"||typeof f=="number")&&(!r||!r(c,f))){const p=`--${n?`${n}-`:""}${c.join("-")}`,g=Noe(c,f);Object.assign(o,{[p]:g}),rT(s,c,`var(${p})`,d),rT(a,c,`var(${p}, ${g})`,d)}},c=>c[0]==="vars"),{css:o,vars:s,varsWithDefaults:a}}function Loe(e,t={}){const{getSelector:n=T,disableCssColorScheme:r,colorSchemeSelector:o}=t,{colorSchemes:s={},components:a,defaultColorScheme:c="light",...f}=e,{vars:d,css:p,varsWithDefaults:g}=Py(f,t);let m=g;const y={},{[c]:b,...x}=s;if(Object.entries(x||{}).forEach(([N,R])=>{const{vars:W,css:j,varsWithDefaults:A}=Py(R,t);m=Cr(m,A),y[N]={css:j,vars:W}}),b){const{css:N,vars:R,varsWithDefaults:W}=Py(b,t);m=Cr(m,W),y[c]={css:N,vars:R}}function T(N,R){var j,A;let W=o;if(o==="class"&&(W=".%s"),o==="data"&&(W="[data-%s]"),o!=null&&o.startsWith("data-")&&!o.includes("%s")&&(W=`[${o}="%s"]`),N){if(W==="media")return e.defaultColorScheme===N?":root":{[`@media (prefers-color-scheme: ${((A=(j=s[N])==null?void 0:j.palette)==null?void 0:A.mode)||N})`]:{":root":R}};if(W)return e.defaultColorScheme===N?`:root, ${W.replace("%s",String(N))}`:W.replace("%s",String(N))}return":root"}return{vars:m,generateThemeVars:()=>{let N={...d};return Object.entries(y).forEach(([,{vars:R}])=>{N=Cr(N,R)}),N},generateStyleSheets:()=>{var U,K;const N=[],R=e.defaultColorScheme||"light";function W(S,M){Object.keys(M).length&&N.push(typeof S=="string"?{[S]:{...M}}:S)}W(n(void 0,{...p}),p);const{[R]:j,...A}=y;if(j){const{css:S}=j,M=(K=(U=s[R])==null?void 0:U.palette)==null?void 0:K.mode,D=!r&&M?{colorScheme:M,...S}:{...S};W(n(R,{...D}),D)}return Object.entries(A).forEach(([S,{css:M}])=>{var re,_e;const D=(_e=(re=s[S])==null?void 0:re.palette)==null?void 0:_e.mode,X=!r&&D?{colorScheme:D,...M}:{...M};W(n(S,{...X}),X)}),N}}}function Foe(e){return function(n){return e==="media"?`@media (prefers-color-scheme: ${n})`:e?e.startsWith("data-")&&!e.includes("%s")?`[${e}="${n}"] &`:e==="class"?`.${n} &`:e==="data"?`[data-${n}] &`:`${e.replace("%s",n)} &`:"&"}}function JM(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:vl.white,default:vl.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const Boe=JM();function YM(){return{text:{primary:vl.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:vl.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const oT=YM();function iT(e,t,n,r){const o=r.light||r,s=r.dark||r*1.5;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:t==="light"?e.light=gS(e.main,o):t==="dark"&&(e.dark=pS(e.main,s)))}function joe(e="light"){return e==="dark"?{main:Ua[200],light:Ua[50],dark:Ua[400]}:{main:Ua[700],light:Ua[400],dark:Ua[800]}}function Doe(e="light"){return e==="dark"?{main:Wa[200],light:Wa[50],dark:Wa[400]}:{main:Wa[500],light:Wa[300],dark:Wa[700]}}function Woe(e="light"){return e==="dark"?{main:Da[500],light:Da[300],dark:Da[700]}:{main:Da[700],light:Da[400],dark:Da[800]}}function Uoe(e="light"){return e==="dark"?{main:za[400],light:za[300],dark:za[700]}:{main:za[700],light:za[500],dark:za[900]}}function zoe(e="light"){return e==="dark"?{main:qa[400],light:qa[300],dark:qa[700]}:{main:qa[800],light:qa[500],dark:qa[900]}}function qoe(e="light"){return e==="dark"?{main:Ic[400],light:Ic[300],dark:Ic[700]}:{main:"#ed6c02",light:Ic[500],dark:Ic[900]}}function yS(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2,...o}=e,s=e.primary||joe(t),a=e.secondary||Doe(t),c=e.error||Woe(t),f=e.info||Uoe(t),d=e.success||zoe(t),p=e.warning||qoe(t);function g(x){return Soe(x,oT.text.primary)>=n?oT.text.primary:Boe.text.primary}const m=({color:x,name:T,mainShade:k=500,lightShade:L=300,darkShade:N=700})=>{if(x={...x},!x.main&&x[k]&&(x.main=x[k]),!x.hasOwnProperty("main"))throw new Error(oa(11,T?` (${T})`:"",k));if(typeof x.main!="string")throw new Error(oa(12,T?` (${T})`:"",JSON.stringify(x.main)));return iT(x,"light",L,r),iT(x,"dark",N,r),x.contrastText||(x.contrastText=g(x.main)),x};let y;return t==="light"?y=JM():t==="dark"&&(y=YM()),Cr({common:{...vl},mode:t,primary:m({color:s,name:"primary"}),secondary:m({color:a,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:m({color:c,name:"error"}),warning:m({color:p,name:"warning"}),info:m({color:f,name:"info"}),success:m({color:d,name:"success"}),grey:Zte,contrastThreshold:n,getContrastText:g,augmentColor:m,tonalOffset:r,...y},o)}function Koe(e){const t={};return Object.entries(e).forEach(r=>{const[o,s]=r;typeof s=="object"&&(t[o]=`${s.fontStyle?`${s.fontStyle} `:""}${s.fontVariant?`${s.fontVariant} `:""}${s.fontWeight?`${s.fontWeight} `:""}${s.fontStretch?`${s.fontStretch} `:""}${s.fontSize||""}${s.lineHeight?`/${s.lineHeight} `:""}${s.fontFamily||""}`)}),t}function Voe(e,t){return{toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}},...t}}function Hoe(e){return Math.round(e*1e5)/1e5}const sT={textTransform:"uppercase"},aT='"Roboto", "Helvetica", "Arial", sans-serif';function Goe(e,t){const{fontFamily:n=aT,fontSize:r=14,fontWeightLight:o=300,fontWeightRegular:s=400,fontWeightMedium:a=500,fontWeightBold:c=700,htmlFontSize:f=16,allVariants:d,pxToRem:p,...g}=typeof t=="function"?t(e):t,m=r/14,y=p||(T=>`${T/f*m}rem`),b=(T,k,L,N,R)=>({fontFamily:n,fontWeight:T,fontSize:y(k),lineHeight:L,...n===aT?{letterSpacing:`${Hoe(N/k)}em`}:{},...R,...d}),x={h1:b(o,96,1.167,-1.5),h2:b(o,60,1.2,-.5),h3:b(s,48,1.167,0),h4:b(s,34,1.235,.25),h5:b(s,24,1.334,0),h6:b(a,20,1.6,.15),subtitle1:b(s,16,1.75,.15),subtitle2:b(a,14,1.57,.1),body1:b(s,16,1.5,.15),body2:b(s,14,1.43,.15),button:b(a,14,1.75,.4,sT),caption:b(s,12,1.66,.4),overline:b(s,12,2.66,1,sT),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Cr({htmlFontSize:f,pxToRem:y,fontFamily:n,fontSize:r,fontWeightLight:o,fontWeightRegular:s,fontWeightMedium:a,fontWeightBold:c,...x},g,{clone:!1})}const Joe=.2,Yoe=.14,Xoe=.12;function yt(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${Joe})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${Yoe})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${Xoe})`].join(",")}const Qoe=["none",yt(0,2,1,-1,0,1,1,0,0,1,3,0),yt(0,3,1,-2,0,2,2,0,0,1,5,0),yt(0,3,3,-2,0,3,4,0,0,1,8,0),yt(0,2,4,-1,0,4,5,0,0,1,10,0),yt(0,3,5,-1,0,5,8,0,0,1,14,0),yt(0,3,5,-1,0,6,10,0,0,1,18,0),yt(0,4,5,-2,0,7,10,1,0,2,16,1),yt(0,5,5,-3,0,8,10,1,0,3,14,2),yt(0,5,6,-3,0,9,12,1,0,3,16,2),yt(0,6,6,-3,0,10,14,1,0,4,18,3),yt(0,6,7,-4,0,11,15,1,0,4,20,3),yt(0,7,8,-4,0,12,17,2,0,5,22,4),yt(0,7,8,-4,0,13,19,2,0,5,24,4),yt(0,7,9,-4,0,14,21,2,0,5,26,4),yt(0,8,9,-5,0,15,22,2,0,6,28,5),yt(0,8,10,-5,0,16,24,2,0,6,30,5),yt(0,8,11,-5,0,17,26,2,0,6,32,5),yt(0,9,11,-5,0,18,28,2,0,7,34,6),yt(0,9,12,-6,0,19,29,2,0,7,36,6),yt(0,10,13,-6,0,20,31,3,0,8,38,7),yt(0,10,13,-6,0,21,33,3,0,8,40,7),yt(0,10,14,-6,0,22,35,3,0,8,42,7),yt(0,11,14,-7,0,23,36,3,0,9,44,8),yt(0,11,15,-7,0,24,38,3,0,9,46,8)],Zoe={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},eie={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function uT(e){return`${Math.round(e)}ms`}function tie(e){if(!e)return 0;const t=e/36;return Math.min(Math.round((4+15*t**.25+t/5)*10),3e3)}function nie(e){const t={...Zoe,...e.easing},n={...eie,...e.duration};return{getAutoHeightDuration:tie,create:(o=["all"],s={})=>{const{duration:a=n.standard,easing:c=t.easeInOut,delay:f=0,...d}=s;return(Array.isArray(o)?o:[o]).map(p=>`${p} ${typeof a=="string"?a:uT(a)} ${c} ${typeof f=="string"?f:uT(f)}`).join(",")},...e,easing:t,duration:n}}const rie={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function oie(e){return jo(e)||typeof e>"u"||typeof e=="string"||typeof e=="boolean"||typeof e=="number"||Array.isArray(e)}function XM(e={}){const t={...e};function n(r){const o=Object.entries(r);for(let s=0;s<o.length;s++){const[a,c]=o[s];!oie(c)||a.startsWith("unstable_")?delete r[a]:jo(c)&&(r[a]={...c},n(r[a]))}}return n(t),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(t,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function Yv(e={},...t){const{breakpoints:n,mixins:r={},spacing:o,palette:s={},transitions:a={},typography:c={},shape:f,...d}=e;if(e.vars&&e.generateThemeVars===void 0)throw new Error(oa(20));const p=yS(s),g=dS(e);let m=Cr(g,{mixins:Voe(g.breakpoints,r),palette:p,shadows:Qoe.slice(),typography:Goe(p,c),transitions:nie(a),zIndex:{...rie}});return m=Cr(m,d),m=t.reduce((y,b)=>Cr(y,b),m),m.unstable_sxConfig={...cf,...d==null?void 0:d.unstable_sxConfig},m.unstable_sx=function(b){return ia({sx:b,theme:this})},m.toRuntimeSource=XM,m}function iie(e){let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,Math.round(t*10)/1e3}const sie=[...Array(25)].map((e,t)=>{if(t===0)return"none";const n=iie(t);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function QM(e){return{inputPlaceholder:e==="dark"?.5:.42,inputUnderline:e==="dark"?.7:.42,switchTrackDisabled:e==="dark"?.2:.12,switchTrack:e==="dark"?.3:.38}}function ZM(e){return e==="dark"?sie:[]}function aie(e){const{palette:t={mode:"light"},opacity:n,overlays:r,...o}=e,s=yS(t);return{palette:s,opacity:{...QM(s.mode),...n},overlays:r||ZM(s.mode),...o}}function uie(e){var t;return!!e[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!e[0].match(/sxConfig$/)||e[0]==="palette"&&!!((t=e[1])!=null&&t.match(/(mode|contrastThreshold|tonalOffset)/))}const cie=e=>[...[...Array(25)].map((t,n)=>`--${e?`${e}-`:""}overlays-${n}`),`--${e?`${e}-`:""}palette-AppBar-darkBg`,`--${e?`${e}-`:""}palette-AppBar-darkColor`];var lie=e=>(t,n)=>{const r=e.rootSelector||":root",o=e.colorSchemeSelector;let s=o;if(o==="class"&&(s=".%s"),o==="data"&&(s="[data-%s]"),o!=null&&o.startsWith("data-")&&!o.includes("%s")&&(s=`[${o}="%s"]`),e.defaultColorScheme===t){if(t==="dark"){const a={};return cie(e.cssVarPrefix).forEach(c=>{a[c]=n[c],delete n[c]}),s==="media"?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:a}}:s?{[s.replace("%s",t)]:a,[`${r}, ${s.replace("%s",t)}`]:n}:{[r]:{...n,...a}}}if(s&&s!=="media")return`${r}, ${s.replace("%s",String(t))}`}else if(t){if(s==="media")return{[`@media (prefers-color-scheme: ${String(t)})`]:{[r]:n}};if(s)return s.replace("%s",String(t))}return r};function fie(e,t){t.forEach(n=>{e[n]||(e[n]={})})}function z(e,t,n){!e[t]&&n&&(e[t]=n)}function Dc(e){return typeof e!="string"||!e.startsWith("hsl")?e:VM(e)}function hi(e,t){`${t}Channel`in e||(e[`${t}Channel`]=jc(Dc(e[t])))}function die(e){return typeof e=="number"?`${e}px`:typeof e=="string"||typeof e=="function"||Array.isArray(e)?e:"8px"}const Oo=e=>{try{return e()}catch{}},hie=(e="mui")=>Poe(e);function My(e,t,n,r){if(!t)return;t=t===!0?{}:t;const o=r==="dark"?"dark":"light";if(!n){e[r]=aie({...t,palette:{mode:o,...t==null?void 0:t.palette}});return}const{palette:s,...a}=Yv({...n,palette:{mode:o,...t==null?void 0:t.palette}});return e[r]={...t,palette:s,opacity:{...QM(o),...t==null?void 0:t.opacity},overlays:(t==null?void 0:t.overlays)||ZM(o)},a}function pie(e={},...t){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:o=!1,cssVarPrefix:s="mui",shouldSkipGeneratingVar:a=uie,colorSchemeSelector:c=n.light&&n.dark?"media":void 0,rootSelector:f=":root",...d}=e,p=Object.keys(n)[0],g=r||(n.light&&p!=="light"?"light":p),m=hie(s),{[g]:y,light:b,dark:x,...T}=n,k={...T};let L=y;if((g==="dark"&&!("dark"in n)||g==="light"&&!("light"in n))&&(L=!0),!L)throw new Error(oa(21,g));const N=My(k,L,d,g);b&&!k.light&&My(k,b,void 0,"light"),x&&!k.dark&&My(k,x,void 0,"dark");let R={defaultColorScheme:g,...N,cssVarPrefix:s,colorSchemeSelector:c,rootSelector:f,getCssVar:m,colorSchemes:k,font:{...Koe(N.typography),...N.font},spacing:die(d.spacing)};Object.keys(R.colorSchemes).forEach(K=>{const S=R.colorSchemes[K].palette,M=D=>{const X=D.split("-"),re=X[1],_e=X[2];return m(D,S[re][_e])};if(S.mode==="light"&&(z(S.common,"background","#fff"),z(S.common,"onBackground","#000")),S.mode==="dark"&&(z(S.common,"background","#000"),z(S.common,"onBackground","#fff")),fie(S,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),S.mode==="light"){z(S.Alert,"errorColor",et(S.error.light,.6)),z(S.Alert,"infoColor",et(S.info.light,.6)),z(S.Alert,"successColor",et(S.success.light,.6)),z(S.Alert,"warningColor",et(S.warning.light,.6)),z(S.Alert,"errorFilledBg",M("palette-error-main")),z(S.Alert,"infoFilledBg",M("palette-info-main")),z(S.Alert,"successFilledBg",M("palette-success-main")),z(S.Alert,"warningFilledBg",M("palette-warning-main")),z(S.Alert,"errorFilledColor",Oo(()=>S.getContrastText(S.error.main))),z(S.Alert,"infoFilledColor",Oo(()=>S.getContrastText(S.info.main))),z(S.Alert,"successFilledColor",Oo(()=>S.getContrastText(S.success.main))),z(S.Alert,"warningFilledColor",Oo(()=>S.getContrastText(S.warning.main))),z(S.Alert,"errorStandardBg",tt(S.error.light,.9)),z(S.Alert,"infoStandardBg",tt(S.info.light,.9)),z(S.Alert,"successStandardBg",tt(S.success.light,.9)),z(S.Alert,"warningStandardBg",tt(S.warning.light,.9)),z(S.Alert,"errorIconColor",M("palette-error-main")),z(S.Alert,"infoIconColor",M("palette-info-main")),z(S.Alert,"successIconColor",M("palette-success-main")),z(S.Alert,"warningIconColor",M("palette-warning-main")),z(S.AppBar,"defaultBg",M("palette-grey-100")),z(S.Avatar,"defaultBg",M("palette-grey-400")),z(S.Button,"inheritContainedBg",M("palette-grey-300")),z(S.Button,"inheritContainedHoverBg",M("palette-grey-A100")),z(S.Chip,"defaultBorder",M("palette-grey-400")),z(S.Chip,"defaultAvatarColor",M("palette-grey-700")),z(S.Chip,"defaultIconColor",M("palette-grey-700")),z(S.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),z(S.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),z(S.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),z(S.LinearProgress,"primaryBg",tt(S.primary.main,.62)),z(S.LinearProgress,"secondaryBg",tt(S.secondary.main,.62)),z(S.LinearProgress,"errorBg",tt(S.error.main,.62)),z(S.LinearProgress,"infoBg",tt(S.info.main,.62)),z(S.LinearProgress,"successBg",tt(S.success.main,.62)),z(S.LinearProgress,"warningBg",tt(S.warning.main,.62)),z(S.Skeleton,"bg",`rgba(${M("palette-text-primaryChannel")} / 0.11)`),z(S.Slider,"primaryTrack",tt(S.primary.main,.62)),z(S.Slider,"secondaryTrack",tt(S.secondary.main,.62)),z(S.Slider,"errorTrack",tt(S.error.main,.62)),z(S.Slider,"infoTrack",tt(S.info.main,.62)),z(S.Slider,"successTrack",tt(S.success.main,.62)),z(S.Slider,"warningTrack",tt(S.warning.main,.62));const D=yd(S.background.default,.8);z(S.SnackbarContent,"bg",D),z(S.SnackbarContent,"color",Oo(()=>S.getContrastText(D))),z(S.SpeedDialAction,"fabHoverBg",yd(S.background.paper,.15)),z(S.StepConnector,"border",M("palette-grey-400")),z(S.StepContent,"border",M("palette-grey-400")),z(S.Switch,"defaultColor",M("palette-common-white")),z(S.Switch,"defaultDisabledColor",M("palette-grey-100")),z(S.Switch,"primaryDisabledColor",tt(S.primary.main,.62)),z(S.Switch,"secondaryDisabledColor",tt(S.secondary.main,.62)),z(S.Switch,"errorDisabledColor",tt(S.error.main,.62)),z(S.Switch,"infoDisabledColor",tt(S.info.main,.62)),z(S.Switch,"successDisabledColor",tt(S.success.main,.62)),z(S.Switch,"warningDisabledColor",tt(S.warning.main,.62)),z(S.TableCell,"border",tt(md(S.divider,1),.88)),z(S.Tooltip,"bg",md(S.grey[700],.92))}if(S.mode==="dark"){z(S.Alert,"errorColor",tt(S.error.light,.6)),z(S.Alert,"infoColor",tt(S.info.light,.6)),z(S.Alert,"successColor",tt(S.success.light,.6)),z(S.Alert,"warningColor",tt(S.warning.light,.6)),z(S.Alert,"errorFilledBg",M("palette-error-dark")),z(S.Alert,"infoFilledBg",M("palette-info-dark")),z(S.Alert,"successFilledBg",M("palette-success-dark")),z(S.Alert,"warningFilledBg",M("palette-warning-dark")),z(S.Alert,"errorFilledColor",Oo(()=>S.getContrastText(S.error.dark))),z(S.Alert,"infoFilledColor",Oo(()=>S.getContrastText(S.info.dark))),z(S.Alert,"successFilledColor",Oo(()=>S.getContrastText(S.success.dark))),z(S.Alert,"warningFilledColor",Oo(()=>S.getContrastText(S.warning.dark))),z(S.Alert,"errorStandardBg",et(S.error.light,.9)),z(S.Alert,"infoStandardBg",et(S.info.light,.9)),z(S.Alert,"successStandardBg",et(S.success.light,.9)),z(S.Alert,"warningStandardBg",et(S.warning.light,.9)),z(S.Alert,"errorIconColor",M("palette-error-main")),z(S.Alert,"infoIconColor",M("palette-info-main")),z(S.Alert,"successIconColor",M("palette-success-main")),z(S.Alert,"warningIconColor",M("palette-warning-main")),z(S.AppBar,"defaultBg",M("palette-grey-900")),z(S.AppBar,"darkBg",M("palette-background-paper")),z(S.AppBar,"darkColor",M("palette-text-primary")),z(S.Avatar,"defaultBg",M("palette-grey-600")),z(S.Button,"inheritContainedBg",M("palette-grey-800")),z(S.Button,"inheritContainedHoverBg",M("palette-grey-700")),z(S.Chip,"defaultBorder",M("palette-grey-700")),z(S.Chip,"defaultAvatarColor",M("palette-grey-300")),z(S.Chip,"defaultIconColor",M("palette-grey-300")),z(S.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),z(S.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),z(S.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),z(S.LinearProgress,"primaryBg",et(S.primary.main,.5)),z(S.LinearProgress,"secondaryBg",et(S.secondary.main,.5)),z(S.LinearProgress,"errorBg",et(S.error.main,.5)),z(S.LinearProgress,"infoBg",et(S.info.main,.5)),z(S.LinearProgress,"successBg",et(S.success.main,.5)),z(S.LinearProgress,"warningBg",et(S.warning.main,.5)),z(S.Skeleton,"bg",`rgba(${M("palette-text-primaryChannel")} / 0.13)`),z(S.Slider,"primaryTrack",et(S.primary.main,.5)),z(S.Slider,"secondaryTrack",et(S.secondary.main,.5)),z(S.Slider,"errorTrack",et(S.error.main,.5)),z(S.Slider,"infoTrack",et(S.info.main,.5)),z(S.Slider,"successTrack",et(S.success.main,.5)),z(S.Slider,"warningTrack",et(S.warning.main,.5));const D=yd(S.background.default,.98);z(S.SnackbarContent,"bg",D),z(S.SnackbarContent,"color",Oo(()=>S.getContrastText(D))),z(S.SpeedDialAction,"fabHoverBg",yd(S.background.paper,.15)),z(S.StepConnector,"border",M("palette-grey-600")),z(S.StepContent,"border",M("palette-grey-600")),z(S.Switch,"defaultColor",M("palette-grey-300")),z(S.Switch,"defaultDisabledColor",M("palette-grey-600")),z(S.Switch,"primaryDisabledColor",et(S.primary.main,.55)),z(S.Switch,"secondaryDisabledColor",et(S.secondary.main,.55)),z(S.Switch,"errorDisabledColor",et(S.error.main,.55)),z(S.Switch,"infoDisabledColor",et(S.info.main,.55)),z(S.Switch,"successDisabledColor",et(S.success.main,.55)),z(S.Switch,"warningDisabledColor",et(S.warning.main,.55)),z(S.TableCell,"border",et(md(S.divider,1),.68)),z(S.Tooltip,"bg",md(S.grey[700],.92))}hi(S.background,"default"),hi(S.background,"paper"),hi(S.common,"background"),hi(S.common,"onBackground"),hi(S,"divider"),Object.keys(S).forEach(D=>{const X=S[D];D!=="tonalOffset"&&X&&typeof X=="object"&&(X.main&&z(S[D],"mainChannel",jc(Dc(X.main))),X.light&&z(S[D],"lightChannel",jc(Dc(X.light))),X.dark&&z(S[D],"darkChannel",jc(Dc(X.dark))),X.contrastText&&z(S[D],"contrastTextChannel",jc(Dc(X.contrastText))),D==="text"&&(hi(S[D],"primary"),hi(S[D],"secondary")),D==="action"&&(X.active&&hi(S[D],"active"),X.selected&&hi(S[D],"selected")))})}),R=t.reduce((K,S)=>Cr(K,S),R);const W={prefix:s,disableCssColorScheme:o,shouldSkipGeneratingVar:a,getSelector:lie(R)},{vars:j,generateThemeVars:A,generateStyleSheets:U}=Loe(R,W);return R.vars=j,Object.entries(R.colorSchemes[R.defaultColorScheme]).forEach(([K,S])=>{R[K]=S}),R.generateThemeVars=A,R.generateStyleSheets=U,R.generateSpacing=function(){return DM(d.spacing,lS(this))},R.getColorSchemeSelector=Foe(c),R.spacing=R.generateSpacing(),R.shouldSkipGeneratingVar=a,R.unstable_sxConfig={...cf,...d==null?void 0:d.unstable_sxConfig},R.unstable_sx=function(S){return ia({sx:S,theme:this})},R.toRuntimeSource=XM,R}function cT(e,t,n){e.colorSchemes&&n&&(e.colorSchemes[t]={...n!==!0&&n,palette:yS({...n===!0?{}:n.palette,mode:t})})}function e2(e={},...t){const{palette:n,cssVariables:r=!1,colorSchemes:o=n?void 0:{light:!0},defaultColorScheme:s=n==null?void 0:n.mode,...a}=e,c=s||"light",f=o==null?void 0:o[c],d={...o,...n?{[c]:{...typeof f!="boolean"&&f,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in e))return Yv(e,...t);let p=n;"palette"in e||d[c]&&(d[c]!==!0?p=d[c].palette:c==="dark"&&(p={mode:"dark"}));const g=Yv({...e,palette:p},...t);return g.defaultColorScheme=c,g.colorSchemes=d,g.palette.mode==="light"&&(g.colorSchemes.light={...d.light!==!0&&d.light,palette:g.palette},cT(g,"dark",d.dark)),g.palette.mode==="dark"&&(g.colorSchemes.dark={...d.dark!==!0&&d.dark,palette:g.palette},cT(g,"light",d.light)),g}return!n&&!("light"in d)&&c==="light"&&(d.light=!0),pie({...a,colorSchemes:d,defaultColorScheme:c,...typeof r!="boolean"&&r},...t)}const gie=e2();function mie(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const t2=e=>mie(e)&&e!=="classes",Xn=doe({themeId:mM,defaultTheme:gie,rootShouldForwardProp:t2});function yie(){return WM}const sa=Roe;function _a(e){return $oe(e)}function vie(e){return va("MuiSvgIcon",e)}ms("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const _ie=e=>{const{color:t,fontSize:n,classes:r}=e,o={root:["root",t!=="inherit"&&`color${Ve(t)}`,`fontSize${Ve(n)}`]};return Qu(o,vie,r)},bie=Xn("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="inherit"&&t[`color${Ve(n.color)}`],t[`fontSize${Ve(n.fontSize)}`]]}})(sa(({theme:e})=>{var t,n,r,o,s,a,c,f,d,p,g,m,y,b;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(o=(t=e.transitions)==null?void 0:t.create)==null?void 0:o.call(t,"fill",{duration:(r=(n=(e.vars??e).transitions)==null?void 0:n.duration)==null?void 0:r.shorter}),variants:[{props:x=>!x.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((a=(s=e.typography)==null?void 0:s.pxToRem)==null?void 0:a.call(s,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((f=(c=e.typography)==null?void 0:c.pxToRem)==null?void 0:f.call(c,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((p=(d=e.typography)==null?void 0:d.pxToRem)==null?void 0:p.call(d,35))||"2.1875rem"}},...Object.entries((e.vars??e).palette).filter(([,x])=>x&&x.main).map(([x])=>{var T,k;return{props:{color:x},style:{color:(k=(T=(e.vars??e).palette)==null?void 0:T[x])==null?void 0:k.main}}}),{props:{color:"action"},style:{color:(m=(g=(e.vars??e).palette)==null?void 0:g.action)==null?void 0:m.active}},{props:{color:"disabled"},style:{color:(b=(y=(e.vars??e).palette)==null?void 0:y.action)==null?void 0:b.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),Xv=G.forwardRef(function(t,n){const r=_a({props:t,name:"MuiSvgIcon"}),{children:o,className:s,color:a="inherit",component:c="svg",fontSize:f="medium",htmlColor:d,inheritViewBox:p=!1,titleAccess:g,viewBox:m="0 0 24 24",...y}=r,b=G.isValidElement(o)&&o.type==="svg",x={...r,color:a,component:c,fontSize:f,instanceFontSize:t.fontSize,inheritViewBox:p,viewBox:m,hasSvgAsChild:b},T={};p||(T.viewBox=m);const k=_ie(x);return J.jsxs(bie,{as:c,className:vn(k.root,s),focusable:"false",color:d,"aria-hidden":g?void 0:!0,role:g?"img":void 0,ref:n,...T,...y,...b&&o.props,ownerState:x,children:[b?o.props.children:o,g?J.jsx("title",{children:g}):null]})});Xv.muiName="SvgIcon";function vS(e,t){function n(r,o){return J.jsx(Xv,{"data-testid":`${t}Icon`,ref:o,...r,children:e})}return n.muiName=Xv.muiName,G.memo(G.forwardRef(n))}function Sie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Qv(e,t){return Qv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Qv(e,t)}function wie(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Qv(e,t)}var lT=at.createContext(null);function Eie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _S(e,t){var n=function(s){return t&&G.isValidElement(s)?t(s):s},r=Object.create(null);return e&&G.Children.map(e,function(o){return o}).forEach(function(o){r[o.key]=n(o)}),r}function xie(e,t){e=e||{},t=t||{};function n(p){return p in t?t[p]:e[p]}var r=Object.create(null),o=[];for(var s in e)s in t?o.length&&(r[s]=o,o=[]):o.push(s);var a,c={};for(var f in t){if(r[f])for(a=0;a<r[f].length;a++){var d=r[f][a];c[r[f][a]]=n(d)}c[f]=n(f)}for(a=0;a<o.length;a++)c[o[a]]=n(o[a]);return c}function Bs(e,t,n){return n[t]!=null?n[t]:e.props[t]}function Cie(e,t){return _S(e.children,function(n){return G.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:Bs(n,"appear",e),enter:Bs(n,"enter",e),exit:Bs(n,"exit",e)})})}function Tie(e,t,n){var r=_S(e.children),o=xie(t,r);return Object.keys(o).forEach(function(s){var a=o[s];if(G.isValidElement(a)){var c=s in t,f=s in r,d=t[s],p=G.isValidElement(d)&&!d.props.in;f&&(!c||p)?o[s]=G.cloneElement(a,{onExited:n.bind(null,a),in:!0,exit:Bs(a,"exit",e),enter:Bs(a,"enter",e)}):!f&&c&&!p?o[s]=G.cloneElement(a,{in:!1}):f&&c&&G.isValidElement(d)&&(o[s]=G.cloneElement(a,{onExited:n.bind(null,a),in:d.props.in,exit:Bs(a,"exit",e),enter:Bs(a,"enter",e)}))}}),o}var kie=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},Oie={component:"div",childFactory:function(t){return t}},bS=function(e){wie(t,e);function t(r,o){var s;s=e.call(this,r,o)||this;var a=s.handleExited.bind(Eie(s));return s.state={contextValue:{isMounting:!0},handleExited:a,firstRender:!0},s}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(o,s){var a=s.children,c=s.handleExited,f=s.firstRender;return{children:f?Cie(o,c):Tie(o,a,c),firstRender:!1}},n.handleExited=function(o,s){var a=_S(this.props.children);o.key in a||(o.props.onExited&&o.props.onExited(s),this.mounted&&this.setState(function(c){var f=Dh({},c.children);return delete f[o.key],{children:f}}))},n.render=function(){var o=this.props,s=o.component,a=o.childFactory,c=Sie(o,["component","childFactory"]),f=this.state.contextValue,d=kie(this.state.children).map(a);return delete c.appear,delete c.enter,delete c.exit,s===null?at.createElement(lT.Provider,{value:f},d):at.createElement(lT.Provider,{value:f},at.createElement(s,c,d))},t}(at.Component);bS.propTypes={};bS.defaultProps=Oie;class qh{constructor(){_(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new qh}static use(){const t=GM(qh.create).current,[n,r]=G.useState(!1);return t.shouldMount=n,t.setShouldMount=r,G.useEffect(t.mountEffect,[n]),t}mount(){return this.mounted||(this.mounted=Aie(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...t){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.start(...t)})}stop(...t){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.stop(...t)})}pulsate(...t){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.pulsate(...t)})}}function Iie(){return qh.use()}function Aie(){let e,t;const n=new Promise((r,o)=>{e=r,t=o});return n.resolve=e,n.reject=t,n}function $ie(e){const{className:t,classes:n,pulsate:r=!1,rippleX:o,rippleY:s,rippleSize:a,in:c,onExited:f,timeout:d}=e,[p,g]=G.useState(!1),m=vn(t,n.ripple,n.rippleVisible,r&&n.ripplePulsate),y={width:a,height:a,top:-(a/2)+s,left:-(a/2)+o},b=vn(n.child,p&&n.childLeaving,r&&n.childPulsate);return!c&&!p&&g(!0),G.useEffect(()=>{if(!c&&f!=null){const x=setTimeout(f,d);return()=>{clearTimeout(x)}}},[f,c,d]),J.jsx("span",{className:m,style:y,children:J.jsx("span",{className:b})})}const Hr=ms("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Zv=550,Rie=80,Pie=sf`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,Mie=sf`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,Nie=sf`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,Lie=Xn("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Fie=Xn($ie,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${Hr.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${Pie};
    animation-duration: ${Zv}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  &.${Hr.ripplePulsate} {
    animation-duration: ${({theme:e})=>e.transitions.duration.shorter}ms;
  }

  & .${Hr.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${Hr.childLeaving} {
    opacity: 0;
    animation-name: ${Mie};
    animation-duration: ${Zv}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  & .${Hr.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${Nie};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,Bie=G.forwardRef(function(t,n){const r=_a({props:t,name:"MuiTouchRipple"}),{center:o=!1,classes:s={},className:a,...c}=r,[f,d]=G.useState([]),p=G.useRef(0),g=G.useRef(null);G.useEffect(()=>{g.current&&(g.current(),g.current=null)},[f]);const m=G.useRef(!1),y=Ooe(),b=G.useRef(null),x=G.useRef(null),T=G.useCallback(R=>{const{pulsate:W,rippleX:j,rippleY:A,rippleSize:U,cb:K}=R;d(S=>[...S,J.jsx(Fie,{classes:{ripple:vn(s.ripple,Hr.ripple),rippleVisible:vn(s.rippleVisible,Hr.rippleVisible),ripplePulsate:vn(s.ripplePulsate,Hr.ripplePulsate),child:vn(s.child,Hr.child),childLeaving:vn(s.childLeaving,Hr.childLeaving),childPulsate:vn(s.childPulsate,Hr.childPulsate)},timeout:Zv,pulsate:W,rippleX:j,rippleY:A,rippleSize:U},p.current)]),p.current+=1,g.current=K},[s]),k=G.useCallback((R={},W={},j=()=>{})=>{const{pulsate:A=!1,center:U=o||W.pulsate,fakeElement:K=!1}=W;if((R==null?void 0:R.type)==="mousedown"&&m.current){m.current=!1;return}(R==null?void 0:R.type)==="touchstart"&&(m.current=!0);const S=K?null:x.current,M=S?S.getBoundingClientRect():{width:0,height:0,left:0,top:0};let D,X,re;if(U||R===void 0||R.clientX===0&&R.clientY===0||!R.clientX&&!R.touches)D=Math.round(M.width/2),X=Math.round(M.height/2);else{const{clientX:_e,clientY:me}=R.touches&&R.touches.length>0?R.touches[0]:R;D=Math.round(_e-M.left),X=Math.round(me-M.top)}if(U)re=Math.sqrt((2*M.width**2+M.height**2)/3),re%2===0&&(re+=1);else{const _e=Math.max(Math.abs((S?S.clientWidth:0)-D),D)*2+2,me=Math.max(Math.abs((S?S.clientHeight:0)-X),X)*2+2;re=Math.sqrt(_e**2+me**2)}R!=null&&R.touches?b.current===null&&(b.current=()=>{T({pulsate:A,rippleX:D,rippleY:X,rippleSize:re,cb:j})},y.start(Rie,()=>{b.current&&(b.current(),b.current=null)})):T({pulsate:A,rippleX:D,rippleY:X,rippleSize:re,cb:j})},[o,T,y]),L=G.useCallback(()=>{k({},{pulsate:!0})},[k]),N=G.useCallback((R,W)=>{if(y.clear(),(R==null?void 0:R.type)==="touchend"&&b.current){b.current(),b.current=null,y.start(0,()=>{N(R,W)});return}b.current=null,d(j=>j.length>0?j.slice(1):j),g.current=W},[y]);return G.useImperativeHandle(n,()=>({pulsate:L,start:k,stop:N}),[L,k,N]),J.jsx(Lie,{className:vn(Hr.root,s.root,a),ref:x,...c,children:J.jsx(bS,{component:null,exit:!0,children:f})})});function jie(e){return va("MuiButtonBase",e)}const Die=ms("MuiButtonBase",["root","disabled","focusVisible"]),Wie=e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:o}=e,a=Qu({root:["root",t&&"disabled",n&&"focusVisible"]},jie,o);return n&&r&&(a.root+=` ${r}`),a},Uie=Xn("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Die.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),n2=G.forwardRef(function(t,n){const r=_a({props:t,name:"MuiButtonBase"}),{action:o,centerRipple:s=!1,children:a,className:c,component:f="button",disabled:d=!1,disableRipple:p=!1,disableTouchRipple:g=!1,focusRipple:m=!1,focusVisibleClassName:y,LinkComponent:b="a",onBlur:x,onClick:T,onContextMenu:k,onDragLeave:L,onFocus:N,onFocusVisible:R,onKeyDown:W,onKeyUp:j,onMouseDown:A,onMouseLeave:U,onMouseUp:K,onTouchEnd:S,onTouchMove:M,onTouchStart:D,tabIndex:X=0,TouchRippleProps:re,touchRippleRef:_e,type:me,...ie}=r,ce=G.useRef(null),Le=Iie(),un=ZC(Le.ref,_e),[ct,Ni]=G.useState(!1);d&&ct&&Ni(!1),G.useImperativeHandle(o,()=>({focusVisible:()=>{Ni(!0),ce.current.focus()}}),[]);const Zu=Le.shouldMount&&!p&&!d;G.useEffect(()=>{ct&&m&&!p&&Le.pulsate()},[p,m,ct,Le]);const ec=pi(Le,"start",A,g),wo=pi(Le,"stop",k,g),Li=pi(Le,"stop",L,g),ys=pi(Le,"stop",K,g),ei=pi(Le,"stop",Q=>{ct&&Q.preventDefault(),U&&U(Q)},g),Qn=pi(Le,"start",D,g),tc=pi(Le,"stop",S,g),Fi=pi(Le,"stop",M,g),Bi=pi(Le,"stop",Q=>{tT(Q.target)||Ni(!1),x&&x(Q)},!1),ba=Hd(Q=>{ce.current||(ce.current=Q.currentTarget),tT(Q.target)&&(Ni(!0),R&&R(Q)),N&&N(Q)}),cn=()=>{const Q=ce.current;return f&&f!=="button"&&!(Q.tagName==="A"&&Q.href)},ti=Hd(Q=>{m&&!Q.repeat&&ct&&Q.key===" "&&Le.stop(Q,()=>{Le.start(Q)}),Q.target===Q.currentTarget&&cn()&&Q.key===" "&&Q.preventDefault(),W&&W(Q),Q.target===Q.currentTarget&&cn()&&Q.key==="Enter"&&!d&&(Q.preventDefault(),T&&T(Q))}),nc=Hd(Q=>{m&&Q.key===" "&&ct&&!Q.defaultPrevented&&Le.stop(Q,()=>{Le.pulsate(Q)}),j&&j(Q),T&&Q.target===Q.currentTarget&&cn()&&Q.key===" "&&!Q.defaultPrevented&&T(Q)});let wn=f;wn==="button"&&(ie.href||ie.to)&&(wn=b);const Eo={};wn==="button"?(Eo.type=me===void 0?"button":me,Eo.disabled=d):(!ie.href&&!ie.to&&(Eo.role="button"),d&&(Eo["aria-disabled"]=d));const rc=ZC(n,ce),xo={...r,centerRipple:s,component:f,disabled:d,disableRipple:p,disableTouchRipple:g,focusRipple:m,tabIndex:X,focusVisible:ct},Dn=Wie(xo);return J.jsxs(Uie,{as:wn,className:vn(Dn.root,c),ownerState:xo,onBlur:Bi,onClick:T,onContextMenu:wo,onFocus:ba,onKeyDown:ti,onKeyUp:nc,onMouseDown:ec,onMouseLeave:ei,onMouseUp:ys,onDragLeave:Li,onTouchEnd:tc,onTouchMove:Fi,onTouchStart:Qn,ref:rc,tabIndex:d?-1:X,type:me,...Eo,...ie,children:[a,Zu?J.jsx(Bie,{ref:un,center:s,...re}):null]})});function pi(e,t,n,r=!1){return Hd(o=>(n&&n(o),r||e[t](o),!0))}function zie(e){return typeof e.main=="string"}function qie(e,t=[]){if(!zie(e))return!1;for(const n of t)if(!e.hasOwnProperty(n)||typeof e[n]!="string")return!1;return!0}function wl(e=[]){return([,t])=>t&&qie(t,e)}function Kie(e){return va("MuiCircularProgress",e)}ms("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Yi=44,e_=sf`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,t_=sf`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,Vie=typeof e_!="string"?iS`
        animation: ${e_} 1.4s linear infinite;
      `:null,Hie=typeof t_!="string"?iS`
        animation: ${t_} 1.4s ease-in-out infinite;
      `:null,Gie=e=>{const{classes:t,variant:n,color:r,disableShrink:o}=e,s={root:["root",n,`color${Ve(r)}`],svg:["svg"],circle:["circle",`circle${Ve(n)}`,o&&"circleDisableShrink"]};return Qu(s,Kie,t)},Jie=Xn("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`color${Ve(n.color)}`]]}})(sa(({theme:e})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("transform")}},{props:{variant:"indeterminate"},style:Vie||{animation:`${e_} 1.4s linear infinite`}},...Object.entries(e.palette).filter(wl()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}}))]}))),Yie=Xn("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),Xie=Xn("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t[`circle${Ve(n.variant)}`],n.disableShrink&&t.circleDisableShrink]}})(sa(({theme:e})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink,style:Hie||{animation:`${t_} 1.4s ease-in-out infinite`}}]}))),r2=G.forwardRef(function(t,n){const r=_a({props:t,name:"MuiCircularProgress"}),{className:o,color:s="primary",disableShrink:a=!1,size:c=40,style:f,thickness:d=3.6,value:p=0,variant:g="indeterminate",...m}=r,y={...r,color:s,disableShrink:a,size:c,thickness:d,value:p,variant:g},b=Gie(y),x={},T={},k={};if(g==="determinate"){const L=2*Math.PI*((Yi-d)/2);x.strokeDasharray=L.toFixed(3),k["aria-valuenow"]=Math.round(p),x.strokeDashoffset=`${((100-p)/100*L).toFixed(3)}px`,T.transform="rotate(-90deg)"}return J.jsx(Jie,{className:vn(b.root,o),style:{width:c,height:c,...T,...f},ownerState:y,ref:n,role:"progressbar",...k,...m,children:J.jsx(Yie,{className:b.svg,ownerState:y,viewBox:`${Yi/2} ${Yi/2} ${Yi} ${Yi}`,children:J.jsx(Xie,{className:b.circle,style:x,ownerState:y,cx:Yi,cy:Yi,r:(Yi-d)/2,fill:"none",strokeWidth:d})})})});function Qie(e){return va("MuiIconButton",e)}const fT=ms("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),Zie=e=>{const{classes:t,disabled:n,color:r,edge:o,size:s,loading:a}=e,c={root:["root",a&&"loading",n&&"disabled",r!=="default"&&`color${Ve(r)}`,o&&`edge${Ve(o)}`,`size${Ve(s)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return Qu(c,Qie,t)},ese=Xn(n2,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.loading&&t.loading,n.color!=="default"&&t[`color${Ve(n.color)}`],n.edge&&t[`edge${Ve(n.edge)}`],t[`size${Ve(n.size)}`]]}})(sa(({theme:e})=>({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),variants:[{props:t=>!t.disableRipple,style:{"--IconButton-hoverBg":e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Zi(e.palette.action.active,e.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),sa(({theme:e})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(e.palette).filter(wl()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}})),...Object.entries(e.palette).filter(wl()).map(([t])=>({props:{color:t},style:{"--IconButton-hoverBg":e.vars?`rgba(${(e.vars||e).palette[t].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Zi((e.vars||e).palette[t].main,e.palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:e.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:e.typography.pxToRem(28)}}],[`&.${fT.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled},[`&.${fT.loading}`]:{color:"transparent"}}))),tse=Xn("span",{name:"MuiIconButton",slot:"LoadingIndicator",overridesResolver:(e,t)=>t.loadingIndicator})(({theme:e})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(e.vars||e).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),SS=G.forwardRef(function(t,n){const r=_a({props:t,name:"MuiIconButton"}),{edge:o=!1,children:s,className:a,color:c="default",disabled:f=!1,disableFocusRipple:d=!1,size:p="medium",id:g,loading:m=null,loadingIndicator:y,...b}=r,x=HM(g),T=y??J.jsx(r2,{"aria-labelledby":x,color:"inherit",size:16}),k={...r,edge:o,color:c,disabled:f,disableFocusRipple:d,loading:m,loadingIndicator:T,size:p},L=Zie(k);return J.jsxs(ese,{id:m?x:g,className:vn(L.root,a),centerRipple:!0,focusRipple:!d,disabled:f||m,ref:n,...b,ownerState:k,children:[typeof m=="boolean"&&J.jsx("span",{className:L.loadingWrapper,style:{display:"contents"},children:J.jsx(tse,{className:L.loadingIndicator,ownerState:k,children:m&&T})}),s]})});function nse(e){return va("MuiTypography",e)}ms("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const rse={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},ose=yie(),ise=e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:o,variant:s,classes:a}=e,c={root:["root",s,e.align!=="inherit"&&`align${Ve(t)}`,n&&"gutterBottom",r&&"noWrap",o&&"paragraph"]};return Qu(c,nse,a)},sse=Xn("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],n.align!=="inherit"&&t[`align${Ve(n.align)}`],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})(sa(({theme:e})=>{var t;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(e.typography).filter(([n,r])=>n!=="inherit"&&r&&typeof r=="object").map(([n,r])=>({props:{variant:n},style:r})),...Object.entries(e.palette).filter(wl()).map(([n])=>({props:{color:n},style:{color:(e.vars||e).palette[n].main}})),...Object.entries(((t=e.palette)==null?void 0:t.text)||{}).filter(([,n])=>typeof n=="string").map(([n])=>({props:{color:`text${Ve(n)}`},style:{color:(e.vars||e).palette.text[n]}})),{props:({ownerState:n})=>n.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:n})=>n.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:n})=>n.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:n})=>n.paragraph,style:{marginBottom:16}}]}})),dT={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Mi=G.forwardRef(function(t,n){const{color:r,...o}=_a({props:t,name:"MuiTypography"}),s=!rse[r],a=ose({...o,...s&&{color:r}}),{align:c="inherit",className:f,component:d,gutterBottom:p=!1,noWrap:g=!1,paragraph:m=!1,variant:y="body1",variantMapping:b=dT,...x}=a,T={...a,align:c,color:r,className:f,component:d,gutterBottom:p,noWrap:g,paragraph:m,variant:y,variantMapping:b},k=d||(m?"p":b[y]||dT[y])||"span",L=ise(T);return J.jsx(sse,{as:k,ref:n,className:vn(L.root,f),...x,ownerState:T,style:{...c!=="inherit"&&{"--Typography-textAlign":c},...x.style}})}),ase=ms("MuiBox",["root"]),use=e2(),to=aoe({themeId:mM,defaultTheme:use,defaultClassName:ase.root,generateClassName:UM.generate});function cse(e){return va("MuiButton",e)}const As=ms("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),lse=G.createContext({}),fse=G.createContext(void 0),dse=e=>{const{color:t,disableElevation:n,fullWidth:r,size:o,variant:s,loading:a,loadingPosition:c,classes:f}=e,d={root:["root",a&&"loading",s,`${s}${Ve(t)}`,`size${Ve(o)}`,`${s}Size${Ve(o)}`,`color${Ve(t)}`,n&&"disableElevation",r&&"fullWidth",a&&`loadingPosition${Ve(c)}`],startIcon:["icon","startIcon",`iconSize${Ve(o)}`],endIcon:["icon","endIcon",`iconSize${Ve(o)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},p=Qu(d,cse,f);return{...f,...p}},o2=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],hse=Xn(n2,{shouldForwardProp:e=>t2(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${Ve(n.color)}`],t[`size${Ve(n.size)}`],t[`${n.variant}Size${Ve(n.size)}`],n.color==="inherit"&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth,n.loading&&t.loading]}})(sa(({theme:e})=>{const t=e.palette.mode==="light"?e.palette.grey[300]:e.palette.grey[800],n=e.palette.mode==="light"?e.palette.grey.A100:e.palette.grey[700];return{...e.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${As.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(e.vars||e).shadows[2],"&:hover":{boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2]}},"&:active":{boxShadow:(e.vars||e).shadows[8]},[`&.${As.focusVisible}`]:{boxShadow:(e.vars||e).shadows[6]},[`&.${As.disabled}`]:{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${As.disabled}`]:{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(e.palette).filter(wl()).map(([r])=>({props:{color:r},style:{"--variant-textColor":(e.vars||e).palette[r].main,"--variant-outlinedColor":(e.vars||e).palette[r].main,"--variant-outlinedBorder":e.vars?`rgba(${e.vars.palette[r].mainChannel} / 0.5)`:Zi(e.palette[r].main,.5),"--variant-containedColor":(e.vars||e).palette[r].contrastText,"--variant-containedBg":(e.vars||e).palette[r].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(e.vars||e).palette[r].dark,"--variant-textBg":e.vars?`rgba(${e.vars.palette[r].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Zi(e.palette[r].main,e.palette.action.hoverOpacity),"--variant-outlinedBorder":(e.vars||e).palette[r].main,"--variant-outlinedBg":e.vars?`rgba(${e.vars.palette[r].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Zi(e.palette[r].main,e.palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedBg:t,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedHoverBg:n,"--variant-textBg":e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:Zi(e.palette.text.primary,e.palette.action.hoverOpacity),"--variant-outlinedBg":e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:Zi(e.palette.text.primary,e.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${As.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${As.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:e.transitions.create(["background-color","box-shadow","border-color"],{duration:e.transitions.duration.short}),[`&.${As.loading}`]:{color:"transparent"}}}]}})),pse=Xn("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,n.loading&&t.startIconLoadingStart,t[`iconSize${Ve(n.size)}`]]}})(({theme:e})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...o2]})),gse=Xn("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,n.loading&&t.endIconLoadingEnd,t[`iconSize${Ve(n.size)}`]]}})(({theme:e})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...o2]})),mse=Xn("span",{name:"MuiButton",slot:"LoadingIndicator",overridesResolver:(e,t)=>t.loadingIndicator})(({theme:e})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(e.vars||e).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),hT=Xn("span",{name:"MuiButton",slot:"LoadingIconPlaceholder",overridesResolver:(e,t)=>t.loadingIconPlaceholder})({display:"inline-block",width:"1em",height:"1em"}),yse=G.forwardRef(function(t,n){const r=G.useContext(lse),o=G.useContext(fse),s=zh(r,t),a=_a({props:s,name:"MuiButton"}),{children:c,color:f="primary",component:d="button",className:p,disabled:g=!1,disableElevation:m=!1,disableFocusRipple:y=!1,endIcon:b,focusVisibleClassName:x,fullWidth:T=!1,id:k,loading:L=null,loadingIndicator:N,loadingPosition:R="center",size:W="medium",startIcon:j,type:A,variant:U="text",...K}=a,S=HM(k),M=N??J.jsx(r2,{"aria-labelledby":S,color:"inherit",size:16}),D={...a,color:f,component:d,disabled:g,disableElevation:m,disableFocusRipple:y,fullWidth:T,loading:L,loadingIndicator:M,loadingPosition:R,size:W,type:A,variant:U},X=dse(D),re=(j||L&&R==="start")&&J.jsx(pse,{className:X.startIcon,ownerState:D,children:j||J.jsx(hT,{className:X.loadingIconPlaceholder,ownerState:D})}),_e=(b||L&&R==="end")&&J.jsx(gse,{className:X.endIcon,ownerState:D,children:b||J.jsx(hT,{className:X.loadingIconPlaceholder,ownerState:D})}),me=o||"",ie=typeof L=="boolean"?J.jsx("span",{className:X.loadingWrapper,style:{display:"contents"},children:L&&J.jsx(mse,{className:X.loadingIndicator,ownerState:D,children:M})}):null;return J.jsxs(hse,{ownerState:D,className:vn(r.className,X.root,p,me),component:d,disabled:g||L,focusRipple:!y,focusVisibleClassName:vn(X.focusVisible,x),ref:n,type:A,id:L?S:k,...K,classes:X,children:[re,R!=="end"&&ie,c,R==="end"&&ie,_e]})}),So=({children:e})=>J.jsx(to,{sx:{height:100,width:"100%",display:"flex"},children:e}),vse=ue({label:Pn(it),border:Pn(ue({sizePx:Pn(Ut),color:Pn(it)})),visible:Pn(Rp)}),_se=()=>({}),bse=e=>({widget:Et.intersect(e.widget,vse,_se),Component:e.Component}),ao={of:bse};var Sse=vS(J.jsx("path",{d:"M8 5v14l11-7z"}),"PlayArrow");const wse=({onPlay:e})=>J.jsx(to,{sx:{borderRadius:"5px",backgroundColor:"success.main"},children:J.jsx(SS,{sx:{width:100,height:100},"aria-label":"play",onClick:e,children:J.jsx(Sse,{sx:{fontSize:80}})})});var Ese=vS(J.jsx("path",{d:"M6 6h12v12H6z"}),"Stop");const xse=({onStop:e})=>J.jsx(to,{sx:{borderRadius:"5px",backgroundColor:"error.main"},children:J.jsx(SS,{sx:{width:100,height:100},"aria-label":"play",onClick:e,children:J.jsx(Ese,{sx:{fontSize:80}})})}),Cse=ao.of({widget:cM,Component:(e,t,n)=>J.jsx(So,{children:n.color===e.playColor?J.jsx(wse,{onPlay:()=>t(e.target)}):J.jsx(xse,{onStop:()=>t(e.target)})})}),Tse=ao.of({widget:lM,Component:(e,t,n)=>{var o,s,a;const r=((a=(s=(o=te.head(n))==null?void 0:o.options)==null?void 0:s.timeSignature)==null?void 0:a.noteCount)||8;return J.jsx(So,{children:n.slice(0,r).map((c,f)=>J.jsx(to,{sx:{borderRadius:"5px",border:"1px solid black",width:100,backgroundColor:`#${c.color===ee.BLACK?"777777":ee.toHex(c.color)}`,display:"flex"},children:J.jsx(Mi,{sx:{width:"100%"},variant:"h1",lineHeight:1,align:"center",children:f+1})},f))})}}),kse=Et.one({name:"active-clip",schema:ue({trackName:it}),init:()=>({trackName:"Track"}),tracks:e=>[e.trackName],component:({target:e,trackName:t})=>{const n=Ge.useTrack(t),r=Ge.useActiveClip(n);return J.jsx("pad",{target:e,color:r.type==="real"?r.color:ee.BLACK,options:{label:r.type==="real"?r.name:void 0}})}}),Ose=ao.of({widget:kse,Component:(e,t,n)=>{var r;return J.jsx(So,{children:J.jsx(Mi,{sx:{borderRadius:"5px",width:"100%",px:1,backgroundColor:`#${ee.toHex(n.color)}`},variant:"h1",lineHeight:1,align:"center",children:((r=n.options)==null?void 0:r.label)||""})})}}),n_=Mn("init",{widgets:Jo(V0)}),Kh=Mn("pad",{target:vr.Schema,color:ee.Schema,options:Pn(V0)});Ri(n_,Kh);const pT=e=>{const t=r=>{const o=e[vr.toKey(r)];return o!==void 0&&o._tag==="pad"?o:Kh.make({target:r,color:0,options:{}})};return{one:t,many:r=>r.map(t)}},Ise=e=>{const t=te.fromPairs(te.map(e,a=>[a.widget.name,a])),n=a=>t[a],r=(a,c,f)=>{const d=n(a._tag);return a.target!==void 0?d.Component(a,c,pT(f).one(a.target)):a.targets!==void 0?d.Component(a,c,pT(f).many(a.targets)):d.Component(a)},o=te.map(e,a=>a.widget),s=Ri(...o.map(a=>a.schema));return{widgets:e,controllerWidgets:o,getByName:n,Component:r,schema:s}},Ase=Et.one({name:"tempo",schema:ue({}),init:()=>({}),component:({target:e})=>{const t=Ge.useTempo();return J.jsx("pad",{color:ee.BLACK,target:e,options:{label:t}})}}),$se=ao.of({widget:Ase,Component:(e,t,n)=>{var r;return J.jsx(So,{children:J.jsx(Mi,{sx:{borderRadius:"5px",width:"100%",backgroundColor:`#${ee.toHex(n.color)}`},variant:"h1",lineHeight:1,align:"center",children:((r=n.options)==null?void 0:r.label)||"0"})})}}),Rse=Et.one({name:"time-signature",schema:ue({}),init:()=>({}),component:({target:e})=>{const t=Ge.useTimeSignature();return J.jsx("pad",{color:ee.BLACK,target:e,options:{label:`${t.noteCount}/${t.noteLength}`}})}}),Pse=ao.of({widget:Rse,Component:(e,t,n)=>{var r;return J.jsx(So,{children:J.jsx(Mi,{sx:{borderRadius:"5px",width:"100%",backgroundColor:`#${ee.toHex(n.color)}`},variant:"h1",lineHeight:1,align:"center",children:((r=n.options)==null?void 0:r.label)||"4/4"})})}}),Mse=Et.one({name:"beat",schema:ue({}),init:()=>({}),component:({target:e})=>{const t=Ge.useBarBeats();return J.jsx("pad",{color:ee.BLACK,target:e,options:{label:`${t}`}})}}),Nse=ao.of({widget:Mse,Component:(e,t,n)=>{var r;return J.jsx(So,{children:J.jsx(Mi,{sx:{borderRadius:"5px",width:"100%",backgroundColor:`#${ee.toHex(n.color)}`},variant:"h1",lineHeight:1,align:"center",children:((r=n.options)==null?void 0:r.label)||"0"})})}}),Lse=ao.of({widget:fM,Component:(e,t,n)=>J.jsx(So,{children:n.map((r,o)=>{var s;return r.options!==void 0?J.jsx(to,{sx:{borderRadius:"5px",border:"1px solid black",backgroundColor:`#${ee.toHex(r.color)}`,display:"flex",width:100,cursor:"pointer",alignItems:"center",justifyContent:"center"},onClick:()=>t(r.target),children:J.jsx(Mi,{sx:{width:"100%",px:1},lineHeight:1,align:"center",children:((s=r.options)==null?void 0:s.label)||""})},o):null})})}),Fse=e=>{var t;return((t=e.options)==null?void 0:t.isActive)||!1},Bse=ao.of({widget:dM,Component:(e,t,n)=>J.jsx(So,{children:n.map((r,o)=>{var s,a,c;return r.options!==void 0?J.jsxs(to,{sx:{position:"relative",borderRadius:"5px",border:"1px solid black",backgroundColor:`#${ee.toHex(r.color)}`,display:"flex",width:100,alignItems:"center",justifyContent:"center"},children:[Fse(r)&&((s=r.options)==null?void 0:s.progress)!==void 0?J.jsx(to,{sx:{position:"absolute",top:0,left:(a=r.options)==null?void 0:a.progress,height:"100%",width:"5px",backgroundColor:"black"}}):null,J.jsx(Mi,{sx:{width:"100%",px:1},lineHeight:1,align:"center",children:((c=r.options)==null?void 0:c.label)||""})]},o):null})})}),jse=ao.of({widget:Et.none({name:"spacer",schema:ue({width:Ut,isLineBreaking:Pn(Rp)}),init:()=>({width:100}),component:({})=>J.jsx(J.Fragment,{})}),Component:e=>J.jsx(to,{sx:{width:`${e.width}px`}})}),Dse=ao.of({widget:hM,Component:(e,t,n)=>{var r,o,s;return J.jsx(So,{children:J.jsx(yse,{sx:{height:100,width:100,backgroundColor:`#${ee.toHex(e.color)}`,textDecoration:"none"},onClick:()=>t(n.target),variant:"text",children:J.jsx(Mi,{sx:{fontWeight:"bold",color:`#${ee.toHex(((r=e.text)==null?void 0:r.color)||ee.BLACK)}`,fontSize:(o=e.text)==null?void 0:o.size},children:((s=e.text)==null?void 0:s.content)||""})})})}}),Wse=Mn("midi-note-vary-velocity",{note:Ut,...ha.fields}),Use=Mn("midi-note-vary-note",{velocity:Ut,...ha.fields}),zse=Mn("midi-cc-vary-data",{controllerNumber:Ut,...ha.fields}),qse=Ri(Use,Wse,zse),Kse=(e,t)=>vr.match(e,{Note:()=>t.type==="noteon"?t.velocity:0,CC:()=>t.type==="cc"?t.data:0,PC:()=>0}),Vse=(e,t)=>e._tag==="midi-note-vary-velocity"?{type:"noteon",note:e.note,channel:e.channel,velocity:t}:e._tag==="midi-note-vary-note"?{type:"noteon",note:t,channel:e.channel,velocity:e.velocity}:{type:"cc",controllerNumber:e.controllerNumber,channel:e.channel,data:t},Hse=Et.one({name:"knob",schema:ue({color:ee.Schema,midi:qse,text:Pn(ue({content:it,color:Pn(ee.Schema),size:Pn(it)}))}),init:()=>({color:ee.GREEN,midi:{_tag:"midi-note-vary-velocity",note:1,channel:1}}),component:({target:e,color:t,midi:n})=>{const r=Pi.useDawEmitter();return J.jsx(Ci,{color:t,target:e,onClick:o=>{const s=Kse(e,o),a=Vse(n,s);r.send(a)}})}});var Gse={};function Jse(e){if(Array.isArray(e))return e}function Yse(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,o,s,a,c=[],f=!0,d=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(f=(r=s.call(n)).done)&&(c.push(r.value),c.length!==t);f=!0);}catch(p){d=!0,o=p}finally{try{if(!f&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(d)throw o}}return c}}function r_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i2(e,t){if(e){if(typeof e=="string")return r_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r_(e,t)}}function Xse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gd(e,t){return Jse(e)||Yse(e,t)||i2(e,t)||Xse()}function _n(e){"@babel/helpers - typeof";return _n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_n(e)}function Vh(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t){for(var r=[],o=0;o<t.length;o++){var s=t[o];if(s){var a=_n(s);if(a==="string"||a==="number")r.push(s);else if(a==="object"){var c=Array.isArray(s)?s:Object.entries(s).map(function(f){var d=Gd(f,2),p=d[0],g=d[1];return g?p:null});r=c.length?r.concat(c.filter(function(f){return!!f})):r}}}return r.join(" ").trim()}}function Qse(e){if(Array.isArray(e))return r_(e)}function Zse(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function eae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o_(e){return Qse(e)||Zse(e)||i2(e)||eae()}function s2(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tae(e,t){if(_n(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(_n(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function a2(e){var t=tae(e,"string");return _n(t)==="symbol"?t:String(t)}function nae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,a2(r.key),r)}}function u2(e,t,n){return n&&nae(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function wS(e,t,n){return t=a2(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ny(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=rae(e))||t){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(d){throw d},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,a=!1,c;return{s:function(){n=n.call(e)},n:function(){var d=n.next();return s=d.done,d},e:function(d){a=!0,c=d},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(a)throw c}}}}function rae(e,t){if(e){if(typeof e=="string")return gT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gT(e,t)}}function gT(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ks=function(){function e(){s2(this,e)}return u2(e,null,[{key:"innerWidth",value:function(n){if(n){var r=n.offsetWidth,o=getComputedStyle(n);return r=r+(parseFloat(o.paddingLeft)+parseFloat(o.paddingRight)),r}return 0}},{key:"width",value:function(n){if(n){var r=n.offsetWidth,o=getComputedStyle(n);return r=r-(parseFloat(o.paddingLeft)+parseFloat(o.paddingRight)),r}return 0}},{key:"getBrowserLanguage",value:function(){return navigator.userLanguage||navigator.languages&&navigator.languages.length&&navigator.languages[0]||navigator.language||navigator.browserLanguage||navigator.systemLanguage||"en"}},{key:"getWindowScrollTop",value:function(){var n=document.documentElement;return(window.pageYOffset||n.scrollTop)-(n.clientTop||0)}},{key:"getWindowScrollLeft",value:function(){var n=document.documentElement;return(window.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}},{key:"getOuterWidth",value:function(n,r){if(n){var o=n.getBoundingClientRect().width||n.offsetWidth;if(r){var s=getComputedStyle(n);o=o+(parseFloat(s.marginLeft)+parseFloat(s.marginRight))}return o}return 0}},{key:"getOuterHeight",value:function(n,r){if(n){var o=n.getBoundingClientRect().height||n.offsetHeight;if(r){var s=getComputedStyle(n);o=o+(parseFloat(s.marginTop)+parseFloat(s.marginBottom))}return o}return 0}},{key:"getClientHeight",value:function(n,r){if(n){var o=n.clientHeight;if(r){var s=getComputedStyle(n);o=o+(parseFloat(s.marginTop)+parseFloat(s.marginBottom))}return o}return 0}},{key:"getClientWidth",value:function(n,r){if(n){var o=n.clientWidth;if(r){var s=getComputedStyle(n);o=o+(parseFloat(s.marginLeft)+parseFloat(s.marginRight))}return o}return 0}},{key:"getViewport",value:function(){var n=window,r=document,o=r.documentElement,s=r.getElementsByTagName("body")[0],a=n.innerWidth||o.clientWidth||s.clientWidth,c=n.innerHeight||o.clientHeight||s.clientHeight;return{width:a,height:c}}},{key:"getOffset",value:function(n){if(n){var r=n.getBoundingClientRect();return{top:r.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:r.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}return{top:"auto",left:"auto"}}},{key:"index",value:function(n){if(n)for(var r=n.parentNode.childNodes,o=0,s=0;s<r.length;s++){if(r[s]===n)return o;r[s].nodeType===1&&o++}return-1}},{key:"addMultipleClasses",value:function(n,r){if(n&&r)if(n.classList)for(var o=r.split(" "),s=0;s<o.length;s++)n.classList.add(o[s]);else for(var a=r.split(" "),c=0;c<a.length;c++)n.className=n.className+(" "+a[c])}},{key:"removeMultipleClasses",value:function(n,r){if(n&&r)if(n.classList)for(var o=r.split(" "),s=0;s<o.length;s++)n.classList.remove(o[s]);else for(var a=r.split(" "),c=0;c<a.length;c++)n.className=n.className.replace(new RegExp("(^|\\b)"+a[c].split(" ").join("|")+"(\\b|$)","gi")," ")}},{key:"addClass",value:function(n,r){n&&r&&(n.classList?n.classList.add(r):n.className=n.className+(" "+r))}},{key:"removeClass",value:function(n,r){n&&r&&(n.classList?n.classList.remove(r):n.className=n.className.replace(new RegExp("(^|\\b)"+r.split(" ").join("|")+"(\\b|$)","gi")," "))}},{key:"hasClass",value:function(n,r){return n?n.classList?n.classList.contains(r):new RegExp("(^| )"+r+"( |$)","gi").test(n.className):!1}},{key:"addStyles",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};n&&Object.entries(r).forEach(function(o){var s=Gd(o,2),a=s[0],c=s[1];return n.style[a]=c})}},{key:"find",value:function(n,r){return n?Array.from(n.querySelectorAll(r)):[]}},{key:"findSingle",value:function(n,r){return n?n.querySelector(r):null}},{key:"setAttributes",value:function(n){var r=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(n){var s=function(c,f){var d,p,g=n!=null&&(d=n.$attrs)!==null&&d!==void 0&&d[c]?[n==null||(p=n.$attrs)===null||p===void 0?void 0:p[c]]:[];return[f].flat().reduce(function(m,y){if(y!=null){var b=_n(y);if(b==="string"||b==="number")m.push(y);else if(b==="object"){var x=Array.isArray(y)?s(c,y):Object.entries(y).map(function(T){var k=Gd(T,2),L=k[0],N=k[1];return c==="style"&&(N||N===0)?"".concat(L.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),":").concat(N):N?L:void 0});m=x.length?m.concat(x.filter(function(T){return!!T})):m}}return m},g)};Object.entries(o).forEach(function(a){var c=Gd(a,2),f=c[0],d=c[1];if(d!=null){var p=f.match(/^on(.+)/);p?n.addEventListener(p[1].toLowerCase(),d):f==="p-bind"?r.setAttributes(n,d):(d=f==="class"?o_(new Set(s("class",d))).join(" ").trim():f==="style"?s("style",d).join(";").trim():d,(n.$attrs=n.$attrs||{})&&(n.$attrs[f]=d),n.setAttribute(f,d))}})}}},{key:"getAttribute",value:function(n,r){if(n){var o=n.getAttribute(r);return isNaN(o)?o==="true"||o==="false"?o==="true":o:+o}}},{key:"isAttributeEquals",value:function(n,r,o){return n?this.getAttribute(n,r)===o:!1}},{key:"isAttributeNotEquals",value:function(n,r,o){return!this.isAttributeEquals(n,r,o)}},{key:"getHeight",value:function(n){if(n){var r=n.offsetHeight,o=getComputedStyle(n);return r=r-(parseFloat(o.paddingTop)+parseFloat(o.paddingBottom)+parseFloat(o.borderTopWidth)+parseFloat(o.borderBottomWidth)),r}return 0}},{key:"getWidth",value:function(n){if(n){var r=n.offsetWidth,o=getComputedStyle(n);return r=r-(parseFloat(o.paddingLeft)+parseFloat(o.paddingRight)+parseFloat(o.borderLeftWidth)+parseFloat(o.borderRightWidth)),r}return 0}},{key:"alignOverlay",value:function(n,r,o){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;n&&r&&(o==="self"?this.relativePosition(n,r):(s&&(n.style.minWidth=e.getOuterWidth(r)+"px"),this.absolutePosition(n,r)))}},{key:"absolutePosition",value:function(n,r){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"left";if(n&&r){var s=n.offsetParent?{width:n.offsetWidth,height:n.offsetHeight}:this.getHiddenElementDimensions(n),a=s.height,c=s.width,f=r.offsetHeight,d=r.offsetWidth,p=r.getBoundingClientRect(),g=this.getWindowScrollTop(),m=this.getWindowScrollLeft(),y=this.getViewport(),b,x;p.top+f+a>y.height?(b=p.top+g-a,b<0&&(b=g),n.style.transformOrigin="bottom"):(b=f+p.top+g,n.style.transformOrigin="top");var T=p.left,k=o==="left"?0:c-d;T+d+c>y.width?x=Math.max(0,T+m+d-c):x=T-k+m,n.style.top=b+"px",n.style.left=x+"px"}}},{key:"relativePosition",value:function(n,r){if(n&&r){var o=n.offsetParent?{width:n.offsetWidth,height:n.offsetHeight}:this.getHiddenElementDimensions(n),s=r.offsetHeight,a=r.getBoundingClientRect(),c=this.getViewport(),f,d;a.top+s+o.height>c.height?(f=-1*o.height,a.top+f<0&&(f=-1*a.top),n.style.transformOrigin="bottom"):(f=s,n.style.transformOrigin="top"),o.width>c.width?d=a.left*-1:a.left+o.width>c.width?d=(a.left+o.width-c.width)*-1:d=0,n.style.top=f+"px",n.style.left=d+"px"}}},{key:"flipfitCollision",value:function(n,r){var o=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"left top",a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"left bottom",c=arguments.length>4?arguments[4]:void 0;if(n&&r){var f=r.getBoundingClientRect(),d=this.getViewport(),p=s.split(" "),g=a.split(" "),m=function(k,L){return L?+k.substring(k.search(/(\+|-)/g))||0:k.substring(0,k.search(/(\+|-)/g))||k},y={my:{x:m(p[0]),y:m(p[1]||p[0]),offsetX:m(p[0],!0),offsetY:m(p[1]||p[0],!0)},at:{x:m(g[0]),y:m(g[1]||g[0]),offsetX:m(g[0],!0),offsetY:m(g[1]||g[0],!0)}},b={left:function(){var k=y.my.offsetX+y.at.offsetX;return k+f.left+(y.my.x==="left"?0:-1*(y.my.x==="center"?o.getOuterWidth(n)/2:o.getOuterWidth(n)))},top:function(){var k=y.my.offsetY+y.at.offsetY;return k+f.top+(y.my.y==="top"?0:-1*(y.my.y==="center"?o.getOuterHeight(n)/2:o.getOuterHeight(n)))}},x={count:{x:0,y:0},left:function(){var k=b.left(),L=e.getWindowScrollLeft();n.style.left=k+L+"px",this.count.x===2?(n.style.left=L+"px",this.count.x=0):k<0&&(this.count.x++,y.my.x="left",y.at.x="right",y.my.offsetX*=-1,y.at.offsetX*=-1,this.right())},right:function(){var k=b.left()+e.getOuterWidth(r),L=e.getWindowScrollLeft();n.style.left=k+L+"px",this.count.x===2?(n.style.left=d.width-e.getOuterWidth(n)+L+"px",this.count.x=0):k+e.getOuterWidth(n)>d.width&&(this.count.x++,y.my.x="right",y.at.x="left",y.my.offsetX*=-1,y.at.offsetX*=-1,this.left())},top:function(){var k=b.top(),L=e.getWindowScrollTop();n.style.top=k+L+"px",this.count.y===2?(n.style.left=L+"px",this.count.y=0):k<0&&(this.count.y++,y.my.y="top",y.at.y="bottom",y.my.offsetY*=-1,y.at.offsetY*=-1,this.bottom())},bottom:function(){var k=b.top()+e.getOuterHeight(r),L=e.getWindowScrollTop();n.style.top=k+L+"px",this.count.y===2?(n.style.left=d.height-e.getOuterHeight(n)+L+"px",this.count.y=0):k+e.getOuterHeight(r)>d.height&&(this.count.y++,y.my.y="bottom",y.at.y="top",y.my.offsetY*=-1,y.at.offsetY*=-1,this.top())},center:function(k){if(k==="y"){var L=b.top()+e.getOuterHeight(r)/2;n.style.top=L+e.getWindowScrollTop()+"px",L<0?this.bottom():L+e.getOuterHeight(r)>d.height&&this.top()}else{var N=b.left()+e.getOuterWidth(r)/2;n.style.left=N+e.getWindowScrollLeft()+"px",N<0?this.left():N+e.getOuterWidth(n)>d.width&&this.right()}}};x[y.at.x]("x"),x[y.at.y]("y"),this.isFunction(c)&&c(y)}}},{key:"findCollisionPosition",value:function(n){if(n){var r=n==="top"||n==="bottom",o=n==="left"?"right":"left",s=n==="top"?"bottom":"top";return r?{axis:"y",my:"center ".concat(s),at:"center ".concat(n)}:{axis:"x",my:"".concat(o," center"),at:"".concat(n," center")}}}},{key:"getParents",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return n.parentNode===null?r:this.getParents(n.parentNode,r.concat([n.parentNode]))}},{key:"getScrollableParents",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,o=[];if(n){var s=this.getParents(n),a=/(auto|scroll)/,c=function(R){var W=R?getComputedStyle(R):null;return W&&(a.test(W.getPropertyValue("overflow"))||a.test(W.getPropertyValue("overflow-x"))||a.test(W.getPropertyValue("overflow-y")))},f=function(R){r&&o.push(R.nodeName==="BODY"||R.nodeName==="HTML"||R.nodeType===9?window:R)},d=Ny(s),p;try{for(d.s();!(p=d.n()).done;){var g,m=p.value,y=m.nodeType===1&&((g=m.dataset)===null||g===void 0?void 0:g.scrollselectors);if(y){var b=y.split(","),x=Ny(b),T;try{for(x.s();!(T=x.n()).done;){var k=T.value,L=this.findSingle(m,k);L&&c(L)&&f(L)}}catch(N){x.e(N)}finally{x.f()}}m.nodeType===1&&c(m)&&f(m)}}catch(N){d.e(N)}finally{d.f()}}return o.some(function(N){return N===document.body||N===window})||o.push(r?window:document.body),o}},{key:"getHiddenElementOuterHeight",value:function(n){if(n){n.style.visibility="hidden",n.style.display="block";var r=n.offsetHeight;return n.style.display="none",n.style.visibility="visible",r}return 0}},{key:"getHiddenElementOuterWidth",value:function(n){if(n){n.style.visibility="hidden",n.style.display="block";var r=n.offsetWidth;return n.style.display="none",n.style.visibility="visible",r}return 0}},{key:"getHiddenElementDimensions",value:function(n){var r={};return n&&(n.style.visibility="hidden",n.style.display="block",r.width=n.offsetWidth,r.height=n.offsetHeight,n.style.display="none",n.style.visibility="visible"),r}},{key:"fadeIn",value:function(n,r){if(n){n.style.opacity=0;var o=+new Date,s=0,a=function(){s=+n.style.opacity+(new Date().getTime()-o)/r,n.style.opacity=s,o=+new Date,+s<1&&(window.requestAnimationFrame&&requestAnimationFrame(a)||setTimeout(a,16))};a()}}},{key:"fadeOut",value:function(n,r){if(n)var o=1,s=50,a=s/r,c=setInterval(function(){o=o-a,o<=0&&(o=0,clearInterval(c)),n.style.opacity=o},s)}},{key:"getUserAgent",value:function(){return navigator.userAgent}},{key:"isIOS",value:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}},{key:"isAndroid",value:function(){return/(android)/i.test(navigator.userAgent)}},{key:"isChrome",value:function(){return/(chrome)/i.test(navigator.userAgent)}},{key:"isClient",value:function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}},{key:"isTouchDevice",value:function(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}},{key:"isFunction",value:function(n){return!!(n&&n.constructor&&n.call&&n.apply)}},{key:"appendChild",value:function(n,r){if(this.isElement(r))r.appendChild(n);else if(r.el&&r.el.nativeElement)r.el.nativeElement.appendChild(n);else throw new Error("Cannot append "+r+" to "+n)}},{key:"removeChild",value:function(n,r){if(this.isElement(r))r.removeChild(n);else if(r.el&&r.el.nativeElement)r.el.nativeElement.removeChild(n);else throw new Error("Cannot remove "+n+" from "+r)}},{key:"isElement",value:function(n){return(typeof HTMLElement>"u"?"undefined":_n(HTMLElement))==="object"?n instanceof HTMLElement:n&&_n(n)==="object"&&n!==null&&n.nodeType===1&&typeof n.nodeName=="string"}},{key:"scrollInView",value:function(n,r){var o=getComputedStyle(n).getPropertyValue("border-top-width"),s=o?parseFloat(o):0,a=getComputedStyle(n).getPropertyValue("padding-top"),c=a?parseFloat(a):0,f=n.getBoundingClientRect(),d=r.getBoundingClientRect(),p=d.top+document.body.scrollTop-(f.top+document.body.scrollTop)-s-c,g=n.scrollTop,m=n.clientHeight,y=this.getOuterHeight(r);p<0?n.scrollTop=g+p:p+y>m&&(n.scrollTop=g+p-m+y)}},{key:"clearSelection",value:function(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}},{key:"calculateScrollbarWidth",value:function(n){if(n){var r=getComputedStyle(n);return n.offsetWidth-n.clientWidth-parseFloat(r.borderLeftWidth)-parseFloat(r.borderRightWidth)}if(this.calculatedScrollbarWidth!=null)return this.calculatedScrollbarWidth;var o=document.createElement("div");o.className="p-scrollbar-measure",document.body.appendChild(o);var s=o.offsetWidth-o.clientWidth;return document.body.removeChild(o),this.calculatedScrollbarWidth=s,s}},{key:"calculateBodyScrollbarWidth",value:function(){return window.innerWidth-document.documentElement.offsetWidth}},{key:"getBrowser",value:function(){if(!this.browser){var n=this.resolveUserAgent();this.browser={},n.browser&&(this.browser[n.browser]=!0,this.browser.version=n.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}},{key:"resolveUserAgent",value:function(){var n=navigator.userAgent.toLowerCase(),r=/(chrome)[ ]([\w.]+)/.exec(n)||/(webkit)[ ]([\w.]+)/.exec(n)||/(opera)(?:.*version|)[ ]([\w.]+)/.exec(n)||/(msie) ([\w.]+)/.exec(n)||n.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(n)||[];return{browser:r[1]||"",version:r[2]||"0"}}},{key:"blockBodyScroll",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"p-overflow-hidden",r=!!document.body.style.getPropertyValue("--scrollbar-width");!r&&document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,n)}},{key:"unblockBodyScroll",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"p-overflow-hidden";document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,n)}},{key:"isVisible",value:function(n){return n&&(n.clientHeight!==0||n.getClientRects().length!==0||getComputedStyle(n).display!=="none")}},{key:"isExist",value:function(n){return!!(n!==null&&typeof n<"u"&&n.nodeName&&n.parentNode)}},{key:"getFocusableElements",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",o=e.find(n,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])'.concat(r,`,
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r,`,
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r,`,
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r,`,
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r,`,
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r,`,
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r)),s=[],a=Ny(o),c;try{for(a.s();!(c=a.n()).done;){var f=c.value;getComputedStyle(f).display!=="none"&&getComputedStyle(f).visibility!=="hidden"&&s.push(f)}}catch(d){a.e(d)}finally{a.f()}return s}},{key:"getFirstFocusableElement",value:function(n,r){var o=e.getFocusableElements(n,r);return o.length>0?o[0]:null}},{key:"getLastFocusableElement",value:function(n,r){var o=e.getFocusableElements(n,r);return o.length>0?o[o.length-1]:null}},{key:"focus",value:function(n,r){var o=r===void 0?!0:!r;n&&document.activeElement!==n&&n.focus({preventScroll:o})}},{key:"focusFirstElement",value:function(n,r){if(n){var o=e.getFirstFocusableElement(n);return o&&e.focus(o,r),o}}},{key:"getCursorOffset",value:function(n,r,o,s){if(n){var a=getComputedStyle(n),c=document.createElement("div");c.style.position="absolute",c.style.top="0px",c.style.left="0px",c.style.visibility="hidden",c.style.pointerEvents="none",c.style.overflow=a.overflow,c.style.width=a.width,c.style.height=a.height,c.style.padding=a.padding,c.style.border=a.border,c.style.overflowWrap=a.overflowWrap,c.style.whiteSpace=a.whiteSpace,c.style.lineHeight=a.lineHeight,c.innerHTML=r.replace(/\r\n|\r|\n/g,"<br />");var f=document.createElement("span");f.textContent=s,c.appendChild(f);var d=document.createTextNode(o);c.appendChild(d),document.body.appendChild(c);var p=f.offsetLeft,g=f.offsetTop,m=f.clientHeight;return document.body.removeChild(c),{left:Math.abs(p-n.scrollLeft),top:Math.abs(g-n.scrollTop)+m}}return{top:"auto",left:"auto"}}},{key:"invokeElementMethod",value:function(n,r,o){n[r].apply(n,o)}},{key:"isClickable",value:function(n){var r=n.nodeName,o=n.parentElement&&n.parentElement.nodeName;return r==="INPUT"||r==="TEXTAREA"||r==="BUTTON"||r==="A"||o==="INPUT"||o==="TEXTAREA"||o==="BUTTON"||o==="A"||this.hasClass(n,"p-button")||this.hasClass(n.parentElement,"p-button")||this.hasClass(n.parentElement,"p-checkbox")||this.hasClass(n.parentElement,"p-radiobutton")}},{key:"applyStyle",value:function(n,r){if(typeof r=="string")n.style.cssText=r;else for(var o in r)n.style[o]=r[o]}},{key:"exportCSV",value:function(n,r){var o=new Blob([n],{type:"application/csv;charset=utf-8;"});if(window.navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(o,r+".csv");else{var s=e.saveAs({name:r+".csv",src:URL.createObjectURL(o)});s||(n="data:text/csv;charset=utf-8,"+n,window.open(encodeURI(n)))}}},{key:"saveAs",value:function(n){if(n){var r=document.createElement("a");if(r.download!==void 0){var o=n.name,s=n.src;return r.setAttribute("href",s),r.setAttribute("download",o),r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r),!0}}return!1}},{key:"createInlineStyle",value:function(n,r){var o=document.createElement("style");return e.addNonce(o,n),r||(r=document.head),r.appendChild(o),o}},{key:"removeInlineStyle",value:function(n){if(this.isExist(n)){try{n.parentNode.removeChild(n)}catch{}n=null}return n}},{key:"addNonce",value:function(n,r){try{r||(r=Gse.REACT_APP_CSS_NONCE)}catch{}r&&n.setAttribute("nonce",r)}},{key:"getTargetElement",value:function(n){if(!n)return null;if(n==="document")return document;if(n==="window")return window;if(_n(n)==="object"&&n.hasOwnProperty("current"))return this.isExist(n.current)?n.current:null;var r=function(a){return!!(a&&a.constructor&&a.call&&a.apply)},o=r(n)?n():n;return o&&o.nodeType===9||this.isExist(o)?o:null}},{key:"getAttributeNames",value:function(n){var r,o,s;for(o=[],s=n.attributes,r=0;r<s.length;++r)o.push(s[r].nodeName);return o.sort(),o}},{key:"isEqualElement",value:function(n,r){var o,s,a,c,f;if(o=e.getAttributeNames(n),s=e.getAttributeNames(r),o.join(",")!==s.join(","))return!1;for(var d=0;d<o.length;++d)if(a=o[d],a==="style")for(var p=n.style,g=r.style,m=/^\d+$/,y=0,b=Object.keys(p);y<b.length;y++){var x=b[y];if(!m.test(x)&&p[x]!==g[x])return!1}else if(n.getAttribute(a)!==r.getAttribute(a))return!1;for(c=n.firstChild,f=r.firstChild;c&&f;c=c.nextSibling,f=f.nextSibling){if(c.nodeType!==f.nodeType)return!1;if(c.nodeType===1){if(!e.isEqualElement(c,f))return!1}else if(c.nodeValue!==f.nodeValue)return!1}return!(c||f)}},{key:"hasCSSAnimation",value:function(n){if(n){var r=getComputedStyle(n),o=parseFloat(r.getPropertyValue("animation-duration")||"0");return o>0}return!1}},{key:"hasCSSTransition",value:function(n){if(n){var r=getComputedStyle(n),o=parseFloat(r.getPropertyValue("transition-duration")||"0");return o>0}return!1}}])}();wS(Ks,"DATA_PROPS",["data-"]);wS(Ks,"ARIA_PROPS",["aria","focus-target"]);function oae(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=iae(e))||t){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(d){throw d},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,a=!1,c;return{s:function(){n=n.call(e)},n:function(){var d=n.next();return s=d.done,d},e:function(d){a=!0,c=d},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(a)throw c}}}}function iae(e,t){if(e){if(typeof e=="string")return mT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mT(e,t)}}function mT(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var kt=function(){function e(){s2(this,e)}return u2(e,null,[{key:"equals",value:function(n,r,o){return o&&n&&_n(n)==="object"&&r&&_n(r)==="object"?this.deepEquals(this.resolveFieldData(n,o),this.resolveFieldData(r,o)):this.deepEquals(n,r)}},{key:"deepEquals",value:function(n,r){if(n===r)return!0;if(n&&r&&_n(n)==="object"&&_n(r)==="object"){var o=Array.isArray(n),s=Array.isArray(r),a,c,f;if(o&&s){if(c=n.length,c!==r.length)return!1;for(a=c;a--!==0;)if(!this.deepEquals(n[a],r[a]))return!1;return!0}if(o!==s)return!1;var d=n instanceof Date,p=r instanceof Date;if(d!==p)return!1;if(d&&p)return n.getTime()===r.getTime();var g=n instanceof RegExp,m=r instanceof RegExp;if(g!==m)return!1;if(g&&m)return n.toString()===r.toString();var y=Object.keys(n);if(c=y.length,c!==Object.keys(r).length)return!1;for(a=c;a--!==0;)if(!Object.prototype.hasOwnProperty.call(r,y[a]))return!1;for(a=c;a--!==0;)if(f=y[a],!this.deepEquals(n[f],r[f]))return!1;return!0}return n!==n&&r!==r}},{key:"resolveFieldData",value:function(n,r){if(!n||!r)return null;try{var o=n[r];if(this.isNotEmpty(o))return o}catch{}if(Object.keys(n).length){if(this.isFunction(r))return r(n);if(this.isNotEmpty(n[r]))return n[r];if(r.indexOf(".")===-1)return n[r];for(var s=r.split("."),a=n,c=0,f=s.length;c<f;++c){if(a==null)return null;a=a[s[c]]}return a}return null}},{key:"findDiffKeys",value:function(n,r){return!n||!r?{}:Object.keys(n).filter(function(o){return!r.hasOwnProperty(o)}).reduce(function(o,s){return o[s]=n[s],o},{})}},{key:"reduceKeys",value:function(n,r){var o={};return!n||!r||r.length===0||Object.keys(n).filter(function(s){return r.some(function(a){return s.startsWith(a)})}).forEach(function(s){o[s]=n[s],delete n[s]}),o}},{key:"reorderArray",value:function(n,r,o){n&&r!==o&&(o>=n.length&&(o=o%n.length,r=r%n.length),n.splice(o,0,n.splice(r,1)[0]))}},{key:"findIndexInList",value:function(n,r,o){var s=this;return r?o?r.findIndex(function(a){return s.equals(a,n,o)}):r.findIndex(function(a){return a===n}):-1}},{key:"getJSXElement",value:function(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];return this.isFunction(n)?n.apply(void 0,o):n}},{key:"getItemValue",value:function(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];return this.isFunction(n)?n.apply(void 0,o):n}},{key:"getProp",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=n?n[r]:void 0;return s===void 0?o[r]:s}},{key:"getPropCaseInsensitive",value:function(n,r){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=this.toFlatCase(r);for(var a in n)if(n.hasOwnProperty(a)&&this.toFlatCase(a)===s)return n[a];for(var c in o)if(o.hasOwnProperty(c)&&this.toFlatCase(c)===s)return o[c]}},{key:"getMergedProps",value:function(n,r){return Object.assign({},r,n)}},{key:"getDiffProps",value:function(n,r){return this.findDiffKeys(n,r)}},{key:"getPropValue",value:function(n){if(!this.isFunction(n))return n;for(var r=arguments.length,o=new Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];if(o.length===1){var a=o[0];return n(Array.isArray(a)?a[0]:a)}return n(o)}},{key:"getComponentProp",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.isNotEmpty(n)?this.getProp(n.props,r,o):void 0}},{key:"getComponentProps",value:function(n,r){return this.isNotEmpty(n)?this.getMergedProps(n.props,r):void 0}},{key:"getComponentDiffProps",value:function(n,r){return this.isNotEmpty(n)?this.getDiffProps(n.props,r):void 0}},{key:"isValidChild",value:function(n,r,o){if(n){var s,a=this.getComponentProp(n,"__TYPE")||(n.type?n.type.displayName:void 0);!a&&n!==null&&n!==void 0&&(s=n.type)!==null&&s!==void 0&&(s=s._payload)!==null&&s!==void 0&&s.value&&(a=n.type._payload.value.find(function(d){return d===r}));var c=a===r;try{var f}catch{}return c}return!1}},{key:"getRefElement",value:function(n){return n?_n(n)==="object"&&n.hasOwnProperty("current")?n.current:n:null}},{key:"combinedRefs",value:function(n,r){n&&r&&(typeof r=="function"?r(n.current):r.current=n.current)}},{key:"removeAccents",value:function(n){return n&&n.search(/[\xC0-\xFF]/g)>-1&&(n=n.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),n}},{key:"toFlatCase",value:function(n){return this.isNotEmpty(n)&&this.isString(n)?n.replace(/(-|_)/g,"").toLowerCase():n}},{key:"toCapitalCase",value:function(n){return this.isNotEmpty(n)&&this.isString(n)?n[0].toUpperCase()+n.slice(1):n}},{key:"trim",value:function(n){return this.isNotEmpty(n)&&this.isString(n)?n.trim():n}},{key:"isEmpty",value:function(n){return n==null||n===""||Array.isArray(n)&&n.length===0||!(n instanceof Date)&&_n(n)==="object"&&Object.keys(n).length===0}},{key:"isNotEmpty",value:function(n){return!this.isEmpty(n)}},{key:"isFunction",value:function(n){return!!(n&&n.constructor&&n.call&&n.apply)}},{key:"isObject",value:function(n){return n!==null&&n instanceof Object&&n.constructor===Object}},{key:"isDate",value:function(n){return n!==null&&n instanceof Date&&n.constructor===Date}},{key:"isArray",value:function(n){return n!==null&&Array.isArray(n)}},{key:"isString",value:function(n){return n!==null&&typeof n=="string"}},{key:"isPrintableCharacter",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return this.isNotEmpty(n)&&n.length===1&&n.match(/\S| /)}},{key:"isLetter",value:function(n){return/^[a-zA-Z\u00C0-\u017F]$/.test(n)}},{key:"isScalar",value:function(n){return n!=null&&(typeof n=="string"||typeof n=="number"||typeof n=="bigint"||typeof n=="boolean")}},{key:"findLast",value:function(n,r){var o;if(this.isNotEmpty(n))try{o=n.findLast(r)}catch{o=o_(n).reverse().find(r)}return o}},{key:"findLastIndex",value:function(n,r){var o=-1;if(this.isNotEmpty(n))try{o=n.findLastIndex(r)}catch{o=n.lastIndexOf(o_(n).reverse().find(r))}return o}},{key:"sort",value:function(n,r){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,s=arguments.length>3?arguments[3]:void 0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,c=this.compare(n,r,s,o),f=o;return(this.isEmpty(n)||this.isEmpty(r))&&(f=a===1?o:a),f*c}},{key:"compare",value:function(n,r,o){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,a=-1,c=this.isEmpty(n),f=this.isEmpty(r);return c&&f?a=0:c?a=s:f?a=-s:typeof n=="string"&&typeof r=="string"?a=o(n,r):a=n<r?-1:n>r?1:0,a}},{key:"localeComparator",value:function(n){return new Intl.Collator(n,{numeric:!0}).compare}},{key:"findChildrenByKey",value:function(n,r){var o=oae(n),s;try{for(o.s();!(s=o.n()).done;){var a=s.value;if(a.key===r)return a.children||[];if(a.children){var c=this.findChildrenByKey(a.children,r);if(c.length>0)return c}}}catch(f){o.e(f)}finally{o.f()}return[]}},{key:"mutateFieldData",value:function(n,r,o){if(!(_n(n)!=="object"||typeof r!="string"))for(var s=r.split("."),a=n,c=0,f=s.length;c<f;++c){if(c+1-f===0){a[s[c]]=o;break}a[s[c]]||(a[s[c]]={}),a=a[s[c]]}}}])}();function yT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function vT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yT(Object(n),!0).forEach(function(r){wS(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Hh(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e){var n=function(a){return typeof a=="function"},r=t.classNameMergeFunction,o=n(r);return e.reduce(function(s,a){if(!a)return s;var c=function(){var p=a[f];if(f==="style")s.style=vT(vT({},s.style),a.style);else if(f==="className"){var g="";o?g=r(s.className,a.className):g=[s.className,a.className].join(" ").trim(),s.className=g||void 0}else if(n(p)){var m=s[f];s[f]=m?function(){m.apply(void 0,arguments),p.apply(void 0,arguments)}:p}else s[f]=p};for(var f in a)c();return s},{})}}var On=Object.freeze({STARTS_WITH:"startsWith",CONTAINS:"contains",NOT_CONTAINS:"notContains",ENDS_WITH:"endsWith",EQUALS:"equals",NOT_EQUALS:"notEquals",IN:"in",LESS_THAN:"lt",LESS_THAN_OR_EQUAL_TO:"lte",GREATER_THAN:"gt",GREATER_THAN_OR_EQUAL_TO:"gte",BETWEEN:"between",DATE_IS:"dateIs",DATE_IS_NOT:"dateIsNot",DATE_BEFORE:"dateBefore",DATE_AFTER:"dateAfter",CUSTOM:"custom"});function El(e){"@babel/helpers - typeof";return El=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},El(e)}function sae(e,t){if(El(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(El(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aae(e){var t=sae(e,"string");return El(t)==="symbol"?t:String(t)}function Mr(e,t,n){return t=aae(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uae(e,t,n){return Object.defineProperty(e,"prototype",{writable:!1}),e}function cae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var ur=uae(function e(){cae(this,e)});Mr(ur,"ripple",!1);Mr(ur,"inputStyle","outlined");Mr(ur,"locale","en");Mr(ur,"appendTo",null);Mr(ur,"cssTransition",!0);Mr(ur,"autoZIndex",!0);Mr(ur,"hideOverlaysOnDocumentScrolling",!1);Mr(ur,"nonce",null);Mr(ur,"nullSortOrder",1);Mr(ur,"zIndex",{modal:1100,overlay:1e3,menu:1e3,tooltip:1100,toast:1200});Mr(ur,"pt",void 0);Mr(ur,"filterMatchModeOptions",{text:[On.STARTS_WITH,On.CONTAINS,On.NOT_CONTAINS,On.ENDS_WITH,On.EQUALS,On.NOT_EQUALS],numeric:[On.EQUALS,On.NOT_EQUALS,On.LESS_THAN,On.LESS_THAN_OR_EQUAL_TO,On.GREATER_THAN,On.GREATER_THAN_OR_EQUAL_TO],date:[On.DATE_IS,On.DATE_IS_NOT,On.DATE_BEFORE,On.DATE_AFTER]});Mr(ur,"changeTheme",function(e,t,n,r){var o,s=document.getElementById(n);if(!s)throw Error("Element with id ".concat(n," not found."));var a=s.getAttribute("href").replace(e,t),c=document.createElement("link");c.setAttribute("rel","stylesheet"),c.setAttribute("id",n),c.setAttribute("href",a),c.addEventListener("load",function(){r&&r()}),(o=s.parentNode)===null||o===void 0||o.replaceChild(c,s)});var ES=at.createContext(),xg=ur;function lae(e){if(Array.isArray(e))return e}function fae(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,o,s,a,c=[],f=!0,d=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(f=(r=s.call(n)).done)&&(c.push(r.value),c.length!==t);f=!0);}catch(p){d=!0,o=p}finally{try{if(!f&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(d)throw o}}return c}}function _T(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function dae(e,t){if(e){if(typeof e=="string")return _T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _T(e,t)}}function hae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pae(e,t){return lae(e)||fae(e,t)||dae(e,t)||hae()}var bT=function(t){var n=G.useRef(null);return G.useEffect(function(){return n.current=t,function(){n.current=null}},[t]),n.current},c2=function(t){return G.useEffect(function(){return t},[])},vd=function(t){var n=t.target,r=n===void 0?"document":n,o=t.type,s=t.listener,a=t.options,c=t.when,f=c===void 0?!0:c,d=G.useRef(null),p=G.useRef(null),g=bT(s),m=bT(a),y=function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},N=L.target;kt.isNotEmpty(N)&&(b(),(L.when||f)&&(d.current=Ks.getTargetElement(N))),!p.current&&d.current&&(p.current=function(R){return s&&s(R)},d.current.addEventListener(o,p.current,a))},b=function(){p.current&&(d.current.removeEventListener(o,p.current,a),p.current=null)},x=function(){b(),g=null,m=null},T=G.useCallback(function(){f?d.current=Ks.getTargetElement(r):(b(),d.current=null)},[r,f]);return G.useEffect(function(){T()},[T]),G.useEffect(function(){var k="".concat(g)!=="".concat(s),L=m!==a,N=p.current;N&&(k||L)?(b(),f&&y()):N||x()},[s,a,f]),c2(function(){x()}),[y,b]},gae=function(){var t=G.useContext(ES);return function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Hh(r,t==null?void 0:t.ptOptions)}},mae=function(t){var n=G.useRef(!1);return G.useEffect(function(){if(!n.current)return n.current=!0,t&&t()},[])},yae=0,_d=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=G.useState(!1),o=pae(r,2),s=o[0],a=o[1],c=G.useRef(null),f=G.useContext(ES),d=Ks.isClient()?window.document:void 0,p=n.document,g=p===void 0?d:p,m=n.manual,y=m===void 0?!1:m,b=n.name,x=b===void 0?"style_".concat(++yae):b,T=n.id,k=T===void 0?void 0:T,L=n.media,N=L===void 0?void 0:L,R=function(K){var S=K.querySelector('style[data-primereact-style-id="'.concat(x,'"]'));if(S)return S;if(k!==void 0){var M=g.getElementById(k);if(M)return M}return g.createElement("style")},W=function(K){s&&t!==K&&(c.current.textContent=K)},j=function(){if(!(!g||s)){var K=(f==null?void 0:f.styleContainer)||g.head;c.current=R(K),c.current.isConnected||(c.current.type="text/css",k&&(c.current.id=k),N&&(c.current.media=N),Ks.addNonce(c.current,f&&f.nonce||xg.nonce),K.appendChild(c.current),x&&c.current.setAttribute("data-primereact-style-id",x)),c.current.textContent=t,a(!0)}},A=function(){!g||!c.current||(Ks.removeInlineStyle(c.current),a(!1))};return G.useEffect(function(){y||j()},[y]),{id:k,name:x,update:W,unload:A,load:j,isLoaded:s}},vae=function(t,n){var r=G.useRef(!1);return G.useEffect(function(){if(!r.current){r.current=!0;return}return t&&t()},n)};function i_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _ae(e){if(Array.isArray(e))return i_(e)}function bae(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Sae(e,t){if(e){if(typeof e=="string")return i_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i_(e,t)}}function wae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ST(e){return _ae(e)||bae(e)||Sae(e)||wae()}function xl(e){"@babel/helpers - typeof";return xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xl(e)}function Eae(e,t){if(xl(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(xl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xae(e){var t=Eae(e,"string");return xl(t)==="symbol"?t:String(t)}function s_(e,t,n){return t=xae(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Qt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wT(Object(n),!0).forEach(function(r){s_(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Cae=`
.p-hidden-accessible {
    border: 0;
    clip: rect(0 0 0 0);
    height: 1px;
    margin: -1px;
    opacity: 0;
    overflow: hidden;
    padding: 0;
    pointer-events: none;
    position: absolute;
    white-space: nowrap;
    width: 1px;
}

.p-overflow-hidden {
    overflow: hidden;
    padding-right: var(--scrollbar-width);
}
`,Tae=`
.p-button {
    margin: 0;
    display: inline-flex;
    cursor: pointer;
    user-select: none;
    align-items: center;
    vertical-align: bottom;
    text-align: center;
    overflow: hidden;
    position: relative;
}

.p-button-label {
    flex: 1 1 auto;
}

.p-button-icon-right {
    order: 1;
}

.p-button:disabled {
    cursor: default;
}

.p-button-icon-only {
    justify-content: center;
}

.p-button-icon-only .p-button-label {
    visibility: hidden;
    width: 0;
    flex: 0 0 auto;
}

.p-button-vertical {
    flex-direction: column;
}

.p-button-icon-bottom {
    order: 2;
}

.p-button-group .p-button {
    margin: 0;
}

.p-button-group .p-button:not(:last-child) {
    border-right: 0 none;
}

.p-button-group .p-button:not(:first-of-type):not(:last-of-type) {
    border-radius: 0;
}

.p-button-group .p-button:first-of-type {
    border-top-right-radius: 0;
    border-bottom-right-radius: 0;
}

.p-button-group .p-button:last-of-type {
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
}

.p-button-group .p-button:focus {
    position: relative;
    z-index: 1;
}

.p-button-group-single .p-button:first-of-type {
    border-top-right-radius: var(--border-radius) !important;
    border-bottom-right-radius: var(--border-radius) !important;
}

.p-button-group-single .p-button:last-of-type {
    border-top-left-radius: var(--border-radius) !important;
    border-bottom-left-radius: var(--border-radius) !important;
}
`,kae=`
.p-inputtext {
    margin: 0;
}

.p-fluid .p-inputtext {
    width: 100%;
}

/* InputGroup */
.p-inputgroup {
    display: flex;
    align-items: stretch;
    width: 100%;
}

.p-inputgroup-addon {
    display: flex;
    align-items: center;
    justify-content: center;
}

.p-inputgroup .p-float-label {
    display: flex;
    align-items: stretch;
    width: 100%;
}

.p-inputgroup .p-inputtext,
.p-fluid .p-inputgroup .p-inputtext,
.p-inputgroup .p-inputwrapper,
.p-fluid .p-inputgroup .p-input {
    flex: 1 1 auto;
    width: 1%;
}

/* Floating Label */
.p-float-label {
    display: block;
    position: relative;
}

.p-float-label label {
    position: absolute;
    pointer-events: none;
    top: 50%;
    margin-top: -0.5rem;
    transition-property: all;
    transition-timing-function: ease;
    line-height: 1;
}

.p-float-label textarea ~ label,
.p-float-label .p-mention ~ label {
    top: 1rem;
}

.p-float-label input:focus ~ label,
.p-float-label input:-webkit-autofill ~ label,
.p-float-label input.p-filled ~ label,
.p-float-label textarea:focus ~ label,
.p-float-label textarea.p-filled ~ label,
.p-float-label .p-inputwrapper-focus ~ label,
.p-float-label .p-inputwrapper-filled ~ label,
.p-float-label .p-tooltip-target-wrapper ~ label {
    top: -0.75rem;
    font-size: 12px;
}

.p-float-label .p-placeholder,
.p-float-label input::placeholder,
.p-float-label .p-inputtext::placeholder {
    opacity: 0;
    transition-property: all;
    transition-timing-function: ease;
}

.p-float-label .p-focus .p-placeholder,
.p-float-label input:focus::placeholder,
.p-float-label .p-inputtext:focus::placeholder {
    opacity: 1;
    transition-property: all;
    transition-timing-function: ease;
}

.p-input-icon-left,
.p-input-icon-right {
    position: relative;
    display: inline-block;
}

.p-input-icon-left > i,
.p-input-icon-right > i,
.p-input-icon-left > svg,
.p-input-icon-right > svg,
.p-input-icon-left > .p-input-prefix,
.p-input-icon-right > .p-input-suffix {
    position: absolute;
    top: 50%;
    margin-top: -0.5rem;
}

.p-fluid .p-input-icon-left,
.p-fluid .p-input-icon-right {
    display: block;
    width: 100%;
}
`,Oae=`
.p-icon {
    display: inline-block;
}

.p-icon-spin {
    -webkit-animation: p-icon-spin 2s infinite linear;
    animation: p-icon-spin 2s infinite linear;
}

svg.p-icon {
    pointer-events: auto;
}

svg.p-icon g,
.p-disabled svg.p-icon {
    pointer-events: none;
}

@-webkit-keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}

@keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}
`,Iae=`
@layer primereact {
    .p-component, .p-component * {
        box-sizing: border-box;
    }

    .p-hidden {
        display: none;
    }

    .p-hidden-space {
        visibility: hidden;
    }

    .p-reset {
        margin: 0;
        padding: 0;
        border: 0;
        outline: 0;
        text-decoration: none;
        font-size: 100%;
        list-style: none;
    }

    .p-disabled, .p-disabled * {
        cursor: default;
        pointer-events: none;
        user-select: none;
    }

    .p-component-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }

    .p-unselectable-text {
        user-select: none;
    }

    .p-scrollbar-measure {
        width: 100px;
        height: 100px;
        overflow: scroll;
        position: absolute;
        top: -9999px;
    }

    @-webkit-keyframes p-fadein {
      0%   { opacity: 0; }
      100% { opacity: 1; }
    }
    @keyframes p-fadein {
      0%   { opacity: 0; }
      100% { opacity: 1; }
    }

    .p-link {
        text-align: left;
        background-color: transparent;
        margin: 0;
        padding: 0;
        border: none;
        cursor: pointer;
        user-select: none;
    }

    .p-link:disabled {
        cursor: default;
    }

    /* Non react overlay animations */
    .p-connected-overlay {
        opacity: 0;
        transform: scaleY(0.8);
        transition: transform .12s cubic-bezier(0, 0, 0.2, 1), opacity .12s cubic-bezier(0, 0, 0.2, 1);
    }

    .p-connected-overlay-visible {
        opacity: 1;
        transform: scaleY(1);
    }

    .p-connected-overlay-hidden {
        opacity: 0;
        transform: scaleY(1);
        transition: opacity .1s linear;
    }

    /* React based overlay animations */
    .p-connected-overlay-enter {
        opacity: 0;
        transform: scaleY(0.8);
    }

    .p-connected-overlay-enter-active {
        opacity: 1;
        transform: scaleY(1);
        transition: transform .12s cubic-bezier(0, 0, 0.2, 1), opacity .12s cubic-bezier(0, 0, 0.2, 1);
    }

    .p-connected-overlay-enter-done {
        transform: none;
    }

    .p-connected-overlay-exit {
        opacity: 1;
    }

    .p-connected-overlay-exit-active {
        opacity: 0;
        transition: opacity .1s linear;
    }

    /* Toggleable Content */
    .p-toggleable-content-enter {
        max-height: 0;
    }

    .p-toggleable-content-enter-active {
        overflow: hidden;
        max-height: 1000px;
        transition: max-height 1s ease-in-out;
    }

    .p-toggleable-content-enter-done {
        transform: none;
    }

    .p-toggleable-content-exit {
        max-height: 1000px;
    }

    .p-toggleable-content-exit-active {
        overflow: hidden;
        max-height: 0;
        transition: max-height 0.45s cubic-bezier(0, 1, 0, 1);
    }

    /* @todo Refactor */
    .p-menu .p-menuitem-link {
        cursor: pointer;
        display: flex;
        align-items: center;
        text-decoration: none;
        overflow: hidden;
        position: relative;
    }

    `.concat(Tae,`
    `).concat(kae,`
    `).concat(Oae,`
}
`),Bt={cProps:void 0,cParams:void 0,cName:void 0,defaultProps:{pt:void 0,ptOptions:void 0,unstyled:!1},context:{},globalCSS:void 0,classes:{},styles:"",extend:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.css,r=Qt(Qt({},t.defaultProps),Bt.defaultProps),o={},s=function(p){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Bt.context=g,Bt.cProps=p,kt.getMergedProps(p,r)},a=function(p){return kt.getDiffProps(p,r)},c=function(){var p,g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;g.hasOwnProperty("pt")&&g.pt!==void 0&&(g=g.pt);var x=m,T=/./g.test(x)&&!!y[x.split(".")[0]],k=T?kt.toFlatCase(x.split(".")[1]):kt.toFlatCase(x),L=y.hostName&&kt.toFlatCase(y.hostName),N=L||y.props&&y.props.__TYPE&&kt.toFlatCase(y.props.__TYPE)||"",R=k==="transition",W="data-pc-",j=function(ce){return ce!=null&&ce.props?ce.hostName?ce.props.__TYPE===ce.hostName?ce.props:j(ce.parent):ce.parent:void 0},A=function(ce){var Le,un;return((Le=y.props)===null||Le===void 0?void 0:Le[ce])||((un=j(y))===null||un===void 0?void 0:un[ce])};Bt.cParams=y,Bt.cName=N;var U=A("ptOptions")||Bt.context.ptOptions||{},K=U.mergeSections,S=K===void 0?!0:K,M=U.mergeProps,D=M===void 0?!1:M,X=function(){var ce=bi.apply(void 0,arguments);return Array.isArray(ce)?{className:Vh.apply(void 0,ST(ce))}:kt.isString(ce)?{className:ce}:ce!=null&&ce.hasOwnProperty("className")&&Array.isArray(ce.className)?{className:Vh.apply(void 0,ST(ce.className))}:ce},re=b?T?l2(X,x,y):f2(X,x,y):void 0,_e=T?void 0:Tg(Cg(g,N),X,x,y),me=!R&&Qt(Qt({},k==="root"&&s_({},"".concat(W,"name"),y.props&&y.props.__parentMetadata?kt.toFlatCase(y.props.__TYPE):N)),{},s_({},"".concat(W,"section"),k));return S||!S&&_e?D?Hh([re,_e,Object.keys(me).length?me:{}],{classNameMergeFunction:(p=Bt.context.ptOptions)===null||p===void 0?void 0:p.classNameMergeFunction}):Qt(Qt(Qt({},re),_e),Object.keys(me).length?me:{}):Qt(Qt({},_e),Object.keys(me).length?me:{})},f=function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},g=p.props,m=p.state,y=function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return c((g||{}).pt,N,Qt(Qt({},p),R))},b=function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return c(N,R,W,!1)},x=function(){return Bt.context.unstyled||xg.unstyled||g.unstyled},T=function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return x()?void 0:bi(n&&n.classes,N,Qt({props:g,state:m},R))},k=function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(W){var j,A=bi(n&&n.inlineStyles,N,Qt({props:g,state:m},R)),U=bi(o,N,Qt({props:g,state:m},R));return Hh([U,A],{classNameMergeFunction:(j=Bt.context.ptOptions)===null||j===void 0?void 0:j.classNameMergeFunction})}};return{ptm:y,ptmo:b,sx:k,cx:T,isUnstyled:x}};return Qt(Qt({getProps:s,getOtherProps:a,setMetaData:f},t),{},{defaultProps:r})}},bi=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=String(kt.toFlatCase(n)).split("."),s=o.shift(),a=kt.isNotEmpty(t)?Object.keys(t).find(function(c){return kt.toFlatCase(c)===s}):"";return s?kt.isObject(t)?bi(kt.getItemValue(t[a],r),o.join("."),r):void 0:kt.getItemValue(t,r)},Cg=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,o=t==null?void 0:t._usept,s=function(c){var f,d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,p=r?r(c):c,g=kt.toFlatCase(n);return(f=d?g!==Bt.cName?p==null?void 0:p[g]:void 0:p==null?void 0:p[g])!==null&&f!==void 0?f:p};return kt.isNotEmpty(o)?{_usept:o,originalValue:s(t.originalValue),value:s(t.value)}:s(t,!0)},Tg=function(t,n,r,o){var s=function(x){return n(x,r,o)};if(t!=null&&t.hasOwnProperty("_usept")){var a=t._usept||Bt.context.ptOptions||{},c=a.mergeSections,f=c===void 0?!0:c,d=a.mergeProps,p=d===void 0?!1:d,g=a.classNameMergeFunction,m=s(t.originalValue),y=s(t.value);return m===void 0&&y===void 0?void 0:kt.isString(y)?y:kt.isString(m)?m:f||!f&&y?p?Hh([m,y],{classNameMergeFunction:g}):Qt(Qt({},m),y):y}return s(t)},Aae=function(){return Cg(Bt.context.pt||xg.pt,void 0,function(t){return kt.getItemValue(t,Bt.cParams)})},$ae=function(){return Cg(Bt.context.pt||xg.pt,void 0,function(t){return bi(t,Bt.cName,Bt.cParams)||kt.getItemValue(t,Bt.cParams)})},l2=function(t,n,r){return Tg(Aae(),t,n,r)},f2=function(t,n,r){return Tg($ae(),t,n,r)},Rae=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},r=arguments.length>2?arguments[2]:void 0,o=r.name,s=r.styled,a=s===void 0?!1:s,c=r.hostName,f=c===void 0?"":c,d=l2(bi,"global.css",Bt.cParams),p=kt.toFlatCase(o),g=_d(Cae,{name:"base",manual:!0}),m=g.load,y=_d(Iae,{name:"common",manual:!0}),b=y.load,x=_d(d,{name:"global",manual:!0}),T=x.load,k=_d(t,{name:o,manual:!0}),L=k.load,N=function(W){if(!f){var j=Tg(Cg((Bt.cProps||{}).pt,p),bi,"hooks.".concat(W)),A=f2(bi,"hooks.".concat(W));j==null||j(),A==null||A()}};N("useMountEffect"),mae(function(){m(),T(),n()||(b(),a||L())}),vae(function(){N("useUpdateEffect")}),c2(function(){N("useUnmountEffect")})};function Pae(e){if(Array.isArray(e))return e}function Mae(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,o,s,a,c=[],f=!0,d=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(f=(r=s.call(n)).done)&&(c.push(r.value),c.length!==t);f=!0);}catch(p){d=!0,o=p}finally{try{if(!f&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(d)throw o}}return c}}function ET(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Nae(e,t){if(e){if(typeof e=="string")return ET(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ET(e,t)}}function Lae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bd(e,t){return Pae(e)||Mae(e,t)||Nae(e,t)||Lae()}var Ly=Bt.extend({defaultProps:{__TYPE:"Knob",id:null,style:null,className:null,value:null,size:100,disabled:!1,readOnly:!1,showValue:!0,tabIndex:0,step:1,min:0,max:100,strokeWidth:14,name:null,valueColor:"var(--primary-color, Black)",rangeColor:"var(--surface-border, LightGray)",textColor:"var(--text-color-secondary, Black)",valueTemplate:"{value}",onChange:null,children:void 0},css:{classes:{range:"p-knob-range",value:"p-knob-value",label:"p-knob-text",root:function(t){var n=t.props;return Vh("p-knob p-component",{"p-disabled":n.disabled})}},styles:`
        @keyframes dash-frame {
            100% {
                stroke-dashoffset: 0;
            }
        }
        @layer primereact {
            .p-knob-range {
                fill: none;
                transition: stroke .1s ease-in;
            }
            .p-knob-value {
                animation-name: dash-frame;
                animation-fill-mode: forwards;
                fill: none;
            }
            .p-knob-text {
                font-size: 1.3rem;
                text-align: center;
            }
        }
        `}}),qr=40,Sd=50,wd=50,Ka=4*Math.PI/3,$s=-Math.PI/3,d2=G.memo(G.forwardRef(function(e,t){var n=gae(),r=G.useContext(ES),o=Ly.getProps(e,r),s=Ly.setMetaData({props:o}),a=s.ptm,c=s.cx,f=s.isUnstyled;Rae(Ly.css.styles,f,{name:"knob"});var d=G.useRef(null),p=!o.disabled&&!o.readOnly,g=vd({target:"window",type:"mousemove",listener:function(ge){ys(ge.offsetX,ge.offsetY),ge.preventDefault()},when:p}),m=bd(g,2),y=m[0],b=m[1],x=vd({target:"window",type:"mouseup",listener:function(ge){b(),L(),ge.preventDefault()},when:p}),T=bd(x,2),k=T[0],L=T[1],N=vd({target:"window",type:"touchmove",listener:function(ge){if(ge.touches.length===1){var En=d.current.getBoundingClientRect(),xn=ge.targetTouches.item(0),ji=xn.clientX-En.left,uo=xn.clientY-En.top;ys(ji,uo),ge.preventDefault()}},when:p}),R=bd(N,2),W=R[0],j=R[1],A=vd({target:"window",type:"touchend",listener:function(){j(),S()},when:p}),U=bd(A,2),K=U[0],S=U[1],M=function(ge,En,xn,ji,uo){return(ge-En)*(uo-ji)/(xn-En)+ji},D=function(){return M(o.min>0&&o.max>0?o.min:0,o.min,o.max,Ka,$s)},X=function(){return M(o.value,o.min,o.max,Ka,$s)},re=function(){return Sd+Math.cos(Ka)*qr},_e=function(){return wd-Math.sin(Ka)*qr},me=function(){return Sd+Math.cos($s)*qr},ie=function(){return wd-Math.sin($s)*qr},ce=function(){return Sd+Math.cos(D())*qr},Le=function(){return wd-Math.sin(D())*qr},un=function(){return Sd+Math.cos(X())*qr},ct=function(){return wd-Math.sin(X())*qr},Ni=function(){return Math.abs(D()-X())<Math.PI?0:1},Zu=function(){return X()>D()?0:1},ec="M ".concat(re()," ").concat(_e()," A ").concat(qr," ").concat(qr," 0 1 1 ").concat(me()," ").concat(ie()),wo="M ".concat(ce()," ").concat(Le()," A ").concat(qr," ").concat(qr," 0 ").concat(Ni()," ").concat(Zu()," ").concat(un()," ").concat(ct()),Li=function(){return o.valueTemplate.replace("{value}",o.value.toString())},ys=function(ge,En){var xn=ge-o.size/2,ji=o.size/2-En,uo=Math.atan2(ji,xn),Di=-Math.PI/2-Math.PI/6;ei(uo,Di)},ei=function(ge,En){var xn;if(ge>$s)xn=M(ge,Ka,$s,o.min,o.max);else if(ge<En)xn=M(ge+2*Math.PI,Ka,$s,o.min,o.max);else return;o.onChange&&o.onChange({value:Math.round((xn-o.min)/o.step)*o.step+o.min})},Qn=function(ge){var En;ge>o.max?En=o.max:ge<o.min?En=o.min:En=ge,o.onChange&&o.onChange({value:En})},tc=function(ge){!o.disabled&&!o.readOnly&&ys(ge.nativeEvent.offsetX,ge.nativeEvent.offsetY)},Fi=function(ge){y(),k(),ge.preventDefault()},Bi=function(){b(),L()},ba=function(){W(),K()},cn=function(){j(),S()},ti=function(ge){if(!o.disabled&&!o.readonly)switch(ge.code){case"ArrowRight":case"ArrowUp":ge.preventDefault(),Qn(o.value+1);break;case"ArrowLeft":case"ArrowDown":{ge.preventDefault(),Qn(o.value-1);break}case"Home":{ge.preventDefault(),Qn(o.min);break}case"End":{ge.preventDefault(),Qn(o.max);break}case"PageUp":{ge.preventDefault(),Qn(o.value+10);break}case"PageDown":{ge.preventDefault(),Qn(o.value-10);break}}};G.useImperativeHandle(t,function(){return{props:o,getElement:function(){return d.current}}});var nc=n({x:50,y:57,textAnchor:"middle",fill:o.textColor,className:c("label"),name:o.name},a("label")),wn=o.showValue&&G.createElement("text",nc,Li()),Eo=n({ref:d,id:o.id,className:Vh(o.className,c("root")),style:o.style},a("root")),rc=n({viewBox:"0 0 100 100",width:o.size,height:o.size,"aria-valuemin":o.min,"aria-valuemax":o.max,"aria-valuenow":o.value,"aria-labelledby":o.ariaLabelledby,"aria-label":o.ariaLabel,role:"slider",tabIndex:o.readonly||o.disabled?-1:o.tabIndex,onClick:function(ge){return tc(ge)},onMouseDown:function(ge){return Fi(ge)},onMouseUp:function(ge){return Bi()},onTouchStart:function(ge){return ba()},onTouchEnd:function(ge){return cn()},onKeyDown:function(ge){return ti(ge)}},a("svg")),xo=n({d:ec,strokeWidth:o.strokeWidth,stroke:o.rangeColor,className:c("range")},a("range")),Dn=n({d:wo,strokeWidth:o.strokeWidth,stroke:o.valueColor,className:c("value")},a("value"));return G.createElement("div",Eo,G.createElement("svg",rc,G.createElement("path",xo),G.createElement("path",Dn),wn))}));d2.displayName="Knob";const Fae=ao.of({widget:Hse,Component:(e,t,n)=>{var a;const[r,o]=at.useState(0),s=c=>{o(c),t(n.target,c)};return J.jsx(So,{children:J.jsxs(to,{sx:{height:100,width:100,backgroundColor:`#${ee.toHex(e.color)}`,display:"flex",justifyContent:"center",flexDirection:"column"},children:[J.jsx(to,{sx:{display:"flex",justifyContent:"center"},children:J.jsx(Mi,{sx:{fontWeight:"bold"},children:((a=e.text)==null?void 0:a.content)||""})}),J.jsx(to,{sx:{p:0,mt:1},children:J.jsx(d2,{value:r,onChange:c=>s(c.value),min:0,max:127})})]})})}});var Bae=vS(J.jsx("path",{d:"M12 2c-4.42 0-8 .5-8 4v9.5C4 17.43 5.57 19 7.5 19L6 20.5v.5h12v-.5L16.5 19c1.93 0 3.5-1.57 3.5-3.5V6c0-3.5-3.58-4-8-4M7.5 17c-.83 0-1.5-.67-1.5-1.5S6.67 14 7.5 14s1.5.67 1.5 1.5S8.33 17 7.5 17m3.5-6H6V6h5zm5.5 6c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m1.5-6h-5V6h5z"}),"DirectionsTransit");const jae=ao.of({widget:uM,Component:(e,t,n)=>{const o=(n.options.metronomeState!==void 0?n.options.metronomeState:!1)?e.color:ee.BLACK;return J.jsx(So,{children:J.jsx(to,{sx:{borderRadius:"5px",backgroundColor:`#${ee.toHex(o)}`},children:J.jsx(SS,{sx:{width:100,height:100},"aria-label":"metro-control",onClick:()=>t(n.target),children:J.jsx(Bae,{sx:{fontSize:80}})})})})}}),Dae=Ise([Cse,Tse,Ose,$se,Pse,Nse,Lse,Bse,jse,Dse,Fae,jae]),Wae=mb(Dae.controllerWidgets),Uae={controller:Wae},Fy={sysexControlCode:50,manufacturer:3},zae=Uae.controller;Mn("resend",{});const qae=gb.of({init:e=>t=>{const n=n_.make({widgets:t.map(r=>r.widget)});e.send(fl.jsonSchemaSysex(n,n_,[Fy.sysexControlCode],Fy.manufacturer))},render:e=>t=>{t.forEach(n=>{e.send(fl.jsonSchemaSysex(Kh.make({target:n.target,color:n.color,options:n.options}),Kh,[Fy.sysexControlCode]))})},targets:[]}),Kae=yb.of({name:"MIDI Structor UI",controller:qae,widgets:zae}),Vae={device:Kae},h2=[gM.device,Vae.device],Hae=te.keyBy(h2,"name"),Gae=gM.device,Jae=e=>Ii(te.get(Hae,e,void 0)),Yae=()=>te.map(h2,"name"),Xae={defaultDevice:Gae,findByName:Jae,getNames:Yae};let $c=[];const xT=Ap(NJ()),Qae=e=>{const t=r=>{if(r.type==="init-ack")ve.importStatus.set({type:"ack",projectName:r.projectName}),ve.project.abletonName.set(r.projectName);else if(r.type==="init-project")ve.importStatus.set({type:"importing"}),ve.importMessageCount.set(r.messageCount),$c=[];else if(r.type==="init-track")$c.push(r);else if(r.type==="init-clip")$c.push(r);else if(r.type==="init-cue")$c.push(r);else if(r.type==="init-done"){ve.importStatus.set({type:"finalizing"});const o=PX($c),s=ve.importMessageCount.get(),a=AX(o);ve.project.arrangement.set(o);const c={type:"done",sourceMessageCount:s,parsedMessageCount:a};nn.info("Import Status",c),ve.importStatus.set(c)}else r.type==="beat"?ve.realTime.beats.set(r.value):r.type==="sig"?ve.realTime.timeSignature.set({noteCount:r.numer,noteLength:r.denom}):r.type==="bar-beat"?ve.realTime.barBeats.set(r.value):r.type==="tempo"?ve.realTime.tempo.set(r.value):r.type==="is-playing"?ve.realTime.isPlaying.set(r.value):r.type==="metronome-state"?ve.realTime.metronomeState.set(r.value):r.type==="loop-state"?ve.realTime.loopState.set(r.value):r.type==="tick"&&ve.realTime.tick.set(r.tick)};e.on("sysex",r=>{Ap(LJ(xT,r))});const n=Ih(FJ(xT),r=>{const o=mD(r);o!==void 0&&t(o)});lJ(uJ(n,BJ))},Zae=(e,t)=>(e.emit(gn.init()),ve.importStatus.sub(n=>{n.type==="ack"&&e.emit(gn.initReady(t))})),eue=e=>{const t=e.controllers.flatMap(n=>Ot(Xae.findByName(n.device),{onSome:r=>r.widgets.resolve(n.config),onNone:()=>[]}));return nf(t.flatMap(n=>n.tracks())).toArray()};let CT,TT=[];const tue=(e,t)=>{const n=eue(e);return te.isEqual(TT,n)?nn.info("Tracks were the same, doing nothing here..."):(nn.info("Tracks were not equal, reloading project..."),TT=n,CT=Zae(t,n)),CT},nue=(e,t)=>{nn.info("Project Main"),ve.project.config.sub(n=>Ot(Q0.getActive(n),{onSome:r=>(nn.info("Active project",r),tue(r,t)),onNone:()=>(nn.error("No active project found",n),()=>{})})),Pi.getChannel().onmessage=n=>{t.emit(n.data)},Qae(e)},rue={init:nue};nn.info("Loading Project Worker Main");const p2=Jc(),g2=Jc();onmessage=e=>{te.isArray(e.data)&&e.data.length==2&&e.data[0]==="DAW_LISTENER"&&p2.emit(e.data[1])};g2.on("*",e=>postMessage(["DAW_EMITTER",e]));rue.init(p2,g2);
