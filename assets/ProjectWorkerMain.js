var v3=Object.defineProperty;var Kw=t=>{throw TypeError(t)};var _3=(t,e,n)=>e in t?v3(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var _=(t,e,n)=>_3(t,typeof e!="symbol"?e+"":e,n),qw=(t,e,n)=>e.has(t)||Kw("Cannot "+n);var Vw=(t,e,n)=>(qw(t,e,"read from private field"),n?n.call(t):e.get(t)),Hw=(t,e,n)=>e.has(t)?Kw("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Gw=(t,e,n,r)=>(qw(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);function b3(t,e){return e.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(r){if(r!=="default"&&!(r in t)){var o=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,o.get?o:{enumerable:!0,get:function(){return n[r]}})}})}),Object.freeze(t)}var vc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function iO(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var s0={exports:{}},za=typeof Reflect=="object"?Reflect:null,Jw=za&&typeof za.apply=="function"?za.apply:function(e,n,r){return Function.prototype.apply.call(e,n,r)},_d;za&&typeof za.ownKeys=="function"?_d=za.ownKeys:Object.getOwnPropertySymbols?_d=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:_d=function(e){return Object.getOwnPropertyNames(e)};function S3(t){console&&console.warn&&console.warn(t)}var sO=Number.isNaN||function(e){return e!==e};function Xt(){Xt.init.call(this)}s0.exports=Xt;s0.exports.once=C3;Xt.EventEmitter=Xt;Xt.prototype._events=void 0;Xt.prototype._eventsCount=0;Xt.prototype._maxListeners=void 0;var Yw=10;function Fh(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(Xt,"defaultMaxListeners",{enumerable:!0,get:function(){return Yw},set:function(t){if(typeof t!="number"||t<0||sO(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");Yw=t}});Xt.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Xt.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||sO(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function aO(t){return t._maxListeners===void 0?Xt.defaultMaxListeners:t._maxListeners}Xt.prototype.getMaxListeners=function(){return aO(this)};Xt.prototype.emit=function(e){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var o=e==="error",s=this._events;if(s!==void 0)o=o&&s.error===void 0;else if(!o)return!1;if(o){var u;if(n.length>0&&(u=n[0]),u instanceof Error)throw u;var c=new Error("Unhandled error."+(u?" ("+u.message+")":""));throw c.context=u,c}var f=s[e];if(f===void 0)return!1;if(typeof f=="function")Jw(f,this,n);else for(var d=f.length,h=dO(f,d),r=0;r<d;++r)Jw(h[r],this,n);return!0};function uO(t,e,n,r){var o,s,u;if(Fh(n),s=t._events,s===void 0?(s=t._events=Object.create(null),t._eventsCount=0):(s.newListener!==void 0&&(t.emit("newListener",e,n.listener?n.listener:n),s=t._events),u=s[e]),u===void 0)u=s[e]=n,++t._eventsCount;else if(typeof u=="function"?u=s[e]=r?[n,u]:[u,n]:r?u.unshift(n):u.push(n),o=aO(t),o>0&&u.length>o&&!u.warned){u.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+u.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=t,c.type=e,c.count=u.length,S3(c)}return t}Xt.prototype.addListener=function(e,n){return uO(this,e,n,!1)};Xt.prototype.on=Xt.prototype.addListener;Xt.prototype.prependListener=function(e,n){return uO(this,e,n,!0)};function w3(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function cO(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},o=w3.bind(r);return o.listener=n,r.wrapFn=o,o}Xt.prototype.once=function(e,n){return Fh(n),this.on(e,cO(this,e,n)),this};Xt.prototype.prependOnceListener=function(e,n){return Fh(n),this.prependListener(e,cO(this,e,n)),this};Xt.prototype.removeListener=function(e,n){var r,o,s,u,c;if(Fh(n),o=this._events,o===void 0)return this;if(r=o[e],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete o[e],o.removeListener&&this.emit("removeListener",e,r.listener||n));else if(typeof r!="function"){for(s=-1,u=r.length-1;u>=0;u--)if(r[u]===n||r[u].listener===n){c=r[u].listener,s=u;break}if(s<0)return this;s===0?r.shift():E3(r,s),r.length===1&&(o[e]=r[0]),o.removeListener!==void 0&&this.emit("removeListener",e,c||n)}return this};Xt.prototype.off=Xt.prototype.removeListener;Xt.prototype.removeAllListeners=function(e){var n,r,o;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var s=Object.keys(r),u;for(o=0;o<s.length;++o)u=s[o],u!=="removeListener"&&this.removeAllListeners(u);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[e],typeof n=="function")this.removeListener(e,n);else if(n!==void 0)for(o=n.length-1;o>=0;o--)this.removeListener(e,n[o]);return this};function lO(t,e,n){var r=t._events;if(r===void 0)return[];var o=r[e];return o===void 0?[]:typeof o=="function"?n?[o.listener||o]:[o]:n?x3(o):dO(o,o.length)}Xt.prototype.listeners=function(e){return lO(this,e,!0)};Xt.prototype.rawListeners=function(e){return lO(this,e,!1)};Xt.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):fO.call(t,e)};Xt.prototype.listenerCount=fO;function fO(t){var e=this._events;if(e!==void 0){var n=e[t];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}Xt.prototype.eventNames=function(){return this._eventsCount>0?_d(this._events):[]};function dO(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function E3(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function x3(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}function C3(t,e){return new Promise(function(n,r){function o(u){t.removeListener(e,s),r(u)}function s(){typeof t.removeListener=="function"&&t.removeListener("error",o),n([].slice.call(arguments))}hO(t,e,s,{once:!0}),e!=="error"&&T3(t,o,{once:!0})})}function T3(t,e,n){typeof t.on=="function"&&hO(t,"error",e,n)}function hO(t,e,n,r){if(typeof t.on=="function")r.once?t.once(e,n):t.on(e,n);else if(typeof t.addEventListener=="function")t.addEventListener(e,function o(s){r.once&&t.removeEventListener(e,o),n(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var O3=s0.exports;const A3=typeof window>"u",k3=()=>A3&&typeof self<"u"?self.name==="project"?"project":"controller":"main",$y=k3(),I3=t=>t==="main"?"32":t==="project"?"34":"33",R3=I3($y),zd={type:$y,isMain:$y==="main",color:R3},Xw=()=>{},$3=()=>{const t=zd.type,n=`\x1B[${zd.color}m[${t}]\x1B[0m %s`;return{debug:console.debug.bind(console,n),info:console.info.bind(console,n),warn:console.warn.bind(console,n),error:console.error.bind(console,n),noop:Xw,enabled:(r,o)=>r?o:Xw}},In=$3(),Gc=()=>P3(new O3.EventEmitter),P3=t=>({on:(e,n)=>(t.on(e,n),()=>{t.off(e,n)}),emit:e=>{t.emit("*",e),t.emit(e.type,e)}}),a0=t=>{const e=In.enabled(!1,In.info),n=Gc(),r=Gc(),o=new BroadcastChannel(t);return o.onmessage=s=>{e("Received message",s),r.emit(s.data)},n.on("*",s=>{e("Emitting event",s),o.postMessage(s)}),{emitter:n,listener:r}};var Wd={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Wd.exports;(function(t,e){(function(){var n,r="4.17.21",o=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",u="Expected a function",c="Invalid `variable` option passed into `_.template`",f="__lodash_hash_undefined__",d=500,h="__lodash_placeholder__",g=1,y=2,v=4,S=1,x=2,T=1,O=2,N=4,P=8,R=16,j=32,B=64,k=128,U=256,K=512,b=30,M="...",D=800,X=16,nt=1,mt=2,gt=3,ot=1/0,at=9007199254740991,Nt=17976931348623157e292,rn=NaN,se=4294967295,$i=se-1,Qu=se>>>1,Zu=[["ary",k],["bind",T],["bindKey",O],["curry",P],["curryRight",R],["flip",K],["partial",j],["partialRight",B],["rearg",U]],wo="[object Arguments]",Pi="[object Array]",ps="[object AsyncFunction]",Zo="[object Boolean]",Hn="[object Date]",tc="[object DOMException]",Mi="[object Error]",Ni="[object Function]",ha="[object GeneratorFunction]",on="[object Map]",ti="[object Number]",ec="[object Null]",vn="[object Object]",Eo="[object Promise]",nc="[object Proxy]",xo="[object RegExp]",Ln="[object Set]",Q="[object String]",ht="[object Symbol]",_n="[object Undefined]",bn="[object WeakMap]",Li="[object WeakSet]",eo="[object ArrayBuffer]",Fi="[object DataView]",yg="[object Float32Array]",vg="[object Float64Array]",_g="[object Int8Array]",bg="[object Int16Array]",Sg="[object Int32Array]",wg="[object Uint8Array]",Eg="[object Uint8ClampedArray]",xg="[object Uint16Array]",Cg="[object Uint32Array]",jM=/\b__p \+= '';/g,DM=/\b(__p \+=) '' \+/g,UM=/(__e\(.*?\)|\b__t\)) \+\n'';/g,gS=/&(?:amp|lt|gt|quot|#39);/g,mS=/[&<>"']/g,zM=RegExp(gS.source),WM=RegExp(mS.source),KM=/<%-([\s\S]+?)%>/g,qM=/<%([\s\S]+?)%>/g,yS=/<%=([\s\S]+?)%>/g,VM=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,HM=/^\w*$/,GM=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Tg=/[\\^$.*+?()[\]{}|]/g,JM=RegExp(Tg.source),Og=/^\s+/,YM=/\s/,XM=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,QM=/\{\n\/\* \[wrapped with (.+)\] \*/,ZM=/,? & /,tN=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,eN=/[()=,{}\[\]\/\s]/,nN=/\\(\\)?/g,rN=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,vS=/\w*$/,oN=/^[-+]0x[0-9a-f]+$/i,iN=/^0b[01]+$/i,sN=/^\[object .+?Constructor\]$/,aN=/^0o[0-7]+$/i,uN=/^(?:0|[1-9]\d*)$/,cN=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,af=/($^)/,lN=/['\n\r\u2028\u2029\\]/g,uf="\\ud800-\\udfff",fN="\\u0300-\\u036f",dN="\\ufe20-\\ufe2f",hN="\\u20d0-\\u20ff",_S=fN+dN+hN,bS="\\u2700-\\u27bf",SS="a-z\\xdf-\\xf6\\xf8-\\xff",pN="\\xac\\xb1\\xd7\\xf7",gN="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",mN="\\u2000-\\u206f",yN=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",wS="A-Z\\xc0-\\xd6\\xd8-\\xde",ES="\\ufe0e\\ufe0f",xS=pN+gN+mN+yN,Ag="['’]",vN="["+uf+"]",CS="["+xS+"]",cf="["+_S+"]",TS="\\d+",_N="["+bS+"]",OS="["+SS+"]",AS="[^"+uf+xS+TS+bS+SS+wS+"]",kg="\\ud83c[\\udffb-\\udfff]",bN="(?:"+cf+"|"+kg+")",kS="[^"+uf+"]",Ig="(?:\\ud83c[\\udde6-\\uddff]){2}",Rg="[\\ud800-\\udbff][\\udc00-\\udfff]",pa="["+wS+"]",IS="\\u200d",RS="(?:"+OS+"|"+AS+")",SN="(?:"+pa+"|"+AS+")",$S="(?:"+Ag+"(?:d|ll|m|re|s|t|ve))?",PS="(?:"+Ag+"(?:D|LL|M|RE|S|T|VE))?",MS=bN+"?",NS="["+ES+"]?",wN="(?:"+IS+"(?:"+[kS,Ig,Rg].join("|")+")"+NS+MS+")*",EN="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",xN="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",LS=NS+MS+wN,CN="(?:"+[_N,Ig,Rg].join("|")+")"+LS,TN="(?:"+[kS+cf+"?",cf,Ig,Rg,vN].join("|")+")",ON=RegExp(Ag,"g"),AN=RegExp(cf,"g"),$g=RegExp(kg+"(?="+kg+")|"+TN+LS,"g"),kN=RegExp([pa+"?"+OS+"+"+$S+"(?="+[CS,pa,"$"].join("|")+")",SN+"+"+PS+"(?="+[CS,pa+RS,"$"].join("|")+")",pa+"?"+RS+"+"+$S,pa+"+"+PS,xN,EN,TS,CN].join("|"),"g"),IN=RegExp("["+IS+uf+_S+ES+"]"),RN=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,$N=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],PN=-1,ce={};ce[yg]=ce[vg]=ce[_g]=ce[bg]=ce[Sg]=ce[wg]=ce[Eg]=ce[xg]=ce[Cg]=!0,ce[wo]=ce[Pi]=ce[eo]=ce[Zo]=ce[Fi]=ce[Hn]=ce[Mi]=ce[Ni]=ce[on]=ce[ti]=ce[vn]=ce[xo]=ce[Ln]=ce[Q]=ce[bn]=!1;var ae={};ae[wo]=ae[Pi]=ae[eo]=ae[Fi]=ae[Zo]=ae[Hn]=ae[yg]=ae[vg]=ae[_g]=ae[bg]=ae[Sg]=ae[on]=ae[ti]=ae[vn]=ae[xo]=ae[Ln]=ae[Q]=ae[ht]=ae[wg]=ae[Eg]=ae[xg]=ae[Cg]=!0,ae[Mi]=ae[Ni]=ae[bn]=!1;var MN={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},NN={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},LN={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},FN={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},BN=parseFloat,jN=parseInt,FS=typeof vc=="object"&&vc&&vc.Object===Object&&vc,DN=typeof self=="object"&&self&&self.Object===Object&&self,sn=FS||DN||Function("return this")(),Pg=e&&!e.nodeType&&e,gs=Pg&&!0&&t&&!t.nodeType&&t,BS=gs&&gs.exports===Pg,Mg=BS&&FS.process,Ir=function(){try{var I=gs&&gs.require&&gs.require("util").types;return I||Mg&&Mg.binding&&Mg.binding("util")}catch{}}(),jS=Ir&&Ir.isArrayBuffer,DS=Ir&&Ir.isDate,US=Ir&&Ir.isMap,zS=Ir&&Ir.isRegExp,WS=Ir&&Ir.isSet,KS=Ir&&Ir.isTypedArray;function or(I,W,F){switch(F.length){case 0:return I.call(W);case 1:return I.call(W,F[0]);case 2:return I.call(W,F[0],F[1]);case 3:return I.call(W,F[0],F[1],F[2])}return I.apply(W,F)}function UN(I,W,F,et){for(var yt=-1,zt=I==null?0:I.length;++yt<zt;){var Ue=I[yt];W(et,Ue,F(Ue),I)}return et}function Rr(I,W){for(var F=-1,et=I==null?0:I.length;++F<et&&W(I[F],F,I)!==!1;);return I}function zN(I,W){for(var F=I==null?0:I.length;F--&&W(I[F],F,I)!==!1;);return I}function qS(I,W){for(var F=-1,et=I==null?0:I.length;++F<et;)if(!W(I[F],F,I))return!1;return!0}function Bi(I,W){for(var F=-1,et=I==null?0:I.length,yt=0,zt=[];++F<et;){var Ue=I[F];W(Ue,F,I)&&(zt[yt++]=Ue)}return zt}function lf(I,W){var F=I==null?0:I.length;return!!F&&ga(I,W,0)>-1}function Ng(I,W,F){for(var et=-1,yt=I==null?0:I.length;++et<yt;)if(F(W,I[et]))return!0;return!1}function de(I,W){for(var F=-1,et=I==null?0:I.length,yt=Array(et);++F<et;)yt[F]=W(I[F],F,I);return yt}function ji(I,W){for(var F=-1,et=W.length,yt=I.length;++F<et;)I[yt+F]=W[F];return I}function Lg(I,W,F,et){var yt=-1,zt=I==null?0:I.length;for(et&&zt&&(F=I[++yt]);++yt<zt;)F=W(F,I[yt],yt,I);return F}function WN(I,W,F,et){var yt=I==null?0:I.length;for(et&&yt&&(F=I[--yt]);yt--;)F=W(F,I[yt],yt,I);return F}function Fg(I,W){for(var F=-1,et=I==null?0:I.length;++F<et;)if(W(I[F],F,I))return!0;return!1}var KN=Bg("length");function qN(I){return I.split("")}function VN(I){return I.match(tN)||[]}function VS(I,W,F){var et;return F(I,function(yt,zt,Ue){if(W(yt,zt,Ue))return et=zt,!1}),et}function ff(I,W,F,et){for(var yt=I.length,zt=F+(et?1:-1);et?zt--:++zt<yt;)if(W(I[zt],zt,I))return zt;return-1}function ga(I,W,F){return W===W?oL(I,W,F):ff(I,HS,F)}function HN(I,W,F,et){for(var yt=F-1,zt=I.length;++yt<zt;)if(et(I[yt],W))return yt;return-1}function HS(I){return I!==I}function GS(I,W){var F=I==null?0:I.length;return F?Dg(I,W)/F:rn}function Bg(I){return function(W){return W==null?n:W[I]}}function jg(I){return function(W){return I==null?n:I[W]}}function JS(I,W,F,et,yt){return yt(I,function(zt,Ue,Qt){F=et?(et=!1,zt):W(F,zt,Ue,Qt)}),F}function GN(I,W){var F=I.length;for(I.sort(W);F--;)I[F]=I[F].value;return I}function Dg(I,W){for(var F,et=-1,yt=I.length;++et<yt;){var zt=W(I[et]);zt!==n&&(F=F===n?zt:F+zt)}return F}function Ug(I,W){for(var F=-1,et=Array(I);++F<I;)et[F]=W(F);return et}function JN(I,W){return de(W,function(F){return[F,I[F]]})}function YS(I){return I&&I.slice(0,t1(I)+1).replace(Og,"")}function ir(I){return function(W){return I(W)}}function zg(I,W){return de(W,function(F){return I[F]})}function rc(I,W){return I.has(W)}function XS(I,W){for(var F=-1,et=I.length;++F<et&&ga(W,I[F],0)>-1;);return F}function QS(I,W){for(var F=I.length;F--&&ga(W,I[F],0)>-1;);return F}function YN(I,W){for(var F=I.length,et=0;F--;)I[F]===W&&++et;return et}var XN=jg(MN),QN=jg(NN);function ZN(I){return"\\"+FN[I]}function tL(I,W){return I==null?n:I[W]}function ma(I){return IN.test(I)}function eL(I){return RN.test(I)}function nL(I){for(var W,F=[];!(W=I.next()).done;)F.push(W.value);return F}function Wg(I){var W=-1,F=Array(I.size);return I.forEach(function(et,yt){F[++W]=[yt,et]}),F}function ZS(I,W){return function(F){return I(W(F))}}function Di(I,W){for(var F=-1,et=I.length,yt=0,zt=[];++F<et;){var Ue=I[F];(Ue===W||Ue===h)&&(I[F]=h,zt[yt++]=F)}return zt}function df(I){var W=-1,F=Array(I.size);return I.forEach(function(et){F[++W]=et}),F}function rL(I){var W=-1,F=Array(I.size);return I.forEach(function(et){F[++W]=[et,et]}),F}function oL(I,W,F){for(var et=F-1,yt=I.length;++et<yt;)if(I[et]===W)return et;return-1}function iL(I,W,F){for(var et=F+1;et--;)if(I[et]===W)return et;return et}function ya(I){return ma(I)?aL(I):KN(I)}function no(I){return ma(I)?uL(I):qN(I)}function t1(I){for(var W=I.length;W--&&YM.test(I.charAt(W)););return W}var sL=jg(LN);function aL(I){for(var W=$g.lastIndex=0;$g.test(I);)++W;return W}function uL(I){return I.match($g)||[]}function cL(I){return I.match(kN)||[]}var lL=function I(W){W=W==null?sn:va.defaults(sn.Object(),W,va.pick(sn,$N));var F=W.Array,et=W.Date,yt=W.Error,zt=W.Function,Ue=W.Math,Qt=W.Object,Kg=W.RegExp,fL=W.String,$r=W.TypeError,hf=F.prototype,dL=zt.prototype,_a=Qt.prototype,pf=W["__core-js_shared__"],gf=dL.toString,Gt=_a.hasOwnProperty,hL=0,e1=function(){var i=/[^.]+$/.exec(pf&&pf.keys&&pf.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}(),mf=_a.toString,pL=gf.call(Qt),gL=sn._,mL=Kg("^"+gf.call(Gt).replace(Tg,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),yf=BS?W.Buffer:n,Ui=W.Symbol,vf=W.Uint8Array,n1=yf?yf.allocUnsafe:n,_f=ZS(Qt.getPrototypeOf,Qt),r1=Qt.create,o1=_a.propertyIsEnumerable,bf=hf.splice,i1=Ui?Ui.isConcatSpreadable:n,oc=Ui?Ui.iterator:n,ms=Ui?Ui.toStringTag:n,Sf=function(){try{var i=Ss(Qt,"defineProperty");return i({},"",{}),i}catch{}}(),yL=W.clearTimeout!==sn.clearTimeout&&W.clearTimeout,vL=et&&et.now!==sn.Date.now&&et.now,_L=W.setTimeout!==sn.setTimeout&&W.setTimeout,wf=Ue.ceil,Ef=Ue.floor,qg=Qt.getOwnPropertySymbols,bL=yf?yf.isBuffer:n,s1=W.isFinite,SL=hf.join,wL=ZS(Qt.keys,Qt),ze=Ue.max,Sn=Ue.min,EL=et.now,xL=W.parseInt,a1=Ue.random,CL=hf.reverse,Vg=Ss(W,"DataView"),ic=Ss(W,"Map"),Hg=Ss(W,"Promise"),ba=Ss(W,"Set"),sc=Ss(W,"WeakMap"),ac=Ss(Qt,"create"),xf=sc&&new sc,Sa={},TL=ws(Vg),OL=ws(ic),AL=ws(Hg),kL=ws(ba),IL=ws(sc),Cf=Ui?Ui.prototype:n,uc=Cf?Cf.valueOf:n,u1=Cf?Cf.toString:n;function w(i){if(be(i)&&!bt(i)&&!(i instanceof Mt)){if(i instanceof Pr)return i;if(Gt.call(i,"__wrapped__"))return cw(i)}return new Pr(i)}var wa=function(){function i(){}return function(a){if(!me(a))return{};if(r1)return r1(a);i.prototype=a;var l=new i;return i.prototype=n,l}}();function Tf(){}function Pr(i,a){this.__wrapped__=i,this.__actions__=[],this.__chain__=!!a,this.__index__=0,this.__values__=n}w.templateSettings={escape:KM,evaluate:qM,interpolate:yS,variable:"",imports:{_:w}},w.prototype=Tf.prototype,w.prototype.constructor=w,Pr.prototype=wa(Tf.prototype),Pr.prototype.constructor=Pr;function Mt(i){this.__wrapped__=i,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=se,this.__views__=[]}function RL(){var i=new Mt(this.__wrapped__);return i.__actions__=Gn(this.__actions__),i.__dir__=this.__dir__,i.__filtered__=this.__filtered__,i.__iteratees__=Gn(this.__iteratees__),i.__takeCount__=this.__takeCount__,i.__views__=Gn(this.__views__),i}function $L(){if(this.__filtered__){var i=new Mt(this);i.__dir__=-1,i.__filtered__=!0}else i=this.clone(),i.__dir__*=-1;return i}function PL(){var i=this.__wrapped__.value(),a=this.__dir__,l=bt(i),p=a<0,m=l?i.length:0,E=qF(0,m,this.__views__),C=E.start,A=E.end,$=A-C,q=p?A:C-1,V=this.__iteratees__,Y=V.length,Z=0,it=Sn($,this.__takeCount__);if(!l||!p&&m==$&&it==$)return $1(i,this.__actions__);var ft=[];t:for(;$--&&Z<it;){q+=a;for(var Tt=-1,dt=i[q];++Tt<Y;){var $t=V[Tt],Lt=$t.iteratee,ur=$t.type,jn=Lt(dt);if(ur==mt)dt=jn;else if(!jn){if(ur==nt)continue t;break t}}ft[Z++]=dt}return ft}Mt.prototype=wa(Tf.prototype),Mt.prototype.constructor=Mt;function ys(i){var a=-1,l=i==null?0:i.length;for(this.clear();++a<l;){var p=i[a];this.set(p[0],p[1])}}function ML(){this.__data__=ac?ac(null):{},this.size=0}function NL(i){var a=this.has(i)&&delete this.__data__[i];return this.size-=a?1:0,a}function LL(i){var a=this.__data__;if(ac){var l=a[i];return l===f?n:l}return Gt.call(a,i)?a[i]:n}function FL(i){var a=this.__data__;return ac?a[i]!==n:Gt.call(a,i)}function BL(i,a){var l=this.__data__;return this.size+=this.has(i)?0:1,l[i]=ac&&a===n?f:a,this}ys.prototype.clear=ML,ys.prototype.delete=NL,ys.prototype.get=LL,ys.prototype.has=FL,ys.prototype.set=BL;function ei(i){var a=-1,l=i==null?0:i.length;for(this.clear();++a<l;){var p=i[a];this.set(p[0],p[1])}}function jL(){this.__data__=[],this.size=0}function DL(i){var a=this.__data__,l=Of(a,i);if(l<0)return!1;var p=a.length-1;return l==p?a.pop():bf.call(a,l,1),--this.size,!0}function UL(i){var a=this.__data__,l=Of(a,i);return l<0?n:a[l][1]}function zL(i){return Of(this.__data__,i)>-1}function WL(i,a){var l=this.__data__,p=Of(l,i);return p<0?(++this.size,l.push([i,a])):l[p][1]=a,this}ei.prototype.clear=jL,ei.prototype.delete=DL,ei.prototype.get=UL,ei.prototype.has=zL,ei.prototype.set=WL;function ni(i){var a=-1,l=i==null?0:i.length;for(this.clear();++a<l;){var p=i[a];this.set(p[0],p[1])}}function KL(){this.size=0,this.__data__={hash:new ys,map:new(ic||ei),string:new ys}}function qL(i){var a=jf(this,i).delete(i);return this.size-=a?1:0,a}function VL(i){return jf(this,i).get(i)}function HL(i){return jf(this,i).has(i)}function GL(i,a){var l=jf(this,i),p=l.size;return l.set(i,a),this.size+=l.size==p?0:1,this}ni.prototype.clear=KL,ni.prototype.delete=qL,ni.prototype.get=VL,ni.prototype.has=HL,ni.prototype.set=GL;function vs(i){var a=-1,l=i==null?0:i.length;for(this.__data__=new ni;++a<l;)this.add(i[a])}function JL(i){return this.__data__.set(i,f),this}function YL(i){return this.__data__.has(i)}vs.prototype.add=vs.prototype.push=JL,vs.prototype.has=YL;function ro(i){var a=this.__data__=new ei(i);this.size=a.size}function XL(){this.__data__=new ei,this.size=0}function QL(i){var a=this.__data__,l=a.delete(i);return this.size=a.size,l}function ZL(i){return this.__data__.get(i)}function tF(i){return this.__data__.has(i)}function eF(i,a){var l=this.__data__;if(l instanceof ei){var p=l.__data__;if(!ic||p.length<o-1)return p.push([i,a]),this.size=++l.size,this;l=this.__data__=new ni(p)}return l.set(i,a),this.size=l.size,this}ro.prototype.clear=XL,ro.prototype.delete=QL,ro.prototype.get=ZL,ro.prototype.has=tF,ro.prototype.set=eF;function c1(i,a){var l=bt(i),p=!l&&Es(i),m=!l&&!p&&Vi(i),E=!l&&!p&&!m&&Ta(i),C=l||p||m||E,A=C?Ug(i.length,fL):[],$=A.length;for(var q in i)(a||Gt.call(i,q))&&!(C&&(q=="length"||m&&(q=="offset"||q=="parent")||E&&(q=="buffer"||q=="byteLength"||q=="byteOffset")||si(q,$)))&&A.push(q);return A}function l1(i){var a=i.length;return a?i[om(0,a-1)]:n}function nF(i,a){return Df(Gn(i),_s(a,0,i.length))}function rF(i){return Df(Gn(i))}function Gg(i,a,l){(l!==n&&!oo(i[a],l)||l===n&&!(a in i))&&ri(i,a,l)}function cc(i,a,l){var p=i[a];(!(Gt.call(i,a)&&oo(p,l))||l===n&&!(a in i))&&ri(i,a,l)}function Of(i,a){for(var l=i.length;l--;)if(oo(i[l][0],a))return l;return-1}function oF(i,a,l,p){return zi(i,function(m,E,C){a(p,m,l(m),C)}),p}function f1(i,a){return i&&To(a,Je(a),i)}function iF(i,a){return i&&To(a,Yn(a),i)}function ri(i,a,l){a=="__proto__"&&Sf?Sf(i,a,{configurable:!0,enumerable:!0,value:l,writable:!0}):i[a]=l}function Jg(i,a){for(var l=-1,p=a.length,m=F(p),E=i==null;++l<p;)m[l]=E?n:km(i,a[l]);return m}function _s(i,a,l){return i===i&&(l!==n&&(i=i<=l?i:l),a!==n&&(i=i>=a?i:a)),i}function Mr(i,a,l,p,m,E){var C,A=a&g,$=a&y,q=a&v;if(l&&(C=m?l(i,p,m,E):l(i)),C!==n)return C;if(!me(i))return i;var V=bt(i);if(V){if(C=HF(i),!A)return Gn(i,C)}else{var Y=wn(i),Z=Y==Ni||Y==ha;if(Vi(i))return N1(i,A);if(Y==vn||Y==wo||Z&&!m){if(C=$||Z?{}:tw(i),!A)return $?LF(i,iF(C,i)):NF(i,f1(C,i))}else{if(!ae[Y])return m?i:{};C=GF(i,Y,A)}}E||(E=new ro);var it=E.get(i);if(it)return it;E.set(i,C),kw(i)?i.forEach(function(dt){C.add(Mr(dt,a,l,dt,i,E))}):Ow(i)&&i.forEach(function(dt,$t){C.set($t,Mr(dt,a,l,$t,i,E))});var ft=q?$?gm:pm:$?Yn:Je,Tt=V?n:ft(i);return Rr(Tt||i,function(dt,$t){Tt&&($t=dt,dt=i[$t]),cc(C,$t,Mr(dt,a,l,$t,i,E))}),C}function sF(i){var a=Je(i);return function(l){return d1(l,i,a)}}function d1(i,a,l){var p=l.length;if(i==null)return!p;for(i=Qt(i);p--;){var m=l[p],E=a[m],C=i[m];if(C===n&&!(m in i)||!E(C))return!1}return!0}function h1(i,a,l){if(typeof i!="function")throw new $r(u);return mc(function(){i.apply(n,l)},a)}function lc(i,a,l,p){var m=-1,E=lf,C=!0,A=i.length,$=[],q=a.length;if(!A)return $;l&&(a=de(a,ir(l))),p?(E=Ng,C=!1):a.length>=o&&(E=rc,C=!1,a=new vs(a));t:for(;++m<A;){var V=i[m],Y=l==null?V:l(V);if(V=p||V!==0?V:0,C&&Y===Y){for(var Z=q;Z--;)if(a[Z]===Y)continue t;$.push(V)}else E(a,Y,p)||$.push(V)}return $}var zi=D1(Co),p1=D1(Xg,!0);function aF(i,a){var l=!0;return zi(i,function(p,m,E){return l=!!a(p,m,E),l}),l}function Af(i,a,l){for(var p=-1,m=i.length;++p<m;){var E=i[p],C=a(E);if(C!=null&&(A===n?C===C&&!ar(C):l(C,A)))var A=C,$=E}return $}function uF(i,a,l,p){var m=i.length;for(l=xt(l),l<0&&(l=-l>m?0:m+l),p=p===n||p>m?m:xt(p),p<0&&(p+=m),p=l>p?0:Rw(p);l<p;)i[l++]=a;return i}function g1(i,a){var l=[];return zi(i,function(p,m,E){a(p,m,E)&&l.push(p)}),l}function an(i,a,l,p,m){var E=-1,C=i.length;for(l||(l=YF),m||(m=[]);++E<C;){var A=i[E];a>0&&l(A)?a>1?an(A,a-1,l,p,m):ji(m,A):p||(m[m.length]=A)}return m}var Yg=U1(),m1=U1(!0);function Co(i,a){return i&&Yg(i,a,Je)}function Xg(i,a){return i&&m1(i,a,Je)}function kf(i,a){return Bi(a,function(l){return ai(i[l])})}function bs(i,a){a=Ki(a,i);for(var l=0,p=a.length;i!=null&&l<p;)i=i[Oo(a[l++])];return l&&l==p?i:n}function y1(i,a,l){var p=a(i);return bt(i)?p:ji(p,l(i))}function Fn(i){return i==null?i===n?_n:ec:ms&&ms in Qt(i)?KF(i):r2(i)}function Qg(i,a){return i>a}function cF(i,a){return i!=null&&Gt.call(i,a)}function lF(i,a){return i!=null&&a in Qt(i)}function fF(i,a,l){return i>=Sn(a,l)&&i<ze(a,l)}function Zg(i,a,l){for(var p=l?Ng:lf,m=i[0].length,E=i.length,C=E,A=F(E),$=1/0,q=[];C--;){var V=i[C];C&&a&&(V=de(V,ir(a))),$=Sn(V.length,$),A[C]=!l&&(a||m>=120&&V.length>=120)?new vs(C&&V):n}V=i[0];var Y=-1,Z=A[0];t:for(;++Y<m&&q.length<$;){var it=V[Y],ft=a?a(it):it;if(it=l||it!==0?it:0,!(Z?rc(Z,ft):p(q,ft,l))){for(C=E;--C;){var Tt=A[C];if(!(Tt?rc(Tt,ft):p(i[C],ft,l)))continue t}Z&&Z.push(ft),q.push(it)}}return q}function dF(i,a,l,p){return Co(i,function(m,E,C){a(p,l(m),E,C)}),p}function fc(i,a,l){a=Ki(a,i),i=ow(i,a);var p=i==null?i:i[Oo(Lr(a))];return p==null?n:or(p,i,l)}function v1(i){return be(i)&&Fn(i)==wo}function hF(i){return be(i)&&Fn(i)==eo}function pF(i){return be(i)&&Fn(i)==Hn}function dc(i,a,l,p,m){return i===a?!0:i==null||a==null||!be(i)&&!be(a)?i!==i&&a!==a:gF(i,a,l,p,dc,m)}function gF(i,a,l,p,m,E){var C=bt(i),A=bt(a),$=C?Pi:wn(i),q=A?Pi:wn(a);$=$==wo?vn:$,q=q==wo?vn:q;var V=$==vn,Y=q==vn,Z=$==q;if(Z&&Vi(i)){if(!Vi(a))return!1;C=!0,V=!1}if(Z&&!V)return E||(E=new ro),C||Ta(i)?X1(i,a,l,p,m,E):zF(i,a,$,l,p,m,E);if(!(l&S)){var it=V&&Gt.call(i,"__wrapped__"),ft=Y&&Gt.call(a,"__wrapped__");if(it||ft){var Tt=it?i.value():i,dt=ft?a.value():a;return E||(E=new ro),m(Tt,dt,l,p,E)}}return Z?(E||(E=new ro),WF(i,a,l,p,m,E)):!1}function mF(i){return be(i)&&wn(i)==on}function tm(i,a,l,p){var m=l.length,E=m,C=!p;if(i==null)return!E;for(i=Qt(i);m--;){var A=l[m];if(C&&A[2]?A[1]!==i[A[0]]:!(A[0]in i))return!1}for(;++m<E;){A=l[m];var $=A[0],q=i[$],V=A[1];if(C&&A[2]){if(q===n&&!($ in i))return!1}else{var Y=new ro;if(p)var Z=p(q,V,$,i,a,Y);if(!(Z===n?dc(V,q,S|x,p,Y):Z))return!1}}return!0}function _1(i){if(!me(i)||QF(i))return!1;var a=ai(i)?mL:sN;return a.test(ws(i))}function yF(i){return be(i)&&Fn(i)==xo}function vF(i){return be(i)&&wn(i)==Ln}function _F(i){return be(i)&&Vf(i.length)&&!!ce[Fn(i)]}function b1(i){return typeof i=="function"?i:i==null?Xn:typeof i=="object"?bt(i)?E1(i[0],i[1]):w1(i):zw(i)}function em(i){if(!gc(i))return wL(i);var a=[];for(var l in Qt(i))Gt.call(i,l)&&l!="constructor"&&a.push(l);return a}function bF(i){if(!me(i))return n2(i);var a=gc(i),l=[];for(var p in i)p=="constructor"&&(a||!Gt.call(i,p))||l.push(p);return l}function nm(i,a){return i<a}function S1(i,a){var l=-1,p=Jn(i)?F(i.length):[];return zi(i,function(m,E,C){p[++l]=a(m,E,C)}),p}function w1(i){var a=ym(i);return a.length==1&&a[0][2]?nw(a[0][0],a[0][1]):function(l){return l===i||tm(l,i,a)}}function E1(i,a){return _m(i)&&ew(a)?nw(Oo(i),a):function(l){var p=km(l,i);return p===n&&p===a?Im(l,i):dc(a,p,S|x)}}function If(i,a,l,p,m){i!==a&&Yg(a,function(E,C){if(m||(m=new ro),me(E))SF(i,a,C,l,If,p,m);else{var A=p?p(Sm(i,C),E,C+"",i,a,m):n;A===n&&(A=E),Gg(i,C,A)}},Yn)}function SF(i,a,l,p,m,E,C){var A=Sm(i,l),$=Sm(a,l),q=C.get($);if(q){Gg(i,l,q);return}var V=E?E(A,$,l+"",i,a,C):n,Y=V===n;if(Y){var Z=bt($),it=!Z&&Vi($),ft=!Z&&!it&&Ta($);V=$,Z||it||ft?bt(A)?V=A:Te(A)?V=Gn(A):it?(Y=!1,V=N1($,!0)):ft?(Y=!1,V=L1($,!0)):V=[]:yc($)||Es($)?(V=A,Es(A)?V=$w(A):(!me(A)||ai(A))&&(V=tw($))):Y=!1}Y&&(C.set($,V),m(V,$,p,E,C),C.delete($)),Gg(i,l,V)}function x1(i,a){var l=i.length;if(l)return a+=a<0?l:0,si(a,l)?i[a]:n}function C1(i,a,l){a.length?a=de(a,function(E){return bt(E)?function(C){return bs(C,E.length===1?E[0]:E)}:E}):a=[Xn];var p=-1;a=de(a,ir(lt()));var m=S1(i,function(E,C,A){var $=de(a,function(q){return q(E)});return{criteria:$,index:++p,value:E}});return GN(m,function(E,C){return MF(E,C,l)})}function wF(i,a){return T1(i,a,function(l,p){return Im(i,p)})}function T1(i,a,l){for(var p=-1,m=a.length,E={};++p<m;){var C=a[p],A=bs(i,C);l(A,C)&&hc(E,Ki(C,i),A)}return E}function EF(i){return function(a){return bs(a,i)}}function rm(i,a,l,p){var m=p?HN:ga,E=-1,C=a.length,A=i;for(i===a&&(a=Gn(a)),l&&(A=de(i,ir(l)));++E<C;)for(var $=0,q=a[E],V=l?l(q):q;($=m(A,V,$,p))>-1;)A!==i&&bf.call(A,$,1),bf.call(i,$,1);return i}function O1(i,a){for(var l=i?a.length:0,p=l-1;l--;){var m=a[l];if(l==p||m!==E){var E=m;si(m)?bf.call(i,m,1):am(i,m)}}return i}function om(i,a){return i+Ef(a1()*(a-i+1))}function xF(i,a,l,p){for(var m=-1,E=ze(wf((a-i)/(l||1)),0),C=F(E);E--;)C[p?E:++m]=i,i+=l;return C}function im(i,a){var l="";if(!i||a<1||a>at)return l;do a%2&&(l+=i),a=Ef(a/2),a&&(i+=i);while(a);return l}function kt(i,a){return wm(rw(i,a,Xn),i+"")}function CF(i){return l1(Oa(i))}function TF(i,a){var l=Oa(i);return Df(l,_s(a,0,l.length))}function hc(i,a,l,p){if(!me(i))return i;a=Ki(a,i);for(var m=-1,E=a.length,C=E-1,A=i;A!=null&&++m<E;){var $=Oo(a[m]),q=l;if($==="__proto__"||$==="constructor"||$==="prototype")return i;if(m!=C){var V=A[$];q=p?p(V,$,A):n,q===n&&(q=me(V)?V:si(a[m+1])?[]:{})}cc(A,$,q),A=A[$]}return i}var A1=xf?function(i,a){return xf.set(i,a),i}:Xn,OF=Sf?function(i,a){return Sf(i,"toString",{configurable:!0,enumerable:!1,value:$m(a),writable:!0})}:Xn;function AF(i){return Df(Oa(i))}function Nr(i,a,l){var p=-1,m=i.length;a<0&&(a=-a>m?0:m+a),l=l>m?m:l,l<0&&(l+=m),m=a>l?0:l-a>>>0,a>>>=0;for(var E=F(m);++p<m;)E[p]=i[p+a];return E}function kF(i,a){var l;return zi(i,function(p,m,E){return l=a(p,m,E),!l}),!!l}function Rf(i,a,l){var p=0,m=i==null?p:i.length;if(typeof a=="number"&&a===a&&m<=Qu){for(;p<m;){var E=p+m>>>1,C=i[E];C!==null&&!ar(C)&&(l?C<=a:C<a)?p=E+1:m=E}return m}return sm(i,a,Xn,l)}function sm(i,a,l,p){var m=0,E=i==null?0:i.length;if(E===0)return 0;a=l(a);for(var C=a!==a,A=a===null,$=ar(a),q=a===n;m<E;){var V=Ef((m+E)/2),Y=l(i[V]),Z=Y!==n,it=Y===null,ft=Y===Y,Tt=ar(Y);if(C)var dt=p||ft;else q?dt=ft&&(p||Z):A?dt=ft&&Z&&(p||!it):$?dt=ft&&Z&&!it&&(p||!Tt):it||Tt?dt=!1:dt=p?Y<=a:Y<a;dt?m=V+1:E=V}return Sn(E,$i)}function k1(i,a){for(var l=-1,p=i.length,m=0,E=[];++l<p;){var C=i[l],A=a?a(C):C;if(!l||!oo(A,$)){var $=A;E[m++]=C===0?0:C}}return E}function I1(i){return typeof i=="number"?i:ar(i)?rn:+i}function sr(i){if(typeof i=="string")return i;if(bt(i))return de(i,sr)+"";if(ar(i))return u1?u1.call(i):"";var a=i+"";return a=="0"&&1/i==-1/0?"-0":a}function Wi(i,a,l){var p=-1,m=lf,E=i.length,C=!0,A=[],$=A;if(l)C=!1,m=Ng;else if(E>=o){var q=a?null:DF(i);if(q)return df(q);C=!1,m=rc,$=new vs}else $=a?[]:A;t:for(;++p<E;){var V=i[p],Y=a?a(V):V;if(V=l||V!==0?V:0,C&&Y===Y){for(var Z=$.length;Z--;)if($[Z]===Y)continue t;a&&$.push(Y),A.push(V)}else m($,Y,l)||($!==A&&$.push(Y),A.push(V))}return A}function am(i,a){return a=Ki(a,i),i=ow(i,a),i==null||delete i[Oo(Lr(a))]}function R1(i,a,l,p){return hc(i,a,l(bs(i,a)),p)}function $f(i,a,l,p){for(var m=i.length,E=p?m:-1;(p?E--:++E<m)&&a(i[E],E,i););return l?Nr(i,p?0:E,p?E+1:m):Nr(i,p?E+1:0,p?m:E)}function $1(i,a){var l=i;return l instanceof Mt&&(l=l.value()),Lg(a,function(p,m){return m.func.apply(m.thisArg,ji([p],m.args))},l)}function um(i,a,l){var p=i.length;if(p<2)return p?Wi(i[0]):[];for(var m=-1,E=F(p);++m<p;)for(var C=i[m],A=-1;++A<p;)A!=m&&(E[m]=lc(E[m]||C,i[A],a,l));return Wi(an(E,1),a,l)}function P1(i,a,l){for(var p=-1,m=i.length,E=a.length,C={};++p<m;){var A=p<E?a[p]:n;l(C,i[p],A)}return C}function cm(i){return Te(i)?i:[]}function lm(i){return typeof i=="function"?i:Xn}function Ki(i,a){return bt(i)?i:_m(i,a)?[i]:uw(Vt(i))}var IF=kt;function qi(i,a,l){var p=i.length;return l=l===n?p:l,!a&&l>=p?i:Nr(i,a,l)}var M1=yL||function(i){return sn.clearTimeout(i)};function N1(i,a){if(a)return i.slice();var l=i.length,p=n1?n1(l):new i.constructor(l);return i.copy(p),p}function fm(i){var a=new i.constructor(i.byteLength);return new vf(a).set(new vf(i)),a}function RF(i,a){var l=a?fm(i.buffer):i.buffer;return new i.constructor(l,i.byteOffset,i.byteLength)}function $F(i){var a=new i.constructor(i.source,vS.exec(i));return a.lastIndex=i.lastIndex,a}function PF(i){return uc?Qt(uc.call(i)):{}}function L1(i,a){var l=a?fm(i.buffer):i.buffer;return new i.constructor(l,i.byteOffset,i.length)}function F1(i,a){if(i!==a){var l=i!==n,p=i===null,m=i===i,E=ar(i),C=a!==n,A=a===null,$=a===a,q=ar(a);if(!A&&!q&&!E&&i>a||E&&C&&$&&!A&&!q||p&&C&&$||!l&&$||!m)return 1;if(!p&&!E&&!q&&i<a||q&&l&&m&&!p&&!E||A&&l&&m||!C&&m||!$)return-1}return 0}function MF(i,a,l){for(var p=-1,m=i.criteria,E=a.criteria,C=m.length,A=l.length;++p<C;){var $=F1(m[p],E[p]);if($){if(p>=A)return $;var q=l[p];return $*(q=="desc"?-1:1)}}return i.index-a.index}function B1(i,a,l,p){for(var m=-1,E=i.length,C=l.length,A=-1,$=a.length,q=ze(E-C,0),V=F($+q),Y=!p;++A<$;)V[A]=a[A];for(;++m<C;)(Y||m<E)&&(V[l[m]]=i[m]);for(;q--;)V[A++]=i[m++];return V}function j1(i,a,l,p){for(var m=-1,E=i.length,C=-1,A=l.length,$=-1,q=a.length,V=ze(E-A,0),Y=F(V+q),Z=!p;++m<V;)Y[m]=i[m];for(var it=m;++$<q;)Y[it+$]=a[$];for(;++C<A;)(Z||m<E)&&(Y[it+l[C]]=i[m++]);return Y}function Gn(i,a){var l=-1,p=i.length;for(a||(a=F(p));++l<p;)a[l]=i[l];return a}function To(i,a,l,p){var m=!l;l||(l={});for(var E=-1,C=a.length;++E<C;){var A=a[E],$=p?p(l[A],i[A],A,l,i):n;$===n&&($=i[A]),m?ri(l,A,$):cc(l,A,$)}return l}function NF(i,a){return To(i,vm(i),a)}function LF(i,a){return To(i,Q1(i),a)}function Pf(i,a){return function(l,p){var m=bt(l)?UN:oF,E=a?a():{};return m(l,i,lt(p,2),E)}}function Ea(i){return kt(function(a,l){var p=-1,m=l.length,E=m>1?l[m-1]:n,C=m>2?l[2]:n;for(E=i.length>3&&typeof E=="function"?(m--,E):n,C&&Bn(l[0],l[1],C)&&(E=m<3?n:E,m=1),a=Qt(a);++p<m;){var A=l[p];A&&i(a,A,p,E)}return a})}function D1(i,a){return function(l,p){if(l==null)return l;if(!Jn(l))return i(l,p);for(var m=l.length,E=a?m:-1,C=Qt(l);(a?E--:++E<m)&&p(C[E],E,C)!==!1;);return l}}function U1(i){return function(a,l,p){for(var m=-1,E=Qt(a),C=p(a),A=C.length;A--;){var $=C[i?A:++m];if(l(E[$],$,E)===!1)break}return a}}function FF(i,a,l){var p=a&T,m=pc(i);function E(){var C=this&&this!==sn&&this instanceof E?m:i;return C.apply(p?l:this,arguments)}return E}function z1(i){return function(a){a=Vt(a);var l=ma(a)?no(a):n,p=l?l[0]:a.charAt(0),m=l?qi(l,1).join(""):a.slice(1);return p[i]()+m}}function xa(i){return function(a){return Lg(Dw(jw(a).replace(ON,"")),i,"")}}function pc(i){return function(){var a=arguments;switch(a.length){case 0:return new i;case 1:return new i(a[0]);case 2:return new i(a[0],a[1]);case 3:return new i(a[0],a[1],a[2]);case 4:return new i(a[0],a[1],a[2],a[3]);case 5:return new i(a[0],a[1],a[2],a[3],a[4]);case 6:return new i(a[0],a[1],a[2],a[3],a[4],a[5]);case 7:return new i(a[0],a[1],a[2],a[3],a[4],a[5],a[6])}var l=wa(i.prototype),p=i.apply(l,a);return me(p)?p:l}}function BF(i,a,l){var p=pc(i);function m(){for(var E=arguments.length,C=F(E),A=E,$=Ca(m);A--;)C[A]=arguments[A];var q=E<3&&C[0]!==$&&C[E-1]!==$?[]:Di(C,$);if(E-=q.length,E<l)return H1(i,a,Mf,m.placeholder,n,C,q,n,n,l-E);var V=this&&this!==sn&&this instanceof m?p:i;return or(V,this,C)}return m}function W1(i){return function(a,l,p){var m=Qt(a);if(!Jn(a)){var E=lt(l,3);a=Je(a),l=function(A){return E(m[A],A,m)}}var C=i(a,l,p);return C>-1?m[E?a[C]:C]:n}}function K1(i){return ii(function(a){var l=a.length,p=l,m=Pr.prototype.thru;for(i&&a.reverse();p--;){var E=a[p];if(typeof E!="function")throw new $r(u);if(m&&!C&&Bf(E)=="wrapper")var C=new Pr([],!0)}for(p=C?p:l;++p<l;){E=a[p];var A=Bf(E),$=A=="wrapper"?mm(E):n;$&&bm($[0])&&$[1]==(k|P|j|U)&&!$[4].length&&$[9]==1?C=C[Bf($[0])].apply(C,$[3]):C=E.length==1&&bm(E)?C[A]():C.thru(E)}return function(){var q=arguments,V=q[0];if(C&&q.length==1&&bt(V))return C.plant(V).value();for(var Y=0,Z=l?a[Y].apply(this,q):V;++Y<l;)Z=a[Y].call(this,Z);return Z}})}function Mf(i,a,l,p,m,E,C,A,$,q){var V=a&k,Y=a&T,Z=a&O,it=a&(P|R),ft=a&K,Tt=Z?n:pc(i);function dt(){for(var $t=arguments.length,Lt=F($t),ur=$t;ur--;)Lt[ur]=arguments[ur];if(it)var jn=Ca(dt),cr=YN(Lt,jn);if(p&&(Lt=B1(Lt,p,m,it)),E&&(Lt=j1(Lt,E,C,it)),$t-=cr,it&&$t<q){var Oe=Di(Lt,jn);return H1(i,a,Mf,dt.placeholder,l,Lt,Oe,A,$,q-$t)}var io=Y?l:this,ci=Z?io[i]:i;return $t=Lt.length,A?Lt=o2(Lt,A):ft&&$t>1&&Lt.reverse(),V&&$<$t&&(Lt.length=$),this&&this!==sn&&this instanceof dt&&(ci=Tt||pc(ci)),ci.apply(io,Lt)}return dt}function q1(i,a){return function(l,p){return dF(l,i,a(p),{})}}function Nf(i,a){return function(l,p){var m;if(l===n&&p===n)return a;if(l!==n&&(m=l),p!==n){if(m===n)return p;typeof l=="string"||typeof p=="string"?(l=sr(l),p=sr(p)):(l=I1(l),p=I1(p)),m=i(l,p)}return m}}function dm(i){return ii(function(a){return a=de(a,ir(lt())),kt(function(l){var p=this;return i(a,function(m){return or(m,p,l)})})})}function Lf(i,a){a=a===n?" ":sr(a);var l=a.length;if(l<2)return l?im(a,i):a;var p=im(a,wf(i/ya(a)));return ma(a)?qi(no(p),0,i).join(""):p.slice(0,i)}function jF(i,a,l,p){var m=a&T,E=pc(i);function C(){for(var A=-1,$=arguments.length,q=-1,V=p.length,Y=F(V+$),Z=this&&this!==sn&&this instanceof C?E:i;++q<V;)Y[q]=p[q];for(;$--;)Y[q++]=arguments[++A];return or(Z,m?l:this,Y)}return C}function V1(i){return function(a,l,p){return p&&typeof p!="number"&&Bn(a,l,p)&&(l=p=n),a=ui(a),l===n?(l=a,a=0):l=ui(l),p=p===n?a<l?1:-1:ui(p),xF(a,l,p,i)}}function Ff(i){return function(a,l){return typeof a=="string"&&typeof l=="string"||(a=Fr(a),l=Fr(l)),i(a,l)}}function H1(i,a,l,p,m,E,C,A,$,q){var V=a&P,Y=V?C:n,Z=V?n:C,it=V?E:n,ft=V?n:E;a|=V?j:B,a&=~(V?B:j),a&N||(a&=-4);var Tt=[i,a,m,it,Y,ft,Z,A,$,q],dt=l.apply(n,Tt);return bm(i)&&iw(dt,Tt),dt.placeholder=p,sw(dt,i,a)}function hm(i){var a=Ue[i];return function(l,p){if(l=Fr(l),p=p==null?0:Sn(xt(p),292),p&&s1(l)){var m=(Vt(l)+"e").split("e"),E=a(m[0]+"e"+(+m[1]+p));return m=(Vt(E)+"e").split("e"),+(m[0]+"e"+(+m[1]-p))}return a(l)}}var DF=ba&&1/df(new ba([,-0]))[1]==ot?function(i){return new ba(i)}:Nm;function G1(i){return function(a){var l=wn(a);return l==on?Wg(a):l==Ln?rL(a):JN(a,i(a))}}function oi(i,a,l,p,m,E,C,A){var $=a&O;if(!$&&typeof i!="function")throw new $r(u);var q=p?p.length:0;if(q||(a&=-97,p=m=n),C=C===n?C:ze(xt(C),0),A=A===n?A:xt(A),q-=m?m.length:0,a&B){var V=p,Y=m;p=m=n}var Z=$?n:mm(i),it=[i,a,l,p,m,V,Y,E,C,A];if(Z&&e2(it,Z),i=it[0],a=it[1],l=it[2],p=it[3],m=it[4],A=it[9]=it[9]===n?$?0:i.length:ze(it[9]-q,0),!A&&a&(P|R)&&(a&=-25),!a||a==T)var ft=FF(i,a,l);else a==P||a==R?ft=BF(i,a,A):(a==j||a==(T|j))&&!m.length?ft=jF(i,a,l,p):ft=Mf.apply(n,it);var Tt=Z?A1:iw;return sw(Tt(ft,it),i,a)}function J1(i,a,l,p){return i===n||oo(i,_a[l])&&!Gt.call(p,l)?a:i}function Y1(i,a,l,p,m,E){return me(i)&&me(a)&&(E.set(a,i),If(i,a,n,Y1,E),E.delete(a)),i}function UF(i){return yc(i)?n:i}function X1(i,a,l,p,m,E){var C=l&S,A=i.length,$=a.length;if(A!=$&&!(C&&$>A))return!1;var q=E.get(i),V=E.get(a);if(q&&V)return q==a&&V==i;var Y=-1,Z=!0,it=l&x?new vs:n;for(E.set(i,a),E.set(a,i);++Y<A;){var ft=i[Y],Tt=a[Y];if(p)var dt=C?p(Tt,ft,Y,a,i,E):p(ft,Tt,Y,i,a,E);if(dt!==n){if(dt)continue;Z=!1;break}if(it){if(!Fg(a,function($t,Lt){if(!rc(it,Lt)&&(ft===$t||m(ft,$t,l,p,E)))return it.push(Lt)})){Z=!1;break}}else if(!(ft===Tt||m(ft,Tt,l,p,E))){Z=!1;break}}return E.delete(i),E.delete(a),Z}function zF(i,a,l,p,m,E,C){switch(l){case Fi:if(i.byteLength!=a.byteLength||i.byteOffset!=a.byteOffset)return!1;i=i.buffer,a=a.buffer;case eo:return!(i.byteLength!=a.byteLength||!E(new vf(i),new vf(a)));case Zo:case Hn:case ti:return oo(+i,+a);case Mi:return i.name==a.name&&i.message==a.message;case xo:case Q:return i==a+"";case on:var A=Wg;case Ln:var $=p&S;if(A||(A=df),i.size!=a.size&&!$)return!1;var q=C.get(i);if(q)return q==a;p|=x,C.set(i,a);var V=X1(A(i),A(a),p,m,E,C);return C.delete(i),V;case ht:if(uc)return uc.call(i)==uc.call(a)}return!1}function WF(i,a,l,p,m,E){var C=l&S,A=pm(i),$=A.length,q=pm(a),V=q.length;if($!=V&&!C)return!1;for(var Y=$;Y--;){var Z=A[Y];if(!(C?Z in a:Gt.call(a,Z)))return!1}var it=E.get(i),ft=E.get(a);if(it&&ft)return it==a&&ft==i;var Tt=!0;E.set(i,a),E.set(a,i);for(var dt=C;++Y<$;){Z=A[Y];var $t=i[Z],Lt=a[Z];if(p)var ur=C?p(Lt,$t,Z,a,i,E):p($t,Lt,Z,i,a,E);if(!(ur===n?$t===Lt||m($t,Lt,l,p,E):ur)){Tt=!1;break}dt||(dt=Z=="constructor")}if(Tt&&!dt){var jn=i.constructor,cr=a.constructor;jn!=cr&&"constructor"in i&&"constructor"in a&&!(typeof jn=="function"&&jn instanceof jn&&typeof cr=="function"&&cr instanceof cr)&&(Tt=!1)}return E.delete(i),E.delete(a),Tt}function ii(i){return wm(rw(i,n,dw),i+"")}function pm(i){return y1(i,Je,vm)}function gm(i){return y1(i,Yn,Q1)}var mm=xf?function(i){return xf.get(i)}:Nm;function Bf(i){for(var a=i.name+"",l=Sa[a],p=Gt.call(Sa,a)?l.length:0;p--;){var m=l[p],E=m.func;if(E==null||E==i)return m.name}return a}function Ca(i){var a=Gt.call(w,"placeholder")?w:i;return a.placeholder}function lt(){var i=w.iteratee||Pm;return i=i===Pm?b1:i,arguments.length?i(arguments[0],arguments[1]):i}function jf(i,a){var l=i.__data__;return XF(a)?l[typeof a=="string"?"string":"hash"]:l.map}function ym(i){for(var a=Je(i),l=a.length;l--;){var p=a[l],m=i[p];a[l]=[p,m,ew(m)]}return a}function Ss(i,a){var l=tL(i,a);return _1(l)?l:n}function KF(i){var a=Gt.call(i,ms),l=i[ms];try{i[ms]=n;var p=!0}catch{}var m=mf.call(i);return p&&(a?i[ms]=l:delete i[ms]),m}var vm=qg?function(i){return i==null?[]:(i=Qt(i),Bi(qg(i),function(a){return o1.call(i,a)}))}:Lm,Q1=qg?function(i){for(var a=[];i;)ji(a,vm(i)),i=_f(i);return a}:Lm,wn=Fn;(Vg&&wn(new Vg(new ArrayBuffer(1)))!=Fi||ic&&wn(new ic)!=on||Hg&&wn(Hg.resolve())!=Eo||ba&&wn(new ba)!=Ln||sc&&wn(new sc)!=bn)&&(wn=function(i){var a=Fn(i),l=a==vn?i.constructor:n,p=l?ws(l):"";if(p)switch(p){case TL:return Fi;case OL:return on;case AL:return Eo;case kL:return Ln;case IL:return bn}return a});function qF(i,a,l){for(var p=-1,m=l.length;++p<m;){var E=l[p],C=E.size;switch(E.type){case"drop":i+=C;break;case"dropRight":a-=C;break;case"take":a=Sn(a,i+C);break;case"takeRight":i=ze(i,a-C);break}}return{start:i,end:a}}function VF(i){var a=i.match(QM);return a?a[1].split(ZM):[]}function Z1(i,a,l){a=Ki(a,i);for(var p=-1,m=a.length,E=!1;++p<m;){var C=Oo(a[p]);if(!(E=i!=null&&l(i,C)))break;i=i[C]}return E||++p!=m?E:(m=i==null?0:i.length,!!m&&Vf(m)&&si(C,m)&&(bt(i)||Es(i)))}function HF(i){var a=i.length,l=new i.constructor(a);return a&&typeof i[0]=="string"&&Gt.call(i,"index")&&(l.index=i.index,l.input=i.input),l}function tw(i){return typeof i.constructor=="function"&&!gc(i)?wa(_f(i)):{}}function GF(i,a,l){var p=i.constructor;switch(a){case eo:return fm(i);case Zo:case Hn:return new p(+i);case Fi:return RF(i,l);case yg:case vg:case _g:case bg:case Sg:case wg:case Eg:case xg:case Cg:return L1(i,l);case on:return new p;case ti:case Q:return new p(i);case xo:return $F(i);case Ln:return new p;case ht:return PF(i)}}function JF(i,a){var l=a.length;if(!l)return i;var p=l-1;return a[p]=(l>1?"& ":"")+a[p],a=a.join(l>2?", ":" "),i.replace(XM,`{
/* [wrapped with `+a+`] */
`)}function YF(i){return bt(i)||Es(i)||!!(i1&&i&&i[i1])}function si(i,a){var l=typeof i;return a=a??at,!!a&&(l=="number"||l!="symbol"&&uN.test(i))&&i>-1&&i%1==0&&i<a}function Bn(i,a,l){if(!me(l))return!1;var p=typeof a;return(p=="number"?Jn(l)&&si(a,l.length):p=="string"&&a in l)?oo(l[a],i):!1}function _m(i,a){if(bt(i))return!1;var l=typeof i;return l=="number"||l=="symbol"||l=="boolean"||i==null||ar(i)?!0:HM.test(i)||!VM.test(i)||a!=null&&i in Qt(a)}function XF(i){var a=typeof i;return a=="string"||a=="number"||a=="symbol"||a=="boolean"?i!=="__proto__":i===null}function bm(i){var a=Bf(i),l=w[a];if(typeof l!="function"||!(a in Mt.prototype))return!1;if(i===l)return!0;var p=mm(l);return!!p&&i===p[0]}function QF(i){return!!e1&&e1 in i}var ZF=pf?ai:Fm;function gc(i){var a=i&&i.constructor,l=typeof a=="function"&&a.prototype||_a;return i===l}function ew(i){return i===i&&!me(i)}function nw(i,a){return function(l){return l==null?!1:l[i]===a&&(a!==n||i in Qt(l))}}function t2(i){var a=Kf(i,function(p){return l.size===d&&l.clear(),p}),l=a.cache;return a}function e2(i,a){var l=i[1],p=a[1],m=l|p,E=m<(T|O|k),C=p==k&&l==P||p==k&&l==U&&i[7].length<=a[8]||p==(k|U)&&a[7].length<=a[8]&&l==P;if(!(E||C))return i;p&T&&(i[2]=a[2],m|=l&T?0:N);var A=a[3];if(A){var $=i[3];i[3]=$?B1($,A,a[4]):A,i[4]=$?Di(i[3],h):a[4]}return A=a[5],A&&($=i[5],i[5]=$?j1($,A,a[6]):A,i[6]=$?Di(i[5],h):a[6]),A=a[7],A&&(i[7]=A),p&k&&(i[8]=i[8]==null?a[8]:Sn(i[8],a[8])),i[9]==null&&(i[9]=a[9]),i[0]=a[0],i[1]=m,i}function n2(i){var a=[];if(i!=null)for(var l in Qt(i))a.push(l);return a}function r2(i){return mf.call(i)}function rw(i,a,l){return a=ze(a===n?i.length-1:a,0),function(){for(var p=arguments,m=-1,E=ze(p.length-a,0),C=F(E);++m<E;)C[m]=p[a+m];m=-1;for(var A=F(a+1);++m<a;)A[m]=p[m];return A[a]=l(C),or(i,this,A)}}function ow(i,a){return a.length<2?i:bs(i,Nr(a,0,-1))}function o2(i,a){for(var l=i.length,p=Sn(a.length,l),m=Gn(i);p--;){var E=a[p];i[p]=si(E,l)?m[E]:n}return i}function Sm(i,a){if(!(a==="constructor"&&typeof i[a]=="function")&&a!="__proto__")return i[a]}var iw=aw(A1),mc=_L||function(i,a){return sn.setTimeout(i,a)},wm=aw(OF);function sw(i,a,l){var p=a+"";return wm(i,JF(p,i2(VF(p),l)))}function aw(i){var a=0,l=0;return function(){var p=EL(),m=X-(p-l);if(l=p,m>0){if(++a>=D)return arguments[0]}else a=0;return i.apply(n,arguments)}}function Df(i,a){var l=-1,p=i.length,m=p-1;for(a=a===n?p:a;++l<a;){var E=om(l,m),C=i[E];i[E]=i[l],i[l]=C}return i.length=a,i}var uw=t2(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(GM,function(l,p,m,E){a.push(m?E.replace(nN,"$1"):p||l)}),a});function Oo(i){if(typeof i=="string"||ar(i))return i;var a=i+"";return a=="0"&&1/i==-1/0?"-0":a}function ws(i){if(i!=null){try{return gf.call(i)}catch{}try{return i+""}catch{}}return""}function i2(i,a){return Rr(Zu,function(l){var p="_."+l[0];a&l[1]&&!lf(i,p)&&i.push(p)}),i.sort()}function cw(i){if(i instanceof Mt)return i.clone();var a=new Pr(i.__wrapped__,i.__chain__);return a.__actions__=Gn(i.__actions__),a.__index__=i.__index__,a.__values__=i.__values__,a}function s2(i,a,l){(l?Bn(i,a,l):a===n)?a=1:a=ze(xt(a),0);var p=i==null?0:i.length;if(!p||a<1)return[];for(var m=0,E=0,C=F(wf(p/a));m<p;)C[E++]=Nr(i,m,m+=a);return C}function a2(i){for(var a=-1,l=i==null?0:i.length,p=0,m=[];++a<l;){var E=i[a];E&&(m[p++]=E)}return m}function u2(){var i=arguments.length;if(!i)return[];for(var a=F(i-1),l=arguments[0],p=i;p--;)a[p-1]=arguments[p];return ji(bt(l)?Gn(l):[l],an(a,1))}var c2=kt(function(i,a){return Te(i)?lc(i,an(a,1,Te,!0)):[]}),l2=kt(function(i,a){var l=Lr(a);return Te(l)&&(l=n),Te(i)?lc(i,an(a,1,Te,!0),lt(l,2)):[]}),f2=kt(function(i,a){var l=Lr(a);return Te(l)&&(l=n),Te(i)?lc(i,an(a,1,Te,!0),n,l):[]});function d2(i,a,l){var p=i==null?0:i.length;return p?(a=l||a===n?1:xt(a),Nr(i,a<0?0:a,p)):[]}function h2(i,a,l){var p=i==null?0:i.length;return p?(a=l||a===n?1:xt(a),a=p-a,Nr(i,0,a<0?0:a)):[]}function p2(i,a){return i&&i.length?$f(i,lt(a,3),!0,!0):[]}function g2(i,a){return i&&i.length?$f(i,lt(a,3),!0):[]}function m2(i,a,l,p){var m=i==null?0:i.length;return m?(l&&typeof l!="number"&&Bn(i,a,l)&&(l=0,p=m),uF(i,a,l,p)):[]}function lw(i,a,l){var p=i==null?0:i.length;if(!p)return-1;var m=l==null?0:xt(l);return m<0&&(m=ze(p+m,0)),ff(i,lt(a,3),m)}function fw(i,a,l){var p=i==null?0:i.length;if(!p)return-1;var m=p-1;return l!==n&&(m=xt(l),m=l<0?ze(p+m,0):Sn(m,p-1)),ff(i,lt(a,3),m,!0)}function dw(i){var a=i==null?0:i.length;return a?an(i,1):[]}function y2(i){var a=i==null?0:i.length;return a?an(i,ot):[]}function v2(i,a){var l=i==null?0:i.length;return l?(a=a===n?1:xt(a),an(i,a)):[]}function _2(i){for(var a=-1,l=i==null?0:i.length,p={};++a<l;){var m=i[a];p[m[0]]=m[1]}return p}function hw(i){return i&&i.length?i[0]:n}function b2(i,a,l){var p=i==null?0:i.length;if(!p)return-1;var m=l==null?0:xt(l);return m<0&&(m=ze(p+m,0)),ga(i,a,m)}function S2(i){var a=i==null?0:i.length;return a?Nr(i,0,-1):[]}var w2=kt(function(i){var a=de(i,cm);return a.length&&a[0]===i[0]?Zg(a):[]}),E2=kt(function(i){var a=Lr(i),l=de(i,cm);return a===Lr(l)?a=n:l.pop(),l.length&&l[0]===i[0]?Zg(l,lt(a,2)):[]}),x2=kt(function(i){var a=Lr(i),l=de(i,cm);return a=typeof a=="function"?a:n,a&&l.pop(),l.length&&l[0]===i[0]?Zg(l,n,a):[]});function C2(i,a){return i==null?"":SL.call(i,a)}function Lr(i){var a=i==null?0:i.length;return a?i[a-1]:n}function T2(i,a,l){var p=i==null?0:i.length;if(!p)return-1;var m=p;return l!==n&&(m=xt(l),m=m<0?ze(p+m,0):Sn(m,p-1)),a===a?iL(i,a,m):ff(i,HS,m,!0)}function O2(i,a){return i&&i.length?x1(i,xt(a)):n}var A2=kt(pw);function pw(i,a){return i&&i.length&&a&&a.length?rm(i,a):i}function k2(i,a,l){return i&&i.length&&a&&a.length?rm(i,a,lt(l,2)):i}function I2(i,a,l){return i&&i.length&&a&&a.length?rm(i,a,n,l):i}var R2=ii(function(i,a){var l=i==null?0:i.length,p=Jg(i,a);return O1(i,de(a,function(m){return si(m,l)?+m:m}).sort(F1)),p});function $2(i,a){var l=[];if(!(i&&i.length))return l;var p=-1,m=[],E=i.length;for(a=lt(a,3);++p<E;){var C=i[p];a(C,p,i)&&(l.push(C),m.push(p))}return O1(i,m),l}function Em(i){return i==null?i:CL.call(i)}function P2(i,a,l){var p=i==null?0:i.length;return p?(l&&typeof l!="number"&&Bn(i,a,l)?(a=0,l=p):(a=a==null?0:xt(a),l=l===n?p:xt(l)),Nr(i,a,l)):[]}function M2(i,a){return Rf(i,a)}function N2(i,a,l){return sm(i,a,lt(l,2))}function L2(i,a){var l=i==null?0:i.length;if(l){var p=Rf(i,a);if(p<l&&oo(i[p],a))return p}return-1}function F2(i,a){return Rf(i,a,!0)}function B2(i,a,l){return sm(i,a,lt(l,2),!0)}function j2(i,a){var l=i==null?0:i.length;if(l){var p=Rf(i,a,!0)-1;if(oo(i[p],a))return p}return-1}function D2(i){return i&&i.length?k1(i):[]}function U2(i,a){return i&&i.length?k1(i,lt(a,2)):[]}function z2(i){var a=i==null?0:i.length;return a?Nr(i,1,a):[]}function W2(i,a,l){return i&&i.length?(a=l||a===n?1:xt(a),Nr(i,0,a<0?0:a)):[]}function K2(i,a,l){var p=i==null?0:i.length;return p?(a=l||a===n?1:xt(a),a=p-a,Nr(i,a<0?0:a,p)):[]}function q2(i,a){return i&&i.length?$f(i,lt(a,3),!1,!0):[]}function V2(i,a){return i&&i.length?$f(i,lt(a,3)):[]}var H2=kt(function(i){return Wi(an(i,1,Te,!0))}),G2=kt(function(i){var a=Lr(i);return Te(a)&&(a=n),Wi(an(i,1,Te,!0),lt(a,2))}),J2=kt(function(i){var a=Lr(i);return a=typeof a=="function"?a:n,Wi(an(i,1,Te,!0),n,a)});function Y2(i){return i&&i.length?Wi(i):[]}function X2(i,a){return i&&i.length?Wi(i,lt(a,2)):[]}function Q2(i,a){return a=typeof a=="function"?a:n,i&&i.length?Wi(i,n,a):[]}function xm(i){if(!(i&&i.length))return[];var a=0;return i=Bi(i,function(l){if(Te(l))return a=ze(l.length,a),!0}),Ug(a,function(l){return de(i,Bg(l))})}function gw(i,a){if(!(i&&i.length))return[];var l=xm(i);return a==null?l:de(l,function(p){return or(a,n,p)})}var Z2=kt(function(i,a){return Te(i)?lc(i,a):[]}),t5=kt(function(i){return um(Bi(i,Te))}),e5=kt(function(i){var a=Lr(i);return Te(a)&&(a=n),um(Bi(i,Te),lt(a,2))}),n5=kt(function(i){var a=Lr(i);return a=typeof a=="function"?a:n,um(Bi(i,Te),n,a)}),r5=kt(xm);function o5(i,a){return P1(i||[],a||[],cc)}function i5(i,a){return P1(i||[],a||[],hc)}var s5=kt(function(i){var a=i.length,l=a>1?i[a-1]:n;return l=typeof l=="function"?(i.pop(),l):n,gw(i,l)});function mw(i){var a=w(i);return a.__chain__=!0,a}function a5(i,a){return a(i),i}function Uf(i,a){return a(i)}var u5=ii(function(i){var a=i.length,l=a?i[0]:0,p=this.__wrapped__,m=function(E){return Jg(E,i)};return a>1||this.__actions__.length||!(p instanceof Mt)||!si(l)?this.thru(m):(p=p.slice(l,+l+(a?1:0)),p.__actions__.push({func:Uf,args:[m],thisArg:n}),new Pr(p,this.__chain__).thru(function(E){return a&&!E.length&&E.push(n),E}))});function c5(){return mw(this)}function l5(){return new Pr(this.value(),this.__chain__)}function f5(){this.__values__===n&&(this.__values__=Iw(this.value()));var i=this.__index__>=this.__values__.length,a=i?n:this.__values__[this.__index__++];return{done:i,value:a}}function d5(){return this}function h5(i){for(var a,l=this;l instanceof Tf;){var p=cw(l);p.__index__=0,p.__values__=n,a?m.__wrapped__=p:a=p;var m=p;l=l.__wrapped__}return m.__wrapped__=i,a}function p5(){var i=this.__wrapped__;if(i instanceof Mt){var a=i;return this.__actions__.length&&(a=new Mt(this)),a=a.reverse(),a.__actions__.push({func:Uf,args:[Em],thisArg:n}),new Pr(a,this.__chain__)}return this.thru(Em)}function g5(){return $1(this.__wrapped__,this.__actions__)}var m5=Pf(function(i,a,l){Gt.call(i,l)?++i[l]:ri(i,l,1)});function y5(i,a,l){var p=bt(i)?qS:aF;return l&&Bn(i,a,l)&&(a=n),p(i,lt(a,3))}function v5(i,a){var l=bt(i)?Bi:g1;return l(i,lt(a,3))}var _5=W1(lw),b5=W1(fw);function S5(i,a){return an(zf(i,a),1)}function w5(i,a){return an(zf(i,a),ot)}function E5(i,a,l){return l=l===n?1:xt(l),an(zf(i,a),l)}function yw(i,a){var l=bt(i)?Rr:zi;return l(i,lt(a,3))}function vw(i,a){var l=bt(i)?zN:p1;return l(i,lt(a,3))}var x5=Pf(function(i,a,l){Gt.call(i,l)?i[l].push(a):ri(i,l,[a])});function C5(i,a,l,p){i=Jn(i)?i:Oa(i),l=l&&!p?xt(l):0;var m=i.length;return l<0&&(l=ze(m+l,0)),Hf(i)?l<=m&&i.indexOf(a,l)>-1:!!m&&ga(i,a,l)>-1}var T5=kt(function(i,a,l){var p=-1,m=typeof a=="function",E=Jn(i)?F(i.length):[];return zi(i,function(C){E[++p]=m?or(a,C,l):fc(C,a,l)}),E}),O5=Pf(function(i,a,l){ri(i,l,a)});function zf(i,a){var l=bt(i)?de:S1;return l(i,lt(a,3))}function A5(i,a,l,p){return i==null?[]:(bt(a)||(a=a==null?[]:[a]),l=p?n:l,bt(l)||(l=l==null?[]:[l]),C1(i,a,l))}var k5=Pf(function(i,a,l){i[l?0:1].push(a)},function(){return[[],[]]});function I5(i,a,l){var p=bt(i)?Lg:JS,m=arguments.length<3;return p(i,lt(a,4),l,m,zi)}function R5(i,a,l){var p=bt(i)?WN:JS,m=arguments.length<3;return p(i,lt(a,4),l,m,p1)}function $5(i,a){var l=bt(i)?Bi:g1;return l(i,qf(lt(a,3)))}function P5(i){var a=bt(i)?l1:CF;return a(i)}function M5(i,a,l){(l?Bn(i,a,l):a===n)?a=1:a=xt(a);var p=bt(i)?nF:TF;return p(i,a)}function N5(i){var a=bt(i)?rF:AF;return a(i)}function L5(i){if(i==null)return 0;if(Jn(i))return Hf(i)?ya(i):i.length;var a=wn(i);return a==on||a==Ln?i.size:em(i).length}function F5(i,a,l){var p=bt(i)?Fg:kF;return l&&Bn(i,a,l)&&(a=n),p(i,lt(a,3))}var B5=kt(function(i,a){if(i==null)return[];var l=a.length;return l>1&&Bn(i,a[0],a[1])?a=[]:l>2&&Bn(a[0],a[1],a[2])&&(a=[a[0]]),C1(i,an(a,1),[])}),Wf=vL||function(){return sn.Date.now()};function j5(i,a){if(typeof a!="function")throw new $r(u);return i=xt(i),function(){if(--i<1)return a.apply(this,arguments)}}function _w(i,a,l){return a=l?n:a,a=i&&a==null?i.length:a,oi(i,k,n,n,n,n,a)}function bw(i,a){var l;if(typeof a!="function")throw new $r(u);return i=xt(i),function(){return--i>0&&(l=a.apply(this,arguments)),i<=1&&(a=n),l}}var Cm=kt(function(i,a,l){var p=T;if(l.length){var m=Di(l,Ca(Cm));p|=j}return oi(i,p,a,l,m)}),Sw=kt(function(i,a,l){var p=T|O;if(l.length){var m=Di(l,Ca(Sw));p|=j}return oi(a,p,i,l,m)});function ww(i,a,l){a=l?n:a;var p=oi(i,P,n,n,n,n,n,a);return p.placeholder=ww.placeholder,p}function Ew(i,a,l){a=l?n:a;var p=oi(i,R,n,n,n,n,n,a);return p.placeholder=Ew.placeholder,p}function xw(i,a,l){var p,m,E,C,A,$,q=0,V=!1,Y=!1,Z=!0;if(typeof i!="function")throw new $r(u);a=Fr(a)||0,me(l)&&(V=!!l.leading,Y="maxWait"in l,E=Y?ze(Fr(l.maxWait)||0,a):E,Z="trailing"in l?!!l.trailing:Z);function it(Oe){var io=p,ci=m;return p=m=n,q=Oe,C=i.apply(ci,io),C}function ft(Oe){return q=Oe,A=mc($t,a),V?it(Oe):C}function Tt(Oe){var io=Oe-$,ci=Oe-q,Ww=a-io;return Y?Sn(Ww,E-ci):Ww}function dt(Oe){var io=Oe-$,ci=Oe-q;return $===n||io>=a||io<0||Y&&ci>=E}function $t(){var Oe=Wf();if(dt(Oe))return Lt(Oe);A=mc($t,Tt(Oe))}function Lt(Oe){return A=n,Z&&p?it(Oe):(p=m=n,C)}function ur(){A!==n&&M1(A),q=0,p=$=m=A=n}function jn(){return A===n?C:Lt(Wf())}function cr(){var Oe=Wf(),io=dt(Oe);if(p=arguments,m=this,$=Oe,io){if(A===n)return ft($);if(Y)return M1(A),A=mc($t,a),it($)}return A===n&&(A=mc($t,a)),C}return cr.cancel=ur,cr.flush=jn,cr}var D5=kt(function(i,a){return h1(i,1,a)}),U5=kt(function(i,a,l){return h1(i,Fr(a)||0,l)});function z5(i){return oi(i,K)}function Kf(i,a){if(typeof i!="function"||a!=null&&typeof a!="function")throw new $r(u);var l=function(){var p=arguments,m=a?a.apply(this,p):p[0],E=l.cache;if(E.has(m))return E.get(m);var C=i.apply(this,p);return l.cache=E.set(m,C)||E,C};return l.cache=new(Kf.Cache||ni),l}Kf.Cache=ni;function qf(i){if(typeof i!="function")throw new $r(u);return function(){var a=arguments;switch(a.length){case 0:return!i.call(this);case 1:return!i.call(this,a[0]);case 2:return!i.call(this,a[0],a[1]);case 3:return!i.call(this,a[0],a[1],a[2])}return!i.apply(this,a)}}function W5(i){return bw(2,i)}var K5=IF(function(i,a){a=a.length==1&&bt(a[0])?de(a[0],ir(lt())):de(an(a,1),ir(lt()));var l=a.length;return kt(function(p){for(var m=-1,E=Sn(p.length,l);++m<E;)p[m]=a[m].call(this,p[m]);return or(i,this,p)})}),Tm=kt(function(i,a){var l=Di(a,Ca(Tm));return oi(i,j,n,a,l)}),Cw=kt(function(i,a){var l=Di(a,Ca(Cw));return oi(i,B,n,a,l)}),q5=ii(function(i,a){return oi(i,U,n,n,n,a)});function V5(i,a){if(typeof i!="function")throw new $r(u);return a=a===n?a:xt(a),kt(i,a)}function H5(i,a){if(typeof i!="function")throw new $r(u);return a=a==null?0:ze(xt(a),0),kt(function(l){var p=l[a],m=qi(l,0,a);return p&&ji(m,p),or(i,this,m)})}function G5(i,a,l){var p=!0,m=!0;if(typeof i!="function")throw new $r(u);return me(l)&&(p="leading"in l?!!l.leading:p,m="trailing"in l?!!l.trailing:m),xw(i,a,{leading:p,maxWait:a,trailing:m})}function J5(i){return _w(i,1)}function Y5(i,a){return Tm(lm(a),i)}function X5(){if(!arguments.length)return[];var i=arguments[0];return bt(i)?i:[i]}function Q5(i){return Mr(i,v)}function Z5(i,a){return a=typeof a=="function"?a:n,Mr(i,v,a)}function tB(i){return Mr(i,g|v)}function eB(i,a){return a=typeof a=="function"?a:n,Mr(i,g|v,a)}function nB(i,a){return a==null||d1(i,a,Je(a))}function oo(i,a){return i===a||i!==i&&a!==a}var rB=Ff(Qg),oB=Ff(function(i,a){return i>=a}),Es=v1(function(){return arguments}())?v1:function(i){return be(i)&&Gt.call(i,"callee")&&!o1.call(i,"callee")},bt=F.isArray,iB=jS?ir(jS):hF;function Jn(i){return i!=null&&Vf(i.length)&&!ai(i)}function Te(i){return be(i)&&Jn(i)}function sB(i){return i===!0||i===!1||be(i)&&Fn(i)==Zo}var Vi=bL||Fm,aB=DS?ir(DS):pF;function uB(i){return be(i)&&i.nodeType===1&&!yc(i)}function cB(i){if(i==null)return!0;if(Jn(i)&&(bt(i)||typeof i=="string"||typeof i.splice=="function"||Vi(i)||Ta(i)||Es(i)))return!i.length;var a=wn(i);if(a==on||a==Ln)return!i.size;if(gc(i))return!em(i).length;for(var l in i)if(Gt.call(i,l))return!1;return!0}function lB(i,a){return dc(i,a)}function fB(i,a,l){l=typeof l=="function"?l:n;var p=l?l(i,a):n;return p===n?dc(i,a,n,l):!!p}function Om(i){if(!be(i))return!1;var a=Fn(i);return a==Mi||a==tc||typeof i.message=="string"&&typeof i.name=="string"&&!yc(i)}function dB(i){return typeof i=="number"&&s1(i)}function ai(i){if(!me(i))return!1;var a=Fn(i);return a==Ni||a==ha||a==ps||a==nc}function Tw(i){return typeof i=="number"&&i==xt(i)}function Vf(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=at}function me(i){var a=typeof i;return i!=null&&(a=="object"||a=="function")}function be(i){return i!=null&&typeof i=="object"}var Ow=US?ir(US):mF;function hB(i,a){return i===a||tm(i,a,ym(a))}function pB(i,a,l){return l=typeof l=="function"?l:n,tm(i,a,ym(a),l)}function gB(i){return Aw(i)&&i!=+i}function mB(i){if(ZF(i))throw new yt(s);return _1(i)}function yB(i){return i===null}function vB(i){return i==null}function Aw(i){return typeof i=="number"||be(i)&&Fn(i)==ti}function yc(i){if(!be(i)||Fn(i)!=vn)return!1;var a=_f(i);if(a===null)return!0;var l=Gt.call(a,"constructor")&&a.constructor;return typeof l=="function"&&l instanceof l&&gf.call(l)==pL}var Am=zS?ir(zS):yF;function _B(i){return Tw(i)&&i>=-9007199254740991&&i<=at}var kw=WS?ir(WS):vF;function Hf(i){return typeof i=="string"||!bt(i)&&be(i)&&Fn(i)==Q}function ar(i){return typeof i=="symbol"||be(i)&&Fn(i)==ht}var Ta=KS?ir(KS):_F;function bB(i){return i===n}function SB(i){return be(i)&&wn(i)==bn}function wB(i){return be(i)&&Fn(i)==Li}var EB=Ff(nm),xB=Ff(function(i,a){return i<=a});function Iw(i){if(!i)return[];if(Jn(i))return Hf(i)?no(i):Gn(i);if(oc&&i[oc])return nL(i[oc]());var a=wn(i),l=a==on?Wg:a==Ln?df:Oa;return l(i)}function ui(i){if(!i)return i===0?i:0;if(i=Fr(i),i===ot||i===-1/0){var a=i<0?-1:1;return a*Nt}return i===i?i:0}function xt(i){var a=ui(i),l=a%1;return a===a?l?a-l:a:0}function Rw(i){return i?_s(xt(i),0,se):0}function Fr(i){if(typeof i=="number")return i;if(ar(i))return rn;if(me(i)){var a=typeof i.valueOf=="function"?i.valueOf():i;i=me(a)?a+"":a}if(typeof i!="string")return i===0?i:+i;i=YS(i);var l=iN.test(i);return l||aN.test(i)?jN(i.slice(2),l?2:8):oN.test(i)?rn:+i}function $w(i){return To(i,Yn(i))}function CB(i){return i?_s(xt(i),-9007199254740991,at):i===0?i:0}function Vt(i){return i==null?"":sr(i)}var TB=Ea(function(i,a){if(gc(a)||Jn(a)){To(a,Je(a),i);return}for(var l in a)Gt.call(a,l)&&cc(i,l,a[l])}),Pw=Ea(function(i,a){To(a,Yn(a),i)}),Gf=Ea(function(i,a,l,p){To(a,Yn(a),i,p)}),OB=Ea(function(i,a,l,p){To(a,Je(a),i,p)}),AB=ii(Jg);function kB(i,a){var l=wa(i);return a==null?l:f1(l,a)}var IB=kt(function(i,a){i=Qt(i);var l=-1,p=a.length,m=p>2?a[2]:n;for(m&&Bn(a[0],a[1],m)&&(p=1);++l<p;)for(var E=a[l],C=Yn(E),A=-1,$=C.length;++A<$;){var q=C[A],V=i[q];(V===n||oo(V,_a[q])&&!Gt.call(i,q))&&(i[q]=E[q])}return i}),RB=kt(function(i){return i.push(n,Y1),or(Mw,n,i)});function $B(i,a){return VS(i,lt(a,3),Co)}function PB(i,a){return VS(i,lt(a,3),Xg)}function MB(i,a){return i==null?i:Yg(i,lt(a,3),Yn)}function NB(i,a){return i==null?i:m1(i,lt(a,3),Yn)}function LB(i,a){return i&&Co(i,lt(a,3))}function FB(i,a){return i&&Xg(i,lt(a,3))}function BB(i){return i==null?[]:kf(i,Je(i))}function jB(i){return i==null?[]:kf(i,Yn(i))}function km(i,a,l){var p=i==null?n:bs(i,a);return p===n?l:p}function DB(i,a){return i!=null&&Z1(i,a,cF)}function Im(i,a){return i!=null&&Z1(i,a,lF)}var UB=q1(function(i,a,l){a!=null&&typeof a.toString!="function"&&(a=mf.call(a)),i[a]=l},$m(Xn)),zB=q1(function(i,a,l){a!=null&&typeof a.toString!="function"&&(a=mf.call(a)),Gt.call(i,a)?i[a].push(l):i[a]=[l]},lt),WB=kt(fc);function Je(i){return Jn(i)?c1(i):em(i)}function Yn(i){return Jn(i)?c1(i,!0):bF(i)}function KB(i,a){var l={};return a=lt(a,3),Co(i,function(p,m,E){ri(l,a(p,m,E),p)}),l}function qB(i,a){var l={};return a=lt(a,3),Co(i,function(p,m,E){ri(l,m,a(p,m,E))}),l}var VB=Ea(function(i,a,l){If(i,a,l)}),Mw=Ea(function(i,a,l,p){If(i,a,l,p)}),HB=ii(function(i,a){var l={};if(i==null)return l;var p=!1;a=de(a,function(E){return E=Ki(E,i),p||(p=E.length>1),E}),To(i,gm(i),l),p&&(l=Mr(l,g|y|v,UF));for(var m=a.length;m--;)am(l,a[m]);return l});function GB(i,a){return Nw(i,qf(lt(a)))}var JB=ii(function(i,a){return i==null?{}:wF(i,a)});function Nw(i,a){if(i==null)return{};var l=de(gm(i),function(p){return[p]});return a=lt(a),T1(i,l,function(p,m){return a(p,m[0])})}function YB(i,a,l){a=Ki(a,i);var p=-1,m=a.length;for(m||(m=1,i=n);++p<m;){var E=i==null?n:i[Oo(a[p])];E===n&&(p=m,E=l),i=ai(E)?E.call(i):E}return i}function XB(i,a,l){return i==null?i:hc(i,a,l)}function QB(i,a,l,p){return p=typeof p=="function"?p:n,i==null?i:hc(i,a,l,p)}var Lw=G1(Je),Fw=G1(Yn);function ZB(i,a,l){var p=bt(i),m=p||Vi(i)||Ta(i);if(a=lt(a,4),l==null){var E=i&&i.constructor;m?l=p?new E:[]:me(i)?l=ai(E)?wa(_f(i)):{}:l={}}return(m?Rr:Co)(i,function(C,A,$){return a(l,C,A,$)}),l}function tj(i,a){return i==null?!0:am(i,a)}function ej(i,a,l){return i==null?i:R1(i,a,lm(l))}function nj(i,a,l,p){return p=typeof p=="function"?p:n,i==null?i:R1(i,a,lm(l),p)}function Oa(i){return i==null?[]:zg(i,Je(i))}function rj(i){return i==null?[]:zg(i,Yn(i))}function oj(i,a,l){return l===n&&(l=a,a=n),l!==n&&(l=Fr(l),l=l===l?l:0),a!==n&&(a=Fr(a),a=a===a?a:0),_s(Fr(i),a,l)}function ij(i,a,l){return a=ui(a),l===n?(l=a,a=0):l=ui(l),i=Fr(i),fF(i,a,l)}function sj(i,a,l){if(l&&typeof l!="boolean"&&Bn(i,a,l)&&(a=l=n),l===n&&(typeof a=="boolean"?(l=a,a=n):typeof i=="boolean"&&(l=i,i=n)),i===n&&a===n?(i=0,a=1):(i=ui(i),a===n?(a=i,i=0):a=ui(a)),i>a){var p=i;i=a,a=p}if(l||i%1||a%1){var m=a1();return Sn(i+m*(a-i+BN("1e-"+((m+"").length-1))),a)}return om(i,a)}var aj=xa(function(i,a,l){return a=a.toLowerCase(),i+(l?Bw(a):a)});function Bw(i){return Rm(Vt(i).toLowerCase())}function jw(i){return i=Vt(i),i&&i.replace(cN,XN).replace(AN,"")}function uj(i,a,l){i=Vt(i),a=sr(a);var p=i.length;l=l===n?p:_s(xt(l),0,p);var m=l;return l-=a.length,l>=0&&i.slice(l,m)==a}function cj(i){return i=Vt(i),i&&WM.test(i)?i.replace(mS,QN):i}function lj(i){return i=Vt(i),i&&JM.test(i)?i.replace(Tg,"\\$&"):i}var fj=xa(function(i,a,l){return i+(l?"-":"")+a.toLowerCase()}),dj=xa(function(i,a,l){return i+(l?" ":"")+a.toLowerCase()}),hj=z1("toLowerCase");function pj(i,a,l){i=Vt(i),a=xt(a);var p=a?ya(i):0;if(!a||p>=a)return i;var m=(a-p)/2;return Lf(Ef(m),l)+i+Lf(wf(m),l)}function gj(i,a,l){i=Vt(i),a=xt(a);var p=a?ya(i):0;return a&&p<a?i+Lf(a-p,l):i}function mj(i,a,l){i=Vt(i),a=xt(a);var p=a?ya(i):0;return a&&p<a?Lf(a-p,l)+i:i}function yj(i,a,l){return l||a==null?a=0:a&&(a=+a),xL(Vt(i).replace(Og,""),a||0)}function vj(i,a,l){return(l?Bn(i,a,l):a===n)?a=1:a=xt(a),im(Vt(i),a)}function _j(){var i=arguments,a=Vt(i[0]);return i.length<3?a:a.replace(i[1],i[2])}var bj=xa(function(i,a,l){return i+(l?"_":"")+a.toLowerCase()});function Sj(i,a,l){return l&&typeof l!="number"&&Bn(i,a,l)&&(a=l=n),l=l===n?se:l>>>0,l?(i=Vt(i),i&&(typeof a=="string"||a!=null&&!Am(a))&&(a=sr(a),!a&&ma(i))?qi(no(i),0,l):i.split(a,l)):[]}var wj=xa(function(i,a,l){return i+(l?" ":"")+Rm(a)});function Ej(i,a,l){return i=Vt(i),l=l==null?0:_s(xt(l),0,i.length),a=sr(a),i.slice(l,l+a.length)==a}function xj(i,a,l){var p=w.templateSettings;l&&Bn(i,a,l)&&(a=n),i=Vt(i),a=Gf({},a,p,J1);var m=Gf({},a.imports,p.imports,J1),E=Je(m),C=zg(m,E),A,$,q=0,V=a.interpolate||af,Y="__p += '",Z=Kg((a.escape||af).source+"|"+V.source+"|"+(V===yS?rN:af).source+"|"+(a.evaluate||af).source+"|$","g"),it="//# sourceURL="+(Gt.call(a,"sourceURL")?(a.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++PN+"]")+`
`;i.replace(Z,function(dt,$t,Lt,ur,jn,cr){return Lt||(Lt=ur),Y+=i.slice(q,cr).replace(lN,ZN),$t&&(A=!0,Y+=`' +
__e(`+$t+`) +
'`),jn&&($=!0,Y+=`';
`+jn+`;
__p += '`),Lt&&(Y+=`' +
((__t = (`+Lt+`)) == null ? '' : __t) +
'`),q=cr+dt.length,dt}),Y+=`';
`;var ft=Gt.call(a,"variable")&&a.variable;if(!ft)Y=`with (obj) {
`+Y+`
}
`;else if(eN.test(ft))throw new yt(c);Y=($?Y.replace(jM,""):Y).replace(DM,"$1").replace(UM,"$1;"),Y="function("+(ft||"obj")+`) {
`+(ft?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(A?", __e = _.escape":"")+($?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Y+`return __p
}`;var Tt=Uw(function(){return zt(E,it+"return "+Y).apply(n,C)});if(Tt.source=Y,Om(Tt))throw Tt;return Tt}function Cj(i){return Vt(i).toLowerCase()}function Tj(i){return Vt(i).toUpperCase()}function Oj(i,a,l){if(i=Vt(i),i&&(l||a===n))return YS(i);if(!i||!(a=sr(a)))return i;var p=no(i),m=no(a),E=XS(p,m),C=QS(p,m)+1;return qi(p,E,C).join("")}function Aj(i,a,l){if(i=Vt(i),i&&(l||a===n))return i.slice(0,t1(i)+1);if(!i||!(a=sr(a)))return i;var p=no(i),m=QS(p,no(a))+1;return qi(p,0,m).join("")}function kj(i,a,l){if(i=Vt(i),i&&(l||a===n))return i.replace(Og,"");if(!i||!(a=sr(a)))return i;var p=no(i),m=XS(p,no(a));return qi(p,m).join("")}function Ij(i,a){var l=b,p=M;if(me(a)){var m="separator"in a?a.separator:m;l="length"in a?xt(a.length):l,p="omission"in a?sr(a.omission):p}i=Vt(i);var E=i.length;if(ma(i)){var C=no(i);E=C.length}if(l>=E)return i;var A=l-ya(p);if(A<1)return p;var $=C?qi(C,0,A).join(""):i.slice(0,A);if(m===n)return $+p;if(C&&(A+=$.length-A),Am(m)){if(i.slice(A).search(m)){var q,V=$;for(m.global||(m=Kg(m.source,Vt(vS.exec(m))+"g")),m.lastIndex=0;q=m.exec(V);)var Y=q.index;$=$.slice(0,Y===n?A:Y)}}else if(i.indexOf(sr(m),A)!=A){var Z=$.lastIndexOf(m);Z>-1&&($=$.slice(0,Z))}return $+p}function Rj(i){return i=Vt(i),i&&zM.test(i)?i.replace(gS,sL):i}var $j=xa(function(i,a,l){return i+(l?" ":"")+a.toUpperCase()}),Rm=z1("toUpperCase");function Dw(i,a,l){return i=Vt(i),a=l?n:a,a===n?eL(i)?cL(i):VN(i):i.match(a)||[]}var Uw=kt(function(i,a){try{return or(i,n,a)}catch(l){return Om(l)?l:new yt(l)}}),Pj=ii(function(i,a){return Rr(a,function(l){l=Oo(l),ri(i,l,Cm(i[l],i))}),i});function Mj(i){var a=i==null?0:i.length,l=lt();return i=a?de(i,function(p){if(typeof p[1]!="function")throw new $r(u);return[l(p[0]),p[1]]}):[],kt(function(p){for(var m=-1;++m<a;){var E=i[m];if(or(E[0],this,p))return or(E[1],this,p)}})}function Nj(i){return sF(Mr(i,g))}function $m(i){return function(){return i}}function Lj(i,a){return i==null||i!==i?a:i}var Fj=K1(),Bj=K1(!0);function Xn(i){return i}function Pm(i){return b1(typeof i=="function"?i:Mr(i,g))}function jj(i){return w1(Mr(i,g))}function Dj(i,a){return E1(i,Mr(a,g))}var Uj=kt(function(i,a){return function(l){return fc(l,i,a)}}),zj=kt(function(i,a){return function(l){return fc(i,l,a)}});function Mm(i,a,l){var p=Je(a),m=kf(a,p);l==null&&!(me(a)&&(m.length||!p.length))&&(l=a,a=i,i=this,m=kf(a,Je(a)));var E=!(me(l)&&"chain"in l)||!!l.chain,C=ai(i);return Rr(m,function(A){var $=a[A];i[A]=$,C&&(i.prototype[A]=function(){var q=this.__chain__;if(E||q){var V=i(this.__wrapped__),Y=V.__actions__=Gn(this.__actions__);return Y.push({func:$,args:arguments,thisArg:i}),V.__chain__=q,V}return $.apply(i,ji([this.value()],arguments))})}),i}function Wj(){return sn._===this&&(sn._=gL),this}function Nm(){}function Kj(i){return i=xt(i),kt(function(a){return x1(a,i)})}var qj=dm(de),Vj=dm(qS),Hj=dm(Fg);function zw(i){return _m(i)?Bg(Oo(i)):EF(i)}function Gj(i){return function(a){return i==null?n:bs(i,a)}}var Jj=V1(),Yj=V1(!0);function Lm(){return[]}function Fm(){return!1}function Xj(){return{}}function Qj(){return""}function Zj(){return!0}function t3(i,a){if(i=xt(i),i<1||i>at)return[];var l=se,p=Sn(i,se);a=lt(a),i-=se;for(var m=Ug(p,a);++l<i;)a(l);return m}function e3(i){return bt(i)?de(i,Oo):ar(i)?[i]:Gn(uw(Vt(i)))}function n3(i){var a=++hL;return Vt(i)+a}var r3=Nf(function(i,a){return i+a},0),o3=hm("ceil"),i3=Nf(function(i,a){return i/a},1),s3=hm("floor");function a3(i){return i&&i.length?Af(i,Xn,Qg):n}function u3(i,a){return i&&i.length?Af(i,lt(a,2),Qg):n}function c3(i){return GS(i,Xn)}function l3(i,a){return GS(i,lt(a,2))}function f3(i){return i&&i.length?Af(i,Xn,nm):n}function d3(i,a){return i&&i.length?Af(i,lt(a,2),nm):n}var h3=Nf(function(i,a){return i*a},1),p3=hm("round"),g3=Nf(function(i,a){return i-a},0);function m3(i){return i&&i.length?Dg(i,Xn):0}function y3(i,a){return i&&i.length?Dg(i,lt(a,2)):0}return w.after=j5,w.ary=_w,w.assign=TB,w.assignIn=Pw,w.assignInWith=Gf,w.assignWith=OB,w.at=AB,w.before=bw,w.bind=Cm,w.bindAll=Pj,w.bindKey=Sw,w.castArray=X5,w.chain=mw,w.chunk=s2,w.compact=a2,w.concat=u2,w.cond=Mj,w.conforms=Nj,w.constant=$m,w.countBy=m5,w.create=kB,w.curry=ww,w.curryRight=Ew,w.debounce=xw,w.defaults=IB,w.defaultsDeep=RB,w.defer=D5,w.delay=U5,w.difference=c2,w.differenceBy=l2,w.differenceWith=f2,w.drop=d2,w.dropRight=h2,w.dropRightWhile=p2,w.dropWhile=g2,w.fill=m2,w.filter=v5,w.flatMap=S5,w.flatMapDeep=w5,w.flatMapDepth=E5,w.flatten=dw,w.flattenDeep=y2,w.flattenDepth=v2,w.flip=z5,w.flow=Fj,w.flowRight=Bj,w.fromPairs=_2,w.functions=BB,w.functionsIn=jB,w.groupBy=x5,w.initial=S2,w.intersection=w2,w.intersectionBy=E2,w.intersectionWith=x2,w.invert=UB,w.invertBy=zB,w.invokeMap=T5,w.iteratee=Pm,w.keyBy=O5,w.keys=Je,w.keysIn=Yn,w.map=zf,w.mapKeys=KB,w.mapValues=qB,w.matches=jj,w.matchesProperty=Dj,w.memoize=Kf,w.merge=VB,w.mergeWith=Mw,w.method=Uj,w.methodOf=zj,w.mixin=Mm,w.negate=qf,w.nthArg=Kj,w.omit=HB,w.omitBy=GB,w.once=W5,w.orderBy=A5,w.over=qj,w.overArgs=K5,w.overEvery=Vj,w.overSome=Hj,w.partial=Tm,w.partialRight=Cw,w.partition=k5,w.pick=JB,w.pickBy=Nw,w.property=zw,w.propertyOf=Gj,w.pull=A2,w.pullAll=pw,w.pullAllBy=k2,w.pullAllWith=I2,w.pullAt=R2,w.range=Jj,w.rangeRight=Yj,w.rearg=q5,w.reject=$5,w.remove=$2,w.rest=V5,w.reverse=Em,w.sampleSize=M5,w.set=XB,w.setWith=QB,w.shuffle=N5,w.slice=P2,w.sortBy=B5,w.sortedUniq=D2,w.sortedUniqBy=U2,w.split=Sj,w.spread=H5,w.tail=z2,w.take=W2,w.takeRight=K2,w.takeRightWhile=q2,w.takeWhile=V2,w.tap=a5,w.throttle=G5,w.thru=Uf,w.toArray=Iw,w.toPairs=Lw,w.toPairsIn=Fw,w.toPath=e3,w.toPlainObject=$w,w.transform=ZB,w.unary=J5,w.union=H2,w.unionBy=G2,w.unionWith=J2,w.uniq=Y2,w.uniqBy=X2,w.uniqWith=Q2,w.unset=tj,w.unzip=xm,w.unzipWith=gw,w.update=ej,w.updateWith=nj,w.values=Oa,w.valuesIn=rj,w.without=Z2,w.words=Dw,w.wrap=Y5,w.xor=t5,w.xorBy=e5,w.xorWith=n5,w.zip=r5,w.zipObject=o5,w.zipObjectDeep=i5,w.zipWith=s5,w.entries=Lw,w.entriesIn=Fw,w.extend=Pw,w.extendWith=Gf,Mm(w,w),w.add=r3,w.attempt=Uw,w.camelCase=aj,w.capitalize=Bw,w.ceil=o3,w.clamp=oj,w.clone=Q5,w.cloneDeep=tB,w.cloneDeepWith=eB,w.cloneWith=Z5,w.conformsTo=nB,w.deburr=jw,w.defaultTo=Lj,w.divide=i3,w.endsWith=uj,w.eq=oo,w.escape=cj,w.escapeRegExp=lj,w.every=y5,w.find=_5,w.findIndex=lw,w.findKey=$B,w.findLast=b5,w.findLastIndex=fw,w.findLastKey=PB,w.floor=s3,w.forEach=yw,w.forEachRight=vw,w.forIn=MB,w.forInRight=NB,w.forOwn=LB,w.forOwnRight=FB,w.get=km,w.gt=rB,w.gte=oB,w.has=DB,w.hasIn=Im,w.head=hw,w.identity=Xn,w.includes=C5,w.indexOf=b2,w.inRange=ij,w.invoke=WB,w.isArguments=Es,w.isArray=bt,w.isArrayBuffer=iB,w.isArrayLike=Jn,w.isArrayLikeObject=Te,w.isBoolean=sB,w.isBuffer=Vi,w.isDate=aB,w.isElement=uB,w.isEmpty=cB,w.isEqual=lB,w.isEqualWith=fB,w.isError=Om,w.isFinite=dB,w.isFunction=ai,w.isInteger=Tw,w.isLength=Vf,w.isMap=Ow,w.isMatch=hB,w.isMatchWith=pB,w.isNaN=gB,w.isNative=mB,w.isNil=vB,w.isNull=yB,w.isNumber=Aw,w.isObject=me,w.isObjectLike=be,w.isPlainObject=yc,w.isRegExp=Am,w.isSafeInteger=_B,w.isSet=kw,w.isString=Hf,w.isSymbol=ar,w.isTypedArray=Ta,w.isUndefined=bB,w.isWeakMap=SB,w.isWeakSet=wB,w.join=C2,w.kebabCase=fj,w.last=Lr,w.lastIndexOf=T2,w.lowerCase=dj,w.lowerFirst=hj,w.lt=EB,w.lte=xB,w.max=a3,w.maxBy=u3,w.mean=c3,w.meanBy=l3,w.min=f3,w.minBy=d3,w.stubArray=Lm,w.stubFalse=Fm,w.stubObject=Xj,w.stubString=Qj,w.stubTrue=Zj,w.multiply=h3,w.nth=O2,w.noConflict=Wj,w.noop=Nm,w.now=Wf,w.pad=pj,w.padEnd=gj,w.padStart=mj,w.parseInt=yj,w.random=sj,w.reduce=I5,w.reduceRight=R5,w.repeat=vj,w.replace=_j,w.result=YB,w.round=p3,w.runInContext=I,w.sample=P5,w.size=L5,w.snakeCase=bj,w.some=F5,w.sortedIndex=M2,w.sortedIndexBy=N2,w.sortedIndexOf=L2,w.sortedLastIndex=F2,w.sortedLastIndexBy=B2,w.sortedLastIndexOf=j2,w.startCase=wj,w.startsWith=Ej,w.subtract=g3,w.sum=m3,w.sumBy=y3,w.template=xj,w.times=t3,w.toFinite=ui,w.toInteger=xt,w.toLength=Rw,w.toLower=Cj,w.toNumber=Fr,w.toSafeInteger=CB,w.toString=Vt,w.toUpper=Tj,w.trim=Oj,w.trimEnd=Aj,w.trimStart=kj,w.truncate=Ij,w.unescape=Rj,w.uniqueId=n3,w.upperCase=$j,w.upperFirst=Rm,w.each=yw,w.eachRight=vw,w.first=hw,Mm(w,function(){var i={};return Co(w,function(a,l){Gt.call(w.prototype,l)||(i[l]=a)}),i}(),{chain:!1}),w.VERSION=r,Rr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(i){w[i].placeholder=w}),Rr(["drop","take"],function(i,a){Mt.prototype[i]=function(l){l=l===n?1:ze(xt(l),0);var p=this.__filtered__&&!a?new Mt(this):this.clone();return p.__filtered__?p.__takeCount__=Sn(l,p.__takeCount__):p.__views__.push({size:Sn(l,se),type:i+(p.__dir__<0?"Right":"")}),p},Mt.prototype[i+"Right"]=function(l){return this.reverse()[i](l).reverse()}}),Rr(["filter","map","takeWhile"],function(i,a){var l=a+1,p=l==nt||l==gt;Mt.prototype[i]=function(m){var E=this.clone();return E.__iteratees__.push({iteratee:lt(m,3),type:l}),E.__filtered__=E.__filtered__||p,E}}),Rr(["head","last"],function(i,a){var l="take"+(a?"Right":"");Mt.prototype[i]=function(){return this[l](1).value()[0]}}),Rr(["initial","tail"],function(i,a){var l="drop"+(a?"":"Right");Mt.prototype[i]=function(){return this.__filtered__?new Mt(this):this[l](1)}}),Mt.prototype.compact=function(){return this.filter(Xn)},Mt.prototype.find=function(i){return this.filter(i).head()},Mt.prototype.findLast=function(i){return this.reverse().find(i)},Mt.prototype.invokeMap=kt(function(i,a){return typeof i=="function"?new Mt(this):this.map(function(l){return fc(l,i,a)})}),Mt.prototype.reject=function(i){return this.filter(qf(lt(i)))},Mt.prototype.slice=function(i,a){i=xt(i);var l=this;return l.__filtered__&&(i>0||a<0)?new Mt(l):(i<0?l=l.takeRight(-i):i&&(l=l.drop(i)),a!==n&&(a=xt(a),l=a<0?l.dropRight(-a):l.take(a-i)),l)},Mt.prototype.takeRightWhile=function(i){return this.reverse().takeWhile(i).reverse()},Mt.prototype.toArray=function(){return this.take(se)},Co(Mt.prototype,function(i,a){var l=/^(?:filter|find|map|reject)|While$/.test(a),p=/^(?:head|last)$/.test(a),m=w[p?"take"+(a=="last"?"Right":""):a],E=p||/^find/.test(a);m&&(w.prototype[a]=function(){var C=this.__wrapped__,A=p?[1]:arguments,$=C instanceof Mt,q=A[0],V=$||bt(C),Y=function($t){var Lt=m.apply(w,ji([$t],A));return p&&Z?Lt[0]:Lt};V&&l&&typeof q=="function"&&q.length!=1&&($=V=!1);var Z=this.__chain__,it=!!this.__actions__.length,ft=E&&!Z,Tt=$&&!it;if(!E&&V){C=Tt?C:new Mt(this);var dt=i.apply(C,A);return dt.__actions__.push({func:Uf,args:[Y],thisArg:n}),new Pr(dt,Z)}return ft&&Tt?i.apply(this,A):(dt=this.thru(Y),ft?p?dt.value()[0]:dt.value():dt)})}),Rr(["pop","push","shift","sort","splice","unshift"],function(i){var a=hf[i],l=/^(?:push|sort|unshift)$/.test(i)?"tap":"thru",p=/^(?:pop|shift)$/.test(i);w.prototype[i]=function(){var m=arguments;if(p&&!this.__chain__){var E=this.value();return a.apply(bt(E)?E:[],m)}return this[l](function(C){return a.apply(bt(C)?C:[],m)})}}),Co(Mt.prototype,function(i,a){var l=w[a];if(l){var p=l.name+"";Gt.call(Sa,p)||(Sa[p]=[]),Sa[p].push({name:a,func:l})}}),Sa[Mf(n,O).name]=[{name:"wrapper",func:n}],Mt.prototype.clone=RL,Mt.prototype.reverse=$L,Mt.prototype.value=PL,w.prototype.at=u5,w.prototype.chain=c5,w.prototype.commit=l5,w.prototype.next=f5,w.prototype.plant=h5,w.prototype.reverse=p5,w.prototype.toJSON=w.prototype.valueOf=w.prototype.value=g5,w.prototype.first=w.prototype.head,oc&&(w.prototype[oc]=d5),w},va=lL();gs?((gs.exports=va)._=va,Pg._=va):sn._=va}).call(vc)})(Wd,Wd.exports);var M3=Wd.exports,rt=iO(M3);const N3=1,Py=2,L3={INIT_ACK:{statusByte:2,parse:t=>({type:"init-ack",projectName:t[0]})},INIT:{statusByte:3,parse:t=>({type:"init-project",tracksCount:t[0]})},DONE:{statusByte:4,parse:t=>({type:"init-done"})},TRACK:{statusByte:5,parse:t=>({type:"init-track",name:t[0],trackIndex:rt.toNumber(t[1]),color:rt.toNumber(t[2])})},CLIP:{statusByte:6,parse:t=>({type:"init-clip",name:t[0],trackIndex:rt.toNumber(t[1]),clipIndex:rt.toNumber(t[2]),color:rt.toNumber(t[3]),startTime:rt.toNumber(t[4]),endTime:rt.toNumber(t[5])})},BEAT:{statusByte:7,parse:t=>({type:"beat",value:rt.toNumber(t[0])})},BAR_BEAT:{statusByte:8,parse:t=>({type:"bar-beat",value:rt.toNumber(t[0])})},SIG:{statusByte:9,parse:t=>({type:"sig",numer:rt.toNumber(t[0]),denom:rt.toNumber(t[1])})},TEMPO:{statusByte:10,parse:t=>({type:"tempo",value:rt.toNumber(t[0])})},IS_PLAYING:{statusByte:11,parse:t=>({type:"is-playing",value:rt.toNumber(t[0])===1})},CUE:{statusByte:12,parse:t=>({type:"init-cue",id:rt.toNumber(t[0]),name:t[1],time:rt.toNumber(t[2]),index:rt.toNumber(t[3])})},METRONOME_STATE:{statusByte:13,parse:t=>({type:"metronome-state",value:rt.toNumber(t[0])===1})},LOOP_STATE:{statusByte:14,parse:t=>({type:"loop-state",value:rt.toNumber(t[0])===1})},HALF_BEAT:{statusByte:15,parse:t=>({type:"half-beat",isHalf:rt.toNumber(t[0])===1})}},F3=rt.fromPairs(rt.map(L3,t=>[t.statusByte,t])),B3=t=>{const e=rt.join(rt.map(t,r=>String.fromCharCode(r)),""),n=rt.split(e,String.fromCharCode(N3));return[rt.toNumber(n[0]),n.splice(1)]},j3=t=>{try{if(t.manufacturer===Py){const[e,n]=B3(t.body),r=F3[e];if(r!==void 0)return r.parse(n);console.warn("Did not find parser for message",t)}}catch(e){console.error("Got error parsing message",e)}},Qw=t=>{const e=[];return rt.forEach(t,(n,r)=>{e.push(t.charCodeAt(r))}),e},fn={base:(t,e)=>({type:"sysex",manufacturer:Py,body:[t,...Qw(e.toString())]}),baseJSON:(t,e)=>({type:"sysex",manufacturer:Py,body:[t,...Qw(JSON.stringify(e))]}),init:()=>fn.base(64,1),initReady:t=>fn.baseJSON(65,{tracks:t}),play:()=>fn.base(80,1),stop:()=>fn.base(81,1),jumpToCue:t=>fn.base(82,t),jumpBy:t=>fn.base(84,t),record:()=>fn.base(85,1),metronome:t=>fn.base(86,t?1:0),loop:t=>fn.base(87,t?1:0)},D3=t=>typeof t=="function",L=function(t,e){if(typeof t=="function")return function(){return t(arguments)?e.apply(this,arguments):n=>e(n,...arguments)};switch(t){case 0:case 1:throw new RangeError(`Invalid arity ${t}`);case 2:return function(n,r){return arguments.length>=2?e(n,r):function(o){return e(o,n)}};case 3:return function(n,r,o){return arguments.length>=3?e(n,r,o):function(s){return e(s,n,r)}};case 4:return function(n,r,o,s){return arguments.length>=4?e(n,r,o,s):function(u){return e(u,n,r,o)}};case 5:return function(n,r,o,s,u){return arguments.length>=5?e(n,r,o,s,u):function(c){return e(c,n,r,o,s)}};default:return function(){if(arguments.length>=t)return e.apply(this,arguments);const n=arguments;return function(r){return e(r,...n)}}}},Fe=t=>t,Bh=t=>()=>t,Zw=Bh(!0),My=Bh(!1),pO=Bh(void 0),U3=pO;function H(t,e,n,r,o,s,u,c,f){switch(arguments.length){case 1:return t;case 2:return e(t);case 3:return n(e(t));case 4:return r(n(e(t)));case 5:return o(r(n(e(t))));case 6:return s(o(r(n(e(t)))));case 7:return u(s(o(r(n(e(t))))));case 8:return c(u(s(o(r(n(e(t)))))));case 9:return f(c(u(s(o(r(n(e(t))))))));default:{let d=arguments[0];for(let h=1;h<arguments.length;h++)d=arguments[h](d);return d}}}const jh=t=>(e,n)=>e===n||t(e,n),z3=L(2,(t,e)=>jh((n,r)=>t(e(n),e(r)))),W3=t=>jh((e,n)=>{if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++)if(!t(e[r],n[r]))return!1;return!0});let K3="3.13.12";const Dh=()=>K3,Jf=`effect/GlobalValue/globalStoreId/${Dh()}`;let _c;const jt=(t,e)=>(_c||(globalThis[Jf]??(globalThis[Jf]=new Map),_c=globalThis[Jf]),_c.has(t)||_c.set(t,e()),_c.get(t)),Vo=t=>typeof t=="string",zs=t=>typeof t=="number",u0=t=>typeof t=="boolean",Uh=t=>typeof t=="bigint",Ny=t=>typeof t=="symbol",Au=D3,q3=t=>t===void 0,V3=t=>!1,c0=t=>typeof t=="object"&&t!==null,ls=t=>c0(t)||Au(t),Ct=L(2,(t,e)=>ls(t)&&e in t),l0=L(2,(t,e)=>Ct(t,"_tag")&&t._tag===e),Aa=t=>t==null,H3=t=>t!=null,G3=t=>t instanceof Date,gO=t=>Ct(t,Symbol.iterator),J3=t=>c0(t)&&!Array.isArray(t),Y3=t=>Ct(t,"then")&&Au(t.then),zh=t=>`BUG: ${t} - please report an issue at https://github.com/Effect-TS/effect/issues`;let mO=class yO{constructor(e){_(this,"self");_(this,"called",!1);this.self=e}next(e){return this.called?{value:e,done:!0}:(this.called=!0,{value:this.self,done:!1})}return(e){return{value:e,done:!0}}throw(e){throw e}[Symbol.iterator](){return new yO(this.self)}};const X3=335903614,Q3=4150755663,Z3=1481765933,tD=1284865837,eD=9007199254740992,nD=134217728;class rD{constructor(e,n,r,o){_(this,"_state");return Aa(n)&&Aa(e)?(n=Math.random()*4294967295>>>0,e=0):Aa(n)&&(n=e,e=0),Aa(o)&&Aa(r)?(o=this._state?this._state[3]:Q3,r=this._state?this._state[2]:X3):Aa(o)&&(o=r,r=0),this._state=new Int32Array([0,0,r>>>0,((o||0)|1)>>>0]),this._next(),tE(this._state,this._state[0],this._state[1],e>>>0,n>>>0),this._next(),this}getState(){return[this._state[0],this._state[1],this._state[2],this._state[3]]}setState(e){this._state[0]=e[0],this._state[1]=e[1],this._state[2]=e[2],this._state[3]=e[3]|1}integer(e){return Math.round(this.number()*Number.MAX_SAFE_INTEGER)%e}number(){const e=(this._next()&67108863)*1,n=(this._next()&134217727)*1;return(e*nD+n)/eD}_next(){const e=this._state[0]>>>0,n=this._state[1]>>>0;oD(this._state,e,n,Z3,tD),tE(this._state,this._state[0],this._state[1],this._state[2],this._state[3]);let r=e>>>18,o=(n>>>18|e<<14)>>>0;r=(r^e)>>>0,o=(o^n)>>>0;const s=(o>>>27|r<<5)>>>0,u=e>>>27,c=(-u>>>0&31)>>>0;return(s>>>u|s<<c)>>>0}}function oD(t,e,n,r,o){let s=(n>>>16)*(o&65535)>>>0,u=(n&65535)*(o>>>16)>>>0,c=(n&65535)*(o&65535)>>>0,f=(n>>>16)*(o>>>16)+((u>>>16)+(s>>>16))>>>0;u=u<<16>>>0,c=c+u>>>0,c>>>0<u>>>0&&(f=f+1>>>0),s=s<<16>>>0,c=c+s>>>0,c>>>0<s>>>0&&(f=f+1>>>0),f=f+Math.imul(n,r)>>>0,f=f+Math.imul(e,o)>>>0,t[0]=f,t[1]=c}function tE(t,e,n,r,o){let s=e+r>>>0;const u=n+o>>>0;u>>>0<n>>>0&&(s=s+1|0),t[0]=s,t[1]=u}const Ly=Symbol.for("effect/Utils/YieldWrap");var El;class xl{constructor(e){Hw(this,El);Gw(this,El,e)}[Ly](){return Vw(this,El)}}El=new WeakMap;function iD(t){if(typeof t=="object"&&t!==null&&Ly in t)return t[Ly]();throw new Error(zh("yieldWrapGet"))}const Dr=jt("effect/Utils/isStructuralRegion",()=>({enabled:!1,tester:void 0})),sD=t=>{const e={[t](n){return n()}};return function(n){return e[t](n)}},Un=sD("effect_internal_function"),Bm=jt(Symbol.for("effect/Hash/randomHashCache"),()=>new WeakMap),It=Symbol.for("effect/Hash"),ct=t=>{if(Dr.enabled===!0)return 0;switch(typeof t){case"number":return d0(t);case"bigint":return Me(t.toString(10));case"boolean":return Me(String(t));case"symbol":return Me(String(t));case"string":return Me(t);case"undefined":return Me("undefined");case"function":case"object":return t===null?Me("null"):t instanceof Date?ct(t.toISOString()):aD(t)?t[It]():f0(t);default:throw new Error(`BUG: unhandled typeof ${typeof t} - please report an issue at https://github.com/Effect-TS/effect/issues`)}},f0=t=>(Bm.has(t)||Bm.set(t,d0(Math.floor(Math.random()*Number.MAX_SAFE_INTEGER))),Bm.get(t)),Bt=t=>e=>e*53^t,Wh=t=>t&3221225471|t>>>1&1073741824,aD=t=>Ct(t,It),d0=t=>{if(t!==t||t===1/0)return 0;let e=t|0;for(e!==t&&(e^=t*4294967295);t>4294967295;)e^=t/=4294967295;return Wh(e)},Me=t=>{let e=5381,n=t.length;for(;n;)e=e*33^t.charCodeAt(--n);return Wh(e)},uD=(t,e)=>{let n=12289;for(let r=0;r<e.length;r++)n^=H(Me(e[r]),Bt(ct(t[e[r]])));return Wh(n)},vO=t=>uD(t,Object.keys(t)),Cl=t=>{let e=6151;for(let n=0;n<t.length;n++)e=H(e,Bt(ct(t[n])));return Wh(e)},Ce=function(){if(arguments.length===1){const n=arguments[0];return function(r){return Object.defineProperty(n,It,{value(){return r},enumerable:!1}),r}}const t=arguments[0],e=arguments[1];return Object.defineProperty(t,It,{value(){return e},enumerable:!1}),e},Ot=Symbol.for("effect/Equal");function At(){return arguments.length===1?t=>Kd(t,arguments[0]):Kd(arguments[0],arguments[1])}function Kd(t,e){if(t===e)return!0;const n=typeof t;if(n!==typeof e)return!1;if(n==="object"||n==="function"){if(t!==null&&e!==null){if(qd(t)&&qd(e))return ct(t)===ct(e)&&t[Ot](e)?!0:Dr.enabled&&Dr.tester?Dr.tester(t,e):!1;if(t instanceof Date&&e instanceof Date)return t.toISOString()===e.toISOString()}if(Dr.enabled){if(Array.isArray(t)&&Array.isArray(e))return t.length===e.length&&t.every((r,o)=>Kd(r,e[o]));if(Object.getPrototypeOf(t)===Object.prototype&&Object.getPrototypeOf(t)===Object.prototype){const r=Object.keys(t),o=Object.keys(e);if(r.length===o.length){for(const s of r)if(!(s in e&&Kd(t[s],e[s])))return Dr.tester?Dr.tester(t,e):!1;return!0}}return Dr.tester?Dr.tester(t,e):!1}}return Dr.enabled&&Dr.tester?Dr.tester(t,e):!1}const qd=t=>Ct(t,Ot),h0=()=>At,ve=Symbol.for("nodejs.util.inspect.custom"),Ve=t=>{try{if(Ct(t,"toJSON")&&Au(t.toJSON)&&t.toJSON.length===0)return t.toJSON();if(Array.isArray(t))return t.map(Ve)}catch{return{}}return lD(t)},Ze=t=>JSON.stringify(t,null,2),Qa=(t,e=2)=>{if(typeof t=="string")return t;try{return typeof t=="object"?_O(t,e):String(t)}catch{return String(t)}},_O=(t,e)=>{let n=[];const r=JSON.stringify(t,(o,s)=>typeof s=="object"&&s!==null?n.includes(s)?void 0:n.push(s)&&(Ls.fiberRefs!==void 0&&bO(s)?s[p0](Ls.fiberRefs):s):s,e);return n=void 0,r},p0=Symbol.for("effect/Inspectable/Redactable"),bO=t=>typeof t=="object"&&t!==null&&p0 in t,Ls=jt("effect/Inspectable/redactableState",()=>({fiberRefs:void 0})),cD=(t,e)=>{const n=Ls.fiberRefs;Ls.fiberRefs=t;try{return e()}finally{Ls.fiberRefs=n}},lD=t=>bO(t)&&Ls.fiberRefs!==void 0?t[p0](Ls.fiberRefs):t,_t=(t,e)=>{switch(e.length){case 0:return t;case 1:return e[0](t);case 2:return e[1](e[0](t));case 3:return e[2](e[1](e[0](t)));case 4:return e[3](e[2](e[1](e[0](t))));case 5:return e[4](e[3](e[2](e[1](e[0](t)))));case 6:return e[5](e[4](e[3](e[2](e[1](e[0](t))))));case 7:return e[6](e[5](e[4](e[3](e[2](e[1](e[0](t)))))));case 8:return e[7](e[6](e[5](e[4](e[3](e[2](e[1](e[0](t))))))));case 9:return e[8](e[7](e[6](e[5](e[4](e[3](e[2](e[1](e[0](t)))))))));default:{let n=t;for(let r=0,o=e.length;r<o;r++)n=e[r](n);return n}}},Dc="Async",Kh="Commit",go="Failure",jm="OnFailure",Vd="OnSuccess",Hd="OnSuccessAndFailure",mo="Success",SO="Sync",fD="Tag",Tl="UpdateRuntimeFlags",Gd="While",bd="Iterator",wO="WithRuntime",Sd="Yield",g0="RevertFlags",dD=Symbol.for("effect/Effect"),hD=Symbol.for("effect/Stream"),pD=Symbol.for("effect/Sink"),gD=Symbol.for("effect/Channel"),Za={_R:t=>t,_E:t=>t,_A:t=>t,_V:Dh()},mD={_A:t=>t,_In:t=>t,_L:t=>t,_E:t=>t,_R:t=>t},yD={_Env:t=>t,_InErr:t=>t,_InElem:t=>t,_InDone:t=>t,_OutErr:t=>t,_OutElem:t=>t,_OutDone:t=>t},Ol={[dD]:Za,[hD]:Za,[pD]:mD,[gD]:yD,[Ot](t){return this===t},[It](){return Ce(this,f0(this))},[Symbol.iterator](){return new mO(new xl(this))},pipe(){return _t(this,arguments)}},Al={[It](){return Ce(this,vO(this))},[Ot](t){const e=Object.keys(this),n=Object.keys(t);if(e.length!==n.length)return!1;for(const r of e)if(!(r in t&&At(this[r],t[r])))return!1;return!0}},kl={...Ol,_op:Kh},vD={...kl,...Al},_D=function(){function t(){}return t.prototype=kl,t}(),EO=Symbol.for("effect/Option"),xO={...Ol,[EO]:{_A:t=>t},[ve](){return this.toJSON()},toString(){return Ze(this.toJSON())}},bD=Object.assign(Object.create(xO),{_tag:"Some",_op:"Some",[Ot](t){return m0(t)&&TO(t)&&At(this.value,t.value)},[It](){return Ce(this,Bt(ct(this._tag))(ct(this.value)))},toJSON(){return{_id:"Option",_tag:this._tag,value:Ve(this.value)}}}),SD=ct("None"),wD=Object.assign(Object.create(xO),{_tag:"None",_op:"None",[Ot](t){return m0(t)&&CO(t)},[It](){return SD},toJSON(){return{_id:"Option",_tag:this._tag}}}),m0=t=>Ct(t,EO),CO=t=>t._tag==="None",TO=t=>t._tag==="Some",y0=Object.create(wD),Jd=t=>{const e=Object.create(bD);return e.value=t,e},OO=Symbol.for("effect/Either"),AO={...Ol,[OO]:{_R:t=>t},[ve](){return this.toJSON()},toString(){return Ze(this.toJSON())}},ED=Object.assign(Object.create(AO),{_tag:"Right",_op:"Right",[Ot](t){return v0(t)&&kO(t)&&At(this.right,t.right)},[It](){return Bt(ct(this._tag))(ct(this.right))},toJSON(){return{_id:"Either",_tag:this._tag,right:Ve(this.right)}}}),xD=Object.assign(Object.create(AO),{_tag:"Left",_op:"Left",[Ot](t){return v0(t)&&_0(t)&&At(this.left,t.left)},[It](){return Bt(ct(this._tag))(ct(this.left))},toJSON(){return{_id:"Either",_tag:this._tag,left:Ve(this.left)}}}),v0=t=>Ct(t,OO),_0=t=>t._tag==="Left",kO=t=>t._tag==="Right",CD=t=>{const e=Object.create(xD);return e.left=t,e},TD=t=>{const e=Object.create(ED);return e.right=t,e},OD=t=>_0(t)?y0:Jd(t.right),Et=TD,vt=CD,AD=t=>{if(Au(t))try{return Et(t())}catch(e){return vt(e)}else try{return Et(t.try())}catch(e){return vt(t.catch(e))}},kD=v0,Xe=_0,gi=kO,ID=L(2,(t,{onLeft:e,onRight:n})=>Xe(t)?vt(e(t.left)):Et(n(t.right))),b0=L(2,(t,e)=>Xe(t)?vt(e(t.left)):Et(t.right)),RD=L(2,(t,e)=>gi(t)?Et(e(t.right)):vt(t.left)),ku=L(2,(t,{onLeft:e,onRight:n})=>Xe(t)?e(t.left):n(t.right)),$D=ku({onLeft:Fe,onRight:Fe}),IO=L(2,(t,e)=>{if(gi(t))return t.right;throw e(t.left)}),RO=IO(()=>new Error("getOrThrow called on a Left")),$O=t=>t.length>0,PO=t=>(e,n)=>e===n?0:t(e,n),PD=PO((t,e)=>t<e?-1:1),MO=L(2,(t,e)=>PO((n,r)=>t(e(n),e(r)))),MD=t=>L(2,(e,n)=>t(e,n)===1),ut=()=>y0,Rt=Jd,ND=m0,ke=CO,Pn=TO,Ie=L(2,(t,{onNone:e,onSome:n})=>ke(t)?e():n(t.value)),LD=OD,xe=L(2,(t,e)=>ke(t)?e():t.value),Zi=L(2,(t,e)=>ke(t)?e():t),FD=L(2,(t,e)=>ke(t)?Rt(e()):t),Ti=t=>t==null?ut():Rt(t),uo=xe(pO),BD=t=>(...e)=>{try{return Rt(t(...e))}catch{return ut()}},NO=L(2,(t,e)=>ke(t)?ut():Rt(e(t.value))),ns=L(2,(t,e)=>ke(t)?ut():e(t.value)),jD=L(2,(t,e)=>ke(t)?ut():Ti(e(t.value))),DD=t=>jh((e,n)=>ke(e)?ke(n):ke(n)?!1:t(e.value,n.value)),UD=t=>L(2,(e,n)=>ke(e)?!1:t(e.value,n)),zD=h0(),WD=UD(zD),KD=L(2,(t,e)=>ke(t)?!1:e(t.value)),qD=(...t)=>t,qh=t=>new Array(t),VD=L(2,(t,e)=>{const n=Math.max(1,Math.floor(t)),r=new Array(n);for(let o=0;o<n;o++)r[o]=e(o);return r}),Be=t=>Array.isArray(t)?t:Array.from(t),HD=t=>Array.isArray(t)?t:[t],GD=L(2,(t,{onEmpty:e,onNonEmpty:n})=>tn(t)?n(tr(t),Ws(t)):e()),Yd=L(2,(t,e)=>[e,...t]),JD=L(2,(t,e)=>[...t,e]),LO=L(2,(t,e)=>Be(t).concat(Be(e))),YD=Array.isArray,XD=t=>t.length===0,QD=XD,wd=$O,tn=$O,FO=(t,e)=>t<0||t>=e.length,ZD=(t,e)=>Math.floor(Math.min(Math.max(0,t),e.length)),tU=L(2,(t,e)=>{const n=Math.floor(e);return FO(n,t)?ut():Rt(t[n])}),BO=L(2,(t,e)=>{const n=Math.floor(e);if(FO(n,t))throw new Error(`Index ${n} out of bounds`);return t[n]}),Uc=tU(0),tr=BO(0),eU=t=>tn(t)?Rt(jO(t)):ut(),jO=t=>t[t.length-1],Ws=t=>t.slice(1),nU=(t,e)=>{let n=0;for(const r of t){if(!e(r,n))break;n++}return n},rU=L(2,(t,e)=>aU(t,nU(t,e))),oU=L(2,(t,e)=>{const n=Be(t);return n.slice(ZD(e,n),n.length)}),eE=t=>Array.from(t).reverse(),Jc=L(2,(t,e)=>{const n=Array.from(t);return n.sort(e),n}),nE=L(2,(t,e)=>iU(t,e,qD)),iU=L(3,(t,e,n)=>{const r=Be(t),o=Be(e);if(tn(r)&&tn(o)){const s=[n(tr(r),tr(o))],u=Math.min(r.length,o.length);for(let c=1;c<u;c++)s[c]=n(r[c],o[c]);return s}return[]}),sU=h0(),aU=L(2,(t,e)=>{const n=Array.from(t),r=Math.floor(e);return tn(n)?r>=1?uU(n,r):[[],n]:[n,[]]}),uU=L(2,(t,e)=>{const n=Math.max(1,Math.floor(e));return n>=t.length?[Ic(t),[]]:[Yd(t.slice(1,n),tr(t)),t.slice(n)]}),Ic=t=>t.slice(),cU=L(3,(t,e,n)=>{const r=Be(t),o=Be(e);return tn(r)?tn(o)?WO(n)(LO(r,o)):r:o}),Ed=L(2,(t,e)=>cU(t,e,sU)),tu=()=>[],ao=t=>[t],Wa=L(2,(t,e)=>t.map(e)),DO=L(2,(t,e)=>{if(QD(t))return[];const n=[];for(let r=0;r<t.length;r++){const o=e(t[r],r);for(let s=0;s<o.length;s++)n.push(o[s])}return n}),UO=DO(Fe),zO=L(3,(t,e,n)=>Be(t).reduce((r,o,s)=>n(r,o,s),e)),rE=(t,e)=>{const n=[];let r=t,o;for(;Pn(o=e(r));){const[s,u]=o.value;n.push(s),r=u}return n},S0=W3,WO=L(2,(t,e)=>{const n=Be(t);if(tn(n)){const r=[tr(n)],o=Ws(n);for(const s of o)r.every(u=>!e(s,u))&&r.push(s);return r}return[]}),lU=t=>WO(t,h0()),Iu=L(2,(t,e)=>Be(t).join(e)),KO=(t,e)=>{switch(e._tag){case"StringKeyword":case"TemplateLiteral":return Object.keys(t);case"SymbolKeyword":return Object.getOwnPropertySymbols(t);case"Refinement":return KO(t,e.from)}},Ka=t=>Object.keys(t).concat(Object.getOwnPropertySymbols(t)),qO=t=>{let e=!1,n;return()=>(e||(n=t(),e=!0),n)},fU=t=>{try{return t.toISOString()}catch{return String(t)}},Uo=(t,e=!0)=>{if(Array.isArray(t))return`[${t.map(n=>Uo(n,e)).join(",")}]`;if(G3(t))return fU(t);if(Ct(t,"toString")&&Au(t.toString)&&t.toString!==Object.prototype.toString)return t.toString();if(Vo(t))return JSON.stringify(t);if(zs(t)||t==null||u0(t)||Ny(t))return String(t);if(Uh(t))return String(t)+"n";if(gO(t))return`${t.constructor.name}(${Uo(Array.from(t),e)})`;try{e&&JSON.stringify(t);const n=`{${Ka(t).map(o=>`${Vo(o)?JSON.stringify(o):String(o)}:${Uo(t[o],!1)}`).join(",")}}`,r=t.constructor.name;return t.constructor!==Object.prototype.constructor?`${r}(${n})`:n}catch{return"<circular structure>"}},dU=t=>typeof t=="string"?JSON.stringify(t):String(t),w0=t=>Array.isArray(t),oE=t=>`[${dU(t)}]`,hU=t=>w0(t)?t.map(oE).join(""):oE(t),ta=(t,e,n,r)=>{let o=t;return e!==void 0&&(o+=`
details: ${e}`),r&&(o+=`
schema (${r._tag}): ${r}`),o},pU=t=>ta("Unsupported key schema",void 0,void 0,t),gU=t=>ta("Unsupported literal",`literal value: ${Uo(t)}`),iE=t=>ta("Duplicate index signature",`${t} index signature`),mU=ta("Unsupported index signature parameter","An index signature parameter type must be `string`, `symbol`, a template literal type or a refinement of the previous types"),yU=ta("Invalid element","A required element cannot follow an optional element. ts(1257)"),sE=t=>ta("Duplicate property signature transformation",`Duplicate key ${Uo(t)}`),vU=t=>ta("Duplicate property signature",`Duplicate key ${Uo(t)}`),eu=PD,Xd=t=>t.replace(/[/\\^$*+?.()|[\]{}]/g,"\\$&"),_U=Symbol.for("effect/annotation/Brand"),bU=Symbol.for("effect/annotation/SchemaId"),VO=Symbol.for("effect/annotation/Message"),E0=Symbol.for("effect/annotation/MissingMessage"),HO=Symbol.for("effect/annotation/Identifier"),Oi=Symbol.for("effect/annotation/Title"),Fy=Symbol.for("effect/annotation/AutoTitle"),Il=Symbol.for("effect/annotation/Description"),GO=Symbol.for("effect/annotation/Examples"),JO=Symbol.for("effect/annotation/Default"),YO=Symbol.for("effect/annotation/JSONSchema"),XO=Symbol.for("effect/annotation/Arbitrary"),QO=Symbol.for("effect/annotation/Pretty"),ZO=Symbol.for("effect/annotation/Equivalence"),SU=Symbol.for("effect/annotation/Documentation"),tA=Symbol.for("effect/annotation/Concurrency"),eA=Symbol.for("effect/annotation/Batching"),nA=Symbol.for("effect/annotation/ParseIssueTitle"),rA=Symbol.for("effect/annotation/ParseOptions"),oA=Symbol.for("effect/annotation/DecodingFallback"),iA=Symbol.for("effect/annotation/Surrogate"),wU=Symbol.for("effect/annotation/StableFilter"),Nn=L(2,(t,e)=>Object.prototype.hasOwnProperty.call(t.annotations,e)?Rt(t.annotations[e]):ut()),EU=Nn(_U),xU=Nn(VO),CU=Nn(E0),sA=Nn(Oi),aA=Nn(Fy),Vh=Nn(HO),uA=Nn(Il),TU=Nn(tA),OU=Nn(eA),AU=Nn(nA),kU=Nn(rA),IU=Nn(oA),cA=Nn(iA),RU=Nn(wU),$U=t=>KD(RU(t),e=>e===!0),lA=Symbol.for("effect/annotation/JSONIdentifier"),PU=Nn(lA),MU=t=>Zi(PU(t),()=>Vh(t)),NU=Symbol.for("effect/schema/ParseJson");class Hh{constructor(e,n,r,o={}){_(this,"typeParameters");_(this,"decodeUnknown");_(this,"encodeUnknown");_(this,"annotations");_(this,"_tag","Declaration");this.typeParameters=e,this.decodeUnknown=n,this.encodeUnknown=r,this.annotations=o}toString(){return xe(Ho(this),()=>"<declaration schema>")}toJSON(){return{_tag:this._tag,typeParameters:this.typeParameters.map(e=>e.toJSON()),annotations:He(this.annotations)}}}const Rl=t=>e=>e._tag===t;let By=class{constructor(e,n={}){_(this,"literal");_(this,"annotations");_(this,"_tag","Literal");this.literal=e,this.annotations=n}toString(){return xe(Ho(this),()=>Uo(this.literal))}toJSON(){return{_tag:this._tag,literal:Uh(this.literal)?String(this.literal):this.literal,annotations:He(this.annotations)}}};const aE=Rl("Literal");class LU{constructor(e,n={}){_(this,"symbol");_(this,"annotations");_(this,"_tag","UniqueSymbol");this.symbol=e,this.annotations=n}toString(){return xe(Ho(this),()=>Uo(this.symbol))}toJSON(){return{_tag:this._tag,symbol:String(this.symbol),annotations:He(this.annotations)}}}class FU{constructor(e={}){_(this,"annotations");_(this,"_tag","UndefinedKeyword");this.annotations=e}toString(){return na(this)}toJSON(){return{_tag:this._tag,annotations:He(this.annotations)}}}const jy=new FU({[Oi]:"undefined"});class BU{constructor(e={}){_(this,"annotations");_(this,"_tag","NeverKeyword");this.annotations=e}toString(){return na(this)}toJSON(){return{_tag:this._tag,annotations:He(this.annotations)}}}const x0=new BU({[Oi]:"never"});class jU{constructor(e={}){_(this,"annotations");_(this,"_tag","UnknownKeyword");this.annotations=e}toString(){return na(this)}toJSON(){return{_tag:this._tag,annotations:He(this.annotations)}}}const fA=new jU({[Oi]:"unknown"});class DU{constructor(e={}){_(this,"annotations");_(this,"_tag","AnyKeyword");this.annotations=e}toString(){return na(this)}toJSON(){return{_tag:this._tag,annotations:He(this.annotations)}}}const dA=new DU({[Oi]:"any"});class UU{constructor(e={}){_(this,"annotations");_(this,"_tag","StringKeyword");this.annotations=e}toString(){return na(this)}toJSON(){return{_tag:this._tag,annotations:He(this.annotations)}}}const zU=new UU({[Oi]:"string",[Il]:"a string"}),WU=Rl("StringKeyword");class KU{constructor(e={}){_(this,"annotations");_(this,"_tag","NumberKeyword");this.annotations=e}toString(){return na(this)}toJSON(){return{_tag:this._tag,annotations:He(this.annotations)}}}const qU=new KU({[Oi]:"number",[Il]:"a number"});class VU{constructor(e={}){_(this,"annotations");_(this,"_tag","BooleanKeyword");this.annotations=e}toString(){return na(this)}toJSON(){return{_tag:this._tag,annotations:He(this.annotations)}}}const HU=new VU({[Oi]:"boolean",[Il]:"a boolean"}),GU=Rl("SymbolKeyword");let Gh=class{constructor(e,n={}){_(this,"type");_(this,"annotations");this.type=e,this.annotations=n}toJSON(){return{type:this.type.toJSON(),annotations:He(this.annotations)}}toString(){return String(this.type)}};class ea extends Gh{constructor(n,r,o={}){super(n,o);_(this,"isOptional");this.isOptional=r}toJSON(){return{type:this.type.toJSON(),isOptional:this.isOptional,annotations:He(this.annotations)}}toString(){return String(this.type)+(this.isOptional?"?":"")}}const hA=t=>t.map(e=>e.type);class C0{constructor(e,n,r,o={}){_(this,"elements");_(this,"rest");_(this,"isReadonly");_(this,"annotations");_(this,"_tag","TupleType");this.elements=e,this.rest=n,this.isReadonly=r,this.annotations=o;let s=!1,u=!1;for(const c of e)if(c.isOptional)s=!0;else if(s){u=!0;break}if(u||s&&n.length>1)throw new Error(yU)}toString(){return xe(Ho(this),()=>JU(this))}toJSON(){return{_tag:this._tag,elements:this.elements.map(e=>e.toJSON()),rest:this.rest.map(e=>e.toJSON()),isReadonly:this.isReadonly,annotations:He(this.annotations)}}}const JU=t=>{const e=t.elements.map(String).join(", ");return GD(t.rest,{onEmpty:()=>`readonly [${e}]`,onNonEmpty:(n,r)=>{const o=String(n),s=o.includes(" | ")?`(${o})`:o;if(r.length>0){const u=r.map(String).join(", ");return t.elements.length>0?`readonly [${e}, ...${s}[], ${u}]`:`readonly [...${s}[], ${u}]`}else return t.elements.length>0?`readonly [${e}, ...${s}[]]`:`ReadonlyArray<${o}>`}})};class On extends ea{constructor(n,r,o,s,u){super(r,o,u);_(this,"name");_(this,"isReadonly");this.name=n,this.isReadonly=s}toString(){return(this.isReadonly?"readonly ":"")+String(this.name)+(this.isOptional?"?":"")+": "+this.type}toJSON(){return{name:String(this.name),type:this.type.toJSON(),isOptional:this.isOptional,isReadonly:this.isReadonly,annotations:He(this.annotations)}}}const pA=t=>{switch(t._tag){case"StringKeyword":case"SymbolKeyword":case"TemplateLiteral":return!0;case"Refinement":return pA(t.from)}return!1};class Jh{constructor(e,n,r){_(this,"type");_(this,"isReadonly");_(this,"parameter");if(this.type=n,this.isReadonly=r,pA(e))this.parameter=e;else throw new Error(mU)}toString(){return(this.isReadonly?"readonly ":"")+`[x: ${this.parameter}]: ${this.type}`}toJSON(){return{parameter:this.parameter.toJSON(),type:this.type.toJSON(),isReadonly:this.isReadonly}}}class Fs{constructor(e,n,r={}){_(this,"annotations");_(this,"_tag","TypeLiteral");_(this,"propertySignatures");_(this,"indexSignatures");this.annotations=r;const o={};for(let u=0;u<e.length;u++){const c=e[u].name;if(Object.prototype.hasOwnProperty.call(o,c))throw new Error(vU(c));o[c]=null}const s={string:!1,symbol:!1};for(let u=0;u<n.length;u++){const c=SA(n[u].parameter);if(WU(c)){if(s.string)throw new Error(iE("string"));s.string=!0}else if(GU(c)){if(s.symbol)throw new Error(iE("symbol"));s.symbol=!0}}this.propertySignatures=e,this.indexSignatures=n}toString(){return xe(Ho(this),()=>YU(this))}toJSON(){return{_tag:this._tag,propertySignatures:this.propertySignatures.map(e=>e.toJSON()),indexSignatures:this.indexSignatures.map(e=>e.toJSON()),annotations:He(this.annotations)}}}const uE=t=>t.map(String).join("; "),YU=t=>{if(t.propertySignatures.length>0){const e=t.propertySignatures.map(String).join("; ");return t.indexSignatures.length>0?`{ ${e}; ${uE(t.indexSignatures)} }`:`{ ${e} }`}else return t.indexSignatures.length>0?`{ ${uE(t.indexSignatures)} }`:"{}"},XU=Jc(MO(eu,t=>{switch(t._tag){case"AnyKeyword":return 0;case"UnknownKeyword":return 1;case"ObjectKeyword":return 2;case"StringKeyword":case"NumberKeyword":case"BooleanKeyword":case"BigIntKeyword":case"SymbolKeyword":return 3}return 4})),QU={string:"StringKeyword",number:"NumberKeyword",boolean:"BooleanKeyword",bigint:"BigIntKeyword"},gA=t=>DO(t,e=>mA(e)?gA(e.types):[e]),ZU=t=>{const e=XU(t),n=[],r={},o=[];for(const s of e)switch(s._tag){case"NeverKeyword":break;case"AnyKeyword":return[dA];case"UnknownKeyword":return[fA];case"ObjectKeyword":case"UndefinedKeyword":case"VoidKeyword":case"StringKeyword":case"NumberKeyword":case"BooleanKeyword":case"BigIntKeyword":case"SymbolKeyword":{r[s._tag]||(r[s._tag]=s,n.push(s));break}case"Literal":{const u=typeof s.literal;switch(u){case"string":case"number":case"bigint":case"boolean":{const c=QU[u];!r[c]&&!o.includes(s.literal)&&(o.push(s.literal),n.push(s));break}case"object":{o.includes(s.literal)||(o.push(s.literal),n.push(s));break}}break}case"UniqueSymbol":{!r.SymbolKeyword&&!o.includes(s.symbol)&&(o.push(s.symbol),n.push(s));break}case"TupleType":{r.ObjectKeyword||n.push(s);break}case"TypeLiteral":{s.propertySignatures.length===0&&s.indexSignatures.length===0?r["{}"]||(r["{}"]=s,n.push(s)):r.ObjectKeyword||n.push(s);break}default:n.push(s)}return n};var pi;let Po=(pi=class{constructor(e,n={}){_(this,"types");_(this,"annotations");_(this,"_tag","Union");this.types=e,this.annotations=n}toString(){return xe(Ho(this),()=>this.types.map(String).join(" | "))}toJSON(){return{_tag:this._tag,types:this.types.map(e=>e.toJSON()),annotations:He(this.annotations)}}},_(pi,"make",(e,n)=>T0(e)?new pi(e,n):e.length===1?e[0]:x0),_(pi,"unify",(e,n)=>pi.make(ZU(gA(e)),n)),pi);const tz=(t,e)=>t.map(e),T0=t=>t.length>1,mA=Rl("Union"),Dm=jt(Symbol.for("effect/Schema/AST/toJSONMemoMap"),()=>new WeakMap);class yA{constructor(e,n={}){_(this,"f");_(this,"annotations");_(this,"_tag","Suspend");this.f=e,this.annotations=n,this.f=qO(e)}toString(){return Ho(this).pipe(Zi(()=>ns(BD(this.f)(),e=>Ho(e))),xe(()=>"<suspended schema>"))}toJSON(){const e=this.f();let n=Dm.get(e);return n||(Dm.set(e,{_tag:this._tag}),n={_tag:this._tag,ast:e.toJSON(),annotations:He(this.annotations)},Dm.set(e,n),n)}}let ez=class{constructor(e,n,r={}){_(this,"from");_(this,"filter");_(this,"annotations");_(this,"_tag","Refinement");this.from=e,this.filter=n,this.annotations=r}toString(){return Vh(this).pipe(xe(()=>Ie(wA(this),{onNone:()=>`{ ${this.from} | filter }`,onSome:e=>O0(this.from)?String(this.from)+" & "+e:e})))}toJSON(){return{_tag:this._tag,from:this.from.toJSON(),annotations:He(this.annotations)}}};const O0=Rl("Refinement"),Um={};let A0=class{constructor(e,n,r,o={}){_(this,"from");_(this,"to");_(this,"transformation");_(this,"annotations");_(this,"_tag","Transformation");this.from=e,this.to=n,this.transformation=r,this.annotations=o}toString(){return xe(Ho(this),()=>`(${String(this.from)} <-> ${String(this.to)})`)}toJSON(){return{_tag:this._tag,from:this.from.toJSON(),to:this.to.toJSON(),annotations:He(this.annotations)}}};class nz{constructor(e,n){_(this,"decode");_(this,"encode");_(this,"_tag","FinalTransformation");this.decode=e,this.encode=n}}class rz{constructor(){_(this,"_tag","ComposeTransformation")}}const oz=new rz;let iz=class{constructor(e,n,r,o){_(this,"from");_(this,"to");_(this,"decode");_(this,"encode");this.from=e,this.to=n,this.decode=r,this.encode=o}};class sz{constructor(e){_(this,"propertySignatureTransformations");_(this,"_tag","TypeLiteralTransformation");this.propertySignatureTransformations=e;const n={},r={};for(const o of e){const s=o.from;if(n[s])throw new Error(sE(s));n[s]=!0;const u=o.to;if(r[u])throw new Error(sE(u));r[u]=!0}}}const nu=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={...t.annotations,...e},o=cA(t);return Pn(o)&&(r[iA]=nu(o.value,e)),n.annotations.value=r,Object.create(Object.getPrototypeOf(t),n)},az="[\\s\\S]*",uz="[+-]?\\d*\\.?\\d+(?:[Ee][+-]?\\d+)?",vA=(t,e)=>{switch(t._tag){case"Literal":return Xd(String(t.literal));case"StringKeyword":return az;case"NumberKeyword":return uz;case"TemplateLiteral":return _A(t);case"Union":return t.types.map(n=>vA(n)).join("|")}},cz=(t,e,n,r)=>mA(t)?`(${e})`:e,_A=(t,e,n)=>{let r="";if(t.head!==""){const o=Xd(t.head);r+=o}for(const o of t.spans){const s=vA(o.type);if(r+=cz(o.type,s),o.literal!==""){const u=Xd(o.literal);r+=u}}return r},lz=t=>new RegExp(`^${_A(t)}$`),cE=(t,e)=>{const n=[],r=[],o=s=>{switch(s._tag){case"NeverKeyword":break;case"StringKeyword":case"SymbolKeyword":case"TemplateLiteral":case"Refinement":r.push(new Jh(s,e,!0));break;case"Literal":if(Vo(s.literal)||zs(s.literal))n.push(new On(s.literal,e,!1,!0));else throw new Error(gU(s.literal));break;case"Enums":{for(const[u,c]of s.enums)n.push(new On(c,e,!1,!0));break}case"UniqueSymbol":n.push(new On(s.symbol,e,!1,!0));break;case"Union":s.types.forEach(o);break;default:throw new Error(pU(s))}};return o(t),{propertySignatures:n,indexSignatures:r}},bA=t=>e=>{let n;for(const r of t)Object.prototype.hasOwnProperty.call(e.annotations,r)&&(n===void 0&&(n={}),n[r]=e.annotations[r]);return n},fz=bA([GO,JO,YO,XO,QO,ZO]),Qe=t=>{switch(t._tag){case"Declaration":{const e=Wr(t.typeParameters,Qe);return e===t.typeParameters?t:new Hh(e,t.decodeUnknown,t.encodeUnknown,t.annotations)}case"TupleType":{const e=Wr(t.elements,o=>{const s=Qe(o.type);return s===o.type?o:new ea(s,o.isOptional)}),n=hA(t.rest),r=Wr(n,Qe);return e===t.elements&&r===n?t:new C0(e,r.map(o=>new Gh(o)),t.isReadonly,t.annotations)}case"TypeLiteral":{const e=Wr(t.propertySignatures,r=>{const o=Qe(r.type);return o===r.type?r:new On(r.name,o,r.isOptional,r.isReadonly)}),n=Wr(t.indexSignatures,r=>{const o=Qe(r.type);return o===r.type?r:new Jh(r.parameter,o,r.isReadonly)});return e===t.propertySignatures&&n===t.indexSignatures?t:new Fs(e,n,t.annotations)}case"Union":{const e=Wr(t.types,Qe);return e===t.types?t:Po.make(e,t.annotations)}case"Suspend":return new yA(()=>Qe(t.f()),t.annotations);case"Refinement":{const e=Qe(t.from);return e===t.from?t:new ez(e,t.filter,t.annotations)}case"Transformation":{const e=fz(t);return Qe(e!==void 0?nu(t.to,e):t.to)}}return t},ka=t=>Ie(MU(t),{onNone:()=>{},onSome:e=>({[lA]:e})});function Wr(t,e){let n=!1;const r=qh(t.length);for(let o=0;o<t.length;o++){const s=t[o],u=e(s);u!==s&&(n=!0),r[o]=u}return n?r:t}const ko=(t,e)=>{switch(t._tag){case"Declaration":{const n=Wr(t.typeParameters,r=>ko(r));return n===t.typeParameters?t:new Hh(n,t.decodeUnknown,t.encodeUnknown,t.annotations)}case"TupleType":{const n=Wr(t.elements,s=>{const u=ko(s.type);return u===s.type?s:new ea(u,s.isOptional)}),r=hA(t.rest),o=Wr(r,s=>ko(s));return n===t.elements&&o===r?t:new C0(n,o.map(s=>new Gh(s)),t.isReadonly,ka(t))}case"TypeLiteral":{const n=Wr(t.propertySignatures,o=>{const s=ko(o.type);return s===o.type?o:new On(o.name,s,o.isOptional,o.isReadonly)}),r=Wr(t.indexSignatures,o=>{const s=ko(o.type);return s===o.type?o:new Jh(o.parameter,s,o.isReadonly)});return n===t.propertySignatures&&r===t.indexSignatures?t:new Fs(n,r,ka(t))}case"Union":{const n=Wr(t.types,r=>ko(r));return n===t.types?t:Po.make(n,ka(t))}case"Suspend":return new yA(()=>ko(t.f()),ka(t));case"Refinement":{const n=ko(t.from),r=ka(t);return r?nu(n,r):n}case"Transformation":{const n=ka(t);return ko(n?nu(t.from,n):t.from)}}return t},lE=t=>ko(t),He=t=>{const e={};for(const n of Object.getOwnPropertySymbols(t))e[String(n)]=t[n];return e},SA=t=>{switch(t._tag){case"StringKeyword":case"SymbolKeyword":case"TemplateLiteral":return t;case"Refinement":return SA(t.from)}},dz=(t,e)=>new A0(t,e,oz),na=t=>xe(Ho(t),()=>t._tag);function hz(t){return Ie(EU(t),{onNone:()=>"",onSome:e=>e.map(n=>` & Brand<${Uo(n)}>`).join("")})}const wA=t=>sA(t).pipe(Zi(()=>uA(t)),Zi(()=>aA(t)),NO(e=>e+hz(t))),Ho=t=>Zi(Vh(t),()=>wA(t)),pz=Symbol.for("effect/Context/Tag"),Qd=Symbol.for("effect/Context/Reference"),gz="effect/STM",mz=Symbol.for(gz),EA={...Ol,_op:"Tag",[mz]:Za,[pz]:{_Service:t=>t,_Identifier:t=>t},toString(){return Ze(this.toJSON())},toJSON(){return{_id:"Tag",key:this.key,stack:this.stack}},[ve](){return this.toJSON()},of(t){return t},context(t){return CA(this,t)}},yz={...EA,[Qd]:Qd},vz=t=>{const e=Error.stackTraceLimit;Error.stackTraceLimit=2;const n=new Error;Error.stackTraceLimit=e;const r=Object.create(EA);return Object.defineProperty(r,"stack",{get(){return n.stack}}),r.key=t,r},_z=()=>(t,e)=>{const n=Error.stackTraceLimit;Error.stackTraceLimit=2;const r=new Error;Error.stackTraceLimit=n;function o(){}return Object.setPrototypeOf(o,yz),o.key=t,o.defaultValue=e.defaultValue,Object.defineProperty(o,"stack",{get(){return r.stack}}),o},xA=Symbol.for("effect/Context"),bz={[xA]:{_Services:t=>t},[Ot](t){if(wz(t)&&this.unsafeMap.size===t.unsafeMap.size){for(const e of this.unsafeMap.keys())if(!t.unsafeMap.has(e)||!At(this.unsafeMap.get(e),t.unsafeMap.get(e)))return!1;return!0}return!1},[It](){return Ce(this,d0(this.unsafeMap.size))},pipe(){return _t(this,arguments)},toString(){return Ze(this.toJSON())},toJSON(){return{_id:"Context",services:Array.from(this.unsafeMap).map(Ve)}},[ve](){return this.toJSON()}},ru=t=>{const e=Object.create(bz);return e.unsafeMap=t,e},Sz=t=>{const e=new Error(`Service not found${t.key?`: ${String(t.key)}`:""}`);if(t.stack){const n=t.stack.split(`
`);if(n.length>2){const r=n[2].match(/at (.*)/);r&&(e.message=e.message+` (defined at ${r[1]})`)}}if(e.stack){const n=e.stack.split(`
`);n.splice(1,3),e.stack=n.join(`
`)}return e},wz=t=>Ct(t,xA),Ez=t=>Ct(t,Qd),xz=ru(new Map),Cz=()=>xz,CA=(t,e)=>ru(new Map([[t.key,e]])),Tz=L(3,(t,e,n)=>{const r=new Map(t.unsafeMap);return r.set(e.key,n),ru(r)}),zm=jt("effect/Context/defaultValueCache",()=>new Map),k0=t=>{if(zm.has(t.key))return zm.get(t.key);const e=t.defaultValue();return zm.set(t.key,e),e},Oz=(t,e)=>t.unsafeMap.has(e.key)?t.unsafeMap.get(e.key):k0(e),TA=L(2,(t,e)=>{if(!t.unsafeMap.has(e.key)){if(Qd in e)return k0(e);throw Sz(e)}return t.unsafeMap.get(e.key)}),Az=TA,kz=L(2,(t,e)=>t.unsafeMap.has(e.key)?Jd(t.unsafeMap.get(e.key)):Ez(e)?Jd(k0(e)):y0),Iz=L(2,(t,e)=>{const n=new Map(t.unsafeMap);for(const[r,o]of e.unsafeMap)n.set(r,o);return ru(n)}),ra=vz,I0=Cz,Rz=CA,bc=Tz,OA=Az,AA=TA,$l=kz,kA=Iz,IA=_z,RA=Symbol.for("effect/Chunk");function $z(t,e,n,r,o){for(let s=e;s<Math.min(t.length,e+o);s++)n[r+s-e]=t[s];return n}const $A=[],Pz=t=>jh((e,n)=>e.length===n.length&&Bs(e).every((r,o)=>t(r,qa(n,o)))),Mz=Pz(At),Nz={[RA]:{_A:t=>t},toString(){return Ze(this.toJSON())},toJSON(){return{_id:"Chunk",values:Bs(this).map(Ve)}},[ve](){return this.toJSON()},[Ot](t){return PA(t)&&Mz(this,t)},[It](){return Ce(this,Cl(Bs(this)))},[Symbol.iterator](){switch(this.backing._tag){case"IArray":return this.backing.array[Symbol.iterator]();case"IEmpty":return $A[Symbol.iterator]();default:return Bs(this)[Symbol.iterator]()}},pipe(){return _t(this,arguments)}},We=t=>{const e=Object.create(Nz);switch(e.backing=t,t._tag){case"IEmpty":{e.length=0,e.depth=0,e.left=e,e.right=e;break}case"IConcat":{e.length=t.left.length+t.right.length,e.depth=1+Math.max(t.left.depth,t.right.depth),e.left=t.left,e.right=t.right;break}case"IArray":{e.length=t.array.length,e.depth=0,e.left=Mo,e.right=Mo;break}case"ISingleton":{e.length=1,e.depth=0,e.left=Mo,e.right=Mo;break}case"ISlice":{e.length=t.length,e.depth=t.chunk.depth+1,e.left=Mo,e.right=Mo;break}}return e},PA=t=>Ct(t,RA),Mo=We({_tag:"IEmpty"}),_i=()=>Mo,Wm=(...t)=>Bz(t),_r=t=>We({_tag:"ISingleton",a:t}),MA=t=>PA(t)?t:Yh(Be(t)),Dy=(t,e,n)=>{switch(t.backing._tag){case"IArray":{$z(t.backing.array,0,e,n,t.length);break}case"IConcat":{Dy(t.left,e,n),Dy(t.right,e,n+t.left.length);break}case"ISingleton":{e[n]=t.backing.a;break}case"ISlice":{let r=0,o=n;for(;r<t.length;)e[o]=qa(t,r),r+=1,o+=1;break}}},Lz=t=>{switch(t.backing._tag){case"IEmpty":return $A;case"IArray":return t.backing.array;default:{const e=new Array(t.length);return Dy(t,e,0),t.backing={_tag:"IArray",array:e},t.left=Mo,t.right=Mo,t.depth=0,e}}},Bs=Lz,Fz=t=>{switch(t.backing._tag){case"IEmpty":case"ISingleton":return t;case"IArray":return We({_tag:"IArray",array:eE(t.backing.array)});case"IConcat":return We({_tag:"IConcat",left:ou(t.backing.right),right:ou(t.backing.left)});case"ISlice":return Yh(eE(Bs(t)))}},ou=Fz,Yh=t=>t.length===0?_i():t.length===1?_r(t[0]):We({_tag:"IArray",array:t}),Bz=t=>Yh(t),qa=L(2,(t,e)=>{switch(t.backing._tag){case"IEmpty":throw new Error("Index out of bounds");case"ISingleton":{if(e!==0)throw new Error("Index out of bounds");return t.backing.a}case"IArray":{if(e>=t.length||e<0)throw new Error("Index out of bounds");return t.backing.array[e]}case"IConcat":return e<t.left.length?qa(t.left,e):qa(t.right,e-t.left.length);case"ISlice":return qa(t.backing.chunk,e+t.backing.offset)}}),jz=L(2,(t,e)=>lo(t,_r(e))),yo=L(2,(t,e)=>lo(_r(e),t)),Uy=L(2,(t,e)=>{if(e<=0)return t;if(e>=t.length)return Mo;switch(t.backing._tag){case"ISlice":return We({_tag:"ISlice",chunk:t.backing.chunk,offset:t.backing.offset+e,length:t.backing.length-e});case"IConcat":return e>t.left.length?Uy(t.right,e-t.left.length):We({_tag:"IConcat",left:Uy(t.left,e),right:t.right});default:return We({_tag:"ISlice",chunk:t,offset:e,length:t.length-e})}}),lo=L(2,(t,e)=>{if(t.backing._tag==="IEmpty")return e;if(e.backing._tag==="IEmpty")return t;const n=e.depth-t.depth;if(Math.abs(n)<=1)return We({_tag:"IConcat",left:t,right:e});if(n<-1)if(t.left.depth>=t.right.depth){const r=lo(t.right,e);return We({_tag:"IConcat",left:t.left,right:r})}else{const r=lo(t.right.right,e);if(r.depth===t.depth-3){const o=We({_tag:"IConcat",left:t.right.left,right:r});return We({_tag:"IConcat",left:t.left,right:o})}else{const o=We({_tag:"IConcat",left:t.left,right:t.right.left});return We({_tag:"IConcat",left:o,right:r})}}else if(e.right.depth>=e.left.depth){const r=lo(t,e.left);return We({_tag:"IConcat",left:r,right:e.right})}else{const r=lo(t,e.left.left);if(r.depth===e.depth-3){const o=We({_tag:"IConcat",left:r,right:e.left.right});return We({_tag:"IConcat",left:o,right:e.right})}else{const o=We({_tag:"IConcat",left:e.left.right,right:e.right});return We({_tag:"IConcat",left:r,right:o})}}}),Dz=t=>t.length===0,iu=t=>t.length>0,NA=t=>qa(t,0),su=NA,Rs=t=>Uy(t,1),zy=Symbol.for("effect/Duration"),LA=BigInt(0),fE=BigInt(24),Yf=BigInt(60),Wy=BigInt(1e3),dE=BigInt(1e6),hE=BigInt(1e9),Uz=/^(-?\d+(?:\.\d+)?)\s+(nanos?|micros?|millis?|seconds?|minutes?|hours?|days?|weeks?)$/,bi=t=>{if(FA(t))return t;if(zs(t))return Ky(t);if(Uh(t))return Km(t);if(Array.isArray(t)&&t.length===2&&t.every(zs))return t[0]===-1/0||t[1]===-1/0||Number.isNaN(t[0])||Number.isNaN(t[1])?BA:t[0]===1/0||t[1]===1/0?qz:Km(BigInt(Math.round(t[0]*1e9))+BigInt(Math.round(t[1])));if(Vo(t)){const e=Uz.exec(t);if(e){const[n,r,o]=e,s=Number(r);switch(o){case"nano":case"nanos":return Km(BigInt(r));case"micro":case"micros":return Vz(BigInt(r));case"milli":case"millis":return Ky(s);case"second":case"seconds":return Hz(s);case"minute":case"minutes":return Gz(s);case"hour":case"hours":return Jz(s);case"day":case"days":return Yz(s);case"week":case"weeks":return Xz(s)}}}throw new Error("Invalid DurationInput")},pE={_tag:"Millis",millis:0},zz={_tag:"Infinity"},Wz={[zy]:zy,[It](){return Ce(this,vO(this.value))},[Ot](t){return FA(t)&&rW(this,t)},toString(){return`Duration(${iW(this)})`},toJSON(){switch(this.value._tag){case"Millis":return{_id:"Duration",_tag:"Millis",millis:this.value.millis};case"Nanos":return{_id:"Duration",_tag:"Nanos",hrtime:Zz(this)};case"Infinity":return{_id:"Duration",_tag:"Infinity"}}},[ve](){return this.toJSON()},pipe(){return _t(this,arguments)}},Yo=t=>{const e=Object.create(Wz);return zs(t)?isNaN(t)||t<=0?e.value=pE:Number.isFinite(t)?Number.isInteger(t)?e.value={_tag:"Millis",millis:t}:e.value={_tag:"Nanos",nanos:BigInt(Math.round(t*1e6))}:e.value=zz:t<=LA?e.value=pE:e.value={_tag:"Nanos",nanos:t},e},FA=t=>Ct(t,zy),Kz=t=>{switch(t.value._tag){case"Millis":return t.value.millis===0;case"Nanos":return t.value.nanos===LA;case"Infinity":return!1}},BA=Yo(0),qz=Yo(1/0),Km=t=>Yo(t),Vz=t=>Yo(t*Wy),Ky=t=>Yo(t),Hz=t=>Yo(t*1e3),Gz=t=>Yo(t*6e4),Jz=t=>Yo(t*36e5),Yz=t=>Yo(t*864e5),Xz=t=>Yo(t*6048e5),qy=t=>tW(t,{onMillis:e=>e,onNanos:e=>Number(e)/1e6}),Qz=t=>{const e=bi(t);switch(e.value._tag){case"Infinity":throw new Error("Cannot convert infinite duration to nanos");case"Nanos":return e.value.nanos;case"Millis":return BigInt(Math.round(e.value.millis*1e6))}},Zz=t=>{const e=bi(t);switch(e.value._tag){case"Infinity":return[1/0,0];case"Nanos":return[Number(e.value.nanos/hE),Number(e.value.nanos%hE)];case"Millis":return[Math.floor(e.value.millis/1e3),Math.round(e.value.millis%1e3*1e6)]}},tW=L(2,(t,e)=>{const n=bi(t);switch(n.value._tag){case"Nanos":return e.onNanos(n.value.nanos);case"Infinity":return e.onMillis(1/0);case"Millis":return e.onMillis(n.value.millis)}}),jA=L(3,(t,e,n)=>{const r=bi(t),o=bi(e);if(r.value._tag==="Infinity"||o.value._tag==="Infinity")return n.onMillis(qy(r),qy(o));if(r.value._tag==="Nanos"||o.value._tag==="Nanos"){const s=r.value._tag==="Nanos"?r.value.nanos:BigInt(Math.round(r.value.millis*1e6)),u=o.value._tag==="Nanos"?o.value.nanos:BigInt(Math.round(o.value.millis*1e6));return n.onNanos(s,u)}return n.onMillis(r.value.millis,o.value.millis)}),eW=(t,e)=>jA(t,e,{onMillis:(n,r)=>n===r,onNanos:(n,r)=>n===r}),nW=L(2,(t,e)=>jA(t,e,{onMillis:(n,r)=>n>=r,onNanos:(n,r)=>n>=r})),rW=L(2,(t,e)=>eW(bi(t),bi(e))),oW=t=>{const e=bi(t);if(e.value._tag==="Infinity")return{days:1/0,hours:1/0,minutes:1/0,seconds:1/0,millis:1/0,nanos:1/0};const n=Qz(e),r=n/dE,o=r/Wy,s=o/Yf,u=s/Yf,c=u/fE;return{days:Number(c),hours:Number(u%fE),minutes:Number(s%Yf),seconds:Number(o%Yf),millis:Number(r%Wy),nanos:Number(n%dE)}},iW=t=>{const e=bi(t);if(e.value._tag==="Infinity")return"Infinity";if(Kz(e))return"0";const n=oW(e),r=[];return n.days!==0&&r.push(`${n.days}d`),n.hours!==0&&r.push(`${n.hours}h`),n.minutes!==0&&r.push(`${n.minutes}m`),n.seconds!==0&&r.push(`${n.seconds}s`),n.millis!==0&&r.push(`${n.millis}ms`),n.nanos!==0&&r.push(`${n.nanos}ns`),r.join(" ")},Ks=5,R0=Math.pow(2,Ks),sW=R0-1,aW=R0/2,uW=R0/4;function cW(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),t=t+(t>>4)&252645135,t+=t>>8,t+=t>>16,t&127}function au(t,e){return e>>>t&sW}function Ua(t){return 1<<t}function DA(t,e){return cW(t&e-1)}const lW=(t,e)=>({value:t,previous:e});function Va(t,e,n,r){let o=r;if(!t){const s=r.length;o=new Array(s);for(let u=0;u<s;++u)o[u]=r[u]}return o[e]=n,o}function UA(t,e,n){const r=n.length-1;let o=0,s=0,u=n;if(t)o=s=e;else for(u=new Array(r);o<e;)u[s++]=n[o++];for(++o;o<=r;)u[s++]=n[o++];return t&&(u.length=r),u}function fW(t,e,n,r){const o=r.length;if(t){let f=o;for(;f>=e;)r[f--]=r[f];return r[e]=n,r}let s=0,u=0;const c=new Array(o+1);for(;s<e;)c[u++]=r[s++];for(c[e]=n;s<o;)c[++u]=r[s++];return c}class rs{constructor(){_(this,"_tag","EmptyNode")}modify(e,n,r,o,s,u){const c=r(ut());return ke(c)?new rs:(++u.value,new js(e,o,s,c))}}function fo(t){return l0(t,"EmptyNode")}function dW(t){return fo(t)||t._tag==="LeafNode"||t._tag==="CollisionNode"}function Xh(t,e){return fo(t)?!1:e===t.edit}class js{constructor(e,n,r,o){_(this,"edit");_(this,"hash");_(this,"key");_(this,"value");_(this,"_tag","LeafNode");this.edit=e,this.hash=n,this.key=r,this.value=o}modify(e,n,r,o,s,u){if(At(s,this.key)){const f=r(this.value);return f===this.value?this:ke(f)?(--u.value,new rs):Xh(this,e)?(this.value=f,this):new js(e,o,s,f)}const c=r(ut());return ke(c)?this:(++u.value,zA(e,n,this.hash,this,o,new js(e,o,s,c)))}}class $0{constructor(e,n,r){_(this,"edit");_(this,"hash");_(this,"children");_(this,"_tag","CollisionNode");this.edit=e,this.hash=n,this.children=r}modify(e,n,r,o,s,u){if(o===this.hash){const f=Xh(this,e),d=this.updateCollisionList(f,e,this.hash,this.children,r,s,u);return d===this.children?this:d.length>1?new $0(e,this.hash,d):d[0]}const c=r(ut());return ke(c)?this:(++u.value,zA(e,n,this.hash,this,o,new js(e,o,s,c)))}updateCollisionList(e,n,r,o,s,u,c){const f=o.length;for(let h=0;h<f;++h){const g=o[h];if("key"in g&&At(u,g.key)){const y=g.value,v=s(y);return v===y?o:ke(v)?(--c.value,UA(e,h,o)):Va(e,h,new js(n,r,u,v),o)}}const d=s(ut());return ke(d)?o:(++c.value,Va(e,f,new js(n,r,u,d),o))}}class uu{constructor(e,n,r){_(this,"edit");_(this,"mask");_(this,"children");_(this,"_tag","IndexedNode");this.edit=e,this.mask=n,this.children=r}modify(e,n,r,o,s,u){const c=this.mask,f=this.children,d=au(n,o),h=Ua(d),g=DA(c,h),y=c&h,v=Xh(this,e);if(!y){const N=new rs().modify(e,n+Ks,r,o,s,u);return N?f.length>=aW?pW(e,d,N,c,f):new uu(e,c|h,fW(v,g,N,f)):this}const S=f[g],x=S.modify(e,n+Ks,r,o,s,u);if(S===x)return this;let T=c,O;if(fo(x)){if(T&=~h,!T)return new rs;if(f.length<=2&&dW(f[g^1]))return f[g^1];O=UA(v,g,f)}else O=Va(v,g,x,f);return v?(this.mask=T,this.children=O,this):new uu(e,T,O)}}class P0{constructor(e,n,r){_(this,"edit");_(this,"size");_(this,"children");_(this,"_tag","ArrayNode");this.edit=e,this.size=n,this.children=r}modify(e,n,r,o,s,u){let c=this.size;const f=this.children,d=au(n,o),h=f[d],g=(h||new rs).modify(e,n+Ks,r,o,s,u);if(h===g)return this;const y=Xh(this,e);let v;if(fo(h)&&!fo(g))++c,v=Va(y,d,g,f);else if(!fo(h)&&fo(g)){if(--c,c<=uW)return hW(e,c,d,f);v=Va(y,d,new rs,f)}else v=Va(y,d,g,f);return y?(this.size=c,this.children=v,this):new P0(e,c,v)}}function hW(t,e,n,r){const o=new Array(e-1);let s=0,u=0;for(let c=0,f=r.length;c<f;++c)if(c!==n){const d=r[c];d&&!fo(d)&&(o[s++]=d,u|=1<<c)}return new uu(t,u,o)}function pW(t,e,n,r,o){const s=[];let u=r,c=0;for(let f=0;u;++f)u&1&&(s[f]=o[c++]),u>>>=1;return s[e]=n,new P0(t,c+1,s)}function gW(t,e,n,r,o,s){if(n===o)return new $0(t,n,[s,r]);const u=au(e,n),c=au(e,o);if(u===c)return f=>new uu(t,Ua(u)|Ua(c),[f]);{const f=u<c?[r,s]:[s,r];return new uu(t,Ua(u)|Ua(c),f)}}function zA(t,e,n,r,o,s){let u,c=e;for(;;){const f=gW(t,c,n,r,o,s);if(typeof f=="function")u=lW(f,u),c=c+Ks;else{let d=f;for(;u!=null;)d=u.value(d),u=u.previous;return d}}}const WA="effect/HashMap",Vy=Symbol.for(WA),mW={[Vy]:Vy,[Symbol.iterator](){return new Qh(this,(t,e)=>[t,e])},[It](){let t=ct(WA);for(const e of this)t^=H(ct(e[0]),Bt(ct(e[1])));return Ce(this,t)},[Ot](t){if(_W(t)){if(t._size!==this._size)return!1;for(const e of this){const n=H(t,N0(e[0],ct(e[0])));if(ke(n))return!1;if(!At(e[1],n.value))return!1}return!0}return!1},toString(){return Ze(this.toJSON())},toJSON(){return{_id:"HashMap",values:Array.from(this).map(Ve)}},[ve](){return this.toJSON()},pipe(){return _t(this,arguments)}},M0=(t,e,n,r)=>{const o=Object.create(mW);return o._editable=t,o._edit=e,o._root=n,o._size=r,o};class Qh{constructor(e,n){_(this,"map");_(this,"f");_(this,"v");this.map=e,this.f=n,this.v=KA(this.map._root,this.f,void 0)}next(){if(ke(this.v))return{done:!0,value:void 0};const e=this.v.value;return this.v=Zd(e.cont),{done:!1,value:e.value}}[Symbol.iterator](){return new Qh(this.map,this.f)}}const Zd=t=>t?qA(t[0],t[1],t[2],t[3],t[4]):ut(),KA=(t,e,n=void 0)=>{switch(t._tag){case"LeafNode":return Pn(t.value)?Rt({value:e(t.key,t.value.value),cont:n}):Zd(n);case"CollisionNode":case"ArrayNode":case"IndexedNode":{const r=t.children;return qA(r.length,r,0,e,n)}default:return Zd(n)}},qA=(t,e,n,r,o)=>{for(;n<t;){const s=e[n++];if(s&&!fo(s))return KA(s,r,[t,e,n,r,o])}return Zd(o)},yW=M0(!1,0,new rs,0),Zh=()=>yW,vW=t=>{const e=HA(Zh());for(const n of t)Yc(e,n[0],n[1]);return xW(e)},_W=t=>Ct(t,Vy),bW=t=>t&&fo(t._root),SW=L(2,(t,e)=>N0(t,e,ct(e))),N0=L(3,(t,e,n)=>{let r=t._root,o=0;for(;;)switch(r._tag){case"LeafNode":return At(e,r.key)?r.value:ut();case"CollisionNode":{if(n===r.hash){const s=r.children;for(let u=0,c=s.length;u<c;++u){const f=s[u];if("key"in f&&At(e,f.key))return f.value}}return ut()}case"IndexedNode":{const s=au(o,n),u=Ua(s);if(r.mask&u){r=r.children[DA(r.mask,u)],o+=Ks;break}return ut()}case"ArrayNode":{if(r=r.children[au(o,n)],r){o+=Ks;break}return ut()}default:return ut()}}),wW=L(2,(t,e)=>Pn(N0(t,e,ct(e)))),Yc=L(3,(t,e,n)=>L0(t,e,()=>Rt(n))),EW=L(3,(t,e,n)=>t._editable?(t._root=e,t._size=n,t):e===t._root?t:M0(t._editable,t._edit,e,n)),VA=t=>new Qh(t,e=>e),Hy=t=>t._size,HA=t=>M0(!0,t._edit+1,t._root,t._size),xW=t=>(t._editable=!1,t),L0=L(3,(t,e,n)=>CW(t,e,ct(e),n)),CW=L(4,(t,e,n,r)=>{const o={value:t._size},s=t._root.modify(t._editable?t._edit:NaN,0,r,n,e,o);return H(t,EW(s,o.value))}),gE=L(2,(t,e)=>L0(t,e,ut)),TW=L(2,(t,e)=>tp(t,Zh(),(n,r,o)=>Yc(n,o,e(r,o)))),OW=L(2,(t,e)=>tp(t,void 0,(n,r,o)=>e(r,o))),tp=L(3,(t,e,n)=>{const r=t._root;if(r._tag==="LeafNode")return Pn(r.value)?n(e,r.value.value,r.key):e;if(r._tag==="EmptyNode")return e;const o=[r.children];let s;for(;s=o.pop();)for(let u=0,c=s.length;u<c;){const f=s[u++];f&&!fo(f)&&(f._tag==="LeafNode"?Pn(f.value)&&(e=n(e,f.value.value,f.key)):o.push(f.children))}return e}),GA="effect/HashSet",Gy=Symbol.for(GA),AW={[Gy]:Gy,[Symbol.iterator](){return VA(this._keyMap)},[It](){return Ce(this,Bt(ct(this._keyMap))(ct(GA)))},[Ot](t){return kW(t)?Hy(this._keyMap)===Hy(t._keyMap)&&At(this._keyMap,t._keyMap):!1},toString(){return Ze(this.toJSON())},toJSON(){return{_id:"HashSet",values:Array.from(this).map(Ve)}},[ve](){return this.toJSON()},pipe(){return _t(this,arguments)}},ep=t=>{const e=Object.create(AW);return e._keyMap=t,e},kW=t=>Ct(t,Gy),IW=ep(Zh()),np=()=>IW,RW=t=>{const e=F0(np());for(const n of t)Xc(e,n);return B0(e)},$W=(...t)=>{const e=F0(np());for(const n of t)Xc(e,n);return B0(e)},PW=L(2,(t,e)=>wW(t._keyMap,e)),MW=t=>Hy(t._keyMap),F0=t=>ep(HA(t._keyMap)),B0=t=>(t._keyMap._editable=!1,t),JA=L(2,(t,e)=>{const n=F0(t);return e(n),B0(n)}),Xc=L(2,(t,e)=>t._keyMap._editable?(Yc(e,!0)(t._keyMap),t):ep(Yc(e,!0)(t._keyMap))),YA=L(2,(t,e)=>t._keyMap._editable?(gE(e)(t._keyMap),t):ep(gE(e)(t._keyMap))),NW=L(2,(t,e)=>JA(t,n=>{for(const r of e)YA(n,r)})),LW=L(2,(t,e)=>JA(np(),n=>{FW(t,r=>Xc(n,r));for(const r of e)Xc(n,r)})),FW=L(2,(t,e)=>OW(t._keyMap,(n,r)=>e(r))),BW=L(3,(t,e,n)=>tp(t._keyMap,e,(r,o,s)=>n(r,s))),qs=np,jW=RW,j0=$W,DW=PW,XA=MW,zc=Xc,QA=YA,mE=NW,Qc=LW,th=BW,yE=Symbol.for("effect/MutableRef"),UW={[yE]:yE,toString(){return Ze(this.toJSON())},toJSON(){return{_id:"MutableRef",current:Ve(this.current)}},[ve](){return this.toJSON()},pipe(){return _t(this,arguments)}},ZA=t=>{const e=Object.create(UW);return e.current=t,e},rp=t=>t.current,tk=L(2,(t,e)=>(t.current=e,t)),D0="effect/FiberId",Zc=Symbol.for(D0),eh="None",Jy="Runtime",zW="Composite",WW=Me(`${D0}-${eh}`);var pT;let KW=class{constructor(){_(this,pT,Zc);_(this,"_tag",eh);_(this,"id",-1);_(this,"startTimeMillis",-1)}[(pT=Zc,It)](){return WW}[Ot](e){return ek(e)&&e._tag===eh}toString(){return Ze(this.toJSON())}toJSON(){return{_id:"FiberId",_tag:this._tag}}[ve](){return this.toJSON()}};var gT;class qW{constructor(e,n){_(this,"id");_(this,"startTimeMillis");_(this,gT,Zc);_(this,"_tag",Jy);this.id=e,this.startTimeMillis=n}[(gT=Zc,It)](){return Ce(this,Me(`${D0}-${this._tag}-${this.id}-${this.startTimeMillis}`))}[Ot](e){return ek(e)&&e._tag===Jy&&this.id===e.id&&this.startTimeMillis===e.startTimeMillis}toString(){return Ze(this.toJSON())}toJSON(){return{_id:"FiberId",_tag:this._tag,id:this.id,startTimeMillis:this.startTimeMillis}}[ve](){return this.toJSON()}}const VW=new KW,ek=t=>Ct(t,Zc),Yy=t=>{switch(t._tag){case eh:return qs();case Jy:return j0(t.id);case zW:return H(Yy(t.left),Qc(Yy(t.right)))}},vE=jt(Symbol.for("effect/Fiber/Id/_fiberCounter"),()=>ZA(0)),nk=t=>Array.from(Yy(t)).map(n=>`#${n}`).join(","),HW=()=>{const t=rp(vE);return H(vE,tk(t+1)),new qW(t,Date.now())},cu=VW,GW=nk,rk=HW,U0=Zh,JW=vW,YW=bW,ok=SW,ik=Yc,sk=VA,XW=L0,QW=TW,ak=tp,tl=Symbol.for("effect/List"),Xy=t=>Be(t),ZW=t=>z3(S0(t),Xy),t4=ZW(At),e4={[tl]:tl,_tag:"Cons",toString(){return Ze(this.toJSON())},toJSON(){return{_id:"List",_tag:"Cons",values:Xy(this).map(Ve)}},[ve](){return this.toJSON()},[Ot](t){return ck(t)&&this._tag===t._tag&&t4(this,t)},[It](){return Ce(this,Cl(Xy(this)))},[Symbol.iterator](){let t=!1,e=this;return{next(){if(t)return this.return();if(e._tag==="Nil")return t=!0,this.return();const n=e.head;return e=e.tail,{done:t,value:n}},return(n){return t||(t=!0),{done:!0,value:n}}}},pipe(){return _t(this,arguments)}},nh=(t,e)=>{const n=Object.create(e4);return n.head=t,n.tail=e,n},n4=Me("Nil"),r4={[tl]:tl,_tag:"Nil",toString(){return Ze(this.toJSON())},toJSON(){return{_id:"List",_tag:"Nil"}},[ve](){return this.toJSON()},[It](){return n4},[Ot](t){return ck(t)&&this._tag===t._tag},[Symbol.iterator](){return{next(){return{done:!0,value:void 0}}}},pipe(){return _t(this,arguments)}},uk=Object.create(r4),ck=t=>Ct(t,tl),vi=t=>t._tag==="Nil",o4=t=>t._tag==="Cons",i4=()=>uk,Vs=(t,e)=>nh(t,e),lu=i4,z0=t=>nh(t,uk),s4=L(2,(t,e)=>u4(e,t)),a4=L(2,(t,e)=>Vs(e,t)),u4=L(2,(t,e)=>{if(vi(t))return e;if(vi(e))return t;{const n=nh(e.head,t);let r=n,o=e.tail;for(;!vi(o);){const s=nh(o.head,t);r.tail=s,r=s,o=o.tail}return n}}),c4=L(3,(t,e,n)=>{let r=e,o=t;for(;!vi(o);)r=n(r,o.head),o=o.tail;return r}),l4=t=>{let e=lu(),n=t;for(;!vi(n);)e=a4(e,n.head),n=n.tail;return e},W0=function(){function t(e){e&&Object.assign(this,e)}return t.prototype=Al,t}(),f4=t=>Object.assign(Object.create(Al),t),d4=Symbol.for("effect/DifferContextPatch");function _E(t){return t}const Pl={...W0.prototype,[d4]:{_Value:_E,_Patch:_E}},h4=Object.assign(Object.create(Pl),{_tag:"Empty"}),p4=Object.create(h4),lk=()=>p4,g4=Object.assign(Object.create(Pl),{_tag:"AndThen"}),m4=(t,e)=>{const n=Object.create(g4);return n.first=t,n.second=e,n},y4=Object.assign(Object.create(Pl),{_tag:"AddService"}),v4=(t,e)=>{const n=Object.create(y4);return n.key=t,n.service=e,n},_4=Object.assign(Object.create(Pl),{_tag:"RemoveService"}),b4=t=>{const e=Object.create(_4);return e.key=t,e},S4=Object.assign(Object.create(Pl),{_tag:"UpdateService"}),w4=(t,e)=>{const n=Object.create(S4);return n.key=t,n.update=e,n},E4=(t,e)=>{const n=new Map(t.unsafeMap);let r=lk();for(const[o,s]of e.unsafeMap.entries())if(n.has(o)){const u=n.get(o);n.delete(o),At(u,s)||(r=xd(w4(o,()=>s))(r))}else n.delete(o),r=xd(v4(o,s))(r);for(const[o]of n.entries())r=xd(b4(o))(r);return r},xd=L(2,(t,e)=>m4(t,e)),x4=L(2,(t,e)=>{if(t._tag==="Empty")return e;let n=!1,r=_r(t);const o=new Map(e.unsafeMap);for(;iu(r);){const u=su(r),c=Rs(r);switch(u._tag){case"Empty":{r=c;break}case"AddService":{o.set(u.key,u.service),r=c;break}case"AndThen":{r=yo(yo(c,u.second),u.first);break}case"RemoveService":{o.delete(u.key),r=c;break}case"UpdateService":{o.set(u.key,u.update(o.get(u.key))),n=!0,r=c;break}}}if(!n)return ru(o);const s=new Map;for(const[u]of e.unsafeMap)o.has(u)&&(s.set(u,o.get(u)),o.delete(u));for(const[u,c]of o)s.set(u,c);return ru(s)}),C4=Symbol.for("effect/DifferHashSetPatch");function qm(t){return t}const op={...W0.prototype,[C4]:{_Value:qm,_Key:qm,_Patch:qm}},T4=Object.assign(Object.create(op),{_tag:"Empty"}),O4=Object.create(T4),fk=()=>O4,A4=Object.assign(Object.create(op),{_tag:"AndThen"}),k4=(t,e)=>{const n=Object.create(A4);return n.first=t,n.second=e,n},I4=Object.assign(Object.create(op),{_tag:"Add"}),R4=t=>{const e=Object.create(I4);return e.value=t,e},$4=Object.assign(Object.create(op),{_tag:"Remove"}),P4=t=>{const e=Object.create($4);return e.value=t,e},M4=(t,e)=>{const[n,r]=th([t,fk()],([o,s],u)=>DW(u)(o)?[QA(u)(o),s]:[o,Qy(R4(u))(s)])(e);return th(r,(o,s)=>Qy(P4(s))(o))(n)},Qy=L(2,(t,e)=>k4(t,e)),N4=L(2,(t,e)=>{if(t._tag==="Empty")return e;let n=e,r=_r(t);for(;iu(r);){const o=su(r),s=Rs(r);switch(o._tag){case"Empty":{r=s;break}case"AndThen":{r=yo(o.first)(yo(o.second)(s));break}case"Add":{n=zc(o.value)(n),r=s;break}case"Remove":n=QA(o.value)(n),r=s}}return n}),L4=Symbol.for("effect/DifferReadonlyArrayPatch");function bE(t){return t}const Ml={...W0.prototype,[L4]:{_Value:bE,_Patch:bE}},F4=Object.assign(Object.create(Ml),{_tag:"Empty"}),B4=Object.create(F4),dk=()=>B4,j4=Object.assign(Object.create(Ml),{_tag:"AndThen"}),D4=(t,e)=>{const n=Object.create(j4);return n.first=t,n.second=e,n},U4=Object.assign(Object.create(Ml),{_tag:"Append"}),z4=t=>{const e=Object.create(U4);return e.values=t,e},W4=Object.assign(Object.create(Ml),{_tag:"Slice"}),K4=(t,e)=>{const n=Object.create(W4);return n.from=t,n.until=e,n},q4=Object.assign(Object.create(Ml),{_tag:"Update"}),V4=(t,e)=>{const n=Object.create(q4);return n.index=t,n.patch=e,n},H4=t=>{let e=0,n=dk();for(;e<t.oldValue.length&&e<t.newValue.length;){const r=t.oldValue[e],o=t.newValue[e],s=t.differ.diff(r,o);At(s,t.differ.empty)||(n=Cd(n,V4(e,s))),e=e+1}return e<t.oldValue.length&&(n=Cd(n,K4(0,e))),e<t.newValue.length&&(n=Cd(n,z4(oU(e)(t.newValue)))),n},Cd=L(2,(t,e)=>D4(t,e)),G4=L(3,(t,e,n)=>{if(t._tag==="Empty")return e;let r=e.slice(),o=ao(t);for(;wd(o);){const s=tr(o),u=Ws(o);switch(s._tag){case"Empty":{o=u;break}case"AndThen":{u.unshift(s.first,s.second),o=u;break}case"Append":{for(const c of s.values)r.push(c);o=u;break}case"Slice":{r=r.slice(s.from,s.until),o=u;break}case"Update":{r[s.index]=n.patch(s.patch,r[s.index]),o=u;break}}}return r}),J4=Symbol.for("effect/Differ"),Y4={[J4]:{_P:Fe,_V:Fe},pipe(){return _t(this,arguments)}},Ru=t=>{const e=Object.create(Y4);return e.empty=t.empty,e.diff=t.diff,e.combine=t.combine,e.patch=t.patch,e},X4=()=>Ru({empty:lk(),combine:(t,e)=>xd(e)(t),diff:(t,e)=>E4(t,e),patch:(t,e)=>x4(e)(t)}),Q4=()=>Ru({empty:fk(),combine:(t,e)=>Qy(e)(t),diff:(t,e)=>M4(t,e),patch:(t,e)=>N4(e)(t)}),Z4=t=>Ru({empty:dk(),combine:(e,n)=>Cd(e,n),diff:(e,n)=>H4({oldValue:e,newValue:n,differ:t}),patch:(e,n)=>G4(e,n,t)}),hk=()=>t6((t,e)=>e),t6=t=>Ru({empty:Fe,combine:(e,n)=>e===Fe?n:n===Fe?e:r=>n(e(r)),diff:(e,n)=>At(e,n)?Fe:Bh(n),patch:(e,n)=>t(n,e(n))}),el=255,pk=8,Zy=t=>t&el,tv=t=>t>>pk&el,Nl=(t,e)=>(t&el)+((e&t&el)<<pk),e6=Nl(0,0),n6=t=>Nl(t,t),r6=t=>Nl(t,0),o6=L(2,(t,e)=>Nl(Zy(t)&~e,tv(t))),i6=L(2,(t,e)=>t|e),s6=t=>~t>>>0&el,a6=0,$u=1,u6=2,gk=4,ev=16,mk=32,c6=t=>ip(t,mk),l6=L(2,(t,e)=>t|e),Gi=t=>yk(t)&&!d6(t),yk=t=>ip(t,$u),ip=L(2,(t,e)=>(t&e)!==0),vk=(...t)=>t.reduce((e,n)=>e|n,0),f6=vk(a6),SE=t=>ip(t,gk),d6=t=>ip(t,ev),Td=L(2,(t,e)=>Nl(t^e,e)),Od=L(2,(t,e)=>t&(s6(Zy(e))|tv(e))|Zy(e)&tv(e)),wE=Ru({empty:e6,diff:(t,e)=>Td(t,e),combine:(t,e)=>i6(e)(t),patch:(t,e)=>Od(e,t)}),h6=n6,_k=r6,EE=o6,bk=(t,e)=>({_tag:"Par",left:t,right:e}),Xf=(t,e)=>({_tag:"Seq",left:t,right:e}),p6=t=>{let e=z0(t),n=lu();for(;;){const[r,o]=c4(e,[Sk(),lu()],([s,u],c)=>{const[f,d]=g6(c);return[b6(s,f),s4(u,d)]});if(n=m6(n,r),vi(o))return l4(n);e=o}throw new Error("BUG: BlockedRequests.flatten - please report an issue at https://github.com/Effect-TS/effect/issues")},g6=t=>{let e=t,n=Sk(),r=lu(),o=lu();for(;;)switch(e._tag){case"Empty":{if(vi(r))return[n,o];e=r.head,r=r.tail;break}case"Par":{r=Vs(e.right,r),e=e.left;break}case"Seq":{const s=e.left,u=e.right;switch(s._tag){case"Empty":{e=u;break}case"Par":{const c=s.left,f=s.right;e=bk(Xf(c,u),Xf(f,u));break}case"Seq":{const c=s.left,f=s.right;e=Xf(c,Xf(f,u));break}case"Single":{e=s,o=Vs(u,o);break}}break}case"Single":{if(n=_6(n,e),vi(r))return[n,o];e=r.head,r=r.tail;break}}throw new Error("BUG: BlockedRequests.step - please report an issue at https://github.com/Effect-TS/effect/issues")},m6=(t,e)=>{if(vi(t))return z0(Vm(e));if(S6(e))return t;const n=O6(t.head),r=w6(e);return n.length===1&&r.length===1&&At(n[0],r[0])?Vs(T6(t.head,Vm(e)),t.tail):Vs(Vm(e),t)},y6=Symbol.for("effect/RequestBlock/RequestBlockParallel"),v6={_R:t=>t};var mT;mT=y6;class K0{constructor(e){_(this,"map");_(this,mT,v6);this.map=e}}const Sk=()=>new K0(U0()),_6=(t,e)=>new K0(XW(t.map,e.dataSource,n=>FD(NO(n,jz(e.blockedRequest)),()=>_r(e.blockedRequest)))),b6=(t,e)=>new K0(ak(t.map,e.map,(n,r,o)=>ik(n,o,Ie(ok(n,o),{onNone:()=>r,onSome:s=>lo(r,s)})))),S6=t=>YW(t.map),w6=t=>Array.from(sk(t.map)),Vm=t=>C6(QW(t.map,e=>_r(e))),E6=Symbol.for("effect/RequestBlock/RequestBlockSequential"),x6={_R:t=>t};var yT;yT=E6;class wk{constructor(e){_(this,"map");_(this,yT,x6);this.map=e}}const C6=t=>new wk(t),T6=(t,e)=>new wk(ak(e.map,t.map,(n,r,o)=>ik(n,o,Ie(ok(n,o),{onNone:()=>_i(),onSome:s=>lo(s,r)})))),O6=t=>Array.from(sk(t.map)),A6=t=>Array.from(t.map),Ll="Die",Hs="Empty",oa="Fail",Pu="Interrupt",fu="Parallel",du="Sequential",Ek="effect/Cause",xk=Symbol.for(Ek),k6={_E:t=>t},Mu={[xk]:k6,[It](){return H(ct(Ek),Bt(ct(W6(this))),Ce(this))},[Ot](t){return I6(t)&&z6(this,t)},pipe(){return _t(this,arguments)},toJSON(){switch(this._tag){case"Empty":return{_id:"Cause",_tag:this._tag};case"Die":return{_id:"Cause",_tag:this._tag,defect:Ve(this.defect)};case"Interrupt":return{_id:"Cause",_tag:this._tag,fiberId:this.fiberId.toJSON()};case"Fail":return{_id:"Cause",_tag:this._tag,failure:Ve(this.error)};case"Sequential":case"Parallel":return{_id:"Cause",_tag:this._tag,left:Ve(this.left),right:Ve(this.right)}}},toString(){return Nu(this)},[ve](){return this.toJSON()}},nl=(()=>{const t=Object.create(Mu);return t._tag=Hs,t})(),rh=t=>{const e=Object.create(Mu);return e._tag=oa,e.error=t,e},zo=t=>{const e=Object.create(Mu);return e._tag=Ll,e.defect=t,e},Yi=t=>{const e=Object.create(Mu);return e._tag=Pu,e.fiberId=t,e},sp=(t,e)=>{const n=Object.create(Mu);return n._tag=fu,n.left=t,n.right=e,n},Hr=(t,e)=>{const n=Object.create(Mu);return n._tag=du,n.left=t,n.right=e,n},I6=t=>Ct(t,xk),R6=t=>t._tag===Hs,$6=t=>t._tag===oa,P6=t=>t._tag===Hs?!0:hu(t,!0,(e,n)=>{switch(n._tag){case Hs:return Rt(e);case Ll:case oa:case Pu:return Rt(!1);default:return ut()}}),M6=t=>Pn(D6(t)),q0=t=>V0(void 0,q6)(t),N6=t=>ou(hu(t,_i(),(e,n)=>n._tag===oa?Rt(H(e,yo(n.error))):ut())),L6=t=>ou(hu(t,_i(),(e,n)=>n._tag===Ll?Rt(H(e,yo(n.defect))):ut())),F6=t=>hu(t,qs(),(e,n)=>n._tag===Pu?Rt(H(e,zc(n.fiberId))):ut()),B6=t=>Ck(t,e=>e._tag===oa?Rt(e.error):ut()),j6=t=>{const e=B6(t);switch(e._tag){case"None":return Et(t);case"Some":return vt(e.value)}},D6=t=>Ck(t,e=>e._tag===Pu?Rt(e.fiberId):ut()),xE=t=>Tk(t,{onEmpty:nl,onFail:()=>nl,onDie:zo,onInterrupt:Yi,onSequential:Hr,onParallel:sp}),U6=t=>Tk(t,{onEmpty:nl,onFail:zo,onDie:zo,onInterrupt:Yi,onSequential:Hr,onParallel:sp}),z6=(t,e)=>{let n=_r(t),r=_r(e);for(;iu(n)&&iu(r);){const[o,s]=H(su(n),hu([qs(),_i()],([f,d],h)=>{const[g,y]=nv(h);return Rt([H(f,Qc(g)),H(d,lo(y))])})),[u,c]=H(su(r),hu([qs(),_i()],([f,d],h)=>{const[g,y]=nv(h);return Rt([H(f,Qc(g)),H(d,lo(y))])}));if(!At(o,u))return!1;n=s,r=c}return!0},W6=t=>K6(_r(t),_i()),K6=(t,e)=>{for(;;){const[n,r]=H(t,zO([qs(),_i()],([s,u],c)=>{const[f,d]=nv(c);return[H(s,Qc(f)),H(u,lo(d))]})),o=XA(n)>0?H(e,yo(n)):e;if(Dz(r))return ou(o);t=r,e=o}throw new Error(zh("Cause.flattenCauseLoop"))},Ck=L(2,(t,e)=>{const n=[t];for(;n.length>0;){const r=n.pop(),o=e(r);switch(o._tag){case"None":{switch(r._tag){case du:case fu:{n.push(r.right),n.push(r.left);break}}break}case"Some":return o}}return ut()}),nv=t=>{let e=t;const n=[];let r=qs(),o=_i();for(;e!==void 0;)switch(e._tag){case Hs:{if(n.length===0)return[r,o];e=n.pop();break}case oa:{if(r=zc(r,Wm(e._tag,e.error)),n.length===0)return[r,o];e=n.pop();break}case Ll:{if(r=zc(r,Wm(e._tag,e.defect)),n.length===0)return[r,o];e=n.pop();break}case Pu:{if(r=zc(r,Wm(e._tag,e.fiberId)),n.length===0)return[r,o];e=n.pop();break}case du:{switch(e.left._tag){case Hs:{e=e.right;break}case du:{e=Hr(e.left.left,Hr(e.left.right,e.right));break}case fu:{e=sp(Hr(e.left.left,e.right),Hr(e.left.right,e.right));break}default:{o=yo(o,e.right),e=e.left;break}}break}case fu:{n.push(e.right),e=e.left;break}}throw new Error(zh("Cause.evaluateCauseLoop"))},q6={emptyCase:Zw,failCase:My,dieCase:My,interruptCase:Zw,sequentialCase:(t,e,n)=>e&&n,parallelCase:(t,e,n)=>e&&n},CE="SequentialCase",TE="ParallelCase",Tk=L(2,(t,{onDie:e,onEmpty:n,onFail:r,onInterrupt:o,onParallel:s,onSequential:u})=>V0(t,void 0,{emptyCase:()=>n,failCase:(c,f)=>r(f),dieCase:(c,f)=>e(f),interruptCase:(c,f)=>o(f),sequentialCase:(c,f,d)=>u(f,d),parallelCase:(c,f,d)=>s(f,d)})),hu=L(3,(t,e,n)=>{let r=e,o=t;const s=[];for(;o!==void 0;){const u=n(r,o);switch(r=Pn(u)?u.value:r,o._tag){case du:{s.push(o.right),o=o.left;break}case fu:{s.push(o.right),o=o.left;break}default:{o=void 0;break}}o===void 0&&s.length>0&&(o=s.pop())}return r}),V0=L(3,(t,e,n)=>{const r=[t],o=[];for(;r.length>0;){const u=r.pop();switch(u._tag){case Hs:{o.push(Et(n.emptyCase(e)));break}case oa:{o.push(Et(n.failCase(e,u.error)));break}case Ll:{o.push(Et(n.dieCase(e,u.defect)));break}case Pu:{o.push(Et(n.interruptCase(e,u.fiberId)));break}case du:{r.push(u.right),r.push(u.left),o.push(vt({_tag:CE}));break}case fu:{r.push(u.right),r.push(u.left),o.push(vt({_tag:TE}));break}}}const s=[];for(;o.length>0;){const u=o.pop();switch(u._tag){case"Left":{switch(u.left._tag){case CE:{const c=s.pop(),f=s.pop(),d=n.sequentialCase(e,c,f);s.push(d);break}case TE:{const c=s.pop(),f=s.pop(),d=n.parallelCase(e,c,f);s.push(d);break}}break}case"Right":{s.push(u.right);break}}}if(s.length===0)throw new Error("BUG: Cause.reduceWithContext - please report an issue at https://github.com/Effect-TS/effect/issues");return s.pop()}),Nu=(t,e)=>q0(t)?"All fibers interrupted without errors.":Ak(t).map(function(n){return(e==null?void 0:e.renderErrorCause)!==!0||n.cause===void 0?n.stack:`${n.stack} {
${Ok(n.cause,"  ")}
}`}).join(`
`),Ok=(t,e)=>{const n=t.stack.split(`
`);let r=`${e}[cause]: ${n[0]}`;for(let o=1,s=n.length;o<s;o++)r+=`
${e}${n[o]}`;return t.cause&&(r+=` {
${Ok(t.cause,`${e}  `)}
${e}}`),r};class oh extends globalThis.Error{constructor(n){const r=typeof n=="object"&&n!==null,o=Error.stackTraceLimit;Error.stackTraceLimit=1;super(V6(n),r&&"cause"in n&&typeof n.cause<"u"?{cause:new oh(n.cause)}:void 0);_(this,"span");this.message===""&&(this.message="An error has occurred"),Error.stackTraceLimit=o,this.name=n instanceof Error?n.name:"Error",r&&(pu in n&&(this.span=n[pu]),Object.keys(n).forEach(s=>{s in this||(this[s]=n[s])})),this.stack=J6(`${this.name}: ${this.message}`,n instanceof Error&&n.stack?n.stack:"",this.span)}}const V6=t=>{if(typeof t=="string")return t;if(typeof t=="object"&&t!==null&&t instanceof Error)return t.message;try{if(Ct(t,"toString")&&Au(t.toString)&&t.toString!==Object.prototype.toString&&t.toString!==globalThis.Array.prototype.toString)return t.toString()}catch{}return _O(t)},H6=/\((.*)\)/g,G6=jt("effect/Tracer/spanToTrace",()=>new WeakMap),J6=(t,e,n)=>{const r=[t],o=e.startsWith(t)?e.slice(t.length).split(`
`):e.split(`
`);for(let s=1;s<o.length&&!o[s].includes("Generator.next");s++){if(o[s].includes("effect_internal_function")){r.pop();break}r.push(o[s].replace(/at .*effect_instruction_i.*\((.*)\)/,"at $1").replace(/EffectPrimitive\.\w+/,"<anonymous>"))}if(n){let s=n,u=0;for(;s&&s._tag==="Span"&&u<10;){const c=G6.get(s);if(typeof c=="function"){const f=c();if(typeof f=="string"){const d=f.matchAll(H6);let h=!1;for(const[,g]of d)h=!0,r.push(`    at ${s.name} (${g})`);h||r.push(`    at ${s.name} (${f.replace(/^at /,"")})`)}else r.push(`    at ${s.name}`)}else r.push(`    at ${s.name}`);s=uo(s.parent),u++}}return r.join(`
`)},pu=Symbol.for("effect/SpanAnnotation"),Ak=t=>V0(t,void 0,{emptyCase:()=>[],dieCase:(e,n)=>[new oh(n)],failCase:(e,n)=>[new oh(n)],interruptCase:()=>[],parallelCase:(e,n,r)=>[...n,...r],sequentialCase:(e,n,r)=>[...n,...r]}),ap="Pending",kk="Done",Y6="effect/Deferred",X6=Symbol.for(Y6),Q6={_E:t=>t,_A:t=>t},Z6=t=>({_tag:ap,joiners:t}),tK=t=>({_tag:kk,effect:t});class Fl{constructor(e){_(this,"self");_(this,"called",!1);this.self=e}next(e){return this.called?{value:e,done:!0}:(this.called=!0,{value:this.self,done:!1})}return(e){return{value:e,done:!0}}throw(e){throw e}[Symbol.iterator](){return new Fl(this.self)}}const Ik=(t,e)=>{const n=new yn("Blocked");return n.effect_instruction_i0=t,n.effect_instruction_i1=e,n},eK=t=>{const e=new yn("RunBlocked");return e.effect_instruction_i0=t,e},gu=Symbol.for("effect/Effect");class nK{constructor(e,n){_(this,"patch");_(this,"op");_(this,"_op",g0);this.patch=e,this.op=n}}var vT;class yn{constructor(e){_(this,"_op");_(this,"effect_instruction_i0");_(this,"effect_instruction_i1");_(this,"effect_instruction_i2");_(this,"trace");_(this,vT,Za);this._op=e}[(vT=gu,Ot)](e){return this===e}[It](){return Ce(this,f0(this))}pipe(){return _t(this,arguments)}toJSON(){return{_id:"Effect",_op:this._op,effect_instruction_i0:Ve(this.effect_instruction_i0),effect_instruction_i1:Ve(this.effect_instruction_i1),effect_instruction_i2:Ve(this.effect_instruction_i2)}}toString(){return Ze(this.toJSON())}[ve](){return this.toJSON()}[Symbol.iterator](){return new Fl(new xl(this))}}var _T;class Rk{constructor(e){_(this,"_op");_(this,"effect_instruction_i0");_(this,"effect_instruction_i1");_(this,"effect_instruction_i2");_(this,"trace");_(this,_T,Za);this._op=e,this._tag=e}[(_T=gu,Ot)](e){return n_(e)&&e._op==="Failure"&&At(this.effect_instruction_i0,e.effect_instruction_i0)}[It](){return H(Me(this._tag),Bt(ct(this.effect_instruction_i0)),Ce(this))}get cause(){return this.effect_instruction_i0}pipe(){return _t(this,arguments)}toJSON(){return{_id:"Exit",_tag:this._op,cause:this.cause.toJSON()}}toString(){return Ze(this.toJSON())}[ve](){return this.toJSON()}[Symbol.iterator](){return new Fl(new xl(this))}}var bT;class $k{constructor(e){_(this,"_op");_(this,"effect_instruction_i0");_(this,"effect_instruction_i1");_(this,"effect_instruction_i2");_(this,"trace");_(this,bT,Za);this._op=e,this._tag=e}[(bT=gu,Ot)](e){return n_(e)&&e._op==="Success"&&At(this.effect_instruction_i0,e.effect_instruction_i0)}[It](){return H(Me(this._tag),Bt(ct(this.effect_instruction_i0)),Ce(this))}get value(){return this.effect_instruction_i0}pipe(){return _t(this,arguments)}toJSON(){return{_id:"Exit",_tag:this._op,value:Ve(this.value)}}toString(){return Ze(this.toJSON())}[ve](){return this.toJSON()}[Symbol.iterator](){return new Fl(new xl(this))}}const up=t=>Ct(t,gu),br=t=>{const e=new yn(wO);return e.effect_instruction_i0=t,e},rK=L(3,(t,e,n)=>fp(r=>St(t,o=>St(Mk(Ke(()=>r(e(o)))),s=>Ke(()=>n(o,s)).pipe(mu({onFailure:u=>{switch(s._tag){case go:return vo(Hr(s.effect_instruction_i0,u));case mo:return vo(u)}},onSuccess:()=>s})))))),Bl=L(2,(t,e)=>St(t,()=>ye(e))),jl=t=>Bl(t,void 0),Pk=function(){const t=new yn(Kh);switch(arguments.length){case 2:{t.effect_instruction_i0=arguments[0],t.commit=arguments[1];break}case 3:{t.effect_instruction_i0=arguments[0],t.effect_instruction_i1=arguments[1],t.commit=arguments[2];break}case 4:{t.effect_instruction_i0=arguments[0],t.effect_instruction_i1=arguments[1],t.effect_instruction_i2=arguments[2],t.commit=arguments[3];break}default:throw new Error(zh("you're not supposed to end up here"))}return t},ih=(t,e=cu)=>{const n=new yn(Dc);let r;return n.effect_instruction_i0=o=>{r=t(o)},n.effect_instruction_i1=e,jk(n,o=>up(r)?r:_o)},oK=(t,e=cu)=>Ke(()=>ih(t,e)),rl=(t,e=cu)=>Pk(t,function(){let n,r;function o(f){n?n(f):r===void 0&&(r=f)}const s=new yn(Dc);s.effect_instruction_i0=f=>{n=f,r&&f(r)},s.effect_instruction_i1=e;let u,c;return this.effect_instruction_i0.length!==1?(c=new AbortController,u=Un(()=>this.effect_instruction_i0(o,c.signal))):u=Un(()=>this.effect_instruction_i0(o)),u||c?jk(s,f=>(c&&c.abort(),u??_o)):s}),rv=L(2,(t,e)=>G0(t,{onFailure:e,onSuccess:ye})),OE=Symbol.for("effect/OriginalAnnotation"),H0=(t,e)=>Pn(e)?new Proxy(t,{has(n,r){return r===pu||r===OE||r in n},get(n,r){return r===pu?e.value:r===OE?t:n[r]}}):t,AE=t=>ls(t)&&!(pu in t)?br(e=>vo(zo(H0(t,r_(e))))):vo(zo(t)),kE=t=>iK(()=>zo(new NK(t))),sh=t=>G0(t,{onFailure:e=>ye(vt(e)),onSuccess:e=>ye(Et(e))}),Mk=t=>uK(t,{onFailure:le,onSuccess:Ne}),Qn=t=>ls(t)&&!(pu in t)?br(e=>vo(rh(H0(t,r_(e))))):vo(rh(t)),Nk=t=>St(wt(t),Qn),vo=t=>{const e=new Rk(go);return e.effect_instruction_i0=t,e},iK=t=>St(wt(t),vo),sK=br(t=>ye(t.id())),Lk=t=>br(e=>t(e.id())),St=L(2,(t,e)=>{const n=new yn(Vd);return n.effect_instruction_i0=t,n.effect_instruction_i1=e,n}),aK=t=>{const e=new yn("OnStep");return e.effect_instruction_i0=t,e},Fk=t=>St(t,Fe),uK=L(2,(t,e)=>mu(t,{onFailure:n=>ye(e.onFailure(n)),onSuccess:n=>ye(e.onSuccess(n))})),mu=L(2,(t,e)=>{const n=new yn(Hd);return n.effect_instruction_i0=t,n.effect_instruction_i1=e.onFailure,n.effect_instruction_i2=e.onSuccess,n}),G0=L(2,(t,e)=>mu(t,{onFailure:n=>{if(L6(n).length>0)return vo(U6(n));const o=N6(n);return o.length>0?e.onFailure(NA(o)):vo(n)},onSuccess:e.onSuccess})),Qi=L(2,(t,e)=>Ke(()=>{const n=Be(t),r=qh(n.length);let o=0;return Bl(X0({while:()=>o<n.length,body:()=>e(n[o],o),step:s=>{r[o++]=s}}),r)})),cp=L(2,(t,e)=>Ke(()=>{const n=Be(t);let r=0;return X0({while:()=>r<n.length,body:()=>e(n[r],r),step:()=>{r++}})})),Bk=t=>{const e=new yn(Tl);return e.effect_instruction_i0=h6($u),e.effect_instruction_i1=()=>t,e},Zn=L(2,(t,e)=>St(t,n=>wt(()=>e(n)))),J0=L(2,(t,e)=>G0(t,{onFailure:n=>Nk(()=>e.onFailure(n)),onSuccess:n=>wt(()=>e.onSuccess(n))})),lp=L(2,(t,e)=>mu(t,{onFailure:n=>{const r=j6(n);switch(r._tag){case"Left":return Nk(()=>e(r.left));case"Right":return vo(r.right)}},onSuccess:ye})),Y0=L(2,(t,e)=>fp(n=>mu(n(t),{onFailure:r=>{const o=le(r);return mu(e(o),{onFailure:s=>le(Hr(r,s)),onSuccess:()=>o})},onSuccess:r=>{const o=Ne(r);return dp(e(o),o)}}))),jk=L(2,(t,e)=>Y0(t,Yk({onFailure:n=>q0(n)?jl(e(F6(n))):_o,onSuccess:()=>_o}))),ye=t=>{const e=new $k(mo);return e.effect_instruction_i0=t,e},Ke=t=>{const e=new yn(Kh);return e.commit=t,e},wt=t=>{const e=new yn(SO);return e.effect_instruction_i0=t,e},cK=L(t=>t.length===3||t.length===2&&!(ls(t[1])&&"onlyEffect"in t[1]),(t,e)=>St(t,n=>{const r=typeof e=="function"?e(n):e;return up(r)?Bl(r,n):Y3(r)?ih(o=>{r.then(s=>o(ye(n)),s=>o(Qn(new BK(s,"An unknown error occurred in Effect.tap"))))}):ye(n)})),lK=t=>br(e=>{const n=e.getFiberRef(iv),r=H(n,xe(()=>e.scope()));return t(hp(iv,Rt(r)))}),Dk=t=>{const e=new yn(Tl);return e.effect_instruction_i0=_k($u),e.effect_instruction_i1=()=>t,e},fp=t=>Pk(t,function(){const e=new yn(Tl);return e.effect_instruction_i0=_k($u),e.effect_instruction_i1=n=>yk(n)?Un(()=>this.effect_instruction_i0(Bk)):Un(()=>this.effect_instruction_i0(Dk)),e}),_o=ye(void 0),fK=t=>{const e=new yn(Tl);return e.effect_instruction_i0=t,e.effect_instruction_i1=void 0,e},X0=t=>{const e=new yn(Gd);return e.effect_instruction_i0=t.while,e.effect_instruction_i1=t.body,e.effect_instruction_i2=t.step,e},Q0=t=>{const e=new yn(Sd);return typeof(t==null?void 0:t.priority)<"u"?kK(e,t.priority):e},Uk=L(2,(t,e)=>St(t,n=>Zn(e,r=>[n,r]))),zk=L(2,(t,e)=>St(t,n=>Bl(e,n))),dp=L(2,(t,e)=>St(t,()=>e)),dK=t=>St(sK,e=>H(t,Wk(e))),Wk=L(2,(t,e)=>St(t.interruptAsFork(e),()=>t.await)),hK={_tag:"All",syslog:0,label:"ALL",ordinal:Number.MIN_SAFE_INTEGER,pipe(){return _t(this,arguments)}},pK={_tag:"Fatal",syslog:2,label:"FATAL",ordinal:5e4,pipe(){return _t(this,arguments)}},gK={_tag:"Error",syslog:3,label:"ERROR",ordinal:4e4,pipe(){return _t(this,arguments)}},mK={_tag:"Warning",syslog:4,label:"WARN",ordinal:3e4,pipe(){return _t(this,arguments)}},Kk={_tag:"Info",syslog:6,label:"INFO",ordinal:2e4,pipe(){return _t(this,arguments)}},qk={_tag:"Debug",syslog:7,label:"DEBUG",ordinal:1e4,pipe(){return _t(this,arguments)}},yK={_tag:"Trace",syslog:7,label:"TRACE",ordinal:0,pipe(){return _t(this,arguments)}},vK={_tag:"None",syslog:7,label:"OFF",ordinal:Number.MAX_SAFE_INTEGER,pipe(){return _t(this,arguments)}},_K="effect/FiberRef",bK=Symbol.for(_K),SK={_A:t=>t},Z0=t=>br(e=>Ne(e.getFiberRef(t))),t_=L(2,(t,e)=>St(Z0(t),e)),IE=L(2,(t,e)=>wK(t,()=>[void 0,e])),wK=L(2,(t,e)=>br(n=>{const[r,o]=e(n.getFiberRef(t));return n.setFiberRef(t,o),ye(r)})),hp=L(3,(t,e,n)=>rK(zk(Z0(e),IE(e,n)),()=>t,r=>IE(e,r))),Tr=(t,e)=>Lu(t,{differ:hk(),fork:(e==null?void 0:e.fork)??Fe,join:e==null?void 0:e.join}),EK=t=>{const e=Q4();return Lu(t,{differ:e,fork:e.empty})},xK=t=>{const e=Z4(hk());return Lu(t,{differ:e,fork:e.empty})},Vk=t=>{const e=X4();return Lu(t,{differ:e,fork:e.empty})},Lu=(t,e)=>({...kl,[bK]:SK,initial:t,commit(){return Z0(this)},diff:(r,o)=>e.differ.diff(r,o),combine:(r,o)=>e.differ.combine(r,o),patch:r=>o=>e.differ.patch(r,o),fork:e.fork,join:e.join??((r,o)=>o)}),CK=t=>Lu(t,{differ:wE,fork:wE.empty}),Dl=jt(Symbol.for("effect/FiberRef/currentContext"),()=>Vk(I0())),pp=jt(Symbol.for("effect/FiberRef/currentSchedulingPriority"),()=>Tr(0)),Hk=jt(Symbol.for("effect/FiberRef/currentMaxOpsBeforeYield"),()=>Tr(2048)),TK=jt(Symbol.for("effect/FiberRef/currentLogAnnotation"),()=>Tr(U0())),OK=jt(Symbol.for("effect/FiberRef/currentLogLevel"),()=>Tr(Kk)),AK=jt(Symbol.for("effect/FiberRef/currentLogSpan"),()=>Tr(lu())),kK=L(2,(t,e)=>hp(t,pp,e)),IK=jt(Symbol.for("effect/FiberRef/currentConcurrency"),()=>Tr("unbounded")),RK=jt(Symbol.for("effect/FiberRef/currentRequestBatching"),()=>Tr(!0)),$K=jt(Symbol.for("effect/FiberRef/currentUnhandledErrorLogLevel"),()=>Tr(Rt(qk))),ov=jt(Symbol.for("effect/FiberRef/currentMetricLabels"),()=>xK(tu())),iv=jt(Symbol.for("effect/FiberRef/currentForkScopeOverride"),()=>Tr(ut(),{fork:()=>ut(),join:(t,e)=>t})),Qf=jt(Symbol.for("effect/FiberRef/currentInterruptedCause"),()=>Tr(nl,{fork:()=>nl,join:(t,e)=>t})),PK=(t,e)=>t.addFinalizer(()=>jl(e)),MK=(t,e)=>t.close(e),gp=(t,e)=>t.fork(e),e_=function(){class t extends globalThis.Error{commit(){return Qn(this)}toJSON(){const n={...this};return this.message&&(n.message=this.message),this.cause&&(n.cause=this.cause),n}[ve](){return this.toString!==globalThis.Error.prototype.toString?this.stack?`${this.toString()}
${this.stack.split(`
`).slice(1).join(`
`)}`:this.toString():"Bun"in globalThis?Nu(rh(this),{renderErrorCause:!0}):this}}return Object.assign(t.prototype,vD),t}(),Gk=(t,e)=>{class n extends e_{constructor(){super(...arguments);_(this,"_tag",e)}}return Object.assign(n.prototype,t),n.prototype.name=e,n},RE=Symbol.for("effect/Cause/errors/RuntimeException"),NK=Gk({[RE]:RE},"RuntimeException"),LK=Symbol.for("effect/Cause/errors/InterruptedException"),FK=t=>Ct(t,LK),$E=Symbol.for("effect/Cause/errors/NoSuchElement"),Jk=Gk({[$E]:$E},"NoSuchElementException"),PE=Symbol.for("effect/Cause/errors/UnknownException"),BK=function(){class t extends e_{constructor(r,o){super(o??"An unknown error occurred",{cause:r});_(this,"_tag","UnknownException");_(this,"error");this.error=r}}return Object.assign(t.prototype,{[PE]:PE,name:"UnknownException"}),t}(),n_=t=>up(t)&&"_tag"in t&&(t._tag==="Success"||t._tag==="Failure"),jK=t=>t._tag==="Success",ME=(t,e)=>WK(t,e!=null&&e.parallel?sp:Hr),DK=t=>le(zo(t)),NE=t=>le(rh(t)),le=t=>{const e=new Rk(go);return e.effect_instruction_i0=t,e},UK=t=>le(Yi(t)),Hm=L(2,(t,e)=>{switch(t._tag){case go:return le(t.effect_instruction_i0);case mo:return Ne(e(t.effect_instruction_i0))}}),Yk=L(2,(t,{onFailure:e,onSuccess:n})=>{switch(t._tag){case go:return e(t.effect_instruction_i0);case mo:return n(t.effect_instruction_i0)}}),Ne=t=>{const e=new $k(mo);return e.effect_instruction_i0=t,e},$s=Ne(void 0),zK=L(3,(t,e,{onFailure:n,onSuccess:r})=>{switch(t._tag){case go:switch(e._tag){case mo:return le(t.effect_instruction_i0);case go:return le(n(t.effect_instruction_i0,e.effect_instruction_i0))}case mo:switch(e._tag){case mo:return Ne(r(t.effect_instruction_i0,e.effect_instruction_i0));case go:return le(e.effect_instruction_i0)}}}),WK=(t,e)=>{const n=MA(t);return iu(n)?H(Rs(n),zO(H(su(n),Hm(_r)),(r,o)=>H(r,zK(o,{onSuccess:(s,u)=>H(s,yo(u)),onFailure:e}))),Hm(ou),Hm(r=>Bs(r)),Rt):ut()},KK=t=>({...kl,[X6]:Q6,state:ZA(Z6([])),commit(){return Xk(this)},blockingOn:t}),Xk=t=>oK(e=>{const n=rp(t.state);switch(n._tag){case kk:return e(n.effect);case ap:return n.joiners.push(e),qK(t,e)}},t.blockingOn),Qk=(t,e)=>{const n=rp(t.state);if(n._tag===ap){tk(t.state,tK(e));for(let r=0,o=n.joiners.length;r<o;r++)n.joiners[r](e)}},qK=(t,e)=>wt(()=>{const n=rp(t.state);if(n._tag===ap){const r=n.joiners.indexOf(e);r>=0&&n.joiners.splice(r,1)}}),VK=br(t=>Ne(t.currentContext)),HK=()=>VK,Ul=t=>St(HK(),t),GK=L(2,(t,e)=>hp(Dl,e)(t)),JK=L(2,(t,e)=>Ul(n=>GK(t,e(n)))),r_=t=>{const e=t.currentSpan;return e!==void 0&&e._tag==="Span"?Rt(e):ut()},YK=jK,LE=Symbol.for("effect/MutableHashMap"),XK={[LE]:LE,[Symbol.iterator](){return new o_(this)},toString(){return Ze(this.toJSON())},toJSON(){return{_id:"MutableHashMap",values:Array.from(this).map(Ve)}},[ve](){return this.toJSON()},pipe(){return _t(this,arguments)}};class o_{constructor(e){_(this,"self");_(this,"referentialIterator");_(this,"bucketIterator");this.self=e,this.referentialIterator=e.referential[Symbol.iterator]()}next(){if(this.bucketIterator!==void 0)return this.bucketIterator.next();const e=this.referentialIterator.next();return e.done?(this.bucketIterator=new QK(this.self.buckets.values()),this.next()):e}[Symbol.iterator](){return new o_(this.self)}}class QK{constructor(e){_(this,"backing");_(this,"currentBucket");this.backing=e}next(){if(this.currentBucket===void 0){const n=this.backing.next();if(n.done)return n;this.currentBucket=n.value[Symbol.iterator]()}const e=this.currentBucket.next();return e.done?(this.currentBucket=void 0,this.next()):e}}const ZK=()=>{const t=Object.create(XK);return t.referential=new Map,t.buckets=new Map,t.bucketsSize=0,t},As=L(2,(t,e)=>{if(qd(e)===!1)return t.referential.has(e)?Rt(t.referential.get(e)):ut();const n=e[It](),r=t.buckets.get(n);return r===void 0?ut():tq(t,r,e)}),tq=(t,e,n,r=!1)=>{for(let o=0,s=e.length;o<s;o++)if(n[Ot](e[o][0])){const u=e[o][1];return r&&(e.splice(o,1),t.bucketsSize--),Rt(u)}return ut()},Sc=L(2,(t,e)=>Pn(As(t,e))),wc=L(3,(t,e,n)=>{if(qd(e)===!1)return t.referential.set(e,n),t;const r=e[It](),o=t.buckets.get(r);return o===void 0?(t.buckets.set(r,[[e,n]]),t.bucketsSize++,t):(eq(t,o,e),o.push([e,n]),t.bucketsSize++,t)}),eq=(t,e,n)=>{for(let r=0,o=e.length;r<o;r++)if(n[Ot](e[r][0])){e.splice(r,1),t.bucketsSize--;return}};function nq(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Zk={exports:{}},Re=Zk.exports={},Ro,$o;function sv(){throw new Error("setTimeout has not been defined")}function av(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Ro=setTimeout:Ro=sv}catch{Ro=sv}try{typeof clearTimeout=="function"?$o=clearTimeout:$o=av}catch{$o=av}})();function tI(t){if(Ro===setTimeout)return setTimeout(t,0);if((Ro===sv||!Ro)&&setTimeout)return Ro=setTimeout,setTimeout(t,0);try{return Ro(t,0)}catch{try{return Ro.call(null,t,0)}catch{return Ro.call(this,t,0)}}}function rq(t){if($o===clearTimeout)return clearTimeout(t);if(($o===av||!$o)&&clearTimeout)return $o=clearTimeout,clearTimeout(t);try{return $o(t)}catch{try{return $o.call(null,t)}catch{return $o.call(this,t)}}}var mi=[],Ha=!1,Ps,Ad=-1;function oq(){!Ha||!Ps||(Ha=!1,Ps.length?mi=Ps.concat(mi):Ad=-1,mi.length&&eI())}function eI(){if(!Ha){var t=tI(oq);Ha=!0;for(var e=mi.length;e;){for(Ps=mi,mi=[];++Ad<e;)Ps&&Ps[Ad].run();Ad=-1,e=mi.length}Ps=null,Ha=!1,rq(t)}}Re.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];mi.push(new nI(t,e)),mi.length===1&&!Ha&&tI(eI)};function nI(t,e){this.fun=t,this.array=e}nI.prototype.run=function(){this.fun.apply(null,this.array)};Re.title="browser";Re.browser=!0;Re.env={};Re.argv=[];Re.version="";Re.versions={};function Ai(){}Re.on=Ai;Re.addListener=Ai;Re.once=Ai;Re.off=Ai;Re.removeListener=Ai;Re.removeAllListeners=Ai;Re.emit=Ai;Re.prependListener=Ai;Re.prependOnceListener=Ai;Re.listeners=function(t){return[]};Re.binding=function(t){throw new Error("process.binding is not supported")};Re.cwd=function(){return"/"};Re.chdir=function(t){throw new Error("process.chdir is not supported")};Re.umask=function(){return 0};var iq=Zk.exports;const ho=nq(iq),sq="effect/Clock",FE=Symbol.for(sq),i_=ra("effect/Clock"),aq=2**31-1,BE={unsafeSchedule(t,e){const n=qy(e);if(n>aq)return My;let r=!1;const o=setTimeout(()=>{r=!0,t()},n);return()=>(clearTimeout(o),!r)}},jE=function(){const t=BigInt(1e6);if(typeof performance>"u")return()=>BigInt(Date.now())*t;if(typeof performance.timeOrigin=="number"&&performance.timeOrigin===0)return()=>BigInt(Math.round(performance.now()*1e6));const e=BigInt(Date.now())*t-BigInt(Math.round(performance.now()*1e6));return()=>e+BigInt(Math.round(performance.now()*1e6))}(),uq=function(){const t=typeof ho=="object"&&"hrtime"in ho&&typeof ho.hrtime.bigint=="function"?ho.hrtime:void 0;if(!t)return jE;const e=jE()-t.bigint();return()=>e+t.bigint()}();var ST;ST=FE;class cq{constructor(){_(this,ST,FE);_(this,"currentTimeMillis",wt(()=>this.unsafeCurrentTimeMillis()));_(this,"currentTimeNanos",wt(()=>this.unsafeCurrentTimeNanos()))}unsafeCurrentTimeMillis(){return Date.now()}unsafeCurrentTimeNanos(){return uq()}scheduler(){return ye(BE)}sleep(e){return rl(n=>{const r=BE.unsafeSchedule(()=>n(_o),e);return jl(wt(r))})}}const lq=()=>new cq,rI="And",oI="Or",iI="InvalidData",sI="MissingData",aI="SourceUnavailable",uI="Unsupported",fq="effect/ConfigError",DE=Symbol.for(fq),Fu={_tag:"ConfigError",[DE]:DE},cI=(t,e)=>{const n=Object.create(Fu);return n._op=rI,n.left=t,n.right=e,Object.defineProperty(n,"toString",{enumerable:!1,value(){return`${this.left} and ${this.right}`}}),n},lI=(t,e)=>{const n=Object.create(Fu);return n._op=oI,n.left=t,n.right=e,Object.defineProperty(n,"toString",{enumerable:!1,value(){return`${this.left} or ${this.right}`}}),n},dq=(t,e,n={pathDelim:"."})=>{const r=Object.create(Fu);return r._op=iI,r.path=t,r.message=e,Object.defineProperty(r,"toString",{enumerable:!1,value(){return`(Invalid data at ${H(this.path,Iu(n.pathDelim))}: "${this.message}")`}}),r},Gs=(t,e,n={pathDelim:"."})=>{const r=Object.create(Fu);return r._op=sI,r.path=t,r.message=e,Object.defineProperty(r,"toString",{enumerable:!1,value(){return`(Missing data at ${H(this.path,Iu(n.pathDelim))}: "${this.message}")`}}),r},hq=(t,e,n,r={pathDelim:"."})=>{const o=Object.create(Fu);return o._op=aI,o.path=t,o.message=e,o.cause=n,Object.defineProperty(o,"toString",{enumerable:!1,value(){return`(Source unavailable at ${H(this.path,Iu(r.pathDelim))}: "${this.message}")`}}),o},pq=(t,e,n={pathDelim:"."})=>{const r=Object.create(Fu);return r._op=uI,r.path=t,r.message=e,Object.defineProperty(r,"toString",{enumerable:!1,value(){return`(Unsupported operation at ${H(this.path,Iu(n.pathDelim))}: "${this.message}")`}}),r},Ms=L(2,(t,e)=>{switch(t._op){case rI:return cI(Ms(t.left,e),Ms(t.right,e));case oI:return lI(Ms(t.left,e),Ms(t.right,e));case iI:return dq([...e,...t.path],t.message);case sI:return Gs([...e,...t.path],t.message);case aI:return hq([...e,...t.path],t.message,t.cause);case uI:return pq([...e,...t.path],t.message)}}),gq={_tag:"Empty"},Gm=L(2,(t,e)=>{let n=z0(e),r=t;for(;o4(n);){const o=n.head;switch(o._tag){case"Empty":{n=n.tail;break}case"AndThen":{n=Vs(o.first,Vs(o.second,n.tail));break}case"MapName":{r=Wa(r,o.f),n=n.tail;break}case"Nested":{r=Yd(r,o.name),n=n.tail;break}case"Unnested":{if(H(Uc(r),WD(o.name)))r=Ws(r),n=n.tail;else return vt(Gs(r,`Expected ${o.name} to be in path in ConfigProvider#unnested`));break}}}return Et(r)}),mq="Constant",yq="Fail",vq="Fallback",_q="Described",bq="Lazy",Sq="MapOrFail",wq="Nested",Eq="Primitive",xq="Sequence",Cq="HashMap",Tq="ZipWith";var UE={};const ah=(t,e)=>[...t,...e],Oq="effect/ConfigProvider",zE=Symbol.for(Oq),Aq=ra("effect/ConfigProvider"),kq="effect/ConfigProviderFlat",WE=Symbol.for(kq),Iq=t=>({[zE]:zE,pipe(){return _t(this,arguments)},...t}),Rq=t=>({[WE]:WE,patch:t.patch,load:(e,n,r=!0)=>t.load(e,n,r),enumerateChildren:t.enumerateChildren}),$q=t=>Iq({load:e=>St(Ur(t,tu(),e,!1),n=>Ie(Uc(n),{onNone:()=>Qn(Gs(tu(),`Expected a single value having structure: ${e}`)),onSome:ye})),flattened:t}),Pq=t=>{const{pathDelim:e,seqDelim:n}=Object.assign({},{pathDelim:"_",seqDelim:","},t),r=f=>H(f,Iu(e)),o=f=>f.split(e),s=()=>typeof ho<"u"&&"env"in ho&&typeof UE=="object"?UE:{};return $q(Rq({load:(f,d,h=!0)=>{const g=r(f),y=s(),v=g in y?Rt(y[g]):ut();return H(v,lp(()=>Gs(f,`Expected ${g} to exist in the process context`)),St(S=>Bq(S,f,d,n,h)))},enumerateChildren:f=>wt(()=>{const d=s(),y=Object.keys(d).map(v=>o(v.toUpperCase())).filter(v=>{for(let S=0;S<f.length;S++){const x=H(f,BO(S)),T=v[S];if(T===void 0||x!==T)return!1}return!0}).flatMap(v=>v.slice(f.length,f.length+1));return jW(y)}),patch:gq}))},Mq=(t,e,n,r)=>{const o=rE(n.length,f=>f>=r.length?ut():Rt([t(f),f+1])),s=rE(r.length,f=>f>=n.length?ut():Rt([e(f),f+1])),u=ah(n,o),c=ah(r,s);return[u,c]},Nq=(t,e)=>{let n=e;if(n._tag==="Nested"){const r=t.slice();for(;n._tag==="Nested";)r.push(n.name),n=n.config;return r}return t},Ur=(t,e,n,r)=>{const o=n;switch(o._tag){case mq:return ye(ao(o.value));case _q:return Ke(()=>Ur(t,e,o.config,r));case yq:return Qn(Gs(e,o.message));case vq:return H(Ke(()=>Ur(t,e,o.first,r)),rv(s=>o.condition(s)?H(Ur(t,e,o.second,r),rv(u=>Qn(lI(s,u)))):Qn(s)));case bq:return Ke(()=>Ur(t,e,o.config(),r));case Sq:return Ke(()=>H(Ur(t,e,o.original,r),St(Qi(s=>H(o.mapOrFail(s),lp(Ms(Nq(e,o.original))))))));case wq:return Ke(()=>Ur(t,ah(e,ao(o.name)),o.config,r));case Eq:return H(Gm(e,t.patch),St(s=>H(t.load(s,o,r),St(u=>{if(u.length===0){const c=H(eU(s),xe(()=>"<n/a>"));return Qn(Gs([],`Expected ${o.description} with name ${c}`))}return ye(u)}))));case xq:return H(Gm(e,t.patch),St(s=>H(t.enumerateChildren(s),St(Dq),St(u=>u.length===0?Ke(()=>Zn(Ur(t,e,o.config,!0),ao)):H(Qi(u,c=>Ur(t,JD(e,`[${c}]`),o.config,!0)),Zn(c=>{const f=UO(c);return f.length===0?ao(tu()):ao(f)}))))));case Cq:return Ke(()=>H(Gm(e,t.patch),St(s=>H(t.enumerateChildren(s),St(u=>H(u,Qi(c=>Ur(t,ah(s,ao(c)),o.valueConfig,r)),Zn(c=>c.length===0?ao(U0()):H(jq(c),Wa(f=>JW(nE(Be(u),f)))))))))));case Tq:return Ke(()=>H(Ur(t,e,o.left,r),sh,St(s=>H(Ur(t,e,o.right,r),sh,St(u=>{if(Xe(s)&&Xe(u))return Qn(cI(s.left,u.left));if(Xe(s)&&gi(u))return Qn(s.left);if(gi(s)&&Xe(u))return Qn(u.left);if(gi(s)&&gi(u)){const c=H(e,Iu(".")),f=Lq(e,c),[d,h]=Mq(f,f,H(s.right,Wa(Et)),H(u.right,Wa(Et)));return H(d,nE(h),Qi(([g,y])=>H(Uk(g,y),Zn(([v,S])=>o.zip(v,S)))))}throw new Error("BUG: ConfigProvider.fromFlatLoop - please report an issue at https://github.com/Effect-TS/effect/issues")})))))}},Lq=(t,e)=>n=>vt(Gs(t,`The element at index ${n} in a sequence at path "${e}" was missing`)),Fq=(t,e)=>t.split(new RegExp(`\\s*${Xd(e)}\\s*`)),Bq=(t,e,n,r,o)=>o?H(Fq(t,r),Qi(s=>n.parse(s.trim())),lp(Ms(e))):H(n.parse(t),J0({onFailure:Ms(e),onSuccess:ao})),jq=t=>Object.keys(t[0]).map(e=>t.map(n=>n[e])),Dq=t=>H(Qi(t,zq),J0({onFailure:()=>tu(),onSuccess:Jc(eu)}),sh,Zn($D)),Uq=/^(\[(\d+)\])$/,zq=t=>{const e=t.match(Uq);if(e!==null){const n=e[2];return H(n!==void 0&&n.length>0?Rt(n):ut(),ns(Wq))}return ut()},Wq=t=>{const e=Number.parseInt(t);return Number.isNaN(e)?ut():Rt(e)},KE=Symbol.for("effect/Console"),fI=ra("effect/Console"),Kq={[KE]:KE,assert(t,...e){return wt(()=>{console.assert(t,...e)})},clear:wt(()=>{console.clear()}),count(t){return wt(()=>{console.count(t)})},countReset(t){return wt(()=>{console.countReset(t)})},debug(...t){return wt(()=>{console.debug(...t)})},dir(t,e){return wt(()=>{console.dir(t,e)})},dirxml(...t){return wt(()=>{console.dirxml(...t)})},error(...t){return wt(()=>{console.error(...t)})},group(t){return t!=null&&t.collapsed?wt(()=>console.groupCollapsed(t==null?void 0:t.label)):wt(()=>console.group(t==null?void 0:t.label))},groupEnd:wt(()=>{console.groupEnd()}),info(...t){return wt(()=>{console.info(...t)})},log(...t){return wt(()=>{console.log(...t)})},table(t,e){return wt(()=>{console.table(t,e)})},time(t){return wt(()=>console.time(t))},timeEnd(t){return wt(()=>console.timeEnd(t))},timeLog(t,...e){return wt(()=>{console.timeLog(t,...e)})},trace(...t){return wt(()=>{console.trace(...t)})},warn(...t){return wt(()=>{console.warn(...t)})},unsafe:console},qq="effect/Random",qE=Symbol.for(qq),Vq=ra("effect/Random");var wT;wT=qE;class Hq{constructor(e){_(this,"seed");_(this,wT,qE);_(this,"PRNG");this.seed=e,this.PRNG=new rD(e)}get next(){return wt(()=>this.PRNG.number())}get nextBoolean(){return Zn(this.next,e=>e>.5)}get nextInt(){return wt(()=>this.PRNG.integer(Number.MAX_SAFE_INTEGER))}nextRange(e,n){return Zn(this.next,r=>(n-e)*r+e)}nextIntBetween(e,n){return wt(()=>this.PRNG.integer(n-e)+e)}shuffle(e){return Gq(e,n=>this.nextIntBetween(0,n))}}const Gq=(t,e)=>Ke(()=>H(wt(()=>Array.from(t)),St(n=>{const r=[];for(let o=n.length;o>=2;o=o-1)r.push(o);return H(r,cp(o=>H(e(o),Zn(s=>Jq(n,o-1,s)))),Bl(MA(n)))}))),Jq=(t,e,n)=>{const r=t[e];return t[e]=t[n],t[n]=r,t},Yq=t=>new Hq(ct(t)),VE=Symbol.for("effect/Tracer"),Xq=t=>({[VE]:VE,...t}),dI=ra("effect/Tracer"),hI=ra("effect/ParentSpan"),HE=function(){const t="abcdef0123456789",e=t.length;return function(n){let r="";for(let o=0;o<n;o++)r+=t.charAt(Math.floor(Math.random()*e));return r}}();class Qq{constructor(e,n,r,o,s,u){_(this,"name");_(this,"parent");_(this,"context");_(this,"links");_(this,"startTime");_(this,"kind");_(this,"_tag","Span");_(this,"spanId");_(this,"traceId","native");_(this,"sampled",!0);_(this,"status");_(this,"attributes");_(this,"events",[]);this.name=e,this.parent=n,this.context=r,this.links=o,this.startTime=s,this.kind=u,this.status={_tag:"Started",startTime:s},this.attributes=new Map,this.traceId=n._tag==="Some"?n.value.traceId:HE(32),this.spanId=HE(16)}end(e,n){this.status={_tag:"Ended",endTime:e,exit:n,startTime:this.status.startTime}}attribute(e,n){this.attributes.set(e,n)}event(e,n,r){this.events.push([e,n,r??{}])}}const Zq=Xq({span:(t,e,n,r,o,s)=>new Qq(t,e,n,r,o,s),context:t=>t()}),t8=H(I0(),bc(i_,lq()),bc(fI,Kq),bc(Vq,Yq(Math.random())),bc(Aq,Pq()),bc(dI,Zq)),uh=jt(Symbol.for("effect/DefaultServices/currentServices"),()=>Vk(t8));function e8(t){return new os(t)}function n8(){return e8(new Map)}const GE=Symbol.for("effect/FiberRefs");var ET;ET=GE;class os{constructor(e){_(this,"locals");_(this,ET,GE);this.locals=e}pipe(){return _t(this,arguments)}}const r8=(t,e,n,r=!1)=>{const o=t;let s=e,u=n,c=r,f;for(;f===void 0;)if(tn(s)&&tn(u)){const d=tr(s)[0],h=Ws(s),g=tr(u)[0],y=tr(u)[1],v=Ws(u);d.startTimeMillis<g.startTimeMillis?(u=v,c=!0):d.startTimeMillis>g.startTimeMillis?s=h:d.id<g.id?(u=v,c=!0):d.id>g.id?s=h:f=[y,c]}else f=[o.initial,!0];return f},o8=L(3,(t,e,n)=>{const r=new Map(t.locals);return n.locals.forEach((o,s)=>{const u=o[0][1];if(!o[0][0][Ot](e)){if(!r.has(s)){if(At(u,s.initial))return;r.set(s,[[e,s.join(s.initial,u)]]);return}const c=r.get(s),[f,d]=r8(s,c,o);if(d){const h=s.diff(f,u),g=c[0][1],y=s.join(g,s.patch(h)(g));if(!At(g,y)){let v;const S=c[0][0];S[Ot](e)?v=[[S,y],...c.slice(1)]:v=[[e,y],...c],r.set(s,v)}}}}),new os(r)}),i8=L(2,(t,e)=>{const n=new Map;return pI(t,n,e),new os(n)}),pI=(t,e,n)=>{t.locals.forEach((r,o)=>{const s=r[0][1],u=o.patch(o.fork)(s);At(s,u)?e.set(o,r):e.set(o,[[n,u],...r])})},gI=L(2,(t,e)=>{const n=new Map(t.locals);return n.delete(e),new os(n)}),s8=L(2,(t,e)=>t.locals.has(e)?Rt(tr(t.locals.get(e))[1]):ut()),ol=L(2,(t,e)=>H(s8(t,e),xe(()=>e.initial))),uv=L(2,(t,{fiberId:e,fiberRef:n,value:r})=>{if(t.locals.size===0)return new os(new Map([[n,[[e,r]]]]));const o=new Map(t.locals);return cv(o,e,n,r),new os(o)}),cv=(t,e,n,r)=>{const o=t.get(n)??[];let s;if(tn(o)){const[u,c]=tr(o);if(u[Ot](e)){if(At(c,r))return;s=[[e,r],...o.slice(1)]}else s=[[e,r],...o]}else s=[[e,r]];t.set(n,s)},a8=L(2,(t,{entries:e,forkAs:n})=>{if(t.locals.size===0)return new os(new Map(e));const r=new Map(t.locals);return n!==void 0&&pI(t,r,n),e.forEach(([o,s])=>{s.length===1?cv(r,s[0][0],o,s[0][1]):s.forEach(([u,c])=>{cv(r,u,o,c)})}),new os(r)}),u8=ol,c8=a8,l8=n8,f8=hK,d8=pK,h8=gK,p8=mK,g8=Kk,m8=qk,y8=yK,v8=vK,_8=H(eu,MO(t=>t.ordinal)),b8=MD(_8),S8=t=>{switch(t){case"All":return f8;case"Debug":return m8;case"Error":return h8;case"Fatal":return d8;case"Info":return g8;case"Trace":return y8;case"None":return v8;case"Warning":return p8}},mI=t=>t.replace(/[\s="]/g,"_"),w8=t=>e=>`${mI(e.label)}=${t-e.startTime}ms`,E8=Ol,x8=_D;class C8 extends x8{}const yI="Empty",vI="Add",_I="Remove",bI="Update",SI="AndThen",T8={_tag:yI},O8=(t,e)=>{const n=new Map(t.locals);let r=T8;for(const[o,s]of e.locals.entries()){const u=tr(s)[1],c=n.get(o);if(c!==void 0){const f=tr(c)[1];At(f,u)||(r=Jm({_tag:bI,fiberRef:o,patch:o.diff(f,u)})(r))}else r=Jm({_tag:vI,fiberRef:o,value:u})(r);n.delete(o)}for(const[o]of n.entries())r=Jm({_tag:_I,fiberRef:o})(r);return r},Jm=L(2,(t,e)=>({_tag:SI,first:t,second:e})),A8=L(3,(t,e,n)=>{let r=n,o=ao(t);for(;tn(o);){const s=tr(o),u=Ws(o);switch(s._tag){case yI:{o=u;break}case vI:{r=uv(r,{fiberId:e,fiberRef:s.fiberRef,value:s.value}),o=u;break}case _I:{r=gI(r,s.fiberRef),o=u;break}case bI:{const c=ol(r,s.fiberRef);r=uv(r,{fiberId:e,fiberRef:s.fiberRef,value:s.fiberRef.patch(s.patch)(c)}),o=u;break}case SI:{o=Yd(s.first)(Yd(s.second)(u));break}}}return r}),wI="effect/MetricLabel",lv=Symbol.for(wI);var xT;class k8{constructor(e,n){_(this,"key");_(this,"value");_(this,xT,lv);_(this,"_hash");this.key=e,this.value=n,this._hash=Me(wI+this.key+this.value)}[(xT=lv,It)](){return this._hash}[Ot](e){return R8(e)&&this.key===e.key&&this.value===e.value}pipe(){return _t(this,arguments)}}const I8=(t,e)=>new k8(t,e),R8=t=>Ct(t,lv),$8="Sequential",P8="Parallel",M8="ParallelN",EI={_tag:$8},N8={_tag:P8},L8=t=>({_tag:M8,parallelism:t}),fv=EI,dv=N8,hv=L8,F8=O8,B8=A8,mp="effect/FiberStatus",Js=Symbol.for(mp),ch="Done",JE="Running",YE="Suspended",j8=Me(`${mp}-${ch}`);var CT;class D8{constructor(){_(this,CT,Js);_(this,"_tag",ch)}[(CT=Js,It)](){return j8}[Ot](e){return s_(e)&&e._tag===ch}}var TT;class U8{constructor(e){_(this,"runtimeFlags");_(this,TT,Js);_(this,"_tag",JE);this.runtimeFlags=e}[(TT=Js,It)](){return H(ct(mp),Bt(ct(this._tag)),Bt(ct(this.runtimeFlags)),Ce(this))}[Ot](e){return s_(e)&&e._tag===JE&&this.runtimeFlags===e.runtimeFlags}}var OT;class z8{constructor(e,n){_(this,"runtimeFlags");_(this,"blockingOn");_(this,OT,Js);_(this,"_tag",YE);this.runtimeFlags=e,this.blockingOn=n}[(OT=Js,It)](){return H(ct(mp),Bt(ct(this._tag)),Bt(ct(this.runtimeFlags)),Bt(ct(this.blockingOn)),Ce(this))}[Ot](e){return s_(e)&&e._tag===YE&&this.runtimeFlags===e.runtimeFlags&&At(this.blockingOn,e.blockingOn)}}const W8=new D8,K8=t=>new U8(t),q8=(t,e)=>new z8(t,e),s_=t=>Ct(t,Js),V8=t=>t._tag===ch,H8=W8,xI=K8,G8=q8,J8=V8,Y8=Symbol.for("effect/Micro"),lh=Symbol.for("effect/Micro/MicroExit"),XE=Symbol.for("effect/Micro/MicroCause"),X8={_E:Fe};var AT;class CI extends globalThis.Error{constructor(n,r,o){const s=`MicroCause.${n}`;let u,c,f;if(r instanceof globalThis.Error){u=`(${s}) ${r.name}`,c=r.message;const d=c.split(`
`).length;f=r.stack?`(${s}) ${r.stack.split(`
`).slice(0,d+3).join(`
`)}`:`${u}: ${c}`}else u=s,c=Qa(r,0),f=`${u}: ${c}`;o.length>0&&(f+=`
    ${o.join(`
    `)}`);super(c);_(this,"_tag");_(this,"traces");_(this,AT);this._tag=n,this.traces=o,this[XE]=X8,this.name=u,this.stack=f}pipe(){return _t(this,arguments)}toString(){return this.stack}[(AT=XE,ve)](){return this.stack}}class Q8 extends CI{constructor(n,r=[]){super("Die",n,r);_(this,"defect");this.defect=n}}const Z8=(t,e=[])=>new Q8(t,e);class t7 extends CI{constructor(e=[]){super("Interrupt","interrupted",e)}}const e7=(t=[])=>new t7(t),n7=t=>t._tag==="Interrupt",QE=Symbol.for("effect/Micro/MicroFiber"),r7={_A:Fe,_E:Fe};var kT;kT=QE;class o7{constructor(e,n=!0){_(this,"context");_(this,"interruptible");_(this,kT);_(this,"_stack",[]);_(this,"_observers",[]);_(this,"_exit");_(this,"_children");_(this,"currentOpCount",0);_(this,"_interrupted",!1);_(this,"_yielded");this.context=e,this.interruptible=n,this[QE]=r7}getRef(e){return Oz(this.context,e)}addObserver(e){return this._exit?(e(this._exit),U3):(this._observers.push(e),()=>{const n=this._observers.indexOf(e);n>=0&&this._observers.splice(n,1)})}unsafeInterrupt(){this._exit||(this._interrupted=!0,this.interruptible&&this.evaluate(f_))}unsafePoll(){return this._exit}evaluate(e){if(this._exit)return;if(this._yielded!==void 0){const o=this._yielded;this._yielded=void 0,o()}const n=this.runLoop(e);if(n===Zf)return;const r=ZE.interruptChildren&&ZE.interruptChildren(this);if(r!==void 0)return this.evaluate(dh(r,()=>n));this._exit=n;for(let o=0;o<this._observers.length;o++)this._observers[o](n);this._observers.length=0}runLoop(e){let n=!1,r=e;this.currentOpCount=0;try{for(;;){if(this.currentOpCount++,!n&&this.getRef(d_).shouldYield(this)){n=!0;const o=r;r=dh(c7,()=>o)}if(r=r[pv](this),r===Zf){const o=this._yielded;return lh in o?(this._yielded=void 0,o):Zf}}}catch(o){return Ct(r,pv)?gv(o):gv(`MicroFiber.runLoop: Not a valid effect: ${String(r)}`)}}getCont(e){for(;;){const n=this._stack.pop();if(!n)return;const r=n[fh]&&n[fh](this);if(r)return{[e]:r};if(n[e])return n}}yieldWith(e){return this._yielded=e,Zf}children(){return this._children??(this._children=new Set)}}const ZE=jt("effect/Micro/fiberMiddleware",()=>({interruptChildren:void 0})),TI=Symbol.for("effect/Micro/identifier"),qe=Symbol.for("effect/Micro/args"),pv=Symbol.for("effect/Micro/evaluate"),yu=Symbol.for("effect/Micro/successCont"),Ga=Symbol.for("effect/Micro/failureCont"),fh=Symbol.for("effect/Micro/ensureCont"),Zf=Symbol.for("effect/Micro/Yield"),i7={_A:Fe,_E:Fe,_R:Fe},s7={...E8,_op:"Micro",[Y8]:i7,pipe(){return _t(this,arguments)},[Symbol.iterator](){return new mO(new xl(this))},toJSON(){return{_id:"Micro",op:this[TI],...qe in this?{args:this[qe]}:void 0}},toString(){return Ze(this)},[ve](){return Ze(this)}};function a7(t){return gv("Micro.evaluate: Not implemented")}const yp=t=>({...s7,[TI]:t.op,[pv]:t.eval??a7,[yu]:t.contA,[Ga]:t.contE,[fh]:t.ensure}),a_=t=>{const e=yp(t);return function(){const n=Object.create(e);return n[qe]=t.single===!1?arguments:arguments[0],n}},OI=t=>{const e={...yp(t),[lh]:lh,_tag:t.op,get[t.prop](){return this[qe]},toJSON(){return{_id:"MicroExit",_tag:t.op,[t.prop]:this[qe]}},[Ot](n){return d7(n)&&n._tag===t.op&&At(this[qe],n[qe])},[It](){return Ce(this,Bt(Me(t.op))(ct(this[qe])))}};return function(n){const r=Object.create(e);return r[qe]=n,r[yu]=void 0,r[Ga]=void 0,r[fh]=void 0,r}},u_=OI({op:"Success",prop:"value",eval(t){const e=t.getCont(yu);return e?e[yu](this[qe],t):t.yieldWith(this)}}),AI=OI({op:"Failure",prop:"cause",eval(t){let e=t.getCont(Ga);for(;n7(this[qe])&&e&&t.interruptible;)e=t.getCont(Ga);return e?e[Ga](this[qe],t):t.yieldWith(this)}}),u7=a_({op:"Yield",eval(t){let e=!1;return t.getRef(d_).scheduleTask(()=>{e||t.evaluate(h7)},this[qe]??0),t.yieldWith(()=>{e=!0})}}),c7=u7(0),l7=u_(void 0),c_=a_({op:"WithMicroFiber",eval(t){return this[qe](t)}}),dh=L(2,(t,e)=>{const n=Object.create(f7);return n[qe]=t,n[yu]=e,n}),f7=yp({op:"OnSuccess",eval(t){return t._stack.push(this),this[qe]}}),d7=t=>Ct(t,lh),kI=u_,l_=AI,f_=l_(e7()),gv=t=>l_(Z8(t)),h7=kI(void 0),p7="setImmediate"in globalThis?globalThis.setImmediate:t=>setTimeout(t,0);class II{constructor(){_(this,"tasks",[]);_(this,"running",!1);_(this,"afterScheduled",()=>{this.running=!1,this.runTasks()})}scheduleTask(e,n){this.tasks.push(e),this.running||(this.running=!0,p7(this.afterScheduled))}runTasks(){const e=this.tasks;this.tasks=[];for(let n=0,r=e.length;n<r;n++)e[n]()}shouldYield(e){return e.currentOpCount>=e.getRef(y7)}flush(){for(;this.tasks.length>0;)this.runTasks()}}const g7=L(2,(t,e)=>c_(n=>{const r=n.context;return n.context=e(r),b7(t,()=>(n.context=r,l7))})),m7=L(2,(t,e)=>g7(t,kA(e)));class y7 extends IA()("effect/Micro/currentMaxOpsBeforeYield",{defaultValue:()=>2048}){}class d_ extends IA()("effect/Micro/currentScheduler",{defaultValue:()=>new II}){}const v7=L(2,(t,e)=>{const n=Object.create(_7);return n[qe]=t,n[yu]=e.onSuccess,n[Ga]=e.onFailure,n}),_7=yp({op:"OnSuccessAndFailure",eval(t){return t._stack.push(this),this[qe]}}),b7=L(2,(t,e)=>w7(n=>v7(n(t),{onFailure:r=>dh(e(l_(r)),()=>AI(r)),onSuccess:r=>dh(e(kI(r)),()=>u_(r))}))),RI=a_({op:"SetInterruptible",ensure(t){if(t.interruptible=this[qe],t._interrupted&&t.interruptible)return()=>f_}}),S7=t=>c_(e=>e.interruptible?t:(e.interruptible=!0,e._stack.push(RI(!1)),e._interrupted?f_:t)),w7=t=>c_(e=>e.interruptible?(e.interruptible=!1,e._stack.push(RI(!0)),t(S7)):t(Fe)),E7=(t,e)=>{const n=new o7(d_.context(new II));return n.evaluate(t),n};class $I{constructor(){_(this,"buckets",[])}scheduleTask(e,n){const r=this.buckets.length;let o,s=0;for(;s<r&&this.buckets[s][0]<=n;s++)o=this.buckets[s];o&&o[0]===n?o[1].push(e):s===r?this.buckets.push([n,[e]]):this.buckets.splice(s,0,[n,[e]])}}class x7{constructor(e){_(this,"maxNextTickBeforeTimer");_(this,"running",!1);_(this,"tasks",new $I);this.maxNextTickBeforeTimer=e}starveInternal(e){const n=this.tasks.buckets;this.tasks.buckets=[];for(const[r,o]of n)for(let s=0;s<o.length;s++)o[s]();this.tasks.buckets.length===0?this.running=!1:this.starve(e)}starve(e=0){e>=this.maxNextTickBeforeTimer?setTimeout(()=>this.starveInternal(0),0):Promise.resolve(void 0).then(()=>this.starveInternal(e+1))}shouldYield(e){return e.currentOpCount>e.getFiberRef(Hk)?e.getFiberRef(pp):!1}scheduleTask(e,n){this.tasks.scheduleTask(e,n),this.running||(this.running=!0,this.starve())}}const PI=jt(Symbol.for("effect/Scheduler/defaultScheduler"),()=>new x7(2048));class MI{constructor(){_(this,"tasks",new $I);_(this,"deferred",!1)}scheduleTask(e,n){this.deferred?PI.scheduleTask(e,n):this.tasks.scheduleTask(e,n)}shouldYield(e){return e.currentOpCount>e.getFiberRef(Hk)?e.getFiberRef(pp):!1}flush(){for(;this.tasks.buckets.length>0;){const e=this.tasks.buckets;this.tasks.buckets=[];for(const[n,r]of e)for(let o=0;o<r.length;o++)r[o]()}this.deferred=!0}}const NI=jt(Symbol.for("effect/FiberRef/currentScheduler"),()=>Tr(PI)),LI=jt(Symbol.for("effect/FiberRef/currentRequestMap"),()=>Tr(new Map)),tx=(t,e,n,r)=>{switch(t){case void 0:return e();case"unbounded":return n();case"inherit":return t_(IK,o=>o==="unbounded"?n():o>1?r(o):e());default:return t>1?r(t):e()}},h_="InterruptSignal",p_="Stateful",g_="Resume",m_="YieldNow",Ym=t=>({_tag:h_,cause:t}),kd=t=>({_tag:p_,onFiber:t}),Ia=t=>({_tag:g_,effect:t}),C7=()=>({_tag:m_}),T7="effect/FiberScope",hh=Symbol.for(T7);var IT;IT=hh;class O7{constructor(){_(this,IT,hh);_(this,"fiberId",cu);_(this,"roots",new Set)}add(e,n){this.roots.add(n),n.addObserver(()=>{this.roots.delete(n)})}}var RT;RT=hh;class A7{constructor(e,n){_(this,"fiberId");_(this,"parent");_(this,RT,hh);this.fiberId=e,this.parent=n}add(e,n){this.parent.tell(kd(r=>{r.addChild(n),n.addObserver(()=>{r.removeChild(n)})}))}}const k7=t=>new A7(t.id(),t),y_=jt(Symbol.for("effect/FiberScope/Global"),()=>new O7),I7="effect/Fiber",R7=Symbol.for(I7),$7={_E:t=>t,_A:t=>t},P7="effect/Fiber",M7=Symbol.for(P7),FI=t=>zk(Fk(t.await),t.inheritAll);({...kl});const xs="effect/FiberCurrent",N7="effect/Logger",L7=Symbol.for(N7),F7={_Message:t=>t,_Output:t=>t},v_=t=>({[L7]:F7,log:t,pipe(){return _t(this,arguments)}}),B7=/^[^\s"=]*$/,j7=(t,e)=>({annotations:n,cause:r,date:o,fiberId:s,logLevel:u,message:c,spans:f})=>{const d=S=>S.match(B7)?S:t(S),h=(S,x)=>`${mI(S)}=${d(x)}`,g=(S,x)=>" "+h(S,x);let y=h("timestamp",o.toISOString());y+=g("level",u.label),y+=g("fiber",nk(s));const v=HD(c);for(let S=0;S<v.length;S++)y+=g("message",Qa(v[S],e));R6(r)||(y+=g("cause",Nu(r,{renderErrorCause:!0})));for(const S of f)y+=" "+w8(o.getTime())(S);for(const[S,x]of n)y+=g(S,Qa(x,e));return y},D7=t=>`"${t.replace(/\\([\s\S])|(")/g,"\\$1$2")}"`,U7=v_(j7(D7)),z7=typeof ho=="object"&&ho!==null&&typeof ho.stdout=="object"&&ho.stdout!==null;z7&&ho.stdout.isTTY;const BI="effect/MetricBoundaries",mv=Symbol.for(BI);var $T;class W7{constructor(e){_(this,"values");_(this,$T,mv);_(this,"_hash");this.values=e,this._hash=H(Me(BI),Bt(Cl(this.values)))}[($T=mv,It)](){return this._hash}[Ot](e){return K7(e)&&At(this.values,e.values)}pipe(){return _t(this,arguments)}}const K7=t=>Ct(t,mv),q7=t=>{const e=H(t,LO(_r(Number.POSITIVE_INFINITY)),lU);return new W7(e)},V7=t=>H(VD(t.count-1,e=>t.start*Math.pow(t.factor,e)),Yh,q7),H7="effect/MetricKeyType",jI=Symbol.for(H7),DI="effect/MetricKeyType/Counter",yv=Symbol.for(DI),G7="effect/MetricKeyType/Frequency",J7=Symbol.for(G7),Y7="effect/MetricKeyType/Gauge",X7=Symbol.for(Y7),UI="effect/MetricKeyType/Histogram",vv=Symbol.for(UI),Q7="effect/MetricKeyType/Summary",Z7=Symbol.for(Q7),zI={_In:t=>t,_Out:t=>t};var PT,MT;class t9{constructor(e,n){_(this,"incremental");_(this,"bigint");_(this,MT,zI);_(this,PT,yv);_(this,"_hash");this.incremental=e,this.bigint=n,this._hash=Me(DI)}[(MT=jI,PT=yv,It)](){return this._hash}[Ot](e){return WI(e)}pipe(){return _t(this,arguments)}}var NT,LT;class e9{constructor(e){_(this,"boundaries");_(this,LT,zI);_(this,NT,vv);_(this,"_hash");this.boundaries=e,this._hash=H(Me(UI),Bt(ct(this.boundaries)))}[(LT=jI,NT=vv,It)](){return this._hash}[Ot](e){return KI(e)&&At(this.boundaries,e.boundaries)}pipe(){return _t(this,arguments)}}const n9=t=>new t9((t==null?void 0:t.incremental)??!1,(t==null?void 0:t.bigint)??!1),r9=t=>new e9(t),WI=t=>Ct(t,yv),o9=t=>Ct(t,J7),i9=t=>Ct(t,X7),KI=t=>Ct(t,vv),s9=t=>Ct(t,Z7),a9="effect/MetricKey",qI=Symbol.for(a9),u9={_Type:t=>t},c9=S0(At);var FT;class __{constructor(e,n,r,o=[]){_(this,"name");_(this,"keyType");_(this,"description");_(this,"tags");_(this,FT,u9);_(this,"_hash");this.name=e,this.keyType=n,this.description=r,this.tags=o,this._hash=H(Me(this.name+this.description),Bt(ct(this.keyType)),Bt(Cl(this.tags)))}[(FT=qI,It)](){return this._hash}[Ot](e){return l9(e)&&this.name===e.name&&At(this.keyType,e.keyType)&&At(this.description,e.description)&&c9(this.tags,e.tags)}pipe(){return _t(this,arguments)}}const l9=t=>Ct(t,qI),f9=(t,e)=>new __(t,n9(e),Ti(e==null?void 0:e.description)),d9=(t,e,n)=>new __(t,r9(e),Ti(n)),h9=L(2,(t,e)=>e.length===0?t:new __(t.name,t.keyType,t.description,Ed(t.tags,e))),p9="effect/MetricState",zl=Symbol.for(p9),VI="effect/MetricState/Counter",_v=Symbol.for(VI),HI="effect/MetricState/Frequency",bv=Symbol.for(HI),GI="effect/MetricState/Gauge",Sv=Symbol.for(GI),JI="effect/MetricState/Histogram",wv=Symbol.for(JI),YI="effect/MetricState/Summary",Ev=Symbol.for(YI),Wl={_A:t=>t};var BT,jT;class g9{constructor(e){_(this,"count");_(this,jT,Wl);_(this,BT,_v);this.count=e}[(jT=zl,BT=_v,It)](){return H(ct(VI),Bt(ct(this.count)),Ce(this))}[Ot](e){return T9(e)&&this.count===e.count}pipe(){return _t(this,arguments)}}const m9=S0(At);var DT,UT;class y9{constructor(e){_(this,"occurrences");_(this,UT,Wl);_(this,DT,bv);_(this,"_hash");this.occurrences=e}[(UT=zl,DT=bv,It)](){return H(Me(HI),Bt(Cl(Be(this.occurrences.entries()))),Ce(this))}[Ot](e){return O9(e)&&m9(Be(this.occurrences.entries()),Be(e.occurrences.entries()))}pipe(){return _t(this,arguments)}}var zT,WT;class v9{constructor(e){_(this,"value");_(this,WT,Wl);_(this,zT,Sv);this.value=e}[(WT=zl,zT=Sv,It)](){return H(ct(GI),Bt(ct(this.value)),Ce(this))}[Ot](e){return A9(e)&&this.value===e.value}pipe(){return _t(this,arguments)}}var KT,qT;class _9{constructor(e,n,r,o,s){_(this,"buckets");_(this,"count");_(this,"min");_(this,"max");_(this,"sum");_(this,qT,Wl);_(this,KT,wv);this.buckets=e,this.count=n,this.min=r,this.max=o,this.sum=s}[(qT=zl,KT=wv,It)](){return H(ct(JI),Bt(ct(this.buckets)),Bt(ct(this.count)),Bt(ct(this.min)),Bt(ct(this.max)),Bt(ct(this.sum)),Ce(this))}[Ot](e){return k9(e)&&At(this.buckets,e.buckets)&&this.count===e.count&&this.min===e.min&&this.max===e.max&&this.sum===e.sum}pipe(){return _t(this,arguments)}}var VT,HT;class b9{constructor(e,n,r,o,s,u){_(this,"error");_(this,"quantiles");_(this,"count");_(this,"min");_(this,"max");_(this,"sum");_(this,HT,Wl);_(this,VT,Ev);this.error=e,this.quantiles=n,this.count=r,this.min=o,this.max=s,this.sum=u}[(HT=zl,VT=Ev,It)](){return H(ct(YI),Bt(ct(this.error)),Bt(ct(this.quantiles)),Bt(ct(this.count)),Bt(ct(this.min)),Bt(ct(this.max)),Bt(ct(this.sum)),Ce(this))}[Ot](e){return I9(e)&&this.error===e.error&&At(this.quantiles,e.quantiles)&&this.count===e.count&&this.min===e.min&&this.max===e.max&&this.sum===e.sum}pipe(){return _t(this,arguments)}}const S9=t=>new g9(t),w9=t=>new y9(t),E9=t=>new v9(t),x9=t=>new _9(t.buckets,t.count,t.min,t.max,t.sum),C9=t=>new b9(t.error,t.quantiles,t.count,t.min,t.max,t.sum),T9=t=>Ct(t,_v),O9=t=>Ct(t,bv),A9=t=>Ct(t,Sv),k9=t=>Ct(t,wv),I9=t=>Ct(t,Ev),R9="effect/MetricHook",$9=Symbol.for(R9),P9={_In:t=>t,_Out:t=>t},Kl=t=>({[$9]:P9,pipe(){return _t(this,arguments)},...t}),ex=BigInt(0),M9=t=>{let e=t.keyType.bigint?ex:0;const n=t.keyType.incremental?t.keyType.bigint?o=>o>=ex:o=>o>=0:o=>!0,r=o=>{n(o)&&(e=e+o)};return Kl({get:()=>S9(e),update:r,modify:r})},N9=t=>{const e=new Map;for(const r of t.keyType.preregisteredWords)e.set(r,0);const n=r=>{const o=e.get(r)??0;e.set(r,o+1)};return Kl({get:()=>w9(e),update:n,modify:n})},L9=(t,e)=>{let n=e;return Kl({get:()=>E9(n),update:r=>{n=r},modify:r=>{n=n+r}})},F9=t=>{const e=t.keyType.boundaries.values,n=e.length,r=new Uint32Array(n+1),o=new Float32Array(n);let s=0,u=0,c=Number.MAX_VALUE,f=Number.MIN_VALUE;H(e,Jc(eu),Wa((g,y)=>{o[y]=g}));const d=g=>{let y=0,v=n;for(;y!==v;){const S=Math.floor(y+(v-y)/2),x=o[S];g<=x?v=S:y=S,v===y+1&&(g<=o[y]?v=y:y=v)}r[y]=r[y]+1,s=s+1,u=u+g,g<c&&(c=g),g>f&&(f=g)},h=()=>{const g=qh(n);let y=0;for(let v=0;v<n;v++){const S=o[v],x=r[v];y=y+x,g[v]=[S,y]}return g};return Kl({get:()=>x9({buckets:h(),count:s,min:c,max:f,sum:u}),update:d,modify:d})},B9=t=>{const{error:e,maxAge:n,maxSize:r,quantiles:o}=t.keyType,s=H(o,Jc(eu)),u=qh(r);let c=0,f=0,d=0,h=Number.MAX_VALUE,g=Number.MIN_VALUE;const y=S=>{const x=[];let T=0;for(;T!==r-1;){const O=u[T];if(O!=null){const[N,P]=O,R=Ky(S-N);nW(R,BA)&&R<=n&&x.push(P)}T=T+1}return j9(e,s,Jc(x,eu))},v=(S,x)=>{if(r>0){c=c+1;const T=c%r;u[T]=[x,S]}f=f+1,d=d+S,S<h&&(h=S),S>g&&(g=S)};return Kl({get:()=>C9({error:e,quantiles:y(Date.now()),count:f,min:h,max:g,sum:d}),update:([S,x])=>v(S,x),modify:([S,x])=>v(S,x)})},j9=(t,e,n)=>{const r=n.length;if(!tn(e))return tu();const o=e[0],s=e.slice(1),u=nx(t,r,ut(),0,o,n),c=ao(u);return s.forEach(f=>{c.push(nx(t,r,u.value,u.consumed,f,u.rest))}),Wa(c,f=>[f.quantile,f.value])},nx=(t,e,n,r,o,s)=>{let u=t,c=e,f=n,d=r,h=o,g=s,y=t,v=e,S=n,x=r,T=o,O=s;for(;;){if(!tn(g))return{quantile:h,value:ut(),consumed:d,rest:[]};if(h===1)return{quantile:h,value:Rt(jO(g)),consumed:d+g.length,rest:[]};const N=rU(g,k=>k<=g[0]),P=h*c,R=u/2*P,j=d+N[0].length,B=Math.abs(j-P);if(j<P-R){y=u,v=c,S=Uc(g),x=j,T=h,O=N[1],u=y,c=v,f=S,d=x,h=T,g=O;continue}if(j>P+R)return{quantile:h,value:f,consumed:d,rest:g};switch(f._tag){case"None":{y=u,v=c,S=Uc(g),x=j,T=h,O=N[1],u=y,c=v,f=S,d=x,h=T,g=O;continue}case"Some":{const k=Math.abs(P-f.value);if(B<k){y=u,v=c,S=Uc(g),x=j,T=h,O=N[1],u=y,c=v,f=S,d=x,h=T,g=O;continue}return{quantile:h,value:Rt(f.value),consumed:d,rest:g}}}}throw new Error("BUG: MetricHook.resolveQuantiles - please report an issue at https://github.com/Effect-TS/effect/issues")},D9="effect/MetricPair",U9=Symbol.for(D9),z9={_Type:t=>t},W9=(t,e)=>({[U9]:z9,metricKey:t,metricState:e,pipe(){return _t(this,arguments)}}),K9="effect/MetricRegistry",rx=Symbol.for(K9);var GT;GT=rx;class q9{constructor(){_(this,GT,rx);_(this,"map",ZK())}snapshot(){const e=[];for(const[n,r]of this.map)e.push(W9(n,r.get()));return e}get(e){const n=H(this.map,As(e),uo);if(n==null){if(WI(e.keyType))return this.getCounter(e);if(i9(e.keyType))return this.getGauge(e);if(o9(e.keyType))return this.getFrequency(e);if(KI(e.keyType))return this.getHistogram(e);if(s9(e.keyType))return this.getSummary(e);throw new Error("BUG: MetricRegistry.get - unknown MetricKeyType - please report an issue at https://github.com/Effect-TS/effect/issues")}else return n}getCounter(e){let n=H(this.map,As(e),uo);if(n==null){const r=M9(e);H(this.map,Sc(e))||H(this.map,wc(e,r)),n=r}return n}getFrequency(e){let n=H(this.map,As(e),uo);if(n==null){const r=N9(e);H(this.map,Sc(e))||H(this.map,wc(e,r)),n=r}return n}getGauge(e){let n=H(this.map,As(e),uo);if(n==null){const r=L9(e,e.keyType.bigint?BigInt(0):0);H(this.map,Sc(e))||H(this.map,wc(e,r)),n=r}return n}getHistogram(e){let n=H(this.map,As(e),uo);if(n==null){const r=F9(e);H(this.map,Sc(e))||H(this.map,wc(e,r)),n=r}return n}getSummary(e){let n=H(this.map,As(e),uo);if(n==null){const r=B9(e);H(this.map,Sc(e))||H(this.map,wc(e,r)),n=r}return n}}const V9=()=>new q9,H9="effect/Metric",G9=Symbol.for(H9),J9={_Type:t=>t,_In:t=>t,_Out:t=>t},ox=jt(Symbol.for("effect/Metric/globalMetricRegistry"),()=>V9()),XI=function(t,e,n,r){const o=Object.assign(s=>cK(s,u=>Z9(o,u)),{[G9]:J9,keyType:t,unsafeUpdate:e,unsafeValue:n,unsafeModify:r,register(){return this.unsafeValue([]),this},pipe(){return _t(this,arguments)}});return o},vp=(t,e)=>QI(f9(t,e)),QI=t=>{let e;const n=new WeakMap,r=o=>{if(o.length===0)return e!==void 0||(e=ox.get(t)),e;let s=n.get(o);return s!==void 0||(s=ox.get(h9(t,o)),n.set(o,s)),s};return XI(t.keyType,(o,s)=>r(s).update(o),o=>r(o).get(),(o,s)=>r(s).modify(o))},Y9=(t,e,n)=>QI(d9(t,e,n)),X9=L(3,(t,e,n)=>Q9(t,[I8(e,n)])),Q9=L(2,(t,e)=>XI(t.keyType,(n,r)=>t.unsafeUpdate(n,Ed(e,r)),n=>t.unsafeValue(Ed(e,n)),(n,r)=>t.unsafeModify(n,Ed(e,r)))),Z9=L(2,(t,e)=>t_(ov,n=>wt(()=>t.unsafeUpdate(e,n))));({...Al});const tV=L(2,(t,e)=>t_(LI,n=>wt(()=>{if(n.has(t)){const r=n.get(t);r.state.completed||(r.state.completed=!0,Qk(r.result,e))}}))),eV="effect/Supervisor",_p=Symbol.for(eV),b_={_T:t=>t};var JT;JT=_p;const dS=class dS{constructor(e,n){_(this,"underlying");_(this,"value0");_(this,JT,b_);this.underlying=e,this.value0=n}get value(){return this.value0}onStart(e,n,r,o){this.underlying.onStart(e,n,r,o)}onEnd(e,n){this.underlying.onEnd(e,n)}onEffect(e,n){this.underlying.onEffect(e,n)}onSuspend(e){this.underlying.onSuspend(e)}onResume(e){this.underlying.onResume(e)}map(e){return new dS(this,H(this.value,Zn(e)))}zip(e){return new gh(this,e)}};let ph=dS;var YT;YT=_p;const hS=class hS{constructor(e,n){_(this,"left");_(this,"right");_(this,"_tag","Zip");_(this,YT,b_);this.left=e,this.right=n}get value(){return Uk(this.left.value,this.right.value)}onStart(e,n,r,o){this.left.onStart(e,n,r,o),this.right.onStart(e,n,r,o)}onEnd(e,n){this.left.onEnd(e,n),this.right.onEnd(e,n)}onEffect(e,n){this.left.onEffect(e,n),this.right.onEffect(e,n)}onSuspend(e){this.left.onSuspend(e),this.right.onSuspend(e)}onResume(e){this.left.onResume(e),this.right.onResume(e)}map(e){return new ph(this,H(this.value,Zn(e)))}zip(e){return new hS(this,e)}};let gh=hS;const ZI=t=>Ct(t,_p)&&l0(t,"Zip");var XT;XT=_p;class nV{constructor(e){_(this,"effect");_(this,XT,b_);this.effect=e}get value(){return this.effect}onStart(e,n,r,o){}onEnd(e,n){}onEffect(e,n){}onSuspend(e){}onResume(e){}map(e){return new ph(this,H(this.value,Zn(e)))}zip(e){return new gh(this,e)}onRun(e,n){return e()}}const rV=t=>new nV(t),bp=jt("effect/Supervisor/none",()=>rV(_o)),oV=Ru,tR="Empty",eR="AddSupervisor",nR="RemoveSupervisor",rR="AndThen",Wc={_tag:tR},Id=(t,e)=>({_tag:rR,first:t,second:e}),iV=(t,e)=>sV(e,_r(t)),sV=(t,e)=>{let n=t,r=e;for(;iu(r);){const o=su(r);switch(o._tag){case tR:{r=Rs(r);break}case eR:{n=n.zip(o.supervisor),r=Rs(r);break}case nR:{n=xv(n,o.supervisor),r=Rs(r);break}case rR:{r=yo(o.first)(yo(o.second)(Rs(r)));break}}}return n},xv=(t,e)=>At(t,e)?bp:ZI(t)?xv(t.left,e).zip(xv(t.right,e)):t,mh=t=>At(t,bp)?qs():ZI(t)?H(mh(t.left),Qc(mh(t.right))):j0(t),aV=(t,e)=>{if(At(t,e))return Wc;const n=mh(t),r=mh(e),o=H(r,mE(n),th(Wc,(u,c)=>Id(u,{_tag:eR,supervisor:c}))),s=H(n,mE(r),th(Wc,(u,c)=>Id(u,{_tag:nR,supervisor:c})));return Id(o,s)},uV=oV({empty:Wc,patch:iV,combine:Id,diff:aV}),cV=vp("effect_fiber_started",{incremental:!0}),ix=vp("effect_fiber_active"),lV=vp("effect_fiber_successes",{incremental:!0}),fV=vp("effect_fiber_failures",{incremental:!0}),dV=X9(Y9("effect_fiber_lifetimes",V7({start:.5,factor:2,count:35})),"time_unit","milliseconds"),Ec="Continue",hV="Done",sx="Yield",pV={_E:t=>t,_A:t=>t},td=t=>{throw new Error(`BUG: FiberRuntime - ${Qa(t)} - please report an issue at https://github.com/Effect-TS/effect/issues`)},li=Symbol.for("effect/internal/fiberRuntime/YieldedOp"),fi=jt("effect/internal/fiberRuntime/yieldedOpChannel",()=>({currentOp:null})),xc={[Vd]:(t,e,n)=>Un(()=>e.effect_instruction_i1(n)),OnStep:(t,e,n)=>Ne(Ne(n)),[Hd]:(t,e,n)=>Un(()=>e.effect_instruction_i2(n)),[g0]:(t,e,n)=>(t.patchRuntimeFlags(t.currentRuntimeFlags,e.patch),Gi(t.currentRuntimeFlags)&&t.isInterrupted()?le(t.getInterruptedCause()):Ne(n)),[Gd]:(t,e,n)=>(Un(()=>e.effect_instruction_i2(n)),Un(()=>e.effect_instruction_i0())?(t.pushStack(e),Un(()=>e.effect_instruction_i1())):_o),[bd]:(t,e,n)=>{const r=Un(()=>e.effect_instruction_i0.next(n));return r.done?Ne(r.value):(t.pushStack(e),iD(r.value))}},gV={[h_]:(t,e,n,r)=>(t.processNewInterruptSignal(r.cause),Gi(e)?le(r.cause):n),[g_]:(t,e,n,r)=>{throw new Error("It is illegal to have multiple concurrent run loops in a single fiber")},[p_]:(t,e,n,r)=>(r.onFiber(t,xI(e)),n),[m_]:(t,e,n,r)=>St(Q0(),()=>n)},mV=t=>cp(p6(t),e=>Ds(A6(e),([n,r])=>{const o=new Map,s=[];for(const c of r){s.push(Bs(c));for(const f of c)o.set(f.request,f)}const u=s.flat();return hp(IV(n.runAll(s),u,()=>u.forEach(c=>{c.listeners.interrupted=!0})),LI,o)},!1,!1)),yV=Dh();var QT,ZT;class oR extends C8{constructor(n,r,o){super();_(this,ZT,$7);_(this,QT,pV);_(this,"_fiberRefs");_(this,"_fiberId");_(this,"_queue",new Array);_(this,"_children",null);_(this,"_observers",new Array);_(this,"_running",!1);_(this,"_stack",[]);_(this,"_asyncInterruptor",null);_(this,"_asyncBlockingOn",null);_(this,"_exitValue",null);_(this,"_steps",[]);_(this,"_isYielding",!1);_(this,"currentRuntimeFlags");_(this,"currentOpCount",0);_(this,"currentSupervisor");_(this,"currentScheduler");_(this,"currentTracer");_(this,"currentSpan");_(this,"currentContext");_(this,"currentDefaultServices");_(this,"run",()=>{this.drainQueueOnCurrentThread()});if(this.currentRuntimeFlags=o,this._fiberId=n,this._fiberRefs=r,SE(o)){const s=this.getFiberRef(ov);cV.unsafeUpdate(1,s),ix.unsafeUpdate(1,s)}this.refreshRefCache()}commit(){return FI(this)}id(){return this._fiberId}resume(n){this.tell(Ia(n))}get status(){return this.ask((n,r)=>r)}get runtimeFlags(){return this.ask((n,r)=>J8(r)?n.currentRuntimeFlags:r.runtimeFlags)}scope(){return k7(this)}get children(){return this.ask(n=>Array.from(n.getChildren()))}getChildren(){return this._children===null&&(this._children=new Set),this._children}getInterruptedCause(){return this.getFiberRef(Qf)}fiberRefs(){return this.ask(n=>n.getFiberRefs())}ask(n){return Ke(()=>{const r=KK(this._fiberId);return this.tell(kd((o,s)=>{Qk(r,wt(()=>n(o,s)))})),Xk(r)})}tell(n){this._queue.push(n),this._running||(this._running=!0,this.drainQueueLaterOnExecutor())}get await(){return rl(n=>{const r=o=>n(ye(o));return this.tell(kd((o,s)=>{o._exitValue!==null?r(this._exitValue):o.addObserver(r)})),wt(()=>this.tell(kd((o,s)=>{o.removeObserver(r)})))},this.id())}get inheritAll(){return br((n,r)=>{const o=n.id(),s=n.getFiberRefs(),u=r.runtimeFlags,c=this.getFiberRefs(),f=o8(s,o,c);n.setFiberRefs(f);const d=n.getFiberRef(fx),h=H(Td(u,d),EE($u),EE(ev));return fK(h)})}get poll(){return wt(()=>Ti(this._exitValue))}unsafePoll(){return this._exitValue}interruptAsFork(n){return wt(()=>this.tell(Ym(Yi(n))))}unsafeInterruptAsFork(n){this.tell(Ym(Yi(n)))}addObserver(n){this._exitValue!==null?n(this._exitValue):this._observers.push(n)}removeObserver(n){this._observers=this._observers.filter(r=>r!==n)}getFiberRefs(){return this.setFiberRef(fx,this.currentRuntimeFlags),this._fiberRefs}unsafeDeleteFiberRef(n){this._fiberRefs=gI(this._fiberRefs,n)}getFiberRef(n){return this._fiberRefs.locals.has(n)?this._fiberRefs.locals.get(n)[0][1]:n.initial}setFiberRef(n,r){this._fiberRefs=uv(this._fiberRefs,{fiberId:this._fiberId,fiberRef:n,value:r}),this.refreshRefCache()}refreshRefCache(){this.currentDefaultServices=this.getFiberRef(uh),this.currentTracer=this.currentDefaultServices.unsafeMap.get(dI.key),this.currentSupervisor=this.getFiberRef(kV),this.currentScheduler=this.getFiberRef(NI),this.currentContext=this.getFiberRef(Dl),this.currentSpan=this.currentContext.unsafeMap.get(hI.key)}setFiberRefs(n){this._fiberRefs=n,this.refreshRefCache()}addChild(n){this.getChildren().add(n)}removeChild(n){this.getChildren().delete(n)}transferChildren(n){const r=this._children;if(this._children=null,r!==null&&r.size>0)for(const o of r)o._exitValue===null&&n.add(this.currentRuntimeFlags,o)}drainQueueOnCurrentThread(){let n=!0;for(;n;){let r=Ec;const o=globalThis[xs];globalThis[xs]=this;try{for(;r===Ec;)r=this._queue.length===0?hV:this.evaluateMessageWhileSuspended(this._queue.splice(0,1)[0])}finally{this._running=!1,globalThis[xs]=o}this._queue.length>0&&!this._running?(this._running=!0,r===sx?(this.drainQueueLaterOnExecutor(),n=!1):n=!0):n=!1}}drainQueueLaterOnExecutor(){this.currentScheduler.scheduleTask(this.run,this.getFiberRef(pp))}drainQueueWhileRunning(n,r){let o=r;for(;this._queue.length>0;){const s=this._queue.splice(0,1)[0];o=gV[s._tag](this,n,o,s)}return o}isInterrupted(){return!P6(this.getFiberRef(Qf))}addInterruptedCause(n){const r=this.getFiberRef(Qf);this.setFiberRef(Qf,Hr(r,n))}processNewInterruptSignal(n){this.addInterruptedCause(n),this.sendInterruptSignalToAllChildren()}sendInterruptSignalToAllChildren(){if(this._children===null||this._children.size===0)return!1;let n=!1;for(const r of this._children)r.tell(Ym(Yi(this.id()))),n=!0;return n}interruptAllChildren(){if(this.sendInterruptSignalToAllChildren()){const n=this._children.values();this._children=null;let r=!1;return X0({while:()=>!r,body:()=>{const s=n.next();return s.done?wt(()=>{r=!0}):jl(s.value.await)},step:()=>{}})}return null}reportExitValue(n){if(SE(this.currentRuntimeFlags)){const r=this.getFiberRef(ov),o=this.id().startTimeMillis,s=Date.now();switch(dV.unsafeUpdate(s-o,r),ix.unsafeUpdate(-1,r),n._tag){case mo:{lV.unsafeUpdate(1,r);break}case go:{fV.unsafeUpdate(1,r);break}}}if(n._tag==="Failure"){const r=this.getFiberRef($K);!q0(n.cause)&&r._tag==="Some"&&this.log("Fiber terminated with an unhandled error",n.cause,r)}}setExitValue(n){this._exitValue=n,this.reportExitValue(n);for(let r=this._observers.length-1;r>=0;r--)this._observers[r](n);this._observers=[]}getLoggers(){return this.getFiberRef(wV)}log(n,r,o){const s=Pn(o)?o.value:this.getFiberRef(OK),u=this.getFiberRef(vV);if(b8(u,s))return;const c=this.getFiberRef(AK),f=this.getFiberRef(TK),d=this.getLoggers(),h=this.getFiberRefs();if(XA(d)>0){const g=OA(this.getFiberRef(uh),i_),y=new Date(g.unsafeCurrentTimeMillis());cD(h,()=>{for(const v of d)v.log({fiberId:this.id(),logLevel:s,message:n,cause:r,context:h,spans:c,annotations:f,date:y})})}}evaluateMessageWhileSuspended(n){switch(n._tag){case m_:return sx;case h_:return this.processNewInterruptSignal(n.cause),this._asyncInterruptor!==null&&(this._asyncInterruptor(le(n.cause)),this._asyncInterruptor=null),Ec;case g_:return this._asyncInterruptor=null,this._asyncBlockingOn=null,this.evaluateEffect(n.effect),Ec;case p_:return n.onFiber(this,this._exitValue!==null?H8:G8(this.currentRuntimeFlags,this._asyncBlockingOn)),Ec;default:return td(n)}}evaluateEffect(n){this.currentSupervisor.onResume(this);try{let r=Gi(this.currentRuntimeFlags)&&this.isInterrupted()?le(this.getInterruptedCause()):n;for(;r!==null;){const o=r,s=this.runLoop(o);if(s===li){const u=fi.currentOp;fi.currentOp=null,u._op===Sd?c6(this.currentRuntimeFlags)?(this.tell(C7()),this.tell(Ia($s)),r=null):r=$s:u._op===Dc&&(r=null)}else{this.currentRuntimeFlags=H(this.currentRuntimeFlags,l6(ev));const u=this.interruptAllChildren();u!==null?r=St(u,()=>s):(this._queue.length===0?this.setExitValue(s):this.tell(Ia(s)),r=null)}}}finally{this.currentSupervisor.onSuspend(this)}}start(n){if(this._running)this.tell(Ia(n));else{this._running=!0;const r=globalThis[xs];globalThis[xs]=this;try{this.evaluateEffect(n)}finally{this._running=!1,globalThis[xs]=r,this._queue.length>0&&this.drainQueueLaterOnExecutor()}}}startFork(n){this.tell(Ia(n))}patchRuntimeFlags(n,r){const o=Od(n,r);return globalThis[xs]=this,this.currentRuntimeFlags=o,o}initiateAsync(n,r){let o=!1;const s=u=>{o||(o=!0,this.tell(Ia(u)))};Gi(n)&&(this._asyncInterruptor=s);try{r(s)}catch(u){s(vo(zo(u)))}}pushStack(n){this._stack.push(n),n._op==="OnStep"&&this._steps.push({refs:this.getFiberRefs(),flags:this.currentRuntimeFlags})}popStack(){const n=this._stack.pop();if(n)return n._op==="OnStep"&&this._steps.pop(),n}getNextSuccessCont(){let n=this.popStack();for(;n;){if(n._op!==jm)return n;n=this.popStack()}}getNextFailCont(){let n=this.popStack();for(;n;){if(n._op!==Vd&&n._op!==Gd&&n._op!==bd)return n;n=this.popStack()}}[(ZT=R7,QT=M7,fD)](n){return wt(()=>AA(this.currentContext,n))}Left(n){return Qn(n.left)}None(n){return Qn(new Jk)}Right(n){return Ne(n.right)}Some(n){return Ne(n.value)}Micro(n){return ih(r=>{let o=r;const s=E7(m7(n,this.currentContext));return s.addObserver(u=>{if(u._tag==="Success")return o(Ne(u.value));switch(u.cause._tag){case"Interrupt":return o(le(Yi(cu)));case"Fail":return o(Qn(u.cause.error));case"Die":return o(AE(u.cause.defect))}}),ih(u=>{o=c=>{u(_o)},s.unsafeInterrupt()})})}[SO](n){const r=Un(()=>n.effect_instruction_i0()),o=this.getNextSuccessCont();return o!==void 0?(o._op in xc||td(o),xc[o._op](this,o,r)):(fi.currentOp=Ne(r),li)}[mo](n){const r=n,o=this.getNextSuccessCont();return o!==void 0?(o._op in xc||td(o),xc[o._op](this,o,r.effect_instruction_i0)):(fi.currentOp=r,li)}[go](n){const r=n.effect_instruction_i0,o=this.getNextFailCont();if(o!==void 0)switch(o._op){case jm:case Hd:return Gi(this.currentRuntimeFlags)&&this.isInterrupted()?le(xE(r)):Un(()=>o.effect_instruction_i1(r));case"OnStep":return Gi(this.currentRuntimeFlags)&&this.isInterrupted()?le(xE(r)):Ne(le(r));case g0:return this.patchRuntimeFlags(this.currentRuntimeFlags,o.patch),Gi(this.currentRuntimeFlags)&&this.isInterrupted()?le(Hr(r,this.getInterruptedCause())):le(r);default:td(o)}else return fi.currentOp=le(r),li}[wO](n){return Un(()=>n.effect_instruction_i0(this,xI(this.currentRuntimeFlags)))}Blocked(n){const r=this.getFiberRefs(),o=this.currentRuntimeFlags;if(this._steps.length>0){const s=[],u=this._steps[this._steps.length-1];let c=this.popStack();for(;c&&c._op!=="OnStep";)s.push(c),c=this.popStack();this.setFiberRefs(u.refs),this.currentRuntimeFlags=u.flags;const f=F8(u.refs,r),d=Td(u.flags,o);return Ne(Ik(n.effect_instruction_i0,br(h=>{for(;s.length>0;)h.pushStack(s.pop());return h.setFiberRefs(B8(h.id(),h.getFiberRefs())(f)),h.currentRuntimeFlags=Od(d)(h.currentRuntimeFlags),n.effect_instruction_i1})))}return fp(s=>St(iR(eK(n.effect_instruction_i0)),()=>s(n.effect_instruction_i1)))}RunBlocked(n){return mV(n.effect_instruction_i0)}[Tl](n){const r=n.effect_instruction_i0,o=this.currentRuntimeFlags,s=Od(o,r);if(Gi(s)&&this.isInterrupted())return le(this.getInterruptedCause());if(this.patchRuntimeFlags(this.currentRuntimeFlags,r),n.effect_instruction_i1){const u=Td(s,o);return this.pushStack(new nK(u,n)),Un(()=>n.effect_instruction_i1(o))}else return $s}[Vd](n){return this.pushStack(n),n.effect_instruction_i0}OnStep(n){return this.pushStack(n),n.effect_instruction_i0}[jm](n){return this.pushStack(n),n.effect_instruction_i0}[Hd](n){return this.pushStack(n),n.effect_instruction_i0}[Dc](n){return this._asyncBlockingOn=n.effect_instruction_i1,this.initiateAsync(this.currentRuntimeFlags,n.effect_instruction_i0),fi.currentOp=n,li}[Sd](n){return this._isYielding=!1,fi.currentOp=n,li}[Gd](n){const r=n.effect_instruction_i0,o=n.effect_instruction_i1;return r()?(this.pushStack(n),o()):$s}[bd](n){return xc[bd](this,n,void 0)}[Kh](n){return Un(()=>n.commit())}runLoop(n){let r=n;for(this.currentOpCount=0;;){if(this.currentRuntimeFlags&u6&&this.currentSupervisor.onEffect(this,r),this._queue.length>0&&(r=this.drainQueueWhileRunning(this.currentRuntimeFlags,r)),!this._isYielding){this.currentOpCount+=1;const o=this.currentScheduler.shouldYield(this);if(o!==!1){this._isYielding=!0,this.currentOpCount=0;const s=r;r=St(Q0({priority:o}),()=>s)}}try{if(r=this.currentTracer.context(()=>yV!==r[gu]._V?kE(`Cannot execute an Effect versioned ${r[gu]._V} with a Runtime of version ${Dh()}`):this[r._op](r),this),r===li){const o=fi.currentOp;return o._op===Sd||o._op===Dc?li:(fi.currentOp=null,o._op===mo||o._op===go?o:le(zo(o)))}}catch(o){r!==li&&!Ct(r,"_op")||!(r._op in this)?r=kE(`Not a valid effect: ${Qa(r)}`):FK(o)?r=le(Hr(zo(o),Yi(cu))):r=AE(o)}}}}const vV=jt("effect/FiberRef/currentMinimumLogLevel",()=>Tr(S8("Info"))),_V=t=>v_(e=>{const n=u8(e.context,uh);OA(n,fI).unsafe.log(t.log(e))}),bV=jt(Symbol.for("effect/Logger/defaultLogger"),()=>_V(U7)),SV=jt(Symbol.for("effect/Logger/tracerLogger"),()=>v_(({annotations:t,cause:e,context:n,fiberId:r,logLevel:o,message:s})=>{const u=$l(ol(n,Dl),hI);if(u._tag==="None"||u.value._tag==="ExternalSpan")return;const c=AA(ol(n,uh),i_),f={};for(const[d,h]of t)f[d]=h;f["effect.fiberId"]=GW(r),f["effect.logLevel"]=o.label,e!==null&&e._tag!=="Empty"&&(f["effect.cause"]=Nu(e,{renderErrorCause:!0})),u.value.event(Qa(Array.isArray(s)?s[0]:s),c.unsafeCurrentTimeNanos(),f)})),wV=jt(Symbol.for("effect/FiberRef/currentLoggers"),()=>EK(j0(bV,SV))),EV=L(t=>gO(t[0]),(t,e,n)=>br(r=>{const o=(n==null?void 0:n.batching)===!0||(n==null?void 0:n.batching)==="inherit"&&r.getFiberRef(RK);return n!=null&&n.discard?tx(n.concurrency,()=>Ra(fv,n==null?void 0:n.concurrentFinalizers)(s=>o?Ds(t,(u,c)=>s(e(u,c)),!0,!1,1):cp(t,(u,c)=>s(e(u,c)))),()=>Ra(dv,n==null?void 0:n.concurrentFinalizers)(s=>Ds(t,(u,c)=>s(e(u,c)),o,!1)),s=>Ra(hv(s),n==null?void 0:n.concurrentFinalizers)(u=>Ds(t,(c,f)=>u(e(c,f)),o,!1,s))):tx(n==null?void 0:n.concurrency,()=>Ra(fv,n==null?void 0:n.concurrentFinalizers)(s=>o?ax(t,1,(u,c)=>s(e(u,c)),!0):Qi(t,(u,c)=>s(e(u,c)))),()=>Ra(dv,n==null?void 0:n.concurrentFinalizers)(s=>xV(t,(u,c)=>s(e(u,c)),o)),s=>Ra(hv(s),n==null?void 0:n.concurrentFinalizers)(u=>ax(t,s,(c,f)=>u(e(c,f)),o)))})),xV=(t,e,n)=>Ke(()=>{const r=Be(t),o=new Array(r.length);return dp(Ds(r,(u,c)=>St(e(u,c),f=>wt(()=>o[c]=f)),n,!1),ye(o))}),Ds=(t,e,n,r,o)=>fp(s=>lK(u=>br(c=>{let f=Array.from(t).reverse(),d=f.length;if(d===0)return _o;let h=0,g=!1;const y=o?Math.min(f.length,o):f.length,v=new Set,S=new Array,x=()=>v.forEach(U=>{U.currentScheduler.scheduleTask(()=>{U.unsafeInterruptAsFork(c.id())},0)}),T=new Array,O=new Array,N=new Array,P=()=>{const U=S.filter(({exit:K})=>K._tag==="Failure").sort((K,b)=>K.index<b.index?-1:K.index===b.index?0:1).map(({exit:K})=>K);return U.length===0&&U.push($s),U},R=(U,K=!1)=>{const b=Dk(u(U)),M=TV(b,c,c.currentRuntimeFlags,y_);return c.currentScheduler.scheduleTask(()=>{K&&M.unsafeInterruptAsFork(c.id()),M.resume(b)},0),M},j=()=>{r||(d-=f.length,f=[]),g=!0,x()},B=n?aK:Mk,k=R(rl(U=>{const K=(M,D)=>{M._op==="Blocked"?N.push(M):(S.push({index:D,exit:M}),M._op==="Failure"&&!g&&j())},b=()=>{if(f.length>0){const M=f.pop();let D=h++;const X=()=>{const ot=f.pop();return D=h++,St(Q0(),()=>St(B(s(e(ot,D))),nt))},nt=ot=>f.length>0&&(K(ot,D),f.length>0)?X():ye(ot),mt=St(B(s(e(M,D))),nt),gt=R(mt);T.push(gt),v.add(gt),g&&gt.currentScheduler.scheduleTask(()=>{gt.unsafeInterruptAsFork(c.id())},0),gt.addObserver(ot=>{let at;if(ot._op==="Failure"?at=ot:at=ot.effect_instruction_i0,O.push(gt),v.delete(gt),K(at,D),S.length===d)U(ye(xe(ME(P(),{parallel:!0}),()=>$s)));else if(N.length+S.length===d){const Nt=P(),rn=N.map(se=>se.effect_instruction_i0).reduce(bk);U(ye(Ik(rn,Ds([xe(ME(Nt,{parallel:!0}),()=>$s),...N.map(se=>se.effect_instruction_i1)],se=>se,n,!0,o))))}else b()})}};for(let M=0;M<y;M++)b()}));return jl(Y0(Fk(s(FI(k))),Yk({onFailure:U=>{j();const K=N.length+1,b=Math.min(typeof o=="number"?o:N.length,N.length),M=Array.from(N);return rl(D=>{let X=0,nt=0;const mt=(ot,at)=>Nt=>{X++,X===K&&D(Ne(le(U))),M.length>0&&at&&gt()},gt=()=>{R(M.pop(),!0).addObserver(mt(nt,!0)),nt++};k.addObserver(mt(nt,!1)),nt++;for(let ot=0;ot<b;ot++)gt()})},onSuccess:()=>Qi(O,U=>U.inheritAll)})))}))),ax=(t,e,n,r)=>Ke(()=>{const o=Be(t),s=new Array(o.length);return dp(Ds(o,(c,f)=>Zn(n(c,f),d=>s[f]=d),r,!1,e),ye(s))}),iR=t=>OV(t,y_),CV=(t,e,n,r=null)=>{const o=sR(t,e,n,r);return o.resume(t),o},TV=(t,e,n,r=null)=>sR(t,e,n,r),sR=(t,e,n,r=null)=>{const o=rk(),s=e.getFiberRefs(),u=i8(s,o),c=new oR(o,u,n),f=ol(u,Dl),d=c.currentSupervisor;return d.onStart(f,t,Rt(e),c),c.addObserver(g=>d.onEnd(g,c)),(r!==null?r:H(e.getFiberRef(iv),xe(()=>e.scope()))).add(n,c),c},OV=(t,e)=>br((n,r)=>ye(CV(t,n,r.runtimeFlags,e))),ux=t=>Ul(e=>Ie($l(e,ql),{onNone:()=>t,onSome:n=>{switch(n.strategy._tag){case"Parallel":return t;case"Sequential":case"ParallelN":return St(gp(n,dv),r=>S_(t,r))}}})),cx=t=>e=>Ul(n=>Ie($l(n,ql),{onNone:()=>e,onSome:r=>r.strategy._tag==="ParallelN"&&r.strategy.parallelism===t?e:St(gp(r,hv(t)),o=>S_(e,o))})),Ra=(t,e)=>n=>Ul(r=>Ie($l(r,ql),{onNone:()=>n(Fe),onSome:o=>{if(e===!0){const s=t._tag==="Parallel"?ux:t._tag==="Sequential"?lx:cx(t.parallelism);switch(o.strategy._tag){case"Parallel":return s(n(ux));case"Sequential":return s(n(lx));case"ParallelN":return s(n(cx(o.strategy.parallelism)))}}else return n(Fe)}})),lx=t=>Ul(e=>Ie($l(e,ql),{onNone:()=>t,onSome:n=>{switch(n.strategy._tag){case"Sequential":return t;case"Parallel":case"ParallelN":return St(gp(n,fv),r=>S_(t,r))}}})),ql=ra("effect/Scope"),S_=L(2,(t,e)=>JK(t,kA(Rz(ql,e)))),AV=t=>Lu(t,{differ:uV,fork:Wc}),fx=CK(f6),kV=AV(bp),IV=(t,e,n)=>Lk(r=>St(St(iR(Bk(t)),o=>rl(s=>{const u=e.map(d=>d.listeners.count),c=()=>{u.every(d=>d===0)&&e.every(d=>d.result.state.current._tag==="Pending"?!0:!!(d.result.state.current._tag==="Done"&&n_(d.result.state.current.effect)&&d.result.state.current.effect._tag==="Failure"&&M6(d.result.state.current.effect.cause)))&&(f.forEach(d=>d()),n==null||n(),s(dK(o)))};o.addObserver(d=>{f.forEach(h=>h()),s(d)});const f=e.map((d,h)=>{const g=y=>{u[h]=y,c()};return d.listeners.addObserver(g),()=>d.listeners.removeObserver(g)});return c(),wt(()=>{f.forEach(d=>d())})})),()=>Ke(()=>{const o=e.flatMap(s=>s.state.completed?[]:[s]);return cp(o,s=>tV(s.request,UK(r)))}))),RV=$6,$V=Nu,PV=MK,MV=gp,NV=f4,LV=t=>e=>{const n=e===void 0?Object.create(Al):NV(e);return n._tag=t,n},FV=()=>new Proxy({},{get(t,e,n){return e==="$is"?l0:e==="$match"?BV:LV(e)}});function BV(){if(arguments.length===1){const n=arguments[0];return function(r){return n[r._tag](r)}}const t=arguments[0];return arguments[1][t._tag](t)}const jV=function(){const t=Symbol.for("effect/Data/Error/plainArgs");return class extends e_{constructor(n){super(n==null?void 0:n.message,n!=null&&n.cause?{cause:n.cause}:void 0),n&&(Object.assign(this,n),Object.defineProperty(this,t,{value:n,enumerable:!1}))}toJSON(){return{...this[t],...this}}}}(),DV=t=>{class e extends jV{constructor(){super(...arguments);_(this,"_tag",t)}}return e.prototype.name=t,e},aR=t=>(e,n)=>{const r=rk(),o=[[Dl,[[r,t.context]]]];n!=null&&n.scheduler&&o.push([NI,[[r,n.scheduler]]]);let s=c8(t.fiberRefs,{entries:o,forkAs:r});n!=null&&n.updateRefs&&(s=n.updateRefs(s,r));const u=new oR(r,s,t.runtimeFlags);let c=e;n!=null&&n.scope&&(c=St(MV(n.scope,EI),d=>dp(PK(d,Lk(h=>At(h,u.id())?_o:Wk(u,h))),Y0(e,h=>PV(d,h)))));const f=u.currentSupervisor;return f!==bp&&(f.onStart(t.context,c,ut(),u),u.addObserver(d=>f.onEnd(d,u))),y_.add(t.runtimeFlags,u),(n==null?void 0:n.immediate)===!1?u.resume(c):u.start(c),u},UV=t=>e=>{const n=HV(t)(e);if(n._tag==="Failure")throw qV(n.effect_instruction_i0);return n.effect_instruction_i0};class zV extends Error{constructor(n){super(`Fiber #${n.id().id} cannot be resolved synchronously. This is caused by using runSync on an effect that performs async work`);_(this,"fiber");_(this,"_tag","AsyncFiberException");this.fiber=n,this.name=this._tag,this.stack=this.message}}const WV=t=>{const e=Error.stackTraceLimit;Error.stackTraceLimit=0;const n=new zV(t);return Error.stackTraceLimit=e,n},Xm=Symbol.for("effect/Runtime/FiberFailure"),ed=Symbol.for("effect/Runtime/FiberFailure/Cause");var tO,eO;class KV extends Error{constructor(n){const r=Ak(n)[0];super((r==null?void 0:r.message)||"An error has occurred");_(this,eO);_(this,tO);this[Xm]=Xm,this[ed]=n,this.name=r?`(FiberFailure) ${r.name}`:"FiberFailure",r!=null&&r.stack&&(this.stack=r.stack)}toJSON(){return{_id:"FiberFailure",cause:this[ed].toJSON()}}toString(){return"(FiberFailure) "+Nu(this[ed],{renderErrorCause:!0})}[(eO=Xm,tO=ed,ve)](){return this.toString()}}const qV=t=>{const e=Error.stackTraceLimit;Error.stackTraceLimit=0;const n=new KV(t);return Error.stackTraceLimit=e,n},VV=t=>{const e=t;switch(e._op){case"Failure":case"Success":return e;case"Left":return NE(e.left);case"Right":return Ne(e.right);case"Some":return Ne(e.value);case"None":return NE(Jk())}},HV=t=>e=>{const n=VV(e);if(n)return n;const r=new MI,o=aR(t)(e,{scheduler:r});r.flush();const s=o.unsafePoll();return s||DK(H0(WV(o),r_(o)))};class GV{constructor(e,n,r){_(this,"context");_(this,"runtimeFlags");_(this,"fiberRefs");this.context=e,this.runtimeFlags=n,this.fiberRefs=r}pipe(){return _t(this,arguments)}}const JV=t=>new GV(t.context,t.runtimeFlags,t.fiberRefs),YV=vk($u,mk,gk),uR=JV({context:I0(),runtimeFlags:YV,fiberRefs:l8()}),XV=aR(uR),QV=UV(uR),ZV=up,Kc=EV,nd=Ke,Br=_o,tH=rv,Cv=Zn,eH=J0,nH=lp,$a=sh,Io=St,rH=XV,cR=QV;class En{constructor(e,n,r){_(this,"path");_(this,"actual");_(this,"issue");_(this,"_tag","Pointer");this.path=e,this.actual=n,this.issue=r}}class dx{constructor(e,n){_(this,"actual");_(this,"message");_(this,"_tag","Unexpected");this.actual=e,this.message=n}}class Cc{constructor(e,n){_(this,"ast");_(this,"message");_(this,"_tag","Missing");_(this,"actual");this.ast=e,this.message=n}}class Ae{constructor(e,n,r,o){_(this,"ast");_(this,"actual");_(this,"issues");_(this,"output");_(this,"_tag","Composite");this.ast=e,this.actual=n,this.issues=r,this.output=o}}class Qm{constructor(e,n,r,o){_(this,"ast");_(this,"actual");_(this,"kind");_(this,"issue");_(this,"_tag","Refinement");this.ast=e,this.actual=n,this.kind=r,this.issue=o}}class Zm{constructor(e,n,r,o){_(this,"ast");_(this,"actual");_(this,"kind");_(this,"issue");_(this,"_tag","Transformation");this.ast=e,this.actual=n,this.kind=r,this.issue=o}}class Fo{constructor(e,n,r){_(this,"ast");_(this,"actual");_(this,"message");_(this,"_tag","Type");this.ast=e,this.actual=n,this.message=r}}class hx{constructor(e,n,r){_(this,"ast");_(this,"actual");_(this,"message");_(this,"_tag","Forbidden");this.ast=e,this.actual=n,this.message=r}}const px=Symbol.for("effect/Schema/ParseErrorTypeId");var nO;class oH extends DV("ParseError"){constructor(){super(...arguments);_(this,nO,px)}get message(){return this.toString()}toString(){return Rd.formatIssueSync(this.issue)}toJSON(){return{_id:"ParseError",message:this.toString()}}[(nO=px,ve)](){return this.toJSON()}}const w_=t=>new oH({issue:t}),yh=Et,lR=vt,gx=AD,An=kD,po=L(2,(t,e)=>An(t)?ku(t,{onLeft:vt,onRight:e}):Io(t,e)),fr=L(2,(t,e)=>An(t)?RD(t,e):Cv(t,e)),ty=L(2,(t,e)=>An(t)?b0(t,e):nH(t,e)),iH=L(2,(t,e)=>An(t)?ID(t,{onLeft:e.onFailure,onRight:e.onSuccess}):eH(t,e)),fR=L(2,(t,e)=>An(t)?ku(t,{onLeft:e,onRight:Et}):tH(t,e)),E_=(t,e)=>e===void 0||zs(e)?t:t===void 0?e:{...t,...e},Sp=(t,e,n)=>{const r=cn(t,e);return(o,s)=>r(o,E_(n,s))},sH=(t,e,n)=>{const r=Sp(t,e,n);return(o,s)=>IO(r(o,s),w_)},aH=(t,e,n)=>{const r=Sp(t,e,n);return(o,s)=>LD(r(o,s))},dR=(t,e,n)=>{const r=cn(t,e);return(o,s)=>r(o,{...E_(n,s),isEffectAllowed:!0})},uH=(t,e)=>Sp(t.ast,!0,e),cH=(t,e)=>dR(t.ast,!0,e),lH=(t,e)=>aH(t.ast,!1,e),fH=(t,e)=>Sp(t.ast,!1,e),dH=(t,e)=>dR(t.ast,!1,e),hH=(t,e)=>sH(Qe(t.ast),!0,e),pH=lH,gH=jt(Symbol.for("effect/ParseResult/decodeMemoMap"),()=>new WeakMap),mH=jt(Symbol.for("effect/ParseResult/encodeMemoMap"),()=>new WeakMap),cn=(t,e)=>{const n=e?gH:mH,r=n.get(t);if(r)return r;const o=yH(t,e),s=kU(t),u=Pn(s)?(d,h)=>o(d,E_(h,s.value)):o,c=IU(t),f=e&&Pn(c)?(d,h)=>$c(fR(u(d,h),c.value),t,d,h):u;return n.set(t,f),f},ey=t=>uo(TU(t)),ny=t=>uo(OU(t)),yH=(t,e)=>{switch(t._tag){case"Refinement":if(e){const n=cn(t.from,!0);return(r,o)=>{o=o??Um;const s=(o==null?void 0:o.errors)==="all",u=po(fR(n(r,o),c=>{const f=new Qm(t,r,"From",c);return s&&$U(t)&&mR(c)?Ie(t.filter(r,o,t),{onNone:()=>vt(f),onSome:d=>vt(new Ae(t,r,[f,new Qm(t,r,"Predicate",d)]))}):vt(f)}),c=>Ie(t.filter(c,o,t),{onNone:()=>Et(c),onSome:f=>vt(new Qm(t,r,"Predicate",f))}));return $c(u,t,r,o)}}else{const n=cn(Qe(t),!0),r=cn(hR(t.from),!1);return(o,s)=>$c(po(n(o,s),u=>r(u,s)),t,o,s)}case"Transformation":{const n=bH(t.transformation,e),r=e?cn(t.from,!0):cn(t.to,!1),o=e?cn(t.to,!0):cn(t.from,!1);return(s,u)=>$c(po(ty(r(s,u),c=>new Zm(t,s,e?"Encoded":"Type",c)),c=>po(ty(n(c,u??Um,t,s),f=>new Zm(t,s,"Transformation",f)),f=>ty(o(f,u),d=>new Zm(t,s,e?"Type":"Encoded",d)))),t,s,u)}case"Declaration":{const n=e?t.decodeUnknown(...t.typeParameters):t.encodeUnknown(...t.typeParameters);return(r,o)=>$c(n(r,o??Um,t),t,r,o)}case"Literal":return lr(t,n=>n===t.literal);case"UniqueSymbol":return lr(t,n=>n===t.symbol);case"UndefinedKeyword":return lr(t,q3);case"NeverKeyword":return lr(t,V3);case"UnknownKeyword":case"AnyKeyword":case"VoidKeyword":return Et;case"StringKeyword":return lr(t,Vo);case"NumberKeyword":return lr(t,zs);case"BooleanKeyword":return lr(t,u0);case"BigIntKeyword":return lr(t,Uh);case"SymbolKeyword":return lr(t,Ny);case"ObjectKeyword":return lr(t,ls);case"Enums":return lr(t,n=>t.enums.some(([r,o])=>o===n));case"TemplateLiteral":{const n=lz(t);return lr(t,r=>Vo(r)&&n.test(r))}case"TupleType":{const n=t.elements.map(d=>cn(d.type,e)),r=t.rest.map(d=>cn(d.type,e));let o=t.elements.filter(d=>!d.isOptional);t.rest.length>0&&(o=o.concat(t.rest.slice(1)));const s=o.length,u=t.elements.length>0?t.elements.map((d,h)=>h).join(" | "):"never",c=ey(t),f=ny(t);return(d,h)=>{if(!YD(d))return vt(new Fo(t,d));const g=(h==null?void 0:h.errors)==="all",y=[];let v=0;const S=[],x=d.length;for(let P=x;P<=s-1;P++){const R=new En(P,d,new Cc(o[P-x]));if(g){y.push([v++,R]);continue}else return vt(new Ae(t,d,R,S))}if(t.rest.length===0)for(let P=t.elements.length;P<=x-1;P++){const R=new En(P,d,new dx(d[P],`is unexpected, expected: ${u}`));if(g){y.push([v++,R]);continue}else return vt(new Ae(t,d,R,S))}let T=0,O;for(;T<n.length;T++)if(x<T+1){if(t.elements[T].isOptional)continue}else{const P=n[T],R=P(d[T],h);if(An(R)){if(Xe(R)){const j=new En(T,d,R.left);if(g){y.push([v++,j]);continue}else return vt(new Ae(t,d,j,so(S)))}S.push([v++,R.right])}else{const j=v++,B=T;O||(O=[]),O.push(({es:k,output:U})=>Io($a(R),K=>{if(Xe(K)){const b=new En(B,d,K.left);return g?(k.push([j,b]),Br):vt(new Ae(t,d,b,so(U)))}return U.push([j,K.right]),Br}))}}if(tn(r)){const[P,...R]=r;for(;T<x-R.length;T++){const j=P(d[T],h);if(An(j))if(Xe(j)){const B=new En(T,d,j.left);if(g){y.push([v++,B]);continue}else return vt(new Ae(t,d,B,so(S)))}else S.push([v++,j.right]);else{const B=v++,k=T;O||(O=[]),O.push(({es:U,output:K})=>Io($a(j),b=>{if(Xe(b)){const M=new En(k,d,b.left);return g?(U.push([B,M]),Br):vt(new Ae(t,d,M,so(K)))}else return K.push([B,b.right]),Br}))}}for(let j=0;j<R.length;j++)if(T+=j,!(x<T+1)){const B=R[j](d[T],h);if(An(B)){if(Xe(B)){const k=new En(T,d,B.left);if(g){y.push([v++,k]);continue}else return vt(new Ae(t,d,k,so(S)))}S.push([v++,B.right])}else{const k=v++,U=T;O||(O=[]),O.push(({es:K,output:b})=>Io($a(B),M=>{if(Xe(M)){const D=new En(U,d,M.left);return g?(K.push([k,D]),Br):vt(new Ae(t,d,D,so(b)))}return b.push([k,M.right]),Br}))}}}const N=({es:P,output:R})=>wd(P)?vt(new Ae(t,d,so(P),so(R))):Et(so(R));if(O&&O.length>0){const P=O;return nd(()=>{const R={es:Ic(y),output:Ic(S)};return Io(Kc(P,j=>j(R),{concurrency:c,batching:f,discard:!0}),()=>N(R))})}return N({output:S,es:y})}}case"TypeLiteral":{if(t.propertySignatures.length===0&&t.indexSignatures.length===0)return lr(t,H3);const n=[],r={},o=[];for(const h of t.propertySignatures)n.push([cn(h.type,e),h]),r[h.name]=null,o.push(h.name);const s=t.indexSignatures.map(h=>[cn(h.parameter,e),cn(h.type,e),h.parameter]),u=Po.make(t.indexSignatures.map(h=>h.parameter).concat(o.map(h=>Ny(h)?new LU(h):new By(h)))),c=cn(u,e),f=ey(t),d=ny(t);return(h,g)=>{if(!J3(h))return vt(new Fo(t,h));const y=(g==null?void 0:g.errors)==="all",v=[];let S=0;const x=(g==null?void 0:g.onExcessProperty)==="error",T=(g==null?void 0:g.onExcessProperty)==="preserve",O={};let N;if(x||T){N=Ka(h);for(const B of N){const k=c(B,g);if(An(k)&&Xe(k))if(x){const U=new En(B,h,new dx(h[B],`is unexpected, expected: ${String(u)}`));if(y){v.push([S++,U]);continue}else return vt(new Ae(t,h,U,O))}else O[B]=h[B]}}let P;const R=(g==null?void 0:g.exact)===!0;for(let B=0;B<n.length;B++){const k=n[B][1],U=k.name,K=Object.prototype.hasOwnProperty.call(h,U);if(!K){if(k.isOptional)continue;if(R){const D=new En(U,h,new Cc(k));if(y){v.push([S++,D]);continue}else return vt(new Ae(t,h,D,O))}}const b=n[B][0],M=b(h[U],g);if(An(M)){if(Xe(M)){const D=new En(U,h,K?M.left:new Cc(k));if(y){v.push([S++,D]);continue}else return vt(new Ae(t,h,D,O))}O[U]=M.right}else{const D=S++,X=U;P||(P=[]),P.push(({es:nt,output:mt})=>Io($a(M),gt=>{if(Xe(gt)){const ot=new En(X,h,K?gt.left:new Cc(k));return y?(nt.push([D,ot]),Br):vt(new Ae(t,h,ot,mt))}return mt[X]=gt.right,Br}))}}for(let B=0;B<s.length;B++){const k=s[B],U=k[0],K=k[1],b=KO(h,k[2]);for(const M of b){const D=U(M,g);if(An(D)&&gi(D)){const X=K(h[M],g);if(An(X))if(Xe(X)){const nt=new En(M,h,X.left);if(y){v.push([S++,nt]);continue}else return vt(new Ae(t,h,nt,O))}else Object.prototype.hasOwnProperty.call(r,M)||(O[M]=X.right);else{const nt=S++,mt=M;P||(P=[]),P.push(({es:gt,output:ot})=>Io($a(X),at=>{if(Xe(at)){const Nt=new En(mt,h,at.left);return y?(gt.push([nt,Nt]),Br):vt(new Ae(t,h,Nt,ot))}else return Object.prototype.hasOwnProperty.call(r,M)||(ot[M]=at.right),Br}))}}}}const j=({es:B,output:k})=>{if(wd(B))return vt(new Ae(t,h,so(B),k));if((g==null?void 0:g.propertyOrder)==="original"){const U=N||Ka(h);for(const b of o)U.indexOf(b)===-1&&U.push(b);const K={};for(const b of U)Object.prototype.hasOwnProperty.call(k,b)&&(K[b]=k[b]);return Et(K)}return Et(k)};if(P&&P.length>0){const B=P;return nd(()=>{const k={es:Ic(v),output:Object.assign({},O)};return Io(Kc(B,U=>U(k),{concurrency:f,batching:d,discard:!0}),()=>j(k))})}return j({es:v,output:O})}}case"Union":{const n=vH(t.types,e),r=Ka(n.keys),o=r.length,s=t.types.length,u=new Map;for(let d=0;d<s;d++)u.set(t.types[d],cn(t.types[d],e));const c=ey(t)??1,f=ny(t);return(d,h)=>{const g=[];let y=0,v=[];if(o>0)if(c0(d))for(let T=0;T<o;T++){const O=r[T],N=n.keys[O].buckets;if(Object.prototype.hasOwnProperty.call(d,O)){const P=String(d[O]);if(Object.prototype.hasOwnProperty.call(N,P))v=v.concat(N[P]);else{const{candidates:R,literals:j}=n.keys[O],B=Po.make(j),k=R.length===s?new Fs([new On(O,B,!1,!0)],[]):Po.make(R);g.push([y++,new Ae(k,d,new En(O,d,new Fo(B,d[O])))])}}else{const{candidates:P,literals:R}=n.keys[O],j=new On(O,Po.make(R),!1,!0),B=P.length===s?new Fs([j],[]):Po.make(P);g.push([y++,new Ae(B,d,new En(O,d,new Cc(j)))])}}else{const T=n.candidates.length===s?t:Po.make(n.candidates);g.push([y++,new Fo(T,d)])}n.otherwise.length>0&&(v=v.concat(n.otherwise));let S;for(let T=0;T<v.length;T++){const O=v[T],N=u.get(O)(d,h);if(An(N)&&(!S||S.length===0)){if(gi(N))return N;g.push([y++,N.left])}else{const P=y++;S||(S=[]),S.push(R=>nd(()=>"finalResult"in R?Br:Io($a(N),j=>(gi(j)?R.finalResult=j:R.es.push([P,j.left]),Br))))}}const x=T=>wd(T)?T.length===1&&T[0][1]._tag==="Type"?vt(T[0][1]):vt(new Ae(t,d,so(T))):vt(new Fo(t,d));if(S&&S.length>0){const T=S;return nd(()=>{const O={es:Ic(g)};return Io(Kc(T,N=>N(O),{concurrency:c,batching:f,discard:!0}),()=>"finalResult"in O?O.finalResult:x(O.es))})}return x(g)}}case"Suspend":{const n=qO(()=>cn(nu(t.f(),t.annotations),e));return(r,o)=>n()(r,o)}}},lr=(t,e)=>n=>e(n)?Et(n):vt(new Fo(t,n)),Rc=(t,e)=>{switch(t._tag){case"Declaration":{const n=cA(t);if(Pn(n))return Rc(n.value,e);break}case"TypeLiteral":{const n=[];for(let r=0;r<t.propertySignatures.length;r++){const o=t.propertySignatures[r],s=e?lE(o.type):Qe(o.type);aE(s)&&!o.isOptional&&n.push([o.name,s])}return n}case"TupleType":{const n=[];for(let r=0;r<t.elements.length;r++){const o=t.elements[r],s=e?lE(o.type):Qe(o.type);aE(s)&&!o.isOptional&&n.push([r,s])}return n}case"Refinement":return Rc(t.from,e);case"Suspend":return Rc(t.f(),e);case"Transformation":return Rc(e?t.from:t.to,e)}return[]},vH=(t,e)=>{const n={},r=[],o=[];for(let s=0;s<t.length;s++){const u=t[s],c=Rc(u,e);if(c.length>0){o.push(u);for(let f=0;f<c.length;f++){const[d,h]=c[f],g=String(h.literal);n[d]=n[d]||{buckets:{},literals:[],candidates:[]};const y=n[d].buckets;if(Object.prototype.hasOwnProperty.call(y,g)){if(f<c.length-1)continue;y[g].push(u),n[d].literals.push(h),n[d].candidates.push(u)}else{y[g]=[u],n[d].literals.push(h),n[d].candidates.push(u);break}}}else r.push(u)}return{keys:n,otherwise:r,candidates:o}},hR=t=>O0(t)?hR(t.from):t,$c=(t,e,n,r)=>{if((r==null?void 0:r.isEffectAllowed)===!0||An(t))return t;const o=new MI,s=rH(t,{scheduler:o});o.flush();const u=s.unsafePoll();if(u){if(YK(u))return Et(u.value);const c=u.cause;return RV(c)?vt(c.error):vt(new hx(e,n,$V(c)))}return vt(new hx(e,n,"cannot be be resolved synchronously, this is caused by using runSync on an effect that performs async work"))},_H=([t],[e])=>t>e?1:t<e?-1:0;function so(t){return t.sort(_H).map(e=>e[1])}const bH=(t,e)=>{switch(t._tag){case"FinalTransformation":return e?t.decode:t.encode;case"ComposeTransformation":return Et;case"TypeLiteralTransformation":return n=>{let r=Et(n);for(const o of t.propertySignatureTransformations){const[s,u]=e?[o.from,o.to]:[o.to,o.from],c=e?o.decode:o.encode;r=fr(r,d=>{const h=c(Object.prototype.hasOwnProperty.call(d,s)?Rt(d[s]):ut());return delete d[s],Pn(h)&&(d[u]=h.value),d})}return r}}},Dn=(t,e=[])=>({value:t,forest:e}),Rd={formatIssue:t=>fr(ja(t),SH),formatIssueSync:t=>{const e=Rd.formatIssue(t);return An(e)?RO(e):cR(e)},formatError:t=>Rd.formatIssue(t.issue),formatErrorSync:t=>Rd.formatIssueSync(t.issue)},SH=t=>t.value+pR(`
`,t.forest),pR=(t,e)=>{let n="";const r=e.length;let o;for(let s=0;s<r;s++){o=e[s];const u=s===r-1;n+=t+(u?"└":"├")+"─ "+o.value,n+=pR(t+(r>1&&!u?"│  ":"   "),o.forest)}return n},wH=t=>{switch(t){case"Encoded":return"Encoded side transformation failure";case"Transformation":return"Transformation process failure";case"Type":return"Type side transformation failure"}},EH=t=>{switch(t){case"From":return"From side refinement failure";case"Predicate":return"Predicate refinement failure"}},gR=t=>"ast"in t?Rt(t.ast):ut(),Tv=Et(void 0),xH=t=>gR(t).pipe(ns(xU),Ie({onNone:()=>Tv,onSome:e=>{const n=e(t);return Vo(n)?Et({message:n,override:!1}):ZV(n)?Cv(n,r=>({message:r,override:!1})):Vo(n.message)?Et({message:n.message,override:n.override}):Cv(n.message,r=>({message:r,override:n.override}))}})),x_=t=>e=>e._tag===t,mR=x_("Composite"),mx=x_("Refinement"),yx=x_("Transformation"),ts=t=>po(xH(t),e=>e!==void 0?!e.override&&(mR(t)||mx(t)&&t.kind==="From"||yx(t)&&t.kind!=="Transformation")?yx(t)||mx(t)?ts(t.issue):Tv:Et(e.message):Tv),yR=t=>gR(t).pipe(ns(AU),jD(e=>e(t)),uo);function CH(t){return uA(t).pipe(Zi(()=>sA(t)),Zi(()=>aA(t)),Zi(()=>Vh(t)),xe(()=>`{ ${t.from} | filter }`))}function TH(t){return t.message!==void 0?t.message:`Expected ${O0(t.ast)?CH(t.ast):String(t.ast)}, actual ${Uo(t.actual)}`}const vR=t=>fr(ts(t),e=>e??yR(t)??TH(t)),rd=t=>yR(t)??String(t.ast),_R=t=>t.message??"is forbidden",bR=t=>t.message??"is unexpected",SR=t=>{const e=CU(t.ast);if(Pn(e)){const n=e.value();return Vo(n)?Et(n):n}return Et(t.message??"is missing")},ja=t=>{switch(t._tag){case"Type":return fr(vR(t),Dn);case"Forbidden":return Et(Dn(rd(t),[Dn(_R(t))]));case"Unexpected":return Et(Dn(bR(t)));case"Missing":return fr(SR(t),Dn);case"Transformation":return po(ts(t),e=>e!==void 0?Et(Dn(e)):fr(ja(t.issue),n=>Dn(rd(t),[Dn(wH(t.kind),[n])])));case"Refinement":return po(ts(t),e=>e!==void 0?Et(Dn(e)):fr(ja(t.issue),n=>Dn(rd(t),[Dn(EH(t.kind),[n])])));case"Pointer":return fr(ja(t.issue),e=>Dn(hU(t.path),[e]));case"Composite":return po(ts(t),e=>{if(e!==void 0)return Et(Dn(e));const n=rd(t);return w0(t.issues)?fr(Kc(t.issues,ja),r=>Dn(n,r)):fr(ja(t.issues),r=>Dn(n,[r]))})}},Cs=(t,e,n)=>({_tag:t,path:e,message:n}),$d={formatIssue:t=>Da(t,void 0,[]),formatIssueSync:t=>{const e=$d.formatIssue(t);return An(e)?RO(e):cR(e)},formatError:t=>$d.formatIssue(t.issue),formatErrorSync:t=>$d.formatIssueSync(t.issue)},Da=(t,e,n)=>{const r=t._tag;switch(r){case"Type":return fr(vR(t),o=>[Cs(e??r,n,o)]);case"Forbidden":return Et([Cs(r,n,_R(t))]);case"Unexpected":return Et([Cs(r,n,bR(t))]);case"Missing":return fr(SR(t),o=>[Cs(r,n,o)]);case"Pointer":return Da(t.issue,void 0,n.concat(t.path));case"Composite":return po(ts(t),o=>o!==void 0?Et([Cs(r,n,o)]):w0(t.issues)?fr(Kc(t.issues,s=>Da(s,void 0,n)),UO):Da(t.issues,void 0,n));case"Refinement":return po(ts(t),o=>o!==void 0?Et([Cs(r,n,o)]):Da(t.issue,t.kind==="Predicate"?r:void 0,n));case"Transformation":return po(ts(t),o=>o!==void 0?Et([Cs(r,n,o)]):Da(t.issue,t.kind==="Transformation"?r:void 0,n))}},OH=L(t=>ls(t[0]),(t,...e)=>{const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}),AH=L(t=>ls(t[0]),(t,...e)=>{const n={...t};for(const r of e)delete n[r];return n}),il=Symbol.for("effect/Schema");function mn(t){var e,n,r;return n=il,e=il,r=class{constructor(){_(this,n,vx)}static annotations(s){return mn(fs(this.ast,s))}static pipe(){return _t(this,arguments)}static toString(){return String(t)}},_(r,"ast",t),_(r,"Type"),_(r,"Encoded"),_(r,"Context"),_(r,e,vx),r}const vx={_A:t=>t,_I:t=>t,_R:t=>t},_x={schemaId:bU,message:VO,missingMessage:E0,identifier:HO,title:Oi,description:Il,examples:GO,default:JO,documentation:SU,jsonSchema:YO,arbitrary:XO,pretty:QO,equivalence:ZO,concurrency:tA,batching:eA,parseIssueTitle:nA,parseOptions:rA,decodingFallback:oA},Vl=t=>{if(!t)return{};const e={...t};for(const n in _x)if(n in t){const r=_x[n];e[r]=t[n],delete e[n]}return e},fs=(t,e)=>nu(t,Vl(e));const C_=t=>String(t.ast),kH=t=>mn(Qe(t.ast)),IH=(t,e)=>{const n=fH(t,e);return(r,o)=>b0(n(r,o),w_)},RH=IH,T_=(t,e)=>{const n=uH(t,e);return(r,o)=>b0(n(r,o),w_)},is=t=>Ct(t,il)&&ls(t[il]);function $H(t){return T0(t)?Po.make(tz(t,e=>new By(e))):new By(t[0])}function wR(t,e=$H(t)){var n;return n=class extends mn(e){static annotations(o){return wR(this.literals,fs(this.ast,o))}},_(n,"literals",[...t]),n}function Ge(...t){return tn(t)?wR(t):ER}const PH=(t,e,n)=>O_(t,new Hh(t.map(r=>r.ast),(...r)=>e.decode(...r.map(mn)),(...r)=>e.encode(...r.map(mn)),Vl(n))),MH=(t,e)=>{const n=()=>(o,s,u)=>t(o)?yh(o):lR(new Fo(u,o)),r=n;return O_([],new Hh([],n,r,Vl(e)))};function O_(t,e){var n;return n=class extends mn(e){static annotations(o){return O_(this.typeParameters,fs(this.ast,o))}},_(n,"typeParameters",[...t]),n}const NH=function(){if(Array.isArray(arguments[0])){const n=arguments[0],r=arguments[1],o=arguments[2];return PH(n,r,o)}const t=arguments[0],e=arguments[1];return MH(t,e)};class LH extends mn(jy){}class ER extends mn(x0){}class FH extends mn(fA){}class A_ extends mn(dA){}class re extends mn(zU){}class je extends mn(qU){}class wp extends mn(HU){}const BH=t=>Po.make(t.map(e=>e.ast));function xR(t,e=BH(t)){var n;return n=class extends mn(e){static annotations(o){return xR(this.members,fs(this.ast,o))}},_(n,"members",[...t]),n}function ki(...t){return T0(t)?xR(t):tn(t)?t[0]:ER}const jH=t=>ki(t,LH),DH=(t,e)=>new C0(t.map(n=>is(n)?new ea(n.ast,!1):n.ast),e.map(n=>is(n)?new Gh(n.ast):n.ast),!0);function CR(t,e,n=DH(t,e)){var r;return r=class extends mn(n){static annotations(s){return CR(this.elements,this.rest,fs(this.ast,s))}},_(r,"elements",[...t]),_(r,"rest",[...e]),r}function TR(t,e){var n;return n=class extends CR([],[t],e){static annotations(o){return TR(this.value,fs(this.ast,o))}},_(n,"value",t),n}const Go=t=>TR(t),Ov=t=>t?'"?:"':'":"';class Ep extends ea{constructor(n,r,o,s,u){super(n,r,s);_(this,"isReadonly");_(this,"defaultValue");_(this,"_tag","PropertySignatureDeclaration");this.isReadonly=o,this.defaultValue=u}toString(){const n=Ov(this.isOptional),r=String(this.type);return`PropertySignature<${n}, ${r}, never, ${n}, ${r}>`}}class UH extends ea{constructor(n,r,o,s,u){super(n,r,s);_(this,"isReadonly");_(this,"fromKey");this.isReadonly=o,this.fromKey=u}}class OR extends ea{constructor(n,r,o,s,u){super(n,r,s);_(this,"isReadonly");_(this,"defaultValue");this.isReadonly=o,this.defaultValue=u}}const zH=t=>t===void 0?"never":Vo(t)?JSON.stringify(t):String(t);class AR{constructor(e,n,r,o){_(this,"from");_(this,"to");_(this,"decode");_(this,"encode");_(this,"_tag","PropertySignatureTransformation");this.from=e,this.to=n,this.decode=r,this.encode=o}toString(){return`PropertySignature<${Ov(this.to.isOptional)}, ${this.to.type}, ${zH(this.from.fromKey)}, ${Ov(this.from.isOptional)}, ${this.from.type}>`}}const kR=(t,e)=>{switch(t._tag){case"PropertySignatureDeclaration":return new Ep(t.type,t.isOptional,t.isReadonly,{...t.annotations,...e},t.defaultValue);case"PropertySignatureTransformation":return new AR(new UH(t.from.type,t.from.isOptional,t.from.isReadonly,t.from.annotations),new OR(t.to.type,t.to.isOptional,t.to.isReadonly,{...t.to.annotations,...e},t.to.defaultValue),t.decode,t.encode)}},IR=Symbol.for("effect/PropertySignature"),RR=t=>Ct(t,IR);var rO,oO;oO=il,rO=IR;const pS=class pS{constructor(e){_(this,"ast");_(this,oO);_(this,rO,null);_(this,"_TypeToken");_(this,"_Key");_(this,"_EncodedToken");_(this,"_HasDefault");this.ast=e}pipe(){return _t(this,arguments)}annotations(e){return new pS(kR(this.ast,Vl(e)))}toString(){return String(this.ast)}};let vh=pS;const bx=t=>new vh(t);class xp extends vh{constructor(n,r){super(n);_(this,"from");this.from=r}annotations(n){return new xp(kR(this.ast,Vl(n)),this.from)}}const WH=t=>new xp(new Ep(t.ast,!1,!0,{},void 0),t),KH=L(2,(t,e)=>{const n=t.ast;switch(n._tag){case"PropertySignatureDeclaration":return bx(new Ep(n.type,n.isOptional,n.isReadonly,n.annotations,e));case"PropertySignatureTransformation":return bx(new AR(n.from,new OR(n.to.type,n.to.isOptional,n.to.isReadonly,n.to.annotations,e),n.decode,n.encode))}}),kn=t=>{const e=t.ast===jy||t.ast===x0?jy:jH(t).ast;return new xp(new Ep(e,!0,!0,{},void 0),t)},qH=bA([E0]),VH=(t,e)=>{const n=Ka(t),r=[];if(n.length>0){const s=[],u=[],c=[];for(let f=0;f<n.length;f++){const d=n[f],h=t[d];if(RR(h)){const g=h.ast;switch(g._tag){case"PropertySignatureDeclaration":{const y=g.type,v=g.isOptional,S=g.annotations;s.push(new On(d,y,v,!0,qH(g))),u.push(new On(d,Qe(y),v,!0,S)),r.push(new On(d,y,v,!0,S));break}case"PropertySignatureTransformation":{const y=g.from.fromKey??d;s.push(new On(y,g.from.type,g.from.isOptional,!0,g.from.annotations)),u.push(new On(d,g.to.type,g.to.isOptional,!0,g.to.annotations)),c.push(new iz(y,d,g.decode,g.encode));break}}}else s.push(new On(d,h.ast,!1,!0)),u.push(new On(d,Qe(h.ast),!1,!0)),r.push(new On(d,h.ast,!1,!0))}if(tn(c)){const f=[],d=[];for(const h of e){const{indexSignatures:g,propertySignatures:y}=cE(h.key.ast,h.value.ast);y.forEach(v=>{s.push(v),u.push(new On(v.name,Qe(v.type),v.isOptional,v.isReadonly,v.annotations))}),g.forEach(v=>{f.push(v),d.push(new Jh(v.parameter,Qe(v.type),v.isReadonly))})}return new A0(new Fs(s,f,{[Fy]:"Struct (Encoded side)"}),new Fs(u,d,{[Fy]:"Struct (Type side)"}),new sz(c))}}const o=[];for(const s of e){const{indexSignatures:u,propertySignatures:c}=cE(s.key.ast,s.value.ast);c.forEach(f=>r.push(f)),u.forEach(f=>o.push(f))}return new Fs(r,o)},HH=(t,e)=>{const n=Ka(t);for(const r of n){const o=t[r];if(e[r]===void 0&&RR(o)){const s=o.ast,u=s._tag==="PropertySignatureDeclaration"?s.defaultValue:s.to.defaultValue;u!==void 0&&(e[r]=u())}}return e};function $R(t,e,n=VH(t,e)){var r;return r=class extends mn(n){static annotations(s){return $R(this.fields,this.records,fs(this.ast,s))}static pick(...s){return st(OH(t,...s))}static omit(...s){return st(AH(t,...s))}},_(r,"fields",{...t}),_(r,"records",[...e]),_(r,"make",(s,u)=>{const c=HH(t,{...s});return sG(u)?c:hH(r)(c)}),r}function st(t,...e){return $R(t,e)}const GH=t=>Ge(t).pipe(WH,KH(()=>t)),Rn=(t,e)=>st({_tag:GH(t),...e}),JH=L(t=>is(t[1]),(t,e)=>k_(t,e,dz(t.ast,e.ast)));function k_(t,e,n){var r;return r=class extends mn(n){static annotations(s){return k_(this.from,this.to,fs(this.ast,s))}},_(r,"from",t),_(r,"to",e),r}const PR=L(t=>is(t[0])&&is(t[1]),(t,e,n)=>k_(t,e,new A0(t.ast,e.ast,new nz(n.decode,n.encode)))),MR=L(t=>is(t[0])&&is(t[1]),(t,e,n)=>PR(t,e,{strict:!0,decode:(r,o,s,u)=>yh(n.decode(r,u)),encode:(r,o,s,u)=>yh(n.encode(r,u))})),Sx=t=>t instanceof Error?t.message:String(t),YH=t=>PR(re.annotations({description:"a string to be decoded into JSON"}),FH,{strict:!0,decode:(e,n,r)=>gx({try:()=>JSON.parse(e,t==null?void 0:t.reviver),catch:o=>new Fo(r,e,Sx(o))}),encode:(e,n,r)=>gx({try:()=>JSON.stringify(e,t==null?void 0:t.replacer,t==null?void 0:t.space),catch:o=>new Fo(r,e,Sx(o))})}).annotations({title:"parseJson",schemaId:NU}),I_=(t,e)=>is(t)?JH(I_(e),t):YH(t),XH=(t,e,n,r)=>iH(t,{onFailure:o=>new Ae(n,r,o),onSuccess:e}),QH=st({_tag:Ge("None")}).annotations({description:"NoneEncoded"}),ZH=t=>st({_tag:Ge("Some"),value:t}).annotations({description:`SomeEncoded<${C_(t)}>`}),tG=t=>ki(QH,ZH(t)).annotations({description:`OptionEncoded<${C_(t)}>`}),NR=t=>t._tag==="None"?ut():Rt(t.value),eG=(t,e)=>n=>n.oneof(e,n.record({_tag:n.constant("None")}),n.record({_tag:n.constant("Some"),value:t(n)})).map(NR),nG=t=>Ie({onNone:()=>"none()",onSome:e=>`some(${t(e)})`}),wx=t=>(e,n,r)=>ND(e)?ke(e)?yh(ut()):XH(t(e.value,n),Rt,r,e):lR(new Fo(r,e)),rG=t=>NH([t],{decode:e=>wx(cH(e)),encode:e=>wx(dH(e))},{description:`Option<${C_(t)}>`,pretty:nG,arbitrary:eG,equivalence:DD}),oG={_tag:"None"},iG=t=>({_tag:"Some",value:t});function Ex(t){const e=t;return MR(tG(e),rG(kH(e)),{strict:!0,decode:r=>NR(r),encode:r=>Ie(r,{onNone:()=>oG,onSome:iG})})}function sG(t){return u0(t)?t:(t==null?void 0:t.disableValidation)??!1}const aG=st({widgets:Go(A_)}),uG={Schema:aG},un=[];for(let t=0;t<256;++t)un.push((t+256).toString(16).slice(1));function cG(t,e=0){return(un[t[e+0]]+un[t[e+1]]+un[t[e+2]]+un[t[e+3]]+"-"+un[t[e+4]]+un[t[e+5]]+"-"+un[t[e+6]]+un[t[e+7]]+"-"+un[t[e+8]]+un[t[e+9]]+"-"+un[t[e+10]]+un[t[e+11]]+un[t[e+12]]+un[t[e+13]]+un[t[e+14]]+un[t[e+15]]).toLowerCase()}let ry;const lG=new Uint8Array(16);function fG(){if(!ry){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");ry=crypto.getRandomValues.bind(crypto)}return ry(lG)}const dG=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var xx={randomUUID:dG};function LR(t,e,n){var o;if(xx.randomUUID&&!t)return xx.randomUUID();t=t||{};const r=t.random??((o=t.rng)==null?void 0:o.call(t))??fG();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,cG(r)}const R_=t=>$d.formatErrorSync(t).map(e=>`${e.path.join(".")} ${e.message}`).join(`
`),hG=t=>ku(T_(t.schema,{errors:"all"})(t.raw),{onRight:t.ok,onLeft:e=>t.error(R_(e))}),pG=t=>ku(T_(I_(t.schema),{errors:"all"})(t.str),{onRight:t.ok,onLeft:e=>t.error(R_(e))}),gG=(t,e)=>ku(RH(t)(e),{onRight:n=>JSON.stringify(n,null,2),onLeft:n=>(console.error("Error encoding",R_(n)),`Error encoding ${n}`)}),FR={decodeUnknown:hG,decodeString:pG,encode:gG},BR=Symbol.for("midi/structor/schema/form/annotation"),mG=t=>({[BR]:t}),yG=t=>t._tag==="PropertySignatureDeclaration"||t._tag==="PropertySignatureTransformation"?ut():Nn(BR)(t),jR={annotation:mG,getFormName:yG},ia=FV(),vG=ki(Rn("Note",{note:je}),Rn("CC",{controllerNumber:je}),Rn("PC",{programNumber:je})).annotations(jR.annotation("MidiTarget")),_G=({from:t,to:e})=>{const n=[];for(let r=t;r<=e;r++)n.push($_(r));return n},bG=({from:t,to:e})=>{const n=[];for(let r=t;r<=e;r++)n.push(P_(r));return n},$_=t=>ia.Note({note:t}),P_=t=>ia.CC({controllerNumber:t}),SG=t=>ia.PC({programNumber:t}),wG=t=>ia.$match({Note:({note:e})=>`noteon-${e}`,CC:({controllerNumber:e})=>`cc-${e}`,PC:({programNumber:e})=>`pc-${e}`})(t),EG=(t,e)=>ia.$match({Note:({note:n})=>({type:"noteon",channel:1,note:n,velocity:e}),CC:({controllerNumber:n})=>({type:"cc",channel:1,controllerNumber:n,data:e}),PC:()=>({type:"pc",programNumber:e})})(t),xG=Array.from({length:127}).map((t,e)=>P_(e)),CG=Array.from({length:127}).map((t,e)=>$_(e)),TG=[...xG,...CG],OG=t=>ia.$match({Note:({note:e})=>e,CC:({controllerNumber:e})=>e,PC:({programNumber:e})=>e})(t),qr={note:$_,notes:_G,cc:P_,ccs:bG,pc:SG,toKey:wG,toMessage:EG,toValue:OG,allTargets:TG,match:ia.$match,Schema:vG},AG=t=>t.flatMap(e=>e.targets()),kG=(t,e)=>{const n=AG(e),r={};n.forEach(s=>{const u=qr.toKey(s),c=r[u];c===void 0?r[u]=1:r[u]=c+1});const o=[];return rt.forEach(r,(s,u)=>{s>1&&o.push(u)}),rt.isEmpty(o)?Et(t):vt(`Midi targets duplicated ${o}`)},IG=(t,e)=>{const n=e.widgets.resolve(t);return kG(t,n)},DR=t=>st({widgets:Go(t.widgets.schema)}),RG=(t,e)=>FR.decodeString({schema:DR(e),str:t,ok:n=>IG(n,e),error:n=>vt(n)}),$G=(t,e)=>FR.encode(DR(e),t),PG=()=>({widgets:[]}),MG={empty:PG,parse:RG,stringify:$G},UR=st({id:re,name:re,enabled:wp,config:uG.Schema,device:re,color:kn(re),selected:st({input:Ex(re),output:Ex(re)})}),NG=Go(UR),LG=t=>({name:t,enabled:!0,config:MG.empty(),device:"Launchpad Mini [MK3]",selected:{input:ut(),output:ut()},id:LR()}),FG=t=>a0(`${t.id}:listener`),BG=t=>a0(`${t.id}:emitter`),zR={Schema:UR,SchemaArray:NG,defaultConfiguredController:LG,virtualListener:FG,virtualEmitter:BG},jG=st({label:re,key:re,abletonProject:kn(re),controllers:zR.SchemaArray,style:st({accent:st({color1:re,color2:re})})});st({active:re,projects:Go(jG)});const DG=t=>Ti(rt.find(t.projects,e=>e.key===t.active)),WR={getActive:DG};function co(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map(function(o){return"'"+o+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function vu(t){return!!t&&!!t[Sr]}function Ys(t){var e;return!!t&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var o=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return o===Object||typeof o=="function"&&Function.toString.call(o)===GG}(t)||Array.isArray(t)||!!t[$x]||!!(!((e=t.constructor)===null||e===void 0)&&e[$x])||M_(t)||N_(t))}function sl(t,e,n){n===void 0&&(n=!1),Bu(t)===0?(n?Object.keys:D_)(t).forEach(function(r){n&&typeof r=="symbol"||e(r,t[r],t)}):t.forEach(function(r,o){return e(o,r,t)})}function Bu(t){var e=t[Sr];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:M_(t)?2:N_(t)?3:0}function Av(t,e){return Bu(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function UG(t,e){return Bu(t)===2?t.get(e):t[e]}function KR(t,e,n){var r=Bu(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function zG(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function M_(t){return VG&&t instanceof Map}function N_(t){return HG&&t instanceof Set}function ks(t){return t.o||t.t}function L_(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=JG(t);delete e[Sr];for(var n=D_(e),r=0;r<n.length;r++){var o=n[r],s=e[o];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(e[o]={configurable:!0,writable:!0,enumerable:s.enumerable,value:t[o]})}return Object.create(Object.getPrototypeOf(t),e)}function F_(t,e){return e===void 0&&(e=!1),B_(t)||vu(t)||!Ys(t)||(Bu(t)>1&&(t.set=t.add=t.clear=t.delete=WG),Object.freeze(t),e&&sl(t,function(n,r){return F_(r,!0)},!0)),t}function WG(){co(2)}function B_(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function Wo(t){var e=YG[t];return e||co(18,t),e}function Cx(){return al}function oy(t,e){e&&(Wo("Patches"),t.u=[],t.s=[],t.v=e)}function _h(t){kv(t),t.p.forEach(KG),t.p=null}function kv(t){t===al&&(al=t.l)}function Tx(t){return al={p:[],l:al,h:t,m:!0,_:0}}function KG(t){var e=t[Sr];e.i===0||e.i===1?e.j():e.g=!0}function iy(t,e){e._=e.p.length;var n=e.p[0],r=t!==void 0&&t!==n;return e.h.O||Wo("ES5").S(e,t,r),r?(n[Sr].P&&(_h(e),co(4)),Ys(t)&&(t=bh(e,t),e.l||Sh(e,t)),e.u&&Wo("Patches").M(n[Sr].t,t,e.u,e.s)):t=bh(e,n,[]),_h(e),e.u&&e.v(e.u,e.s),t!==qR?t:void 0}function bh(t,e,n){if(B_(e))return e;var r=e[Sr];if(!r)return sl(e,function(c,f){return Ox(t,r,e,c,f,n)},!0),e;if(r.A!==t)return e;if(!r.P)return Sh(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var o=r.i===4||r.i===5?r.o=L_(r.k):r.o,s=o,u=!1;r.i===3&&(s=new Set(o),o.clear(),u=!0),sl(s,function(c,f){return Ox(t,r,o,c,f,n,u)}),Sh(t,o,!1),n&&t.u&&Wo("Patches").N(r,n,t.u,t.s)}return r.o}function Ox(t,e,n,r,o,s,u){if(vu(o)){var c=bh(t,o,s&&e&&e.i!==3&&!Av(e.R,r)?s.concat(r):void 0);if(KR(n,r,c),!vu(c))return;t.m=!1}else u&&n.add(o);if(Ys(o)&&!B_(o)){if(!t.h.D&&t._<1)return;bh(t,o),e&&e.A.l||Sh(t,o)}}function Sh(t,e,n){n===void 0&&(n=!1),!t.l&&t.h.D&&t.m&&F_(e,n)}function sy(t,e){var n=t[Sr];return(n?ks(n):t)[e]}function Ax(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function Iv(t){t.P||(t.P=!0,t.l&&Iv(t.l))}function ay(t){t.o||(t.o=L_(t.t))}function Rv(t,e,n){var r=M_(e)?Wo("MapSet").F(e,n):N_(e)?Wo("MapSet").T(e,n):t.O?function(o,s){var u=Array.isArray(o),c={i:u?1:0,A:s?s.A:Cx(),P:!1,I:!1,R:{},l:s,t:o,k:null,o:null,j:null,C:!1},f=c,d=$v;u&&(f=[c],d=Pc);var h=Proxy.revocable(f,d),g=h.revoke,y=h.proxy;return c.k=y,c.j=g,y}(e,n):Wo("ES5").J(e,n);return(n?n.A:Cx()).p.push(r),r}function qG(t){return vu(t)||co(22,t),function e(n){if(!Ys(n))return n;var r,o=n[Sr],s=Bu(n);if(o){if(!o.P&&(o.i<4||!Wo("ES5").K(o)))return o.t;o.I=!0,r=kx(n,s),o.I=!1}else r=kx(n,s);return sl(r,function(u,c){o&&UG(o.t,u)===c||KR(r,u,e(c))}),s===3?new Set(r):r}(t)}function kx(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return L_(t)}var Ix,al,j_=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",VG=typeof Map<"u",HG=typeof Set<"u",Rx=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",qR=j_?Symbol.for("immer-nothing"):((Ix={})["immer-nothing"]=!0,Ix),$x=j_?Symbol.for("immer-draftable"):"__$immer_draftable",Sr=j_?Symbol.for("immer-state"):"__$immer_state",GG=""+Object.prototype.constructor,D_=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,JG=Object.getOwnPropertyDescriptors||function(t){var e={};return D_(t).forEach(function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)}),e},YG={},$v={get:function(t,e){if(e===Sr)return t;var n=ks(t);if(!Av(n,e))return function(o,s,u){var c,f=Ax(s,u);return f?"value"in f?f.value:(c=f.get)===null||c===void 0?void 0:c.call(o.k):void 0}(t,n,e);var r=n[e];return t.I||!Ys(r)?r:r===sy(t.t,e)?(ay(t),t.o[e]=Rv(t.A.h,r,t)):r},has:function(t,e){return e in ks(t)},ownKeys:function(t){return Reflect.ownKeys(ks(t))},set:function(t,e,n){var r=Ax(ks(t),e);if(r!=null&&r.set)return r.set.call(t.k,n),!0;if(!t.P){var o=sy(ks(t),e),s=o==null?void 0:o[Sr];if(s&&s.t===n)return t.o[e]=n,t.R[e]=!1,!0;if(zG(n,o)&&(n!==void 0||Av(t.t,e)))return!0;ay(t),Iv(t)}return t.o[e]===n&&(n!==void 0||e in t.o)||Number.isNaN(n)&&Number.isNaN(t.o[e])||(t.o[e]=n,t.R[e]=!0),!0},deleteProperty:function(t,e){return sy(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,ay(t),Iv(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=ks(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty:function(){co(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){co(12)}},Pc={};sl($v,function(t,e){Pc[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),Pc.deleteProperty=function(t,e){return Pc.set.call(this,t,e,void 0)},Pc.set=function(t,e,n){return $v.set.call(this,t[0],e,n,t[0])};var XG=function(){function t(n){var r=this;this.O=Rx,this.D=!0,this.produce=function(o,s,u){if(typeof o=="function"&&typeof s!="function"){var c=s;s=o;var f=r;return function(x){var T=this;x===void 0&&(x=c);for(var O=arguments.length,N=Array(O>1?O-1:0),P=1;P<O;P++)N[P-1]=arguments[P];return f.produce(x,function(R){var j;return(j=s).call.apply(j,[T,R].concat(N))})}}var d;if(typeof s!="function"&&co(6),u!==void 0&&typeof u!="function"&&co(7),Ys(o)){var h=Tx(r),g=Rv(r,o,void 0),y=!0;try{d=s(g),y=!1}finally{y?_h(h):kv(h)}return typeof Promise<"u"&&d instanceof Promise?d.then(function(x){return oy(h,u),iy(x,h)},function(x){throw _h(h),x}):(oy(h,u),iy(d,h))}if(!o||typeof o!="object"){if((d=s(o))===void 0&&(d=o),d===qR&&(d=void 0),r.D&&F_(d,!0),u){var v=[],S=[];Wo("Patches").M(o,d,v,S),u(v,S)}return d}co(21,o)},this.produceWithPatches=function(o,s){if(typeof o=="function")return function(d){for(var h=arguments.length,g=Array(h>1?h-1:0),y=1;y<h;y++)g[y-1]=arguments[y];return r.produceWithPatches(d,function(v){return o.apply(void 0,[v].concat(g))})};var u,c,f=r.produce(o,s,function(d,h){u=d,c=h});return typeof Promise<"u"&&f instanceof Promise?f.then(function(d){return[d,u,c]}):[f,u,c]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var e=t.prototype;return e.createDraft=function(n){Ys(n)||co(8),vu(n)&&(n=qG(n));var r=Tx(this),o=Rv(this,n,void 0);return o[Sr].C=!0,kv(r),o},e.finishDraft=function(n,r){var o=n&&n[Sr],s=o.A;return oy(s,r),iy(void 0,s)},e.setAutoFreeze=function(n){this.D=n},e.setUseProxies=function(n){n&&!Rx&&co(20),this.O=n},e.applyPatches=function(n,r){var o;for(o=r.length-1;o>=0;o--){var s=r[o];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}o>-1&&(r=r.slice(o+1));var u=Wo("Patches").$;return vu(n)?u(n,r):this.produce(n,function(c){return u(c,r)})},t}(),wr=new XG,U_=wr.produce;wr.produceWithPatches.bind(wr);wr.setAutoFreeze.bind(wr);wr.setUseProxies.bind(wr);wr.applyPatches.bind(wr);wr.createDraft.bind(wr);wr.finishDraft.bind(wr);const Cn=(t,e,n)=>16777216+(t<<16|e<<8|n<<0),QG=["","0","00","000","0000","00000","000000"],z_=t=>{const e=t.toString(16);if(e.length>6)return e.substring(1,7);{const n=6-e.length;return QG[n]+e}},ZG=t=>{const e=z_(t);return[parseInt(e.substring(0,2),16),parseInt(e.substring(2,4),16),parseInt(e.substring(4,6),16)]},VR=t=>{const e=t.substring(0,2),n=t.substring(2,4),r=t.substring(4,6);return Cn(parseInt(e,16),parseInt(n,16),parseInt(r,16))},tJ=MR(re,je,{strict:!0,decode:VR,encode:z_}).annotations(jR.annotation("Color")),tt={fromRGB:Cn,fromHex:VR,toHex:z_,toRGB:ZG,BLACK:Cn(0,0,0),RED:Cn(255,0,0),GREEN:Cn(0,255,0),BLUE:Cn(0,0,255),PURPLE:Cn(128,0,128),YELLOW:Cn(255,255,0),WHITE:Cn(255,255,255),ROYGBIV:[Cn(255,0,0),Cn(255,165,0),Cn(255,255,0),Cn(0,255,0),Cn(0,0,255),Cn(75,0,130),Cn(238,130,238)],Schema:tJ},eJ=t=>t.type==="real",nJ=t=>t.type==="blank",HR={isReal:eJ,isBlank:nJ},rJ={name:"",color:tt.BLACK,clips:[{type:"blank",startTime:0,endTime:void 0}]},oJ=()=>({tracks:[],cues:[]}),iJ=t=>{let e=0;const n=[];return rt.forEach(t,r=>{e!==r.startTime&&n.push({type:"blank",startTime:e,endTime:r.startTime}),n.push({...r,type:"real"}),e=r.endTime}),n.push({type:"blank",startTime:e,endTime:void 0}),n},sJ=t=>{const e=[],n=[],r=[];rt.forEach(t,u=>{u.type==="init-track"?e.push(u):u.type==="init-clip"?n.push(u):r.push(u)});const o=rt.sortBy(e,u=>u.trackIndex),s=rt.groupBy(n,u=>u.trackIndex);return{tracks:rt.map(o,u=>{const c=rt.get(s,u.trackIndex);return{name:u.name,color:u.color,clips:iJ(c)}}),cues:r}},aJ=t=>()=>[],uJ=t=>U_(e=>{e.push(t)}),cJ=t=>U_(e=>{e.push(t)}),lJ=t=>U_(e=>{e.push(t)}),fJ=t=>sJ(t);var GR={exports:{}},Pt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hl=Symbol.for("react.element"),dJ=Symbol.for("react.portal"),hJ=Symbol.for("react.fragment"),pJ=Symbol.for("react.strict_mode"),gJ=Symbol.for("react.profiler"),mJ=Symbol.for("react.provider"),yJ=Symbol.for("react.context"),vJ=Symbol.for("react.forward_ref"),_J=Symbol.for("react.suspense"),bJ=Symbol.for("react.memo"),SJ=Symbol.for("react.lazy"),Px=Symbol.iterator;function wJ(t){return t===null||typeof t!="object"?null:(t=Px&&t[Px]||t["@@iterator"],typeof t=="function"?t:null)}var JR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},YR=Object.assign,XR={};function ju(t,e,n){this.props=t,this.context=e,this.refs=XR,this.updater=n||JR}ju.prototype.isReactComponent={};ju.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ju.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function QR(){}QR.prototype=ju.prototype;function W_(t,e,n){this.props=t,this.context=e,this.refs=XR,this.updater=n||JR}var K_=W_.prototype=new QR;K_.constructor=W_;YR(K_,ju.prototype);K_.isPureReactComponent=!0;var Mx=Array.isArray,ZR=Object.prototype.hasOwnProperty,q_={current:null},t$={key:!0,ref:!0,__self:!0,__source:!0};function e$(t,e,n){var r,o={},s=null,u=null;if(e!=null)for(r in e.ref!==void 0&&(u=e.ref),e.key!==void 0&&(s=""+e.key),e)ZR.call(e,r)&&!t$.hasOwnProperty(r)&&(o[r]=e[r]);var c=arguments.length-2;if(c===1)o.children=n;else if(1<c){for(var f=Array(c),d=0;d<c;d++)f[d]=arguments[d+2];o.children=f}if(t&&t.defaultProps)for(r in c=t.defaultProps,c)o[r]===void 0&&(o[r]=c[r]);return{$$typeof:Hl,type:t,key:s,ref:u,props:o,_owner:q_.current}}function EJ(t,e){return{$$typeof:Hl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function V_(t){return typeof t=="object"&&t!==null&&t.$$typeof===Hl}function xJ(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Nx=/\/+/g;function uy(t,e){return typeof t=="object"&&t!==null&&t.key!=null?xJ(""+t.key):e.toString(36)}function Pd(t,e,n,r,o){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var u=!1;if(t===null)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case Hl:case dJ:u=!0}}if(u)return u=t,o=o(u),t=r===""?"."+uy(u,0):r,Mx(o)?(n="",t!=null&&(n=t.replace(Nx,"$&/")+"/"),Pd(o,e,n,"",function(d){return d})):o!=null&&(V_(o)&&(o=EJ(o,n+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(Nx,"$&/")+"/")+t)),e.push(o)),1;if(u=0,r=r===""?".":r+":",Mx(t))for(var c=0;c<t.length;c++){s=t[c];var f=r+uy(s,c);u+=Pd(s,e,n,f,o)}else if(f=wJ(t),typeof f=="function")for(t=f.call(t),c=0;!(s=t.next()).done;)s=s.value,f=r+uy(s,c++),u+=Pd(s,e,n,f,o);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return u}function od(t,e,n){if(t==null)return t;var r=[],o=0;return Pd(t,r,"","",function(s){return e.call(n,s,o++)}),r}function CJ(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var qn={current:null},Md={transition:null},TJ={ReactCurrentDispatcher:qn,ReactCurrentBatchConfig:Md,ReactCurrentOwner:q_};function n$(){throw Error("act(...) is not supported in production builds of React.")}Pt.Children={map:od,forEach:function(t,e,n){od(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return od(t,function(){e++}),e},toArray:function(t){return od(t,function(e){return e})||[]},only:function(t){if(!V_(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Pt.Component=ju;Pt.Fragment=hJ;Pt.Profiler=gJ;Pt.PureComponent=W_;Pt.StrictMode=pJ;Pt.Suspense=_J;Pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TJ;Pt.act=n$;Pt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=YR({},t.props),o=t.key,s=t.ref,u=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,u=q_.current),e.key!==void 0&&(o=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(f in e)ZR.call(e,f)&&!t$.hasOwnProperty(f)&&(r[f]=e[f]===void 0&&c!==void 0?c[f]:e[f])}var f=arguments.length-2;if(f===1)r.children=n;else if(1<f){c=Array(f);for(var d=0;d<f;d++)c[d]=arguments[d+2];r.children=c}return{$$typeof:Hl,type:t.type,key:o,ref:s,props:r,_owner:u}};Pt.createContext=function(t){return t={$$typeof:yJ,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:mJ,_context:t},t.Consumer=t};Pt.createElement=e$;Pt.createFactory=function(t){var e=e$.bind(null,t);return e.type=t,e};Pt.createRef=function(){return{current:null}};Pt.forwardRef=function(t){return{$$typeof:vJ,render:t}};Pt.isValidElement=V_;Pt.lazy=function(t){return{$$typeof:SJ,_payload:{_status:-1,_result:t},_init:CJ}};Pt.memo=function(t,e){return{$$typeof:bJ,type:t,compare:e===void 0?null:e}};Pt.startTransition=function(t){var e=Md.transition;Md.transition={};try{t()}finally{Md.transition=e}};Pt.unstable_act=n$;Pt.useCallback=function(t,e){return qn.current.useCallback(t,e)};Pt.useContext=function(t){return qn.current.useContext(t)};Pt.useDebugValue=function(){};Pt.useDeferredValue=function(t){return qn.current.useDeferredValue(t)};Pt.useEffect=function(t,e){return qn.current.useEffect(t,e)};Pt.useId=function(){return qn.current.useId()};Pt.useImperativeHandle=function(t,e,n){return qn.current.useImperativeHandle(t,e,n)};Pt.useInsertionEffect=function(t,e){return qn.current.useInsertionEffect(t,e)};Pt.useLayoutEffect=function(t,e){return qn.current.useLayoutEffect(t,e)};Pt.useMemo=function(t,e){return qn.current.useMemo(t,e)};Pt.useReducer=function(t,e,n){return qn.current.useReducer(t,e,n)};Pt.useRef=function(t){return qn.current.useRef(t)};Pt.useState=function(t){return qn.current.useState(t)};Pt.useSyncExternalStore=function(t,e,n){return qn.current.useSyncExternalStore(t,e,n)};Pt.useTransition=function(){return qn.current.useTransition()};Pt.version="18.3.1";GR.exports=Pt;var G=GR.exports,oe=iO(G),Pv=b3({__proto__:null,default:oe},[G]);const Mc={},Lx=(t,e)=>t.unstable_is?t.unstable_is(e):e===t,Fx=t=>"init"in t,cy=t=>!!t.write,Bx=t=>"v"in t||"e"in t,id=t=>{if("e"in t)throw t.e;if((Mc?"production":void 0)!=="production"&&!("v"in t))throw new Error("[Bug] atom state is not initialized");return t.v},wh=new WeakMap,jx=t=>{var e;return Eh(t)&&!!((e=wh.get(t))!=null&&e[0])},OJ=t=>{const e=wh.get(t);e!=null&&e[0]&&(e[0]=!1,e[1].forEach(n=>n()))},r$=(t,e)=>{let n=wh.get(t);if(!n){n=[!0,new Set],wh.set(t,n);const r=()=>{n[0]=!1};t.then(r,r)}n[1].add(e)},Eh=t=>typeof(t==null?void 0:t.then)=="function",o$=(t,e,n)=>{n.p.has(t)||(n.p.add(t),e.then(()=>{n.p.delete(t)},()=>{n.p.delete(t)}))},ly=(t,e,n)=>{const r=n(t),o="v"in r,s=r.v;if(Eh(e))for(const u of r.d.keys())o$(t,e,n(u));r.v=e,delete r.e,(!o||!Object.is(s,r.v))&&(++r.n,Eh(s)&&OJ(s))},Dx=(t,e,n)=>{var r;const o=new Set;for(const s of((r=n.get(t))==null?void 0:r.t)||[])n.has(s)&&o.add(s);for(const s of e.p)o.add(s);return o},AJ=()=>{const t=new Set,e=()=>{t.forEach(n=>n())};return e.add=n=>(t.add(n),()=>{t.delete(n)}),e},fy=()=>{const t={},e=new WeakMap,n=r=>{var o,s;(o=e.get(t))==null||o.forEach(u=>u(r)),(s=e.get(r))==null||s.forEach(u=>u())};return n.add=(r,o)=>{const s=r||t,u=(e.has(s)?e:e.set(s,new Set)).get(s);return u.add(o),()=>{u==null||u.delete(o),u.size||e.delete(s)}},n},kJ=t=>(t.c||(t.c=fy()),t.m||(t.m=fy()),t.u||(t.u=fy()),t.f||(t.f=AJ()),t),IJ=Symbol(),RJ=(t=new WeakMap,e=new WeakMap,n=new WeakMap,r=new Set,o=new Set,s=new Set,u={},c=(y,...v)=>y.read(...v),f=(y,...v)=>y.write(...v),d=(y,v)=>{var S;return(S=y.unstable_onInit)==null?void 0:S.call(y,v)},h=(y,v)=>{var S;return(S=y.onMount)==null?void 0:S.call(y,v)},...g)=>{const y=g[0]||(k=>{if((Mc?"production":void 0)!=="production"&&!k)throw new Error("Atom is undefined or null");let U=t.get(k);return U||(U={d:new Map,p:new Set,n:0},t.set(k,U),d==null||d(k,B)),U}),v=g[1]||(()=>{const k=[],U=K=>{try{K()}catch(b){k.push(b)}};do{u.f&&U(u.f);const K=new Set,b=K.add.bind(K);r.forEach(M=>{var D;return(D=e.get(M))==null?void 0:D.l.forEach(b)}),r.clear(),s.forEach(b),s.clear(),o.forEach(b),o.clear(),K.forEach(U),r.size&&S()}while(r.size||s.size||o.size);if(k.length)throw new AggregateError(k)}),S=g[2]||(()=>{const k=[],U=new WeakSet,K=new WeakSet,b=Array.from(r);for(;b.length;){const M=b[b.length-1],D=y(M);if(K.has(M)){b.pop();continue}if(U.has(M)){if(n.get(M)===D.n)k.push([M,D]);else if((Mc?"production":void 0)!=="production"&&n.has(M))throw new Error("[Bug] invalidated atom exists");K.add(M),b.pop();continue}U.add(M);for(const X of Dx(M,D,e))U.has(X)||b.push(X)}for(let M=k.length-1;M>=0;--M){const[D,X]=k[M];let nt=!1;for(const mt of X.d.keys())if(mt!==D&&r.has(mt)){nt=!0;break}nt&&(x(D),N(D)),n.delete(D)}}),x=g[3]||(k=>{var U;const K=y(k);if(Bx(K)&&(e.has(k)&&n.get(k)!==K.n||Array.from(K.d).every(([ot,at])=>x(ot).n===at)))return K;K.d.clear();let b=!0;const M=()=>{e.has(k)&&(N(k),S(),v())},D=ot=>{var at;if(Lx(k,ot)){const rn=y(ot);if(!Bx(rn))if(Fx(ot))ly(ot,ot.init,y);else throw new Error("no atom init");return id(rn)}const Nt=x(ot);try{return id(Nt)}finally{K.d.set(ot,Nt.n),jx(K.v)&&o$(k,K.v,Nt),(at=e.get(ot))==null||at.t.add(k),b||M()}};let X,nt;const mt={get signal(){return X||(X=new AbortController),X.signal},get setSelf(){return(Mc?"production":void 0)!=="production"&&!cy(k)&&console.warn("setSelf function cannot be used with read-only atom"),!nt&&cy(k)&&(nt=(...ot)=>{if((Mc?"production":void 0)!=="production"&&b&&console.warn("setSelf function cannot be called in sync"),!b)try{return O(k,...ot)}finally{S(),v()}}),nt}},gt=K.n;try{const ot=c(k,D,mt);return ly(k,ot,y),Eh(ot)&&(r$(ot,()=>X==null?void 0:X.abort()),ot.then(M,M)),K}catch(ot){return delete K.v,K.e=ot,++K.n,K}finally{b=!1,gt!==K.n&&n.get(k)===gt&&(n.set(k,K.n),r.add(k),(U=u.c)==null||U.call(u,k))}}),T=g[4]||(k=>{const U=[k];for(;U.length;){const K=U.pop(),b=y(K);for(const M of Dx(K,b,e)){const D=y(M);n.set(M,D.n),U.push(M)}}}),O=g[5]||((k,...U)=>{let K=!0;const b=D=>id(x(D)),M=(D,...X)=>{var nt;const mt=y(D);try{if(Lx(k,D)){if(!Fx(D))throw new Error("atom not writable");const gt=mt.n,ot=X[0];ly(D,ot,y),N(D),gt!==mt.n&&(r.add(D),(nt=u.c)==null||nt.call(u,D),T(D));return}else return O(D,...X)}finally{K||(S(),v())}};try{return f(k,b,M,...U)}finally{K=!1}}),N=g[6]||(k=>{var U;const K=y(k),b=e.get(k);if(b&&!jx(K.v)){for(const[M,D]of K.d)if(!b.d.has(M)){const X=y(M);P(M).t.add(k),b.d.add(M),D!==X.n&&(r.add(M),(U=u.c)==null||U.call(u,M),T(M))}for(const M of b.d||[])if(!K.d.has(M)){b.d.delete(M);const D=R(M);D==null||D.t.delete(k)}}}),P=g[7]||(k=>{var U;const K=y(k);let b=e.get(k);if(!b){x(k);for(const M of K.d.keys())P(M).t.add(k);if(b={l:new Set,d:new Set(K.d.keys()),t:new Set},e.set(k,b),(U=u.m)==null||U.call(u,k),cy(k)){const M=()=>{let D=!0;const X=(...nt)=>{try{return O(k,...nt)}finally{D||(S(),v())}};try{const nt=h(k,X);nt&&(b.u=()=>{D=!0;try{nt()}finally{D=!1}})}finally{D=!1}};o.add(M)}}return b}),R=g[8]||(k=>{var U;const K=y(k);let b=e.get(k);if(b&&!b.l.size&&!Array.from(b.t).some(M=>{var D;return(D=e.get(M))==null?void 0:D.d.has(k)})){b.u&&s.add(b.u),b=void 0,e.delete(k),(U=u.u)==null||U.call(u,k);for(const M of K.d.keys()){const D=R(M);D==null||D.t.delete(k)}return}return b}),j=[t,e,n,r,o,s,u,c,f,d,h,y,v,S,x,T,O,N,P,R],B={get:k=>id(x(k)),set:(k,...U)=>{try{return O(k,...U)}finally{S(),v()}},sub:(k,U)=>{const b=P(k).l;return b.add(U),v(),()=>{b.delete(U),R(k),v()}}};return Object.defineProperty(B,IJ,{value:j}),B},i$=RJ,$J=kJ,Ux=r$,H_={};let PJ=0;function Vr(t,e){const n=`atom${++PJ}`,r={toString(){return(H_?"production":void 0)!=="production"&&this.debugLabel?n+":"+this.debugLabel:n}};return typeof t=="function"?r.read=t:(r.init=t,r.read=MJ,r.write=NJ),e&&(r.write=e),r}function MJ(t){return t(this)}function NJ(t,e,n){return e(this,typeof n=="function"?n(t(this)):n)}const LJ=()=>{let t=0;const e=$J({}),n=new WeakMap,r=new WeakMap,o=i$(n,r,void 0,void 0,void 0,void 0,e,void 0,(c,f,d,...h)=>t?d(c,...h):c.write(f,d,...h)),s=new Set;return e.m.add(void 0,c=>{s.add(c);const f=n.get(c);f.m=r.get(c)}),e.u.add(void 0,c=>{s.delete(c);const f=n.get(c);delete f.m}),Object.assign(o,{dev4_get_internal_weak_map:()=>n,dev4_get_mounted_atoms:()=>s,dev4_restore_atoms:c=>{const f={read:()=>null,write:(d,h)=>{++t;try{for(const[g,y]of c)"init"in g&&h(g,y)}finally{--t}}};o.set(f)}})};function FJ(){return(H_?"production":void 0)!=="production"?LJ():i$()}let Tc;function G_(){return Tc||(Tc=FJ(),(H_?"production":void 0)!=="production"&&(globalThis.__JOTAI_DEFAULT_STORE__||(globalThis.__JOTAI_DEFAULT_STORE__=Tc),globalThis.__JOTAI_DEFAULT_STORE__!==Tc&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044"))),Tc}const BJ={},jJ=G.createContext(void 0);function s$(t){return G.useContext(jJ)||G_()}const a$=t=>typeof(t==null?void 0:t.then)=="function",DJ=t=>{t.status="pending",t.then(e=>{t.status="fulfilled",t.value=e},e=>{t.status="rejected",t.reason=e})},UJ=oe.use||(t=>{if(t.status==="pending")throw t;if(t.status==="fulfilled")return t.value;throw t.status==="rejected"?t.reason:(DJ(t),t)}),dy=new WeakMap,zJ=(t,e)=>{let n=dy.get(t);return n||(n=new Promise((r,o)=>{let s=t;const u=d=>h=>{s===d&&r(h)},c=d=>h=>{s===d&&o(h)},f=()=>{try{const d=e();a$(d)?(dy.set(d,n),s=d,d.then(u(d),c(d)),Ux(d,f)):r(d)}catch(d){o(d)}};t.then(u(t),c(t)),Ux(t,f)}),dy.set(t,n)),n};function zx(t,e){const n=s$(),[[r,o,s],u]=G.useReducer(d=>{const h=n.get(t);return Object.is(d[0],h)&&d[1]===n&&d[2]===t?d:[h,n,t]},void 0,()=>[n.get(t),n,t]);let c=r;if((o!==n||s!==t)&&(u(),c=n.get(t)),G.useEffect(()=>{const d=n.sub(t,()=>{u()});return u(),d},[n,t,void 0]),G.useDebugValue(c),a$(c)){const d=zJ(c,()=>n.get(t));return UJ(d)}return c}function WJ(t,e){const n=s$();return G.useCallback((...o)=>{if((BJ?"production":void 0)!=="production"&&!("write"in t))throw new Error("not writable atom");return n.set(t,...o)},[n,t])}const Cp={},KJ=Symbol((Cp?"production":void 0)!=="production"?"RESET":""),Wx=(t,e,n)=>(e.has(n)?e:e.set(n,t())).get(n),qJ=new WeakMap,VJ=(t,e,n)=>{const r=Wx(()=>new WeakMap,qJ,e);return Wx(t,r,n)},HJ={},Kx=t=>!!t.write,GJ=t=>typeof t=="function";function qx(t,e){return VJ(()=>{const n=new WeakMap,r=(u,c)=>{let f=n.get(u);if(f)return f;const d=c&&n.get(c),h=[],g=[];return u.forEach((y,v)=>{const S=v;g[v]=S;const x=d&&d.atomList[d.keyList.indexOf(S)];if(x){h[v]=x;return}const T=N=>{const P=N(o),R=N(t),B=r(R,P==null?void 0:P.arr).keyList.indexOf(S);if(B<0||B>=R.length){const k=u[r(u).keyList.indexOf(S)];if(k)return k;throw new Error("splitAtom: index out of bounds for read")}return R[B]},O=(N,P,R)=>{const j=N(o),B=N(t),U=r(B,j==null?void 0:j.arr).keyList.indexOf(S);if(U<0||U>=B.length)throw new Error("splitAtom: index out of bounds for write");const K=GJ(R)?R(B[U]):R;Object.is(B[U],K)||P(t,[...B.slice(0,U),K,...B.slice(U+1)])};h[v]=Kx(t)?Vr(T,O):Vr(T)}),d&&d.keyList.length===g.length&&d.keyList.every((y,v)=>y===g[v])?f=d:f={arr:u,atomList:h,keyList:g},n.set(u,f),f},o=Vr(u=>{const c=u(o),f=u(t);return r(f,c==null?void 0:c.arr)});(Cp?"production":void 0)!=="production"&&(o.debugPrivate=!0),o.init=void 0;const s=Kx(t)?Vr(u=>u(o).atomList,(u,c,f)=>{switch(f.type){case"remove":{const d=u(s).indexOf(f.atom);if(d>=0){const h=u(t);c(t,[...h.slice(0,d),...h.slice(d+1)])}break}case"insert":{const d=f.before?u(s).indexOf(f.before):u(s).length;if(d>=0){const h=u(t);c(t,[...h.slice(0,d),f.value,...h.slice(d)])}break}case"move":{const d=u(s).indexOf(f.atom),h=f.before?u(s).indexOf(f.before):u(s).length;if(d>=0&&h>=0){const g=u(t);d<h?c(t,[...g.slice(0,d),...g.slice(d+1,h),g[d],...g.slice(h)]):c(t,[...g.slice(0,h),g[d],...g.slice(h,d),...g.slice(d+1)])}break}}}):Vr(u=>u(o).atomList);return s},t,HJ)}const JJ=t=>typeof(t==null?void 0:t.then)=="function";function u$(t=()=>{try{return window.localStorage}catch(n){(Cp?"production":void 0)!=="production"&&typeof window<"u"&&console.warn(n);return}},e){var n;let r,o;const s={getItem:(f,d)=>{var h,g;const y=S=>{if(S=S||"",r!==S){try{o=JSON.parse(S,e==null?void 0:e.reviver)}catch{return d}r=S}return o},v=(g=(h=t())==null?void 0:h.getItem(f))!=null?g:null;return JJ(v)?v.then(y):y(v)},setItem:(f,d)=>{var h;return(h=t())==null?void 0:h.setItem(f,JSON.stringify(d,void 0))},removeItem:f=>{var d;return(d=t())==null?void 0:d.removeItem(f)}},u=f=>(d,h,g)=>f(d,y=>{let v;try{v=JSON.parse(y||"")}catch{v=g}h(v)});let c;try{c=(n=t())==null?void 0:n.subscribe}catch{}return!c&&typeof window<"u"&&typeof window.addEventListener=="function"&&window.Storage&&(c=(f,d)=>{if(!(t()instanceof window.Storage))return()=>{};const h=g=>{g.storageArea===t()&&g.key===f&&d(g.newValue)};return window.addEventListener("storage",h),()=>{window.removeEventListener("storage",h)}}),c&&(s.subscribe=u(c)),s}const YJ=u$();function XJ(t,e,n=YJ,r){const o=r==null?void 0:r.getOnInit,s=Vr(o?n.getItem(t,e):e);return(Cp?"production":void 0)!=="production"&&(s.debugPrivate=!0),s.onMount=c=>{c(n.getItem(t,e));let f;return n.subscribe&&(f=n.subscribe(t,c,e)),f},Vr(c=>c(s),(c,f,d)=>{const h=typeof d=="function"?d(c(s)):d;return h===KJ?(f(s,e),n.removeItem(t)):h instanceof Promise?h.then(g=>(f(s,g),n.setItem(t,g))):(f(s,h),n.setItem(t,h))})}const QJ=()=>u$(),ZJ=(t,e)=>XJ(t,e,QJ(),{getOnInit:!0}),tY={atom:ZJ},Vx=G_(),c$=(t,e,n,r="mem")=>{const o=r==="mem",s=t===zd.type,u=!o&&zd.isMain?tY.atom(e,n):Vr(n),c=new BroadcastChannel(e),f=LR(),d=In.enabled(!1,In.info);d("Creating",{owner:t,isOwner:s,key:e,id:f});let h;const g=Vr(S=>S(u),(S,x,T)=>{const O=typeof T.value=="function"?T.value(S(u)):T.value;s?(x(u,T.value),h=O,d("Posting message as owner",O),c.postMessage({type:"update",value:O})):T.isEvent?x(u,T.value):(d("Posting message as borrower",O),c.postMessage({type:"update-request",value:O}))}),y=S=>{(S.data.type==="update"||S.data.type==="update-request"||S.data.type==="init-ack")&&Vx.set(g,{isEvent:!0,value:S.data.value})};return c.onmessage=S=>{const x=S;d("Received message",x.data),x.data.type==="update-request"&&s&&y(x),x.data.type==="update"&&y(x),s&&x.data.type==="init"?c.postMessage({type:"init-ack",id:x.data.id,value:h||Vx.get(u)}):!s&&x.data.type==="init-ack"&&x.data.id===f&&y(x)},s||(d("Posting init"),c.postMessage({type:"init",id:f})),Vr(S=>S(g),(S,x,T)=>{d("Atom set",T),x(g,{isEvent:!1,value:T})})},Si=t=>t,J_=t=>({_tag:"Left",value:t}),Tp=t=>({_tag:"Right",value:t}),eY=(t,e,n)=>n._tag==="Left"?t(n.value):e(n.value),l$={dimap:(t,e,n)=>r=>e(n(t(r))),first:t=>([e,n])=>[t(e),n],right:t=>e=>e._tag==="Left"?e:Tp(t(e.value)),wander:t=>e=>e.map(t)},nY={empty:()=>{},foldMap:(t,e)=>{for(let n=0;n<e.length;n++){const r=t(e[n]);if(r!=null)return r}}},rY={empty:()=>[],foldMap:(t,e)=>{let n=[];return e.forEach(r=>{n=n.concat(t(r))}),n}},Y_=t=>({dimap:(e,n,r)=>o=>r(e(o)),first:e=>([n,r])=>e(n),right:e=>n=>n._tag==="Left"?t.empty():e(n.value),wander:e=>n=>t.foldMap(e,n)}),hy={Equivalence:{Equivalence:"Equivalence",Iso:"Iso",Lens:"Lens",Prism:"Prism",Traversal:"Traversal",Getter:"Getter",AffineFold:"AffineFold",Fold:"Fold",Setter:"Setter"},Iso:{Equivalence:"Iso",Iso:"Iso",Lens:"Lens",Prism:"Prism",Traversal:"Traversal",Getter:"Getter",AffineFold:"AffineFold",Fold:"Fold",Setter:"Setter"},Lens:{Equivalence:"Lens",Iso:"Lens",Lens:"Lens",Prism:"Prism",Traversal:"Traversal",Getter:"Getter",AffineFold:"AffineFold",Fold:"Fold",Setter:"Setter"},Prism:{Equivalence:"Prism",Iso:"Prism",Lens:"Prism",Prism:"Prism",Traversal:"Traversal",Getter:"AffineFold",AffineFold:"AffineFold",Fold:"Fold",Setter:"Setter"},Traversal:{Equivalence:"Traversal",Iso:"Traversal",Lens:"Traversal",Prism:"Traversal",Traversal:"Traversal",Getter:"Fold",AffineFold:"Fold",Fold:"Fold",Setter:"Setter"},Getter:{Equivalence:"Getter",Iso:"Getter",Lens:"Getter",Prism:"AffineFold",Traversal:"Fold",Getter:"Getter",AffineFold:"AffineFold",Fold:"Fold",Setter:void 0},AffineFold:{Equivalence:"AffineFold",Iso:"AffineFold",Lens:"AffineFold",Prism:"AffineFold",Traversal:"Fold",Getter:"AffineFold",AffineFold:"AffineFold",Fold:"Fold",Setter:void 0},Fold:{Equivalence:"Fold",Iso:"Fold",Lens:"Fold",Prism:"Fold",Traversal:"Fold",Getter:"Fold",AffineFold:"Fold",Fold:"Fold",Setter:void 0},Setter:{Equivalence:void 0,Iso:void 0,Lens:void 0,Prism:void 0,Traversal:void 0,Getter:void 0,AffineFold:void 0,Fold:void 0,Setter:void 0}},Du=(t,e)=>{const n=e;return n._tag=t,n},f$=t=>(t._removable=!0,t);function Ut(t,e,n){switch(arguments.length){case 2:{const r=(o,s)=>t(o,e(o,s));return r._tag=hy[t._tag][e._tag],r._removable=e._removable||!1,r}default:{const r=hy[t._tag][e._tag],o=(s,u)=>t(s,e(s,n(s,u)));return o._tag=hy[r][n._tag],o._removable=n._removable||!1,o}}}const oY=Du("Equivalence",(t,e)=>e),Op=(t,e)=>Du("Iso",(n,r)=>n.dimap(t,e,r)),Or=(t,e)=>Du("Lens",(n,r)=>n.dimap(o=>[t(o),o],e,n.first(r))),X_=(t,e)=>Du("Prism",(n,r)=>n.dimap(t,o=>eY(Si,e,o),n.right(r))),Q_=Du("Traversal",(t,e)=>t.dimap(Si,Si,t.wander(e))),iY=t=>Du("Getter",(e,n)=>e.dimap(t,Si,n)),d$=(t,e,n)=>t(l$,e)(n),sY=(t,e,n)=>t(l$,()=>e)(n),aY=(t,e)=>t(Y_({}),Si)(e),uY=(t,e)=>t(Y_(nY),Si)(e),h$=(t,e)=>t(Y_(rY),n=>[n])(e),cY=Op(t=>t.map((e,n)=>[n,e]),t=>{const e=[...t].sort((r,o)=>r[0]-o[0]),n=[];for(let r=0;r<e.length;++r)(r===e.length-1||e[r][0]!==e[r+1][0])&&n.push(e[r][1]);return n}),Hx=t=>Or(e=>e[t],([e,n])=>Object.assign(Object.assign({},n),{[t]:e})),lY=t=>Or(e=>{const n={};for(const r of t)n[r]=e[r];return n},([e,n])=>{const r=Object.assign({},n);for(const o of t)delete r[o];return Object.assign(r,e)}),p$=t=>Or(e=>e[t],([e,n])=>{const r=n.slice();return r[t]=e,r}),Z_=p$(0),tb=t=>X_(e=>t(e)?Tp(e):J_(e),Si),ul=Symbol("__no_match__"),g$=tb(t=>t!==ul),m$=Symbol("__remove_me__"),py=t=>f$(Ut(Or(e=>0<=t&&t<e.length?e[t]:ul,([e,n])=>{if(e===ul)return n;if(e===m$)return typeof n=="string"?n.substring(0,t)+n.substring(t+1):[...n.slice(0,t),...n.slice(t+1)];if(typeof n=="string")return t===0?e+n.substring(1):t===n.length?n.substring(0,t-1)+e:n.substring(0,t)+e+n.substring(t+1);{const r=n.slice();return r[t]=e,r}}),g$)),fY=X_(t=>t===void 0?J_(void 0):Tp(t),Si),dY=t=>X_(e=>t(e)?Tp(e):J_(e),Si),hY=t=>f$(Ut(Or(e=>{const n=e.findIndex(t);return n===-1?[ul,-1]:[e[n],n]},([[e,n],r])=>{if(e===ul)return r;if(e===m$)return[...r.slice(0,n),...r.slice(n+1)];const o=r.slice();return o[n]=e,o}),Z_,g$)),pY=t=>Ut(Or(e=>{const n=e.map((r,o)=>t(r)?o:null).filter(r=>r!=null);return[n.map(r=>e[r]),n]},([[e,n],r])=>{const o=r.length,s=e.length;let u=0,c=0,f=0;const d=[];for(;u<o;)n[c]===u?(++c,f<s&&(d.push(e[f]),++f)):d.push(r[u]),++u;for(;f<s;)d.push(e[f++]);return d}),Z_),gY=t=>Or(e=>e===void 0?t:e,([e,n])=>e),mY=t=>Ut(Or(e=>{const n=h$(t,e);return[n,n.length]},([[e,n],r])=>{if(e.length!==n)throw new Error("cannot add/remove elements through partsOf");let o=0;return d$(t,()=>e[o++],r)}),Z_),yY=t=>Or(e=>t(e),([e,n])=>e),vY=t=>Or(e=>e,([e,n])=>t(e)),_Y=Or(t=>{},([t,e])=>t===void 0?e:[t,...e]),bY=Or(t=>{},([t,e])=>t===void 0?e:[...e,t]),SY=Ut(Op(t=>t.split(""),t=>t.join("")),Q_),wY=Ut(Op(t=>t.split(/\b/),t=>t.join("")),Q_,tb(t=>!/\s+/.test(t)));class Yt{constructor(e){this._ref=e}get _tag(){return this._ref._tag}get _removable(){return this._ref._removable}compose(e){return new Yt(Ut(this._ref,e._ref))}iso(e,n){return new Yt(Ut(this._ref,Op(e,n)))}lens(e,n){return new Yt(Ut(this._ref,Or(e,([r,o])=>n(o,r))))}indexed(){return new Yt(Ut(this._ref,cY))}prop(e){return new Yt(Ut(this._ref,Hx(e)))}path(...e){return e.length===1&&(e=e[0].split(".")),new Yt(e.reduce((n,r)=>Ut(n,Hx(r)),this._ref))}pick(e){return new Yt(Ut(this._ref,lY(e)))}nth(e){return new Yt(Ut(this._ref,p$(e)))}filter(e){return new Yt(Ut(this._ref,pY(e)))}valueOr(e){return new Yt(Ut(this._ref,gY(e)))}partsOf(e){const n=typeof e=="function"?e(y$):e;return new Yt(Ut(this._ref,mY(n._ref)))}reread(e){return new Yt(Ut(this._ref,yY(e)))}rewrite(e){return new Yt(Ut(this._ref,vY(e)))}optional(){return new Yt(Ut(this._ref,fY))}guard_(){return e=>this.guard(e)}guard(e){return new Yt(Ut(this._ref,dY(e)))}at(e){return new Yt(Ut(this._ref,py(e)))}head(){return new Yt(Ut(this._ref,py(0)))}index(e){return new Yt(Ut(this._ref,py(e)))}find(e){return new Yt(Ut(this._ref,hY(e)))}elems(){return new Yt(Ut(this._ref,Q_))}to(e){return new Yt(Ut(this._ref,iY(e)))}when(e){return new Yt(Ut(this._ref,tb(e)))}chars(){return new Yt(Ut(this._ref,SY))}words(){return new Yt(Ut(this._ref,wY))}prependTo(){return new Yt(Ut(this._ref,_Y))}appendTo(){return new Yt(Ut(this._ref,bY))}}const y$=new Yt(oY);function EY(){return y$}function xY(t){return e=>aY(t._ref,e)}function CY(t){return e=>uY(t._ref,e)}function TY(t){return e=>h$(t._ref,e)}function OY(t){return e=>n=>d$(t._ref,e,n)}function AY(t){return e=>n=>sY(t._ref,e,n)}const Gx=(t,e,n)=>(e.has(n)?e:e.set(n,t())).get(n),kY=new WeakMap,IY=(t,e,n)=>{const r=Gx(()=>new WeakMap,kY,e);return Gx(t,r,n)},RY=t=>typeof t=="function";function $Y(t,e){return IY(()=>{const n=e(EY());return Vr(o=>{const s=o(t);return s instanceof Promise?s.then(u=>Jx(n,u)):Jx(n,s)},(o,s,u)=>{const c=RY(u)?OY(n)(u):AY(n)(u),f=o(t);return s(t,f instanceof Promise?f.then(c):c(f))})},t,e)}const Jx=(t,e)=>t._tag==="Traversal"?TY(t)(e):t._tag==="Prism"?CY(t)(e):xY(t)(e),sd=G_(),Ja=(t,e)=>{const n=()=>sd.get(t),r=T=>{sd.set(t,T)};let o;const s=(T,O)=>{const N=()=>{const R=T(n());typeof R=="function"&&(o=R)};O&&N();const P=sd.sub(t,()=>{o!==void 0&&o(),N()});return()=>{P()}},u=T=>s(T,!1),c=T=>s(T,!0),f=()=>zx(t),d=()=>WJ(t),h=()=>[f(),d()],g=T=>Ja($Y(t,T));return{get:n,set:r,sub:u,subAndInit:c,useValue:f,useSet:d,use:h,focus:g,useFocus:T=>{const O=oe.useCallback(N=>N.prop(T),[T]);return g(O)},useFocusMemo:T=>{const O=f();return oe.useMemo(()=>g(T),[O])},array:()=>{const T=t;return sd.get(qx(T)).map(O=>Ja(O))},useArray:()=>zx(qx(t)).map(O=>Ja(O))}},PY=(t,e)=>Ja(Vr(e)),MY=(t,e,n)=>Ja(c$(t,e,n)),NY=(t,e)=>Ja(c$("main",t,e,"storage")),Yx={},LY=t=>e=>{const n=Yx[e];if(n!==void 0)return n;{const r=t(e);return Yx[e]=r,r}},ln={mem:MY,memSingle:PY,storage:NY,family:LY},eb=()=>({label:"Default",key:"default",controllers:[],style:{accent:{color1:"#6a11cb",color2:"#2575fc"}}}),FY=()=>({active:"default",projects:[eb()]}),pt={initArrangement:ln.mem("project","init-arrangement",[]),importStatus:ln.mem("project","import-status",{type:"none"}),project:{config:ln.storage("projects-config",FY()),abletonName:ln.mem("project","ableton-name",void 0),arrangement:ln.mem("project","arrangement",oJ())},realTime:{beats:ln.mem("project","real-time-beats",0),barBeats:ln.mem("project","real-time-bar-beats",1),timeSignature:ln.mem("project","real-time-time-signature",{noteCount:4,noteLength:4}),tempo:ln.mem("project","real-time-tempo",0),isPlaying:ln.mem("project","real-time-is-playing",!1),metronomeState:ln.mem("project","real-time-metronome-state",!1),loopState:ln.mem("project","real-time-loop-state",!1),halfBeat:ln.mem("project","real-time-half-beat",!1)}},sa=st({channel:je}),BY=st({type:Ge("sysex"),manufacturer:je,body:Go(je)}),jY=st({type:Ge("noteon"),note:je,velocity:je,...sa.fields}),DY=st({type:Ge("noteoff"),note:je,velocity:je,...sa.fields}),UY=st({type:Ge("cc"),controllerNumber:je,data:je,...sa.fields}),zY=st({type:Ge("pc"),programNumber:je,...sa.fields}),WY=st({type:Ge("clock")}),KY=st({type:Ge("measureend")}),qY=st({type:Ge("start")}),VY=st({type:Ge("continue")}),HY=st({type:Ge("stop")}),GY=st({type:Ge("reset")}),JY=st({type:Ge("activesensing")}),YY=st({type:Ge("mtcquarterframe"),data:je}),XY=st({type:Ge("unknown")}),QY=st({type:Ge("error"),message:re}),ZY=ki(BY,jY,DY,UY,zY,WY,KY,qY,VY,HY,GY,JY,YY,XY,QY),v$=(t,e)=>{const n=[...e];return rt.forEach(t,(r,o)=>{n.push(t.charCodeAt(o))}),n},nb=(t,e=0)=>({type:"sysex",manufacturer:e,body:t}),tX=(t,e=[],n=0)=>nb(v$(JSON.stringify(t),e),n),eX=(t,e,n=[],r=0)=>nb(v$(Ie(pH(e)(t),{onSome:o=>JSON.stringify(o),onNone:()=>"Error encoding schema sysex"}),n),r),nX=t=>{const e=[];return rt.forEach(t,n=>{e.push(String.fromCharCode(n))}),e.join("")},rX=(t,e,n=0)=>{const r=nX(t.body.slice(n));return T_(I_(e))(r)},oX=t=>({raw:[],time:new Date,...t}),cl={schema:ZY,sysex:nb,jsonSysex:tX,jsonSchemaSysex:eX,parseJsonSysex:rX,raw:oX},_$=t=>({targets:t.targets,init:t.init,render:t.render,loading:t.loading||(()=>()=>()=>{}),listenFilter:t.listenFilter||(()=>!0)}),iX=_$({targets:[],init:()=>()=>{},render:()=>()=>{}}),rb={of:_$,empty:iX},ob=t=>{const e=rt.fromPairs(rt.map(t,s=>[s.name,s])),n=ki(...t.map(s=>s.schema)),r=s=>s.widgets.flatMap(u=>Ie(o(u._tag),{onSome:c=>({name:c.name,targets:()=>{const f=c.targets(u);return f._tag==="none"?[]:f._tag==="one"?[f.target]:f.targets},component:()=>c.component(u),widget:u,tracks:()=>c.tracks(u)}),onNone:()=>(console.error("No widget found for config",u),[])})),o=s=>Ti(rt.get(e,s,void 0));return{schema:n,resolve:r,getByName:o,widgets:t}},sX=t=>t,aX={name:"empty",controller:rb.empty,widgets:ob([])},ib={of:sX,empty:aX};var b$={exports:{}},Ap={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uX=G,cX=Symbol.for("react.element"),lX=Symbol.for("react.fragment"),fX=Object.prototype.hasOwnProperty,dX=uX.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,hX={key:!0,ref:!0,__self:!0,__source:!0};function S$(t,e,n){var r,o={},s=null,u=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(u=e.ref);for(r in e)fX.call(e,r)&&!hX.hasOwnProperty(r)&&(o[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)o[r]===void 0&&(o[r]=e[r]);return{$$typeof:cX,type:t,key:s,ref:u,props:o,_owner:dX.current}}Ap.Fragment=lX;Ap.jsx=S$;Ap.jsxs=S$;b$.exports=Ap;var J=b$.exports;const w$=st({target:qr.Schema}),E$=st({targets:Go(qr.Schema)}),pX=Rn("none",{}),gX=Rn("one",w$.fields),mX=Rn("many",E$.fields);ki(pX,gX,mX);const x$=t=>({name:t.name,schema:Rn(t.name,t.schema.fields),targets:t.targets,component:t.component,tracks:t.tracks||(()=>[]),init:t.init,inputType:t.inputType}),yX=t=>({name:t.name,schema:Rn(t.name,{...t.schema.fields}),targets:e=>({_tag:"none"}),component:t.component,tracks:t.tracks||(()=>[]),init:()=>({_tag:t.name,...t.init()}),inputType:"none"}),vX=t=>({name:t.name,schema:Rn(t.name,{...w$.fields,...t.schema.fields}),targets:e=>({_tag:"one",target:e.target}),component:t.component,tracks:t.tracks||(()=>[]),init:e=>({_tag:t.name,target:e.target,...t.init()}),inputType:"one"}),_X=t=>({name:t.name,schema:Rn(t.name,{...E$.fields,...t.schema.fields}),targets:e=>({_tag:"many",targets:e.targets}),component:t.component,tracks:t.tracks||(()=>[]),init:e=>({_tag:t.name,targets:e.targets,...t.init()}),inputType:"many"}),bX=(t,e,n)=>x$({name:t.name,schema:st({...t.schema.fields,...e.fields}),targets:r=>t.targets(r),component:r=>t.component(r),tracks:r=>t.tracks!==void 0?t.tracks(r):[],init:r=>({...t.init(r),...n(r)}),inputType:t.inputType}),_e={of:x$,none:yX,one:vX,many:_X,intersect:bX},SX=()=>({send:t=>{In.debug("Empty send",t)}}),wX=t=>({send:e=>{t.emit(e)}}),sb={empty:SX,fromEventEmitter:wX},EX=()=>({on:t=>()=>{console.log("Empty listener",t)}}),C$={empty:EX},xX={isAllowed:!1,getInput:t=>ut(),getOutput:t=>ut(),inputs:[],outputs:[]},CX={deviceManager:ln.memSingle("device-manager",xX)},ab={state:CX.deviceManager},Xx=t=>ln.storage(t,ut()),Jo={daw:{emitter:ln.memSingle("daw-emitter",sb.empty()),listener:ln.memSingle("daw-listener",Gc()),selected:{input:Xx("daw-midi-input-selected"),output:Xx("daw-midi-output-selected")}}},T$=()=>ab.state.get(),Qx=()=>{const t=H(Jo.daw.selected.input.get(),ns(T$().getInput));Jo.daw.listener.set(xe(t,()=>C$.empty()))},Zx=()=>{const t=H(Jo.daw.selected.output.get(),ns(T$().getOutput));Jo.daw.emitter.set(xe(t,()=>sb.empty()))},xh=t=>t==="input"?Jo.daw.selected.input:Jo.daw.selected.output,TX=()=>{Jo.daw.selected.input.sub(Qx),Qx(),Jo.daw.selected.output.sub(Zx),Zx()},OX=(t,e)=>{xh(e).set(t)},AX=t=>xh(t).get(),kX=t=>{const e=ab.state.useValue(),n=oe.useMemo(()=>t==="input"?e.inputs:e.outputs,[e]),r=xh(t).useValue(),o=xh(t).useSet();return{type:t,devices:n,selected:uo(r),setSelected:s=>{o(Ti(s))}}};let gy;const O$=()=>(gy===void 0&&(gy=new BroadcastChannel("project:daw")),gy),IX=()=>{const t=O$();return{send:e=>{t.postMessage(e)}}},Ii={init:TX,useMidiDevices:kX,setSelected:OX,getSelected:AX,states:Jo,getChannel:O$,useDawEmitter:IX,useDawListener:()=>Jo.daw.listener.useValue()},A$=_e.one({name:"play",schema:st({color:tt.Schema}),init:()=>({color:tt.GREEN}),component:({target:t,color:e})=>{const n=Ii.useDawEmitter();return J.jsx("pad",{color:e,target:t,onClick:()=>n.send(fn.play())})}}),k$=_e.one({name:"stop",schema:st({color:tt.Schema}),init:()=>({color:tt.RED}),component:({target:t,color:e})=>{const n=Ii.useDawEmitter();return J.jsx("pad",{color:e,target:t,onClick:()=>n.send(fn.stop())})}}),RX=_e.one({name:"record",schema:st({color:tt.Schema}),init:()=>({color:tt.PURPLE}),component:({target:t,color:e})=>{const n=Ii.useDawEmitter();return J.jsx("pad",{color:e,target:t,onClick:()=>n.send(fn.record())})}}),$X=()=>{let t=[],e=!1,n=120,r=100,o=4;const s=h=>t.forEach(g=>g(h)),u=h=>{s({beat:h,halfBeat:!1,isPlaying:e}),setTimeout(()=>{s({beat:h,halfBeat:!0,isPlaying:e})},r)},c=h=>{if(e=h,!h){const g=()=>setTimeout(()=>{u(1),e||g()},r*2);g()}};c(!1);const f=()=>{o<=4?r=60/n/2*1e3:r=60/n/4*1e3};return f(),pt.realTime.tempo.sub(h=>{n=h,f()}),pt.realTime.timeSignature.sub(h=>{o=h.noteLength,f()}),pt.realTime.isPlaying.sub(c),pt.realTime.barBeats.sub(u),{onTick:h=>(t=[...t,h],()=>{t=t.filter(g=>g!==h)})}};let my;const PX=()=>(my===void 0&&(my=$X()),my),MX=t=>PX().onTick(t),I$={onTick:MX},wi=t=>{const[e,n]=oe.useState(t.color);return oe.useEffect(()=>t.isFlashing?I$.onTick(r=>n(r.halfBeat?tt.BLACK:t.color)):(n(t.color),()=>{}),[t.color,t.isFlashing]),J.jsx("pad",{...t,color:e})};/**
 * @license
 * MIT License
 * 
 * Copyright (c) 2014-present, Lee Byron and other contributors.
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */var Gl="delete",ne=5,gr=1<<ne,zn=gr-1,Ft={};function Mv(){return{value:!1}}function Gr(t){t&&(t.value=!0)}function ub(){}function _u(t){return t.size===void 0&&(t.size=t.__iterate(R$)),t.size}function ss(t,e){if(typeof e!="number"){var n=e>>>0;if(""+n!==e||n===4294967295)return NaN;e=n}return e<0?_u(t)+e:e}function R$(){return!0}function kp(t,e,n){return(t===0&&!P$(t)||n!==void 0&&t<=-n)&&(e===void 0||n!==void 0&&e>=n)}function Jl(t,e){return $$(t,e,0)}function Ip(t,e){return $$(t,e,e)}function $$(t,e,n){return t===void 0?n:P$(t)?e===1/0?e:Math.max(0,e+t)|0:e===void 0||e===t?t:Math.min(e,t)|0}function P$(t){return t<0||t===0&&1/t===-1/0}var M$="@@__IMMUTABLE_ITERABLE__@@";function Er(t){return!!(t&&t[M$])}var Ch="@@__IMMUTABLE_KEYED__@@";function pe(t){return!!(t&&t[Ch])}var Th="@@__IMMUTABLE_INDEXED__@@";function Yr(t){return!!(t&&t[Th])}function cb(t){return pe(t)||Yr(t)}var $n=function(e){return Er(e)?e:er(e)},Xr=function(t){function e(n){return pe(n)?n:ds(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}($n),aa=function(t){function e(n){return Yr(n)?n:bo(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}($n),Uu=function(t){function e(n){return Er(n)&&!cb(n)?n:Ku(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}($n);$n.Keyed=Xr;$n.Indexed=aa;$n.Set=Uu;var N$="@@__IMMUTABLE_SEQ__@@";function lb(t){return!!(t&&t[N$])}var L$="@@__IMMUTABLE_RECORD__@@";function ua(t){return!!(t&&t[L$])}function Xo(t){return Er(t)||ua(t)}var as="@@__IMMUTABLE_ORDERED__@@";function Ko(t){return!!(t&&t[as])}var zu=0,xr=1,Cr=2,Nv=typeof Symbol=="function"&&Symbol.iterator,F$="@@iterator",Rp=Nv||F$,Dt=function(e){this.next=e};Dt.prototype.toString=function(){return"[Iterator]"};Dt.KEYS=zu;Dt.VALUES=xr;Dt.ENTRIES=Cr;Dt.prototype.inspect=Dt.prototype.toSource=function(){return this.toString()};Dt.prototype[Rp]=function(){return this};function ge(t,e,n,r){var o=t===zu?e:t===xr?n:[e,n];return r?r.value=o:r={value:o,done:!1},r}function Wn(){return{value:void 0,done:!0}}function B$(t){return Array.isArray(t)?!0:!!$p(t)}function tC(t){return t&&typeof t.next=="function"}function Lv(t){var e=$p(t);return e&&e.call(t)}function $p(t){var e=t&&(Nv&&t[Nv]||t[F$]);if(typeof e=="function")return e}function NX(t){var e=$p(t);return e&&e===t.entries}function LX(t){var e=$p(t);return e&&e===t.keys}var Wu=Object.prototype.hasOwnProperty;function j$(t){return Array.isArray(t)||typeof t=="string"?!0:t&&typeof t=="object"&&Number.isInteger(t.length)&&t.length>=0&&(t.length===0?Object.keys(t).length===1:t.hasOwnProperty(t.length-1))}var er=function(t){function e(n){return n==null?db():Xo(n)?n.toSeq():BX(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq {","}")},e.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},e.prototype.__iterate=function(r,o){var s=this._cache;if(s){for(var u=s.length,c=0;c!==u;){var f=s[o?u-++c:c++];if(r(f[1],f[0],this)===!1)break}return c}return this.__iterateUncached(r,o)},e.prototype.__iterator=function(r,o){var s=this._cache;if(s){var u=s.length,c=0;return new Dt(function(){if(c===u)return Wn();var f=s[o?u-++c:c++];return ge(r,f[0],f[1])})}return this.__iteratorUncached(r,o)},e}($n),ds=function(t){function e(n){return n==null?db().toKeyedSeq():Er(n)?pe(n)?n.toSeq():n.fromEntrySeq():ua(n)?n.toSeq():hb(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toKeyedSeq=function(){return this},e}(er),bo=function(t){function e(n){return n==null?db():Er(n)?pe(n)?n.entrySeq():n.toIndexedSeq():ua(n)?n.toSeq().entrySeq():D$(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return e(arguments)},e.prototype.toIndexedSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq [","]")},e}(er),Ku=function(t){function e(n){return(Er(n)&&!cb(n)?n:bo(n)).toSetSeq()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return e(arguments)},e.prototype.toSetSeq=function(){return this},e}(er);er.isSeq=lb;er.Keyed=ds;er.Set=Ku;er.Indexed=bo;er.prototype[N$]=!0;var bu=function(t){function e(n){this._array=n,this.size=n.length}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(r,o){return this.has(r)?this._array[ss(this,r)]:o},e.prototype.__iterate=function(r,o){for(var s=this._array,u=s.length,c=0;c!==u;){var f=o?u-++c:c++;if(r(s[f],f,this)===!1)break}return c},e.prototype.__iterator=function(r,o){var s=this._array,u=s.length,c=0;return new Dt(function(){if(c===u)return Wn();var f=o?u-++c:c++;return ge(r,f,s[f])})},e}(bo),fb=function(t){function e(n){var r=Object.keys(n).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(n):[]);this._object=n,this._keys=r,this.size=r.length}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(r,o){return o!==void 0&&!this.has(r)?o:this._object[r]},e.prototype.has=function(r){return Wu.call(this._object,r)},e.prototype.__iterate=function(r,o){for(var s=this._object,u=this._keys,c=u.length,f=0;f!==c;){var d=u[o?c-++f:f++];if(r(s[d],d,this)===!1)break}return f},e.prototype.__iterator=function(r,o){var s=this._object,u=this._keys,c=u.length,f=0;return new Dt(function(){if(f===c)return Wn();var d=u[o?c-++f:f++];return ge(r,d,s[d])})},e}(ds);fb.prototype[as]=!0;var FX=function(t){function e(n){this._collection=n,this.size=n.length||n.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__iterateUncached=function(r,o){if(o)return this.cacheResult().__iterate(r,o);var s=this._collection,u=Lv(s),c=0;if(tC(u))for(var f;!(f=u.next()).done&&r(f.value,c++,this)!==!1;);return c},e.prototype.__iteratorUncached=function(r,o){if(o)return this.cacheResult().__iterator(r,o);var s=this._collection,u=Lv(s);if(!tC(u))return new Dt(Wn);var c=0;return new Dt(function(){var f=u.next();return f.done?f:ge(r,c++,f.value)})},e}(bo),eC;function db(){return eC||(eC=new bu([]))}function hb(t){var e=pb(t);if(e)return e.fromEntrySeq();if(typeof t=="object")return new fb(t);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+t)}function D$(t){var e=pb(t);if(e)return e;throw new TypeError("Expected Array or collection object of values: "+t)}function BX(t){var e=pb(t);if(e)return NX(t)?e.fromEntrySeq():LX(t)?e.toSetSeq():e;if(typeof t=="object")return new fb(t);throw new TypeError("Expected Array or collection object of values, or keyed object: "+t)}function pb(t){return j$(t)?new bu(t):B$(t)?new FX(t):void 0}var U$="@@__IMMUTABLE_MAP__@@";function gb(t){return!!(t&&t[U$])}function z$(t){return gb(t)&&Ko(t)}function nC(t){return!!(t&&typeof t.equals=="function"&&typeof t.hashCode=="function")}function mr(t,e){if(t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1;if(typeof t.valueOf=="function"&&typeof e.valueOf=="function"){if(t=t.valueOf(),e=e.valueOf(),t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1}return!!(nC(t)&&nC(e)&&t.equals(e))}var Oc=typeof Math.imul=="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(e,n){e|=0,n|=0;var r=e&65535,o=n&65535;return r*o+((e>>>16)*o+r*(n>>>16)<<16>>>0)|0};function Pp(t){return t>>>1&1073741824|t&3221225471}var jX=Object.prototype.valueOf;function dr(t){if(t==null)return rC(t);if(typeof t.hashCode=="function")return Pp(t.hashCode(t));var e=qX(t);if(e==null)return rC(e);switch(typeof e){case"boolean":return e?1108378657:1108378656;case"number":return DX(e);case"string":return e.length>VX?UX(e):Fv(e);case"object":case"function":return WX(e);case"symbol":return zX(e);default:if(typeof e.toString=="function")return Fv(e.toString());throw new Error("Value type "+typeof e+" cannot be hashed.")}}function rC(t){return t===null?1108378658:1108378659}function DX(t){if(t!==t||t===1/0)return 0;var e=t|0;for(e!==t&&(e^=t*4294967295);t>4294967295;)t/=4294967295,e^=t;return Pp(e)}function UX(t){var e=_y[t];return e===void 0&&(e=Fv(t),vy===HX&&(vy=0,_y={}),vy++,_y[t]=e),e}function Fv(t){for(var e=0,n=0;n<t.length;n++)e=31*e+t.charCodeAt(n)|0;return Pp(e)}function zX(t){var e=sC[t];return e!==void 0||(e=W$(),sC[t]=e),e}function WX(t){var e;if(Bv&&(e=jv.get(t),e!==void 0)||(e=t[Is],e!==void 0)||!iC&&(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[Is],e!==void 0||(e=KX(t),e!==void 0)))return e;if(e=W$(),Bv)jv.set(t,e);else{if(oC!==void 0&&oC(t)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(iC)Object.defineProperty(t,Is,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(t.propertyIsEnumerable!==void 0&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[Is]=e;else if(t.nodeType!==void 0)t[Is]=e;else throw new Error("Unable to set a non-enumerable property on object.")}return e}var oC=Object.isExtensible,iC=function(){try{return Object.defineProperty({},"@",{}),!0}catch{return!1}}();function KX(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}function qX(t){return t.valueOf!==jX&&typeof t.valueOf=="function"?t.valueOf(t):t}function W$(){var t=++yy;return yy&1073741824&&(yy=0),t}var Bv=typeof WeakMap=="function",jv;Bv&&(jv=new WeakMap);var sC=Object.create(null),yy=0,Is="__immutablehash__";typeof Symbol=="function"&&(Is=Symbol(Is));var VX=16,HX=255,vy=0,_y={},Mp=function(t){function e(n,r){this._iter=n,this._useKeys=r,this.size=n.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(r,o){return this._iter.get(r,o)},e.prototype.has=function(r){return this._iter.has(r)},e.prototype.valueSeq=function(){return this._iter.valueSeq()},e.prototype.reverse=function(){var r=this,o=mb(this,!0);return this._useKeys||(o.valueSeq=function(){return r._iter.toSeq().reverse()}),o},e.prototype.map=function(r,o){var s=this,u=G$(this,r,o);return this._useKeys||(u.valueSeq=function(){return s._iter.toSeq().map(r,o)}),u},e.prototype.__iterate=function(r,o){var s=this;return this._iter.__iterate(function(u,c){return r(u,c,s)},o)},e.prototype.__iterator=function(r,o){return this._iter.__iterator(r,o)},e}(ds);Mp.prototype[as]=!0;var K$=function(t){function e(n){this._iter=n,this.size=n.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.includes=function(r){return this._iter.includes(r)},e.prototype.__iterate=function(r,o){var s=this,u=0;return o&&_u(this),this._iter.__iterate(function(c){return r(c,o?s.size-++u:u++,s)},o)},e.prototype.__iterator=function(r,o){var s=this,u=this._iter.__iterator(xr,o),c=0;return o&&_u(this),new Dt(function(){var f=u.next();return f.done?f:ge(r,o?s.size-++c:c++,f.value,f)})},e}(bo),q$=function(t){function e(n){this._iter=n,this.size=n.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.has=function(r){return this._iter.includes(r)},e.prototype.__iterate=function(r,o){var s=this;return this._iter.__iterate(function(u){return r(u,u,s)},o)},e.prototype.__iterator=function(r,o){var s=this._iter.__iterator(xr,o);return new Dt(function(){var u=s.next();return u.done?u:ge(r,u.value,u.value,u)})},e}(Ku),V$=function(t){function e(n){this._iter=n,this.size=n.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.entrySeq=function(){return this._iter.toSeq()},e.prototype.__iterate=function(r,o){var s=this;return this._iter.__iterate(function(u){if(u){uC(u);var c=Er(u);return r(c?u.get(1):u[1],c?u.get(0):u[0],s)}},o)},e.prototype.__iterator=function(r,o){var s=this._iter.__iterator(xr,o);return new Dt(function(){for(;;){var u=s.next();if(u.done)return u;var c=u.value;if(c){uC(c);var f=Er(c);return ge(r,f?c.get(0):c[0],f?c.get(1):c[1],u)}}})},e}(ds);K$.prototype.cacheResult=Mp.prototype.cacheResult=q$.prototype.cacheResult=V$.prototype.cacheResult=_b;function H$(t){var e=Qo(t);return e._iter=t,e.size=t.size,e.flip=function(){return t},e.reverse=function(){var n=t.reverse.apply(this);return n.flip=function(){return t.reverse()},n},e.has=function(n){return t.includes(n)},e.includes=function(n){return t.has(n)},e.cacheResult=_b,e.__iterateUncached=function(n,r){var o=this;return t.__iterate(function(s,u){return n(u,s,o)!==!1},r)},e.__iteratorUncached=function(n,r){if(n===Cr){var o=t.__iterator(n,r);return new Dt(function(){var s=o.next();if(!s.done){var u=s.value[0];s.value[0]=s.value[1],s.value[1]=u}return s})}return t.__iterator(n===xr?zu:xr,r)},e}function G$(t,e,n){var r=Qo(t);return r.size=t.size,r.has=function(o){return t.has(o)},r.get=function(o,s){var u=t.get(o,Ft);return u===Ft?s:e.call(n,u,o,t)},r.__iterateUncached=function(o,s){var u=this;return t.__iterate(function(c,f,d){return o(e.call(n,c,f,d),f,u)!==!1},s)},r.__iteratorUncached=function(o,s){var u=t.__iterator(Cr,s);return new Dt(function(){var c=u.next();if(c.done)return c;var f=c.value,d=f[0];return ge(o,d,e.call(n,f[1],d,t),c)})},r}function mb(t,e){var n=this,r=Qo(t);return r._iter=t,r.size=t.size,r.reverse=function(){return t},t.flip&&(r.flip=function(){var o=H$(t);return o.reverse=function(){return t.flip()},o}),r.get=function(o,s){return t.get(e?o:-1-o,s)},r.has=function(o){return t.has(e?o:-1-o)},r.includes=function(o){return t.includes(o)},r.cacheResult=_b,r.__iterate=function(o,s){var u=this,c=0;return s&&_u(t),t.__iterate(function(f,d){return o(f,e?d:s?u.size-++c:c++,u)},!s)},r.__iterator=function(o,s){var u=0;s&&_u(t);var c=t.__iterator(Cr,!s);return new Dt(function(){var f=c.next();if(f.done)return f;var d=f.value;return ge(o,e?d[0]:s?n.size-++u:u++,d[1],f)})},r}function J$(t,e,n,r){var o=Qo(t);return r&&(o.has=function(s){var u=t.get(s,Ft);return u!==Ft&&!!e.call(n,u,s,t)},o.get=function(s,u){var c=t.get(s,Ft);return c!==Ft&&e.call(n,c,s,t)?c:u}),o.__iterateUncached=function(s,u){var c=this,f=0;return t.__iterate(function(d,h,g){if(e.call(n,d,h,g))return f++,s(d,r?h:f-1,c)},u),f},o.__iteratorUncached=function(s,u){var c=t.__iterator(Cr,u),f=0;return new Dt(function(){for(;;){var d=c.next();if(d.done)return d;var h=d.value,g=h[0],y=h[1];if(e.call(n,y,g,t))return ge(s,r?g:f++,y,d)}})},o}function GX(t,e,n){var r=Vu().asMutable();return t.__iterate(function(o,s){r.update(e.call(n,o,s,t),0,function(u){return u+1})}),r.asImmutable()}function JX(t,e,n){var r=pe(t),o=(Ko(t)?xi():Vu()).asMutable();t.__iterate(function(u,c){o.update(e.call(n,u,c,t),function(f){return f=f||[],f.push(r?[c,u]:u),f})});var s=vb(t);return o.map(function(u){return ee(t,s(u))}).asImmutable()}function YX(t,e,n){var r=pe(t),o=[[],[]];t.__iterate(function(u,c){o[e.call(n,u,c,t)?1:0].push(r?[c,u]:u)});var s=vb(t);return o.map(function(u){return ee(t,s(u))})}function yb(t,e,n,r){var o=t.size;if(kp(e,n,o))return t;if(typeof o>"u"&&(e<0||n<0))return yb(t.toSeq().cacheResult(),e,n,r);var s=Jl(e,o),u=Ip(n,o),c=u-s,f;c===c&&(f=c<0?0:c);var d=Qo(t);return d.size=f===0?f:t.size&&f||void 0,!r&&lb(t)&&f>=0&&(d.get=function(h,g){return h=ss(this,h),h>=0&&h<f?t.get(h+s,g):g}),d.__iterateUncached=function(h,g){var y=this;if(f===0)return 0;if(g)return this.cacheResult().__iterate(h,g);var v=0,S=!0,x=0;return t.__iterate(function(T,O){if(!(S&&(S=v++<s)))return x++,h(T,r?O:x-1,y)!==!1&&x!==f}),x},d.__iteratorUncached=function(h,g){if(f!==0&&g)return this.cacheResult().__iterator(h,g);if(f===0)return new Dt(Wn);var y=t.__iterator(h,g),v=0,S=0;return new Dt(function(){for(;v++<s;)y.next();if(++S>f)return Wn();var x=y.next();return r||h===xr||x.done?x:h===zu?ge(h,S-1,void 0,x):ge(h,S-1,x.value[1],x)})},d}function XX(t,e,n){var r=Qo(t);return r.__iterateUncached=function(o,s){var u=this;if(s)return this.cacheResult().__iterate(o,s);var c=0;return t.__iterate(function(f,d,h){return e.call(n,f,d,h)&&++c&&o(f,d,u)}),c},r.__iteratorUncached=function(o,s){var u=this;if(s)return this.cacheResult().__iterator(o,s);var c=t.__iterator(Cr,s),f=!0;return new Dt(function(){if(!f)return Wn();var d=c.next();if(d.done)return d;var h=d.value,g=h[0],y=h[1];return e.call(n,y,g,u)?o===Cr?d:ge(o,g,y,d):(f=!1,Wn())})},r}function Y$(t,e,n,r){var o=Qo(t);return o.__iterateUncached=function(s,u){var c=this;if(u)return this.cacheResult().__iterate(s,u);var f=!0,d=0;return t.__iterate(function(h,g,y){if(!(f&&(f=e.call(n,h,g,y))))return d++,s(h,r?g:d-1,c)}),d},o.__iteratorUncached=function(s,u){var c=this;if(u)return this.cacheResult().__iterator(s,u);var f=t.__iterator(Cr,u),d=!0,h=0;return new Dt(function(){var g,y,v;do{if(g=f.next(),g.done)return r||s===xr?g:s===zu?ge(s,h++,void 0,g):ge(s,h++,g.value[1],g);var S=g.value;y=S[0],v=S[1],d&&(d=e.call(n,v,y,c))}while(d);return s===Cr?g:ge(s,y,v,g)})},o}var QX=function(t){function e(n){this._wrappedIterables=n.flatMap(function(r){return r._wrappedIterables?r._wrappedIterables:[r]}),this.size=this._wrappedIterables.reduce(function(r,o){if(r!==void 0){var s=o.size;if(s!==void 0)return r+s}},0),this[Ch]=this._wrappedIterables[0][Ch],this[Th]=this._wrappedIterables[0][Th],this[as]=this._wrappedIterables[0][as]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__iterateUncached=function(r,o){if(this._wrappedIterables.length!==0){if(o)return this.cacheResult().__iterate(r,o);for(var s=0,u=pe(this),c=u?Cr:xr,f=this._wrappedIterables[s].__iterator(c,o),d=!0,h=0;d;){for(var g=f.next();g.done;){if(s++,s===this._wrappedIterables.length)return h;f=this._wrappedIterables[s].__iterator(c,o),g=f.next()}var y=u?r(g.value[1],g.value[0],this):r(g.value,h,this);d=y!==!1,h++}return h}},e.prototype.__iteratorUncached=function(r,o){var s=this;if(this._wrappedIterables.length===0)return new Dt(Wn);if(o)return this.cacheResult().__iterator(r,o);var u=0,c=this._wrappedIterables[u].__iterator(r,o);return new Dt(function(){for(var f=c.next();f.done;){if(u++,u===s._wrappedIterables.length)return f;c=s._wrappedIterables[u].__iterator(r,o),f=c.next()}return f})},e}(er);function ZX(t,e){var n=pe(t),r=[t].concat(e).map(function(s){return Er(s)?n&&(s=Xr(s)):s=n?hb(s):D$(Array.isArray(s)?s:[s]),s}).filter(function(s){return s.size!==0});if(r.length===0)return t;if(r.length===1){var o=r[0];if(o===t||n&&pe(o)||Yr(t)&&Yr(o))return o}return new QX(r)}function X$(t,e,n){var r=Qo(t);return r.__iterateUncached=function(o,s){if(s)return this.cacheResult().__iterate(o,s);var u=0,c=!1;function f(d,h){d.__iterate(function(g,y){return(!e||h<e)&&Er(g)?f(g,h+1):(u++,o(g,n?y:u-1,r)===!1&&(c=!0)),!c},s)}return f(t,0),u},r.__iteratorUncached=function(o,s){if(s)return this.cacheResult().__iterator(o,s);var u=t.__iterator(o,s),c=[],f=0;return new Dt(function(){for(;u;){var d=u.next();if(d.done!==!1){u=c.pop();continue}var h=d.value;if(o===Cr&&(h=h[1]),(!e||c.length<e)&&Er(h))c.push(u),u=h.__iterator(o,s);else return n?d:ge(o,f++,h,d)}return Wn()})},r}function tQ(t,e,n){var r=vb(t);return t.toSeq().map(function(o,s){return r(e.call(n,o,s,t))}).flatten(!0)}function eQ(t,e){var n=Qo(t);return n.size=t.size&&t.size*2-1,n.__iterateUncached=function(r,o){var s=this,u=0;return t.__iterate(function(c){return(!u||r(e,u++,s)!==!1)&&r(c,u++,s)!==!1},o),u},n.__iteratorUncached=function(r,o){var s=t.__iterator(xr,o),u=0,c;return new Dt(function(){return(!c||u%2)&&(c=s.next(),c.done)?c:u%2?ge(r,u++,e):ge(r,u++,c.value,c)})},n}function Su(t,e,n){e||(e=Q$);var r=pe(t),o=0,s=t.toSeq().map(function(u,c){return[c,u,o++,n?n(u,c,t):u]}).valueSeq().toArray();return s.sort(function(u,c){return e(u[3],c[3])||u[2]-c[2]}).forEach(r?function(u,c){s[c].length=2}:function(u,c){s[c]=u[1]}),r?ds(s):Yr(t)?bo(s):Ku(s)}function ad(t,e,n){if(e||(e=Q$),n){var r=t.toSeq().map(function(o,s){return[o,n(o,s,t)]}).reduce(function(o,s){return aC(e,o[1],s[1])?s:o});return r&&r[0]}return t.reduce(function(o,s){return aC(e,o,s)?s:o})}function aC(t,e,n){var r=t(n,e);return r===0&&n!==e&&(n==null||n!==n)||r>0}function ud(t,e,n,r){var o=Qo(t),s=new bu(n).map(function(u){return u.size});return o.size=r?s.max():s.min(),o.__iterate=function(u,c){for(var f=this.__iterator(xr,c),d,h=0;!(d=f.next()).done&&u(d.value,h++,this)!==!1;);return h},o.__iteratorUncached=function(u,c){var f=n.map(function(g){return g=$n(g),Lv(c?g.reverse():g)}),d=0,h=!1;return new Dt(function(){var g;return h||(g=f.map(function(y){return y.next()}),h=r?g.every(function(y){return y.done}):g.some(function(y){return y.done})),h?Wn():ge(u,d++,e.apply(null,g.map(function(y){return y.value})))})},o}function ee(t,e){return t===e?t:lb(t)?e:t.constructor(e)}function uC(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function vb(t){return pe(t)?Xr:Yr(t)?aa:Uu}function Qo(t){return Object.create((pe(t)?ds:Yr(t)?bo:Ku).prototype)}function _b(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):er.prototype.cacheResult.call(this)}function Q$(t,e){return t===void 0&&e===void 0?0:t===void 0?1:e===void 0?-1:t>e?1:t<e?-1:0}function Bo(t,e){e=e||0;for(var n=Math.max(0,t.length-e),r=new Array(n),o=0;o<n;o++)r[o]=t[o+e];return r}function qc(t,e){if(!t)throw new Error(e)}function hr(t){qc(t!==1/0,"Cannot perform this action with an infinite size.")}function Z$(t){if(j$(t)&&typeof t!="string")return t;if(Ko(t))return t.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+t)}var nQ=Object.prototype.toString;function rQ(t){if(!t||typeof t!="object"||nQ.call(t)!=="[object Object]")return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var n=e,r=Object.getPrototypeOf(e);r!==null;)n=r,r=Object.getPrototypeOf(n);return n===e}function us(t){return typeof t=="object"&&(Xo(t)||Array.isArray(t)||rQ(t))}function ll(t){try{return typeof t=="string"?JSON.stringify(t):String(t)}catch{return JSON.stringify(t)}}function oQ(t,e){return Xo(t)?t.has(e):us(t)&&Wu.call(t,e)}function tP(t,e,n){return Xo(t)?t.get(e,n):oQ(t,e)?typeof t.get=="function"?t.get(e):t[e]:n}function Oh(t){if(Array.isArray(t))return Bo(t);var e={};for(var n in t)Wu.call(t,n)&&(e[n]=t[n]);return e}function iQ(t,e){if(!us(t))throw new TypeError("Cannot update non-data-structure value: "+t);if(Xo(t)){if(!t.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+t);return t.remove(e)}if(!Wu.call(t,e))return t;var n=Oh(t);return Array.isArray(n)?n.splice(e,1):delete n[e],n}function sQ(t,e,n){if(!us(t))throw new TypeError("Cannot update non-data-structure value: "+t);if(Xo(t)){if(!t.set)throw new TypeError("Cannot update immutable value without .set() method: "+t);return t.set(e,n)}if(Wu.call(t,e)&&n===t[e])return t;var r=Oh(t);return r[e]=n,r}function qu(t,e,n,r){r||(r=n,n=void 0);var o=eP(Xo(t),t,Z$(e),0,n,r);return o===Ft?n:o}function eP(t,e,n,r,o,s){var u=e===Ft;if(r===n.length){var c=u?o:e,f=s(c);return f===c?e:f}if(!u&&!us(e))throw new TypeError("Cannot update within non-data-structure value in path ["+Array.from(n).slice(0,r).map(ll)+"]: "+e);var d=n[r],h=u?Ft:tP(e,d,Ft),g=eP(h===Ft?t:Xo(h),h,n,r+1,o,s);return g===h?e:g===Ft?iQ(e,d):sQ(u?t?Do():{}:e,d,g)}function aQ(t,e,n){return qu(t,e,Ft,function(){return n})}function bb(t,e){return aQ(this,t,e)}function uQ(t,e){return qu(t,e,function(){return Ft})}function Sb(t){return uQ(this,t)}function nP(t,e,n,r){return qu(t,[e],n,r)}function wb(t,e,n){return arguments.length===1?t(this):nP(this,t,e,n)}function Eb(t,e,n){return qu(this,t,e,n)}function rP(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return iP(this,t)}function oP(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];if(typeof t!="function")throw new TypeError("Invalid merger function: "+t);return iP(this,e,t)}function iP(t,e,n){for(var r=[],o=0;o<e.length;o++){var s=Xr(e[o]);s.size!==0&&r.push(s)}return r.length===0?t:t.toSeq().size===0&&!t.__ownerID&&r.length===1?ua(t)?t:t.constructor(r[0]):t.withMutations(function(u){for(var c=n?function(d,h){nP(u,h,Ft,function(g){return g===Ft?d:n(g,d,h)})}:function(d,h){u.set(h,d)},f=0;f<r.length;f++)r[f].forEach(c)})}function xb(t,e,n){return Cb(t,e,cQ(n))}function Cb(t,e,n){if(!us(t))throw new TypeError("Cannot merge into non-data-structure value: "+t);if(Xo(t))return typeof n=="function"&&t.mergeWith?t.mergeWith.apply(t,[n].concat(e)):t.merge?t.merge.apply(t,e):t.concat.apply(t,e);for(var r=Array.isArray(t),o=t,s=r?aa:Xr,u=r?function(f){o===t&&(o=Oh(o)),o.push(f)}:function(f,d){var h=Wu.call(o,d),g=h&&n?n(o[d],f,d):f;(!h||g!==o[d])&&(o===t&&(o=Oh(o)),o[d]=g)},c=0;c<e.length;c++)s(e[c]).forEach(u);return o}function cQ(t){function e(n,r,o){return us(n)&&us(r)&&lQ(n,r)?Cb(n,[r],e):t?t(n,r,o):r}return e}function lQ(t,e){var n=er(t),r=er(e);return Yr(n)===Yr(r)&&pe(n)===pe(r)}function sP(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return xb(this,t)}function aP(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return xb(this,e,t)}function Tb(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return qu(this,t,Do(),function(r){return Cb(r,e)})}function Ob(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return qu(this,t,Do(),function(r){return xb(r,e)})}function Yl(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this}function Xl(){return this.__ownerID?this:this.__ensureOwner(new ub)}function Ql(){return this.__ensureOwner()}function Ab(){return this.__altered}var Vu=function(t){function e(n){return n==null?Do():gb(n)&&!Ko(n)?n:Do().withMutations(function(r){var o=t(n);hr(o.size),o.forEach(function(s,u){return r.set(u,s)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return this.__toString("Map {","}")},e.prototype.get=function(r,o){return this._root?this._root.get(0,void 0,r,o):o},e.prototype.set=function(r,o){return fC(this,r,o)},e.prototype.remove=function(r){return fC(this,r,Ft)},e.prototype.deleteAll=function(r){var o=$n(r);return o.size===0?this:this.withMutations(function(s){o.forEach(function(u){return s.remove(u)})})},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Do()},e.prototype.sort=function(r){return xi(Su(this,r))},e.prototype.sortBy=function(r,o){return xi(Su(this,o,r))},e.prototype.map=function(r,o){var s=this;return this.withMutations(function(u){u.forEach(function(c,f){u.set(f,r.call(o,c,f,s))})})},e.prototype.__iterator=function(r,o){return new fQ(this,r,o)},e.prototype.__iterate=function(r,o){var s=this,u=0;return this._root&&this._root.iterate(function(c){return u++,r(c[1],c[0],s)},o),u},e.prototype.__ensureOwner=function(r){return r===this.__ownerID?this:r?kb(this.size,this._root,r,this.__hash):this.size===0?Do():(this.__ownerID=r,this.__altered=!1,this)},e}(Xr);Vu.isMap=gb;var fe=Vu.prototype;fe[U$]=!0;fe[Gl]=fe.remove;fe.removeAll=fe.deleteAll;fe.setIn=bb;fe.removeIn=fe.deleteIn=Sb;fe.update=wb;fe.updateIn=Eb;fe.merge=fe.concat=rP;fe.mergeWith=oP;fe.mergeDeep=sP;fe.mergeDeepWith=aP;fe.mergeIn=Tb;fe.mergeDeepIn=Ob;fe.withMutations=Yl;fe.wasAltered=Ab;fe.asImmutable=Ql;fe["@@transducer/init"]=fe.asMutable=Xl;fe["@@transducer/step"]=function(t,e){return t.set(e[0],e[1])};fe["@@transducer/result"]=function(t){return t.asImmutable()};var fl=function(e,n){this.ownerID=e,this.entries=n};fl.prototype.get=function(e,n,r,o){for(var s=this.entries,u=0,c=s.length;u<c;u++)if(mr(r,s[u][0]))return s[u][1];return o};fl.prototype.update=function(e,n,r,o,s,u,c){for(var f=s===Ft,d=this.entries,h=0,g=d.length;h<g&&!mr(o,d[h][0]);h++);var y=h<g;if(y?d[h][1]===s:f)return this;if(Gr(c),(f||!y)&&Gr(u),!(f&&d.length===1)){if(!y&&!f&&d.length>=yQ)return dQ(e,d,o,s);var v=e&&e===this.ownerID,S=v?d:Bo(d);return y?f?h===g-1?S.pop():S[h]=S.pop():S[h]=[o,s]:S.push([o,s]),v?(this.entries=S,this):new fl(e,S)}};var wu=function(e,n,r){this.ownerID=e,this.bitmap=n,this.nodes=r};wu.prototype.get=function(e,n,r,o){n===void 0&&(n=dr(r));var s=1<<((e===0?n:n>>>e)&zn),u=this.bitmap;return u&s?this.nodes[uP(u&s-1)].get(e+ne,n,r,o):o};wu.prototype.update=function(e,n,r,o,s,u,c){r===void 0&&(r=dr(o));var f=(n===0?r:r>>>n)&zn,d=1<<f,h=this.bitmap,g=(h&d)!==0;if(!g&&s===Ft)return this;var y=uP(h&d-1),v=this.nodes,S=g?v[y]:void 0,x=Ib(S,e,n+ne,r,o,s,u,c);if(x===S)return this;if(!g&&x&&v.length>=vQ)return pQ(e,v,h,f,x);if(g&&!x&&v.length===2&&dC(v[y^1]))return v[y^1];if(g&&x&&v.length===1&&dC(x))return x;var T=e&&e===this.ownerID,O=g?x?h:h^d:h|d,N=g?x?cP(v,y,x,T):mQ(v,y,T):gQ(v,y,x,T);return T?(this.bitmap=O,this.nodes=N,this):new wu(e,O,N)};var dl=function(e,n,r){this.ownerID=e,this.count=n,this.nodes=r};dl.prototype.get=function(e,n,r,o){n===void 0&&(n=dr(r));var s=(e===0?n:n>>>e)&zn,u=this.nodes[s];return u?u.get(e+ne,n,r,o):o};dl.prototype.update=function(e,n,r,o,s,u,c){r===void 0&&(r=dr(o));var f=(n===0?r:r>>>n)&zn,d=s===Ft,h=this.nodes,g=h[f];if(d&&!g)return this;var y=Ib(g,e,n+ne,r,o,s,u,c);if(y===g)return this;var v=this.count;if(!g)v++;else if(!y&&(v--,v<_Q))return hQ(e,h,v,f);var S=e&&e===this.ownerID,x=cP(h,f,y,S);return S?(this.count=v,this.nodes=x,this):new dl(e,v,x)};var Eu=function(e,n,r){this.ownerID=e,this.keyHash=n,this.entries=r};Eu.prototype.get=function(e,n,r,o){for(var s=this.entries,u=0,c=s.length;u<c;u++)if(mr(r,s[u][0]))return s[u][1];return o};Eu.prototype.update=function(e,n,r,o,s,u,c){r===void 0&&(r=dr(o));var f=s===Ft;if(r!==this.keyHash)return f?this:(Gr(c),Gr(u),Rb(this,e,n,r,[o,s]));for(var d=this.entries,h=0,g=d.length;h<g&&!mr(o,d[h][0]);h++);var y=h<g;if(y?d[h][1]===s:f)return this;if(Gr(c),(f||!y)&&Gr(u),f&&g===2)return new Ei(e,this.keyHash,d[h^1]);var v=e&&e===this.ownerID,S=v?d:Bo(d);return y?f?h===g-1?S.pop():S[h]=S.pop():S[h]=[o,s]:S.push([o,s]),v?(this.entries=S,this):new Eu(e,this.keyHash,S)};var Ei=function(e,n,r){this.ownerID=e,this.keyHash=n,this.entry=r};Ei.prototype.get=function(e,n,r,o){return mr(r,this.entry[0])?this.entry[1]:o};Ei.prototype.update=function(e,n,r,o,s,u,c){var f=s===Ft,d=mr(o,this.entry[0]);if(d?s===this.entry[1]:f)return this;if(Gr(c),f){Gr(u);return}return d?e&&e===this.ownerID?(this.entry[1]=s,this):new Ei(e,this.keyHash,[o,s]):(Gr(u),Rb(this,e,n,dr(o),[o,s]))};fl.prototype.iterate=Eu.prototype.iterate=function(t,e){for(var n=this.entries,r=0,o=n.length-1;r<=o;r++)if(t(n[e?o-r:r])===!1)return!1};wu.prototype.iterate=dl.prototype.iterate=function(t,e){for(var n=this.nodes,r=0,o=n.length-1;r<=o;r++){var s=n[e?o-r:r];if(s&&s.iterate(t,e)===!1)return!1}};Ei.prototype.iterate=function(t,e){return t(this.entry)};var fQ=function(t){function e(n,r,o){this._type=r,this._reverse=o,this._stack=n._root&&cC(n._root)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){for(var r=this._type,o=this._stack;o;){var s=o.node,u=o.index++,c=void 0;if(s.entry){if(u===0)return by(r,s.entry)}else if(s.entries){if(c=s.entries.length-1,u<=c)return by(r,s.entries[this._reverse?c-u:u])}else if(c=s.nodes.length-1,u<=c){var f=s.nodes[this._reverse?c-u:u];if(f){if(f.entry)return by(r,f.entry);o=this._stack=cC(f,o)}continue}o=this._stack=this._stack.__prev}return Wn()},e}(Dt);function by(t,e){return ge(t,e[0],e[1])}function cC(t,e){return{node:t,index:0,__prev:e}}function kb(t,e,n,r){var o=Object.create(fe);return o.size=t,o._root=e,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}var lC;function Do(){return lC||(lC=kb(0))}function fC(t,e,n){var r,o;if(t._root){var s=Mv(),u=Mv();if(r=Ib(t._root,t.__ownerID,0,void 0,e,n,s,u),!u.value)return t;o=t.size+(s.value?n===Ft?-1:1:0)}else{if(n===Ft)return t;o=1,r=new fl(t.__ownerID,[[e,n]])}return t.__ownerID?(t.size=o,t._root=r,t.__hash=void 0,t.__altered=!0,t):r?kb(o,r):Do()}function Ib(t,e,n,r,o,s,u,c){return t?t.update(e,n,r,o,s,u,c):s===Ft?t:(Gr(c),Gr(u),new Ei(e,r,[o,s]))}function dC(t){return t.constructor===Ei||t.constructor===Eu}function Rb(t,e,n,r,o){if(t.keyHash===r)return new Eu(e,r,[t.entry,o]);var s=(n===0?t.keyHash:t.keyHash>>>n)&zn,u=(n===0?r:r>>>n)&zn,c,f=s===u?[Rb(t,e,n+ne,r,o)]:(c=new Ei(e,r,o),s<u?[t,c]:[c,t]);return new wu(e,1<<s|1<<u,f)}function dQ(t,e,n,r){t||(t=new ub);for(var o=new Ei(t,dr(n),[n,r]),s=0;s<e.length;s++){var u=e[s];o=o.update(t,0,void 0,u[0],u[1])}return o}function hQ(t,e,n,r){for(var o=0,s=0,u=new Array(n),c=0,f=1,d=e.length;c<d;c++,f<<=1){var h=e[c];h!==void 0&&c!==r&&(o|=f,u[s++]=h)}return new wu(t,o,u)}function pQ(t,e,n,r,o){for(var s=0,u=new Array(gr),c=0;n!==0;c++,n>>>=1)u[c]=n&1?e[s++]:void 0;return u[r]=o,new dl(t,s+1,u)}function uP(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),t=t+(t>>4)&252645135,t+=t>>8,t+=t>>16,t&127}function cP(t,e,n,r){var o=r?t:Bo(t);return o[e]=n,o}function gQ(t,e,n,r){var o=t.length+1;if(r&&e+1===o)return t[e]=n,t;for(var s=new Array(o),u=0,c=0;c<o;c++)c===e?(s[c]=n,u=-1):s[c]=t[c+u];return s}function mQ(t,e,n){var r=t.length-1;if(n&&e===r)return t.pop(),t;for(var o=new Array(r),s=0,u=0;u<r;u++)u===e&&(s=1),o[u]=t[u+s];return o}var yQ=gr/4,vQ=gr/2,_Q=gr/4,lP="@@__IMMUTABLE_LIST__@@";function fP(t){return!!(t&&t[lP])}var Hu=function(t){function e(n){var r=Nd();if(n==null)return r;if(fP(n))return n;var o=t(n),s=o.size;return s===0?r:(hr(s),s>0&&s<gr?hl(0,s,ne,null,new es(o.toArray())):r.withMutations(function(u){u.setSize(s),o.forEach(function(c,f){return u.set(f,c)})}))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("List [","]")},e.prototype.get=function(r,o){if(r=ss(this,r),r>=0&&r<this.size){r+=this._origin;var s=dP(this,r);return s&&s.array[r&zn]}return o},e.prototype.set=function(r,o){return bQ(this,r,o)},e.prototype.remove=function(r){return this.has(r)?r===0?this.shift():r===this.size-1?this.pop():this.splice(r,1):this},e.prototype.insert=function(r,o){return this.splice(r,0,o)},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=ne,this._root=this._tail=this.__hash=void 0,this.__altered=!0,this):Nd()},e.prototype.push=function(){var r=arguments,o=this.size;return this.withMutations(function(s){Ji(s,0,o+r.length);for(var u=0;u<r.length;u++)s.set(o+u,r[u])})},e.prototype.pop=function(){return Ji(this,0,-1)},e.prototype.unshift=function(){var r=arguments;return this.withMutations(function(o){Ji(o,-r.length);for(var s=0;s<r.length;s++)o.set(s,r[s])})},e.prototype.shift=function(){return Ji(this,1)},e.prototype.shuffle=function(r){return r===void 0&&(r=Math.random),this.withMutations(function(o){for(var s=o.size,u,c;s;)u=Math.floor(r()*s--),c=o.get(u),o.set(u,o.get(s)),o.set(s,c)})},e.prototype.concat=function(){for(var r=arguments,o=[],s=0;s<arguments.length;s++){var u=r[s],c=t(typeof u!="string"&&B$(u)?u:[u]);c.size!==0&&o.push(c)}return o.length===0?this:this.size===0&&!this.__ownerID&&o.length===1?this.constructor(o[0]):this.withMutations(function(f){o.forEach(function(d){return d.forEach(function(h){return f.push(h)})})})},e.prototype.setSize=function(r){return Ji(this,0,r)},e.prototype.map=function(r,o){var s=this;return this.withMutations(function(u){for(var c=0;c<s.size;c++)u.set(c,r.call(o,u.get(c),c,s))})},e.prototype.slice=function(r,o){var s=this.size;return kp(r,o,s)?this:Ji(this,Jl(r,s),Ip(o,s))},e.prototype.__iterator=function(r,o){var s=o?this.size:0,u=hC(this,o);return new Dt(function(){var c=u();return c===Vc?Wn():ge(r,o?--s:s++,c)})},e.prototype.__iterate=function(r,o){for(var s=o?this.size:0,u=hC(this,o),c;(c=u())!==Vc&&r(c,o?--s:s++,this)!==!1;);return s},e.prototype.__ensureOwner=function(r){return r===this.__ownerID?this:r?hl(this._origin,this._capacity,this._level,this._root,this._tail,r,this.__hash):this.size===0?Nd():(this.__ownerID=r,this.__altered=!1,this)},e}(aa);Hu.isList=fP;var De=Hu.prototype;De[lP]=!0;De[Gl]=De.remove;De.merge=De.concat;De.setIn=bb;De.deleteIn=De.removeIn=Sb;De.update=wb;De.updateIn=Eb;De.mergeIn=Tb;De.mergeDeepIn=Ob;De.withMutations=Yl;De.wasAltered=Ab;De.asImmutable=Ql;De["@@transducer/init"]=De.asMutable=Xl;De["@@transducer/step"]=function(t,e){return t.push(e)};De["@@transducer/result"]=function(t){return t.asImmutable()};var es=function(e,n){this.array=e,this.ownerID=n};es.prototype.removeBefore=function(e,n,r){if(!(r&(1<<n+ne)-1)||this.array.length===0)return this;var o=r>>>n&zn;if(o>=this.array.length)return new es([],e);var s=o===0,u;if(n>0){var c=this.array[o];if(u=c&&c.removeBefore(e,n-ne,r),u===c&&s)return this}if(s&&!u)return this;var f=xu(this,e);if(!s)for(var d=0;d<o;d++)f.array[d]=void 0;return u&&(f.array[o]=u),f};es.prototype.removeAfter=function(e,n,r){if(r===(n?1<<n+ne:gr)||this.array.length===0)return this;var o=r-1>>>n&zn;if(o>=this.array.length)return this;var s;if(n>0){var u=this.array[o];if(s=u&&u.removeAfter(e,n-ne,r),s===u&&o===this.array.length-1)return this}var c=xu(this,e);return c.array.splice(o+1),s&&(c.array[o]=s),c};var Vc={};function hC(t,e){var n=t._origin,r=t._capacity,o=pl(r),s=t._tail;return u(t._root,t._level,0);function u(d,h,g){return h===0?c(d,g):f(d,h,g)}function c(d,h){var g=h===o?s&&s.array:d&&d.array,y=h>n?0:n-h,v=r-h;return v>gr&&(v=gr),function(){if(y===v)return Vc;var S=e?--v:y++;return g&&g[S]}}function f(d,h,g){var y,v=d&&d.array,S=g>n?0:n-g>>h,x=(r-g>>h)+1;return x>gr&&(x=gr),function(){for(;;){if(y){var T=y();if(T!==Vc)return T;y=null}if(S===x)return Vc;var O=e?--x:S++;y=u(v&&v[O],h-ne,g+(O<<h))}}}}function hl(t,e,n,r,o,s,u){var c=Object.create(De);return c.size=e-t,c._origin=t,c._capacity=e,c._level=n,c._root=r,c._tail=o,c.__ownerID=s,c.__hash=u,c.__altered=!1,c}function Nd(){return hl(0,0,ne)}function bQ(t,e,n){if(e=ss(t,e),e!==e)return t;if(e>=t.size||e<0)return t.withMutations(function(u){e<0?Ji(u,e).set(0,n):Ji(u,0,e+1).set(e,n)});e+=t._origin;var r=t._tail,o=t._root,s=Mv();return e>=pl(t._capacity)?r=Dv(r,t.__ownerID,0,e,n,s):o=Dv(o,t.__ownerID,t._level,e,n,s),s.value?t.__ownerID?(t._root=o,t._tail=r,t.__hash=void 0,t.__altered=!0,t):hl(t._origin,t._capacity,t._level,o,r):t}function Dv(t,e,n,r,o,s){var u=r>>>n&zn,c=t&&u<t.array.length;if(!c&&o===void 0)return t;var f;if(n>0){var d=t&&t.array[u],h=Dv(d,e,n-ne,r,o,s);return h===d?t:(f=xu(t,e),f.array[u]=h,f)}return c&&t.array[u]===o?t:(s&&Gr(s),f=xu(t,e),o===void 0&&u===f.array.length-1?f.array.pop():f.array[u]=o,f)}function xu(t,e){return e&&t&&e===t.ownerID?t:new es(t?t.array.slice():[],e)}function dP(t,e){if(e>=pl(t._capacity))return t._tail;if(e<1<<t._level+ne){for(var n=t._root,r=t._level;n&&r>0;)n=n.array[e>>>r&zn],r-=ne;return n}}function Ji(t,e,n){e!==void 0&&(e|=0),n!==void 0&&(n|=0);var r=t.__ownerID||new ub,o=t._origin,s=t._capacity,u=o+e,c=n===void 0?s:n<0?s+n:o+n;if(u===o&&c===s)return t;if(u>=c)return t.clear();for(var f=t._level,d=t._root,h=0;u+h<0;)d=new es(d&&d.array.length?[void 0,d]:[],r),f+=ne,h+=1<<f;h&&(u+=h,o+=h,c+=h,s+=h);for(var g=pl(s),y=pl(c);y>=1<<f+ne;)d=new es(d&&d.array.length?[d]:[],r),f+=ne;var v=t._tail,S=y<g?dP(t,c-1):y>g?new es([],r):v;if(v&&y>g&&u<s&&v.array.length){d=xu(d,r);for(var x=d,T=f;T>ne;T-=ne){var O=g>>>T&zn;x=x.array[O]=xu(x.array[O],r)}x.array[g>>>ne&zn]=v}if(c<s&&(S=S&&S.removeAfter(r,0,c)),u>=y)u-=y,c-=y,f=ne,d=null,S=S&&S.removeBefore(r,0,u);else if(u>o||y<g){for(h=0;d;){var N=u>>>f&zn;if(N!==y>>>f&zn)break;N&&(h+=(1<<f)*N),f-=ne,d=d.array[N]}d&&u>o&&(d=d.removeBefore(r,f,u-h)),d&&y<g&&(d=d.removeAfter(r,f,y-h)),h&&(u-=h,c-=h)}return t.__ownerID?(t.size=c-u,t._origin=u,t._capacity=c,t._level=f,t._root=d,t._tail=S,t.__hash=void 0,t.__altered=!0,t):hl(u,c,f,d,S)}function pl(t){return t<gr?0:t-1>>>ne<<ne}var xi=function(t){function e(n){return n==null?Nc():z$(n)?n:Nc().withMutations(function(r){var o=Xr(n);hr(o.size),o.forEach(function(s,u){return r.set(u,s)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("OrderedMap {","}")},e.prototype.get=function(r,o){var s=this._map.get(r);return s!==void 0?this._list.get(s)[1]:o},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this.__altered=!0,this):Nc()},e.prototype.set=function(r,o){return gC(this,r,o)},e.prototype.remove=function(r){return gC(this,r,Ft)},e.prototype.__iterate=function(r,o){var s=this;return this._list.__iterate(function(u){return u&&r(u[1],u[0],s)},o)},e.prototype.__iterator=function(r,o){return this._list.fromEntrySeq().__iterator(r,o)},e.prototype.__ensureOwner=function(r){if(r===this.__ownerID)return this;var o=this._map.__ensureOwner(r),s=this._list.__ensureOwner(r);return r?$b(o,s,r,this.__hash):this.size===0?Nc():(this.__ownerID=r,this.__altered=!1,this._map=o,this._list=s,this)},e}(Vu);xi.isOrderedMap=z$;xi.prototype[as]=!0;xi.prototype[Gl]=xi.prototype.remove;function $b(t,e,n,r){var o=Object.create(xi.prototype);return o.size=t?t.size:0,o._map=t,o._list=e,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}var pC;function Nc(){return pC||(pC=$b(Do(),Nd()))}function gC(t,e,n){var r=t._map,o=t._list,s=r.get(e),u=s!==void 0,c,f;if(n===Ft){if(!u)return t;o.size>=gr&&o.size>=r.size*2?(f=o.filter(function(d,h){return d!==void 0&&s!==h}),c=f.toKeyedSeq().map(function(d){return d[0]}).flip().toMap(),t.__ownerID&&(c.__ownerID=f.__ownerID=t.__ownerID)):(c=r.remove(e),f=s===o.size-1?o.pop():o.set(s,void 0))}else if(u){if(n===o.get(s)[1])return t;c=r,f=o.set(s,[e,n])}else c=r.set(e,o.size),f=o.set(o.size,[e,n]);return t.__ownerID?(t.size=c.size,t._map=c,t._list=f,t.__hash=void 0,t.__altered=!0,t):$b(c,f)}var hP="@@__IMMUTABLE_STACK__@@";function Uv(t){return!!(t&&t[hP])}var Pb=function(t){function e(n){return n==null?cd():Uv(n)?n:cd().pushAll(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("Stack [","]")},e.prototype.get=function(r,o){var s=this._head;for(r=ss(this,r);s&&r--;)s=s.next;return s?s.value:o},e.prototype.peek=function(){return this._head&&this._head.value},e.prototype.push=function(){var r=arguments;if(arguments.length===0)return this;for(var o=this.size+arguments.length,s=this._head,u=arguments.length-1;u>=0;u--)s={value:r[u],next:s};return this.__ownerID?(this.size=o,this._head=s,this.__hash=void 0,this.__altered=!0,this):Lc(o,s)},e.prototype.pushAll=function(r){if(r=t(r),r.size===0)return this;if(this.size===0&&Uv(r))return r;hr(r.size);var o=this.size,s=this._head;return r.__iterate(function(u){o++,s={value:u,next:s}},!0),this.__ownerID?(this.size=o,this._head=s,this.__hash=void 0,this.__altered=!0,this):Lc(o,s)},e.prototype.pop=function(){return this.slice(1)},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):cd()},e.prototype.slice=function(r,o){if(kp(r,o,this.size))return this;var s=Jl(r,this.size),u=Ip(o,this.size);if(u!==this.size)return t.prototype.slice.call(this,r,o);for(var c=this.size-s,f=this._head;s--;)f=f.next;return this.__ownerID?(this.size=c,this._head=f,this.__hash=void 0,this.__altered=!0,this):Lc(c,f)},e.prototype.__ensureOwner=function(r){return r===this.__ownerID?this:r?Lc(this.size,this._head,r,this.__hash):this.size===0?cd():(this.__ownerID=r,this.__altered=!1,this)},e.prototype.__iterate=function(r,o){var s=this;if(o)return new bu(this.toArray()).__iterate(function(f,d){return r(f,d,s)},o);for(var u=0,c=this._head;c&&r(c.value,u++,this)!==!1;)c=c.next;return u},e.prototype.__iterator=function(r,o){if(o)return new bu(this.toArray()).__iterator(r,o);var s=0,u=this._head;return new Dt(function(){if(u){var c=u.value;return u=u.next,ge(r,s++,c)}return Wn()})},e}(aa);Pb.isStack=Uv;var Kn=Pb.prototype;Kn[hP]=!0;Kn.shift=Kn.pop;Kn.unshift=Kn.push;Kn.unshiftAll=Kn.pushAll;Kn.withMutations=Yl;Kn.wasAltered=Ab;Kn.asImmutable=Ql;Kn["@@transducer/init"]=Kn.asMutable=Xl;Kn["@@transducer/step"]=function(t,e){return t.unshift(e)};Kn["@@transducer/result"]=function(t){return t.asImmutable()};function Lc(t,e,n,r){var o=Object.create(Kn);return o.size=t,o._head=e,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}var mC;function cd(){return mC||(mC=Lc(0))}var pP="@@__IMMUTABLE_SET__@@";function Mb(t){return!!(t&&t[pP])}function gP(t){return Mb(t)&&Ko(t)}function mP(t,e){if(t===e)return!0;if(!Er(e)||t.size!==void 0&&e.size!==void 0&&t.size!==e.size||t.__hash!==void 0&&e.__hash!==void 0&&t.__hash!==e.__hash||pe(t)!==pe(e)||Yr(t)!==Yr(e)||Ko(t)!==Ko(e))return!1;if(t.size===0&&e.size===0)return!0;var n=!cb(t);if(Ko(t)){var r=t.entries();return e.every(function(f,d){var h=r.next().value;return h&&mr(h[1],f)&&(n||mr(h[0],d))})&&r.next().done}var o=!1;if(t.size===void 0)if(e.size===void 0)typeof t.cacheResult=="function"&&t.cacheResult();else{o=!0;var s=t;t=e,e=s}var u=!0,c=e.__iterate(function(f,d){if(n?!t.has(f):o?!mr(f,t.get(d,Ft)):!mr(t.get(d,Ft),f))return u=!1,!1});return u&&t.size===c}function ca(t,e){var n=function(r){t.prototype[r]=e[r]};return Object.keys(e).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(n),t}function Ah(t){if(!t||typeof t!="object")return t;if(!Er(t)){if(!us(t))return t;t=er(t)}if(pe(t)){var e={};return t.__iterate(function(r,o){e[o]=Ah(r)}),e}var n=[];return t.__iterate(function(r){n.push(Ah(r))}),n}var Zl=function(t){function e(n){return n==null?Fc():Mb(n)&&!Ko(n)?n:Fc().withMutations(function(r){var o=t(n);hr(o.size),o.forEach(function(s){return r.add(s)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(r){return this(Xr(r).keySeq())},e.intersect=function(r){return r=$n(r).toArray(),r.length?gn.intersect.apply(e(r.pop()),r):Fc()},e.union=function(r){return r=$n(r).toArray(),r.length?gn.union.apply(e(r.pop()),r):Fc()},e.prototype.toString=function(){return this.__toString("Set {","}")},e.prototype.has=function(r){return this._map.has(r)},e.prototype.add=function(r){return ld(this,this._map.set(r,r))},e.prototype.remove=function(r){return ld(this,this._map.remove(r))},e.prototype.clear=function(){return ld(this,this._map.clear())},e.prototype.map=function(r,o){var s=this,u=!1,c=ld(this,this._map.mapEntries(function(f){var d=f[1],h=r.call(o,d,d,s);return h!==d&&(u=!0),[h,h]},o));return u?c:this},e.prototype.union=function(){for(var r=[],o=arguments.length;o--;)r[o]=arguments[o];return r=r.filter(function(s){return s.size!==0}),r.length===0?this:this.size===0&&!this.__ownerID&&r.length===1?this.constructor(r[0]):this.withMutations(function(s){for(var u=0;u<r.length;u++)typeof r[u]=="string"?s.add(r[u]):t(r[u]).forEach(function(c){return s.add(c)})})},e.prototype.intersect=function(){for(var r=[],o=arguments.length;o--;)r[o]=arguments[o];if(r.length===0)return this;r=r.map(function(u){return t(u)});var s=[];return this.forEach(function(u){r.every(function(c){return c.includes(u)})||s.push(u)}),this.withMutations(function(u){s.forEach(function(c){u.remove(c)})})},e.prototype.subtract=function(){for(var r=[],o=arguments.length;o--;)r[o]=arguments[o];if(r.length===0)return this;r=r.map(function(u){return t(u)});var s=[];return this.forEach(function(u){r.some(function(c){return c.includes(u)})&&s.push(u)}),this.withMutations(function(u){s.forEach(function(c){u.remove(c)})})},e.prototype.sort=function(r){return gl(Su(this,r))},e.prototype.sortBy=function(r,o){return gl(Su(this,o,r))},e.prototype.wasAltered=function(){return this._map.wasAltered()},e.prototype.__iterate=function(r,o){var s=this;return this._map.__iterate(function(u){return r(u,u,s)},o)},e.prototype.__iterator=function(r,o){return this._map.__iterator(r,o)},e.prototype.__ensureOwner=function(r){if(r===this.__ownerID)return this;var o=this._map.__ensureOwner(r);return r?this.__make(o,r):this.size===0?this.__empty():(this.__ownerID=r,this._map=o,this)},e}(Uu);Zl.isSet=Mb;var gn=Zl.prototype;gn[pP]=!0;gn[Gl]=gn.remove;gn.merge=gn.concat=gn.union;gn.withMutations=Yl;gn.asImmutable=Ql;gn["@@transducer/init"]=gn.asMutable=Xl;gn["@@transducer/step"]=function(t,e){return t.add(e)};gn["@@transducer/result"]=function(t){return t.asImmutable()};gn.__empty=Fc;gn.__make=yP;function ld(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:e.size===0?t.__empty():t.__make(e)}function yP(t,e){var n=Object.create(gn);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}var yC;function Fc(){return yC||(yC=yP(Do()))}var SQ=function(t){function e(n,r,o){if(o===void 0&&(o=1),!(this instanceof e))return new e(n,r,o);if(qc(o!==0,"Cannot step a Range by 0"),qc(n!==void 0,"You must define a start value when using Range"),qc(r!==void 0,"You must define an end value when using Range"),o=Math.abs(o),r<n&&(o=-o),this._start=n,this._end=r,this._step=o,this.size=Math.max(0,Math.ceil((r-n)/o-1)+1),this.size===0){if(Sy)return Sy;Sy=this}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step!==1?" by "+this._step:"")+" ]"},e.prototype.get=function(r,o){return this.has(r)?this._start+ss(this,r)*this._step:o},e.prototype.includes=function(r){var o=(r-this._start)/this._step;return o>=0&&o<this.size&&o===Math.floor(o)},e.prototype.slice=function(r,o){return kp(r,o,this.size)?this:(r=Jl(r,this.size),o=Ip(o,this.size),o<=r?new e(0,0):new e(this.get(r,this._end),this.get(o,this._end),this._step))},e.prototype.indexOf=function(r){var o=r-this._start;if(o%this._step===0){var s=o/this._step;if(s>=0&&s<this.size)return s}return-1},e.prototype.lastIndexOf=function(r){return this.indexOf(r)},e.prototype.__iterate=function(r,o){for(var s=this.size,u=this._step,c=o?this._start+(s-1)*u:this._start,f=0;f!==s&&r(c,o?s-++f:f++,this)!==!1;)c+=o?-u:u;return f},e.prototype.__iterator=function(r,o){var s=this.size,u=this._step,c=o?this._start+(s-1)*u:this._start,f=0;return new Dt(function(){if(f===s)return Wn();var d=c;return c+=o?-u:u,ge(r,o?s-++f:f++,d)})},e.prototype.equals=function(r){return r instanceof e?this._start===r._start&&this._end===r._end&&this._step===r._step:mP(this,r)},e}(bo),Sy;function vP(t,e,n){for(var r=Z$(e),o=0;o!==r.length;)if(t=tP(t,r[o++],Ft),t===Ft)return n;return t}function _P(t,e){return vP(this,t,e)}function wQ(t,e){return vP(t,e,Ft)!==Ft}function EQ(t){return wQ(this,t)}function bP(){hr(this.size);var t={};return this.__iterate(function(e,n){t[n]=e}),t}$n.Iterator=Dt;ca($n,{toArray:function(){hr(this.size);var e=new Array(this.size||0),n=pe(this),r=0;return this.__iterate(function(o,s){e[r++]=n?[s,o]:o}),e},toIndexedSeq:function(){return new K$(this)},toJS:function(){return Ah(this)},toKeyedSeq:function(){return new Mp(this,!0)},toMap:function(){return Vu(this.toKeyedSeq())},toObject:bP,toOrderedMap:function(){return xi(this.toKeyedSeq())},toOrderedSet:function(){return gl(pe(this)?this.valueSeq():this)},toSet:function(){return Zl(pe(this)?this.valueSeq():this)},toSetSeq:function(){return new q$(this)},toSeq:function(){return Yr(this)?this.toIndexedSeq():pe(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Pb(pe(this)?this.valueSeq():this)},toList:function(){return Hu(pe(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(e,n){return this.size===0?e+n:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+n},concat:function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];return ee(this,ZX(this,e))},includes:function(e){return this.some(function(n){return mr(n,e)})},entries:function(){return this.__iterator(Cr)},every:function(e,n){hr(this.size);var r=!0;return this.__iterate(function(o,s,u){if(!e.call(n,o,s,u))return r=!1,!1}),r},filter:function(e,n){return ee(this,J$(this,e,n,!0))},partition:function(e,n){return YX(this,e,n)},find:function(e,n,r){var o=this.findEntry(e,n);return o?o[1]:r},forEach:function(e,n){return hr(this.size),this.__iterate(n?e.bind(n):e)},join:function(e){hr(this.size),e=e!==void 0?""+e:",";var n="",r=!0;return this.__iterate(function(o){r?r=!1:n+=e,n+=o!=null?o.toString():""}),n},keys:function(){return this.__iterator(zu)},map:function(e,n){return ee(this,G$(this,e,n))},reduce:function(e,n,r){return vC(this,e,n,r,arguments.length<2,!1)},reduceRight:function(e,n,r){return vC(this,e,n,r,arguments.length<2,!0)},reverse:function(){return ee(this,mb(this,!0))},slice:function(e,n){return ee(this,yb(this,e,n,!0))},some:function(e,n){hr(this.size);var r=!1;return this.__iterate(function(o,s,u){if(e.call(n,o,s,u))return r=!0,!1}),r},sort:function(e){return ee(this,Su(this,e))},values:function(){return this.__iterator(xr)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(e,n){return _u(e?this.toSeq().filter(e,n):this)},countBy:function(e,n){return GX(this,e,n)},equals:function(e){return mP(this,e)},entrySeq:function(){var e=this;if(e._cache)return new bu(e._cache);var n=e.toSeq().map(CQ).toIndexedSeq();return n.fromEntrySeq=function(){return e.toSeq()},n},filterNot:function(e,n){return this.filter(wy(e),n)},findEntry:function(e,n,r){var o=r;return this.__iterate(function(s,u,c){if(e.call(n,s,u,c))return o=[u,s],!1}),o},findKey:function(e,n){var r=this.findEntry(e,n);return r&&r[0]},findLast:function(e,n,r){return this.toKeyedSeq().reverse().find(e,n,r)},findLastEntry:function(e,n,r){return this.toKeyedSeq().reverse().findEntry(e,n,r)},findLastKey:function(e,n){return this.toKeyedSeq().reverse().findKey(e,n)},first:function(e){return this.find(R$,null,e)},flatMap:function(e,n){return ee(this,tQ(this,e,n))},flatten:function(e){return ee(this,X$(this,e,!0))},fromEntrySeq:function(){return new V$(this)},get:function(e,n){return this.find(function(r,o){return mr(o,e)},void 0,n)},getIn:_P,groupBy:function(e,n){return JX(this,e,n)},has:function(e){return this.get(e,Ft)!==Ft},hasIn:EQ,isSubset:function(e){return e=typeof e.includes=="function"?e:$n(e),this.every(function(n){return e.includes(n)})},isSuperset:function(e){return e=typeof e.isSubset=="function"?e:$n(e),e.isSubset(this)},keyOf:function(e){return this.findKey(function(n){return mr(n,e)})},keySeq:function(){return this.toSeq().map(xQ).toIndexedSeq()},last:function(e){return this.toSeq().reverse().first(e)},lastKeyOf:function(e){return this.toKeyedSeq().reverse().keyOf(e)},max:function(e){return ad(this,e)},maxBy:function(e,n){return ad(this,n,e)},min:function(e){return ad(this,e?_C(e):SC)},minBy:function(e,n){return ad(this,n?_C(n):SC,e)},rest:function(){return this.slice(1)},skip:function(e){return e===0?this:this.slice(Math.max(0,e))},skipLast:function(e){return e===0?this:this.slice(0,-Math.max(0,e))},skipWhile:function(e,n){return ee(this,Y$(this,e,n,!0))},skipUntil:function(e,n){return this.skipWhile(wy(e),n)},sortBy:function(e,n){return ee(this,Su(this,n,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return this.slice(-Math.max(0,e))},takeWhile:function(e,n){return ee(this,XX(this,e,n))},takeUntil:function(e,n){return this.takeWhile(wy(e),n)},update:function(e){return e(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=TQ(this))}});var Mn=$n.prototype;Mn[M$]=!0;Mn[Rp]=Mn.values;Mn.toJSON=Mn.toArray;Mn.__toStringMapper=ll;Mn.inspect=Mn.toSource=function(){return this.toString()};Mn.chain=Mn.flatMap;Mn.contains=Mn.includes;ca(Xr,{flip:function(){return ee(this,H$(this))},mapEntries:function(e,n){var r=this,o=0;return ee(this,this.toSeq().map(function(s,u){return e.call(n,[u,s],o++,r)}).fromEntrySeq())},mapKeys:function(e,n){var r=this;return ee(this,this.toSeq().flip().map(function(o,s){return e.call(n,o,s,r)}).flip())}});var tf=Xr.prototype;tf[Ch]=!0;tf[Rp]=Mn.entries;tf.toJSON=bP;tf.__toStringMapper=function(t,e){return ll(e)+": "+ll(t)};ca(aa,{toKeyedSeq:function(){return new Mp(this,!1)},filter:function(e,n){return ee(this,J$(this,e,n,!1))},findIndex:function(e,n){var r=this.findEntry(e,n);return r?r[0]:-1},indexOf:function(e){var n=this.keyOf(e);return n===void 0?-1:n},lastIndexOf:function(e){var n=this.lastKeyOf(e);return n===void 0?-1:n},reverse:function(){return ee(this,mb(this,!1))},slice:function(e,n){return ee(this,yb(this,e,n,!1))},splice:function(e,n){var r=arguments.length;if(n=Math.max(n||0,0),r===0||r===2&&!n)return this;e=Jl(e,e<0?this.count():this.size);var o=this.slice(0,e);return ee(this,r===1?o:o.concat(Bo(arguments,2),this.slice(e+n)))},findLastIndex:function(e,n){var r=this.findLastEntry(e,n);return r?r[0]:-1},first:function(e){return this.get(0,e)},flatten:function(e){return ee(this,X$(this,e,!1))},get:function(e,n){return e=ss(this,e),e<0||this.size===1/0||this.size!==void 0&&e>this.size?n:this.find(function(r,o){return o===e},void 0,n)},has:function(e){return e=ss(this,e),e>=0&&(this.size!==void 0?this.size===1/0||e<this.size:this.indexOf(e)!==-1)},interpose:function(e){return ee(this,eQ(this,e))},interleave:function(){var e=[this].concat(Bo(arguments)),n=ud(this.toSeq(),bo.of,e),r=n.flatten(!0);return n.size&&(r.size=n.size*e.length),ee(this,r)},keySeq:function(){return SQ(0,this.size)},last:function(e){return this.get(-1,e)},skipWhile:function(e,n){return ee(this,Y$(this,e,n,!1))},zip:function(){var e=[this].concat(Bo(arguments));return ee(this,ud(this,bC,e))},zipAll:function(){var e=[this].concat(Bo(arguments));return ee(this,ud(this,bC,e,!0))},zipWith:function(e){var n=Bo(arguments);return n[0]=this,ee(this,ud(this,e,n))}});var Gu=aa.prototype;Gu[Th]=!0;Gu[as]=!0;ca(Uu,{get:function(e,n){return this.has(e)?e:n},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}});var Cu=Uu.prototype;Cu.has=Mn.includes;Cu.contains=Cu.includes;Cu.keys=Cu.values;ca(ds,tf);ca(bo,Gu);ca(Ku,Cu);function vC(t,e,n,r,o,s){return hr(t.size),t.__iterate(function(u,c,f){o?(o=!1,n=u):n=e.call(r,n,u,c,f)},s),n}function xQ(t,e){return e}function CQ(t,e){return[e,t]}function wy(t){return function(){return!t.apply(this,arguments)}}function _C(t){return function(){return-t.apply(this,arguments)}}function bC(){return Bo(arguments)}function SC(t,e){return t<e?1:t>e?-1:0}function TQ(t){if(t.size===1/0)return 0;var e=Ko(t),n=pe(t),r=e?1:0;return t.__iterate(n?e?function(o,s){r=31*r+wC(dr(o),dr(s))|0}:function(o,s){r=r+wC(dr(o),dr(s))|0}:e?function(o){r=31*r+dr(o)|0}:function(o){r=r+dr(o)|0}),OQ(t.size,r)}function OQ(t,e){return e=Oc(e,3432918353),e=Oc(e<<15|e>>>-15,461845907),e=Oc(e<<13|e>>>-13,5),e=(e+3864292196|0)^t,e=Oc(e^e>>>16,2246822507),e=Oc(e^e>>>13,3266489909),e=Pp(e^e>>>16),e}function wC(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}var gl=function(t){function e(n){return n==null?zv():gP(n)?n:zv().withMutations(function(r){var o=Uu(n);hr(o.size),o.forEach(function(s){return r.add(s)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(r){return this(Xr(r).keySeq())},e.prototype.toString=function(){return this.__toString("OrderedSet {","}")},e}(Zl);gl.isOrderedSet=gP;var la=gl.prototype;la[as]=!0;la.zip=Gu.zip;la.zipWith=Gu.zipWith;la.zipAll=Gu.zipAll;la.__empty=zv;la.__make=SP;function SP(t,e){var n=Object.create(la);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}var EC;function zv(){return EC||(EC=SP(Nc()))}function AQ(t){if(ua(t))throw new Error("Can not call `Record` with an immutable Record as default values. Use a plain javascript object instead.");if(Xo(t))throw new Error("Can not call `Record` with an immutable Collection as default values. Use a plain javascript object instead.");if(t===null||typeof t!="object")throw new Error("Can not call `Record` with a non-object as default values. Use a plain javascript object instead.")}var en=function(e,n){var r;AQ(e);var o=function(c){var f=this;if(c instanceof o)return c;if(!(this instanceof o))return new o(c);if(!r){r=!0;var d=Object.keys(e),h=s._indices={};s._name=n,s._keys=d,s._defaultValues=e;for(var g=0;g<d.length;g++){var y=d[g];h[y]=g,s[y]?typeof console=="object"&&console.warn&&console.warn("Cannot define "+Lb(this)+' with property "'+y+'" since that property name is part of the Record API.'):kQ(s,y)}}return this.__ownerID=void 0,this._values=Hu().withMutations(function(v){v.setSize(f._keys.length),Xr(c).forEach(function(S,x){v.set(f._indices[x],S===f._defaultValues[x]?void 0:S)})}),this},s=o.prototype=Object.create(ue);return s.constructor=o,n&&(o.displayName=n),o};en.prototype.toString=function(){for(var e=Lb(this)+" { ",n=this._keys,r,o=0,s=n.length;o!==s;o++)r=n[o],e+=(o?", ":"")+r+": "+ll(this.get(r));return e+" }"};en.prototype.equals=function(e){return this===e||ua(e)&&Tu(this).equals(Tu(e))};en.prototype.hashCode=function(){return Tu(this).hashCode()};en.prototype.has=function(e){return this._indices.hasOwnProperty(e)};en.prototype.get=function(e,n){if(!this.has(e))return n;var r=this._indices[e],o=this._values.get(r);return o===void 0?this._defaultValues[e]:o};en.prototype.set=function(e,n){if(this.has(e)){var r=this._values.set(this._indices[e],n===this._defaultValues[e]?void 0:n);if(r!==this._values&&!this.__ownerID)return Nb(this,r)}return this};en.prototype.remove=function(e){return this.set(e)};en.prototype.clear=function(){var e=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:Nb(this,e)};en.prototype.wasAltered=function(){return this._values.wasAltered()};en.prototype.toSeq=function(){return Tu(this)};en.prototype.toJS=function(){return Ah(this)};en.prototype.entries=function(){return this.__iterator(Cr)};en.prototype.__iterator=function(e,n){return Tu(this).__iterator(e,n)};en.prototype.__iterate=function(e,n){return Tu(this).__iterate(e,n)};en.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var n=this._values.__ensureOwner(e);return e?Nb(this,n,e):(this.__ownerID=e,this._values=n,this)};en.isRecord=ua;en.getDescriptiveName=Lb;var ue=en.prototype;ue[L$]=!0;ue[Gl]=ue.remove;ue.deleteIn=ue.removeIn=Sb;ue.getIn=_P;ue.hasIn=Mn.hasIn;ue.merge=rP;ue.mergeWith=oP;ue.mergeIn=Tb;ue.mergeDeep=sP;ue.mergeDeepWith=aP;ue.mergeDeepIn=Ob;ue.setIn=bb;ue.update=wb;ue.updateIn=Eb;ue.withMutations=Yl;ue.asMutable=Xl;ue.asImmutable=Ql;ue[Rp]=ue.entries;ue.toJSON=ue.toObject=Mn.toObject;ue.inspect=ue.toSource=function(){return this.toString()};function Nb(t,e,n){var r=Object.create(Object.getPrototypeOf(t));return r._values=e,r.__ownerID=n,r}function Lb(t){return t.constructor.displayName||t.constructor.name||"Record"}function Tu(t){return hb(t._keys.map(function(e){return[e,t.get(e)]}))}function kQ(t,e){try{Object.defineProperty(t,e,{get:function(){return this.get(e)},set:function(n){qc(this.__ownerID,"Cannot set on an immutable record."),this.set(e,n)}})}catch{}}const IQ=t=>{const e=t.useValue(),n=t.useSet();return{add:u=>{n(c=>[...c,u])},remove:u=>{n(c=>c.filter(f=>f!==u))},update:(u,c)=>{n(f=>f.map(d=>d===u?c:d))},values:e}};function RQ(t){return new Worker(""+new URL("ControllerWorkerMain.js",import.meta.url).href,{type:"module",name:t==null?void 0:t.name})}const $Q=()=>()=>({put:()=>t=>{},useGet:()=>({})}),PQ={controller:ib.empty,component:t=>oe.createElement("div"),uiStore:$Q()},wP={emptyDevice:PQ},MQ={findByName:t=>ut(),getByName:t=>wP.emptyDevice};let Fb=MQ;const NQ=t=>{const e=rt.keyBy(t,o=>o.controller.name),n=o=>Ti(rt.get(e,o,void 0));Fb={findByName:n,getByName:o=>Ie(n(o),{onSome:s=>s,onNone:()=>wP.emptyDevice})}},LQ=()=>Fb,FQ=()=>Fb,BQ={init:NQ,useDevices:FQ,get:LQ},EP=()=>a0("controller:worker"),jQ=(t,e,n)=>{const r=`controller:${t.key}:${e.name}`,o=new RQ({name:r});In.info("Creating controller worker",r),o.postMessage(["INIT",e]),xe(H(e.selected.input,ns(n.getInput)),()=>C$.empty()).on("*",c=>o.postMessage(["EMITTER",c]));const u=xe(H(e.selected.output,ns(n.getOutput)),()=>sb.empty());return o.onmessage=c=>{if(rt.isArray(c.data)&&c.data.length==2){const[f,d]=c.data;f==="LISTENER"&&u.send(d)}},o},DQ=t=>{const e=zR.virtualEmitter(t).listener,n=BQ.get().getByName(t.device).uiStore(t.id).put();e.on("*",n)},UQ=t=>{rt.forEach(t.controllers,DQ)},zQ=t=>{const e=ab.state.get();In.info("Loading Controllers for project",t);const n=rt.map(t.controllers,r=>jQ(t,r,e));return UQ(t),()=>{In.info("Cleaning up Controllers for project",t),n.map(r=>r.terminate())}};let xC=!1;const WQ=()=>{xC||(pt.project.config.subAndInit(t=>Ie(WR.getActive(t),{onSome:e=>zQ(e),onNone:()=>(In.error("No active project found",t),()=>{})})),EP().listener.on("RELOAD_CONTROLLERS",()=>{pt.project.config.set(t=>rt.cloneDeep(t))}),xC=!0)},KQ=()=>{In.info("Sending reload request..."),EP().emitter.emit({type:"RELOAD_CONTROLLERS"})},qQ={init:WQ,sendReloadRequest:KQ},VQ=(t,e)=>e>=t.startTime&&(t.endTime===void 0||e<t.endTime),HQ=(t,e)=>rt.find(t,n=>VQ(n,e)),GQ=t=>{const e=IP();return oe.useMemo(()=>HQ(t.clips,e),[e])},xP=()=>pt.project.arrangement.useValue(),CP=()=>xP().tracks,TP=t=>CP().find(n=>n.name===t),JQ=t=>{const e=TP(t);return e===void 0?rJ:e},OP=()=>pt.project.config.useFocus("active").useSet(),Ju=()=>pt.project.config.useFocus("active").useValue(),AP=()=>{const t=Ju(),e=pt.project.config.useValue();return rt.find(e.projects,r=>r.key===t)||eb()},YQ=()=>{const t=Ju(),e=pt.project.config.useValue(),n=rt.findIndex(e.projects,r=>r.key===t);return pt.project.config.useFocus("projects").useArray()[n]},kP=()=>{const t=Ju(),e=pt.project.config.useValue(),n=pt.project.config.useSet(),r=Hu(e.projects),o=r.findIndex(s=>s.key===t);return s=>{const u=o!==void 0?r.set(o,s(e.projects[o])):r;console.log("useUpdateActiveProject",u),n({active:t,projects:u.toArray()})}},Np=()=>pt.project.config.useValue(),XQ=()=>{const t=kP(),e=Np();return n=>e.projects.findIndex(o=>o.label===n)===-1?(t(o=>({...o,label:n})),ut()):Rt(`Project ${n} already exists`)},QQ=()=>{const t=AP(),e={...eb().style,...t.style};return{...e,horizontalGradient:`linear-gradient(to right, ${e.accent.color1}, ${e.accent.color2})`,leftVerticalGradient:`linear-gradient(to bottom, ${e.accent.color1}, ${e.accent.color2})`,rightVerticalGradient:`linear-gradient(to top, ${e.accent.color1}, ${e.accent.color2})`}},ZQ=()=>Np(),tZ=()=>{const t=Ju(),e=Np(),n=rt.find(e.projects,r=>r.key===t);if(n!==void 0)return n.label},eZ=()=>{const t=pt.project.config.useFocusMemo(e=>e.prop("projects"));return IQ(t)},nZ=()=>pt.project.abletonName.useValue(),rZ=t=>{const e=pt.importStatus.useValue();oe.useEffect(()=>t(e),[e])},oZ=()=>pt.importStatus.useValue().type!=="done",IP=()=>pt.realTime.beats.useValue(),iZ=()=>pt.realTime.barBeats.useValue(),sZ=()=>pt.realTime.timeSignature.useValue(),aZ=()=>pt.realTime.tempo.useValue(),uZ=()=>pt.realTime.isPlaying.useValue(),cZ=()=>pt.realTime.metronomeState.useValue(),lZ=()=>pt.realTime.metronomeState.get(),fZ=()=>pt.realTime.loopState.useValue(),dZ=()=>pt.realTime.loopState.get(),hZ=()=>{const t=Np(),e=Ju(),n=OP();return r=>{const o=Hu(t.projects).find(s=>s.abletonProject===r);o!==void 0&&r!==e&&n(o.key)}},pZ=()=>()=>{qQ.sendReloadRequest()},Ht={useOnStatusChange:rZ,useBeat:IP,useBarBeats:iZ,useTimeSignature:sZ,useTempo:aZ,useIsPlaying:uZ,useActiveClip:GQ,useArrangement:xP,useProjectsConfig:ZQ,useProjectsListAtom:eZ,useActiveProjectLabel:tZ,useSetActiveProject:OP,useProjectStyle:QQ,useAbletonProjectName:nZ,useSetActiveProjectName:XQ,useActiveProjectValue:AP,useActiveProjectName:Ju,useActiveProjectState:YQ,useUpdateActiveProject:kP,useTracks:CP,useTrack:JQ,useTrackOrUndefined:TP,useMetronomeState:cZ,getMetronomeState:lZ,useLoopState:fZ,getLoopState:dZ,useOnProjectLoad:hZ,useIsProjectLoading:oZ,useRefreshProject:pZ},RP=_e.one({name:"metronome-control",schema:st({color:tt.Schema}),init:()=>({color:tt.BLUE}),component:({target:t,color:e})=>{const n=Ii.useDawEmitter(),r=Ht.useMetronomeState();return J.jsx(wi,{isFlashing:r,color:e,target:t,onClick:()=>n.send(fn.metronome(!Ht.getMetronomeState())),options:{metronomeState:r}})}}),gZ=_e.one({name:"loop-control",schema:st({color:tt.Schema}),init:()=>({color:tt.GREEN}),component:({target:t,color:e})=>{const n=Ii.useDawEmitter(),r=Ht.useLoopState();return J.jsx(wi,{isFlashing:r,color:e,target:t,onClick:()=>n.send(fn.loop(!Ht.getLoopState()))})}}),$P=_e.one({name:"play-stop",schema:st({playColor:tt.Schema,stopColor:tt.Schema}),init:()=>({playColor:tt.GREEN,stopColor:tt.RED}),component:({target:t,playColor:e,stopColor:n})=>Ht.useIsPlaying()?k$.component({target:t,color:n}):A$.component({target:t,color:e})}),mZ=_e.one({name:"metronome",schema:st({oneColor:tt.Schema,restColor:tt.Schema}),init:()=>({oneColor:tt.GREEN,restColor:tt.RED}),component:({target:t,oneColor:e,restColor:n})=>{const[r,o]=oe.useState(tt.BLACK);return oe.useEffect(()=>I$.onTick(s=>{!s.halfBeat&&s.isPlaying?o(s.beat===1?e:n):o(tt.BLACK)}),[]),J.jsx("pad",{color:r,target:t})}}),yZ=(t,e,n,r)=>{const o=e+1;return o<=t?o===1?n:r:tt.BLACK},PP=_e.many({name:"beats",schema:st({oneColor:tt.Schema,restColor:tt.Schema}),init:()=>({oneColor:tt.GREEN,restColor:tt.RED}),component:({targets:t,oneColor:e,restColor:n})=>{const r=Ht.useBarBeats(),o=Ht.useTimeSignature(),s=rt.map(t,(u,c)=>J.jsx("pad",{color:yZ(r,c,e,n),target:u,options:{timeSignature:o}},`beat-${c}`));return J.jsx(J.Fragment,{children:s})}}),vZ=_e.many({name:"time-sig-count",schema:st({color:tt.Schema}),init:()=>({color:tt.BLUE}),component:({targets:t,color:e})=>{const n=Ht.useTimeSignature(),r=t.map((o,s)=>J.jsx("pad",{target:o,color:s+1<=n.noteCount?e:tt.BLACK},`time-sig-count-${s}`));return J.jsx(J.Fragment,{children:r})}}),_Z=_e.many({name:"time-sig-length",schema:st({color:tt.Schema}),init:()=>({color:tt.PURPLE}),component:({targets:t,color:e})=>{const n=Ht.useTimeSignature(),r=t.map((o,s)=>J.jsx("pad",{target:o,color:s+1<=n.noteLength?e:tt.BLACK},`time-sig-length-${s}`));return J.jsx(J.Fragment,{children:r})}}),MP=_e.many({name:"nav-clips",schema:st({trackName:re,sort:kn(Ge("alphabetical","order"))}),init:()=>({trackName:"Nav Clip Track",sort:"order"}),tracks:t=>[t.trackName],component:({targets:t,trackName:e,sort:n})=>{const r=Ii.useDawEmitter(),o=Ht.useArrangement(),s=Ht.useTrack(e),u=Ht.useActiveClip(s),c=oe.useMemo(()=>rt.fromPairs(rt.map(o.cues,v=>[v.time,v])),[o.cues]),f=s.clips.filter(v=>v.type==="real"),d=n==="alphabetical"?f.sort((v,S)=>v.name.localeCompare(S.name)):f,h=oe.useMemo(()=>{const v=[];for(let S=0;S<d.length;S++){const x=t==null?void 0:t[S],T=d==null?void 0:d[S];if(T!==void 0&&x!==void 0){const O=c==null?void 0:c[T.startTime];O!==void 0&&v.push({clip:T,cue:O,target:x})}}return v},[s,c,t]),g=v=>{r.send(fn.jumpToCue(v.cue.index))},y=h.map((v,S)=>J.jsx(wi,{isFlashing:v.clip===u,color:v.clip.color,target:v.target,onClick:()=>g(v),options:{label:v.clip.name}},`song-${S}`));return J.jsx(J.Fragment,{children:y})}}),bZ=_e.many({name:"bar-tracker",schema:st({trackName:re,color:tt.Schema}),init:()=>({trackName:"Track",color:tt.GREEN}),tracks:t=>[t.trackName],component:({targets:t,trackName:e,color:n})=>{const r=Ht.useTrack(e),o=Ht.useBeat(),s=Ht.useBarBeats(),u=Ht.useActiveClip(r),c=Ht.useTimeSignature(),[f,d]=oe.useState(0),h=oe.useMemo(()=>{if(u.type==="real"){const v=Number(u.name);if(!isNaN(v))return v}return 0},[u]);oe.useEffect(()=>{if(s===1&&HR.isReal(u)){const v=Math.floor(o-u.startTime);c.noteLength===4?d(Math.floor(v/c.noteCount)):c.noteLength===8&&(c.noteCount%2===0?d(Math.floor(v/(c.noteCount/2))):v%c.noteCount===0?d(Math.floor(v/c.noteCount)*2):d(Math.floor((v+.5)*2/c.noteCount)))}},[s,o,u,c]);const g=f%h+1,y=t.map((v,S)=>J.jsx(wi,{color:S<g?n:tt.BLACK,target:v},`bar-tracker-${S}`));return J.jsx(J.Fragment,{children:y})}}),SZ=t=>e=>t.type==="real"&&t.endTime!==void 0&&e.startTime<t.endTime,NP=_e.many({name:"track-sections",schema:st({trackName:re,parentTrackName:re}),init:()=>({trackName:"Track Sections",parentTrackName:"Parent Track Sections"}),tracks:t=>[t.trackName,t.parentTrackName],component:({targets:t,trackName:e,parentTrackName:n=""})=>{const r=Ht.useTrack(e),o=Ht.useActiveClip(r),s=Ht.useTrack(n),u=Ht.useActiveClip(s),c=Ht.useBeat(),f=oe.useMemo(()=>{const g=[];return r.clips.forEach(y=>{y.startTime>=o.startTime&&g.push(y)}),g.filter(SZ(u))},[r,o,u]),d=oe.useMemo(()=>{if(o&&o.endTime!==void 0){const g=o.endTime-o.startTime;return(c-o.startTime)/g*100}else return},[o,c]),h=t.map((g,y)=>{const v=f==null?void 0:f[y],S=v!==void 0&&v.type==="real"?v.color:tt.BLACK,x=v!==void 0&&v.type==="real"?v.name:"";return J.jsx(wi,{color:S,target:g,options:{label:x,progress:d,isActive:v===o}},`track-sections-${y}`)});return J.jsx(J.Fragment,{children:h})}}),Ey=[void 0,"c#","d#",void 0,"f#","g#","a#"],xy=["c","d","e","f","g","a","b","c"],wZ=_e.of({name:"keyboard",schema:st({topTargets:Go(qr.Schema),bottomTargets:Go(qr.Schema),trackName:re,topColor:tt.Schema,bottomColor:tt.Schema}),init:()=>({topTargets:[],bottomTargets:[],trackName:"Keyboard Track",topColor:tt.GREEN,bottomColor:tt.RED}),targets:t=>({_tag:"many",targets:[...t.topTargets,...t.bottomTargets]}),inputType:"many",tracks:t=>[t.trackName],component:({topTargets:t,bottomTargets:e,trackName:n,topColor:r,bottomColor:o})=>{const s=Ht.useTrack(n),u=Ht.useActiveClip(s),[c,f]=oe.useMemo(()=>HR.isReal(u)?[u.name.toLowerCase(),u.color]:[void 0,void 0],[u]),d=v=>v===void 0||c===void 0?!1:v===c,h=v=>()=>{},g=t.map((v,S)=>{const x=Ey==null?void 0:Ey[S];return J.jsx(wi,{color:x!==void 0?d(x)&&f!==void 0?f:r:tt.BLACK,target:v,isFlashing:d(x),onClick:h()},`keyboard-top-${S}`)}),y=e.map((v,S)=>{const x=xy==null?void 0:xy[S];return J.jsx(wi,{color:x!==void 0?d(x)&&f!==void 0?f:o:tt.BLACK,target:v,isFlashing:d(x),onClick:h()},`keyboard-bottom-${S}`)});return J.jsxs(J.Fragment,{children:[g,y]})}}),LP=_e.one({name:"button",schema:st({color:tt.Schema,isFlashing:wp,midi:Go(cl.schema),text:kn(st({content:re,color:kn(tt.Schema),size:kn(re)}))}),init:()=>({color:tt.GREEN,isFlashing:!1,midi:[]}),component:({target:t,color:e,isFlashing:n,midi:r})=>{const o=Ii.useDawEmitter();return J.jsx(wi,{isFlashing:n,color:e,target:t,onClick:()=>{r.forEach(o.send)}})}}),Wv={10927616:74,16149507:84,4047616:76,6441901:69,14402304:99,8754719:19,16725558:5,3947580:71,10056267:10,8237133:18,12026454:11,12565097:73,13381230:58,12243060:111,16249980:13,13013643:4,10208397:88,695438:65,13821080:110,3101346:46,16749734:107,8962746:102,5538020:79,13684944:117,15064289:119,14183652:94,11442405:44,13408551:100,1090798:78,11096369:127,16753961:96,1769263:87,5480241:64,1698303:90,16773172:97,7491393:126,8940772:80,14837594:10,8912743:16,10060650:105,13872497:14,16753524:108,8092539:70,2319236:39,1716118:47,12349846:59,11481907:121,15029152:57,2490280:25,11119017:112,10701741:81,15597486:8,49071:77,10851765:93,12558270:48,32192:43,8758722:103,10204100:104,11958214:55,8623052:66,16726484:95,12581632:86,13958625:28,12173795:115,13482980:116,16777215:3,6094824:33,13496824:114,9611263:92,9160191:36},FP={};for(const t in Wv){const e=Wv[t];e!==void 0&&(FP[e]=t)}const EZ=t=>rt.get(Wv,t,void 0),xZ=t=>{const e=rt.get(FP,t,void 0);if(e!==void 0)return parseInt(e)},CZ={getNovationColor:EZ,getColorFromNovation:xZ},TZ=_e.one({name:"soft-refresh",schema:st({color:tt.Schema}),init:()=>({color:tt.PURPLE}),component:({target:t,color:e})=>{const n=Ht.useRefreshProject();return J.jsx("pad",{color:e,target:t,onClick:()=>{n()}})}}),OZ=(t,e)=>t,AZ=rb.of({init:t=>()=>{t.send(cl.sysex([32,41,2,13,14,1]))},render:t=>e=>{const n=[32,41,2,13,3];rt.forEach(e,r=>{if(r.color!==void 0){const o=CZ.getNovationColor(r.color);if(o!==void 0)n.push(0,qr.toValue(r.target),o);else{const[s,u,c]=tt.toRGB(OZ(r.color));n.push(3,qr.toValue(r.target),Math.floor(s/2),Math.floor(u/2),Math.floor(c/2))}}}),t.send(cl.sysex(n))},loading:t=>e=>{const n=qr.notes({from:11,to:99}),r=(u,c)=>{const f=Math.floor(c/10),d=c%10;return f<=u+1&&d<=u+1?tt.ROYGBIV[(Math.max(f,d)-1)%7]||tt.WHITE:tt.BLACK};let o=0;const s=setInterval(()=>{const u=o%9;e.render(t)(n.map((c,f)=>({target:c,color:r(u,qr.toValue(c))}))),o++},250);return()=>{clearInterval(s)}},listenFilter:t=>!(t.type==="noteon"&&t.velocity===0||t.type==="cc"&&t.data===0),targets:qr.notes({from:11,to:99})}),kZ=ib.of({name:"Launchpad Mini [MK3]",controller:AZ,widgets:ob([A$,k$,RX,RP,gZ,$P,mZ,PP,vZ,_Z,MP,bZ,NP,wZ,LP,TZ])}),BP={device:kZ},ml={black:"#000",white:"#fff"},Pa={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Ma={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Na={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},La={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Fa={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},Ac={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},IZ={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function Xs(t,...e){const n=new URL(`https://mui.com/production-error/?code=${t}`);return e.forEach(r=>n.searchParams.append("args[]",r)),`Minified MUI error #${t}; visit ${n} for the full message.`}var jP="$$material";function kh(){return kh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kh.apply(null,arguments)}function RZ(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function $Z(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var PZ=function(){function t(n){var r=this;this._insertTag=function(o){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(o,s),r.tags.push(o)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag($Z(this));var o=this.tags[this.tags.length-1];if(this.isSpeedy){var s=RZ(o);try{s.insertRule(r,s.cssRules.length)}catch{}}else o.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var o;return(o=r.parentNode)==null?void 0:o.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Tn="-ms-",Ih="-moz-",Wt="-webkit-",DP="comm",Bb="rule",jb="decl",MZ="@import",UP="@keyframes",NZ="@layer",LZ=Math.abs,Lp=String.fromCharCode,FZ=Object.assign;function BZ(t,e){return dn(t,0)^45?(((e<<2^dn(t,0))<<2^dn(t,1))<<2^dn(t,2))<<2^dn(t,3):0}function zP(t){return t.trim()}function jZ(t,e){return(t=e.exec(t))?t[0]:t}function Kt(t,e,n){return t.replace(e,n)}function Kv(t,e){return t.indexOf(e)}function dn(t,e){return t.charCodeAt(e)|0}function yl(t,e,n){return t.slice(e,n)}function No(t){return t.length}function Db(t){return t.length}function fd(t,e){return e.push(t),t}function DZ(t,e){return t.map(e).join("")}var Fp=1,Ou=1,WP=0,nr=0,Le=0,Yu="";function Bp(t,e,n,r,o,s,u){return{value:t,root:e,parent:n,type:r,props:o,children:s,line:Fp,column:Ou,length:u,return:""}}function kc(t,e){return FZ(Bp("",null,null,"",null,null,0),t,{length:-t.length},e)}function UZ(){return Le}function zZ(){return Le=nr>0?dn(Yu,--nr):0,Ou--,Le===10&&(Ou=1,Fp--),Le}function yr(){return Le=nr<WP?dn(Yu,nr++):0,Ou++,Le===10&&(Ou=1,Fp++),Le}function qo(){return dn(Yu,nr)}function Ld(){return nr}function ef(t,e){return yl(Yu,t,e)}function vl(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function KP(t){return Fp=Ou=1,WP=No(Yu=t),nr=0,[]}function qP(t){return Yu="",t}function Fd(t){return zP(ef(nr-1,qv(t===91?t+2:t===40?t+1:t)))}function WZ(t){for(;(Le=qo())&&Le<33;)yr();return vl(t)>2||vl(Le)>3?"":" "}function KZ(t,e){for(;--e&&yr()&&!(Le<48||Le>102||Le>57&&Le<65||Le>70&&Le<97););return ef(t,Ld()+(e<6&&qo()==32&&yr()==32))}function qv(t){for(;yr();)switch(Le){case t:return nr;case 34:case 39:t!==34&&t!==39&&qv(Le);break;case 40:t===41&&qv(t);break;case 92:yr();break}return nr}function qZ(t,e){for(;yr()&&t+Le!==57;)if(t+Le===84&&qo()===47)break;return"/*"+ef(e,nr-1)+"*"+Lp(t===47?t:yr())}function VZ(t){for(;!vl(qo());)yr();return ef(t,nr)}function HZ(t){return qP(Bd("",null,null,null,[""],t=KP(t),0,[0],t))}function Bd(t,e,n,r,o,s,u,c,f){for(var d=0,h=0,g=u,y=0,v=0,S=0,x=1,T=1,O=1,N=0,P="",R=o,j=s,B=r,k=P;T;)switch(S=N,N=yr()){case 40:if(S!=108&&dn(k,g-1)==58){Kv(k+=Kt(Fd(N),"&","&\f"),"&\f")!=-1&&(O=-1);break}case 34:case 39:case 91:k+=Fd(N);break;case 9:case 10:case 13:case 32:k+=WZ(S);break;case 92:k+=KZ(Ld()-1,7);continue;case 47:switch(qo()){case 42:case 47:fd(GZ(qZ(yr(),Ld()),e,n),f);break;default:k+="/"}break;case 123*x:c[d++]=No(k)*O;case 125*x:case 59:case 0:switch(N){case 0:case 125:T=0;case 59+h:O==-1&&(k=Kt(k,/\f/g,"")),v>0&&No(k)-g&&fd(v>32?TC(k+";",r,n,g-1):TC(Kt(k," ","")+";",r,n,g-2),f);break;case 59:k+=";";default:if(fd(B=CC(k,e,n,d,h,o,c,P,R=[],j=[],g),s),N===123)if(h===0)Bd(k,e,B,B,R,s,g,c,j);else switch(y===99&&dn(k,3)===110?100:y){case 100:case 108:case 109:case 115:Bd(t,B,B,r&&fd(CC(t,B,B,0,0,o,c,P,o,R=[],g),j),o,j,g,c,r?R:j);break;default:Bd(k,B,B,B,[""],j,0,c,j)}}d=h=v=0,x=O=1,P=k="",g=u;break;case 58:g=1+No(k),v=S;default:if(x<1){if(N==123)--x;else if(N==125&&x++==0&&zZ()==125)continue}switch(k+=Lp(N),N*x){case 38:O=h>0?1:(k+="\f",-1);break;case 44:c[d++]=(No(k)-1)*O,O=1;break;case 64:qo()===45&&(k+=Fd(yr())),y=qo(),h=g=No(P=k+=VZ(Ld())),N++;break;case 45:S===45&&No(k)==2&&(x=0)}}return s}function CC(t,e,n,r,o,s,u,c,f,d,h){for(var g=o-1,y=o===0?s:[""],v=Db(y),S=0,x=0,T=0;S<r;++S)for(var O=0,N=yl(t,g+1,g=LZ(x=u[S])),P=t;O<v;++O)(P=zP(x>0?y[O]+" "+N:Kt(N,/&\f/g,y[O])))&&(f[T++]=P);return Bp(t,e,n,o===0?Bb:c,f,d,h)}function GZ(t,e,n){return Bp(t,e,n,DP,Lp(UZ()),yl(t,2,-2),0)}function TC(t,e,n,r){return Bp(t,e,n,jb,yl(t,0,r),yl(t,r+1,-1),r)}function Ya(t,e){for(var n="",r=Db(t),o=0;o<r;o++)n+=e(t[o],o,t,e)||"";return n}function JZ(t,e,n,r){switch(t.type){case NZ:if(t.children.length)break;case MZ:case jb:return t.return=t.return||t.value;case DP:return"";case UP:return t.return=t.value+"{"+Ya(t.children,r)+"}";case Bb:t.value=t.props.join(",")}return No(n=Ya(t.children,r))?t.return=t.value+"{"+n+"}":""}function YZ(t){var e=Db(t);return function(n,r,o,s){for(var u="",c=0;c<e;c++)u+=t[c](n,r,o,s)||"";return u}}function XZ(t){return function(e){e.root||(e=e.return)&&t(e)}}function VP(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var QZ=function(e,n,r){for(var o=0,s=0;o=s,s=qo(),o===38&&s===12&&(n[r]=1),!vl(s);)yr();return ef(e,nr)},ZZ=function(e,n){var r=-1,o=44;do switch(vl(o)){case 0:o===38&&qo()===12&&(n[r]=1),e[r]+=QZ(nr-1,n,r);break;case 2:e[r]+=Fd(o);break;case 4:if(o===44){e[++r]=qo()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Lp(o)}while(o=yr());return e},ttt=function(e,n){return qP(ZZ(KP(e),n))},OC=new WeakMap,ett=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,o=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!OC.get(r))&&!o){OC.set(e,!0);for(var s=[],u=ttt(n,s),c=r.props,f=0,d=0;f<u.length;f++)for(var h=0;h<c.length;h++,d++)e.props[d]=s[f]?u[f].replace(/&\f/g,c[h]):c[h]+" "+u[f]}}},ntt=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function HP(t,e){switch(BZ(t,e)){case 5103:return Wt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Wt+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Wt+t+Ih+t+Tn+t+t;case 6828:case 4268:return Wt+t+Tn+t+t;case 6165:return Wt+t+Tn+"flex-"+t+t;case 5187:return Wt+t+Kt(t,/(\w+).+(:[^]+)/,Wt+"box-$1$2"+Tn+"flex-$1$2")+t;case 5443:return Wt+t+Tn+"flex-item-"+Kt(t,/flex-|-self/,"")+t;case 4675:return Wt+t+Tn+"flex-line-pack"+Kt(t,/align-content|flex-|-self/,"")+t;case 5548:return Wt+t+Tn+Kt(t,"shrink","negative")+t;case 5292:return Wt+t+Tn+Kt(t,"basis","preferred-size")+t;case 6060:return Wt+"box-"+Kt(t,"-grow","")+Wt+t+Tn+Kt(t,"grow","positive")+t;case 4554:return Wt+Kt(t,/([^-])(transform)/g,"$1"+Wt+"$2")+t;case 6187:return Kt(Kt(Kt(t,/(zoom-|grab)/,Wt+"$1"),/(image-set)/,Wt+"$1"),t,"")+t;case 5495:case 3959:return Kt(t,/(image-set\([^]*)/,Wt+"$1$`$1");case 4968:return Kt(Kt(t,/(.+:)(flex-)?(.*)/,Wt+"box-pack:$3"+Tn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Wt+t+t;case 4095:case 3583:case 4068:case 2532:return Kt(t,/(.+)-inline(.+)/,Wt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(No(t)-1-e>6)switch(dn(t,e+1)){case 109:if(dn(t,e+4)!==45)break;case 102:return Kt(t,/(.+:)(.+)-([^]+)/,"$1"+Wt+"$2-$3$1"+Ih+(dn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Kv(t,"stretch")?HP(Kt(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(dn(t,e+1)!==115)break;case 6444:switch(dn(t,No(t)-3-(~Kv(t,"!important")&&10))){case 107:return Kt(t,":",":"+Wt)+t;case 101:return Kt(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Wt+(dn(t,14)===45?"inline-":"")+"box$3$1"+Wt+"$2$3$1"+Tn+"$2box$3")+t}break;case 5936:switch(dn(t,e+11)){case 114:return Wt+t+Tn+Kt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Wt+t+Tn+Kt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Wt+t+Tn+Kt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Wt+t+Tn+t+t}return t}var rtt=function(e,n,r,o){if(e.length>-1&&!e.return)switch(e.type){case jb:e.return=HP(e.value,e.length);break;case UP:return Ya([kc(e,{value:Kt(e.value,"@","@"+Wt)})],o);case Bb:if(e.length)return DZ(e.props,function(s){switch(jZ(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Ya([kc(e,{props:[Kt(s,/:(read-\w+)/,":"+Ih+"$1")]})],o);case"::placeholder":return Ya([kc(e,{props:[Kt(s,/:(plac\w+)/,":"+Wt+"input-$1")]}),kc(e,{props:[Kt(s,/:(plac\w+)/,":"+Ih+"$1")]}),kc(e,{props:[Kt(s,/:(plac\w+)/,Tn+"input-$1")]})],o)}return""})}},ott=[rtt],itt=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(x){var T=x.getAttribute("data-emotion");T.indexOf(" ")!==-1&&(document.head.appendChild(x),x.setAttribute("data-s",""))})}var o=e.stylisPlugins||ott,s={},u,c=[];u=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(x){for(var T=x.getAttribute("data-emotion").split(" "),O=1;O<T.length;O++)s[T[O]]=!0;c.push(x)});var f,d=[ett,ntt];{var h,g=[JZ,XZ(function(x){h.insert(x)})],y=YZ(d.concat(o,g)),v=function(T){return Ya(HZ(T),y)};f=function(T,O,N,P){h=N,v(T?T+"{"+O.styles+"}":O.styles),P&&(S.inserted[O.name]=!0)}}var S={key:n,sheet:new PZ({key:n,container:u,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:f};return S.sheet.hydrate(c),S},GP={exports:{}},Jt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nn=typeof Symbol=="function"&&Symbol.for,Ub=nn?Symbol.for("react.element"):60103,zb=nn?Symbol.for("react.portal"):60106,jp=nn?Symbol.for("react.fragment"):60107,Dp=nn?Symbol.for("react.strict_mode"):60108,Up=nn?Symbol.for("react.profiler"):60114,zp=nn?Symbol.for("react.provider"):60109,Wp=nn?Symbol.for("react.context"):60110,Wb=nn?Symbol.for("react.async_mode"):60111,Kp=nn?Symbol.for("react.concurrent_mode"):60111,qp=nn?Symbol.for("react.forward_ref"):60112,Vp=nn?Symbol.for("react.suspense"):60113,stt=nn?Symbol.for("react.suspense_list"):60120,Hp=nn?Symbol.for("react.memo"):60115,Gp=nn?Symbol.for("react.lazy"):60116,att=nn?Symbol.for("react.block"):60121,utt=nn?Symbol.for("react.fundamental"):60117,ctt=nn?Symbol.for("react.responder"):60118,ltt=nn?Symbol.for("react.scope"):60119;function Ar(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Ub:switch(t=t.type,t){case Wb:case Kp:case jp:case Up:case Dp:case Vp:return t;default:switch(t=t&&t.$$typeof,t){case Wp:case qp:case Gp:case Hp:case zp:return t;default:return e}}case zb:return e}}}function JP(t){return Ar(t)===Kp}Jt.AsyncMode=Wb;Jt.ConcurrentMode=Kp;Jt.ContextConsumer=Wp;Jt.ContextProvider=zp;Jt.Element=Ub;Jt.ForwardRef=qp;Jt.Fragment=jp;Jt.Lazy=Gp;Jt.Memo=Hp;Jt.Portal=zb;Jt.Profiler=Up;Jt.StrictMode=Dp;Jt.Suspense=Vp;Jt.isAsyncMode=function(t){return JP(t)||Ar(t)===Wb};Jt.isConcurrentMode=JP;Jt.isContextConsumer=function(t){return Ar(t)===Wp};Jt.isContextProvider=function(t){return Ar(t)===zp};Jt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ub};Jt.isForwardRef=function(t){return Ar(t)===qp};Jt.isFragment=function(t){return Ar(t)===jp};Jt.isLazy=function(t){return Ar(t)===Gp};Jt.isMemo=function(t){return Ar(t)===Hp};Jt.isPortal=function(t){return Ar(t)===zb};Jt.isProfiler=function(t){return Ar(t)===Up};Jt.isStrictMode=function(t){return Ar(t)===Dp};Jt.isSuspense=function(t){return Ar(t)===Vp};Jt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===jp||t===Kp||t===Up||t===Dp||t===Vp||t===stt||typeof t=="object"&&t!==null&&(t.$$typeof===Gp||t.$$typeof===Hp||t.$$typeof===zp||t.$$typeof===Wp||t.$$typeof===qp||t.$$typeof===utt||t.$$typeof===ctt||t.$$typeof===ltt||t.$$typeof===att)};Jt.typeOf=Ar;GP.exports=Jt;var ftt=GP.exports,YP=ftt,dtt={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},htt={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},XP={};XP[YP.ForwardRef]=dtt;XP[YP.Memo]=htt;var ptt=!0;function QP(t,e,n){var r="";return n.split(" ").forEach(function(o){t[o]!==void 0?e.push(t[o]+";"):o&&(r+=o+" ")}),r}var Kb=function(e,n,r){var o=e.key+"-"+n.name;(r===!1||ptt===!1)&&e.registered[o]===void 0&&(e.registered[o]=n.styles)},ZP=function(e,n,r){Kb(e,n,r);var o=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+o:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function gtt(t){for(var e=0,n,r=0,o=t.length;o>=4;++r,o-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(o){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var mtt={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},ytt=/[A-Z]|^ms/g,vtt=/_EMO_([^_]+?)_([^]*?)_EMO_/g,tM=function(e){return e.charCodeAt(1)===45},AC=function(e){return e!=null&&typeof e!="boolean"},Cy=VP(function(t){return tM(t)?t:t.replace(ytt,"-$&").toLowerCase()}),kC=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(vtt,function(r,o,s){return Lo={name:o,styles:s,next:Lo},o})}return mtt[e]!==1&&!tM(e)&&typeof n=="number"&&n!==0?n+"px":n};function _l(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var o=n;if(o.anim===1)return Lo={name:o.name,styles:o.styles,next:Lo},o.name;var s=n;if(s.styles!==void 0){var u=s.next;if(u!==void 0)for(;u!==void 0;)Lo={name:u.name,styles:u.styles,next:Lo},u=u.next;var c=s.styles+";";return c}return _tt(t,e,n)}case"function":{if(t!==void 0){var f=Lo,d=n(t);return Lo=f,_l(t,e,d)}break}}var h=n;if(e==null)return h;var g=e[h];return g!==void 0?g:h}function _tt(t,e,n){var r="";if(Array.isArray(n))for(var o=0;o<n.length;o++)r+=_l(t,e,n[o])+";";else for(var s in n){var u=n[s];if(typeof u!="object"){var c=u;e!=null&&e[c]!==void 0?r+=s+"{"+e[c]+"}":AC(c)&&(r+=Cy(s)+":"+kC(s,c)+";")}else if(Array.isArray(u)&&typeof u[0]=="string"&&(e==null||e[u[0]]===void 0))for(var f=0;f<u.length;f++)AC(u[f])&&(r+=Cy(s)+":"+kC(s,u[f])+";");else{var d=_l(t,e,u);switch(s){case"animation":case"animationName":{r+=Cy(s)+":"+d+";";break}default:r+=s+"{"+d+"}"}}}return r}var IC=/label:\s*([^\s;{]+)\s*(;|$)/g,Lo;function Jp(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,o="";Lo=void 0;var s=t[0];if(s==null||s.raw===void 0)r=!1,o+=_l(n,e,s);else{var u=s;o+=u[0]}for(var c=1;c<t.length;c++)if(o+=_l(n,e,t[c]),r){var f=s;o+=f[c]}IC.lastIndex=0;for(var d="",h;(h=IC.exec(o))!==null;)d+="-"+h[1];var g=gtt(o)+d;return{name:g,styles:o,next:Lo}}var btt=function(e){return e()},Stt=Pv.useInsertionEffect?Pv.useInsertionEffect:!1,eM=Stt||btt,nM=G.createContext(typeof HTMLElement<"u"?itt({key:"css"}):null);nM.Provider;var rM=function(e){return G.forwardRef(function(n,r){var o=G.useContext(nM);return e(n,o,r)})},qb=G.createContext({}),Vb={}.hasOwnProperty,Vv="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",wtt=function(e,n){var r={};for(var o in n)Vb.call(n,o)&&(r[o]=n[o]);return r[Vv]=e,r},Ett=function(e){var n=e.cache,r=e.serialized,o=e.isStringTag;return Kb(n,r,o),eM(function(){return ZP(n,r,o)}),null},xtt=rM(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var o=t[Vv],s=[r],u="";typeof t.className=="string"?u=QP(e.registered,s,t.className):t.className!=null&&(u=t.className+" ");var c=Jp(s,void 0,G.useContext(qb));u+=e.key+"-"+c.name;var f={};for(var d in t)Vb.call(t,d)&&d!=="css"&&d!==Vv&&(f[d]=t[d]);return f.className=u,n&&(f.ref=n),G.createElement(G.Fragment,null,G.createElement(Ett,{cache:e,serialized:c,isStringTag:typeof o=="string"}),G.createElement(o,f))}),Ctt=xtt,RC=function(e,n){var r=arguments;if(n==null||!Vb.call(n,"css"))return G.createElement.apply(void 0,r);var o=r.length,s=new Array(o);s[0]=Ctt,s[1]=wtt(e,n);for(var u=2;u<o;u++)s[u]=r[u];return G.createElement.apply(null,s)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(RC||(RC={}));function Hb(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Jp(e)}function nf(){var t=Hb.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var Ttt=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Ott=VP(function(t){return Ttt.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),Att=Ott,ktt=function(e){return e!=="theme"},$C=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?Att:ktt},PC=function(e,n,r){var o;if(n){var s=n.shouldForwardProp;o=e.__emotion_forwardProp&&s?function(u){return e.__emotion_forwardProp(u)&&s(u)}:s}return typeof o!="function"&&r&&(o=e.__emotion_forwardProp),o},Itt=function(e){var n=e.cache,r=e.serialized,o=e.isStringTag;return Kb(n,r,o),eM(function(){return ZP(n,r,o)}),null},Rtt=function t(e,n){var r=e.__emotion_real===e,o=r&&e.__emotion_base||e,s,u;n!==void 0&&(s=n.label,u=n.target);var c=PC(e,n,r),f=c||$C(o),d=!f("as");return function(){var h=arguments,g=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&g.push("label:"+s+";"),h[0]==null||h[0].raw===void 0)g.push.apply(g,h);else{var y=h[0];g.push(y[0]);for(var v=h.length,S=1;S<v;S++)g.push(h[S],y[S])}var x=rM(function(T,O,N){var P=d&&T.as||o,R="",j=[],B=T;if(T.theme==null){B={};for(var k in T)B[k]=T[k];B.theme=G.useContext(qb)}typeof T.className=="string"?R=QP(O.registered,j,T.className):T.className!=null&&(R=T.className+" ");var U=Jp(g.concat(j),O.registered,B);R+=O.key+"-"+U.name,u!==void 0&&(R+=" "+u);var K=d&&c===void 0?$C(P):f,b={};for(var M in T)d&&M==="as"||K(M)&&(b[M]=T[M]);return b.className=R,N&&(b.ref=N),G.createElement(G.Fragment,null,G.createElement(Itt,{cache:O,serialized:U,isStringTag:typeof P=="string"}),G.createElement(P,b))});return x.displayName=s!==void 0?s:"Styled("+(typeof o=="string"?o:o.displayName||o.name||"Component")+")",x.defaultProps=e.defaultProps,x.__emotion_real=x,x.__emotion_base=o,x.__emotion_styles=g,x.__emotion_forwardProp=c,Object.defineProperty(x,"toString",{value:function(){return"."+u}}),x.withComponent=function(T,O){var N=t(T,kh({},n,O,{shouldForwardProp:PC(x,O,!0)}));return N.apply(void 0,g)},x}},$tt=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Hv=Rtt.bind(null);$tt.forEach(function(t){Hv[t]=Hv(t)});/**
 * @mui/styled-engine v6.4.9
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function oM(t,e){return Hv(t,e)}function Ptt(t,e){Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))}const MC=[];function NC(t){return MC[0]=t,Jp(MC)}var iM={exports:{}},ie={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gb=Symbol.for("react.transitional.element"),Jb=Symbol.for("react.portal"),Yp=Symbol.for("react.fragment"),Xp=Symbol.for("react.strict_mode"),Qp=Symbol.for("react.profiler"),Zp=Symbol.for("react.consumer"),tg=Symbol.for("react.context"),eg=Symbol.for("react.forward_ref"),ng=Symbol.for("react.suspense"),rg=Symbol.for("react.suspense_list"),og=Symbol.for("react.memo"),ig=Symbol.for("react.lazy"),Mtt=Symbol.for("react.offscreen"),Ntt=Symbol.for("react.client.reference");function Qr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Gb:switch(t=t.type,t){case Yp:case Qp:case Xp:case ng:case rg:return t;default:switch(t=t&&t.$$typeof,t){case tg:case eg:case ig:case og:return t;case Zp:return t;default:return e}}case Jb:return e}}}ie.ContextConsumer=Zp;ie.ContextProvider=tg;ie.Element=Gb;ie.ForwardRef=eg;ie.Fragment=Yp;ie.Lazy=ig;ie.Memo=og;ie.Portal=Jb;ie.Profiler=Qp;ie.StrictMode=Xp;ie.Suspense=ng;ie.SuspenseList=rg;ie.isContextConsumer=function(t){return Qr(t)===Zp};ie.isContextProvider=function(t){return Qr(t)===tg};ie.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Gb};ie.isForwardRef=function(t){return Qr(t)===eg};ie.isFragment=function(t){return Qr(t)===Yp};ie.isLazy=function(t){return Qr(t)===ig};ie.isMemo=function(t){return Qr(t)===og};ie.isPortal=function(t){return Qr(t)===Jb};ie.isProfiler=function(t){return Qr(t)===Qp};ie.isStrictMode=function(t){return Qr(t)===Xp};ie.isSuspense=function(t){return Qr(t)===ng};ie.isSuspenseList=function(t){return Qr(t)===rg};ie.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Yp||t===Qp||t===Xp||t===ng||t===rg||t===Mtt||typeof t=="object"&&t!==null&&(t.$$typeof===ig||t.$$typeof===og||t.$$typeof===tg||t.$$typeof===Zp||t.$$typeof===eg||t.$$typeof===Ntt||t.getModuleId!==void 0)};ie.typeOf=Qr;iM.exports=ie;var sM=iM.exports;function jo(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function aM(t){if(G.isValidElement(t)||sM.isValidElementType(t)||!jo(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=aM(t[n])}),e}function vr(t,e,n={clone:!0}){const r=n.clone?{...t}:t;return jo(t)&&jo(e)&&Object.keys(e).forEach(o=>{G.isValidElement(e[o])||sM.isValidElementType(e[o])?r[o]=e[o]:jo(e[o])&&Object.prototype.hasOwnProperty.call(t,o)&&jo(t[o])?r[o]=vr(t[o],e[o],n):n.clone?r[o]=jo(e[o])?aM(e[o]):e[o]:r[o]=e[o]}),r}const Ltt=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function Ftt(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...o}=t,s=Ltt(e),u=Object.keys(s);function c(y){return`@media (min-width:${typeof e[y]=="number"?e[y]:y}${n})`}function f(y){return`@media (max-width:${(typeof e[y]=="number"?e[y]:y)-r/100}${n})`}function d(y,v){const S=u.indexOf(v);return`@media (min-width:${typeof e[y]=="number"?e[y]:y}${n}) and (max-width:${(S!==-1&&typeof e[u[S]]=="number"?e[u[S]]:v)-r/100}${n})`}function h(y){return u.indexOf(y)+1<u.length?d(y,u[u.indexOf(y)+1]):c(y)}function g(y){const v=u.indexOf(y);return v===0?c(u[1]):v===u.length-1?f(u[v]):d(y,u[u.indexOf(y)+1]).replace("@media","@media not all and")}return{keys:u,values:s,up:c,down:f,between:d,only:h,not:g,unit:n,...o}}function Btt(t,e){if(!t.containerQueries)return e;const n=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,o)=>{var u,c;const s=/min-width:\s*([0-9.]+)/;return+(((u=r.match(s))==null?void 0:u[1])||0)-+(((c=o.match(s))==null?void 0:c[1])||0)});return n.length?n.reduce((r,o)=>{const s=e[o];return delete r[o],r[o]=s,r},{...e}):e}function jtt(t,e){return e==="@"||e.startsWith("@")&&(t.some(n=>e.startsWith(`@${n}`))||!!e.match(/^@\d/))}function Dtt(t,e){const n=e.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,o]=n,s=Number.isNaN(+r)?r||0:+r;return t.containerQueries(o).up(s)}function Utt(t){const e=(s,u)=>s.replace("@media",u?`@container ${u}`:"@container");function n(s,u){s.up=(...c)=>e(t.breakpoints.up(...c),u),s.down=(...c)=>e(t.breakpoints.down(...c),u),s.between=(...c)=>e(t.breakpoints.between(...c),u),s.only=(...c)=>e(t.breakpoints.only(...c),u),s.not=(...c)=>{const f=e(t.breakpoints.not(...c),u);return f.includes("not all and")?f.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):f}}const r={},o=s=>(n(r,s),r);return n(o),{...t,containerQueries:o}}const ztt={borderRadius:4};function Hc(t,e){return e?vr(t,e,{clone:!1}):t}const sg={xs:0,sm:600,md:900,lg:1200,xl:1536},LC={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${sg[t]}px)`},Wtt={containerQueries:t=>({up:e=>{let n=typeof e=="number"?e:sg[e]||e;return typeof n=="number"&&(n=`${n}px`),t?`@container ${t} (min-width:${n})`:`@container (min-width:${n})`}})};function Ci(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const s=r.breakpoints||LC;return e.reduce((u,c,f)=>(u[s.up(s.keys[f])]=n(e[f]),u),{})}if(typeof e=="object"){const s=r.breakpoints||LC;return Object.keys(e).reduce((u,c)=>{if(jtt(s.keys,c)){const f=Dtt(r.containerQueries?r:Wtt,c);f&&(u[f]=n(e[c],c))}else if(Object.keys(s.values||sg).includes(c)){const f=s.up(c);u[f]=n(e[c],c)}else{const f=c;u[f]=e[f]}return u},{})}return n(e)}function Ktt(t={}){var n;return((n=t.keys)==null?void 0:n.reduce((r,o)=>{const s=t.up(o);return r[s]={},r},{}))||{}}function qtt(t,e){return t.reduce((n,r)=>{const o=n[r];return(!o||Object.keys(o).length===0)&&delete n[r],n},e)}function qt(t){if(typeof t!="string")throw new Error(Xs(7));return t.charAt(0).toUpperCase()+t.slice(1)}function ag(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((o,s)=>o&&o[s]?o[s]:null,t);if(r!=null)return r}return e.split(".").reduce((r,o)=>r&&r[o]!=null?r[o]:null,t)}function Rh(t,e,n,r=n){let o;return typeof t=="function"?o=t(n):Array.isArray(t)?o=t[n]||r:o=ag(t,n)||r,e&&(o=e(o,r,t)),o}function $e(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:o}=t,s=u=>{if(u[e]==null)return null;const c=u[e],f=u.theme,d=ag(f,r)||{};return Ci(u,c,g=>{let y=Rh(d,o,g);return g===y&&typeof g=="string"&&(y=Rh(d,o,`${e}${g==="default"?"":qt(g)}`,g)),n===!1?y:{[n]:y}})};return s.propTypes={},s.filterProps=[e],s}function Vtt(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const Htt={m:"margin",p:"padding"},Gtt={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},FC={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Jtt=Vtt(t=>{if(t.length>2)if(FC[t])t=FC[t];else return[t];const[e,n]=t.split(""),r=Htt[e],o=Gtt[n]||"";return Array.isArray(o)?o.map(s=>r+s):[r+o]}),Yb=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Xb=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...Yb,...Xb];function rf(t,e,n,r){const o=ag(t,e,!0)??n;return typeof o=="number"||typeof o=="string"?s=>typeof s=="string"?s:typeof o=="string"?`calc(${s} * ${o})`:o*s:Array.isArray(o)?s=>{if(typeof s=="string")return s;const u=Math.abs(s),c=o[u];return s>=0?c:typeof c=="number"?-c:`-${c}`}:typeof o=="function"?o:()=>{}}function Qb(t){return rf(t,"spacing",8)}function of(t,e){return typeof e=="string"||e==null?e:t(e)}function Ytt(t,e){return n=>t.reduce((r,o)=>(r[o]=of(e,n),r),{})}function Xtt(t,e,n,r){if(!e.includes(n))return null;const o=Jtt(n),s=Ytt(o,r),u=t[n];return Ci(t,u,s)}function uM(t,e){const n=Qb(t.theme);return Object.keys(t).map(r=>Xtt(t,e,r,n)).reduce(Hc,{})}function Se(t){return uM(t,Yb)}Se.propTypes={};Se.filterProps=Yb;function we(t){return uM(t,Xb)}we.propTypes={};we.filterProps=Xb;function cM(t=8,e=Qb({spacing:t})){if(t.mui)return t;const n=(...r)=>(r.length===0?[1]:r).map(s=>{const u=e(s);return typeof u=="number"?`${u}px`:u}).join(" ");return n.mui=!0,n}function ug(...t){const e=t.reduce((r,o)=>(o.filterProps.forEach(s=>{r[s]=o}),r),{}),n=r=>Object.keys(r).reduce((o,s)=>e[s]?Hc(o,e[s](r)):o,{});return n.propTypes={},n.filterProps=t.reduce((r,o)=>r.concat(o.filterProps),[]),n}function Kr(t){return typeof t!="number"?t:`${t}px solid`}function Zr(t,e){return $e({prop:t,themeKey:"borders",transform:e})}const Qtt=Zr("border",Kr),Ztt=Zr("borderTop",Kr),tet=Zr("borderRight",Kr),eet=Zr("borderBottom",Kr),net=Zr("borderLeft",Kr),ret=Zr("borderColor"),oet=Zr("borderTopColor"),iet=Zr("borderRightColor"),set=Zr("borderBottomColor"),aet=Zr("borderLeftColor"),uet=Zr("outline",Kr),cet=Zr("outlineColor"),cg=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=rf(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:of(e,r)});return Ci(t,t.borderRadius,n)}return null};cg.propTypes={};cg.filterProps=["borderRadius"];ug(Qtt,Ztt,tet,eet,net,ret,oet,iet,set,aet,cg,uet,cet);const lg=t=>{if(t.gap!==void 0&&t.gap!==null){const e=rf(t.theme,"spacing",8),n=r=>({gap:of(e,r)});return Ci(t,t.gap,n)}return null};lg.propTypes={};lg.filterProps=["gap"];const fg=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=rf(t.theme,"spacing",8),n=r=>({columnGap:of(e,r)});return Ci(t,t.columnGap,n)}return null};fg.propTypes={};fg.filterProps=["columnGap"];const dg=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=rf(t.theme,"spacing",8),n=r=>({rowGap:of(e,r)});return Ci(t,t.rowGap,n)}return null};dg.propTypes={};dg.filterProps=["rowGap"];const fet=$e({prop:"gridColumn"}),det=$e({prop:"gridRow"}),het=$e({prop:"gridAutoFlow"}),pet=$e({prop:"gridAutoColumns"}),get=$e({prop:"gridAutoRows"}),met=$e({prop:"gridTemplateColumns"}),yet=$e({prop:"gridTemplateRows"}),vet=$e({prop:"gridTemplateAreas"}),_et=$e({prop:"gridArea"});ug(lg,fg,dg,fet,det,het,pet,get,met,yet,vet,_et);function Xa(t,e){return e==="grey"?e:t}const bet=$e({prop:"color",themeKey:"palette",transform:Xa}),wet=$e({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Xa}),Eet=$e({prop:"backgroundColor",themeKey:"palette",transform:Xa});ug(bet,wet,Eet);function pr(t){return t<=1&&t!==0?`${t*100}%`:t}const xet=$e({prop:"width",transform:pr}),Zb=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var o,s,u,c,f;const r=((u=(s=(o=t.theme)==null?void 0:o.breakpoints)==null?void 0:s.values)==null?void 0:u[n])||sg[n];return r?((f=(c=t.theme)==null?void 0:c.breakpoints)==null?void 0:f.unit)!=="px"?{maxWidth:`${r}${t.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:pr(n)}};return Ci(t,t.maxWidth,e)}return null};Zb.filterProps=["maxWidth"];const Cet=$e({prop:"minWidth",transform:pr}),Tet=$e({prop:"height",transform:pr}),Oet=$e({prop:"maxHeight",transform:pr}),Aet=$e({prop:"minHeight",transform:pr});$e({prop:"size",cssProperty:"width",transform:pr});$e({prop:"size",cssProperty:"height",transform:pr});const ket=$e({prop:"boxSizing"});ug(xet,Zb,Cet,Tet,Oet,Aet,ket);const sf={border:{themeKey:"borders",transform:Kr},borderTop:{themeKey:"borders",transform:Kr},borderRight:{themeKey:"borders",transform:Kr},borderBottom:{themeKey:"borders",transform:Kr},borderLeft:{themeKey:"borders",transform:Kr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Kr},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:cg},color:{themeKey:"palette",transform:Xa},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Xa},backgroundColor:{themeKey:"palette",transform:Xa},p:{style:we},pt:{style:we},pr:{style:we},pb:{style:we},pl:{style:we},px:{style:we},py:{style:we},padding:{style:we},paddingTop:{style:we},paddingRight:{style:we},paddingBottom:{style:we},paddingLeft:{style:we},paddingX:{style:we},paddingY:{style:we},paddingInline:{style:we},paddingInlineStart:{style:we},paddingInlineEnd:{style:we},paddingBlock:{style:we},paddingBlockStart:{style:we},paddingBlockEnd:{style:we},m:{style:Se},mt:{style:Se},mr:{style:Se},mb:{style:Se},ml:{style:Se},mx:{style:Se},my:{style:Se},margin:{style:Se},marginTop:{style:Se},marginRight:{style:Se},marginBottom:{style:Se},marginLeft:{style:Se},marginX:{style:Se},marginY:{style:Se},marginInline:{style:Se},marginInlineStart:{style:Se},marginInlineEnd:{style:Se},marginBlock:{style:Se},marginBlockStart:{style:Se},marginBlockEnd:{style:Se},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:lg},rowGap:{style:dg},columnGap:{style:fg},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:pr},maxWidth:{style:Zb},minWidth:{transform:pr},height:{transform:pr},maxHeight:{transform:pr},minHeight:{transform:pr},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function Iet(...t){const e=t.reduce((r,o)=>r.concat(Object.keys(o)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function Ret(t,e){return typeof t=="function"?t(e):t}function $et(){function t(n,r,o,s){const u={[n]:r,theme:o},c=s[n];if(!c)return{[n]:r};const{cssProperty:f=n,themeKey:d,transform:h,style:g}=c;if(r==null)return null;if(d==="typography"&&r==="inherit")return{[n]:r};const y=ag(o,d)||{};return g?g(u):Ci(u,r,S=>{let x=Rh(y,h,S);return S===x&&typeof S=="string"&&(x=Rh(y,h,`${n}${S==="default"?"":qt(S)}`,S)),f===!1?x:{[f]:x}})}function e(n){const{sx:r,theme:o={}}=n||{};if(!r)return null;const s=o.unstable_sxConfig??sf;function u(c){let f=c;if(typeof c=="function")f=c(o);else if(typeof c!="object")return c;if(!f)return null;const d=Ktt(o.breakpoints),h=Object.keys(d);let g=d;return Object.keys(f).forEach(y=>{const v=Ret(f[y],o);if(v!=null)if(typeof v=="object")if(s[y])g=Hc(g,t(y,v,o,s));else{const S=Ci({theme:o},v,x=>({[y]:x}));Iet(S,v)?g[y]=e({sx:v,theme:o}):g=Hc(g,S)}else g=Hc(g,t(y,v,o,s))}),Btt(o,qtt(h,g))}return Array.isArray(r)?r.map(u):u(r)}return e}const Qs=$et();Qs.filterProps=["sx"];function Pet(t,e){var r;const n=this;if(n.vars){if(!((r=n.colorSchemes)!=null&&r[t])||typeof n.getColorSchemeSelector!="function")return{};let o=n.getColorSchemeSelector(t);return o==="&"?e:((o.includes("data-")||o.includes("."))&&(o=`*:where(${o.replace(/\s*&$/,"")}) &`),{[o]:e})}return n.palette.mode===t?e:{}}function tS(t={},...e){const{breakpoints:n={},palette:r={},spacing:o,shape:s={},...u}=t,c=Ftt(n),f=cM(o);let d=vr({breakpoints:c,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:f,shape:{...ztt,...s}},u);return d=Utt(d),d.applyStyles=Pet,d=e.reduce((h,g)=>vr(h,g),d),d.unstable_sxConfig={...sf,...u==null?void 0:u.unstable_sxConfig},d.unstable_sx=function(g){return Qs({sx:g,theme:this})},d}function Met(t){return Object.keys(t).length===0}function Net(t=null){const e=G.useContext(qb);return!e||Met(e)?t:e}const Let=tS();function Fet(t=Let){return Net(t)}const Bet=t=>{var r;const e={systemProps:{},otherProps:{}},n=((r=t==null?void 0:t.theme)==null?void 0:r.unstable_sxConfig)??sf;return Object.keys(t).forEach(o=>{n[o]?e.systemProps[o]=t[o]:e.otherProps[o]=t[o]}),e};function lM(t){const{sx:e,...n}=t,{systemProps:r,otherProps:o}=Bet(n);let s;return Array.isArray(e)?s=[r,...e]:typeof e=="function"?s=(...u)=>{const c=e(...u);return jo(c)?{...r,...c}:r}:s={...r,...e},{...o,sx:s}}const BC=t=>t,jet=()=>{let t=BC;return{configure(e){t=e},generate(e){return t(e)},reset(){t=BC}}},fM=jet();function dM(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var o=t.length;for(e=0;e<o;e++)t[e]&&(n=dM(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function hn(){for(var t,e,n=0,r="",o=arguments.length;n<o;n++)(t=arguments[n])&&(e=dM(t))&&(r&&(r+=" "),r+=e);return r}function Det(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:o}=t,s=oM("div",{shouldForwardProp:c=>c!=="theme"&&c!=="sx"&&c!=="as"})(Qs);return G.forwardRef(function(f,d){const h=Fet(n),{className:g,component:y="div",...v}=lM(f);return J.jsx(s,{as:y,ref:d,className:hn(g,o?o(r):r),theme:e&&h[e]||h,...v})})}const Uet={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function fa(t,e,n="Mui"){const r=Uet[e];return r?`${n}-${r}`:`${fM.generate(t)}-${e}`}function hs(t,e,n="Mui"){const r={};return e.forEach(o=>{r[o]=fa(t,o,n)}),r}function hM(t){const{variants:e,...n}=t,r={variants:e,style:NC(n),isProcessed:!0};return r.style===n||e&&e.forEach(o=>{typeof o.style!="function"&&(o.style=NC(o.style))}),r}const zet=tS();function Ty(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function Wet(t){return t?(e,n)=>n[t]:null}function Ket(t,e,n){t.theme=Het(t.theme)?n:t.theme[e]||t.theme}function jd(t,e){const n=typeof e=="function"?e(t):e;if(Array.isArray(n))return n.flatMap(r=>jd(t,r));if(Array.isArray(n==null?void 0:n.variants)){let r;if(n.isProcessed)r=n.style;else{const{variants:o,...s}=n;r=s}return pM(t,n.variants,[r])}return n!=null&&n.isProcessed?n.style:n}function pM(t,e,n=[]){var o;let r;t:for(let s=0;s<e.length;s+=1){const u=e[s];if(typeof u.props=="function"){if(r??(r={...t,...t.ownerState,ownerState:t.ownerState}),!u.props(r))continue}else for(const c in u.props)if(t[c]!==u.props[c]&&((o=t.ownerState)==null?void 0:o[c])!==u.props[c])continue t;typeof u.style=="function"?(r??(r={...t,...t.ownerState,ownerState:t.ownerState}),n.push(u.style(r))):n.push(u.style)}return n}function qet(t={}){const{themeId:e,defaultTheme:n=zet,rootShouldForwardProp:r=Ty,slotShouldForwardProp:o=Ty}=t;function s(c){Ket(c,e,n)}return(c,f={})=>{Ptt(c,j=>j.filter(B=>B!==Qs));const{name:d,slot:h,skipVariantsResolver:g,skipSx:y,overridesResolver:v=Wet(Jet(h)),...S}=f,x=g!==void 0?g:h&&h!=="Root"&&h!=="root"||!1,T=y||!1;let O=Ty;h==="Root"||h==="root"?O=r:h?O=o:Get(c)&&(O=void 0);const N=oM(c,{shouldForwardProp:O,label:Vet(),...S}),P=j=>{if(typeof j=="function"&&j.__emotion_real!==j)return function(k){return jd(k,j)};if(jo(j)){const B=hM(j);return B.variants?function(U){return jd(U,B)}:B.style}return j},R=(...j)=>{const B=[],k=j.map(P),U=[];if(B.push(s),d&&v&&U.push(function(D){var gt,ot;const nt=(ot=(gt=D.theme.components)==null?void 0:gt[d])==null?void 0:ot.styleOverrides;if(!nt)return null;const mt={};for(const at in nt)mt[at]=jd(D,nt[at]);return v(D,mt)}),d&&!x&&U.push(function(D){var mt,gt;const X=D.theme,nt=(gt=(mt=X==null?void 0:X.components)==null?void 0:mt[d])==null?void 0:gt.variants;return nt?pM(D,nt):null}),T||U.push(Qs),Array.isArray(k[0])){const M=k.shift(),D=new Array(B.length).fill(""),X=new Array(U.length).fill("");let nt;nt=[...D,...M,...X],nt.raw=[...D,...M.raw,...X],B.unshift(nt)}const K=[...B,...k,...U],b=N(...K);return c.muiName&&(b.muiName=c.muiName),b};return N.withConfig&&(R.withConfig=N.withConfig),R}}function Vet(t,e){return void 0}function Het(t){for(const e in t)return!1;return!0}function Get(t){return typeof t=="string"&&t.charCodeAt(0)>96}function Jet(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}function $h(t,e){const n={...e};for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const o=r;if(o==="components"||o==="slots")n[o]={...t[o],...n[o]};else if(o==="componentsProps"||o==="slotProps"){const s=t[o],u=e[o];if(!u)n[o]=s||{};else if(!s)n[o]=u;else{n[o]={...u};for(const c in s)if(Object.prototype.hasOwnProperty.call(s,c)){const f=c;n[o][f]=$h(s[f],u[f])}}}else n[o]===void 0&&(n[o]=t[o])}return n}const Yet=typeof window<"u"?G.useLayoutEffect:G.useEffect;function Xet(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}function eS(t,e=0,n=1){return Xet(t,e,n)}function Qet(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,o)=>o<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function cs(t){if(t.type)return t;if(t.charAt(0)==="#")return cs(Qet(t));const e=t.indexOf("("),n=t.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(Xs(9,t));let r=t.substring(e+1,t.length-1),o;if(n==="color"){if(r=r.split(" "),o=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(o))throw new Error(Xs(10,o))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:o}}const Zet=t=>{const e=cs(t);return e.values.slice(0,3).map((n,r)=>e.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},Bc=(t,e)=>{try{return Zet(t)}catch{return t}};function hg(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.includes("rgb")?r=r.map((o,s)=>s<3?parseInt(o,10):o):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function gM(t){t=cs(t);const{values:e}=t,n=e[0],r=e[1]/100,o=e[2]/100,s=r*Math.min(o,1-o),u=(d,h=(d+n/30)%12)=>o-s*Math.max(Math.min(h-3,9-h,1),-1);let c="rgb";const f=[Math.round(u(0)*255),Math.round(u(8)*255),Math.round(u(4)*255)];return t.type==="hsla"&&(c+="a",f.push(e[3])),hg({type:c,values:f})}function Gv(t){t=cs(t);let e=t.type==="hsl"||t.type==="hsla"?cs(gM(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function tnt(t,e){const n=Gv(t),r=Gv(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function Xi(t,e){return t=cs(t),e=eS(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,hg(t)}function dd(t,e,n){try{return Xi(t,e)}catch{return t}}function nS(t,e){if(t=cs(t),e=eS(e),t.type.includes("hsl"))t.values[2]*=1-e;else if(t.type.includes("rgb")||t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]*=1-e;return hg(t)}function Zt(t,e,n){try{return nS(t,e)}catch{return t}}function rS(t,e){if(t=cs(t),e=eS(e),t.type.includes("hsl"))t.values[2]+=(100-t.values[2])*e;else if(t.type.includes("rgb"))for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return hg(t)}function te(t,e,n){try{return rS(t,e)}catch{return t}}function ent(t,e=.15){return Gv(t)>.5?nS(t,e):rS(t,e)}function hd(t,e,n){try{return ent(t,e)}catch{return t}}function nnt(t,e){typeof t=="function"?t(e):t&&(t.current=e)}let jC=0;function rnt(t){const[e,n]=G.useState(t),r=t||e;return G.useEffect(()=>{e==null&&(jC+=1,n(`mui-${jC}`))},[e]),r}const ont={...Pv},DC=ont.useId;function mM(t){if(DC!==void 0){const e=DC();return t??e}return rnt(t)}function Dd(t){const e=G.useRef(t);return Yet(()=>{e.current=t}),G.useRef((...n)=>(0,e.current)(...n)).current}function UC(...t){return G.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{nnt(n,e)})},t)}const zC={};function yM(t,e){const n=G.useRef(zC);return n.current===zC&&(n.current=t(e)),n}const int=[];function snt(t){G.useEffect(t,int)}class oS{constructor(){_(this,"currentId",null);_(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});_(this,"disposeEffect",()=>this.clear)}static create(){return new oS}start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}}function ant(){const t=yM(oS.create).current;return snt(t.disposeEffect),t}function WC(t){try{return t.matches(":focus-visible")}catch{}return!1}function Xu(t,e,n=void 0){const r={};for(const o in t){const s=t[o];let u="",c=!0;for(let f=0;f<s.length;f+=1){const d=s[f];d&&(u+=(c===!0?"":" ")+e(d),c=!1,n&&n[d]&&(u+=" "+n[d]))}r[o]=u}return r}const unt=G.createContext(void 0);function cnt(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const o=e.components[n];return o.defaultProps?$h(o.defaultProps,r):!o.styleOverrides&&!o.variants?$h(o,r):r}function lnt({props:t,name:e}){const n=G.useContext(unt);return cnt({props:t,name:e,theme:{components:n}})}const KC={theme:void 0};function fnt(t){let e,n;return function(o){let s=e;return(s===void 0||o.theme!==n)&&(KC.theme=o.theme,s=hM(t(KC)),e=s,n=o.theme),s}}function dnt(t=""){function e(...r){if(!r.length)return"";const o=r[0];return typeof o=="string"&&!o.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${t?`${t}-`:""}${o}${e(...r.slice(1))})`:`, ${o}`}return(r,...o)=>`var(--${t?`${t}-`:""}${r}${e(...o)})`}const qC=(t,e,n,r=[])=>{let o=t;e.forEach((s,u)=>{u===e.length-1?Array.isArray(o)?o[Number(s)]=n:o&&typeof o=="object"&&(o[s]=n):o&&typeof o=="object"&&(o[s]||(o[s]=r.includes(s)?[]:{}),o=o[s])})},hnt=(t,e,n)=>{function r(o,s=[],u=[]){Object.entries(o).forEach(([c,f])=>{(!n||n&&!n([...s,c]))&&f!=null&&(typeof f=="object"&&Object.keys(f).length>0?r(f,[...s,c],Array.isArray(f)?[...u,c]:u):e([...s,c],f,u))})}r(t)},pnt=(t,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>t.includes(r))||t[t.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function Oy(t,e){const{prefix:n,shouldSkipGeneratingVar:r}=e||{},o={},s={},u={};return hnt(t,(c,f,d)=>{if((typeof f=="string"||typeof f=="number")&&(!r||!r(c,f))){const h=`--${n?`${n}-`:""}${c.join("-")}`,g=pnt(c,f);Object.assign(o,{[h]:g}),qC(s,c,`var(${h})`,d),qC(u,c,`var(${h}, ${g})`,d)}},c=>c[0]==="vars"),{css:o,vars:s,varsWithDefaults:u}}function gnt(t,e={}){const{getSelector:n=T,disableCssColorScheme:r,colorSchemeSelector:o}=e,{colorSchemes:s={},components:u,defaultColorScheme:c="light",...f}=t,{vars:d,css:h,varsWithDefaults:g}=Oy(f,e);let y=g;const v={},{[c]:S,...x}=s;if(Object.entries(x||{}).forEach(([P,R])=>{const{vars:j,css:B,varsWithDefaults:k}=Oy(R,e);y=vr(y,k),v[P]={css:B,vars:j}}),S){const{css:P,vars:R,varsWithDefaults:j}=Oy(S,e);y=vr(y,j),v[c]={css:P,vars:R}}function T(P,R){var B,k;let j=o;if(o==="class"&&(j=".%s"),o==="data"&&(j="[data-%s]"),o!=null&&o.startsWith("data-")&&!o.includes("%s")&&(j=`[${o}="%s"]`),P){if(j==="media")return t.defaultColorScheme===P?":root":{[`@media (prefers-color-scheme: ${((k=(B=s[P])==null?void 0:B.palette)==null?void 0:k.mode)||P})`]:{":root":R}};if(j)return t.defaultColorScheme===P?`:root, ${j.replace("%s",String(P))}`:j.replace("%s",String(P))}return":root"}return{vars:y,generateThemeVars:()=>{let P={...d};return Object.entries(v).forEach(([,{vars:R}])=>{P=vr(P,R)}),P},generateStyleSheets:()=>{var U,K;const P=[],R=t.defaultColorScheme||"light";function j(b,M){Object.keys(M).length&&P.push(typeof b=="string"?{[b]:{...M}}:b)}j(n(void 0,{...h}),h);const{[R]:B,...k}=v;if(B){const{css:b}=B,M=(K=(U=s[R])==null?void 0:U.palette)==null?void 0:K.mode,D=!r&&M?{colorScheme:M,...b}:{...b};j(n(R,{...D}),D)}return Object.entries(k).forEach(([b,{css:M}])=>{var nt,mt;const D=(mt=(nt=s[b])==null?void 0:nt.palette)==null?void 0:mt.mode,X=!r&&D?{colorScheme:D,...M}:{...M};j(n(b,{...X}),X)}),P}}}function mnt(t){return function(n){return t==="media"?`@media (prefers-color-scheme: ${n})`:t?t.startsWith("data-")&&!t.includes("%s")?`[${t}="${n}"] &`:t==="class"?`.${n} &`:t==="data"?`[data-${n}] &`:`${t.replace("%s",n)} &`:"&"}}function vM(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:ml.white,default:ml.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const ynt=vM();function _M(){return{text:{primary:ml.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:ml.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const VC=_M();function HC(t,e,n,r){const o=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=rS(t.main,o):e==="dark"&&(t.dark=nS(t.main,s)))}function vnt(t="light"){return t==="dark"?{main:Na[200],light:Na[50],dark:Na[400]}:{main:Na[700],light:Na[400],dark:Na[800]}}function _nt(t="light"){return t==="dark"?{main:Ma[200],light:Ma[50],dark:Ma[400]}:{main:Ma[500],light:Ma[300],dark:Ma[700]}}function bnt(t="light"){return t==="dark"?{main:Pa[500],light:Pa[300],dark:Pa[700]}:{main:Pa[700],light:Pa[400],dark:Pa[800]}}function Snt(t="light"){return t==="dark"?{main:La[400],light:La[300],dark:La[700]}:{main:La[700],light:La[500],dark:La[900]}}function wnt(t="light"){return t==="dark"?{main:Fa[400],light:Fa[300],dark:Fa[700]}:{main:Fa[800],light:Fa[500],dark:Fa[900]}}function Ent(t="light"){return t==="dark"?{main:Ac[400],light:Ac[300],dark:Ac[700]}:{main:"#ed6c02",light:Ac[500],dark:Ac[900]}}function iS(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2,...o}=t,s=t.primary||vnt(e),u=t.secondary||_nt(e),c=t.error||bnt(e),f=t.info||Snt(e),d=t.success||wnt(e),h=t.warning||Ent(e);function g(x){return tnt(x,VC.text.primary)>=n?VC.text.primary:ynt.text.primary}const y=({color:x,name:T,mainShade:O=500,lightShade:N=300,darkShade:P=700})=>{if(x={...x},!x.main&&x[O]&&(x.main=x[O]),!x.hasOwnProperty("main"))throw new Error(Xs(11,T?` (${T})`:"",O));if(typeof x.main!="string")throw new Error(Xs(12,T?` (${T})`:"",JSON.stringify(x.main)));return HC(x,"light",N,r),HC(x,"dark",P,r),x.contrastText||(x.contrastText=g(x.main)),x};let v;return e==="light"?v=vM():e==="dark"&&(v=_M()),vr({common:{...ml},mode:e,primary:y({color:s,name:"primary"}),secondary:y({color:u,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:y({color:c,name:"error"}),warning:y({color:h,name:"warning"}),info:y({color:f,name:"info"}),success:y({color:d,name:"success"}),grey:IZ,contrastThreshold:n,getContrastText:g,augmentColor:y,tonalOffset:r,...v},o)}function xnt(t){const e={};return Object.entries(t).forEach(r=>{const[o,s]=r;typeof s=="object"&&(e[o]=`${s.fontStyle?`${s.fontStyle} `:""}${s.fontVariant?`${s.fontVariant} `:""}${s.fontWeight?`${s.fontWeight} `:""}${s.fontStretch?`${s.fontStretch} `:""}${s.fontSize||""}${s.lineHeight?`/${s.lineHeight} `:""}${s.fontFamily||""}`)}),e}function Cnt(t,e){return{toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}},...e}}function Tnt(t){return Math.round(t*1e5)/1e5}const GC={textTransform:"uppercase"},JC='"Roboto", "Helvetica", "Arial", sans-serif';function Ont(t,e){const{fontFamily:n=JC,fontSize:r=14,fontWeightLight:o=300,fontWeightRegular:s=400,fontWeightMedium:u=500,fontWeightBold:c=700,htmlFontSize:f=16,allVariants:d,pxToRem:h,...g}=typeof e=="function"?e(t):e,y=r/14,v=h||(T=>`${T/f*y}rem`),S=(T,O,N,P,R)=>({fontFamily:n,fontWeight:T,fontSize:v(O),lineHeight:N,...n===JC?{letterSpacing:`${Tnt(P/O)}em`}:{},...R,...d}),x={h1:S(o,96,1.167,-1.5),h2:S(o,60,1.2,-.5),h3:S(s,48,1.167,0),h4:S(s,34,1.235,.25),h5:S(s,24,1.334,0),h6:S(u,20,1.6,.15),subtitle1:S(s,16,1.75,.15),subtitle2:S(u,14,1.57,.1),body1:S(s,16,1.5,.15),body2:S(s,14,1.43,.15),button:S(u,14,1.75,.4,GC),caption:S(s,12,1.66,.4),overline:S(s,12,2.66,1,GC),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return vr({htmlFontSize:f,pxToRem:v,fontFamily:n,fontSize:r,fontWeightLight:o,fontWeightRegular:s,fontWeightMedium:u,fontWeightBold:c,...x},g,{clone:!1})}const Ant=.2,knt=.14,Int=.12;function he(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${Ant})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${knt})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${Int})`].join(",")}const Rnt=["none",he(0,2,1,-1,0,1,1,0,0,1,3,0),he(0,3,1,-2,0,2,2,0,0,1,5,0),he(0,3,3,-2,0,3,4,0,0,1,8,0),he(0,2,4,-1,0,4,5,0,0,1,10,0),he(0,3,5,-1,0,5,8,0,0,1,14,0),he(0,3,5,-1,0,6,10,0,0,1,18,0),he(0,4,5,-2,0,7,10,1,0,2,16,1),he(0,5,5,-3,0,8,10,1,0,3,14,2),he(0,5,6,-3,0,9,12,1,0,3,16,2),he(0,6,6,-3,0,10,14,1,0,4,18,3),he(0,6,7,-4,0,11,15,1,0,4,20,3),he(0,7,8,-4,0,12,17,2,0,5,22,4),he(0,7,8,-4,0,13,19,2,0,5,24,4),he(0,7,9,-4,0,14,21,2,0,5,26,4),he(0,8,9,-5,0,15,22,2,0,6,28,5),he(0,8,10,-5,0,16,24,2,0,6,30,5),he(0,8,11,-5,0,17,26,2,0,6,32,5),he(0,9,11,-5,0,18,28,2,0,7,34,6),he(0,9,12,-6,0,19,29,2,0,7,36,6),he(0,10,13,-6,0,20,31,3,0,8,38,7),he(0,10,13,-6,0,21,33,3,0,8,40,7),he(0,10,14,-6,0,22,35,3,0,8,42,7),he(0,11,14,-7,0,23,36,3,0,9,44,8),he(0,11,15,-7,0,24,38,3,0,9,46,8)],$nt={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Pnt={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function YC(t){return`${Math.round(t)}ms`}function Mnt(t){if(!t)return 0;const e=t/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function Nnt(t){const e={...$nt,...t.easing},n={...Pnt,...t.duration};return{getAutoHeightDuration:Mnt,create:(o=["all"],s={})=>{const{duration:u=n.standard,easing:c=e.easeInOut,delay:f=0,...d}=s;return(Array.isArray(o)?o:[o]).map(h=>`${h} ${typeof u=="string"?u:YC(u)} ${c} ${typeof f=="string"?f:YC(f)}`).join(",")},...t,easing:e,duration:n}}const Lnt={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function Fnt(t){return jo(t)||typeof t>"u"||typeof t=="string"||typeof t=="boolean"||typeof t=="number"||Array.isArray(t)}function bM(t={}){const e={...t};function n(r){const o=Object.entries(r);for(let s=0;s<o.length;s++){const[u,c]=o[s];!Fnt(c)||u.startsWith("unstable_")?delete r[u]:jo(c)&&(r[u]={...c},n(r[u]))}}return n(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function Jv(t={},...e){const{breakpoints:n,mixins:r={},spacing:o,palette:s={},transitions:u={},typography:c={},shape:f,...d}=t;if(t.vars&&t.generateThemeVars===void 0)throw new Error(Xs(20));const h=iS(s),g=tS(t);let y=vr(g,{mixins:Cnt(g.breakpoints,r),palette:h,shadows:Rnt.slice(),typography:Ont(h,c),transitions:Nnt(u),zIndex:{...Lnt}});return y=vr(y,d),y=e.reduce((v,S)=>vr(v,S),y),y.unstable_sxConfig={...sf,...d==null?void 0:d.unstable_sxConfig},y.unstable_sx=function(S){return Qs({sx:S,theme:this})},y.toRuntimeSource=bM,y}function Bnt(t){let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,Math.round(e*10)/1e3}const jnt=[...Array(25)].map((t,e)=>{if(e===0)return"none";const n=Bnt(e);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function SM(t){return{inputPlaceholder:t==="dark"?.5:.42,inputUnderline:t==="dark"?.7:.42,switchTrackDisabled:t==="dark"?.2:.12,switchTrack:t==="dark"?.3:.38}}function wM(t){return t==="dark"?jnt:[]}function Dnt(t){const{palette:e={mode:"light"},opacity:n,overlays:r,...o}=t,s=iS(e);return{palette:s,opacity:{...SM(s.mode),...n},overlays:r||wM(s.mode),...o}}function Unt(t){var e;return!!t[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!t[0].match(/sxConfig$/)||t[0]==="palette"&&!!((e=t[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const znt=t=>[...[...Array(25)].map((e,n)=>`--${t?`${t}-`:""}overlays-${n}`),`--${t?`${t}-`:""}palette-AppBar-darkBg`,`--${t?`${t}-`:""}palette-AppBar-darkColor`];var Wnt=t=>(e,n)=>{const r=t.rootSelector||":root",o=t.colorSchemeSelector;let s=o;if(o==="class"&&(s=".%s"),o==="data"&&(s="[data-%s]"),o!=null&&o.startsWith("data-")&&!o.includes("%s")&&(s=`[${o}="%s"]`),t.defaultColorScheme===e){if(e==="dark"){const u={};return znt(t.cssVarPrefix).forEach(c=>{u[c]=n[c],delete n[c]}),s==="media"?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:u}}:s?{[s.replace("%s",e)]:u,[`${r}, ${s.replace("%s",e)}`]:n}:{[r]:{...n,...u}}}if(s&&s!=="media")return`${r}, ${s.replace("%s",String(e))}`}else if(e){if(s==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:n}};if(s)return s.replace("%s",String(e))}return r};function Knt(t,e){e.forEach(n=>{t[n]||(t[n]={})})}function z(t,e,n){!t[e]&&n&&(t[e]=n)}function jc(t){return typeof t!="string"||!t.startsWith("hsl")?t:gM(t)}function di(t,e){`${e}Channel`in t||(t[`${e}Channel`]=Bc(jc(t[e])))}function qnt(t){return typeof t=="number"?`${t}px`:typeof t=="string"||typeof t=="function"||Array.isArray(t)?t:"8px"}const Ao=t=>{try{return t()}catch{}},Vnt=(t="mui")=>dnt(t);function Ay(t,e,n,r){if(!e)return;e=e===!0?{}:e;const o=r==="dark"?"dark":"light";if(!n){t[r]=Dnt({...e,palette:{mode:o,...e==null?void 0:e.palette}});return}const{palette:s,...u}=Jv({...n,palette:{mode:o,...e==null?void 0:e.palette}});return t[r]={...e,palette:s,opacity:{...SM(o),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||wM(o)},u}function Hnt(t={},...e){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:o=!1,cssVarPrefix:s="mui",shouldSkipGeneratingVar:u=Unt,colorSchemeSelector:c=n.light&&n.dark?"media":void 0,rootSelector:f=":root",...d}=t,h=Object.keys(n)[0],g=r||(n.light&&h!=="light"?"light":h),y=Vnt(s),{[g]:v,light:S,dark:x,...T}=n,O={...T};let N=v;if((g==="dark"&&!("dark"in n)||g==="light"&&!("light"in n))&&(N=!0),!N)throw new Error(Xs(21,g));const P=Ay(O,N,d,g);S&&!O.light&&Ay(O,S,void 0,"light"),x&&!O.dark&&Ay(O,x,void 0,"dark");let R={defaultColorScheme:g,...P,cssVarPrefix:s,colorSchemeSelector:c,rootSelector:f,getCssVar:y,colorSchemes:O,font:{...xnt(P.typography),...P.font},spacing:qnt(d.spacing)};Object.keys(R.colorSchemes).forEach(K=>{const b=R.colorSchemes[K].palette,M=D=>{const X=D.split("-"),nt=X[1],mt=X[2];return y(D,b[nt][mt])};if(b.mode==="light"&&(z(b.common,"background","#fff"),z(b.common,"onBackground","#000")),b.mode==="dark"&&(z(b.common,"background","#000"),z(b.common,"onBackground","#fff")),Knt(b,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),b.mode==="light"){z(b.Alert,"errorColor",Zt(b.error.light,.6)),z(b.Alert,"infoColor",Zt(b.info.light,.6)),z(b.Alert,"successColor",Zt(b.success.light,.6)),z(b.Alert,"warningColor",Zt(b.warning.light,.6)),z(b.Alert,"errorFilledBg",M("palette-error-main")),z(b.Alert,"infoFilledBg",M("palette-info-main")),z(b.Alert,"successFilledBg",M("palette-success-main")),z(b.Alert,"warningFilledBg",M("palette-warning-main")),z(b.Alert,"errorFilledColor",Ao(()=>b.getContrastText(b.error.main))),z(b.Alert,"infoFilledColor",Ao(()=>b.getContrastText(b.info.main))),z(b.Alert,"successFilledColor",Ao(()=>b.getContrastText(b.success.main))),z(b.Alert,"warningFilledColor",Ao(()=>b.getContrastText(b.warning.main))),z(b.Alert,"errorStandardBg",te(b.error.light,.9)),z(b.Alert,"infoStandardBg",te(b.info.light,.9)),z(b.Alert,"successStandardBg",te(b.success.light,.9)),z(b.Alert,"warningStandardBg",te(b.warning.light,.9)),z(b.Alert,"errorIconColor",M("palette-error-main")),z(b.Alert,"infoIconColor",M("palette-info-main")),z(b.Alert,"successIconColor",M("palette-success-main")),z(b.Alert,"warningIconColor",M("palette-warning-main")),z(b.AppBar,"defaultBg",M("palette-grey-100")),z(b.Avatar,"defaultBg",M("palette-grey-400")),z(b.Button,"inheritContainedBg",M("palette-grey-300")),z(b.Button,"inheritContainedHoverBg",M("palette-grey-A100")),z(b.Chip,"defaultBorder",M("palette-grey-400")),z(b.Chip,"defaultAvatarColor",M("palette-grey-700")),z(b.Chip,"defaultIconColor",M("palette-grey-700")),z(b.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),z(b.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),z(b.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),z(b.LinearProgress,"primaryBg",te(b.primary.main,.62)),z(b.LinearProgress,"secondaryBg",te(b.secondary.main,.62)),z(b.LinearProgress,"errorBg",te(b.error.main,.62)),z(b.LinearProgress,"infoBg",te(b.info.main,.62)),z(b.LinearProgress,"successBg",te(b.success.main,.62)),z(b.LinearProgress,"warningBg",te(b.warning.main,.62)),z(b.Skeleton,"bg",`rgba(${M("palette-text-primaryChannel")} / 0.11)`),z(b.Slider,"primaryTrack",te(b.primary.main,.62)),z(b.Slider,"secondaryTrack",te(b.secondary.main,.62)),z(b.Slider,"errorTrack",te(b.error.main,.62)),z(b.Slider,"infoTrack",te(b.info.main,.62)),z(b.Slider,"successTrack",te(b.success.main,.62)),z(b.Slider,"warningTrack",te(b.warning.main,.62));const D=hd(b.background.default,.8);z(b.SnackbarContent,"bg",D),z(b.SnackbarContent,"color",Ao(()=>b.getContrastText(D))),z(b.SpeedDialAction,"fabHoverBg",hd(b.background.paper,.15)),z(b.StepConnector,"border",M("palette-grey-400")),z(b.StepContent,"border",M("palette-grey-400")),z(b.Switch,"defaultColor",M("palette-common-white")),z(b.Switch,"defaultDisabledColor",M("palette-grey-100")),z(b.Switch,"primaryDisabledColor",te(b.primary.main,.62)),z(b.Switch,"secondaryDisabledColor",te(b.secondary.main,.62)),z(b.Switch,"errorDisabledColor",te(b.error.main,.62)),z(b.Switch,"infoDisabledColor",te(b.info.main,.62)),z(b.Switch,"successDisabledColor",te(b.success.main,.62)),z(b.Switch,"warningDisabledColor",te(b.warning.main,.62)),z(b.TableCell,"border",te(dd(b.divider,1),.88)),z(b.Tooltip,"bg",dd(b.grey[700],.92))}if(b.mode==="dark"){z(b.Alert,"errorColor",te(b.error.light,.6)),z(b.Alert,"infoColor",te(b.info.light,.6)),z(b.Alert,"successColor",te(b.success.light,.6)),z(b.Alert,"warningColor",te(b.warning.light,.6)),z(b.Alert,"errorFilledBg",M("palette-error-dark")),z(b.Alert,"infoFilledBg",M("palette-info-dark")),z(b.Alert,"successFilledBg",M("palette-success-dark")),z(b.Alert,"warningFilledBg",M("palette-warning-dark")),z(b.Alert,"errorFilledColor",Ao(()=>b.getContrastText(b.error.dark))),z(b.Alert,"infoFilledColor",Ao(()=>b.getContrastText(b.info.dark))),z(b.Alert,"successFilledColor",Ao(()=>b.getContrastText(b.success.dark))),z(b.Alert,"warningFilledColor",Ao(()=>b.getContrastText(b.warning.dark))),z(b.Alert,"errorStandardBg",Zt(b.error.light,.9)),z(b.Alert,"infoStandardBg",Zt(b.info.light,.9)),z(b.Alert,"successStandardBg",Zt(b.success.light,.9)),z(b.Alert,"warningStandardBg",Zt(b.warning.light,.9)),z(b.Alert,"errorIconColor",M("palette-error-main")),z(b.Alert,"infoIconColor",M("palette-info-main")),z(b.Alert,"successIconColor",M("palette-success-main")),z(b.Alert,"warningIconColor",M("palette-warning-main")),z(b.AppBar,"defaultBg",M("palette-grey-900")),z(b.AppBar,"darkBg",M("palette-background-paper")),z(b.AppBar,"darkColor",M("palette-text-primary")),z(b.Avatar,"defaultBg",M("palette-grey-600")),z(b.Button,"inheritContainedBg",M("palette-grey-800")),z(b.Button,"inheritContainedHoverBg",M("palette-grey-700")),z(b.Chip,"defaultBorder",M("palette-grey-700")),z(b.Chip,"defaultAvatarColor",M("palette-grey-300")),z(b.Chip,"defaultIconColor",M("palette-grey-300")),z(b.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),z(b.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),z(b.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),z(b.LinearProgress,"primaryBg",Zt(b.primary.main,.5)),z(b.LinearProgress,"secondaryBg",Zt(b.secondary.main,.5)),z(b.LinearProgress,"errorBg",Zt(b.error.main,.5)),z(b.LinearProgress,"infoBg",Zt(b.info.main,.5)),z(b.LinearProgress,"successBg",Zt(b.success.main,.5)),z(b.LinearProgress,"warningBg",Zt(b.warning.main,.5)),z(b.Skeleton,"bg",`rgba(${M("palette-text-primaryChannel")} / 0.13)`),z(b.Slider,"primaryTrack",Zt(b.primary.main,.5)),z(b.Slider,"secondaryTrack",Zt(b.secondary.main,.5)),z(b.Slider,"errorTrack",Zt(b.error.main,.5)),z(b.Slider,"infoTrack",Zt(b.info.main,.5)),z(b.Slider,"successTrack",Zt(b.success.main,.5)),z(b.Slider,"warningTrack",Zt(b.warning.main,.5));const D=hd(b.background.default,.98);z(b.SnackbarContent,"bg",D),z(b.SnackbarContent,"color",Ao(()=>b.getContrastText(D))),z(b.SpeedDialAction,"fabHoverBg",hd(b.background.paper,.15)),z(b.StepConnector,"border",M("palette-grey-600")),z(b.StepContent,"border",M("palette-grey-600")),z(b.Switch,"defaultColor",M("palette-grey-300")),z(b.Switch,"defaultDisabledColor",M("palette-grey-600")),z(b.Switch,"primaryDisabledColor",Zt(b.primary.main,.55)),z(b.Switch,"secondaryDisabledColor",Zt(b.secondary.main,.55)),z(b.Switch,"errorDisabledColor",Zt(b.error.main,.55)),z(b.Switch,"infoDisabledColor",Zt(b.info.main,.55)),z(b.Switch,"successDisabledColor",Zt(b.success.main,.55)),z(b.Switch,"warningDisabledColor",Zt(b.warning.main,.55)),z(b.TableCell,"border",Zt(dd(b.divider,1),.68)),z(b.Tooltip,"bg",dd(b.grey[700],.92))}di(b.background,"default"),di(b.background,"paper"),di(b.common,"background"),di(b.common,"onBackground"),di(b,"divider"),Object.keys(b).forEach(D=>{const X=b[D];D!=="tonalOffset"&&X&&typeof X=="object"&&(X.main&&z(b[D],"mainChannel",Bc(jc(X.main))),X.light&&z(b[D],"lightChannel",Bc(jc(X.light))),X.dark&&z(b[D],"darkChannel",Bc(jc(X.dark))),X.contrastText&&z(b[D],"contrastTextChannel",Bc(jc(X.contrastText))),D==="text"&&(di(b[D],"primary"),di(b[D],"secondary")),D==="action"&&(X.active&&di(b[D],"active"),X.selected&&di(b[D],"selected")))})}),R=e.reduce((K,b)=>vr(K,b),R);const j={prefix:s,disableCssColorScheme:o,shouldSkipGeneratingVar:u,getSelector:Wnt(R)},{vars:B,generateThemeVars:k,generateStyleSheets:U}=gnt(R,j);return R.vars=B,Object.entries(R.colorSchemes[R.defaultColorScheme]).forEach(([K,b])=>{R[K]=b}),R.generateThemeVars=k,R.generateStyleSheets=U,R.generateSpacing=function(){return cM(d.spacing,Qb(this))},R.getColorSchemeSelector=mnt(c),R.spacing=R.generateSpacing(),R.shouldSkipGeneratingVar=u,R.unstable_sxConfig={...sf,...d==null?void 0:d.unstable_sxConfig},R.unstable_sx=function(b){return Qs({sx:b,theme:this})},R.toRuntimeSource=bM,R}function XC(t,e,n){t.colorSchemes&&n&&(t.colorSchemes[e]={...n!==!0&&n,palette:iS({...n===!0?{}:n.palette,mode:e})})}function EM(t={},...e){const{palette:n,cssVariables:r=!1,colorSchemes:o=n?void 0:{light:!0},defaultColorScheme:s=n==null?void 0:n.mode,...u}=t,c=s||"light",f=o==null?void 0:o[c],d={...o,...n?{[c]:{...typeof f!="boolean"&&f,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in t))return Jv(t,...e);let h=n;"palette"in t||d[c]&&(d[c]!==!0?h=d[c].palette:c==="dark"&&(h={mode:"dark"}));const g=Jv({...t,palette:h},...e);return g.defaultColorScheme=c,g.colorSchemes=d,g.palette.mode==="light"&&(g.colorSchemes.light={...d.light!==!0&&d.light,palette:g.palette},XC(g,"dark",d.dark)),g.palette.mode==="dark"&&(g.colorSchemes.dark={...d.dark!==!0&&d.dark,palette:g.palette},XC(g,"light",d.light)),g}return!n&&!("light"in d)&&c==="light"&&(d.light=!0),Hnt({...u,colorSchemes:d,defaultColorScheme:c,...typeof r!="boolean"&&r},...e)}const Gnt=EM();function Jnt(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const xM=t=>Jnt(t)&&t!=="classes",Vn=qet({themeId:jP,defaultTheme:Gnt,rootShouldForwardProp:xM});function Ynt(){return lM}const Zs=fnt;function da(t){return lnt(t)}function Xnt(t){return fa("MuiSvgIcon",t)}hs("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Qnt=t=>{const{color:e,fontSize:n,classes:r}=t,o={root:["root",e!=="inherit"&&`color${qt(e)}`,`fontSize${qt(n)}`]};return Xu(o,Xnt,r)},Znt=Vn("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${qt(n.color)}`],e[`fontSize${qt(n.fontSize)}`]]}})(Zs(({theme:t})=>{var e,n,r,o,s,u,c,f,d,h,g,y,v,S;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(o=(e=t.transitions)==null?void 0:e.create)==null?void 0:o.call(e,"fill",{duration:(r=(n=(t.vars??t).transitions)==null?void 0:n.duration)==null?void 0:r.shorter}),variants:[{props:x=>!x.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((u=(s=t.typography)==null?void 0:s.pxToRem)==null?void 0:u.call(s,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((f=(c=t.typography)==null?void 0:c.pxToRem)==null?void 0:f.call(c,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((h=(d=t.typography)==null?void 0:d.pxToRem)==null?void 0:h.call(d,35))||"2.1875rem"}},...Object.entries((t.vars??t).palette).filter(([,x])=>x&&x.main).map(([x])=>{var T,O;return{props:{color:x},style:{color:(O=(T=(t.vars??t).palette)==null?void 0:T[x])==null?void 0:O.main}}}),{props:{color:"action"},style:{color:(y=(g=(t.vars??t).palette)==null?void 0:g.action)==null?void 0:y.active}},{props:{color:"disabled"},style:{color:(S=(v=(t.vars??t).palette)==null?void 0:v.action)==null?void 0:S.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),Yv=G.forwardRef(function(e,n){const r=da({props:e,name:"MuiSvgIcon"}),{children:o,className:s,color:u="inherit",component:c="svg",fontSize:f="medium",htmlColor:d,inheritViewBox:h=!1,titleAccess:g,viewBox:y="0 0 24 24",...v}=r,S=G.isValidElement(o)&&o.type==="svg",x={...r,color:u,component:c,fontSize:f,instanceFontSize:e.fontSize,inheritViewBox:h,viewBox:y,hasSvgAsChild:S},T={};h||(T.viewBox=y);const O=Qnt(x);return J.jsxs(Znt,{as:c,className:hn(O.root,s),focusable:"false",color:d,"aria-hidden":g?void 0:!0,role:g?"img":void 0,ref:n,...T,...v,...S&&o.props,ownerState:x,children:[S?o.props.children:o,g?J.jsx("title",{children:g}):null]})});Yv.muiName="SvgIcon";function sS(t,e){function n(r,o){return J.jsx(Yv,{"data-testid":`${e}Icon`,ref:o,...r,children:t})}return n.muiName=Yv.muiName,G.memo(G.forwardRef(n))}function trt(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Xv(t,e){return Xv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Xv(t,e)}function ert(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Xv(t,e)}var QC=oe.createContext(null);function nrt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aS(t,e){var n=function(s){return e&&G.isValidElement(s)?e(s):s},r=Object.create(null);return t&&G.Children.map(t,function(o){return o}).forEach(function(o){r[o.key]=n(o)}),r}function rrt(t,e){t=t||{},e=e||{};function n(h){return h in e?e[h]:t[h]}var r=Object.create(null),o=[];for(var s in t)s in e?o.length&&(r[s]=o,o=[]):o.push(s);var u,c={};for(var f in e){if(r[f])for(u=0;u<r[f].length;u++){var d=r[f][u];c[r[f][u]]=n(d)}c[f]=n(f)}for(u=0;u<o.length;u++)c[o[u]]=n(o[u]);return c}function Ns(t,e,n){return n[e]!=null?n[e]:t.props[e]}function ort(t,e){return aS(t.children,function(n){return G.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:Ns(n,"appear",t),enter:Ns(n,"enter",t),exit:Ns(n,"exit",t)})})}function irt(t,e,n){var r=aS(t.children),o=rrt(e,r);return Object.keys(o).forEach(function(s){var u=o[s];if(G.isValidElement(u)){var c=s in e,f=s in r,d=e[s],h=G.isValidElement(d)&&!d.props.in;f&&(!c||h)?o[s]=G.cloneElement(u,{onExited:n.bind(null,u),in:!0,exit:Ns(u,"exit",t),enter:Ns(u,"enter",t)}):!f&&c&&!h?o[s]=G.cloneElement(u,{in:!1}):f&&c&&G.isValidElement(d)&&(o[s]=G.cloneElement(u,{onExited:n.bind(null,u),in:d.props.in,exit:Ns(u,"exit",t),enter:Ns(u,"enter",t)}))}}),o}var srt=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},art={component:"div",childFactory:function(e){return e}},uS=function(t){ert(e,t);function e(r,o){var s;s=t.call(this,r,o)||this;var u=s.handleExited.bind(nrt(s));return s.state={contextValue:{isMounting:!0},handleExited:u,firstRender:!0},s}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(o,s){var u=s.children,c=s.handleExited,f=s.firstRender;return{children:f?ort(o,c):irt(o,u,c),firstRender:!1}},n.handleExited=function(o,s){var u=aS(this.props.children);o.key in u||(o.props.onExited&&o.props.onExited(s),this.mounted&&this.setState(function(c){var f=kh({},c.children);return delete f[o.key],{children:f}}))},n.render=function(){var o=this.props,s=o.component,u=o.childFactory,c=trt(o,["component","childFactory"]),f=this.state.contextValue,d=srt(this.state.children).map(u);return delete c.appear,delete c.enter,delete c.exit,s===null?oe.createElement(QC.Provider,{value:f},d):oe.createElement(QC.Provider,{value:f},oe.createElement(s,c,d))},e}(oe.Component);uS.propTypes={};uS.defaultProps=art;class Ph{constructor(){_(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new Ph}static use(){const e=yM(Ph.create).current,[n,r]=G.useState(!1);return e.shouldMount=n,e.setShouldMount=r,G.useEffect(e.mountEffect,[n]),e}mount(){return this.mounted||(this.mounted=crt(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.start(...e)})}stop(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.stop(...e)})}pulsate(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.pulsate(...e)})}}function urt(){return Ph.use()}function crt(){let t,e;const n=new Promise((r,o)=>{t=r,e=o});return n.resolve=t,n.reject=e,n}function lrt(t){const{className:e,classes:n,pulsate:r=!1,rippleX:o,rippleY:s,rippleSize:u,in:c,onExited:f,timeout:d}=t,[h,g]=G.useState(!1),y=hn(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),v={width:u,height:u,top:-(u/2)+s,left:-(u/2)+o},S=hn(n.child,h&&n.childLeaving,r&&n.childPulsate);return!c&&!h&&g(!0),G.useEffect(()=>{if(!c&&f!=null){const x=setTimeout(f,d);return()=>{clearTimeout(x)}}},[f,c,d]),J.jsx("span",{className:y,style:v,children:J.jsx("span",{className:S})})}const zr=hs("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Qv=550,frt=80,drt=nf`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,hrt=nf`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,prt=nf`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,grt=Vn("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),mrt=Vn(lrt,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${zr.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${drt};
    animation-duration: ${Qv}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  &.${zr.ripplePulsate} {
    animation-duration: ${({theme:t})=>t.transitions.duration.shorter}ms;
  }

  & .${zr.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${zr.childLeaving} {
    opacity: 0;
    animation-name: ${hrt};
    animation-duration: ${Qv}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  & .${zr.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${prt};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,yrt=G.forwardRef(function(e,n){const r=da({props:e,name:"MuiTouchRipple"}),{center:o=!1,classes:s={},className:u,...c}=r,[f,d]=G.useState([]),h=G.useRef(0),g=G.useRef(null);G.useEffect(()=>{g.current&&(g.current(),g.current=null)},[f]);const y=G.useRef(!1),v=ant(),S=G.useRef(null),x=G.useRef(null),T=G.useCallback(R=>{const{pulsate:j,rippleX:B,rippleY:k,rippleSize:U,cb:K}=R;d(b=>[...b,J.jsx(mrt,{classes:{ripple:hn(s.ripple,zr.ripple),rippleVisible:hn(s.rippleVisible,zr.rippleVisible),ripplePulsate:hn(s.ripplePulsate,zr.ripplePulsate),child:hn(s.child,zr.child),childLeaving:hn(s.childLeaving,zr.childLeaving),childPulsate:hn(s.childPulsate,zr.childPulsate)},timeout:Qv,pulsate:j,rippleX:B,rippleY:k,rippleSize:U},h.current)]),h.current+=1,g.current=K},[s]),O=G.useCallback((R={},j={},B=()=>{})=>{const{pulsate:k=!1,center:U=o||j.pulsate,fakeElement:K=!1}=j;if((R==null?void 0:R.type)==="mousedown"&&y.current){y.current=!1;return}(R==null?void 0:R.type)==="touchstart"&&(y.current=!0);const b=K?null:x.current,M=b?b.getBoundingClientRect():{width:0,height:0,left:0,top:0};let D,X,nt;if(U||R===void 0||R.clientX===0&&R.clientY===0||!R.clientX&&!R.touches)D=Math.round(M.width/2),X=Math.round(M.height/2);else{const{clientX:mt,clientY:gt}=R.touches&&R.touches.length>0?R.touches[0]:R;D=Math.round(mt-M.left),X=Math.round(gt-M.top)}if(U)nt=Math.sqrt((2*M.width**2+M.height**2)/3),nt%2===0&&(nt+=1);else{const mt=Math.max(Math.abs((b?b.clientWidth:0)-D),D)*2+2,gt=Math.max(Math.abs((b?b.clientHeight:0)-X),X)*2+2;nt=Math.sqrt(mt**2+gt**2)}R!=null&&R.touches?S.current===null&&(S.current=()=>{T({pulsate:k,rippleX:D,rippleY:X,rippleSize:nt,cb:B})},v.start(frt,()=>{S.current&&(S.current(),S.current=null)})):T({pulsate:k,rippleX:D,rippleY:X,rippleSize:nt,cb:B})},[o,T,v]),N=G.useCallback(()=>{O({},{pulsate:!0})},[O]),P=G.useCallback((R,j)=>{if(v.clear(),(R==null?void 0:R.type)==="touchend"&&S.current){S.current(),S.current=null,v.start(0,()=>{P(R,j)});return}S.current=null,d(B=>B.length>0?B.slice(1):B),g.current=j},[v]);return G.useImperativeHandle(n,()=>({pulsate:N,start:O,stop:P}),[N,O,P]),J.jsx(grt,{className:hn(zr.root,s.root,u),ref:x,...c,children:J.jsx(uS,{component:null,exit:!0,children:f})})});function vrt(t){return fa("MuiButtonBase",t)}const _rt=hs("MuiButtonBase",["root","disabled","focusVisible"]),brt=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:o}=t,u=Xu({root:["root",e&&"disabled",n&&"focusVisible"]},vrt,o);return n&&r&&(u.root+=` ${r}`),u},Srt=Vn("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${_rt.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),CM=G.forwardRef(function(e,n){const r=da({props:e,name:"MuiButtonBase"}),{action:o,centerRipple:s=!1,children:u,className:c,component:f="button",disabled:d=!1,disableRipple:h=!1,disableTouchRipple:g=!1,focusRipple:y=!1,focusVisibleClassName:v,LinkComponent:S="a",onBlur:x,onClick:T,onContextMenu:O,onDragLeave:N,onFocus:P,onFocusVisible:R,onKeyDown:j,onKeyUp:B,onMouseDown:k,onMouseLeave:U,onMouseUp:K,onTouchEnd:b,onTouchMove:M,onTouchStart:D,tabIndex:X=0,TouchRippleProps:nt,touchRippleRef:mt,type:gt,...ot}=r,at=G.useRef(null),Nt=urt(),rn=UC(Nt.ref,mt),[se,$i]=G.useState(!1);d&&se&&$i(!1),G.useImperativeHandle(o,()=>({focusVisible:()=>{$i(!0),at.current.focus()}}),[]);const Qu=Nt.shouldMount&&!h&&!d;G.useEffect(()=>{se&&y&&!h&&Nt.pulsate()},[h,y,se,Nt]);const Zu=hi(Nt,"start",k,g),wo=hi(Nt,"stop",O,g),Pi=hi(Nt,"stop",N,g),ps=hi(Nt,"stop",K,g),Zo=hi(Nt,"stop",Q=>{se&&Q.preventDefault(),U&&U(Q)},g),Hn=hi(Nt,"start",D,g),tc=hi(Nt,"stop",b,g),Mi=hi(Nt,"stop",M,g),Ni=hi(Nt,"stop",Q=>{WC(Q.target)||$i(!1),x&&x(Q)},!1),ha=Dd(Q=>{at.current||(at.current=Q.currentTarget),WC(Q.target)&&($i(!0),R&&R(Q)),P&&P(Q)}),on=()=>{const Q=at.current;return f&&f!=="button"&&!(Q.tagName==="A"&&Q.href)},ti=Dd(Q=>{y&&!Q.repeat&&se&&Q.key===" "&&Nt.stop(Q,()=>{Nt.start(Q)}),Q.target===Q.currentTarget&&on()&&Q.key===" "&&Q.preventDefault(),j&&j(Q),Q.target===Q.currentTarget&&on()&&Q.key==="Enter"&&!d&&(Q.preventDefault(),T&&T(Q))}),ec=Dd(Q=>{y&&Q.key===" "&&se&&!Q.defaultPrevented&&Nt.stop(Q,()=>{Nt.pulsate(Q)}),B&&B(Q),T&&Q.target===Q.currentTarget&&on()&&Q.key===" "&&!Q.defaultPrevented&&T(Q)});let vn=f;vn==="button"&&(ot.href||ot.to)&&(vn=S);const Eo={};vn==="button"?(Eo.type=gt===void 0?"button":gt,Eo.disabled=d):(!ot.href&&!ot.to&&(Eo.role="button"),d&&(Eo["aria-disabled"]=d));const nc=UC(n,at),xo={...r,centerRipple:s,component:f,disabled:d,disableRipple:h,disableTouchRipple:g,focusRipple:y,tabIndex:X,focusVisible:se},Ln=brt(xo);return J.jsxs(Srt,{as:vn,className:hn(Ln.root,c),ownerState:xo,onBlur:Ni,onClick:T,onContextMenu:wo,onFocus:ha,onKeyDown:ti,onKeyUp:ec,onMouseDown:Zu,onMouseLeave:Zo,onMouseUp:ps,onDragLeave:Pi,onTouchEnd:tc,onTouchMove:Mi,onTouchStart:Hn,ref:nc,tabIndex:d?-1:X,type:gt,...Eo,...ot,children:[u,Qu?J.jsx(yrt,{ref:rn,center:s,...nt}):null]})});function hi(t,e,n,r=!1){return Dd(o=>(n&&n(o),r||t[e](o),!0))}function wrt(t){return typeof t.main=="string"}function Ert(t,e=[]){if(!wrt(t))return!1;for(const n of e)if(!t.hasOwnProperty(n)||typeof t[n]!="string")return!1;return!0}function bl(t=[]){return([,e])=>e&&Ert(e,t)}function xrt(t){return fa("MuiCircularProgress",t)}hs("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Hi=44,Zv=nf`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,t0=nf`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,Crt=typeof Zv!="string"?Hb`
        animation: ${Zv} 1.4s linear infinite;
      `:null,Trt=typeof t0!="string"?Hb`
        animation: ${t0} 1.4s ease-in-out infinite;
      `:null,Ort=t=>{const{classes:e,variant:n,color:r,disableShrink:o}=t,s={root:["root",n,`color${qt(r)}`],svg:["svg"],circle:["circle",`circle${qt(n)}`,o&&"circleDisableShrink"]};return Xu(s,xrt,e)},Art=Vn("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`color${qt(n.color)}`]]}})(Zs(({theme:t})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("transform")}},{props:{variant:"indeterminate"},style:Crt||{animation:`${Zv} 1.4s linear infinite`}},...Object.entries(t.palette).filter(bl()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}}))]}))),krt=Vn("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(t,e)=>e.svg})({display:"block"}),Irt=Vn("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.circle,e[`circle${qt(n.variant)}`],n.disableShrink&&e.circleDisableShrink]}})(Zs(({theme:t})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink,style:Trt||{animation:`${t0} 1.4s ease-in-out infinite`}}]}))),TM=G.forwardRef(function(e,n){const r=da({props:e,name:"MuiCircularProgress"}),{className:o,color:s="primary",disableShrink:u=!1,size:c=40,style:f,thickness:d=3.6,value:h=0,variant:g="indeterminate",...y}=r,v={...r,color:s,disableShrink:u,size:c,thickness:d,value:h,variant:g},S=Ort(v),x={},T={},O={};if(g==="determinate"){const N=2*Math.PI*((Hi-d)/2);x.strokeDasharray=N.toFixed(3),O["aria-valuenow"]=Math.round(h),x.strokeDashoffset=`${((100-h)/100*N).toFixed(3)}px`,T.transform="rotate(-90deg)"}return J.jsx(Art,{className:hn(S.root,o),style:{width:c,height:c,...T,...f},ownerState:v,ref:n,role:"progressbar",...O,...y,children:J.jsx(krt,{className:S.svg,ownerState:v,viewBox:`${Hi/2} ${Hi/2} ${Hi} ${Hi}`,children:J.jsx(Irt,{className:S.circle,style:x,ownerState:v,cx:Hi,cy:Hi,r:(Hi-d)/2,fill:"none",strokeWidth:d})})})});function Rrt(t){return fa("MuiIconButton",t)}const ZC=hs("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),$rt=t=>{const{classes:e,disabled:n,color:r,edge:o,size:s,loading:u}=t,c={root:["root",u&&"loading",n&&"disabled",r!=="default"&&`color${qt(r)}`,o&&`edge${qt(o)}`,`size${qt(s)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return Xu(c,Rrt,e)},Prt=Vn(CM,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.loading&&e.loading,n.color!=="default"&&e[`color${qt(n.color)}`],n.edge&&e[`edge${qt(n.edge)}`],e[`size${qt(n.size)}`]]}})(Zs(({theme:t})=>({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:Xi(t.palette.action.active,t.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),Zs(({theme:t})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(t.palette).filter(bl()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}})),...Object.entries(t.palette).filter(bl()).map(([e])=>({props:{color:e},style:{"--IconButton-hoverBg":t.vars?`rgba(${(t.vars||t).palette[e].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Xi((t.vars||t).palette[e].main,t.palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:t.typography.pxToRem(28)}}],[`&.${ZC.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled},[`&.${ZC.loading}`]:{color:"transparent"}}))),Mrt=Vn("span",{name:"MuiIconButton",slot:"LoadingIndicator",overridesResolver:(t,e)=>e.loadingIndicator})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(t.vars||t).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),cS=G.forwardRef(function(e,n){const r=da({props:e,name:"MuiIconButton"}),{edge:o=!1,children:s,className:u,color:c="default",disabled:f=!1,disableFocusRipple:d=!1,size:h="medium",id:g,loading:y=null,loadingIndicator:v,...S}=r,x=mM(g),T=v??J.jsx(TM,{"aria-labelledby":x,color:"inherit",size:16}),O={...r,edge:o,color:c,disabled:f,disableFocusRipple:d,loading:y,loadingIndicator:T,size:h},N=$rt(O);return J.jsxs(Prt,{id:y?x:g,className:hn(N.root,u),centerRipple:!0,focusRipple:!d,disabled:f||y,ref:n,...S,ownerState:O,children:[typeof y=="boolean"&&J.jsx("span",{className:N.loadingWrapper,style:{display:"contents"},children:J.jsx(Mrt,{className:N.loadingIndicator,ownerState:O,children:y&&T})}),s]})});function Nrt(t){return fa("MuiTypography",t)}hs("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const Lrt={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},Frt=Ynt(),Brt=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:o,variant:s,classes:u}=t,c={root:["root",s,t.align!=="inherit"&&`align${qt(e)}`,n&&"gutterBottom",r&&"noWrap",o&&"paragraph"]};return Xu(c,Nrt,u)},jrt=Vn("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${qt(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(Zs(({theme:t})=>{var e;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(t.typography).filter(([n,r])=>n!=="inherit"&&r&&typeof r=="object").map(([n,r])=>({props:{variant:n},style:r})),...Object.entries(t.palette).filter(bl()).map(([n])=>({props:{color:n},style:{color:(t.vars||t).palette[n].main}})),...Object.entries(((e=t.palette)==null?void 0:e.text)||{}).filter(([,n])=>typeof n=="string").map(([n])=>({props:{color:`text${qt(n)}`},style:{color:(t.vars||t).palette.text[n]}})),{props:({ownerState:n})=>n.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:n})=>n.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:n})=>n.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:n})=>n.paragraph,style:{marginBottom:16}}]}})),tT={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Ri=G.forwardRef(function(e,n){const{color:r,...o}=da({props:e,name:"MuiTypography"}),s=!Lrt[r],u=Frt({...o,...s&&{color:r}}),{align:c="inherit",className:f,component:d,gutterBottom:h=!1,noWrap:g=!1,paragraph:y=!1,variant:v="body1",variantMapping:S=tT,...x}=u,T={...u,align:c,color:r,className:f,component:d,gutterBottom:h,noWrap:g,paragraph:y,variant:v,variantMapping:S},O=d||(y?"p":S[v]||tT[v])||"span",N=Brt(T);return J.jsx(jrt,{as:O,ref:n,className:hn(N.root,f),...x,ownerState:T,style:{...c!=="inherit"&&{"--Typography-textAlign":c},...x.style}})}),Drt=hs("MuiBox",["root"]),Urt=EM(),Jr=Det({themeId:jP,defaultTheme:Urt,defaultClassName:Drt.root,generateClassName:fM.generate});function zrt(t){return fa("MuiButton",t)}const Ts=hs("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),Wrt=G.createContext({}),Krt=G.createContext(void 0),qrt=t=>{const{color:e,disableElevation:n,fullWidth:r,size:o,variant:s,loading:u,loadingPosition:c,classes:f}=t,d={root:["root",u&&"loading",s,`${s}${qt(e)}`,`size${qt(o)}`,`${s}Size${qt(o)}`,`color${qt(e)}`,n&&"disableElevation",r&&"fullWidth",u&&`loadingPosition${qt(c)}`],startIcon:["icon","startIcon",`iconSize${qt(o)}`],endIcon:["icon","endIcon",`iconSize${qt(o)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},h=Xu(d,zrt,f);return{...f,...h}},OM=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],Vrt=Vn(CM,{shouldForwardProp:t=>xM(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${qt(n.color)}`],e[`size${qt(n.size)}`],e[`${n.variant}Size${qt(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth,n.loading&&e.loading]}})(Zs(({theme:t})=>{const e=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],n=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return{...t.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${Ts.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(t.vars||t).shadows[2],"&:hover":{boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2]}},"&:active":{boxShadow:(t.vars||t).shadows[8]},[`&.${Ts.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]},[`&.${Ts.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${Ts.disabled}`]:{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(t.palette).filter(bl()).map(([r])=>({props:{color:r},style:{"--variant-textColor":(t.vars||t).palette[r].main,"--variant-outlinedColor":(t.vars||t).palette[r].main,"--variant-outlinedBorder":t.vars?`rgba(${t.vars.palette[r].mainChannel} / 0.5)`:Xi(t.palette[r].main,.5),"--variant-containedColor":(t.vars||t).palette[r].contrastText,"--variant-containedBg":(t.vars||t).palette[r].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(t.vars||t).palette[r].dark,"--variant-textBg":t.vars?`rgba(${t.vars.palette[r].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Xi(t.palette[r].main,t.palette.action.hoverOpacity),"--variant-outlinedBorder":(t.vars||t).palette[r].main,"--variant-outlinedBg":t.vars?`rgba(${t.vars.palette[r].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Xi(t.palette[r].main,t.palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedBg:e,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedHoverBg:n,"--variant-textBg":t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:Xi(t.palette.text.primary,t.palette.action.hoverOpacity),"--variant-outlinedBg":t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:Xi(t.palette.text.primary,t.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:t.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Ts.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Ts.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),[`&.${Ts.loading}`]:{color:"transparent"}}}]}})),Hrt=Vn("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,n.loading&&e.startIconLoadingStart,e[`iconSize${qt(n.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...OM]})),Grt=Vn("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,n.loading&&e.endIconLoadingEnd,e[`iconSize${qt(n.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...OM]})),Jrt=Vn("span",{name:"MuiButton",slot:"LoadingIndicator",overridesResolver:(t,e)=>e.loadingIndicator})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(t.vars||t).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),eT=Vn("span",{name:"MuiButton",slot:"LoadingIconPlaceholder",overridesResolver:(t,e)=>e.loadingIconPlaceholder})({display:"inline-block",width:"1em",height:"1em"}),Yrt=G.forwardRef(function(e,n){const r=G.useContext(Wrt),o=G.useContext(Krt),s=$h(r,e),u=da({props:s,name:"MuiButton"}),{children:c,color:f="primary",component:d="button",className:h,disabled:g=!1,disableElevation:y=!1,disableFocusRipple:v=!1,endIcon:S,focusVisibleClassName:x,fullWidth:T=!1,id:O,loading:N=null,loadingIndicator:P,loadingPosition:R="center",size:j="medium",startIcon:B,type:k,variant:U="text",...K}=u,b=mM(O),M=P??J.jsx(TM,{"aria-labelledby":b,color:"inherit",size:16}),D={...u,color:f,component:d,disabled:g,disableElevation:y,disableFocusRipple:v,fullWidth:T,loading:N,loadingIndicator:M,loadingPosition:R,size:j,type:k,variant:U},X=qrt(D),nt=(B||N&&R==="start")&&J.jsx(Hrt,{className:X.startIcon,ownerState:D,children:B||J.jsx(eT,{className:X.loadingIconPlaceholder,ownerState:D})}),mt=(S||N&&R==="end")&&J.jsx(Grt,{className:X.endIcon,ownerState:D,children:S||J.jsx(eT,{className:X.loadingIconPlaceholder,ownerState:D})}),gt=o||"",ot=typeof N=="boolean"?J.jsx("span",{className:X.loadingWrapper,style:{display:"contents"},children:N&&J.jsx(Jrt,{className:X.loadingIndicator,ownerState:D,children:M})}):null;return J.jsxs(Vrt,{ownerState:D,className:hn(r.className,X.root,h,gt),component:d,disabled:g||N,focusRipple:!v,focusVisibleClassName:hn(X.focusVisible,x),ref:n,type:k,id:N?b:O,...K,classes:X,children:[nt,R!=="end"&&ot,c,R==="end"&&ot,mt]})}),So=({children:t})=>J.jsx(Jr,{sx:{height:100,width:"100%",display:"flex"},children:t}),Xrt=st({label:kn(re),border:kn(st({sizePx:kn(je),color:kn(re)})),visible:kn(wp)}),Qrt=()=>({}),Zrt=t=>({widget:_e.intersect(t.widget,Xrt,Qrt),Component:t.Component}),to={of:Zrt};var tot=sS(J.jsx("path",{d:"M8 5v14l11-7z"}),"PlayArrow");const eot=({onPlay:t})=>J.jsx(Jr,{sx:{borderRadius:"5px",backgroundColor:"success.main"},children:J.jsx(cS,{sx:{width:100,height:100},"aria-label":"play",onClick:t,children:J.jsx(tot,{sx:{fontSize:80}})})});var not=sS(J.jsx("path",{d:"M6 6h12v12H6z"}),"Stop");const rot=({onStop:t})=>J.jsx(Jr,{sx:{borderRadius:"5px",backgroundColor:"error.main"},children:J.jsx(cS,{sx:{width:100,height:100},"aria-label":"play",onClick:t,children:J.jsx(not,{sx:{fontSize:80}})})}),oot=to.of({widget:$P,Component:(t,e,n)=>J.jsx(So,{children:n.color===t.playColor?J.jsx(eot,{onPlay:()=>e(t.target)}):J.jsx(rot,{onStop:()=>e(t.target)})})}),iot=to.of({widget:PP,Component:(t,e,n)=>{var o,s,u;const r=((u=(s=(o=rt.head(n))==null?void 0:o.options)==null?void 0:s.timeSignature)==null?void 0:u.noteCount)||8;return J.jsx(So,{children:n.slice(0,r).map((c,f)=>J.jsx(Jr,{sx:{borderRadius:"5px",border:"1px solid black",width:100,backgroundColor:`#${c.color===tt.BLACK?"777777":tt.toHex(c.color)}`,display:"flex"},children:J.jsx(Ri,{sx:{width:"100%"},variant:"h1",lineHeight:1,align:"center",children:f+1})},f))})}}),sot=_e.one({name:"active-clip",schema:st({trackName:re}),init:()=>({trackName:"Track"}),tracks:t=>[t.trackName],component:({target:t,trackName:e})=>{const n=Ht.useTrack(e),r=Ht.useActiveClip(n);return J.jsx("pad",{target:t,color:r.type==="real"?r.color:tt.BLACK,options:{label:r.type==="real"?r.name:void 0}})}}),aot=to.of({widget:sot,Component:(t,e,n)=>{var r;return J.jsx(So,{children:J.jsx(Ri,{sx:{borderRadius:"5px",width:"100%",px:1,backgroundColor:`#${tt.toHex(n.color)}`},variant:"h1",lineHeight:1,align:"center",children:((r=n.options)==null?void 0:r.label)||""})})}}),e0=Rn("init",{widgets:Go(A_)}),Mh=Rn("pad",{target:qr.Schema,color:tt.Schema,options:kn(A_)});ki(e0,Mh);const nT=t=>{const e=r=>{const o=t[qr.toKey(r)];return o!==void 0&&o._tag==="pad"?o:Mh.make({target:r,color:0,options:{}})};return{one:e,many:r=>r.map(e)}},uot=t=>{const e=rt.fromPairs(rt.map(t,u=>[u.widget.name,u])),n=u=>e[u],r=(u,c,f)=>{const d=n(u._tag);return u.target!==void 0?d.Component(u,c,nT(f).one(u.target)):u.targets!==void 0?d.Component(u,c,nT(f).many(u.targets)):d.Component(u)},o=rt.map(t,u=>u.widget),s=ki(...o.map(u=>u.schema));return{widgets:t,controllerWidgets:o,getByName:n,Component:r,schema:s}},cot=_e.one({name:"tempo",schema:st({}),init:()=>({}),component:({target:t})=>{const e=Ht.useTempo();return J.jsx("pad",{color:tt.BLACK,target:t,options:{label:e}})}}),lot=to.of({widget:cot,Component:(t,e,n)=>{var r;return J.jsx(So,{children:J.jsx(Ri,{sx:{borderRadius:"5px",width:"100%",backgroundColor:`#${tt.toHex(n.color)}`},variant:"h1",lineHeight:1,align:"center",children:((r=n.options)==null?void 0:r.label)||"0"})})}}),fot=_e.one({name:"time-signature",schema:st({}),init:()=>({}),component:({target:t})=>{const e=Ht.useTimeSignature();return J.jsx("pad",{color:tt.BLACK,target:t,options:{label:`${e.noteCount}/${e.noteLength}`}})}}),dot=to.of({widget:fot,Component:(t,e,n)=>{var r;return J.jsx(So,{children:J.jsx(Ri,{sx:{borderRadius:"5px",width:"100%",backgroundColor:`#${tt.toHex(n.color)}`},variant:"h1",lineHeight:1,align:"center",children:((r=n.options)==null?void 0:r.label)||"4/4"})})}}),hot=_e.one({name:"beat",schema:st({}),init:()=>({}),component:({target:t})=>{const e=Ht.useBarBeats();return J.jsx("pad",{color:tt.BLACK,target:t,options:{label:`${e}`}})}}),pot=to.of({widget:hot,Component:(t,e,n)=>{var r;return J.jsx(So,{children:J.jsx(Ri,{sx:{borderRadius:"5px",width:"100%",backgroundColor:`#${tt.toHex(n.color)}`},variant:"h1",lineHeight:1,align:"center",children:((r=n.options)==null?void 0:r.label)||"0"})})}}),got=to.of({widget:MP,Component:(t,e,n)=>J.jsx(So,{children:n.map((r,o)=>{var s;return r.options!==void 0?J.jsx(Jr,{sx:{borderRadius:"5px",border:"1px solid black",backgroundColor:`#${tt.toHex(r.color)}`,display:"flex",width:100,cursor:"pointer",alignItems:"center",justifyContent:"center"},onClick:()=>e(r.target),children:J.jsx(Ri,{sx:{width:"100%",px:1},lineHeight:1,align:"center",children:((s=r.options)==null?void 0:s.label)||""})},o):null})})}),mot=t=>{var e;return((e=t.options)==null?void 0:e.isActive)||!1},yot=to.of({widget:NP,Component:(t,e,n)=>J.jsx(So,{children:n.map((r,o)=>{var s,u,c;return r.options!==void 0?J.jsxs(Jr,{sx:{position:"relative",borderRadius:"5px",border:"1px solid black",backgroundColor:`#${tt.toHex(r.color)}`,display:"flex",width:100,alignItems:"center",justifyContent:"center"},children:[mot(r)&&((s=r.options)==null?void 0:s.progress)!==void 0?J.jsx(Jr,{sx:{position:"absolute",top:0,left:(u=r.options)==null?void 0:u.progress,height:"100%",width:"5px",backgroundColor:"black"}}):null,J.jsx(Ri,{sx:{width:"100%",px:1},lineHeight:1,align:"center",children:((c=r.options)==null?void 0:c.label)||""})]},o):null})})}),vot=to.of({widget:_e.none({name:"spacer",schema:st({width:je,isLineBreaking:kn(wp)}),init:()=>({width:100}),component:({})=>J.jsx(J.Fragment,{})}),Component:t=>J.jsx(Jr,{sx:{width:`${t.width}px`}})}),_ot=to.of({widget:LP,Component:(t,e,n)=>{var r,o,s;return J.jsx(So,{children:J.jsx(Yrt,{sx:{height:100,width:100,backgroundColor:`#${tt.toHex(t.color)}`,textDecoration:"none"},onClick:()=>e(n.target),variant:"text",children:J.jsx(Ri,{sx:{fontWeight:"bold",color:`#${tt.toHex(((r=t.text)==null?void 0:r.color)||tt.BLACK)}`,fontSize:(o=t.text)==null?void 0:o.size},children:((s=t.text)==null?void 0:s.content)||""})})})}}),bot=Rn("midi-note-vary-velocity",{note:je,...sa.fields}),Sot=Rn("midi-note-vary-note",{velocity:je,...sa.fields}),wot=Rn("midi-cc-vary-data",{controllerNumber:je,...sa.fields}),Eot=ki(Sot,bot,wot),xot=_e.one({name:"knob",schema:st({color:tt.Schema,midi:Eot,text:kn(st({content:re,color:kn(tt.Schema),size:kn(re)}))}),init:()=>({color:tt.GREEN,midi:{_tag:"midi-note-vary-velocity",note:1,channel:1}}),component:({target:t,color:e,midi:n})=>(Ii.useDawEmitter(),J.jsx(wi,{color:e,target:t,onClick:()=>{console.log("idk what to do here yet")}}))});var Cot={};function Tot(t){if(Array.isArray(t))return t}function Oot(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,o,s,u,c=[],f=!0,d=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(f=(r=s.call(n)).done)&&(c.push(r.value),c.length!==e);f=!0);}catch(h){d=!0,o=h}finally{try{if(!f&&n.return!=null&&(u=n.return(),Object(u)!==u))return}finally{if(d)throw o}}return c}}function n0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function AM(t,e){if(t){if(typeof t=="string")return n0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return n0(t,e)}}function Aot(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ud(t,e){return Tot(t)||Oot(t,e)||AM(t,e)||Aot()}function pn(t){"@babel/helpers - typeof";return pn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pn(t)}function Nh(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(e){for(var r=[],o=0;o<e.length;o++){var s=e[o];if(s){var u=pn(s);if(u==="string"||u==="number")r.push(s);else if(u==="object"){var c=Array.isArray(s)?s:Object.entries(s).map(function(f){var d=Ud(f,2),h=d[0],g=d[1];return g?h:null});r=c.length?r.concat(c.filter(function(f){return!!f})):r}}}return r.join(" ").trim()}}function kot(t){if(Array.isArray(t))return n0(t)}function Iot(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Rot(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r0(t){return kot(t)||Iot(t)||AM(t)||Rot()}function kM(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $ot(t,e){if(pn(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pn(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function IM(t){var e=$ot(t,"string");return pn(e)==="symbol"?e:String(e)}function Pot(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,IM(r.key),r)}}function RM(t,e,n){return n&&Pot(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function lS(t,e,n){return e=IM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ky(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Mot(t))||e){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(d){throw d},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,u=!1,c;return{s:function(){n=n.call(t)},n:function(){var d=n.next();return s=d.done,d},e:function(d){u=!0,c=d},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(u)throw c}}}}function Mot(t,e){if(t){if(typeof t=="string")return rT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rT(t,e)}}function rT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Us=function(){function t(){kM(this,t)}return RM(t,null,[{key:"innerWidth",value:function(n){if(n){var r=n.offsetWidth,o=getComputedStyle(n);return r=r+(parseFloat(o.paddingLeft)+parseFloat(o.paddingRight)),r}return 0}},{key:"width",value:function(n){if(n){var r=n.offsetWidth,o=getComputedStyle(n);return r=r-(parseFloat(o.paddingLeft)+parseFloat(o.paddingRight)),r}return 0}},{key:"getBrowserLanguage",value:function(){return navigator.userLanguage||navigator.languages&&navigator.languages.length&&navigator.languages[0]||navigator.language||navigator.browserLanguage||navigator.systemLanguage||"en"}},{key:"getWindowScrollTop",value:function(){var n=document.documentElement;return(window.pageYOffset||n.scrollTop)-(n.clientTop||0)}},{key:"getWindowScrollLeft",value:function(){var n=document.documentElement;return(window.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}},{key:"getOuterWidth",value:function(n,r){if(n){var o=n.getBoundingClientRect().width||n.offsetWidth;if(r){var s=getComputedStyle(n);o=o+(parseFloat(s.marginLeft)+parseFloat(s.marginRight))}return o}return 0}},{key:"getOuterHeight",value:function(n,r){if(n){var o=n.getBoundingClientRect().height||n.offsetHeight;if(r){var s=getComputedStyle(n);o=o+(parseFloat(s.marginTop)+parseFloat(s.marginBottom))}return o}return 0}},{key:"getClientHeight",value:function(n,r){if(n){var o=n.clientHeight;if(r){var s=getComputedStyle(n);o=o+(parseFloat(s.marginTop)+parseFloat(s.marginBottom))}return o}return 0}},{key:"getClientWidth",value:function(n,r){if(n){var o=n.clientWidth;if(r){var s=getComputedStyle(n);o=o+(parseFloat(s.marginLeft)+parseFloat(s.marginRight))}return o}return 0}},{key:"getViewport",value:function(){var n=window,r=document,o=r.documentElement,s=r.getElementsByTagName("body")[0],u=n.innerWidth||o.clientWidth||s.clientWidth,c=n.innerHeight||o.clientHeight||s.clientHeight;return{width:u,height:c}}},{key:"getOffset",value:function(n){if(n){var r=n.getBoundingClientRect();return{top:r.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:r.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}return{top:"auto",left:"auto"}}},{key:"index",value:function(n){if(n)for(var r=n.parentNode.childNodes,o=0,s=0;s<r.length;s++){if(r[s]===n)return o;r[s].nodeType===1&&o++}return-1}},{key:"addMultipleClasses",value:function(n,r){if(n&&r)if(n.classList)for(var o=r.split(" "),s=0;s<o.length;s++)n.classList.add(o[s]);else for(var u=r.split(" "),c=0;c<u.length;c++)n.className=n.className+(" "+u[c])}},{key:"removeMultipleClasses",value:function(n,r){if(n&&r)if(n.classList)for(var o=r.split(" "),s=0;s<o.length;s++)n.classList.remove(o[s]);else for(var u=r.split(" "),c=0;c<u.length;c++)n.className=n.className.replace(new RegExp("(^|\\b)"+u[c].split(" ").join("|")+"(\\b|$)","gi")," ")}},{key:"addClass",value:function(n,r){n&&r&&(n.classList?n.classList.add(r):n.className=n.className+(" "+r))}},{key:"removeClass",value:function(n,r){n&&r&&(n.classList?n.classList.remove(r):n.className=n.className.replace(new RegExp("(^|\\b)"+r.split(" ").join("|")+"(\\b|$)","gi")," "))}},{key:"hasClass",value:function(n,r){return n?n.classList?n.classList.contains(r):new RegExp("(^| )"+r+"( |$)","gi").test(n.className):!1}},{key:"addStyles",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};n&&Object.entries(r).forEach(function(o){var s=Ud(o,2),u=s[0],c=s[1];return n.style[u]=c})}},{key:"find",value:function(n,r){return n?Array.from(n.querySelectorAll(r)):[]}},{key:"findSingle",value:function(n,r){return n?n.querySelector(r):null}},{key:"setAttributes",value:function(n){var r=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(n){var s=function(c,f){var d,h,g=n!=null&&(d=n.$attrs)!==null&&d!==void 0&&d[c]?[n==null||(h=n.$attrs)===null||h===void 0?void 0:h[c]]:[];return[f].flat().reduce(function(y,v){if(v!=null){var S=pn(v);if(S==="string"||S==="number")y.push(v);else if(S==="object"){var x=Array.isArray(v)?s(c,v):Object.entries(v).map(function(T){var O=Ud(T,2),N=O[0],P=O[1];return c==="style"&&(P||P===0)?"".concat(N.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),":").concat(P):P?N:void 0});y=x.length?y.concat(x.filter(function(T){return!!T})):y}}return y},g)};Object.entries(o).forEach(function(u){var c=Ud(u,2),f=c[0],d=c[1];if(d!=null){var h=f.match(/^on(.+)/);h?n.addEventListener(h[1].toLowerCase(),d):f==="p-bind"?r.setAttributes(n,d):(d=f==="class"?r0(new Set(s("class",d))).join(" ").trim():f==="style"?s("style",d).join(";").trim():d,(n.$attrs=n.$attrs||{})&&(n.$attrs[f]=d),n.setAttribute(f,d))}})}}},{key:"getAttribute",value:function(n,r){if(n){var o=n.getAttribute(r);return isNaN(o)?o==="true"||o==="false"?o==="true":o:+o}}},{key:"isAttributeEquals",value:function(n,r,o){return n?this.getAttribute(n,r)===o:!1}},{key:"isAttributeNotEquals",value:function(n,r,o){return!this.isAttributeEquals(n,r,o)}},{key:"getHeight",value:function(n){if(n){var r=n.offsetHeight,o=getComputedStyle(n);return r=r-(parseFloat(o.paddingTop)+parseFloat(o.paddingBottom)+parseFloat(o.borderTopWidth)+parseFloat(o.borderBottomWidth)),r}return 0}},{key:"getWidth",value:function(n){if(n){var r=n.offsetWidth,o=getComputedStyle(n);return r=r-(parseFloat(o.paddingLeft)+parseFloat(o.paddingRight)+parseFloat(o.borderLeftWidth)+parseFloat(o.borderRightWidth)),r}return 0}},{key:"alignOverlay",value:function(n,r,o){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;n&&r&&(o==="self"?this.relativePosition(n,r):(s&&(n.style.minWidth=t.getOuterWidth(r)+"px"),this.absolutePosition(n,r)))}},{key:"absolutePosition",value:function(n,r){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"left";if(n&&r){var s=n.offsetParent?{width:n.offsetWidth,height:n.offsetHeight}:this.getHiddenElementDimensions(n),u=s.height,c=s.width,f=r.offsetHeight,d=r.offsetWidth,h=r.getBoundingClientRect(),g=this.getWindowScrollTop(),y=this.getWindowScrollLeft(),v=this.getViewport(),S,x;h.top+f+u>v.height?(S=h.top+g-u,S<0&&(S=g),n.style.transformOrigin="bottom"):(S=f+h.top+g,n.style.transformOrigin="top");var T=h.left,O=o==="left"?0:c-d;T+d+c>v.width?x=Math.max(0,T+y+d-c):x=T-O+y,n.style.top=S+"px",n.style.left=x+"px"}}},{key:"relativePosition",value:function(n,r){if(n&&r){var o=n.offsetParent?{width:n.offsetWidth,height:n.offsetHeight}:this.getHiddenElementDimensions(n),s=r.offsetHeight,u=r.getBoundingClientRect(),c=this.getViewport(),f,d;u.top+s+o.height>c.height?(f=-1*o.height,u.top+f<0&&(f=-1*u.top),n.style.transformOrigin="bottom"):(f=s,n.style.transformOrigin="top"),o.width>c.width?d=u.left*-1:u.left+o.width>c.width?d=(u.left+o.width-c.width)*-1:d=0,n.style.top=f+"px",n.style.left=d+"px"}}},{key:"flipfitCollision",value:function(n,r){var o=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"left top",u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"left bottom",c=arguments.length>4?arguments[4]:void 0;if(n&&r){var f=r.getBoundingClientRect(),d=this.getViewport(),h=s.split(" "),g=u.split(" "),y=function(O,N){return N?+O.substring(O.search(/(\+|-)/g))||0:O.substring(0,O.search(/(\+|-)/g))||O},v={my:{x:y(h[0]),y:y(h[1]||h[0]),offsetX:y(h[0],!0),offsetY:y(h[1]||h[0],!0)},at:{x:y(g[0]),y:y(g[1]||g[0]),offsetX:y(g[0],!0),offsetY:y(g[1]||g[0],!0)}},S={left:function(){var O=v.my.offsetX+v.at.offsetX;return O+f.left+(v.my.x==="left"?0:-1*(v.my.x==="center"?o.getOuterWidth(n)/2:o.getOuterWidth(n)))},top:function(){var O=v.my.offsetY+v.at.offsetY;return O+f.top+(v.my.y==="top"?0:-1*(v.my.y==="center"?o.getOuterHeight(n)/2:o.getOuterHeight(n)))}},x={count:{x:0,y:0},left:function(){var O=S.left(),N=t.getWindowScrollLeft();n.style.left=O+N+"px",this.count.x===2?(n.style.left=N+"px",this.count.x=0):O<0&&(this.count.x++,v.my.x="left",v.at.x="right",v.my.offsetX*=-1,v.at.offsetX*=-1,this.right())},right:function(){var O=S.left()+t.getOuterWidth(r),N=t.getWindowScrollLeft();n.style.left=O+N+"px",this.count.x===2?(n.style.left=d.width-t.getOuterWidth(n)+N+"px",this.count.x=0):O+t.getOuterWidth(n)>d.width&&(this.count.x++,v.my.x="right",v.at.x="left",v.my.offsetX*=-1,v.at.offsetX*=-1,this.left())},top:function(){var O=S.top(),N=t.getWindowScrollTop();n.style.top=O+N+"px",this.count.y===2?(n.style.left=N+"px",this.count.y=0):O<0&&(this.count.y++,v.my.y="top",v.at.y="bottom",v.my.offsetY*=-1,v.at.offsetY*=-1,this.bottom())},bottom:function(){var O=S.top()+t.getOuterHeight(r),N=t.getWindowScrollTop();n.style.top=O+N+"px",this.count.y===2?(n.style.left=d.height-t.getOuterHeight(n)+N+"px",this.count.y=0):O+t.getOuterHeight(r)>d.height&&(this.count.y++,v.my.y="bottom",v.at.y="top",v.my.offsetY*=-1,v.at.offsetY*=-1,this.top())},center:function(O){if(O==="y"){var N=S.top()+t.getOuterHeight(r)/2;n.style.top=N+t.getWindowScrollTop()+"px",N<0?this.bottom():N+t.getOuterHeight(r)>d.height&&this.top()}else{var P=S.left()+t.getOuterWidth(r)/2;n.style.left=P+t.getWindowScrollLeft()+"px",P<0?this.left():P+t.getOuterWidth(n)>d.width&&this.right()}}};x[v.at.x]("x"),x[v.at.y]("y"),this.isFunction(c)&&c(v)}}},{key:"findCollisionPosition",value:function(n){if(n){var r=n==="top"||n==="bottom",o=n==="left"?"right":"left",s=n==="top"?"bottom":"top";return r?{axis:"y",my:"center ".concat(s),at:"center ".concat(n)}:{axis:"x",my:"".concat(o," center"),at:"".concat(n," center")}}}},{key:"getParents",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return n.parentNode===null?r:this.getParents(n.parentNode,r.concat([n.parentNode]))}},{key:"getScrollableParents",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,o=[];if(n){var s=this.getParents(n),u=/(auto|scroll)/,c=function(R){var j=R?getComputedStyle(R):null;return j&&(u.test(j.getPropertyValue("overflow"))||u.test(j.getPropertyValue("overflow-x"))||u.test(j.getPropertyValue("overflow-y")))},f=function(R){r&&o.push(R.nodeName==="BODY"||R.nodeName==="HTML"||R.nodeType===9?window:R)},d=ky(s),h;try{for(d.s();!(h=d.n()).done;){var g,y=h.value,v=y.nodeType===1&&((g=y.dataset)===null||g===void 0?void 0:g.scrollselectors);if(v){var S=v.split(","),x=ky(S),T;try{for(x.s();!(T=x.n()).done;){var O=T.value,N=this.findSingle(y,O);N&&c(N)&&f(N)}}catch(P){x.e(P)}finally{x.f()}}y.nodeType===1&&c(y)&&f(y)}}catch(P){d.e(P)}finally{d.f()}}return o.some(function(P){return P===document.body||P===window})||o.push(r?window:document.body),o}},{key:"getHiddenElementOuterHeight",value:function(n){if(n){n.style.visibility="hidden",n.style.display="block";var r=n.offsetHeight;return n.style.display="none",n.style.visibility="visible",r}return 0}},{key:"getHiddenElementOuterWidth",value:function(n){if(n){n.style.visibility="hidden",n.style.display="block";var r=n.offsetWidth;return n.style.display="none",n.style.visibility="visible",r}return 0}},{key:"getHiddenElementDimensions",value:function(n){var r={};return n&&(n.style.visibility="hidden",n.style.display="block",r.width=n.offsetWidth,r.height=n.offsetHeight,n.style.display="none",n.style.visibility="visible"),r}},{key:"fadeIn",value:function(n,r){if(n){n.style.opacity=0;var o=+new Date,s=0,u=function(){s=+n.style.opacity+(new Date().getTime()-o)/r,n.style.opacity=s,o=+new Date,+s<1&&(window.requestAnimationFrame&&requestAnimationFrame(u)||setTimeout(u,16))};u()}}},{key:"fadeOut",value:function(n,r){if(n)var o=1,s=50,u=s/r,c=setInterval(function(){o=o-u,o<=0&&(o=0,clearInterval(c)),n.style.opacity=o},s)}},{key:"getUserAgent",value:function(){return navigator.userAgent}},{key:"isIOS",value:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}},{key:"isAndroid",value:function(){return/(android)/i.test(navigator.userAgent)}},{key:"isChrome",value:function(){return/(chrome)/i.test(navigator.userAgent)}},{key:"isClient",value:function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}},{key:"isTouchDevice",value:function(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}},{key:"isFunction",value:function(n){return!!(n&&n.constructor&&n.call&&n.apply)}},{key:"appendChild",value:function(n,r){if(this.isElement(r))r.appendChild(n);else if(r.el&&r.el.nativeElement)r.el.nativeElement.appendChild(n);else throw new Error("Cannot append "+r+" to "+n)}},{key:"removeChild",value:function(n,r){if(this.isElement(r))r.removeChild(n);else if(r.el&&r.el.nativeElement)r.el.nativeElement.removeChild(n);else throw new Error("Cannot remove "+n+" from "+r)}},{key:"isElement",value:function(n){return(typeof HTMLElement>"u"?"undefined":pn(HTMLElement))==="object"?n instanceof HTMLElement:n&&pn(n)==="object"&&n!==null&&n.nodeType===1&&typeof n.nodeName=="string"}},{key:"scrollInView",value:function(n,r){var o=getComputedStyle(n).getPropertyValue("border-top-width"),s=o?parseFloat(o):0,u=getComputedStyle(n).getPropertyValue("padding-top"),c=u?parseFloat(u):0,f=n.getBoundingClientRect(),d=r.getBoundingClientRect(),h=d.top+document.body.scrollTop-(f.top+document.body.scrollTop)-s-c,g=n.scrollTop,y=n.clientHeight,v=this.getOuterHeight(r);h<0?n.scrollTop=g+h:h+v>y&&(n.scrollTop=g+h-y+v)}},{key:"clearSelection",value:function(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}},{key:"calculateScrollbarWidth",value:function(n){if(n){var r=getComputedStyle(n);return n.offsetWidth-n.clientWidth-parseFloat(r.borderLeftWidth)-parseFloat(r.borderRightWidth)}if(this.calculatedScrollbarWidth!=null)return this.calculatedScrollbarWidth;var o=document.createElement("div");o.className="p-scrollbar-measure",document.body.appendChild(o);var s=o.offsetWidth-o.clientWidth;return document.body.removeChild(o),this.calculatedScrollbarWidth=s,s}},{key:"calculateBodyScrollbarWidth",value:function(){return window.innerWidth-document.documentElement.offsetWidth}},{key:"getBrowser",value:function(){if(!this.browser){var n=this.resolveUserAgent();this.browser={},n.browser&&(this.browser[n.browser]=!0,this.browser.version=n.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}},{key:"resolveUserAgent",value:function(){var n=navigator.userAgent.toLowerCase(),r=/(chrome)[ ]([\w.]+)/.exec(n)||/(webkit)[ ]([\w.]+)/.exec(n)||/(opera)(?:.*version|)[ ]([\w.]+)/.exec(n)||/(msie) ([\w.]+)/.exec(n)||n.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(n)||[];return{browser:r[1]||"",version:r[2]||"0"}}},{key:"blockBodyScroll",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"p-overflow-hidden",r=!!document.body.style.getPropertyValue("--scrollbar-width");!r&&document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,n)}},{key:"unblockBodyScroll",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"p-overflow-hidden";document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,n)}},{key:"isVisible",value:function(n){return n&&(n.clientHeight!==0||n.getClientRects().length!==0||getComputedStyle(n).display!=="none")}},{key:"isExist",value:function(n){return!!(n!==null&&typeof n<"u"&&n.nodeName&&n.parentNode)}},{key:"getFocusableElements",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",o=t.find(n,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])'.concat(r,`,
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r,`,
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r,`,
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r,`,
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r,`,
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r,`,
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r)),s=[],u=ky(o),c;try{for(u.s();!(c=u.n()).done;){var f=c.value;getComputedStyle(f).display!=="none"&&getComputedStyle(f).visibility!=="hidden"&&s.push(f)}}catch(d){u.e(d)}finally{u.f()}return s}},{key:"getFirstFocusableElement",value:function(n,r){var o=t.getFocusableElements(n,r);return o.length>0?o[0]:null}},{key:"getLastFocusableElement",value:function(n,r){var o=t.getFocusableElements(n,r);return o.length>0?o[o.length-1]:null}},{key:"focus",value:function(n,r){var o=r===void 0?!0:!r;n&&document.activeElement!==n&&n.focus({preventScroll:o})}},{key:"focusFirstElement",value:function(n,r){if(n){var o=t.getFirstFocusableElement(n);return o&&t.focus(o,r),o}}},{key:"getCursorOffset",value:function(n,r,o,s){if(n){var u=getComputedStyle(n),c=document.createElement("div");c.style.position="absolute",c.style.top="0px",c.style.left="0px",c.style.visibility="hidden",c.style.pointerEvents="none",c.style.overflow=u.overflow,c.style.width=u.width,c.style.height=u.height,c.style.padding=u.padding,c.style.border=u.border,c.style.overflowWrap=u.overflowWrap,c.style.whiteSpace=u.whiteSpace,c.style.lineHeight=u.lineHeight,c.innerHTML=r.replace(/\r\n|\r|\n/g,"<br />");var f=document.createElement("span");f.textContent=s,c.appendChild(f);var d=document.createTextNode(o);c.appendChild(d),document.body.appendChild(c);var h=f.offsetLeft,g=f.offsetTop,y=f.clientHeight;return document.body.removeChild(c),{left:Math.abs(h-n.scrollLeft),top:Math.abs(g-n.scrollTop)+y}}return{top:"auto",left:"auto"}}},{key:"invokeElementMethod",value:function(n,r,o){n[r].apply(n,o)}},{key:"isClickable",value:function(n){var r=n.nodeName,o=n.parentElement&&n.parentElement.nodeName;return r==="INPUT"||r==="TEXTAREA"||r==="BUTTON"||r==="A"||o==="INPUT"||o==="TEXTAREA"||o==="BUTTON"||o==="A"||this.hasClass(n,"p-button")||this.hasClass(n.parentElement,"p-button")||this.hasClass(n.parentElement,"p-checkbox")||this.hasClass(n.parentElement,"p-radiobutton")}},{key:"applyStyle",value:function(n,r){if(typeof r=="string")n.style.cssText=r;else for(var o in r)n.style[o]=r[o]}},{key:"exportCSV",value:function(n,r){var o=new Blob([n],{type:"application/csv;charset=utf-8;"});if(window.navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(o,r+".csv");else{var s=t.saveAs({name:r+".csv",src:URL.createObjectURL(o)});s||(n="data:text/csv;charset=utf-8,"+n,window.open(encodeURI(n)))}}},{key:"saveAs",value:function(n){if(n){var r=document.createElement("a");if(r.download!==void 0){var o=n.name,s=n.src;return r.setAttribute("href",s),r.setAttribute("download",o),r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r),!0}}return!1}},{key:"createInlineStyle",value:function(n,r){var o=document.createElement("style");return t.addNonce(o,n),r||(r=document.head),r.appendChild(o),o}},{key:"removeInlineStyle",value:function(n){if(this.isExist(n)){try{n.parentNode.removeChild(n)}catch{}n=null}return n}},{key:"addNonce",value:function(n,r){try{r||(r=Cot.REACT_APP_CSS_NONCE)}catch{}r&&n.setAttribute("nonce",r)}},{key:"getTargetElement",value:function(n){if(!n)return null;if(n==="document")return document;if(n==="window")return window;if(pn(n)==="object"&&n.hasOwnProperty("current"))return this.isExist(n.current)?n.current:null;var r=function(u){return!!(u&&u.constructor&&u.call&&u.apply)},o=r(n)?n():n;return o&&o.nodeType===9||this.isExist(o)?o:null}},{key:"getAttributeNames",value:function(n){var r,o,s;for(o=[],s=n.attributes,r=0;r<s.length;++r)o.push(s[r].nodeName);return o.sort(),o}},{key:"isEqualElement",value:function(n,r){var o,s,u,c,f;if(o=t.getAttributeNames(n),s=t.getAttributeNames(r),o.join(",")!==s.join(","))return!1;for(var d=0;d<o.length;++d)if(u=o[d],u==="style")for(var h=n.style,g=r.style,y=/^\d+$/,v=0,S=Object.keys(h);v<S.length;v++){var x=S[v];if(!y.test(x)&&h[x]!==g[x])return!1}else if(n.getAttribute(u)!==r.getAttribute(u))return!1;for(c=n.firstChild,f=r.firstChild;c&&f;c=c.nextSibling,f=f.nextSibling){if(c.nodeType!==f.nodeType)return!1;if(c.nodeType===1){if(!t.isEqualElement(c,f))return!1}else if(c.nodeValue!==f.nodeValue)return!1}return!(c||f)}},{key:"hasCSSAnimation",value:function(n){if(n){var r=getComputedStyle(n),o=parseFloat(r.getPropertyValue("animation-duration")||"0");return o>0}return!1}},{key:"hasCSSTransition",value:function(n){if(n){var r=getComputedStyle(n),o=parseFloat(r.getPropertyValue("transition-duration")||"0");return o>0}return!1}}])}();lS(Us,"DATA_PROPS",["data-"]);lS(Us,"ARIA_PROPS",["aria","focus-target"]);function Not(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Lot(t))||e){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(d){throw d},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,u=!1,c;return{s:function(){n=n.call(t)},n:function(){var d=n.next();return s=d.done,d},e:function(d){u=!0,c=d},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(u)throw c}}}}function Lot(t,e){if(t){if(typeof t=="string")return oT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oT(t,e)}}function oT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ee=function(){function t(){kM(this,t)}return RM(t,null,[{key:"equals",value:function(n,r,o){return o&&n&&pn(n)==="object"&&r&&pn(r)==="object"?this.deepEquals(this.resolveFieldData(n,o),this.resolveFieldData(r,o)):this.deepEquals(n,r)}},{key:"deepEquals",value:function(n,r){if(n===r)return!0;if(n&&r&&pn(n)==="object"&&pn(r)==="object"){var o=Array.isArray(n),s=Array.isArray(r),u,c,f;if(o&&s){if(c=n.length,c!==r.length)return!1;for(u=c;u--!==0;)if(!this.deepEquals(n[u],r[u]))return!1;return!0}if(o!==s)return!1;var d=n instanceof Date,h=r instanceof Date;if(d!==h)return!1;if(d&&h)return n.getTime()===r.getTime();var g=n instanceof RegExp,y=r instanceof RegExp;if(g!==y)return!1;if(g&&y)return n.toString()===r.toString();var v=Object.keys(n);if(c=v.length,c!==Object.keys(r).length)return!1;for(u=c;u--!==0;)if(!Object.prototype.hasOwnProperty.call(r,v[u]))return!1;for(u=c;u--!==0;)if(f=v[u],!this.deepEquals(n[f],r[f]))return!1;return!0}return n!==n&&r!==r}},{key:"resolveFieldData",value:function(n,r){if(!n||!r)return null;try{var o=n[r];if(this.isNotEmpty(o))return o}catch{}if(Object.keys(n).length){if(this.isFunction(r))return r(n);if(this.isNotEmpty(n[r]))return n[r];if(r.indexOf(".")===-1)return n[r];for(var s=r.split("."),u=n,c=0,f=s.length;c<f;++c){if(u==null)return null;u=u[s[c]]}return u}return null}},{key:"findDiffKeys",value:function(n,r){return!n||!r?{}:Object.keys(n).filter(function(o){return!r.hasOwnProperty(o)}).reduce(function(o,s){return o[s]=n[s],o},{})}},{key:"reduceKeys",value:function(n,r){var o={};return!n||!r||r.length===0||Object.keys(n).filter(function(s){return r.some(function(u){return s.startsWith(u)})}).forEach(function(s){o[s]=n[s],delete n[s]}),o}},{key:"reorderArray",value:function(n,r,o){n&&r!==o&&(o>=n.length&&(o=o%n.length,r=r%n.length),n.splice(o,0,n.splice(r,1)[0]))}},{key:"findIndexInList",value:function(n,r,o){var s=this;return r?o?r.findIndex(function(u){return s.equals(u,n,o)}):r.findIndex(function(u){return u===n}):-1}},{key:"getJSXElement",value:function(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];return this.isFunction(n)?n.apply(void 0,o):n}},{key:"getItemValue",value:function(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];return this.isFunction(n)?n.apply(void 0,o):n}},{key:"getProp",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=n?n[r]:void 0;return s===void 0?o[r]:s}},{key:"getPropCaseInsensitive",value:function(n,r){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=this.toFlatCase(r);for(var u in n)if(n.hasOwnProperty(u)&&this.toFlatCase(u)===s)return n[u];for(var c in o)if(o.hasOwnProperty(c)&&this.toFlatCase(c)===s)return o[c]}},{key:"getMergedProps",value:function(n,r){return Object.assign({},r,n)}},{key:"getDiffProps",value:function(n,r){return this.findDiffKeys(n,r)}},{key:"getPropValue",value:function(n){if(!this.isFunction(n))return n;for(var r=arguments.length,o=new Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];if(o.length===1){var u=o[0];return n(Array.isArray(u)?u[0]:u)}return n(o)}},{key:"getComponentProp",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.isNotEmpty(n)?this.getProp(n.props,r,o):void 0}},{key:"getComponentProps",value:function(n,r){return this.isNotEmpty(n)?this.getMergedProps(n.props,r):void 0}},{key:"getComponentDiffProps",value:function(n,r){return this.isNotEmpty(n)?this.getDiffProps(n.props,r):void 0}},{key:"isValidChild",value:function(n,r,o){if(n){var s,u=this.getComponentProp(n,"__TYPE")||(n.type?n.type.displayName:void 0);!u&&n!==null&&n!==void 0&&(s=n.type)!==null&&s!==void 0&&(s=s._payload)!==null&&s!==void 0&&s.value&&(u=n.type._payload.value.find(function(d){return d===r}));var c=u===r;try{var f}catch{}return c}return!1}},{key:"getRefElement",value:function(n){return n?pn(n)==="object"&&n.hasOwnProperty("current")?n.current:n:null}},{key:"combinedRefs",value:function(n,r){n&&r&&(typeof r=="function"?r(n.current):r.current=n.current)}},{key:"removeAccents",value:function(n){return n&&n.search(/[\xC0-\xFF]/g)>-1&&(n=n.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),n}},{key:"toFlatCase",value:function(n){return this.isNotEmpty(n)&&this.isString(n)?n.replace(/(-|_)/g,"").toLowerCase():n}},{key:"toCapitalCase",value:function(n){return this.isNotEmpty(n)&&this.isString(n)?n[0].toUpperCase()+n.slice(1):n}},{key:"trim",value:function(n){return this.isNotEmpty(n)&&this.isString(n)?n.trim():n}},{key:"isEmpty",value:function(n){return n==null||n===""||Array.isArray(n)&&n.length===0||!(n instanceof Date)&&pn(n)==="object"&&Object.keys(n).length===0}},{key:"isNotEmpty",value:function(n){return!this.isEmpty(n)}},{key:"isFunction",value:function(n){return!!(n&&n.constructor&&n.call&&n.apply)}},{key:"isObject",value:function(n){return n!==null&&n instanceof Object&&n.constructor===Object}},{key:"isDate",value:function(n){return n!==null&&n instanceof Date&&n.constructor===Date}},{key:"isArray",value:function(n){return n!==null&&Array.isArray(n)}},{key:"isString",value:function(n){return n!==null&&typeof n=="string"}},{key:"isPrintableCharacter",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return this.isNotEmpty(n)&&n.length===1&&n.match(/\S| /)}},{key:"isLetter",value:function(n){return/^[a-zA-Z\u00C0-\u017F]$/.test(n)}},{key:"isScalar",value:function(n){return n!=null&&(typeof n=="string"||typeof n=="number"||typeof n=="bigint"||typeof n=="boolean")}},{key:"findLast",value:function(n,r){var o;if(this.isNotEmpty(n))try{o=n.findLast(r)}catch{o=r0(n).reverse().find(r)}return o}},{key:"findLastIndex",value:function(n,r){var o=-1;if(this.isNotEmpty(n))try{o=n.findLastIndex(r)}catch{o=n.lastIndexOf(r0(n).reverse().find(r))}return o}},{key:"sort",value:function(n,r){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,s=arguments.length>3?arguments[3]:void 0,u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,c=this.compare(n,r,s,o),f=o;return(this.isEmpty(n)||this.isEmpty(r))&&(f=u===1?o:u),f*c}},{key:"compare",value:function(n,r,o){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,u=-1,c=this.isEmpty(n),f=this.isEmpty(r);return c&&f?u=0:c?u=s:f?u=-s:typeof n=="string"&&typeof r=="string"?u=o(n,r):u=n<r?-1:n>r?1:0,u}},{key:"localeComparator",value:function(n){return new Intl.Collator(n,{numeric:!0}).compare}},{key:"findChildrenByKey",value:function(n,r){var o=Not(n),s;try{for(o.s();!(s=o.n()).done;){var u=s.value;if(u.key===r)return u.children||[];if(u.children){var c=this.findChildrenByKey(u.children,r);if(c.length>0)return c}}}catch(f){o.e(f)}finally{o.f()}return[]}},{key:"mutateFieldData",value:function(n,r,o){if(!(pn(n)!=="object"||typeof r!="string"))for(var s=r.split("."),u=n,c=0,f=s.length;c<f;++c){if(c+1-f===0){u[s[c]]=o;break}u[s[c]]||(u[s[c]]={}),u=u[s[c]]}}}])}();function iT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function sT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iT(Object(n),!0).forEach(function(r){lS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lh(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t){var n=function(u){return typeof u=="function"},r=e.classNameMergeFunction,o=n(r);return t.reduce(function(s,u){if(!u)return s;var c=function(){var h=u[f];if(f==="style")s.style=sT(sT({},s.style),u.style);else if(f==="className"){var g="";o?g=r(s.className,u.className):g=[s.className,u.className].join(" ").trim(),s.className=g||void 0}else if(n(h)){var y=s[f];s[f]=y?function(){y.apply(void 0,arguments),h.apply(void 0,arguments)}:h}else s[f]=h};for(var f in u)c();return s},{})}}var xn=Object.freeze({STARTS_WITH:"startsWith",CONTAINS:"contains",NOT_CONTAINS:"notContains",ENDS_WITH:"endsWith",EQUALS:"equals",NOT_EQUALS:"notEquals",IN:"in",LESS_THAN:"lt",LESS_THAN_OR_EQUAL_TO:"lte",GREATER_THAN:"gt",GREATER_THAN_OR_EQUAL_TO:"gte",BETWEEN:"between",DATE_IS:"dateIs",DATE_IS_NOT:"dateIsNot",DATE_BEFORE:"dateBefore",DATE_AFTER:"dateAfter",CUSTOM:"custom"});function Sl(t){"@babel/helpers - typeof";return Sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sl(t)}function Fot(t,e){if(Sl(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bot(t){var e=Fot(t,"string");return Sl(e)==="symbol"?e:String(e)}function kr(t,e,n){return e=Bot(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jot(t,e,n){return Object.defineProperty(t,"prototype",{writable:!1}),t}function Dot(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var rr=jot(function t(){Dot(this,t)});kr(rr,"ripple",!1);kr(rr,"inputStyle","outlined");kr(rr,"locale","en");kr(rr,"appendTo",null);kr(rr,"cssTransition",!0);kr(rr,"autoZIndex",!0);kr(rr,"hideOverlaysOnDocumentScrolling",!1);kr(rr,"nonce",null);kr(rr,"nullSortOrder",1);kr(rr,"zIndex",{modal:1100,overlay:1e3,menu:1e3,tooltip:1100,toast:1200});kr(rr,"pt",void 0);kr(rr,"filterMatchModeOptions",{text:[xn.STARTS_WITH,xn.CONTAINS,xn.NOT_CONTAINS,xn.ENDS_WITH,xn.EQUALS,xn.NOT_EQUALS],numeric:[xn.EQUALS,xn.NOT_EQUALS,xn.LESS_THAN,xn.LESS_THAN_OR_EQUAL_TO,xn.GREATER_THAN,xn.GREATER_THAN_OR_EQUAL_TO],date:[xn.DATE_IS,xn.DATE_IS_NOT,xn.DATE_BEFORE,xn.DATE_AFTER]});kr(rr,"changeTheme",function(t,e,n,r){var o,s=document.getElementById(n);if(!s)throw Error("Element with id ".concat(n," not found."));var u=s.getAttribute("href").replace(t,e),c=document.createElement("link");c.setAttribute("rel","stylesheet"),c.setAttribute("id",n),c.setAttribute("href",u),c.addEventListener("load",function(){r&&r()}),(o=s.parentNode)===null||o===void 0||o.replaceChild(c,s)});var fS=oe.createContext(),pg=rr;function Uot(t){if(Array.isArray(t))return t}function zot(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,o,s,u,c=[],f=!0,d=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(f=(r=s.call(n)).done)&&(c.push(r.value),c.length!==e);f=!0);}catch(h){d=!0,o=h}finally{try{if(!f&&n.return!=null&&(u=n.return(),Object(u)!==u))return}finally{if(d)throw o}}return c}}function aT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Wot(t,e){if(t){if(typeof t=="string")return aT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aT(t,e)}}function Kot(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qot(t,e){return Uot(t)||zot(t,e)||Wot(t,e)||Kot()}var uT=function(e){var n=G.useRef(null);return G.useEffect(function(){return n.current=e,function(){n.current=null}},[e]),n.current},$M=function(e){return G.useEffect(function(){return e},[])},pd=function(e){var n=e.target,r=n===void 0?"document":n,o=e.type,s=e.listener,u=e.options,c=e.when,f=c===void 0?!0:c,d=G.useRef(null),h=G.useRef(null),g=uT(s),y=uT(u),v=function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},P=N.target;Ee.isNotEmpty(P)&&(S(),(N.when||f)&&(d.current=Us.getTargetElement(P))),!h.current&&d.current&&(h.current=function(R){return s&&s(R)},d.current.addEventListener(o,h.current,u))},S=function(){h.current&&(d.current.removeEventListener(o,h.current,u),h.current=null)},x=function(){S(),g=null,y=null},T=G.useCallback(function(){f?d.current=Us.getTargetElement(r):(S(),d.current=null)},[r,f]);return G.useEffect(function(){T()},[T]),G.useEffect(function(){var O="".concat(g)!=="".concat(s),N=y!==u,P=h.current;P&&(O||N)?(S(),f&&v()):P||x()},[s,u,f]),$M(function(){x()}),[v,S]},Vot=function(){var e=G.useContext(fS);return function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Lh(r,e==null?void 0:e.ptOptions)}},Hot=function(e){var n=G.useRef(!1);return G.useEffect(function(){if(!n.current)return n.current=!0,e&&e()},[])},Got=0,gd=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=G.useState(!1),o=qot(r,2),s=o[0],u=o[1],c=G.useRef(null),f=G.useContext(fS),d=Us.isClient()?window.document:void 0,h=n.document,g=h===void 0?d:h,y=n.manual,v=y===void 0?!1:y,S=n.name,x=S===void 0?"style_".concat(++Got):S,T=n.id,O=T===void 0?void 0:T,N=n.media,P=N===void 0?void 0:N,R=function(K){var b=K.querySelector('style[data-primereact-style-id="'.concat(x,'"]'));if(b)return b;if(O!==void 0){var M=g.getElementById(O);if(M)return M}return g.createElement("style")},j=function(K){s&&e!==K&&(c.current.textContent=K)},B=function(){if(!(!g||s)){var K=(f==null?void 0:f.styleContainer)||g.head;c.current=R(K),c.current.isConnected||(c.current.type="text/css",O&&(c.current.id=O),P&&(c.current.media=P),Us.addNonce(c.current,f&&f.nonce||pg.nonce),K.appendChild(c.current),x&&c.current.setAttribute("data-primereact-style-id",x)),c.current.textContent=e,u(!0)}},k=function(){!g||!c.current||(Us.removeInlineStyle(c.current),u(!1))};return G.useEffect(function(){v||B()},[v]),{id:O,name:x,update:j,unload:k,load:B,isLoaded:s}},Jot=function(e,n){var r=G.useRef(!1);return G.useEffect(function(){if(!r.current){r.current=!0;return}return e&&e()},n)};function o0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Yot(t){if(Array.isArray(t))return o0(t)}function Xot(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Qot(t,e){if(t){if(typeof t=="string")return o0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o0(t,e)}}function Zot(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cT(t){return Yot(t)||Xot(t)||Qot(t)||Zot()}function wl(t){"@babel/helpers - typeof";return wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wl(t)}function tit(t,e){if(wl(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eit(t){var e=tit(t,"string");return wl(e)==="symbol"?e:String(e)}function i0(t,e,n){return e=eit(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Ye(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lT(Object(n),!0).forEach(function(r){i0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var nit=`
.p-hidden-accessible {
    border: 0;
    clip: rect(0 0 0 0);
    height: 1px;
    margin: -1px;
    opacity: 0;
    overflow: hidden;
    padding: 0;
    pointer-events: none;
    position: absolute;
    white-space: nowrap;
    width: 1px;
}

.p-overflow-hidden {
    overflow: hidden;
    padding-right: var(--scrollbar-width);
}
`,rit=`
.p-button {
    margin: 0;
    display: inline-flex;
    cursor: pointer;
    user-select: none;
    align-items: center;
    vertical-align: bottom;
    text-align: center;
    overflow: hidden;
    position: relative;
}

.p-button-label {
    flex: 1 1 auto;
}

.p-button-icon-right {
    order: 1;
}

.p-button:disabled {
    cursor: default;
}

.p-button-icon-only {
    justify-content: center;
}

.p-button-icon-only .p-button-label {
    visibility: hidden;
    width: 0;
    flex: 0 0 auto;
}

.p-button-vertical {
    flex-direction: column;
}

.p-button-icon-bottom {
    order: 2;
}

.p-button-group .p-button {
    margin: 0;
}

.p-button-group .p-button:not(:last-child) {
    border-right: 0 none;
}

.p-button-group .p-button:not(:first-of-type):not(:last-of-type) {
    border-radius: 0;
}

.p-button-group .p-button:first-of-type {
    border-top-right-radius: 0;
    border-bottom-right-radius: 0;
}

.p-button-group .p-button:last-of-type {
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
}

.p-button-group .p-button:focus {
    position: relative;
    z-index: 1;
}

.p-button-group-single .p-button:first-of-type {
    border-top-right-radius: var(--border-radius) !important;
    border-bottom-right-radius: var(--border-radius) !important;
}

.p-button-group-single .p-button:last-of-type {
    border-top-left-radius: var(--border-radius) !important;
    border-bottom-left-radius: var(--border-radius) !important;
}
`,oit=`
.p-inputtext {
    margin: 0;
}

.p-fluid .p-inputtext {
    width: 100%;
}

/* InputGroup */
.p-inputgroup {
    display: flex;
    align-items: stretch;
    width: 100%;
}

.p-inputgroup-addon {
    display: flex;
    align-items: center;
    justify-content: center;
}

.p-inputgroup .p-float-label {
    display: flex;
    align-items: stretch;
    width: 100%;
}

.p-inputgroup .p-inputtext,
.p-fluid .p-inputgroup .p-inputtext,
.p-inputgroup .p-inputwrapper,
.p-fluid .p-inputgroup .p-input {
    flex: 1 1 auto;
    width: 1%;
}

/* Floating Label */
.p-float-label {
    display: block;
    position: relative;
}

.p-float-label label {
    position: absolute;
    pointer-events: none;
    top: 50%;
    margin-top: -0.5rem;
    transition-property: all;
    transition-timing-function: ease;
    line-height: 1;
}

.p-float-label textarea ~ label,
.p-float-label .p-mention ~ label {
    top: 1rem;
}

.p-float-label input:focus ~ label,
.p-float-label input:-webkit-autofill ~ label,
.p-float-label input.p-filled ~ label,
.p-float-label textarea:focus ~ label,
.p-float-label textarea.p-filled ~ label,
.p-float-label .p-inputwrapper-focus ~ label,
.p-float-label .p-inputwrapper-filled ~ label,
.p-float-label .p-tooltip-target-wrapper ~ label {
    top: -0.75rem;
    font-size: 12px;
}

.p-float-label .p-placeholder,
.p-float-label input::placeholder,
.p-float-label .p-inputtext::placeholder {
    opacity: 0;
    transition-property: all;
    transition-timing-function: ease;
}

.p-float-label .p-focus .p-placeholder,
.p-float-label input:focus::placeholder,
.p-float-label .p-inputtext:focus::placeholder {
    opacity: 1;
    transition-property: all;
    transition-timing-function: ease;
}

.p-input-icon-left,
.p-input-icon-right {
    position: relative;
    display: inline-block;
}

.p-input-icon-left > i,
.p-input-icon-right > i,
.p-input-icon-left > svg,
.p-input-icon-right > svg,
.p-input-icon-left > .p-input-prefix,
.p-input-icon-right > .p-input-suffix {
    position: absolute;
    top: 50%;
    margin-top: -0.5rem;
}

.p-fluid .p-input-icon-left,
.p-fluid .p-input-icon-right {
    display: block;
    width: 100%;
}
`,iit=`
.p-icon {
    display: inline-block;
}

.p-icon-spin {
    -webkit-animation: p-icon-spin 2s infinite linear;
    animation: p-icon-spin 2s infinite linear;
}

svg.p-icon {
    pointer-events: auto;
}

svg.p-icon g,
.p-disabled svg.p-icon {
    pointer-events: none;
}

@-webkit-keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}

@keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}
`,sit=`
@layer primereact {
    .p-component, .p-component * {
        box-sizing: border-box;
    }

    .p-hidden {
        display: none;
    }

    .p-hidden-space {
        visibility: hidden;
    }

    .p-reset {
        margin: 0;
        padding: 0;
        border: 0;
        outline: 0;
        text-decoration: none;
        font-size: 100%;
        list-style: none;
    }

    .p-disabled, .p-disabled * {
        cursor: default;
        pointer-events: none;
        user-select: none;
    }

    .p-component-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }

    .p-unselectable-text {
        user-select: none;
    }

    .p-scrollbar-measure {
        width: 100px;
        height: 100px;
        overflow: scroll;
        position: absolute;
        top: -9999px;
    }

    @-webkit-keyframes p-fadein {
      0%   { opacity: 0; }
      100% { opacity: 1; }
    }
    @keyframes p-fadein {
      0%   { opacity: 0; }
      100% { opacity: 1; }
    }

    .p-link {
        text-align: left;
        background-color: transparent;
        margin: 0;
        padding: 0;
        border: none;
        cursor: pointer;
        user-select: none;
    }

    .p-link:disabled {
        cursor: default;
    }

    /* Non react overlay animations */
    .p-connected-overlay {
        opacity: 0;
        transform: scaleY(0.8);
        transition: transform .12s cubic-bezier(0, 0, 0.2, 1), opacity .12s cubic-bezier(0, 0, 0.2, 1);
    }

    .p-connected-overlay-visible {
        opacity: 1;
        transform: scaleY(1);
    }

    .p-connected-overlay-hidden {
        opacity: 0;
        transform: scaleY(1);
        transition: opacity .1s linear;
    }

    /* React based overlay animations */
    .p-connected-overlay-enter {
        opacity: 0;
        transform: scaleY(0.8);
    }

    .p-connected-overlay-enter-active {
        opacity: 1;
        transform: scaleY(1);
        transition: transform .12s cubic-bezier(0, 0, 0.2, 1), opacity .12s cubic-bezier(0, 0, 0.2, 1);
    }

    .p-connected-overlay-enter-done {
        transform: none;
    }

    .p-connected-overlay-exit {
        opacity: 1;
    }

    .p-connected-overlay-exit-active {
        opacity: 0;
        transition: opacity .1s linear;
    }

    /* Toggleable Content */
    .p-toggleable-content-enter {
        max-height: 0;
    }

    .p-toggleable-content-enter-active {
        overflow: hidden;
        max-height: 1000px;
        transition: max-height 1s ease-in-out;
    }

    .p-toggleable-content-enter-done {
        transform: none;
    }

    .p-toggleable-content-exit {
        max-height: 1000px;
    }

    .p-toggleable-content-exit-active {
        overflow: hidden;
        max-height: 0;
        transition: max-height 0.45s cubic-bezier(0, 1, 0, 1);
    }

    /* @todo Refactor */
    .p-menu .p-menuitem-link {
        cursor: pointer;
        display: flex;
        align-items: center;
        text-decoration: none;
        overflow: hidden;
        position: relative;
    }

    `.concat(rit,`
    `).concat(oit,`
    `).concat(iit,`
}
`),Pe={cProps:void 0,cParams:void 0,cName:void 0,defaultProps:{pt:void 0,ptOptions:void 0,unstyled:!1},context:{},globalCSS:void 0,classes:{},styles:"",extend:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.css,r=Ye(Ye({},e.defaultProps),Pe.defaultProps),o={},s=function(h){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Pe.context=g,Pe.cProps=h,Ee.getMergedProps(h,r)},u=function(h){return Ee.getDiffProps(h,r)},c=function(){var h,g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},S=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;g.hasOwnProperty("pt")&&g.pt!==void 0&&(g=g.pt);var x=y,T=/./g.test(x)&&!!v[x.split(".")[0]],O=T?Ee.toFlatCase(x.split(".")[1]):Ee.toFlatCase(x),N=v.hostName&&Ee.toFlatCase(v.hostName),P=N||v.props&&v.props.__TYPE&&Ee.toFlatCase(v.props.__TYPE)||"",R=O==="transition",j="data-pc-",B=function(at){return at!=null&&at.props?at.hostName?at.props.__TYPE===at.hostName?at.props:B(at.parent):at.parent:void 0},k=function(at){var Nt,rn;return((Nt=v.props)===null||Nt===void 0?void 0:Nt[at])||((rn=B(v))===null||rn===void 0?void 0:rn[at])};Pe.cParams=v,Pe.cName=P;var U=k("ptOptions")||Pe.context.ptOptions||{},K=U.mergeSections,b=K===void 0?!0:K,M=U.mergeProps,D=M===void 0?!1:M,X=function(){var at=yi.apply(void 0,arguments);return Array.isArray(at)?{className:Nh.apply(void 0,cT(at))}:Ee.isString(at)?{className:at}:at!=null&&at.hasOwnProperty("className")&&Array.isArray(at.className)?{className:Nh.apply(void 0,cT(at.className))}:at},nt=S?T?PM(X,x,v):MM(X,x,v):void 0,mt=T?void 0:mg(gg(g,P),X,x,v),gt=!R&&Ye(Ye({},O==="root"&&i0({},"".concat(j,"name"),v.props&&v.props.__parentMetadata?Ee.toFlatCase(v.props.__TYPE):P)),{},i0({},"".concat(j,"section"),O));return b||!b&&mt?D?Lh([nt,mt,Object.keys(gt).length?gt:{}],{classNameMergeFunction:(h=Pe.context.ptOptions)===null||h===void 0?void 0:h.classNameMergeFunction}):Ye(Ye(Ye({},nt),mt),Object.keys(gt).length?gt:{}):Ye(Ye({},mt),Object.keys(gt).length?gt:{})},f=function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},g=h.props,y=h.state,v=function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return c((g||{}).pt,P,Ye(Ye({},h),R))},S=function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return c(P,R,j,!1)},x=function(){return Pe.context.unstyled||pg.unstyled||g.unstyled},T=function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return x()?void 0:yi(n&&n.classes,P,Ye({props:g,state:y},R))},O=function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(j){var B,k=yi(n&&n.inlineStyles,P,Ye({props:g,state:y},R)),U=yi(o,P,Ye({props:g,state:y},R));return Lh([U,k],{classNameMergeFunction:(B=Pe.context.ptOptions)===null||B===void 0?void 0:B.classNameMergeFunction})}};return{ptm:v,ptmo:S,sx:O,cx:T,isUnstyled:x}};return Ye(Ye({getProps:s,getOtherProps:u,setMetaData:f},e),{},{defaultProps:r})}},yi=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=String(Ee.toFlatCase(n)).split("."),s=o.shift(),u=Ee.isNotEmpty(e)?Object.keys(e).find(function(c){return Ee.toFlatCase(c)===s}):"";return s?Ee.isObject(e)?yi(Ee.getItemValue(e[u],r),o.join("."),r):void 0:Ee.getItemValue(e,r)},gg=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,o=e==null?void 0:e._usept,s=function(c){var f,d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,h=r?r(c):c,g=Ee.toFlatCase(n);return(f=d?g!==Pe.cName?h==null?void 0:h[g]:void 0:h==null?void 0:h[g])!==null&&f!==void 0?f:h};return Ee.isNotEmpty(o)?{_usept:o,originalValue:s(e.originalValue),value:s(e.value)}:s(e,!0)},mg=function(e,n,r,o){var s=function(x){return n(x,r,o)};if(e!=null&&e.hasOwnProperty("_usept")){var u=e._usept||Pe.context.ptOptions||{},c=u.mergeSections,f=c===void 0?!0:c,d=u.mergeProps,h=d===void 0?!1:d,g=u.classNameMergeFunction,y=s(e.originalValue),v=s(e.value);return y===void 0&&v===void 0?void 0:Ee.isString(v)?v:Ee.isString(y)?y:f||!f&&v?h?Lh([y,v],{classNameMergeFunction:g}):Ye(Ye({},y),v):v}return s(e)},ait=function(){return gg(Pe.context.pt||pg.pt,void 0,function(e){return Ee.getItemValue(e,Pe.cParams)})},uit=function(){return gg(Pe.context.pt||pg.pt,void 0,function(e){return yi(e,Pe.cName,Pe.cParams)||Ee.getItemValue(e,Pe.cParams)})},PM=function(e,n,r){return mg(ait(),e,n,r)},MM=function(e,n,r){return mg(uit(),e,n,r)},cit=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},r=arguments.length>2?arguments[2]:void 0,o=r.name,s=r.styled,u=s===void 0?!1:s,c=r.hostName,f=c===void 0?"":c,d=PM(yi,"global.css",Pe.cParams),h=Ee.toFlatCase(o),g=gd(nit,{name:"base",manual:!0}),y=g.load,v=gd(sit,{name:"common",manual:!0}),S=v.load,x=gd(d,{name:"global",manual:!0}),T=x.load,O=gd(e,{name:o,manual:!0}),N=O.load,P=function(j){if(!f){var B=mg(gg((Pe.cProps||{}).pt,h),yi,"hooks.".concat(j)),k=MM(yi,"hooks.".concat(j));B==null||B(),k==null||k()}};P("useMountEffect"),Hot(function(){y(),T(),n()||(S(),u||N())}),Jot(function(){P("useUpdateEffect")}),$M(function(){P("useUnmountEffect")})};function lit(t){if(Array.isArray(t))return t}function fit(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,o,s,u,c=[],f=!0,d=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(f=(r=s.call(n)).done)&&(c.push(r.value),c.length!==e);f=!0);}catch(h){d=!0,o=h}finally{try{if(!f&&n.return!=null&&(u=n.return(),Object(u)!==u))return}finally{if(d)throw o}}return c}}function fT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dit(t,e){if(t){if(typeof t=="string")return fT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fT(t,e)}}function hit(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function md(t,e){return lit(t)||fit(t,e)||dit(t,e)||hit()}var Iy=Pe.extend({defaultProps:{__TYPE:"Knob",id:null,style:null,className:null,value:null,size:100,disabled:!1,readOnly:!1,showValue:!0,tabIndex:0,step:1,min:0,max:100,strokeWidth:14,name:null,valueColor:"var(--primary-color, Black)",rangeColor:"var(--surface-border, LightGray)",textColor:"var(--text-color-secondary, Black)",valueTemplate:"{value}",onChange:null,children:void 0},css:{classes:{range:"p-knob-range",value:"p-knob-value",label:"p-knob-text",root:function(e){var n=e.props;return Nh("p-knob p-component",{"p-disabled":n.disabled})}},styles:`
        @keyframes dash-frame {
            100% {
                stroke-dashoffset: 0;
            }
        }
        @layer primereact {
            .p-knob-range {
                fill: none;
                transition: stroke .1s ease-in;
            }
            .p-knob-value {
                animation-name: dash-frame;
                animation-fill-mode: forwards;
                fill: none;
            }
            .p-knob-text {
                font-size: 1.3rem;
                text-align: center;
            }
        }
        `}}),jr=40,yd=50,vd=50,Ba=4*Math.PI/3,Os=-Math.PI/3,NM=G.memo(G.forwardRef(function(t,e){var n=Vot(),r=G.useContext(fS),o=Iy.getProps(t,r),s=Iy.setMetaData({props:o}),u=s.ptm,c=s.cx,f=s.isUnstyled;cit(Iy.css.styles,f,{name:"knob"});var d=G.useRef(null),h=!o.disabled&&!o.readOnly,g=pd({target:"window",type:"mousemove",listener:function(ht){ps(ht.offsetX,ht.offsetY),ht.preventDefault()},when:h}),y=md(g,2),v=y[0],S=y[1],x=pd({target:"window",type:"mouseup",listener:function(ht){S(),N(),ht.preventDefault()},when:h}),T=md(x,2),O=T[0],N=T[1],P=pd({target:"window",type:"touchmove",listener:function(ht){if(ht.touches.length===1){var _n=d.current.getBoundingClientRect(),bn=ht.targetTouches.item(0),Li=bn.clientX-_n.left,eo=bn.clientY-_n.top;ps(Li,eo),ht.preventDefault()}},when:h}),R=md(P,2),j=R[0],B=R[1],k=pd({target:"window",type:"touchend",listener:function(){B(),b()},when:h}),U=md(k,2),K=U[0],b=U[1],M=function(ht,_n,bn,Li,eo){return(ht-_n)*(eo-Li)/(bn-_n)+Li},D=function(){return M(o.min>0&&o.max>0?o.min:0,o.min,o.max,Ba,Os)},X=function(){return M(o.value,o.min,o.max,Ba,Os)},nt=function(){return yd+Math.cos(Ba)*jr},mt=function(){return vd-Math.sin(Ba)*jr},gt=function(){return yd+Math.cos(Os)*jr},ot=function(){return vd-Math.sin(Os)*jr},at=function(){return yd+Math.cos(D())*jr},Nt=function(){return vd-Math.sin(D())*jr},rn=function(){return yd+Math.cos(X())*jr},se=function(){return vd-Math.sin(X())*jr},$i=function(){return Math.abs(D()-X())<Math.PI?0:1},Qu=function(){return X()>D()?0:1},Zu="M ".concat(nt()," ").concat(mt()," A ").concat(jr," ").concat(jr," 0 1 1 ").concat(gt()," ").concat(ot()),wo="M ".concat(at()," ").concat(Nt()," A ").concat(jr," ").concat(jr," 0 ").concat($i()," ").concat(Qu()," ").concat(rn()," ").concat(se()),Pi=function(){return o.valueTemplate.replace("{value}",o.value.toString())},ps=function(ht,_n){var bn=ht-o.size/2,Li=o.size/2-_n,eo=Math.atan2(Li,bn),Fi=-Math.PI/2-Math.PI/6;Zo(eo,Fi)},Zo=function(ht,_n){var bn;if(ht>Os)bn=M(ht,Ba,Os,o.min,o.max);else if(ht<_n)bn=M(ht+2*Math.PI,Ba,Os,o.min,o.max);else return;o.onChange&&o.onChange({value:Math.round((bn-o.min)/o.step)*o.step+o.min})},Hn=function(ht){var _n;ht>o.max?_n=o.max:ht<o.min?_n=o.min:_n=ht,o.onChange&&o.onChange({value:_n})},tc=function(ht){!o.disabled&&!o.readOnly&&ps(ht.nativeEvent.offsetX,ht.nativeEvent.offsetY)},Mi=function(ht){v(),O(),ht.preventDefault()},Ni=function(){S(),N()},ha=function(){j(),K()},on=function(){B(),b()},ti=function(ht){if(!o.disabled&&!o.readonly)switch(ht.code){case"ArrowRight":case"ArrowUp":ht.preventDefault(),Hn(o.value+1);break;case"ArrowLeft":case"ArrowDown":{ht.preventDefault(),Hn(o.value-1);break}case"Home":{ht.preventDefault(),Hn(o.min);break}case"End":{ht.preventDefault(),Hn(o.max);break}case"PageUp":{ht.preventDefault(),Hn(o.value+10);break}case"PageDown":{ht.preventDefault(),Hn(o.value-10);break}}};G.useImperativeHandle(e,function(){return{props:o,getElement:function(){return d.current}}});var ec=n({x:50,y:57,textAnchor:"middle",fill:o.textColor,className:c("label"),name:o.name},u("label")),vn=o.showValue&&G.createElement("text",ec,Pi()),Eo=n({ref:d,id:o.id,className:Nh(o.className,c("root")),style:o.style},u("root")),nc=n({viewBox:"0 0 100 100",width:o.size,height:o.size,"aria-valuemin":o.min,"aria-valuemax":o.max,"aria-valuenow":o.value,"aria-labelledby":o.ariaLabelledby,"aria-label":o.ariaLabel,role:"slider",tabIndex:o.readonly||o.disabled?-1:o.tabIndex,onClick:function(ht){return tc(ht)},onMouseDown:function(ht){return Mi(ht)},onMouseUp:function(ht){return Ni()},onTouchStart:function(ht){return ha()},onTouchEnd:function(ht){return on()},onKeyDown:function(ht){return ti(ht)}},u("svg")),xo=n({d:Zu,strokeWidth:o.strokeWidth,stroke:o.rangeColor,className:c("range")},u("range")),Ln=n({d:wo,strokeWidth:o.strokeWidth,stroke:o.valueColor,className:c("value")},u("value"));return G.createElement("div",Eo,G.createElement("svg",nc,G.createElement("path",xo),G.createElement("path",Ln),vn))}));NM.displayName="Knob";const pit=to.of({widget:xot,Component:(t,e,n)=>{var u;const[r,o]=oe.useState(0),s=c=>{o(c)};return J.jsx(So,{children:J.jsxs(Jr,{sx:{height:100,width:100,backgroundColor:`#${tt.toHex(t.color)}`,display:"flex",justifyContent:"center",flexDirection:"column"},children:[J.jsx(Jr,{sx:{display:"flex",justifyContent:"center"},children:J.jsx(Ri,{sx:{fontWeight:"bold"},children:((u=t.text)==null?void 0:u.content)||""})}),J.jsx(Jr,{sx:{p:0,mt:1},children:J.jsx(NM,{value:r,onChange:c=>s(c.value),min:0,max:127})})]})})}});var git=sS(J.jsx("path",{d:"M12 2c-4.42 0-8 .5-8 4v9.5C4 17.43 5.57 19 7.5 19L6 20.5v.5h12v-.5L16.5 19c1.93 0 3.5-1.57 3.5-3.5V6c0-3.5-3.58-4-8-4M7.5 17c-.83 0-1.5-.67-1.5-1.5S6.67 14 7.5 14s1.5.67 1.5 1.5S8.33 17 7.5 17m3.5-6H6V6h5zm5.5 6c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m1.5-6h-5V6h5z"}),"DirectionsTransit");const mit=to.of({widget:RP,Component:(t,e,n)=>{const o=(n.options.metronomeState!==void 0?n.options.metronomeState:!1)?t.color:tt.BLACK;return J.jsx(So,{children:J.jsx(Jr,{sx:{borderRadius:"5px",backgroundColor:`#${tt.toHex(o)}`},children:J.jsx(cS,{sx:{width:100,height:100},"aria-label":"metro-control",onClick:()=>e(n.target),children:J.jsx(git,{sx:{fontSize:80}})})})})}}),yit=uot([oot,iot,aot,lot,dot,pot,got,yot,vot,_ot,pit,mit]),vit=ob(yit.controllerWidgets),_it={controller:vit},Ry={sysexControlCode:50,manufacturer:3},bit=_it.controller;Rn("resend",{});const Sit=rb.of({init:t=>e=>{const n=e0.make({widgets:e.map(r=>r.widget)});t.send(cl.jsonSchemaSysex(n,e0,[Ry.sysexControlCode],Ry.manufacturer))},render:t=>e=>{e.forEach(n=>{t.send(cl.jsonSchemaSysex(Mh.make({target:n.target,color:n.color,options:n.options}),Mh,[Ry.sysexControlCode]))})},targets:[]}),wit=ib.of({name:"MIDI Structor UI",controller:Sit,widgets:bit}),Eit={device:wit},LM=[BP.device,Eit.device],xit=rt.keyBy(LM,"name"),Cit=BP.device,Tit=t=>Ti(rt.get(xit,t,void 0)),Oit=()=>rt.map(LM,"name"),Ait={defaultDevice:Cit,findByName:Tit,getNames:Oit},kit=t=>{const e=n=>{if(n.type==="init-ack")pt.importStatus.set({type:"ack",projectName:n.projectName}),pt.project.abletonName.set(n.projectName);else if(n.type==="init-project")pt.importStatus.set({type:"importing"}),pt.initArrangement.set(aJ());else if(n.type==="init-track")pt.initArrangement.set(uJ(n));else if(n.type==="init-clip")pt.initArrangement.set(cJ(n));else if(n.type==="init-cue")pt.initArrangement.set(lJ(n));else if(n.type==="init-done"){pt.importStatus.set({type:"finalizing"});const r=fJ(pt.initArrangement.get());pt.project.arrangement.set(r),pt.importStatus.set({type:"done"})}else n.type==="beat"?pt.realTime.beats.set(n.value):n.type==="sig"?pt.realTime.timeSignature.set({noteCount:n.numer,noteLength:n.denom}):n.type==="bar-beat"?pt.realTime.barBeats.set(n.value):n.type==="tempo"?pt.realTime.tempo.set(n.value):n.type==="is-playing"?pt.realTime.isPlaying.set(n.value):n.type==="metronome-state"?pt.realTime.metronomeState.set(n.value):n.type==="loop-state"?pt.realTime.loopState.set(n.value):n.type==="half-beat"&&pt.realTime.halfBeat.set(n.isHalf)};t.on("sysex",n=>{const r=j3(n);r!==void 0&&e(r)})},Iit=(t,e)=>(t.emit(fn.init()),pt.importStatus.sub(n=>{n.type==="ack"&&t.emit(fn.initReady(e))})),Rit=t=>{const e=t.controllers.flatMap(n=>Ie(Ait.findByName(n.device),{onSome:r=>r.widgets.resolve(n.config),onNone:()=>[]}));return Zl(e.flatMap(n=>n.tracks())).toArray()};let dT,hT=[];const $it=(t,e)=>{const n=Rit(t);return rt.isEqual(hT,n)?In.info("Tracks were the same, doing nothing here..."):(In.info("Tracks were not equal, reloading project..."),hT=n,dT=Iit(e,n)),dT},Pit=(t,e)=>{In.info("Project Main"),pt.project.config.sub(n=>Ie(WR.getActive(n),{onSome:r=>(In.info("Active project",r),$it(r,e)),onNone:()=>(In.error("No active project found",n),()=>{})})),Ii.getChannel().onmessage=n=>{e.emit(n.data)},kit(t)},Mit={init:Pit};In.info("Loading Project Worker Main");const FM=Gc(),BM=Gc();onmessage=t=>{rt.isArray(t.data)&&t.data.length==2&&t.data[0]==="DAW_LISTENER"&&FM.emit(t.data[1])};BM.on("*",t=>postMessage(["DAW_EMITTER",t]));Mit.init(FM,BM);
