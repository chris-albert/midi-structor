var Z3=Object.defineProperty;var iE=e=>{throw TypeError(e)};var eD=(e,t,n)=>t in e?Z3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var _=(e,t,n)=>eD(e,typeof t!="symbol"?t+"":t,n),sE=(e,t,n)=>t.has(e)||iE("Cannot "+n);var aE=(e,t,n)=>(sE(e,t,"read from private field"),n?n.call(e):t.get(e)),uE=(e,t,n)=>t.has(e)?iE("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),cE=(e,t,n,r)=>(sE(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n);function tD(e,t){return t.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(r){if(r!=="default"&&!(r in e)){var o=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(e,r,o.get?o:{enumerable:!0,get:function(){return n[r]}})}})}),Object.freeze(e)}var Sc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Mk(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var l_={exports:{}},Xa=typeof Reflect=="object"?Reflect:null,lE=Xa&&typeof Xa.apply=="function"?Xa.apply:function(t,n,r){return Function.prototype.apply.call(t,n,r)},xd;Xa&&typeof Xa.ownKeys=="function"?xd=Xa.ownKeys:Object.getOwnPropertySymbols?xd=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:xd=function(t){return Object.getOwnPropertyNames(t)};function nD(e){console&&console.warn&&console.warn(e)}var Nk=Number.isNaN||function(t){return t!==t};function Qe(){Qe.init.call(this)}l_.exports=Qe;l_.exports.once=sD;Qe.EventEmitter=Qe;Qe.prototype._events=void 0;Qe.prototype._eventsCount=0;Qe.prototype._maxListeners=void 0;var fE=10;function Jh(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(Qe,"defaultMaxListeners",{enumerable:!0,get:function(){return fE},set:function(e){if(typeof e!="number"||e<0||Nk(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");fE=e}});Qe.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Qe.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||Nk(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function Lk(e){return e._maxListeners===void 0?Qe.defaultMaxListeners:e._maxListeners}Qe.prototype.getMaxListeners=function(){return Lk(this)};Qe.prototype.emit=function(t){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var o=t==="error",s=this._events;if(s!==void 0)o=o&&s.error===void 0;else if(!o)return!1;if(o){var a;if(n.length>0&&(a=n[0]),a instanceof Error)throw a;var c=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw c.context=a,c}var f=s[t];if(f===void 0)return!1;if(typeof f=="function")lE(f,this,n);else for(var d=f.length,p=Wk(f,d),r=0;r<d;++r)lE(p[r],this,n);return!0};function Fk(e,t,n,r){var o,s,a;if(Jh(n),s=e._events,s===void 0?(s=e._events=Object.create(null),e._eventsCount=0):(s.newListener!==void 0&&(e.emit("newListener",t,n.listener?n.listener:n),s=e._events),a=s[t]),a===void 0)a=s[t]=n,++e._eventsCount;else if(typeof a=="function"?a=s[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),o=Lk(e),o>0&&a.length>o&&!a.warned){a.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=a.length,nD(c)}return e}Qe.prototype.addListener=function(t,n){return Fk(this,t,n,!1)};Qe.prototype.on=Qe.prototype.addListener;Qe.prototype.prependListener=function(t,n){return Fk(this,t,n,!0)};function rD(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Bk(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=rD.bind(r);return o.listener=n,r.wrapFn=o,o}Qe.prototype.once=function(t,n){return Jh(n),this.on(t,Bk(this,t,n)),this};Qe.prototype.prependOnceListener=function(t,n){return Jh(n),this.prependListener(t,Bk(this,t,n)),this};Qe.prototype.removeListener=function(t,n){var r,o,s,a,c;if(Jh(n),o=this._events,o===void 0)return this;if(r=o[t],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete o[t],o.removeListener&&this.emit("removeListener",t,r.listener||n));else if(typeof r!="function"){for(s=-1,a=r.length-1;a>=0;a--)if(r[a]===n||r[a].listener===n){c=r[a].listener,s=a;break}if(s<0)return this;s===0?r.shift():oD(r,s),r.length===1&&(o[t]=r[0]),o.removeListener!==void 0&&this.emit("removeListener",t,c||n)}return this};Qe.prototype.off=Qe.prototype.removeListener;Qe.prototype.removeAllListeners=function(t){var n,r,o;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[t]),this;if(arguments.length===0){var s=Object.keys(r),a;for(o=0;o<s.length;++o)a=s[o],a!=="removeListener"&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[t],typeof n=="function")this.removeListener(t,n);else if(n!==void 0)for(o=n.length-1;o>=0;o--)this.removeListener(t,n[o]);return this};function jk(e,t,n){var r=e._events;if(r===void 0)return[];var o=r[t];return o===void 0?[]:typeof o=="function"?n?[o.listener||o]:[o]:n?iD(o):Wk(o,o.length)}Qe.prototype.listeners=function(t){return jk(this,t,!0)};Qe.prototype.rawListeners=function(t){return jk(this,t,!1)};Qe.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):Dk.call(e,t)};Qe.prototype.listenerCount=Dk;function Dk(e){var t=this._events;if(t!==void 0){var n=t[e];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}Qe.prototype.eventNames=function(){return this._eventsCount>0?xd(this._events):[]};function Wk(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function oD(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function iD(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function sD(e,t){return new Promise(function(n,r){function o(a){e.removeListener(t,s),r(a)}function s(){typeof e.removeListener=="function"&&e.removeListener("error",o),n([].slice.call(arguments))}Uk(e,t,s,{once:!0}),t!=="error"&&aD(e,o,{once:!0})})}function aD(e,t,n){typeof e.on=="function"&&Uk(e,"error",t,n)}function Uk(e,t,n,r){if(typeof e.on=="function")r.once?e.once(t,n):e.on(t,n);else if(typeof e.addEventListener=="function")e.addEventListener(t,function o(s){r.once&&e.removeEventListener(t,o),n(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var uD=l_.exports;const cD=typeof window>"u",zk=self.name,lD=()=>cD&&typeof self<"u"?zk==="project"?"project":"controller":"main",qk=lD(),fD=e=>e==="main"?"32":e==="project"?"34":"33",dD=fD(qk),Ns={type:qk,name:zk,color:dD},dE=()=>{},hD=()=>{const e=Ns.type,n=`\x1B[${Ns.color}m[${e}]\x1B[0m %s`;return{debug:console.debug.bind(console,n),info:console.info.bind(console,n),warn:console.warn.bind(console,n),error:console.error.bind(console,n),noop:dE,enabled:(r,o)=>r?o:dE}},Yt=hD(),Yc=()=>pD(new uD.EventEmitter),pD=e=>({on:(t,n)=>(e.on(t,n),()=>{e.off(t,n)}),emit:t=>{e.emit("*",t),e.emit(t.type,t)}}),f_=e=>{const t=Yt.enabled(!1,Yt.info),n=Yc(),r=Yc(),o=new BroadcastChannel(e);return o.onmessage=s=>{t("Received message",s),r.emit(s.data)},n.on("*",s=>{t("Emitting event",s),o.postMessage(s)}),{emitter:n,listener:r}};var Yd={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Yd.exports;(function(e,t){(function(){var n,r="4.17.21",o=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",c="Invalid `variable` option passed into `_.template`",f="__lodash_hash_undefined__",d=500,p="__lodash_placeholder__",g=1,m=2,y=4,b=1,x=2,T=1,k=2,L=4,N=8,R=16,W=32,j=64,A=128,U=256,K=512,S=30,M="...",D=800,X=16,re=1,_e=2,ye=3,ie=1/0,ce=9007199254740991,Le=17976931348623157e292,cn=NaN,ut=4294967295,Li=ut-1,tc=ut>>>1,nc=[["ary",A],["bind",T],["bindKey",k],["curry",N],["curryRight",R],["flip",K],["partial",W],["partialRight",j],["rearg",U]],wo="[object Arguments]",Fi="[object Array]",vs="[object AsyncFunction]",ti="[object Boolean]",Xn="[object Date]",rc="[object DOMException]",Bi="[object Error]",ji="[object Function]",Sa="[object GeneratorFunction]",ln="[object Map]",ni="[object Number]",oc="[object Null]",wn="[object Object]",Eo="[object Promise]",ic="[object Proxy]",xo="[object RegExp]",jn="[object Set]",Z="[object String]",ge="[object Symbol]",En="[object Undefined]",xn="[object WeakMap]",Di="[object WeakSet]",uo="[object ArrayBuffer]",Wi="[object DataView]",Og="[object Float32Array]",Ig="[object Float64Array]",Ag="[object Int8Array]",$g="[object Int16Array]",Rg="[object Int32Array]",Pg="[object Uint8Array]",Mg="[object Uint8ClampedArray]",Ng="[object Uint16Array]",Lg="[object Uint32Array]",b2=/\b__p \+= '';/g,S2=/\b(__p \+=) '' \+/g,w2=/(__e\(.*?\)|\b__t\)) \+\n'';/g,AS=/&(?:amp|lt|gt|quot|#39);/g,$S=/[&<>"']/g,E2=RegExp(AS.source),x2=RegExp($S.source),C2=/<%-([\s\S]+?)%>/g,T2=/<%([\s\S]+?)%>/g,RS=/<%=([\s\S]+?)%>/g,k2=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,O2=/^\w*$/,I2=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Fg=/[\\^$.*+?()[\]{}|]/g,A2=RegExp(Fg.source),Bg=/^\s+/,$2=/\s/,R2=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,P2=/\{\n\/\* \[wrapped with (.+)\] \*/,M2=/,? & /,N2=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,L2=/[()=,{}\[\]\/\s]/,F2=/\\(\\)?/g,B2=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,PS=/\w*$/,j2=/^[-+]0x[0-9a-f]+$/i,D2=/^0b[01]+$/i,W2=/^\[object .+?Constructor\]$/,U2=/^0o[0-7]+$/i,z2=/^(?:0|[1-9]\d*)$/,q2=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ff=/($^)/,K2=/['\n\r\u2028\u2029\\]/g,df="\\ud800-\\udfff",V2="\\u0300-\\u036f",H2="\\ufe20-\\ufe2f",G2="\\u20d0-\\u20ff",MS=V2+H2+G2,NS="\\u2700-\\u27bf",LS="a-z\\xdf-\\xf6\\xf8-\\xff",J2="\\xac\\xb1\\xd7\\xf7",Y2="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",X2="\\u2000-\\u206f",Q2=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",FS="A-Z\\xc0-\\xd6\\xd8-\\xde",BS="\\ufe0e\\ufe0f",jS=J2+Y2+X2+Q2,jg="['’]",Z2="["+df+"]",DS="["+jS+"]",hf="["+MS+"]",WS="\\d+",eN="["+NS+"]",US="["+LS+"]",zS="[^"+df+jS+WS+NS+LS+FS+"]",Dg="\\ud83c[\\udffb-\\udfff]",tN="(?:"+hf+"|"+Dg+")",qS="[^"+df+"]",Wg="(?:\\ud83c[\\udde6-\\uddff]){2}",Ug="[\\ud800-\\udbff][\\udc00-\\udfff]",wa="["+FS+"]",KS="\\u200d",VS="(?:"+US+"|"+zS+")",nN="(?:"+wa+"|"+zS+")",HS="(?:"+jg+"(?:d|ll|m|re|s|t|ve))?",GS="(?:"+jg+"(?:D|LL|M|RE|S|T|VE))?",JS=tN+"?",YS="["+BS+"]?",rN="(?:"+KS+"(?:"+[qS,Wg,Ug].join("|")+")"+YS+JS+")*",oN="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",iN="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",XS=YS+JS+rN,sN="(?:"+[eN,Wg,Ug].join("|")+")"+XS,aN="(?:"+[qS+hf+"?",hf,Wg,Ug,Z2].join("|")+")",uN=RegExp(jg,"g"),cN=RegExp(hf,"g"),zg=RegExp(Dg+"(?="+Dg+")|"+aN+XS,"g"),lN=RegExp([wa+"?"+US+"+"+HS+"(?="+[DS,wa,"$"].join("|")+")",nN+"+"+GS+"(?="+[DS,wa+VS,"$"].join("|")+")",wa+"?"+VS+"+"+HS,wa+"+"+GS,iN,oN,WS,sN].join("|"),"g"),fN=RegExp("["+KS+df+MS+BS+"]"),dN=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,hN=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],pN=-1,ft={};ft[Og]=ft[Ig]=ft[Ag]=ft[$g]=ft[Rg]=ft[Pg]=ft[Mg]=ft[Ng]=ft[Lg]=!0,ft[wo]=ft[Fi]=ft[uo]=ft[ti]=ft[Wi]=ft[Xn]=ft[Bi]=ft[ji]=ft[ln]=ft[ni]=ft[wn]=ft[xo]=ft[jn]=ft[Z]=ft[xn]=!1;var ct={};ct[wo]=ct[Fi]=ct[uo]=ct[Wi]=ct[ti]=ct[Xn]=ct[Og]=ct[Ig]=ct[Ag]=ct[$g]=ct[Rg]=ct[ln]=ct[ni]=ct[wn]=ct[xo]=ct[jn]=ct[Z]=ct[ge]=ct[Pg]=ct[Mg]=ct[Ng]=ct[Lg]=!0,ct[Bi]=ct[ji]=ct[xn]=!1;var gN={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},mN={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},yN={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},vN={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},_N=parseFloat,bN=parseInt,QS=typeof Sc=="object"&&Sc&&Sc.Object===Object&&Sc,SN=typeof self=="object"&&self&&self.Object===Object&&self,fn=QS||SN||Function("return this")(),qg=t&&!t.nodeType&&t,_s=qg&&!0&&e&&!e.nodeType&&e,ZS=_s&&_s.exports===qg,Kg=ZS&&QS.process,Nr=function(){try{var $=_s&&_s.require&&_s.require("util").types;return $||Kg&&Kg.binding&&Kg.binding("util")}catch{}}(),e1=Nr&&Nr.isArrayBuffer,t1=Nr&&Nr.isDate,n1=Nr&&Nr.isMap,r1=Nr&&Nr.isRegExp,o1=Nr&&Nr.isSet,i1=Nr&&Nr.isTypedArray;function ur($,q,B){switch(B.length){case 0:return $.call(q);case 1:return $.call(q,B[0]);case 2:return $.call(q,B[0],B[1]);case 3:return $.call(q,B[0],B[1],B[2])}return $.apply(q,B)}function wN($,q,B,ne){for(var be=-1,ze=$==null?0:$.length;++be<ze;){var Kt=$[be];q(ne,Kt,B(Kt),$)}return ne}function Lr($,q){for(var B=-1,ne=$==null?0:$.length;++B<ne&&q($[B],B,$)!==!1;);return $}function EN($,q){for(var B=$==null?0:$.length;B--&&q($[B],B,$)!==!1;);return $}function s1($,q){for(var B=-1,ne=$==null?0:$.length;++B<ne;)if(!q($[B],B,$))return!1;return!0}function Ui($,q){for(var B=-1,ne=$==null?0:$.length,be=0,ze=[];++B<ne;){var Kt=$[B];q(Kt,B,$)&&(ze[be++]=Kt)}return ze}function pf($,q){var B=$==null?0:$.length;return!!B&&Ea($,q,0)>-1}function Vg($,q,B){for(var ne=-1,be=$==null?0:$.length;++ne<be;)if(B(q,$[ne]))return!0;return!1}function gt($,q){for(var B=-1,ne=$==null?0:$.length,be=Array(ne);++B<ne;)be[B]=q($[B],B,$);return be}function zi($,q){for(var B=-1,ne=q.length,be=$.length;++B<ne;)$[be+B]=q[B];return $}function Hg($,q,B,ne){var be=-1,ze=$==null?0:$.length;for(ne&&ze&&(B=$[++be]);++be<ze;)B=q(B,$[be],be,$);return B}function xN($,q,B,ne){var be=$==null?0:$.length;for(ne&&be&&(B=$[--be]);be--;)B=q(B,$[be],be,$);return B}function Gg($,q){for(var B=-1,ne=$==null?0:$.length;++B<ne;)if(q($[B],B,$))return!0;return!1}var CN=Jg("length");function TN($){return $.split("")}function kN($){return $.match(N2)||[]}function a1($,q,B){var ne;return B($,function(be,ze,Kt){if(q(be,ze,Kt))return ne=ze,!1}),ne}function gf($,q,B,ne){for(var be=$.length,ze=B+(ne?1:-1);ne?ze--:++ze<be;)if(q($[ze],ze,$))return ze;return-1}function Ea($,q,B){return q===q?jN($,q,B):gf($,u1,B)}function ON($,q,B,ne){for(var be=B-1,ze=$.length;++be<ze;)if(ne($[be],q))return be;return-1}function u1($){return $!==$}function c1($,q){var B=$==null?0:$.length;return B?Xg($,q)/B:cn}function Jg($){return function(q){return q==null?n:q[$]}}function Yg($){return function(q){return $==null?n:$[q]}}function l1($,q,B,ne,be){return be($,function(ze,Kt,Ze){B=ne?(ne=!1,ze):q(B,ze,Kt,Ze)}),B}function IN($,q){var B=$.length;for($.sort(q);B--;)$[B]=$[B].value;return $}function Xg($,q){for(var B,ne=-1,be=$.length;++ne<be;){var ze=q($[ne]);ze!==n&&(B=B===n?ze:B+ze)}return B}function Qg($,q){for(var B=-1,ne=Array($);++B<$;)ne[B]=q(B);return ne}function AN($,q){return gt(q,function(B){return[B,$[B]]})}function f1($){return $&&$.slice(0,g1($)+1).replace(Bg,"")}function cr($){return function(q){return $(q)}}function Zg($,q){return gt(q,function(B){return $[B]})}function sc($,q){return $.has(q)}function d1($,q){for(var B=-1,ne=$.length;++B<ne&&Ea(q,$[B],0)>-1;);return B}function h1($,q){for(var B=$.length;B--&&Ea(q,$[B],0)>-1;);return B}function $N($,q){for(var B=$.length,ne=0;B--;)$[B]===q&&++ne;return ne}var RN=Yg(gN),PN=Yg(mN);function MN($){return"\\"+vN[$]}function NN($,q){return $==null?n:$[q]}function xa($){return fN.test($)}function LN($){return dN.test($)}function FN($){for(var q,B=[];!(q=$.next()).done;)B.push(q.value);return B}function em($){var q=-1,B=Array($.size);return $.forEach(function(ne,be){B[++q]=[be,ne]}),B}function p1($,q){return function(B){return $(q(B))}}function qi($,q){for(var B=-1,ne=$.length,be=0,ze=[];++B<ne;){var Kt=$[B];(Kt===q||Kt===p)&&($[B]=p,ze[be++]=B)}return ze}function mf($){var q=-1,B=Array($.size);return $.forEach(function(ne){B[++q]=ne}),B}function BN($){var q=-1,B=Array($.size);return $.forEach(function(ne){B[++q]=[ne,ne]}),B}function jN($,q,B){for(var ne=B-1,be=$.length;++ne<be;)if($[ne]===q)return ne;return-1}function DN($,q,B){for(var ne=B+1;ne--;)if($[ne]===q)return ne;return ne}function Ca($){return xa($)?UN($):CN($)}function co($){return xa($)?zN($):TN($)}function g1($){for(var q=$.length;q--&&$2.test($.charAt(q)););return q}var WN=Yg(yN);function UN($){for(var q=zg.lastIndex=0;zg.test($);)++q;return q}function zN($){return $.match(zg)||[]}function qN($){return $.match(lN)||[]}var KN=function $(q){q=q==null?fn:Ta.defaults(fn.Object(),q,Ta.pick(fn,hN));var B=q.Array,ne=q.Date,be=q.Error,ze=q.Function,Kt=q.Math,Ze=q.Object,tm=q.RegExp,VN=q.String,Fr=q.TypeError,yf=B.prototype,HN=ze.prototype,ka=Ze.prototype,vf=q["__core-js_shared__"],_f=HN.toString,Je=ka.hasOwnProperty,GN=0,m1=function(){var i=/[^.]+$/.exec(vf&&vf.keys&&vf.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}(),bf=ka.toString,JN=_f.call(Ze),YN=fn._,XN=tm("^"+_f.call(Je).replace(Fg,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Sf=ZS?q.Buffer:n,Ki=q.Symbol,wf=q.Uint8Array,y1=Sf?Sf.allocUnsafe:n,Ef=p1(Ze.getPrototypeOf,Ze),v1=Ze.create,_1=ka.propertyIsEnumerable,xf=yf.splice,b1=Ki?Ki.isConcatSpreadable:n,ac=Ki?Ki.iterator:n,bs=Ki?Ki.toStringTag:n,Cf=function(){try{var i=Cs(Ze,"defineProperty");return i({},"",{}),i}catch{}}(),QN=q.clearTimeout!==fn.clearTimeout&&q.clearTimeout,ZN=ne&&ne.now!==fn.Date.now&&ne.now,eL=q.setTimeout!==fn.setTimeout&&q.setTimeout,Tf=Kt.ceil,kf=Kt.floor,nm=Ze.getOwnPropertySymbols,tL=Sf?Sf.isBuffer:n,S1=q.isFinite,nL=yf.join,rL=p1(Ze.keys,Ze),Vt=Kt.max,Cn=Kt.min,oL=ne.now,iL=q.parseInt,w1=Kt.random,sL=yf.reverse,rm=Cs(q,"DataView"),uc=Cs(q,"Map"),om=Cs(q,"Promise"),Oa=Cs(q,"Set"),cc=Cs(q,"WeakMap"),lc=Cs(Ze,"create"),Of=cc&&new cc,Ia={},aL=Ts(rm),uL=Ts(uc),cL=Ts(om),lL=Ts(Oa),fL=Ts(cc),If=Ki?Ki.prototype:n,fc=If?If.valueOf:n,E1=If?If.toString:n;function w(i){if(xt(i)&&!Ee(i)&&!(i instanceof Ne)){if(i instanceof Br)return i;if(Je.call(i,"__wrapped__"))return xw(i)}return new Br(i)}var Aa=function(){function i(){}return function(u){if(!St(u))return{};if(v1)return v1(u);i.prototype=u;var l=new i;return i.prototype=n,l}}();function Af(){}function Br(i,u){this.__wrapped__=i,this.__actions__=[],this.__chain__=!!u,this.__index__=0,this.__values__=n}w.templateSettings={escape:C2,evaluate:T2,interpolate:RS,variable:"",imports:{_:w}},w.prototype=Af.prototype,w.prototype.constructor=w,Br.prototype=Aa(Af.prototype),Br.prototype.constructor=Br;function Ne(i){this.__wrapped__=i,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ut,this.__views__=[]}function dL(){var i=new Ne(this.__wrapped__);return i.__actions__=Qn(this.__actions__),i.__dir__=this.__dir__,i.__filtered__=this.__filtered__,i.__iteratees__=Qn(this.__iteratees__),i.__takeCount__=this.__takeCount__,i.__views__=Qn(this.__views__),i}function hL(){if(this.__filtered__){var i=new Ne(this);i.__dir__=-1,i.__filtered__=!0}else i=this.clone(),i.__dir__*=-1;return i}function pL(){var i=this.__wrapped__.value(),u=this.__dir__,l=Ee(i),h=u<0,v=l?i.length:0,E=TF(0,v,this.__views__),C=E.start,O=E.end,P=O-C,V=h?O:C-1,H=this.__iteratees__,Y=H.length,ee=0,se=Cn(P,this.__takeCount__);if(!l||!h&&v==P&&se==P)return H1(i,this.__actions__);var he=[];e:for(;P--&&ee<se;){V+=u;for(var Oe=-1,pe=i[V];++Oe<Y;){var Pe=H[Oe],Fe=Pe.iteratee,dr=Pe.type,Un=Fe(pe);if(dr==_e)pe=Un;else if(!Un){if(dr==re)continue e;break e}}he[ee++]=pe}return he}Ne.prototype=Aa(Af.prototype),Ne.prototype.constructor=Ne;function Ss(i){var u=-1,l=i==null?0:i.length;for(this.clear();++u<l;){var h=i[u];this.set(h[0],h[1])}}function gL(){this.__data__=lc?lc(null):{},this.size=0}function mL(i){var u=this.has(i)&&delete this.__data__[i];return this.size-=u?1:0,u}function yL(i){var u=this.__data__;if(lc){var l=u[i];return l===f?n:l}return Je.call(u,i)?u[i]:n}function vL(i){var u=this.__data__;return lc?u[i]!==n:Je.call(u,i)}function _L(i,u){var l=this.__data__;return this.size+=this.has(i)?0:1,l[i]=lc&&u===n?f:u,this}Ss.prototype.clear=gL,Ss.prototype.delete=mL,Ss.prototype.get=yL,Ss.prototype.has=vL,Ss.prototype.set=_L;function ri(i){var u=-1,l=i==null?0:i.length;for(this.clear();++u<l;){var h=i[u];this.set(h[0],h[1])}}function bL(){this.__data__=[],this.size=0}function SL(i){var u=this.__data__,l=$f(u,i);if(l<0)return!1;var h=u.length-1;return l==h?u.pop():xf.call(u,l,1),--this.size,!0}function wL(i){var u=this.__data__,l=$f(u,i);return l<0?n:u[l][1]}function EL(i){return $f(this.__data__,i)>-1}function xL(i,u){var l=this.__data__,h=$f(l,i);return h<0?(++this.size,l.push([i,u])):l[h][1]=u,this}ri.prototype.clear=bL,ri.prototype.delete=SL,ri.prototype.get=wL,ri.prototype.has=EL,ri.prototype.set=xL;function oi(i){var u=-1,l=i==null?0:i.length;for(this.clear();++u<l;){var h=i[u];this.set(h[0],h[1])}}function CL(){this.size=0,this.__data__={hash:new Ss,map:new(uc||ri),string:new Ss}}function TL(i){var u=zf(this,i).delete(i);return this.size-=u?1:0,u}function kL(i){return zf(this,i).get(i)}function OL(i){return zf(this,i).has(i)}function IL(i,u){var l=zf(this,i),h=l.size;return l.set(i,u),this.size+=l.size==h?0:1,this}oi.prototype.clear=CL,oi.prototype.delete=TL,oi.prototype.get=kL,oi.prototype.has=OL,oi.prototype.set=IL;function ws(i){var u=-1,l=i==null?0:i.length;for(this.__data__=new oi;++u<l;)this.add(i[u])}function AL(i){return this.__data__.set(i,f),this}function $L(i){return this.__data__.has(i)}ws.prototype.add=ws.prototype.push=AL,ws.prototype.has=$L;function lo(i){var u=this.__data__=new ri(i);this.size=u.size}function RL(){this.__data__=new ri,this.size=0}function PL(i){var u=this.__data__,l=u.delete(i);return this.size=u.size,l}function ML(i){return this.__data__.get(i)}function NL(i){return this.__data__.has(i)}function LL(i,u){var l=this.__data__;if(l instanceof ri){var h=l.__data__;if(!uc||h.length<o-1)return h.push([i,u]),this.size=++l.size,this;l=this.__data__=new oi(h)}return l.set(i,u),this.size=l.size,this}lo.prototype.clear=RL,lo.prototype.delete=PL,lo.prototype.get=ML,lo.prototype.has=NL,lo.prototype.set=LL;function x1(i,u){var l=Ee(i),h=!l&&ks(i),v=!l&&!h&&Yi(i),E=!l&&!h&&!v&&Ma(i),C=l||h||v||E,O=C?Qg(i.length,VN):[],P=O.length;for(var V in i)(u||Je.call(i,V))&&!(C&&(V=="length"||v&&(V=="offset"||V=="parent")||E&&(V=="buffer"||V=="byteLength"||V=="byteOffset")||ui(V,P)))&&O.push(V);return O}function C1(i){var u=i.length;return u?i[gm(0,u-1)]:n}function FL(i,u){return qf(Qn(i),Es(u,0,i.length))}function BL(i){return qf(Qn(i))}function im(i,u,l){(l!==n&&!fo(i[u],l)||l===n&&!(u in i))&&ii(i,u,l)}function dc(i,u,l){var h=i[u];(!(Je.call(i,u)&&fo(h,l))||l===n&&!(u in i))&&ii(i,u,l)}function $f(i,u){for(var l=i.length;l--;)if(fo(i[l][0],u))return l;return-1}function jL(i,u,l,h){return Vi(i,function(v,E,C){u(h,v,l(v),C)}),h}function T1(i,u){return i&&To(u,Zt(u),i)}function DL(i,u){return i&&To(u,er(u),i)}function ii(i,u,l){u=="__proto__"&&Cf?Cf(i,u,{configurable:!0,enumerable:!0,value:l,writable:!0}):i[u]=l}function sm(i,u){for(var l=-1,h=u.length,v=B(h),E=i==null;++l<h;)v[l]=E?n:Dm(i,u[l]);return v}function Es(i,u,l){return i===i&&(l!==n&&(i=i<=l?i:l),u!==n&&(i=i>=u?i:u)),i}function jr(i,u,l,h,v,E){var C,O=u&g,P=u&m,V=u&y;if(l&&(C=v?l(i,h,v,E):l(i)),C!==n)return C;if(!St(i))return i;var H=Ee(i);if(H){if(C=OF(i),!O)return Qn(i,C)}else{var Y=Tn(i),ee=Y==ji||Y==Sa;if(Yi(i))return Y1(i,O);if(Y==wn||Y==wo||ee&&!v){if(C=P||ee?{}:gw(i),!O)return P?yF(i,DL(C,i)):mF(i,T1(C,i))}else{if(!ct[Y])return v?i:{};C=IF(i,Y,O)}}E||(E=new lo);var se=E.get(i);if(se)return se;E.set(i,C),qw(i)?i.forEach(function(pe){C.add(jr(pe,u,l,pe,i,E))}):Uw(i)&&i.forEach(function(pe,Pe){C.set(Pe,jr(pe,u,l,Pe,i,E))});var he=V?P?Tm:Cm:P?er:Zt,Oe=H?n:he(i);return Lr(Oe||i,function(pe,Pe){Oe&&(Pe=pe,pe=i[Pe]),dc(C,Pe,jr(pe,u,l,Pe,i,E))}),C}function WL(i){var u=Zt(i);return function(l){return k1(l,i,u)}}function k1(i,u,l){var h=l.length;if(i==null)return!h;for(i=Ze(i);h--;){var v=l[h],E=u[v],C=i[v];if(C===n&&!(v in i)||!E(C))return!1}return!0}function O1(i,u,l){if(typeof i!="function")throw new Fr(a);return _c(function(){i.apply(n,l)},u)}function hc(i,u,l,h){var v=-1,E=pf,C=!0,O=i.length,P=[],V=u.length;if(!O)return P;l&&(u=gt(u,cr(l))),h?(E=Vg,C=!1):u.length>=o&&(E=sc,C=!1,u=new ws(u));e:for(;++v<O;){var H=i[v],Y=l==null?H:l(H);if(H=h||H!==0?H:0,C&&Y===Y){for(var ee=V;ee--;)if(u[ee]===Y)continue e;P.push(H)}else E(u,Y,h)||P.push(H)}return P}var Vi=tw(Co),I1=tw(um,!0);function UL(i,u){var l=!0;return Vi(i,function(h,v,E){return l=!!u(h,v,E),l}),l}function Rf(i,u,l){for(var h=-1,v=i.length;++h<v;){var E=i[h],C=u(E);if(C!=null&&(O===n?C===C&&!fr(C):l(C,O)))var O=C,P=E}return P}function zL(i,u,l,h){var v=i.length;for(l=ke(l),l<0&&(l=-l>v?0:v+l),h=h===n||h>v?v:ke(h),h<0&&(h+=v),h=l>h?0:Vw(h);l<h;)i[l++]=u;return i}function A1(i,u){var l=[];return Vi(i,function(h,v,E){u(h,v,E)&&l.push(h)}),l}function dn(i,u,l,h,v){var E=-1,C=i.length;for(l||(l=$F),v||(v=[]);++E<C;){var O=i[E];u>0&&l(O)?u>1?dn(O,u-1,l,h,v):zi(v,O):h||(v[v.length]=O)}return v}var am=nw(),$1=nw(!0);function Co(i,u){return i&&am(i,u,Zt)}function um(i,u){return i&&$1(i,u,Zt)}function Pf(i,u){return Ui(u,function(l){return ci(i[l])})}function xs(i,u){u=Gi(u,i);for(var l=0,h=u.length;i!=null&&l<h;)i=i[ko(u[l++])];return l&&l==h?i:n}function R1(i,u,l){var h=u(i);return Ee(i)?h:zi(h,l(i))}function Dn(i){return i==null?i===n?En:oc:bs&&bs in Ze(i)?CF(i):BF(i)}function cm(i,u){return i>u}function qL(i,u){return i!=null&&Je.call(i,u)}function KL(i,u){return i!=null&&u in Ze(i)}function VL(i,u,l){return i>=Cn(u,l)&&i<Vt(u,l)}function lm(i,u,l){for(var h=l?Vg:pf,v=i[0].length,E=i.length,C=E,O=B(E),P=1/0,V=[];C--;){var H=i[C];C&&u&&(H=gt(H,cr(u))),P=Cn(H.length,P),O[C]=!l&&(u||v>=120&&H.length>=120)?new ws(C&&H):n}H=i[0];var Y=-1,ee=O[0];e:for(;++Y<v&&V.length<P;){var se=H[Y],he=u?u(se):se;if(se=l||se!==0?se:0,!(ee?sc(ee,he):h(V,he,l))){for(C=E;--C;){var Oe=O[C];if(!(Oe?sc(Oe,he):h(i[C],he,l)))continue e}ee&&ee.push(he),V.push(se)}}return V}function HL(i,u,l,h){return Co(i,function(v,E,C){u(h,l(v),E,C)}),h}function pc(i,u,l){u=Gi(u,i),i=_w(i,u);var h=i==null?i:i[ko(Wr(u))];return h==null?n:ur(h,i,l)}function P1(i){return xt(i)&&Dn(i)==wo}function GL(i){return xt(i)&&Dn(i)==uo}function JL(i){return xt(i)&&Dn(i)==Xn}function gc(i,u,l,h,v){return i===u?!0:i==null||u==null||!xt(i)&&!xt(u)?i!==i&&u!==u:YL(i,u,l,h,gc,v)}function YL(i,u,l,h,v,E){var C=Ee(i),O=Ee(u),P=C?Fi:Tn(i),V=O?Fi:Tn(u);P=P==wo?wn:P,V=V==wo?wn:V;var H=P==wn,Y=V==wn,ee=P==V;if(ee&&Yi(i)){if(!Yi(u))return!1;C=!0,H=!1}if(ee&&!H)return E||(E=new lo),C||Ma(i)?dw(i,u,l,h,v,E):EF(i,u,P,l,h,v,E);if(!(l&b)){var se=H&&Je.call(i,"__wrapped__"),he=Y&&Je.call(u,"__wrapped__");if(se||he){var Oe=se?i.value():i,pe=he?u.value():u;return E||(E=new lo),v(Oe,pe,l,h,E)}}return ee?(E||(E=new lo),xF(i,u,l,h,v,E)):!1}function XL(i){return xt(i)&&Tn(i)==ln}function fm(i,u,l,h){var v=l.length,E=v,C=!h;if(i==null)return!E;for(i=Ze(i);v--;){var O=l[v];if(C&&O[2]?O[1]!==i[O[0]]:!(O[0]in i))return!1}for(;++v<E;){O=l[v];var P=O[0],V=i[P],H=O[1];if(C&&O[2]){if(V===n&&!(P in i))return!1}else{var Y=new lo;if(h)var ee=h(V,H,P,i,u,Y);if(!(ee===n?gc(H,V,b|x,h,Y):ee))return!1}}return!0}function M1(i){if(!St(i)||PF(i))return!1;var u=ci(i)?XN:W2;return u.test(Ts(i))}function QL(i){return xt(i)&&Dn(i)==xo}function ZL(i){return xt(i)&&Tn(i)==jn}function eF(i){return xt(i)&&Yf(i.length)&&!!ft[Dn(i)]}function N1(i){return typeof i=="function"?i:i==null?tr:typeof i=="object"?Ee(i)?B1(i[0],i[1]):F1(i):rE(i)}function dm(i){if(!vc(i))return rL(i);var u=[];for(var l in Ze(i))Je.call(i,l)&&l!="constructor"&&u.push(l);return u}function tF(i){if(!St(i))return FF(i);var u=vc(i),l=[];for(var h in i)h=="constructor"&&(u||!Je.call(i,h))||l.push(h);return l}function hm(i,u){return i<u}function L1(i,u){var l=-1,h=Zn(i)?B(i.length):[];return Vi(i,function(v,E,C){h[++l]=u(v,E,C)}),h}function F1(i){var u=Om(i);return u.length==1&&u[0][2]?yw(u[0][0],u[0][1]):function(l){return l===i||fm(l,i,u)}}function B1(i,u){return Am(i)&&mw(u)?yw(ko(i),u):function(l){var h=Dm(l,i);return h===n&&h===u?Wm(l,i):gc(u,h,b|x)}}function Mf(i,u,l,h,v){i!==u&&am(u,function(E,C){if(v||(v=new lo),St(E))nF(i,u,C,l,Mf,h,v);else{var O=h?h(Rm(i,C),E,C+"",i,u,v):n;O===n&&(O=E),im(i,C,O)}},er)}function nF(i,u,l,h,v,E,C){var O=Rm(i,l),P=Rm(u,l),V=C.get(P);if(V){im(i,l,V);return}var H=E?E(O,P,l+"",i,u,C):n,Y=H===n;if(Y){var ee=Ee(P),se=!ee&&Yi(P),he=!ee&&!se&&Ma(P);H=P,ee||se||he?Ee(O)?H=O:At(O)?H=Qn(O):se?(Y=!1,H=Y1(P,!0)):he?(Y=!1,H=X1(P,!0)):H=[]:bc(P)||ks(P)?(H=O,ks(O)?H=Hw(O):(!St(O)||ci(O))&&(H=gw(P))):Y=!1}Y&&(C.set(P,H),v(H,P,h,E,C),C.delete(P)),im(i,l,H)}function j1(i,u){var l=i.length;if(l)return u+=u<0?l:0,ui(u,l)?i[u]:n}function D1(i,u,l){u.length?u=gt(u,function(E){return Ee(E)?function(C){return xs(C,E.length===1?E[0]:E)}:E}):u=[tr];var h=-1;u=gt(u,cr(de()));var v=L1(i,function(E,C,O){var P=gt(u,function(V){return V(E)});return{criteria:P,index:++h,value:E}});return IN(v,function(E,C){return gF(E,C,l)})}function rF(i,u){return W1(i,u,function(l,h){return Wm(i,h)})}function W1(i,u,l){for(var h=-1,v=u.length,E={};++h<v;){var C=u[h],O=xs(i,C);l(O,C)&&mc(E,Gi(C,i),O)}return E}function oF(i){return function(u){return xs(u,i)}}function pm(i,u,l,h){var v=h?ON:Ea,E=-1,C=u.length,O=i;for(i===u&&(u=Qn(u)),l&&(O=gt(i,cr(l)));++E<C;)for(var P=0,V=u[E],H=l?l(V):V;(P=v(O,H,P,h))>-1;)O!==i&&xf.call(O,P,1),xf.call(i,P,1);return i}function U1(i,u){for(var l=i?u.length:0,h=l-1;l--;){var v=u[l];if(l==h||v!==E){var E=v;ui(v)?xf.call(i,v,1):vm(i,v)}}return i}function gm(i,u){return i+kf(w1()*(u-i+1))}function iF(i,u,l,h){for(var v=-1,E=Vt(Tf((u-i)/(l||1)),0),C=B(E);E--;)C[h?E:++v]=i,i+=l;return C}function mm(i,u){var l="";if(!i||u<1||u>ce)return l;do u%2&&(l+=i),u=kf(u/2),u&&(i+=i);while(u);return l}function $e(i,u){return Pm(vw(i,u,tr),i+"")}function sF(i){return C1(Na(i))}function aF(i,u){var l=Na(i);return qf(l,Es(u,0,l.length))}function mc(i,u,l,h){if(!St(i))return i;u=Gi(u,i);for(var v=-1,E=u.length,C=E-1,O=i;O!=null&&++v<E;){var P=ko(u[v]),V=l;if(P==="__proto__"||P==="constructor"||P==="prototype")return i;if(v!=C){var H=O[P];V=h?h(H,P,O):n,V===n&&(V=St(H)?H:ui(u[v+1])?[]:{})}dc(O,P,V),O=O[P]}return i}var z1=Of?function(i,u){return Of.set(i,u),i}:tr,uF=Cf?function(i,u){return Cf(i,"toString",{configurable:!0,enumerable:!1,value:zm(u),writable:!0})}:tr;function cF(i){return qf(Na(i))}function Dr(i,u,l){var h=-1,v=i.length;u<0&&(u=-u>v?0:v+u),l=l>v?v:l,l<0&&(l+=v),v=u>l?0:l-u>>>0,u>>>=0;for(var E=B(v);++h<v;)E[h]=i[h+u];return E}function lF(i,u){var l;return Vi(i,function(h,v,E){return l=u(h,v,E),!l}),!!l}function Nf(i,u,l){var h=0,v=i==null?h:i.length;if(typeof u=="number"&&u===u&&v<=tc){for(;h<v;){var E=h+v>>>1,C=i[E];C!==null&&!fr(C)&&(l?C<=u:C<u)?h=E+1:v=E}return v}return ym(i,u,tr,l)}function ym(i,u,l,h){var v=0,E=i==null?0:i.length;if(E===0)return 0;u=l(u);for(var C=u!==u,O=u===null,P=fr(u),V=u===n;v<E;){var H=kf((v+E)/2),Y=l(i[H]),ee=Y!==n,se=Y===null,he=Y===Y,Oe=fr(Y);if(C)var pe=h||he;else V?pe=he&&(h||ee):O?pe=he&&ee&&(h||!se):P?pe=he&&ee&&!se&&(h||!Oe):se||Oe?pe=!1:pe=h?Y<=u:Y<u;pe?v=H+1:E=H}return Cn(E,Li)}function q1(i,u){for(var l=-1,h=i.length,v=0,E=[];++l<h;){var C=i[l],O=u?u(C):C;if(!l||!fo(O,P)){var P=O;E[v++]=C===0?0:C}}return E}function K1(i){return typeof i=="number"?i:fr(i)?cn:+i}function lr(i){if(typeof i=="string")return i;if(Ee(i))return gt(i,lr)+"";if(fr(i))return E1?E1.call(i):"";var u=i+"";return u=="0"&&1/i==-1/0?"-0":u}function Hi(i,u,l){var h=-1,v=pf,E=i.length,C=!0,O=[],P=O;if(l)C=!1,v=Vg;else if(E>=o){var V=u?null:SF(i);if(V)return mf(V);C=!1,v=sc,P=new ws}else P=u?[]:O;e:for(;++h<E;){var H=i[h],Y=u?u(H):H;if(H=l||H!==0?H:0,C&&Y===Y){for(var ee=P.length;ee--;)if(P[ee]===Y)continue e;u&&P.push(Y),O.push(H)}else v(P,Y,l)||(P!==O&&P.push(Y),O.push(H))}return O}function vm(i,u){return u=Gi(u,i),i=_w(i,u),i==null||delete i[ko(Wr(u))]}function V1(i,u,l,h){return mc(i,u,l(xs(i,u)),h)}function Lf(i,u,l,h){for(var v=i.length,E=h?v:-1;(h?E--:++E<v)&&u(i[E],E,i););return l?Dr(i,h?0:E,h?E+1:v):Dr(i,h?E+1:0,h?v:E)}function H1(i,u){var l=i;return l instanceof Ne&&(l=l.value()),Hg(u,function(h,v){return v.func.apply(v.thisArg,zi([h],v.args))},l)}function _m(i,u,l){var h=i.length;if(h<2)return h?Hi(i[0]):[];for(var v=-1,E=B(h);++v<h;)for(var C=i[v],O=-1;++O<h;)O!=v&&(E[v]=hc(E[v]||C,i[O],u,l));return Hi(dn(E,1),u,l)}function G1(i,u,l){for(var h=-1,v=i.length,E=u.length,C={};++h<v;){var O=h<E?u[h]:n;l(C,i[h],O)}return C}function bm(i){return At(i)?i:[]}function Sm(i){return typeof i=="function"?i:tr}function Gi(i,u){return Ee(i)?i:Am(i,u)?[i]:Ew(He(i))}var fF=$e;function Ji(i,u,l){var h=i.length;return l=l===n?h:l,!u&&l>=h?i:Dr(i,u,l)}var J1=QN||function(i){return fn.clearTimeout(i)};function Y1(i,u){if(u)return i.slice();var l=i.length,h=y1?y1(l):new i.constructor(l);return i.copy(h),h}function wm(i){var u=new i.constructor(i.byteLength);return new wf(u).set(new wf(i)),u}function dF(i,u){var l=u?wm(i.buffer):i.buffer;return new i.constructor(l,i.byteOffset,i.byteLength)}function hF(i){var u=new i.constructor(i.source,PS.exec(i));return u.lastIndex=i.lastIndex,u}function pF(i){return fc?Ze(fc.call(i)):{}}function X1(i,u){var l=u?wm(i.buffer):i.buffer;return new i.constructor(l,i.byteOffset,i.length)}function Q1(i,u){if(i!==u){var l=i!==n,h=i===null,v=i===i,E=fr(i),C=u!==n,O=u===null,P=u===u,V=fr(u);if(!O&&!V&&!E&&i>u||E&&C&&P&&!O&&!V||h&&C&&P||!l&&P||!v)return 1;if(!h&&!E&&!V&&i<u||V&&l&&v&&!h&&!E||O&&l&&v||!C&&v||!P)return-1}return 0}function gF(i,u,l){for(var h=-1,v=i.criteria,E=u.criteria,C=v.length,O=l.length;++h<C;){var P=Q1(v[h],E[h]);if(P){if(h>=O)return P;var V=l[h];return P*(V=="desc"?-1:1)}}return i.index-u.index}function Z1(i,u,l,h){for(var v=-1,E=i.length,C=l.length,O=-1,P=u.length,V=Vt(E-C,0),H=B(P+V),Y=!h;++O<P;)H[O]=u[O];for(;++v<C;)(Y||v<E)&&(H[l[v]]=i[v]);for(;V--;)H[O++]=i[v++];return H}function ew(i,u,l,h){for(var v=-1,E=i.length,C=-1,O=l.length,P=-1,V=u.length,H=Vt(E-O,0),Y=B(H+V),ee=!h;++v<H;)Y[v]=i[v];for(var se=v;++P<V;)Y[se+P]=u[P];for(;++C<O;)(ee||v<E)&&(Y[se+l[C]]=i[v++]);return Y}function Qn(i,u){var l=-1,h=i.length;for(u||(u=B(h));++l<h;)u[l]=i[l];return u}function To(i,u,l,h){var v=!l;l||(l={});for(var E=-1,C=u.length;++E<C;){var O=u[E],P=h?h(l[O],i[O],O,l,i):n;P===n&&(P=i[O]),v?ii(l,O,P):dc(l,O,P)}return l}function mF(i,u){return To(i,Im(i),u)}function yF(i,u){return To(i,hw(i),u)}function Ff(i,u){return function(l,h){var v=Ee(l)?wN:jL,E=u?u():{};return v(l,i,de(h,2),E)}}function $a(i){return $e(function(u,l){var h=-1,v=l.length,E=v>1?l[v-1]:n,C=v>2?l[2]:n;for(E=i.length>3&&typeof E=="function"?(v--,E):n,C&&Wn(l[0],l[1],C)&&(E=v<3?n:E,v=1),u=Ze(u);++h<v;){var O=l[h];O&&i(u,O,h,E)}return u})}function tw(i,u){return function(l,h){if(l==null)return l;if(!Zn(l))return i(l,h);for(var v=l.length,E=u?v:-1,C=Ze(l);(u?E--:++E<v)&&h(C[E],E,C)!==!1;);return l}}function nw(i){return function(u,l,h){for(var v=-1,E=Ze(u),C=h(u),O=C.length;O--;){var P=C[i?O:++v];if(l(E[P],P,E)===!1)break}return u}}function vF(i,u,l){var h=u&T,v=yc(i);function E(){var C=this&&this!==fn&&this instanceof E?v:i;return C.apply(h?l:this,arguments)}return E}function rw(i){return function(u){u=He(u);var l=xa(u)?co(u):n,h=l?l[0]:u.charAt(0),v=l?Ji(l,1).join(""):u.slice(1);return h[i]()+v}}function Ra(i){return function(u){return Hg(tE(eE(u).replace(uN,"")),i,"")}}function yc(i){return function(){var u=arguments;switch(u.length){case 0:return new i;case 1:return new i(u[0]);case 2:return new i(u[0],u[1]);case 3:return new i(u[0],u[1],u[2]);case 4:return new i(u[0],u[1],u[2],u[3]);case 5:return new i(u[0],u[1],u[2],u[3],u[4]);case 6:return new i(u[0],u[1],u[2],u[3],u[4],u[5]);case 7:return new i(u[0],u[1],u[2],u[3],u[4],u[5],u[6])}var l=Aa(i.prototype),h=i.apply(l,u);return St(h)?h:l}}function _F(i,u,l){var h=yc(i);function v(){for(var E=arguments.length,C=B(E),O=E,P=Pa(v);O--;)C[O]=arguments[O];var V=E<3&&C[0]!==P&&C[E-1]!==P?[]:qi(C,P);if(E-=V.length,E<l)return uw(i,u,Bf,v.placeholder,n,C,V,n,n,l-E);var H=this&&this!==fn&&this instanceof v?h:i;return ur(H,this,C)}return v}function ow(i){return function(u,l,h){var v=Ze(u);if(!Zn(u)){var E=de(l,3);u=Zt(u),l=function(O){return E(v[O],O,v)}}var C=i(u,l,h);return C>-1?v[E?u[C]:C]:n}}function iw(i){return ai(function(u){var l=u.length,h=l,v=Br.prototype.thru;for(i&&u.reverse();h--;){var E=u[h];if(typeof E!="function")throw new Fr(a);if(v&&!C&&Uf(E)=="wrapper")var C=new Br([],!0)}for(h=C?h:l;++h<l;){E=u[h];var O=Uf(E),P=O=="wrapper"?km(E):n;P&&$m(P[0])&&P[1]==(A|N|W|U)&&!P[4].length&&P[9]==1?C=C[Uf(P[0])].apply(C,P[3]):C=E.length==1&&$m(E)?C[O]():C.thru(E)}return function(){var V=arguments,H=V[0];if(C&&V.length==1&&Ee(H))return C.plant(H).value();for(var Y=0,ee=l?u[Y].apply(this,V):H;++Y<l;)ee=u[Y].call(this,ee);return ee}})}function Bf(i,u,l,h,v,E,C,O,P,V){var H=u&A,Y=u&T,ee=u&k,se=u&(N|R),he=u&K,Oe=ee?n:yc(i);function pe(){for(var Pe=arguments.length,Fe=B(Pe),dr=Pe;dr--;)Fe[dr]=arguments[dr];if(se)var Un=Pa(pe),hr=$N(Fe,Un);if(h&&(Fe=Z1(Fe,h,v,se)),E&&(Fe=ew(Fe,E,C,se)),Pe-=hr,se&&Pe<V){var $t=qi(Fe,Un);return uw(i,u,Bf,pe.placeholder,l,Fe,$t,O,P,V-Pe)}var ho=Y?l:this,fi=ee?ho[i]:i;return Pe=Fe.length,O?Fe=jF(Fe,O):he&&Pe>1&&Fe.reverse(),H&&P<Pe&&(Fe.length=P),this&&this!==fn&&this instanceof pe&&(fi=Oe||yc(fi)),fi.apply(ho,Fe)}return pe}function sw(i,u){return function(l,h){return HL(l,i,u(h),{})}}function jf(i,u){return function(l,h){var v;if(l===n&&h===n)return u;if(l!==n&&(v=l),h!==n){if(v===n)return h;typeof l=="string"||typeof h=="string"?(l=lr(l),h=lr(h)):(l=K1(l),h=K1(h)),v=i(l,h)}return v}}function Em(i){return ai(function(u){return u=gt(u,cr(de())),$e(function(l){var h=this;return i(u,function(v){return ur(v,h,l)})})})}function Df(i,u){u=u===n?" ":lr(u);var l=u.length;if(l<2)return l?mm(u,i):u;var h=mm(u,Tf(i/Ca(u)));return xa(u)?Ji(co(h),0,i).join(""):h.slice(0,i)}function bF(i,u,l,h){var v=u&T,E=yc(i);function C(){for(var O=-1,P=arguments.length,V=-1,H=h.length,Y=B(H+P),ee=this&&this!==fn&&this instanceof C?E:i;++V<H;)Y[V]=h[V];for(;P--;)Y[V++]=arguments[++O];return ur(ee,v?l:this,Y)}return C}function aw(i){return function(u,l,h){return h&&typeof h!="number"&&Wn(u,l,h)&&(l=h=n),u=li(u),l===n?(l=u,u=0):l=li(l),h=h===n?u<l?1:-1:li(h),iF(u,l,h,i)}}function Wf(i){return function(u,l){return typeof u=="string"&&typeof l=="string"||(u=Ur(u),l=Ur(l)),i(u,l)}}function uw(i,u,l,h,v,E,C,O,P,V){var H=u&N,Y=H?C:n,ee=H?n:C,se=H?E:n,he=H?n:E;u|=H?W:j,u&=~(H?j:W),u&L||(u&=-4);var Oe=[i,u,v,se,Y,he,ee,O,P,V],pe=l.apply(n,Oe);return $m(i)&&bw(pe,Oe),pe.placeholder=h,Sw(pe,i,u)}function xm(i){var u=Kt[i];return function(l,h){if(l=Ur(l),h=h==null?0:Cn(ke(h),292),h&&S1(l)){var v=(He(l)+"e").split("e"),E=u(v[0]+"e"+(+v[1]+h));return v=(He(E)+"e").split("e"),+(v[0]+"e"+(+v[1]-h))}return u(l)}}var SF=Oa&&1/mf(new Oa([,-0]))[1]==ie?function(i){return new Oa(i)}:Vm;function cw(i){return function(u){var l=Tn(u);return l==ln?em(u):l==jn?BN(u):AN(u,i(u))}}function si(i,u,l,h,v,E,C,O){var P=u&k;if(!P&&typeof i!="function")throw new Fr(a);var V=h?h.length:0;if(V||(u&=-97,h=v=n),C=C===n?C:Vt(ke(C),0),O=O===n?O:ke(O),V-=v?v.length:0,u&j){var H=h,Y=v;h=v=n}var ee=P?n:km(i),se=[i,u,l,h,v,H,Y,E,C,O];if(ee&&LF(se,ee),i=se[0],u=se[1],l=se[2],h=se[3],v=se[4],O=se[9]=se[9]===n?P?0:i.length:Vt(se[9]-V,0),!O&&u&(N|R)&&(u&=-25),!u||u==T)var he=vF(i,u,l);else u==N||u==R?he=_F(i,u,O):(u==W||u==(T|W))&&!v.length?he=bF(i,u,l,h):he=Bf.apply(n,se);var Oe=ee?z1:bw;return Sw(Oe(he,se),i,u)}function lw(i,u,l,h){return i===n||fo(i,ka[l])&&!Je.call(h,l)?u:i}function fw(i,u,l,h,v,E){return St(i)&&St(u)&&(E.set(u,i),Mf(i,u,n,fw,E),E.delete(u)),i}function wF(i){return bc(i)?n:i}function dw(i,u,l,h,v,E){var C=l&b,O=i.length,P=u.length;if(O!=P&&!(C&&P>O))return!1;var V=E.get(i),H=E.get(u);if(V&&H)return V==u&&H==i;var Y=-1,ee=!0,se=l&x?new ws:n;for(E.set(i,u),E.set(u,i);++Y<O;){var he=i[Y],Oe=u[Y];if(h)var pe=C?h(Oe,he,Y,u,i,E):h(he,Oe,Y,i,u,E);if(pe!==n){if(pe)continue;ee=!1;break}if(se){if(!Gg(u,function(Pe,Fe){if(!sc(se,Fe)&&(he===Pe||v(he,Pe,l,h,E)))return se.push(Fe)})){ee=!1;break}}else if(!(he===Oe||v(he,Oe,l,h,E))){ee=!1;break}}return E.delete(i),E.delete(u),ee}function EF(i,u,l,h,v,E,C){switch(l){case Wi:if(i.byteLength!=u.byteLength||i.byteOffset!=u.byteOffset)return!1;i=i.buffer,u=u.buffer;case uo:return!(i.byteLength!=u.byteLength||!E(new wf(i),new wf(u)));case ti:case Xn:case ni:return fo(+i,+u);case Bi:return i.name==u.name&&i.message==u.message;case xo:case Z:return i==u+"";case ln:var O=em;case jn:var P=h&b;if(O||(O=mf),i.size!=u.size&&!P)return!1;var V=C.get(i);if(V)return V==u;h|=x,C.set(i,u);var H=dw(O(i),O(u),h,v,E,C);return C.delete(i),H;case ge:if(fc)return fc.call(i)==fc.call(u)}return!1}function xF(i,u,l,h,v,E){var C=l&b,O=Cm(i),P=O.length,V=Cm(u),H=V.length;if(P!=H&&!C)return!1;for(var Y=P;Y--;){var ee=O[Y];if(!(C?ee in u:Je.call(u,ee)))return!1}var se=E.get(i),he=E.get(u);if(se&&he)return se==u&&he==i;var Oe=!0;E.set(i,u),E.set(u,i);for(var pe=C;++Y<P;){ee=O[Y];var Pe=i[ee],Fe=u[ee];if(h)var dr=C?h(Fe,Pe,ee,u,i,E):h(Pe,Fe,ee,i,u,E);if(!(dr===n?Pe===Fe||v(Pe,Fe,l,h,E):dr)){Oe=!1;break}pe||(pe=ee=="constructor")}if(Oe&&!pe){var Un=i.constructor,hr=u.constructor;Un!=hr&&"constructor"in i&&"constructor"in u&&!(typeof Un=="function"&&Un instanceof Un&&typeof hr=="function"&&hr instanceof hr)&&(Oe=!1)}return E.delete(i),E.delete(u),Oe}function ai(i){return Pm(vw(i,n,kw),i+"")}function Cm(i){return R1(i,Zt,Im)}function Tm(i){return R1(i,er,hw)}var km=Of?function(i){return Of.get(i)}:Vm;function Uf(i){for(var u=i.name+"",l=Ia[u],h=Je.call(Ia,u)?l.length:0;h--;){var v=l[h],E=v.func;if(E==null||E==i)return v.name}return u}function Pa(i){var u=Je.call(w,"placeholder")?w:i;return u.placeholder}function de(){var i=w.iteratee||qm;return i=i===qm?N1:i,arguments.length?i(arguments[0],arguments[1]):i}function zf(i,u){var l=i.__data__;return RF(u)?l[typeof u=="string"?"string":"hash"]:l.map}function Om(i){for(var u=Zt(i),l=u.length;l--;){var h=u[l],v=i[h];u[l]=[h,v,mw(v)]}return u}function Cs(i,u){var l=NN(i,u);return M1(l)?l:n}function CF(i){var u=Je.call(i,bs),l=i[bs];try{i[bs]=n;var h=!0}catch{}var v=bf.call(i);return h&&(u?i[bs]=l:delete i[bs]),v}var Im=nm?function(i){return i==null?[]:(i=Ze(i),Ui(nm(i),function(u){return _1.call(i,u)}))}:Hm,hw=nm?function(i){for(var u=[];i;)zi(u,Im(i)),i=Ef(i);return u}:Hm,Tn=Dn;(rm&&Tn(new rm(new ArrayBuffer(1)))!=Wi||uc&&Tn(new uc)!=ln||om&&Tn(om.resolve())!=Eo||Oa&&Tn(new Oa)!=jn||cc&&Tn(new cc)!=xn)&&(Tn=function(i){var u=Dn(i),l=u==wn?i.constructor:n,h=l?Ts(l):"";if(h)switch(h){case aL:return Wi;case uL:return ln;case cL:return Eo;case lL:return jn;case fL:return xn}return u});function TF(i,u,l){for(var h=-1,v=l.length;++h<v;){var E=l[h],C=E.size;switch(E.type){case"drop":i+=C;break;case"dropRight":u-=C;break;case"take":u=Cn(u,i+C);break;case"takeRight":i=Vt(i,u-C);break}}return{start:i,end:u}}function kF(i){var u=i.match(P2);return u?u[1].split(M2):[]}function pw(i,u,l){u=Gi(u,i);for(var h=-1,v=u.length,E=!1;++h<v;){var C=ko(u[h]);if(!(E=i!=null&&l(i,C)))break;i=i[C]}return E||++h!=v?E:(v=i==null?0:i.length,!!v&&Yf(v)&&ui(C,v)&&(Ee(i)||ks(i)))}function OF(i){var u=i.length,l=new i.constructor(u);return u&&typeof i[0]=="string"&&Je.call(i,"index")&&(l.index=i.index,l.input=i.input),l}function gw(i){return typeof i.constructor=="function"&&!vc(i)?Aa(Ef(i)):{}}function IF(i,u,l){var h=i.constructor;switch(u){case uo:return wm(i);case ti:case Xn:return new h(+i);case Wi:return dF(i,l);case Og:case Ig:case Ag:case $g:case Rg:case Pg:case Mg:case Ng:case Lg:return X1(i,l);case ln:return new h;case ni:case Z:return new h(i);case xo:return hF(i);case jn:return new h;case ge:return pF(i)}}function AF(i,u){var l=u.length;if(!l)return i;var h=l-1;return u[h]=(l>1?"& ":"")+u[h],u=u.join(l>2?", ":" "),i.replace(R2,`{
/* [wrapped with `+u+`] */
`)}function $F(i){return Ee(i)||ks(i)||!!(b1&&i&&i[b1])}function ui(i,u){var l=typeof i;return u=u??ce,!!u&&(l=="number"||l!="symbol"&&z2.test(i))&&i>-1&&i%1==0&&i<u}function Wn(i,u,l){if(!St(l))return!1;var h=typeof u;return(h=="number"?Zn(l)&&ui(u,l.length):h=="string"&&u in l)?fo(l[u],i):!1}function Am(i,u){if(Ee(i))return!1;var l=typeof i;return l=="number"||l=="symbol"||l=="boolean"||i==null||fr(i)?!0:O2.test(i)||!k2.test(i)||u!=null&&i in Ze(u)}function RF(i){var u=typeof i;return u=="string"||u=="number"||u=="symbol"||u=="boolean"?i!=="__proto__":i===null}function $m(i){var u=Uf(i),l=w[u];if(typeof l!="function"||!(u in Ne.prototype))return!1;if(i===l)return!0;var h=km(l);return!!h&&i===h[0]}function PF(i){return!!m1&&m1 in i}var MF=vf?ci:Gm;function vc(i){var u=i&&i.constructor,l=typeof u=="function"&&u.prototype||ka;return i===l}function mw(i){return i===i&&!St(i)}function yw(i,u){return function(l){return l==null?!1:l[i]===u&&(u!==n||i in Ze(l))}}function NF(i){var u=Gf(i,function(h){return l.size===d&&l.clear(),h}),l=u.cache;return u}function LF(i,u){var l=i[1],h=u[1],v=l|h,E=v<(T|k|A),C=h==A&&l==N||h==A&&l==U&&i[7].length<=u[8]||h==(A|U)&&u[7].length<=u[8]&&l==N;if(!(E||C))return i;h&T&&(i[2]=u[2],v|=l&T?0:L);var O=u[3];if(O){var P=i[3];i[3]=P?Z1(P,O,u[4]):O,i[4]=P?qi(i[3],p):u[4]}return O=u[5],O&&(P=i[5],i[5]=P?ew(P,O,u[6]):O,i[6]=P?qi(i[5],p):u[6]),O=u[7],O&&(i[7]=O),h&A&&(i[8]=i[8]==null?u[8]:Cn(i[8],u[8])),i[9]==null&&(i[9]=u[9]),i[0]=u[0],i[1]=v,i}function FF(i){var u=[];if(i!=null)for(var l in Ze(i))u.push(l);return u}function BF(i){return bf.call(i)}function vw(i,u,l){return u=Vt(u===n?i.length-1:u,0),function(){for(var h=arguments,v=-1,E=Vt(h.length-u,0),C=B(E);++v<E;)C[v]=h[u+v];v=-1;for(var O=B(u+1);++v<u;)O[v]=h[v];return O[u]=l(C),ur(i,this,O)}}function _w(i,u){return u.length<2?i:xs(i,Dr(u,0,-1))}function jF(i,u){for(var l=i.length,h=Cn(u.length,l),v=Qn(i);h--;){var E=u[h];i[h]=ui(E,l)?v[E]:n}return i}function Rm(i,u){if(!(u==="constructor"&&typeof i[u]=="function")&&u!="__proto__")return i[u]}var bw=ww(z1),_c=eL||function(i,u){return fn.setTimeout(i,u)},Pm=ww(uF);function Sw(i,u,l){var h=u+"";return Pm(i,AF(h,DF(kF(h),l)))}function ww(i){var u=0,l=0;return function(){var h=oL(),v=X-(h-l);if(l=h,v>0){if(++u>=D)return arguments[0]}else u=0;return i.apply(n,arguments)}}function qf(i,u){var l=-1,h=i.length,v=h-1;for(u=u===n?h:u;++l<u;){var E=gm(l,v),C=i[E];i[E]=i[l],i[l]=C}return i.length=u,i}var Ew=NF(function(i){var u=[];return i.charCodeAt(0)===46&&u.push(""),i.replace(I2,function(l,h,v,E){u.push(v?E.replace(F2,"$1"):h||l)}),u});function ko(i){if(typeof i=="string"||fr(i))return i;var u=i+"";return u=="0"&&1/i==-1/0?"-0":u}function Ts(i){if(i!=null){try{return _f.call(i)}catch{}try{return i+""}catch{}}return""}function DF(i,u){return Lr(nc,function(l){var h="_."+l[0];u&l[1]&&!pf(i,h)&&i.push(h)}),i.sort()}function xw(i){if(i instanceof Ne)return i.clone();var u=new Br(i.__wrapped__,i.__chain__);return u.__actions__=Qn(i.__actions__),u.__index__=i.__index__,u.__values__=i.__values__,u}function WF(i,u,l){(l?Wn(i,u,l):u===n)?u=1:u=Vt(ke(u),0);var h=i==null?0:i.length;if(!h||u<1)return[];for(var v=0,E=0,C=B(Tf(h/u));v<h;)C[E++]=Dr(i,v,v+=u);return C}function UF(i){for(var u=-1,l=i==null?0:i.length,h=0,v=[];++u<l;){var E=i[u];E&&(v[h++]=E)}return v}function zF(){var i=arguments.length;if(!i)return[];for(var u=B(i-1),l=arguments[0],h=i;h--;)u[h-1]=arguments[h];return zi(Ee(l)?Qn(l):[l],dn(u,1))}var qF=$e(function(i,u){return At(i)?hc(i,dn(u,1,At,!0)):[]}),KF=$e(function(i,u){var l=Wr(u);return At(l)&&(l=n),At(i)?hc(i,dn(u,1,At,!0),de(l,2)):[]}),VF=$e(function(i,u){var l=Wr(u);return At(l)&&(l=n),At(i)?hc(i,dn(u,1,At,!0),n,l):[]});function HF(i,u,l){var h=i==null?0:i.length;return h?(u=l||u===n?1:ke(u),Dr(i,u<0?0:u,h)):[]}function GF(i,u,l){var h=i==null?0:i.length;return h?(u=l||u===n?1:ke(u),u=h-u,Dr(i,0,u<0?0:u)):[]}function JF(i,u){return i&&i.length?Lf(i,de(u,3),!0,!0):[]}function YF(i,u){return i&&i.length?Lf(i,de(u,3),!0):[]}function XF(i,u,l,h){var v=i==null?0:i.length;return v?(l&&typeof l!="number"&&Wn(i,u,l)&&(l=0,h=v),zL(i,u,l,h)):[]}function Cw(i,u,l){var h=i==null?0:i.length;if(!h)return-1;var v=l==null?0:ke(l);return v<0&&(v=Vt(h+v,0)),gf(i,de(u,3),v)}function Tw(i,u,l){var h=i==null?0:i.length;if(!h)return-1;var v=h-1;return l!==n&&(v=ke(l),v=l<0?Vt(h+v,0):Cn(v,h-1)),gf(i,de(u,3),v,!0)}function kw(i){var u=i==null?0:i.length;return u?dn(i,1):[]}function QF(i){var u=i==null?0:i.length;return u?dn(i,ie):[]}function ZF(i,u){var l=i==null?0:i.length;return l?(u=u===n?1:ke(u),dn(i,u)):[]}function eB(i){for(var u=-1,l=i==null?0:i.length,h={};++u<l;){var v=i[u];h[v[0]]=v[1]}return h}function Ow(i){return i&&i.length?i[0]:n}function tB(i,u,l){var h=i==null?0:i.length;if(!h)return-1;var v=l==null?0:ke(l);return v<0&&(v=Vt(h+v,0)),Ea(i,u,v)}function nB(i){var u=i==null?0:i.length;return u?Dr(i,0,-1):[]}var rB=$e(function(i){var u=gt(i,bm);return u.length&&u[0]===i[0]?lm(u):[]}),oB=$e(function(i){var u=Wr(i),l=gt(i,bm);return u===Wr(l)?u=n:l.pop(),l.length&&l[0]===i[0]?lm(l,de(u,2)):[]}),iB=$e(function(i){var u=Wr(i),l=gt(i,bm);return u=typeof u=="function"?u:n,u&&l.pop(),l.length&&l[0]===i[0]?lm(l,n,u):[]});function sB(i,u){return i==null?"":nL.call(i,u)}function Wr(i){var u=i==null?0:i.length;return u?i[u-1]:n}function aB(i,u,l){var h=i==null?0:i.length;if(!h)return-1;var v=h;return l!==n&&(v=ke(l),v=v<0?Vt(h+v,0):Cn(v,h-1)),u===u?DN(i,u,v):gf(i,u1,v,!0)}function uB(i,u){return i&&i.length?j1(i,ke(u)):n}var cB=$e(Iw);function Iw(i,u){return i&&i.length&&u&&u.length?pm(i,u):i}function lB(i,u,l){return i&&i.length&&u&&u.length?pm(i,u,de(l,2)):i}function fB(i,u,l){return i&&i.length&&u&&u.length?pm(i,u,n,l):i}var dB=ai(function(i,u){var l=i==null?0:i.length,h=sm(i,u);return U1(i,gt(u,function(v){return ui(v,l)?+v:v}).sort(Q1)),h});function hB(i,u){var l=[];if(!(i&&i.length))return l;var h=-1,v=[],E=i.length;for(u=de(u,3);++h<E;){var C=i[h];u(C,h,i)&&(l.push(C),v.push(h))}return U1(i,v),l}function Mm(i){return i==null?i:sL.call(i)}function pB(i,u,l){var h=i==null?0:i.length;return h?(l&&typeof l!="number"&&Wn(i,u,l)?(u=0,l=h):(u=u==null?0:ke(u),l=l===n?h:ke(l)),Dr(i,u,l)):[]}function gB(i,u){return Nf(i,u)}function mB(i,u,l){return ym(i,u,de(l,2))}function yB(i,u){var l=i==null?0:i.length;if(l){var h=Nf(i,u);if(h<l&&fo(i[h],u))return h}return-1}function vB(i,u){return Nf(i,u,!0)}function _B(i,u,l){return ym(i,u,de(l,2),!0)}function bB(i,u){var l=i==null?0:i.length;if(l){var h=Nf(i,u,!0)-1;if(fo(i[h],u))return h}return-1}function SB(i){return i&&i.length?q1(i):[]}function wB(i,u){return i&&i.length?q1(i,de(u,2)):[]}function EB(i){var u=i==null?0:i.length;return u?Dr(i,1,u):[]}function xB(i,u,l){return i&&i.length?(u=l||u===n?1:ke(u),Dr(i,0,u<0?0:u)):[]}function CB(i,u,l){var h=i==null?0:i.length;return h?(u=l||u===n?1:ke(u),u=h-u,Dr(i,u<0?0:u,h)):[]}function TB(i,u){return i&&i.length?Lf(i,de(u,3),!1,!0):[]}function kB(i,u){return i&&i.length?Lf(i,de(u,3)):[]}var OB=$e(function(i){return Hi(dn(i,1,At,!0))}),IB=$e(function(i){var u=Wr(i);return At(u)&&(u=n),Hi(dn(i,1,At,!0),de(u,2))}),AB=$e(function(i){var u=Wr(i);return u=typeof u=="function"?u:n,Hi(dn(i,1,At,!0),n,u)});function $B(i){return i&&i.length?Hi(i):[]}function RB(i,u){return i&&i.length?Hi(i,de(u,2)):[]}function PB(i,u){return u=typeof u=="function"?u:n,i&&i.length?Hi(i,n,u):[]}function Nm(i){if(!(i&&i.length))return[];var u=0;return i=Ui(i,function(l){if(At(l))return u=Vt(l.length,u),!0}),Qg(u,function(l){return gt(i,Jg(l))})}function Aw(i,u){if(!(i&&i.length))return[];var l=Nm(i);return u==null?l:gt(l,function(h){return ur(u,n,h)})}var MB=$e(function(i,u){return At(i)?hc(i,u):[]}),NB=$e(function(i){return _m(Ui(i,At))}),LB=$e(function(i){var u=Wr(i);return At(u)&&(u=n),_m(Ui(i,At),de(u,2))}),FB=$e(function(i){var u=Wr(i);return u=typeof u=="function"?u:n,_m(Ui(i,At),n,u)}),BB=$e(Nm);function jB(i,u){return G1(i||[],u||[],dc)}function DB(i,u){return G1(i||[],u||[],mc)}var WB=$e(function(i){var u=i.length,l=u>1?i[u-1]:n;return l=typeof l=="function"?(i.pop(),l):n,Aw(i,l)});function $w(i){var u=w(i);return u.__chain__=!0,u}function UB(i,u){return u(i),i}function Kf(i,u){return u(i)}var zB=ai(function(i){var u=i.length,l=u?i[0]:0,h=this.__wrapped__,v=function(E){return sm(E,i)};return u>1||this.__actions__.length||!(h instanceof Ne)||!ui(l)?this.thru(v):(h=h.slice(l,+l+(u?1:0)),h.__actions__.push({func:Kf,args:[v],thisArg:n}),new Br(h,this.__chain__).thru(function(E){return u&&!E.length&&E.push(n),E}))});function qB(){return $w(this)}function KB(){return new Br(this.value(),this.__chain__)}function VB(){this.__values__===n&&(this.__values__=Kw(this.value()));var i=this.__index__>=this.__values__.length,u=i?n:this.__values__[this.__index__++];return{done:i,value:u}}function HB(){return this}function GB(i){for(var u,l=this;l instanceof Af;){var h=xw(l);h.__index__=0,h.__values__=n,u?v.__wrapped__=h:u=h;var v=h;l=l.__wrapped__}return v.__wrapped__=i,u}function JB(){var i=this.__wrapped__;if(i instanceof Ne){var u=i;return this.__actions__.length&&(u=new Ne(this)),u=u.reverse(),u.__actions__.push({func:Kf,args:[Mm],thisArg:n}),new Br(u,this.__chain__)}return this.thru(Mm)}function YB(){return H1(this.__wrapped__,this.__actions__)}var XB=Ff(function(i,u,l){Je.call(i,l)?++i[l]:ii(i,l,1)});function QB(i,u,l){var h=Ee(i)?s1:UL;return l&&Wn(i,u,l)&&(u=n),h(i,de(u,3))}function ZB(i,u){var l=Ee(i)?Ui:A1;return l(i,de(u,3))}var e5=ow(Cw),t5=ow(Tw);function n5(i,u){return dn(Vf(i,u),1)}function r5(i,u){return dn(Vf(i,u),ie)}function o5(i,u,l){return l=l===n?1:ke(l),dn(Vf(i,u),l)}function Rw(i,u){var l=Ee(i)?Lr:Vi;return l(i,de(u,3))}function Pw(i,u){var l=Ee(i)?EN:I1;return l(i,de(u,3))}var i5=Ff(function(i,u,l){Je.call(i,l)?i[l].push(u):ii(i,l,[u])});function s5(i,u,l,h){i=Zn(i)?i:Na(i),l=l&&!h?ke(l):0;var v=i.length;return l<0&&(l=Vt(v+l,0)),Xf(i)?l<=v&&i.indexOf(u,l)>-1:!!v&&Ea(i,u,l)>-1}var a5=$e(function(i,u,l){var h=-1,v=typeof u=="function",E=Zn(i)?B(i.length):[];return Vi(i,function(C){E[++h]=v?ur(u,C,l):pc(C,u,l)}),E}),u5=Ff(function(i,u,l){ii(i,l,u)});function Vf(i,u){var l=Ee(i)?gt:L1;return l(i,de(u,3))}function c5(i,u,l,h){return i==null?[]:(Ee(u)||(u=u==null?[]:[u]),l=h?n:l,Ee(l)||(l=l==null?[]:[l]),D1(i,u,l))}var l5=Ff(function(i,u,l){i[l?0:1].push(u)},function(){return[[],[]]});function f5(i,u,l){var h=Ee(i)?Hg:l1,v=arguments.length<3;return h(i,de(u,4),l,v,Vi)}function d5(i,u,l){var h=Ee(i)?xN:l1,v=arguments.length<3;return h(i,de(u,4),l,v,I1)}function h5(i,u){var l=Ee(i)?Ui:A1;return l(i,Jf(de(u,3)))}function p5(i){var u=Ee(i)?C1:sF;return u(i)}function g5(i,u,l){(l?Wn(i,u,l):u===n)?u=1:u=ke(u);var h=Ee(i)?FL:aF;return h(i,u)}function m5(i){var u=Ee(i)?BL:cF;return u(i)}function y5(i){if(i==null)return 0;if(Zn(i))return Xf(i)?Ca(i):i.length;var u=Tn(i);return u==ln||u==jn?i.size:dm(i).length}function v5(i,u,l){var h=Ee(i)?Gg:lF;return l&&Wn(i,u,l)&&(u=n),h(i,de(u,3))}var _5=$e(function(i,u){if(i==null)return[];var l=u.length;return l>1&&Wn(i,u[0],u[1])?u=[]:l>2&&Wn(u[0],u[1],u[2])&&(u=[u[0]]),D1(i,dn(u,1),[])}),Hf=ZN||function(){return fn.Date.now()};function b5(i,u){if(typeof u!="function")throw new Fr(a);return i=ke(i),function(){if(--i<1)return u.apply(this,arguments)}}function Mw(i,u,l){return u=l?n:u,u=i&&u==null?i.length:u,si(i,A,n,n,n,n,u)}function Nw(i,u){var l;if(typeof u!="function")throw new Fr(a);return i=ke(i),function(){return--i>0&&(l=u.apply(this,arguments)),i<=1&&(u=n),l}}var Lm=$e(function(i,u,l){var h=T;if(l.length){var v=qi(l,Pa(Lm));h|=W}return si(i,h,u,l,v)}),Lw=$e(function(i,u,l){var h=T|k;if(l.length){var v=qi(l,Pa(Lw));h|=W}return si(u,h,i,l,v)});function Fw(i,u,l){u=l?n:u;var h=si(i,N,n,n,n,n,n,u);return h.placeholder=Fw.placeholder,h}function Bw(i,u,l){u=l?n:u;var h=si(i,R,n,n,n,n,n,u);return h.placeholder=Bw.placeholder,h}function jw(i,u,l){var h,v,E,C,O,P,V=0,H=!1,Y=!1,ee=!0;if(typeof i!="function")throw new Fr(a);u=Ur(u)||0,St(l)&&(H=!!l.leading,Y="maxWait"in l,E=Y?Vt(Ur(l.maxWait)||0,u):E,ee="trailing"in l?!!l.trailing:ee);function se($t){var ho=h,fi=v;return h=v=n,V=$t,C=i.apply(fi,ho),C}function he($t){return V=$t,O=_c(Pe,u),H?se($t):C}function Oe($t){var ho=$t-P,fi=$t-V,oE=u-ho;return Y?Cn(oE,E-fi):oE}function pe($t){var ho=$t-P,fi=$t-V;return P===n||ho>=u||ho<0||Y&&fi>=E}function Pe(){var $t=Hf();if(pe($t))return Fe($t);O=_c(Pe,Oe($t))}function Fe($t){return O=n,ee&&h?se($t):(h=v=n,C)}function dr(){O!==n&&J1(O),V=0,h=P=v=O=n}function Un(){return O===n?C:Fe(Hf())}function hr(){var $t=Hf(),ho=pe($t);if(h=arguments,v=this,P=$t,ho){if(O===n)return he(P);if(Y)return J1(O),O=_c(Pe,u),se(P)}return O===n&&(O=_c(Pe,u)),C}return hr.cancel=dr,hr.flush=Un,hr}var S5=$e(function(i,u){return O1(i,1,u)}),w5=$e(function(i,u,l){return O1(i,Ur(u)||0,l)});function E5(i){return si(i,K)}function Gf(i,u){if(typeof i!="function"||u!=null&&typeof u!="function")throw new Fr(a);var l=function(){var h=arguments,v=u?u.apply(this,h):h[0],E=l.cache;if(E.has(v))return E.get(v);var C=i.apply(this,h);return l.cache=E.set(v,C)||E,C};return l.cache=new(Gf.Cache||oi),l}Gf.Cache=oi;function Jf(i){if(typeof i!="function")throw new Fr(a);return function(){var u=arguments;switch(u.length){case 0:return!i.call(this);case 1:return!i.call(this,u[0]);case 2:return!i.call(this,u[0],u[1]);case 3:return!i.call(this,u[0],u[1],u[2])}return!i.apply(this,u)}}function x5(i){return Nw(2,i)}var C5=fF(function(i,u){u=u.length==1&&Ee(u[0])?gt(u[0],cr(de())):gt(dn(u,1),cr(de()));var l=u.length;return $e(function(h){for(var v=-1,E=Cn(h.length,l);++v<E;)h[v]=u[v].call(this,h[v]);return ur(i,this,h)})}),Fm=$e(function(i,u){var l=qi(u,Pa(Fm));return si(i,W,n,u,l)}),Dw=$e(function(i,u){var l=qi(u,Pa(Dw));return si(i,j,n,u,l)}),T5=ai(function(i,u){return si(i,U,n,n,n,u)});function k5(i,u){if(typeof i!="function")throw new Fr(a);return u=u===n?u:ke(u),$e(i,u)}function O5(i,u){if(typeof i!="function")throw new Fr(a);return u=u==null?0:Vt(ke(u),0),$e(function(l){var h=l[u],v=Ji(l,0,u);return h&&zi(v,h),ur(i,this,v)})}function I5(i,u,l){var h=!0,v=!0;if(typeof i!="function")throw new Fr(a);return St(l)&&(h="leading"in l?!!l.leading:h,v="trailing"in l?!!l.trailing:v),jw(i,u,{leading:h,maxWait:u,trailing:v})}function A5(i){return Mw(i,1)}function $5(i,u){return Fm(Sm(u),i)}function R5(){if(!arguments.length)return[];var i=arguments[0];return Ee(i)?i:[i]}function P5(i){return jr(i,y)}function M5(i,u){return u=typeof u=="function"?u:n,jr(i,y,u)}function N5(i){return jr(i,g|y)}function L5(i,u){return u=typeof u=="function"?u:n,jr(i,g|y,u)}function F5(i,u){return u==null||k1(i,u,Zt(u))}function fo(i,u){return i===u||i!==i&&u!==u}var B5=Wf(cm),j5=Wf(function(i,u){return i>=u}),ks=P1(function(){return arguments}())?P1:function(i){return xt(i)&&Je.call(i,"callee")&&!_1.call(i,"callee")},Ee=B.isArray,D5=e1?cr(e1):GL;function Zn(i){return i!=null&&Yf(i.length)&&!ci(i)}function At(i){return xt(i)&&Zn(i)}function W5(i){return i===!0||i===!1||xt(i)&&Dn(i)==ti}var Yi=tL||Gm,U5=t1?cr(t1):JL;function z5(i){return xt(i)&&i.nodeType===1&&!bc(i)}function q5(i){if(i==null)return!0;if(Zn(i)&&(Ee(i)||typeof i=="string"||typeof i.splice=="function"||Yi(i)||Ma(i)||ks(i)))return!i.length;var u=Tn(i);if(u==ln||u==jn)return!i.size;if(vc(i))return!dm(i).length;for(var l in i)if(Je.call(i,l))return!1;return!0}function K5(i,u){return gc(i,u)}function V5(i,u,l){l=typeof l=="function"?l:n;var h=l?l(i,u):n;return h===n?gc(i,u,n,l):!!h}function Bm(i){if(!xt(i))return!1;var u=Dn(i);return u==Bi||u==rc||typeof i.message=="string"&&typeof i.name=="string"&&!bc(i)}function H5(i){return typeof i=="number"&&S1(i)}function ci(i){if(!St(i))return!1;var u=Dn(i);return u==ji||u==Sa||u==vs||u==ic}function Ww(i){return typeof i=="number"&&i==ke(i)}function Yf(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=ce}function St(i){var u=typeof i;return i!=null&&(u=="object"||u=="function")}function xt(i){return i!=null&&typeof i=="object"}var Uw=n1?cr(n1):XL;function G5(i,u){return i===u||fm(i,u,Om(u))}function J5(i,u,l){return l=typeof l=="function"?l:n,fm(i,u,Om(u),l)}function Y5(i){return zw(i)&&i!=+i}function X5(i){if(MF(i))throw new be(s);return M1(i)}function Q5(i){return i===null}function Z5(i){return i==null}function zw(i){return typeof i=="number"||xt(i)&&Dn(i)==ni}function bc(i){if(!xt(i)||Dn(i)!=wn)return!1;var u=Ef(i);if(u===null)return!0;var l=Je.call(u,"constructor")&&u.constructor;return typeof l=="function"&&l instanceof l&&_f.call(l)==JN}var jm=r1?cr(r1):QL;function ej(i){return Ww(i)&&i>=-9007199254740991&&i<=ce}var qw=o1?cr(o1):ZL;function Xf(i){return typeof i=="string"||!Ee(i)&&xt(i)&&Dn(i)==Z}function fr(i){return typeof i=="symbol"||xt(i)&&Dn(i)==ge}var Ma=i1?cr(i1):eF;function tj(i){return i===n}function nj(i){return xt(i)&&Tn(i)==xn}function rj(i){return xt(i)&&Dn(i)==Di}var oj=Wf(hm),ij=Wf(function(i,u){return i<=u});function Kw(i){if(!i)return[];if(Zn(i))return Xf(i)?co(i):Qn(i);if(ac&&i[ac])return FN(i[ac]());var u=Tn(i),l=u==ln?em:u==jn?mf:Na;return l(i)}function li(i){if(!i)return i===0?i:0;if(i=Ur(i),i===ie||i===-1/0){var u=i<0?-1:1;return u*Le}return i===i?i:0}function ke(i){var u=li(i),l=u%1;return u===u?l?u-l:u:0}function Vw(i){return i?Es(ke(i),0,ut):0}function Ur(i){if(typeof i=="number")return i;if(fr(i))return cn;if(St(i)){var u=typeof i.valueOf=="function"?i.valueOf():i;i=St(u)?u+"":u}if(typeof i!="string")return i===0?i:+i;i=f1(i);var l=D2.test(i);return l||U2.test(i)?bN(i.slice(2),l?2:8):j2.test(i)?cn:+i}function Hw(i){return To(i,er(i))}function sj(i){return i?Es(ke(i),-9007199254740991,ce):i===0?i:0}function He(i){return i==null?"":lr(i)}var aj=$a(function(i,u){if(vc(u)||Zn(u)){To(u,Zt(u),i);return}for(var l in u)Je.call(u,l)&&dc(i,l,u[l])}),Gw=$a(function(i,u){To(u,er(u),i)}),Qf=$a(function(i,u,l,h){To(u,er(u),i,h)}),uj=$a(function(i,u,l,h){To(u,Zt(u),i,h)}),cj=ai(sm);function lj(i,u){var l=Aa(i);return u==null?l:T1(l,u)}var fj=$e(function(i,u){i=Ze(i);var l=-1,h=u.length,v=h>2?u[2]:n;for(v&&Wn(u[0],u[1],v)&&(h=1);++l<h;)for(var E=u[l],C=er(E),O=-1,P=C.length;++O<P;){var V=C[O],H=i[V];(H===n||fo(H,ka[V])&&!Je.call(i,V))&&(i[V]=E[V])}return i}),dj=$e(function(i){return i.push(n,fw),ur(Jw,n,i)});function hj(i,u){return a1(i,de(u,3),Co)}function pj(i,u){return a1(i,de(u,3),um)}function gj(i,u){return i==null?i:am(i,de(u,3),er)}function mj(i,u){return i==null?i:$1(i,de(u,3),er)}function yj(i,u){return i&&Co(i,de(u,3))}function vj(i,u){return i&&um(i,de(u,3))}function _j(i){return i==null?[]:Pf(i,Zt(i))}function bj(i){return i==null?[]:Pf(i,er(i))}function Dm(i,u,l){var h=i==null?n:xs(i,u);return h===n?l:h}function Sj(i,u){return i!=null&&pw(i,u,qL)}function Wm(i,u){return i!=null&&pw(i,u,KL)}var wj=sw(function(i,u,l){u!=null&&typeof u.toString!="function"&&(u=bf.call(u)),i[u]=l},zm(tr)),Ej=sw(function(i,u,l){u!=null&&typeof u.toString!="function"&&(u=bf.call(u)),Je.call(i,u)?i[u].push(l):i[u]=[l]},de),xj=$e(pc);function Zt(i){return Zn(i)?x1(i):dm(i)}function er(i){return Zn(i)?x1(i,!0):tF(i)}function Cj(i,u){var l={};return u=de(u,3),Co(i,function(h,v,E){ii(l,u(h,v,E),h)}),l}function Tj(i,u){var l={};return u=de(u,3),Co(i,function(h,v,E){ii(l,v,u(h,v,E))}),l}var kj=$a(function(i,u,l){Mf(i,u,l)}),Jw=$a(function(i,u,l,h){Mf(i,u,l,h)}),Oj=ai(function(i,u){var l={};if(i==null)return l;var h=!1;u=gt(u,function(E){return E=Gi(E,i),h||(h=E.length>1),E}),To(i,Tm(i),l),h&&(l=jr(l,g|m|y,wF));for(var v=u.length;v--;)vm(l,u[v]);return l});function Ij(i,u){return Yw(i,Jf(de(u)))}var Aj=ai(function(i,u){return i==null?{}:rF(i,u)});function Yw(i,u){if(i==null)return{};var l=gt(Tm(i),function(h){return[h]});return u=de(u),W1(i,l,function(h,v){return u(h,v[0])})}function $j(i,u,l){u=Gi(u,i);var h=-1,v=u.length;for(v||(v=1,i=n);++h<v;){var E=i==null?n:i[ko(u[h])];E===n&&(h=v,E=l),i=ci(E)?E.call(i):E}return i}function Rj(i,u,l){return i==null?i:mc(i,u,l)}function Pj(i,u,l,h){return h=typeof h=="function"?h:n,i==null?i:mc(i,u,l,h)}var Xw=cw(Zt),Qw=cw(er);function Mj(i,u,l){var h=Ee(i),v=h||Yi(i)||Ma(i);if(u=de(u,4),l==null){var E=i&&i.constructor;v?l=h?new E:[]:St(i)?l=ci(E)?Aa(Ef(i)):{}:l={}}return(v?Lr:Co)(i,function(C,O,P){return u(l,C,O,P)}),l}function Nj(i,u){return i==null?!0:vm(i,u)}function Lj(i,u,l){return i==null?i:V1(i,u,Sm(l))}function Fj(i,u,l,h){return h=typeof h=="function"?h:n,i==null?i:V1(i,u,Sm(l),h)}function Na(i){return i==null?[]:Zg(i,Zt(i))}function Bj(i){return i==null?[]:Zg(i,er(i))}function jj(i,u,l){return l===n&&(l=u,u=n),l!==n&&(l=Ur(l),l=l===l?l:0),u!==n&&(u=Ur(u),u=u===u?u:0),Es(Ur(i),u,l)}function Dj(i,u,l){return u=li(u),l===n?(l=u,u=0):l=li(l),i=Ur(i),VL(i,u,l)}function Wj(i,u,l){if(l&&typeof l!="boolean"&&Wn(i,u,l)&&(u=l=n),l===n&&(typeof u=="boolean"?(l=u,u=n):typeof i=="boolean"&&(l=i,i=n)),i===n&&u===n?(i=0,u=1):(i=li(i),u===n?(u=i,i=0):u=li(u)),i>u){var h=i;i=u,u=h}if(l||i%1||u%1){var v=w1();return Cn(i+v*(u-i+_N("1e-"+((v+"").length-1))),u)}return gm(i,u)}var Uj=Ra(function(i,u,l){return u=u.toLowerCase(),i+(l?Zw(u):u)});function Zw(i){return Um(He(i).toLowerCase())}function eE(i){return i=He(i),i&&i.replace(q2,RN).replace(cN,"")}function zj(i,u,l){i=He(i),u=lr(u);var h=i.length;l=l===n?h:Es(ke(l),0,h);var v=l;return l-=u.length,l>=0&&i.slice(l,v)==u}function qj(i){return i=He(i),i&&x2.test(i)?i.replace($S,PN):i}function Kj(i){return i=He(i),i&&A2.test(i)?i.replace(Fg,"\\$&"):i}var Vj=Ra(function(i,u,l){return i+(l?"-":"")+u.toLowerCase()}),Hj=Ra(function(i,u,l){return i+(l?" ":"")+u.toLowerCase()}),Gj=rw("toLowerCase");function Jj(i,u,l){i=He(i),u=ke(u);var h=u?Ca(i):0;if(!u||h>=u)return i;var v=(u-h)/2;return Df(kf(v),l)+i+Df(Tf(v),l)}function Yj(i,u,l){i=He(i),u=ke(u);var h=u?Ca(i):0;return u&&h<u?i+Df(u-h,l):i}function Xj(i,u,l){i=He(i),u=ke(u);var h=u?Ca(i):0;return u&&h<u?Df(u-h,l)+i:i}function Qj(i,u,l){return l||u==null?u=0:u&&(u=+u),iL(He(i).replace(Bg,""),u||0)}function Zj(i,u,l){return(l?Wn(i,u,l):u===n)?u=1:u=ke(u),mm(He(i),u)}function e3(){var i=arguments,u=He(i[0]);return i.length<3?u:u.replace(i[1],i[2])}var t3=Ra(function(i,u,l){return i+(l?"_":"")+u.toLowerCase()});function n3(i,u,l){return l&&typeof l!="number"&&Wn(i,u,l)&&(u=l=n),l=l===n?ut:l>>>0,l?(i=He(i),i&&(typeof u=="string"||u!=null&&!jm(u))&&(u=lr(u),!u&&xa(i))?Ji(co(i),0,l):i.split(u,l)):[]}var r3=Ra(function(i,u,l){return i+(l?" ":"")+Um(u)});function o3(i,u,l){return i=He(i),l=l==null?0:Es(ke(l),0,i.length),u=lr(u),i.slice(l,l+u.length)==u}function i3(i,u,l){var h=w.templateSettings;l&&Wn(i,u,l)&&(u=n),i=He(i),u=Qf({},u,h,lw);var v=Qf({},u.imports,h.imports,lw),E=Zt(v),C=Zg(v,E),O,P,V=0,H=u.interpolate||ff,Y="__p += '",ee=tm((u.escape||ff).source+"|"+H.source+"|"+(H===RS?B2:ff).source+"|"+(u.evaluate||ff).source+"|$","g"),se="//# sourceURL="+(Je.call(u,"sourceURL")?(u.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++pN+"]")+`
`;i.replace(ee,function(pe,Pe,Fe,dr,Un,hr){return Fe||(Fe=dr),Y+=i.slice(V,hr).replace(K2,MN),Pe&&(O=!0,Y+=`' +
__e(`+Pe+`) +
'`),Un&&(P=!0,Y+=`';
`+Un+`;
__p += '`),Fe&&(Y+=`' +
((__t = (`+Fe+`)) == null ? '' : __t) +
'`),V=hr+pe.length,pe}),Y+=`';
`;var he=Je.call(u,"variable")&&u.variable;if(!he)Y=`with (obj) {
`+Y+`
}
`;else if(L2.test(he))throw new be(c);Y=(P?Y.replace(b2,""):Y).replace(S2,"$1").replace(w2,"$1;"),Y="function("+(he||"obj")+`) {
`+(he?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(O?", __e = _.escape":"")+(P?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Y+`return __p
}`;var Oe=nE(function(){return ze(E,se+"return "+Y).apply(n,C)});if(Oe.source=Y,Bm(Oe))throw Oe;return Oe}function s3(i){return He(i).toLowerCase()}function a3(i){return He(i).toUpperCase()}function u3(i,u,l){if(i=He(i),i&&(l||u===n))return f1(i);if(!i||!(u=lr(u)))return i;var h=co(i),v=co(u),E=d1(h,v),C=h1(h,v)+1;return Ji(h,E,C).join("")}function c3(i,u,l){if(i=He(i),i&&(l||u===n))return i.slice(0,g1(i)+1);if(!i||!(u=lr(u)))return i;var h=co(i),v=h1(h,co(u))+1;return Ji(h,0,v).join("")}function l3(i,u,l){if(i=He(i),i&&(l||u===n))return i.replace(Bg,"");if(!i||!(u=lr(u)))return i;var h=co(i),v=d1(h,co(u));return Ji(h,v).join("")}function f3(i,u){var l=S,h=M;if(St(u)){var v="separator"in u?u.separator:v;l="length"in u?ke(u.length):l,h="omission"in u?lr(u.omission):h}i=He(i);var E=i.length;if(xa(i)){var C=co(i);E=C.length}if(l>=E)return i;var O=l-Ca(h);if(O<1)return h;var P=C?Ji(C,0,O).join(""):i.slice(0,O);if(v===n)return P+h;if(C&&(O+=P.length-O),jm(v)){if(i.slice(O).search(v)){var V,H=P;for(v.global||(v=tm(v.source,He(PS.exec(v))+"g")),v.lastIndex=0;V=v.exec(H);)var Y=V.index;P=P.slice(0,Y===n?O:Y)}}else if(i.indexOf(lr(v),O)!=O){var ee=P.lastIndexOf(v);ee>-1&&(P=P.slice(0,ee))}return P+h}function d3(i){return i=He(i),i&&E2.test(i)?i.replace(AS,WN):i}var h3=Ra(function(i,u,l){return i+(l?" ":"")+u.toUpperCase()}),Um=rw("toUpperCase");function tE(i,u,l){return i=He(i),u=l?n:u,u===n?LN(i)?qN(i):kN(i):i.match(u)||[]}var nE=$e(function(i,u){try{return ur(i,n,u)}catch(l){return Bm(l)?l:new be(l)}}),p3=ai(function(i,u){return Lr(u,function(l){l=ko(l),ii(i,l,Lm(i[l],i))}),i});function g3(i){var u=i==null?0:i.length,l=de();return i=u?gt(i,function(h){if(typeof h[1]!="function")throw new Fr(a);return[l(h[0]),h[1]]}):[],$e(function(h){for(var v=-1;++v<u;){var E=i[v];if(ur(E[0],this,h))return ur(E[1],this,h)}})}function m3(i){return WL(jr(i,g))}function zm(i){return function(){return i}}function y3(i,u){return i==null||i!==i?u:i}var v3=iw(),_3=iw(!0);function tr(i){return i}function qm(i){return N1(typeof i=="function"?i:jr(i,g))}function b3(i){return F1(jr(i,g))}function S3(i,u){return B1(i,jr(u,g))}var w3=$e(function(i,u){return function(l){return pc(l,i,u)}}),E3=$e(function(i,u){return function(l){return pc(i,l,u)}});function Km(i,u,l){var h=Zt(u),v=Pf(u,h);l==null&&!(St(u)&&(v.length||!h.length))&&(l=u,u=i,i=this,v=Pf(u,Zt(u)));var E=!(St(l)&&"chain"in l)||!!l.chain,C=ci(i);return Lr(v,function(O){var P=u[O];i[O]=P,C&&(i.prototype[O]=function(){var V=this.__chain__;if(E||V){var H=i(this.__wrapped__),Y=H.__actions__=Qn(this.__actions__);return Y.push({func:P,args:arguments,thisArg:i}),H.__chain__=V,H}return P.apply(i,zi([this.value()],arguments))})}),i}function x3(){return fn._===this&&(fn._=YN),this}function Vm(){}function C3(i){return i=ke(i),$e(function(u){return j1(u,i)})}var T3=Em(gt),k3=Em(s1),O3=Em(Gg);function rE(i){return Am(i)?Jg(ko(i)):oF(i)}function I3(i){return function(u){return i==null?n:xs(i,u)}}var A3=aw(),$3=aw(!0);function Hm(){return[]}function Gm(){return!1}function R3(){return{}}function P3(){return""}function M3(){return!0}function N3(i,u){if(i=ke(i),i<1||i>ce)return[];var l=ut,h=Cn(i,ut);u=de(u),i-=ut;for(var v=Qg(h,u);++l<i;)u(l);return v}function L3(i){return Ee(i)?gt(i,ko):fr(i)?[i]:Qn(Ew(He(i)))}function F3(i){var u=++GN;return He(i)+u}var B3=jf(function(i,u){return i+u},0),j3=xm("ceil"),D3=jf(function(i,u){return i/u},1),W3=xm("floor");function U3(i){return i&&i.length?Rf(i,tr,cm):n}function z3(i,u){return i&&i.length?Rf(i,de(u,2),cm):n}function q3(i){return c1(i,tr)}function K3(i,u){return c1(i,de(u,2))}function V3(i){return i&&i.length?Rf(i,tr,hm):n}function H3(i,u){return i&&i.length?Rf(i,de(u,2),hm):n}var G3=jf(function(i,u){return i*u},1),J3=xm("round"),Y3=jf(function(i,u){return i-u},0);function X3(i){return i&&i.length?Xg(i,tr):0}function Q3(i,u){return i&&i.length?Xg(i,de(u,2)):0}return w.after=b5,w.ary=Mw,w.assign=aj,w.assignIn=Gw,w.assignInWith=Qf,w.assignWith=uj,w.at=cj,w.before=Nw,w.bind=Lm,w.bindAll=p3,w.bindKey=Lw,w.castArray=R5,w.chain=$w,w.chunk=WF,w.compact=UF,w.concat=zF,w.cond=g3,w.conforms=m3,w.constant=zm,w.countBy=XB,w.create=lj,w.curry=Fw,w.curryRight=Bw,w.debounce=jw,w.defaults=fj,w.defaultsDeep=dj,w.defer=S5,w.delay=w5,w.difference=qF,w.differenceBy=KF,w.differenceWith=VF,w.drop=HF,w.dropRight=GF,w.dropRightWhile=JF,w.dropWhile=YF,w.fill=XF,w.filter=ZB,w.flatMap=n5,w.flatMapDeep=r5,w.flatMapDepth=o5,w.flatten=kw,w.flattenDeep=QF,w.flattenDepth=ZF,w.flip=E5,w.flow=v3,w.flowRight=_3,w.fromPairs=eB,w.functions=_j,w.functionsIn=bj,w.groupBy=i5,w.initial=nB,w.intersection=rB,w.intersectionBy=oB,w.intersectionWith=iB,w.invert=wj,w.invertBy=Ej,w.invokeMap=a5,w.iteratee=qm,w.keyBy=u5,w.keys=Zt,w.keysIn=er,w.map=Vf,w.mapKeys=Cj,w.mapValues=Tj,w.matches=b3,w.matchesProperty=S3,w.memoize=Gf,w.merge=kj,w.mergeWith=Jw,w.method=w3,w.methodOf=E3,w.mixin=Km,w.negate=Jf,w.nthArg=C3,w.omit=Oj,w.omitBy=Ij,w.once=x5,w.orderBy=c5,w.over=T3,w.overArgs=C5,w.overEvery=k3,w.overSome=O3,w.partial=Fm,w.partialRight=Dw,w.partition=l5,w.pick=Aj,w.pickBy=Yw,w.property=rE,w.propertyOf=I3,w.pull=cB,w.pullAll=Iw,w.pullAllBy=lB,w.pullAllWith=fB,w.pullAt=dB,w.range=A3,w.rangeRight=$3,w.rearg=T5,w.reject=h5,w.remove=hB,w.rest=k5,w.reverse=Mm,w.sampleSize=g5,w.set=Rj,w.setWith=Pj,w.shuffle=m5,w.slice=pB,w.sortBy=_5,w.sortedUniq=SB,w.sortedUniqBy=wB,w.split=n3,w.spread=O5,w.tail=EB,w.take=xB,w.takeRight=CB,w.takeRightWhile=TB,w.takeWhile=kB,w.tap=UB,w.throttle=I5,w.thru=Kf,w.toArray=Kw,w.toPairs=Xw,w.toPairsIn=Qw,w.toPath=L3,w.toPlainObject=Hw,w.transform=Mj,w.unary=A5,w.union=OB,w.unionBy=IB,w.unionWith=AB,w.uniq=$B,w.uniqBy=RB,w.uniqWith=PB,w.unset=Nj,w.unzip=Nm,w.unzipWith=Aw,w.update=Lj,w.updateWith=Fj,w.values=Na,w.valuesIn=Bj,w.without=MB,w.words=tE,w.wrap=$5,w.xor=NB,w.xorBy=LB,w.xorWith=FB,w.zip=BB,w.zipObject=jB,w.zipObjectDeep=DB,w.zipWith=WB,w.entries=Xw,w.entriesIn=Qw,w.extend=Gw,w.extendWith=Qf,Km(w,w),w.add=B3,w.attempt=nE,w.camelCase=Uj,w.capitalize=Zw,w.ceil=j3,w.clamp=jj,w.clone=P5,w.cloneDeep=N5,w.cloneDeepWith=L5,w.cloneWith=M5,w.conformsTo=F5,w.deburr=eE,w.defaultTo=y3,w.divide=D3,w.endsWith=zj,w.eq=fo,w.escape=qj,w.escapeRegExp=Kj,w.every=QB,w.find=e5,w.findIndex=Cw,w.findKey=hj,w.findLast=t5,w.findLastIndex=Tw,w.findLastKey=pj,w.floor=W3,w.forEach=Rw,w.forEachRight=Pw,w.forIn=gj,w.forInRight=mj,w.forOwn=yj,w.forOwnRight=vj,w.get=Dm,w.gt=B5,w.gte=j5,w.has=Sj,w.hasIn=Wm,w.head=Ow,w.identity=tr,w.includes=s5,w.indexOf=tB,w.inRange=Dj,w.invoke=xj,w.isArguments=ks,w.isArray=Ee,w.isArrayBuffer=D5,w.isArrayLike=Zn,w.isArrayLikeObject=At,w.isBoolean=W5,w.isBuffer=Yi,w.isDate=U5,w.isElement=z5,w.isEmpty=q5,w.isEqual=K5,w.isEqualWith=V5,w.isError=Bm,w.isFinite=H5,w.isFunction=ci,w.isInteger=Ww,w.isLength=Yf,w.isMap=Uw,w.isMatch=G5,w.isMatchWith=J5,w.isNaN=Y5,w.isNative=X5,w.isNil=Z5,w.isNull=Q5,w.isNumber=zw,w.isObject=St,w.isObjectLike=xt,w.isPlainObject=bc,w.isRegExp=jm,w.isSafeInteger=ej,w.isSet=qw,w.isString=Xf,w.isSymbol=fr,w.isTypedArray=Ma,w.isUndefined=tj,w.isWeakMap=nj,w.isWeakSet=rj,w.join=sB,w.kebabCase=Vj,w.last=Wr,w.lastIndexOf=aB,w.lowerCase=Hj,w.lowerFirst=Gj,w.lt=oj,w.lte=ij,w.max=U3,w.maxBy=z3,w.mean=q3,w.meanBy=K3,w.min=V3,w.minBy=H3,w.stubArray=Hm,w.stubFalse=Gm,w.stubObject=R3,w.stubString=P3,w.stubTrue=M3,w.multiply=G3,w.nth=uB,w.noConflict=x3,w.noop=Vm,w.now=Hf,w.pad=Jj,w.padEnd=Yj,w.padStart=Xj,w.parseInt=Qj,w.random=Wj,w.reduce=f5,w.reduceRight=d5,w.repeat=Zj,w.replace=e3,w.result=$j,w.round=J3,w.runInContext=$,w.sample=p5,w.size=y5,w.snakeCase=t3,w.some=v5,w.sortedIndex=gB,w.sortedIndexBy=mB,w.sortedIndexOf=yB,w.sortedLastIndex=vB,w.sortedLastIndexBy=_B,w.sortedLastIndexOf=bB,w.startCase=r3,w.startsWith=o3,w.subtract=Y3,w.sum=X3,w.sumBy=Q3,w.template=i3,w.times=N3,w.toFinite=li,w.toInteger=ke,w.toLength=Vw,w.toLower=s3,w.toNumber=Ur,w.toSafeInteger=sj,w.toString=He,w.toUpper=a3,w.trim=u3,w.trimEnd=c3,w.trimStart=l3,w.truncate=f3,w.unescape=d3,w.uniqueId=F3,w.upperCase=h3,w.upperFirst=Um,w.each=Rw,w.eachRight=Pw,w.first=Ow,Km(w,function(){var i={};return Co(w,function(u,l){Je.call(w.prototype,l)||(i[l]=u)}),i}(),{chain:!1}),w.VERSION=r,Lr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(i){w[i].placeholder=w}),Lr(["drop","take"],function(i,u){Ne.prototype[i]=function(l){l=l===n?1:Vt(ke(l),0);var h=this.__filtered__&&!u?new Ne(this):this.clone();return h.__filtered__?h.__takeCount__=Cn(l,h.__takeCount__):h.__views__.push({size:Cn(l,ut),type:i+(h.__dir__<0?"Right":"")}),h},Ne.prototype[i+"Right"]=function(l){return this.reverse()[i](l).reverse()}}),Lr(["filter","map","takeWhile"],function(i,u){var l=u+1,h=l==re||l==ye;Ne.prototype[i]=function(v){var E=this.clone();return E.__iteratees__.push({iteratee:de(v,3),type:l}),E.__filtered__=E.__filtered__||h,E}}),Lr(["head","last"],function(i,u){var l="take"+(u?"Right":"");Ne.prototype[i]=function(){return this[l](1).value()[0]}}),Lr(["initial","tail"],function(i,u){var l="drop"+(u?"":"Right");Ne.prototype[i]=function(){return this.__filtered__?new Ne(this):this[l](1)}}),Ne.prototype.compact=function(){return this.filter(tr)},Ne.prototype.find=function(i){return this.filter(i).head()},Ne.prototype.findLast=function(i){return this.reverse().find(i)},Ne.prototype.invokeMap=$e(function(i,u){return typeof i=="function"?new Ne(this):this.map(function(l){return pc(l,i,u)})}),Ne.prototype.reject=function(i){return this.filter(Jf(de(i)))},Ne.prototype.slice=function(i,u){i=ke(i);var l=this;return l.__filtered__&&(i>0||u<0)?new Ne(l):(i<0?l=l.takeRight(-i):i&&(l=l.drop(i)),u!==n&&(u=ke(u),l=u<0?l.dropRight(-u):l.take(u-i)),l)},Ne.prototype.takeRightWhile=function(i){return this.reverse().takeWhile(i).reverse()},Ne.prototype.toArray=function(){return this.take(ut)},Co(Ne.prototype,function(i,u){var l=/^(?:filter|find|map|reject)|While$/.test(u),h=/^(?:head|last)$/.test(u),v=w[h?"take"+(u=="last"?"Right":""):u],E=h||/^find/.test(u);v&&(w.prototype[u]=function(){var C=this.__wrapped__,O=h?[1]:arguments,P=C instanceof Ne,V=O[0],H=P||Ee(C),Y=function(Pe){var Fe=v.apply(w,zi([Pe],O));return h&&ee?Fe[0]:Fe};H&&l&&typeof V=="function"&&V.length!=1&&(P=H=!1);var ee=this.__chain__,se=!!this.__actions__.length,he=E&&!ee,Oe=P&&!se;if(!E&&H){C=Oe?C:new Ne(this);var pe=i.apply(C,O);return pe.__actions__.push({func:Kf,args:[Y],thisArg:n}),new Br(pe,ee)}return he&&Oe?i.apply(this,O):(pe=this.thru(Y),he?h?pe.value()[0]:pe.value():pe)})}),Lr(["pop","push","shift","sort","splice","unshift"],function(i){var u=yf[i],l=/^(?:push|sort|unshift)$/.test(i)?"tap":"thru",h=/^(?:pop|shift)$/.test(i);w.prototype[i]=function(){var v=arguments;if(h&&!this.__chain__){var E=this.value();return u.apply(Ee(E)?E:[],v)}return this[l](function(C){return u.apply(Ee(C)?C:[],v)})}}),Co(Ne.prototype,function(i,u){var l=w[u];if(l){var h=l.name+"";Je.call(Ia,h)||(Ia[h]=[]),Ia[h].push({name:u,func:l})}}),Ia[Bf(n,k).name]=[{name:"wrapper",func:n}],Ne.prototype.clone=dL,Ne.prototype.reverse=hL,Ne.prototype.value=pL,w.prototype.at=zB,w.prototype.chain=qB,w.prototype.commit=KB,w.prototype.next=VB,w.prototype.plant=GB,w.prototype.reverse=JB,w.prototype.toJSON=w.prototype.valueOf=w.prototype.value=YB,w.prototype.first=w.prototype.head,ac&&(w.prototype[ac]=HB),w},Ta=KN();_s?((_s.exports=Ta)._=Ta,qg._=Ta):fn._=Ta}).call(Sc)})(Yd,Yd.exports);var gD=Yd.exports,Q=Mk(gD);const mD=1,jy=2,yD={INIT_ACK:{statusByte:2,parse:e=>({type:"init-ack",projectName:e[0]})},INIT:{statusByte:3,parse:e=>({type:"init-project",messageCount:Q.toNumber(e[0])})},DONE:{statusByte:4,parse:e=>({type:"init-done"})},TRACK:{statusByte:5,parse:e=>({type:"init-track",messageId:Q.toNumber(e[0]),name:e[1],trackIndex:Q.toNumber(e[2]),color:Q.toNumber(e[3])})},CLIP:{statusByte:6,parse:e=>({type:"init-clip",messageId:Q.toNumber(e[0]),name:e[1],trackIndex:Q.toNumber(e[2]),clipIndex:Q.toNumber(e[3]),color:Q.toNumber(e[4]),startTime:Q.toNumber(e[5]),endTime:Q.toNumber(e[6])})},BEAT:{statusByte:7,parse:e=>({type:"beat",value:Q.toNumber(e[0])})},BAR_BEAT:{statusByte:8,parse:e=>({type:"bar-beat",value:Q.toNumber(e[0])})},SIG:{statusByte:9,parse:e=>({type:"sig",numer:Q.toNumber(e[0]),denom:Q.toNumber(e[1])})},TEMPO:{statusByte:10,parse:e=>({type:"tempo",value:Q.toNumber(e[0])})},IS_PLAYING:{statusByte:11,parse:e=>({type:"is-playing",value:Q.toNumber(e[0])===1})},CUE:{statusByte:12,parse:e=>({type:"init-cue",messageId:Q.toNumber(e[0]),id:Q.toNumber(e[1]),name:e[2],time:Q.toNumber(e[3]),index:Q.toNumber(e[4])})},METRONOME_STATE:{statusByte:13,parse:e=>({type:"metronome-state",value:Q.toNumber(e[0])===1})},LOOP_STATE:{statusByte:14,parse:e=>({type:"loop-state",value:Q.toNumber(e[0])===1})},TICK:{statusByte:15,parse:e=>({type:"tick",tick:Q.toNumber(e[0])})}},vD=Q.fromPairs(Q.map(yD,e=>[e.statusByte,e])),_D=e=>{const t=Q.join(Q.map(e,r=>String.fromCharCode(r)),""),n=Q.split(t,String.fromCharCode(mD));return[Q.toNumber(n[0]),n.splice(1)]},bD=e=>{try{if(e.manufacturer===jy){const[t,n]=_D(e.body),r=vD[t];if(r!==void 0)return r.parse(n);console.warn("Did not find parser for message",e)}}catch(t){console.error("Got error parsing message",t)}},hE=e=>{const t=[];return Q.forEach(e,(n,r)=>{t.push(e.charCodeAt(r))}),t},Gt={base:(e,t)=>({type:"sysex",manufacturer:jy,body:[e,...hE(t.toString())]}),baseJSON:(e,t)=>({type:"sysex",manufacturer:jy,body:[e,...hE(JSON.stringify(t))]}),init:()=>Gt.base(64,1),initReady:e=>Gt.baseJSON(65,{tracks:e}),resend:e=>Gt.baseJSON(66,{missingMessageIds:e}),play:()=>Gt.base(80,1),stop:()=>Gt.base(81,1),jumpToCue:e=>Gt.base(82,e),jumpBy:e=>Gt.base(84,e),record:()=>Gt.base(85,1),metronome:e=>Gt.base(86,e?1:0),loop:e=>Gt.base(87,e?1:0)},SD=e=>typeof e=="function",I=function(e,t){if(typeof e=="function")return function(){return e(arguments)?t.apply(this,arguments):n=>t(n,...arguments)};switch(e){case 0:case 1:throw new RangeError(`Invalid arity ${e}`);case 2:return function(n,r){return arguments.length>=2?t(n,r):function(o){return t(o,n)}};case 3:return function(n,r,o){return arguments.length>=3?t(n,r,o):function(s){return t(s,n,r)}};case 4:return function(n,r,o,s){return arguments.length>=4?t(n,r,o,s):function(a){return t(a,n,r,o)}};case 5:return function(n,r,o,s,a){return arguments.length>=5?t(n,r,o,s,a):function(c){return t(c,n,r,o,s)}};default:return function(){if(arguments.length>=e)return t.apply(this,arguments);const n=arguments;return function(r){return t(r,...n)}}}},Pt=e=>e,Yh=e=>()=>e,pE=Yh(!0),Dy=Yh(!1),Kk=Yh(void 0),wD=Kk;function F(e,t,n,r,o,s,a,c,f){switch(arguments.length){case 1:return e;case 2:return t(e);case 3:return n(t(e));case 4:return r(n(t(e)));case 5:return o(r(n(t(e))));case 6:return s(o(r(n(t(e)))));case 7:return a(s(o(r(n(t(e))))));case 8:return c(a(s(o(r(n(t(e)))))));case 9:return f(c(a(s(o(r(n(t(e))))))));default:{let d=arguments[0];for(let p=1;p<arguments.length;p++)d=arguments[p](d);return d}}}const Xh=e=>(t,n)=>t===n||e(t,n),ED=I(2,(e,t)=>Xh((n,r)=>e(t(n),t(r)))),xD=e=>Xh((t,n)=>{if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(!e(t[r],n[r]))return!1;return!0});let CD="3.13.12";const Qh=()=>CD,Zf=`effect/GlobalValue/globalStoreId/${Qh()}`;let wc;const De=(e,t)=>(wc||(globalThis[Zf]??(globalThis[Zf]=new Map),wc=globalThis[Zf]),wc.has(e)||wc.set(e,t()),wc.get(e)),Vo=e=>typeof e=="string",Hs=e=>typeof e=="number",d_=e=>typeof e=="boolean",Zh=e=>typeof e=="bigint",Wy=e=>typeof e=="symbol",Au=SD,TD=e=>e===void 0,kD=e=>!1,h_=e=>typeof e=="object"&&e!==null,ps=e=>h_(e)||Au(e),Ce=I(2,(e,t)=>ps(e)&&t in e),p_=I(2,(e,t)=>Ce(e,"_tag")&&e._tag===t),La=e=>e==null,OD=e=>e!=null,ID=e=>e instanceof Date,Vk=e=>Ce(e,Symbol.iterator),AD=e=>h_(e)&&!Array.isArray(e),$D=e=>Ce(e,"then")&&Au(e.then),ep=e=>`BUG: ${e} - please report an issue at https://github.com/Effect-TS/effect/issues`;let Hk=class Gk{constructor(t){_(this,"self");_(this,"called",!1);this.self=t}next(t){return this.called?{value:t,done:!0}:(this.called=!0,{value:this.self,done:!1})}return(t){return{value:t,done:!0}}throw(t){throw t}[Symbol.iterator](){return new Gk(this.self)}};const RD=335903614,PD=4150755663,MD=1481765933,ND=1284865837,LD=9007199254740992,FD=134217728;class BD{constructor(t,n,r,o){_(this,"_state");return La(n)&&La(t)?(n=Math.random()*4294967295>>>0,t=0):La(n)&&(n=t,t=0),La(o)&&La(r)?(o=this._state?this._state[3]:PD,r=this._state?this._state[2]:RD):La(o)&&(o=r,r=0),this._state=new Int32Array([0,0,r>>>0,((o||0)|1)>>>0]),this._next(),gE(this._state,this._state[0],this._state[1],t>>>0,n>>>0),this._next(),this}getState(){return[this._state[0],this._state[1],this._state[2],this._state[3]]}setState(t){this._state[0]=t[0],this._state[1]=t[1],this._state[2]=t[2],this._state[3]=t[3]|1}integer(t){return Math.round(this.number()*Number.MAX_SAFE_INTEGER)%t}number(){const t=(this._next()&67108863)*1,n=(this._next()&134217727)*1;return(t*FD+n)/LD}_next(){const t=this._state[0]>>>0,n=this._state[1]>>>0;jD(this._state,t,n,MD,ND),gE(this._state,this._state[0],this._state[1],this._state[2],this._state[3]);let r=t>>>18,o=(n>>>18|t<<14)>>>0;r=(r^t)>>>0,o=(o^n)>>>0;const s=(o>>>27|r<<5)>>>0,a=t>>>27,c=(-a>>>0&31)>>>0;return(s>>>a|s<<c)>>>0}}function jD(e,t,n,r,o){let s=(n>>>16)*(o&65535)>>>0,a=(n&65535)*(o>>>16)>>>0,c=(n&65535)*(o&65535)>>>0,f=(n>>>16)*(o>>>16)+((a>>>16)+(s>>>16))>>>0;a=a<<16>>>0,c=c+a>>>0,c>>>0<a>>>0&&(f=f+1>>>0),s=s<<16>>>0,c=c+s>>>0,c>>>0<s>>>0&&(f=f+1>>>0),f=f+Math.imul(n,r)>>>0,f=f+Math.imul(t,o)>>>0,e[0]=f,e[1]=c}function gE(e,t,n,r,o){let s=t+r>>>0;const a=n+o>>>0;a>>>0<n>>>0&&(s=s+1|0),e[0]=s,e[1]=a}const Uy=Symbol.for("effect/Utils/YieldWrap");var Tl;class kl{constructor(t){uE(this,Tl);cE(this,Tl,t)}[Uy](){return aE(this,Tl)}}Tl=new WeakMap;function DD(e){if(typeof e=="object"&&e!==null&&Uy in e)return e[Uy]();throw new Error(ep("yieldWrapGet"))}const Kr=De("effect/Utils/isStructuralRegion",()=>({enabled:!1,tester:void 0})),WD=e=>{const t={[e](n){return n()}};return function(n){return t[e](n)}},qn=WD("effect_internal_function"),Jm=De(Symbol.for("effect/Hash/randomHashCache"),()=>new WeakMap),Re=Symbol.for("effect/Hash"),fe=e=>{if(Kr.enabled===!0)return 0;switch(typeof e){case"number":return m_(e);case"bigint":return Dt(e.toString(10));case"boolean":return Dt(String(e));case"symbol":return Dt(String(e));case"string":return Dt(e);case"undefined":return Dt("undefined");case"function":case"object":return e===null?Dt("null"):e instanceof Date?fe(e.toISOString()):UD(e)?e[Re]():g_(e);default:throw new Error(`BUG: unhandled typeof ${typeof e} - please report an issue at https://github.com/Effect-TS/effect/issues`)}},g_=e=>(Jm.has(e)||Jm.set(e,m_(Math.floor(Math.random()*Number.MAX_SAFE_INTEGER))),Jm.get(e)),je=e=>t=>t*53^e,tp=e=>e&3221225471|e>>>1&1073741824,UD=e=>Ce(e,Re),m_=e=>{if(e!==e||e===1/0)return 0;let t=e|0;for(t!==e&&(t^=e*4294967295);e>4294967295;)t^=e/=4294967295;return tp(t)},Dt=e=>{let t=5381,n=e.length;for(;n;)t=t*33^e.charCodeAt(--n);return tp(t)},zD=(e,t)=>{let n=12289;for(let r=0;r<t.length;r++)n^=F(Dt(t[r]),je(fe(e[t[r]])));return tp(n)},Jk=e=>zD(e,Object.keys(e)),Ol=e=>{let t=6151;for(let n=0;n<e.length;n++)t=F(t,je(fe(e[n])));return tp(t)},It=function(){if(arguments.length===1){const n=arguments[0];return function(r){return Object.defineProperty(n,Re,{value(){return r},enumerable:!1}),r}}const e=arguments[0],t=arguments[1];return Object.defineProperty(e,Re,{value(){return t},enumerable:!1}),t},Ie=Symbol.for("effect/Equal");function Ae(){return arguments.length===1?e=>Xd(e,arguments[0]):Xd(arguments[0],arguments[1])}function Xd(e,t){if(e===t)return!0;const n=typeof e;if(n!==typeof t)return!1;if(n==="object"||n==="function"){if(e!==null&&t!==null){if(Qd(e)&&Qd(t))return fe(e)===fe(t)&&e[Ie](t)?!0:Kr.enabled&&Kr.tester?Kr.tester(e,t):!1;if(e instanceof Date&&t instanceof Date)return e.toISOString()===t.toISOString()}if(Kr.enabled){if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every((r,o)=>Xd(r,t[o]));if(Object.getPrototypeOf(e)===Object.prototype&&Object.getPrototypeOf(e)===Object.prototype){const r=Object.keys(e),o=Object.keys(t);if(r.length===o.length){for(const s of r)if(!(s in t&&Xd(e[s],t[s])))return Kr.tester?Kr.tester(e,t):!1;return!0}}return Kr.tester?Kr.tester(e,t):!1}}return Kr.enabled&&Kr.tester?Kr.tester(e,t):!1}const Qd=e=>Ce(e,Ie),y_=()=>Ae,pt=Symbol.for("nodejs.util.inspect.custom"),Mt=e=>{try{if(Ce(e,"toJSON")&&Au(e.toJSON)&&e.toJSON.length===0)return e.toJSON();if(Array.isArray(e))return e.map(Mt)}catch{return{}}return KD(e)},zt=e=>JSON.stringify(e,null,2),iu=(e,t=2)=>{if(typeof e=="string")return e;try{return typeof e=="object"?Yk(e,t):String(e)}catch{return String(e)}},Yk=(e,t)=>{let n=[];const r=JSON.stringify(e,(o,s)=>typeof s=="object"&&s!==null?n.includes(s)?void 0:n.push(s)&&(Ds.fiberRefs!==void 0&&Xk(s)?s[v_](Ds.fiberRefs):s):s,t);return n=void 0,r},v_=Symbol.for("effect/Inspectable/Redactable"),Xk=e=>typeof e=="object"&&e!==null&&v_ in e,Ds=De("effect/Inspectable/redactableState",()=>({fiberRefs:void 0})),qD=(e,t)=>{const n=Ds.fiberRefs;Ds.fiberRefs=e;try{return t()}finally{Ds.fiberRefs=n}},KD=e=>Xk(e)&&Ds.fiberRefs!==void 0?e[v_](Ds.fiberRefs):e,ve=(e,t)=>{switch(t.length){case 0:return e;case 1:return t[0](e);case 2:return t[1](t[0](e));case 3:return t[2](t[1](t[0](e)));case 4:return t[3](t[2](t[1](t[0](e))));case 5:return t[4](t[3](t[2](t[1](t[0](e)))));case 6:return t[5](t[4](t[3](t[2](t[1](t[0](e))))));case 7:return t[6](t[5](t[4](t[3](t[2](t[1](t[0](e)))))));case 8:return t[7](t[6](t[5](t[4](t[3](t[2](t[1](t[0](e))))))));case 9:return t[8](t[7](t[6](t[5](t[4](t[3](t[2](t[1](t[0](e)))))))));default:{let n=e;for(let r=0,o=t.length;r<o;r++)n=t[r](n);return n}}},Uc="Async",np="Commit",Zr="Failure",Cd="OnFailure",Zd="OnSuccess",eh="OnSuccessAndFailure",eo="Success",Qk="Sync",VD="Tag",Il="UpdateRuntimeFlags",th="While",Td="Iterator",Zk="WithRuntime",kd="Yield",__="RevertFlags",HD=Symbol.for("effect/Effect"),GD=Symbol.for("effect/Stream"),JD=Symbol.for("effect/Sink"),YD=Symbol.for("effect/Channel"),su={_R:e=>e,_E:e=>e,_A:e=>e,_V:Qh()},XD={_A:e=>e,_In:e=>e,_L:e=>e,_E:e=>e,_R:e=>e},QD={_Env:e=>e,_InErr:e=>e,_InElem:e=>e,_InDone:e=>e,_OutErr:e=>e,_OutElem:e=>e,_OutDone:e=>e},Al={[HD]:su,[GD]:su,[JD]:XD,[YD]:QD,[Ie](e){return this===e},[Re](){return It(this,g_(this))},[Symbol.iterator](){return new Hk(new kl(this))},pipe(){return ve(this,arguments)}},$l={[Re](){return It(this,Jk(this))},[Ie](e){const t=Object.keys(this),n=Object.keys(e);if(t.length!==n.length)return!1;for(const r of t)if(!(r in e&&Ae(this[r],e[r])))return!1;return!0}},Rl={...Al,_op:np},ZD={...Rl,...$l},eW=function(){function e(){}return e.prototype=Rl,e}(),eO=Symbol.for("effect/Option"),tO={...Al,[eO]:{_A:e=>e},[pt](){return this.toJSON()},toString(){return zt(this.toJSON())}},tW=Object.assign(Object.create(tO),{_tag:"Some",_op:"Some",[Ie](e){return b_(e)&&rO(e)&&Ae(this.value,e.value)},[Re](){return It(this,je(fe(this._tag))(fe(this.value)))},toJSON(){return{_id:"Option",_tag:this._tag,value:Mt(this.value)}}}),nW=fe("None"),rW=Object.assign(Object.create(tO),{_tag:"None",_op:"None",[Ie](e){return b_(e)&&nO(e)},[Re](){return nW},toJSON(){return{_id:"Option",_tag:this._tag}}}),b_=e=>Ce(e,eO),nO=e=>e._tag==="None",rO=e=>e._tag==="Some",S_=Object.create(rW),nh=e=>{const t=Object.create(tW);return t.value=e,t},oO=Symbol.for("effect/Either"),iO={...Al,[oO]:{_R:e=>e},[pt](){return this.toJSON()},toString(){return zt(this.toJSON())}},oW=Object.assign(Object.create(iO),{_tag:"Right",_op:"Right",[Ie](e){return w_(e)&&sO(e)&&Ae(this.right,e.right)},[Re](){return je(fe(this._tag))(fe(this.right))},toJSON(){return{_id:"Either",_tag:this._tag,right:Mt(this.right)}}}),iW=Object.assign(Object.create(iO),{_tag:"Left",_op:"Left",[Ie](e){return w_(e)&&E_(e)&&Ae(this.left,e.left)},[Re](){return je(fe(this._tag))(fe(this.left))},toJSON(){return{_id:"Either",_tag:this._tag,left:Mt(this.left)}}}),w_=e=>Ce(e,oO),E_=e=>e._tag==="Left",sO=e=>e._tag==="Right",sW=e=>{const t=Object.create(iW);return t.left=e,t},aW=e=>{const t=Object.create(oW);return t.right=e,t},uW=e=>E_(e)?S_:nh(e.right),Te=aW,Se=sW,cW=e=>{if(Au(e))try{return Te(e())}catch(t){return Se(t)}else try{return Te(e.try())}catch(t){return Se(e.catch(t))}},lW=w_,nn=E_,vi=sO,fW=I(2,(e,{onLeft:t,onRight:n})=>nn(e)?Se(t(e.left)):Te(n(e.right))),x_=I(2,(e,t)=>nn(e)?Se(t(e.left)):Te(e.right)),dW=I(2,(e,t)=>vi(e)?Te(t(e.right)):Se(e.left)),$u=I(2,(e,{onLeft:t,onRight:n})=>nn(e)?t(e.left):n(e.right)),hW=$u({onLeft:Pt,onRight:Pt}),aO=I(2,(e,t)=>{if(vi(e))return e.right;throw t(e.left)}),uO=aO(()=>new Error("getOrThrow called on a Left")),cO=e=>e.length>0,lO=e=>(t,n)=>t===n?0:e(t,n),pW=lO((e,t)=>e<t?-1:1),fO=I(2,(e,t)=>lO((n,r)=>e(t(n),t(r)))),gW=e=>I(2,(t,n)=>e(t,n)===1),oe=()=>S_,we=nh,mW=b_,Nt=nO,Nn=rO,Ot=I(2,(e,{onNone:t,onSome:n})=>Nt(e)?t():n(e.value)),yW=uW,bt=I(2,(e,t)=>Nt(e)?t():e.value),ns=I(2,(e,t)=>Nt(e)?t():e),vW=I(2,(e,t)=>Nt(e)?we(t()):e),Xo=e=>e==null?oe():we(e),mo=bt(Kk),_W=e=>(...t)=>{try{return we(e(...t))}catch{return oe()}},dO=I(2,(e,t)=>Nt(e)?oe():we(t(e.value))),ss=I(2,(e,t)=>Nt(e)?oe():t(e.value)),bW=I(2,(e,t)=>Nt(e)?oe():Xo(t(e.value))),SW=e=>Xh((t,n)=>Nt(t)?Nt(n):Nt(n)?!1:e(t.value,n.value)),wW=e=>I(2,(t,n)=>Nt(t)?!1:e(t.value,n)),EW=y_(),xW=wW(EW),CW=I(2,(e,t)=>Nt(e)?!1:t(e.value)),TW=(...e)=>e,rp=e=>new Array(e),kW=I(2,(e,t)=>{const n=Math.max(1,Math.floor(e)),r=new Array(n);for(let o=0;o<n;o++)r[o]=t(o);return r}),wt=e=>Array.isArray(e)?e:Array.from(e),OW=e=>Array.isArray(e)?e:[e],IW=I(2,(e,{onEmpty:t,onNonEmpty:n})=>on(e)?n(rr(e),Gs(e)):t()),rh=I(2,(e,t)=>[t,...e]),AW=I(2,(e,t)=>[...e,t]),hO=I(2,(e,t)=>wt(e).concat(wt(t))),$W=Array.isArray,RW=e=>e.length===0,PW=RW,Od=cO,on=cO,pO=(e,t)=>e<0||e>=t.length,MW=(e,t)=>Math.floor(Math.min(Math.max(0,e),t.length)),NW=I(2,(e,t)=>{const n=Math.floor(t);return pO(n,e)?oe():we(e[n])}),gO=I(2,(e,t)=>{const n=Math.floor(t);if(pO(n,e))throw new Error(`Index ${n} out of bounds`);return e[n]}),zc=NW(0),rr=gO(0),LW=e=>on(e)?we(mO(e)):oe(),mO=e=>e[e.length-1],Gs=e=>e.slice(1),FW=(e,t)=>{let n=0;for(const r of e){if(!t(r,n))break;n++}return n},BW=I(2,(e,t)=>yO(e,FW(e,t))),jW=I(2,(e,t)=>{const n=wt(e);return n.slice(MW(t,n),n.length)}),mE=e=>Array.from(e).reverse(),Xc=I(2,(e,t)=>{const n=Array.from(e);return n.sort(t),n}),yE=I(2,(e,t)=>DW(e,t,TW)),DW=I(3,(e,t,n)=>{const r=wt(e),o=wt(t);if(on(r)&&on(o)){const s=[n(rr(r),rr(o))],a=Math.min(r.length,o.length);for(let c=1;c<a;c++)s[c]=n(r[c],o[c]);return s}return[]}),WW=y_(),yO=I(2,(e,t)=>{const n=Array.from(e),r=Math.floor(t);return on(n)?r>=1?UW(n,r):[[],n]:[n,[]]}),UW=I(2,(e,t)=>{const n=Math.max(1,Math.floor(t));return n>=e.length?[Pc(e),[]]:[rh(e.slice(1,n),rr(e)),e.slice(n)]}),Pc=e=>e.slice(),zW=I(3,(e,t,n)=>{const r=wt(e),o=wt(t);return on(r)?on(o)?SO(n)(hO(r,o)):r:o}),Id=I(2,(e,t)=>zW(e,t,WW)),Js=()=>[],go=e=>[e],Qa=I(2,(e,t)=>e.map(t)),vO=I(2,(e,t)=>{if(PW(e))return[];const n=[];for(let r=0;r<e.length;r++){const o=t(e[r],r);for(let s=0;s<o.length;s++)n.push(o[s])}return n}),_O=vO(Pt),qW=I(2,(e,t)=>{const n=wt(e),r=[];for(let o=0;o<n.length;o++)t(n[o],o)&&r.push(n[o]);return r}),bO=I(3,(e,t,n)=>wt(e).reduce((r,o,s)=>n(r,o,s),t)),vE=(e,t)=>{const n=[];let r=e,o;for(;Nn(o=t(r));){const[s,a]=o.value;n.push(s),r=a}return n},C_=xD,SO=I(2,(e,t)=>{const n=wt(e);if(on(n)){const r=[rr(n)],o=Gs(n);for(const s of o)r.every(a=>!t(s,a))&&r.push(s);return r}return[]}),KW=e=>SO(e,y_()),Ru=I(2,(e,t)=>wt(e).join(t)),wO=(e,t)=>{switch(t._tag){case"StringKeyword":case"TemplateLiteral":return Object.keys(e);case"SymbolKeyword":return Object.getOwnPropertySymbols(e);case"Refinement":return wO(e,t.from)}},Za=e=>Object.keys(e).concat(Object.getOwnPropertySymbols(e)),EO=e=>{let t=!1,n;return()=>(t||(n=e(),t=!0),n)},VW=e=>{try{return e.toISOString()}catch{return String(e)}},Uo=(e,t=!0)=>{if(Array.isArray(e))return`[${e.map(n=>Uo(n,t)).join(",")}]`;if(ID(e))return VW(e);if(Ce(e,"toString")&&Au(e.toString)&&e.toString!==Object.prototype.toString)return e.toString();if(Vo(e))return JSON.stringify(e);if(Hs(e)||e==null||d_(e)||Wy(e))return String(e);if(Zh(e))return String(e)+"n";if(Vk(e))return`${e.constructor.name}(${Uo(Array.from(e),t)})`;try{t&&JSON.stringify(e);const n=`{${Za(e).map(o=>`${Vo(o)?JSON.stringify(o):String(o)}:${Uo(e[o],!1)}`).join(",")}}`,r=e.constructor.name;return e.constructor!==Object.prototype.constructor?`${r}(${n})`:n}catch{return"<circular structure>"}},HW=e=>typeof e=="string"?JSON.stringify(e):String(e),T_=e=>Array.isArray(e),_E=e=>`[${HW(e)}]`,GW=e=>T_(e)?e.map(_E).join(""):_E(e),ua=(e,t,n,r)=>{let o=e;return t!==void 0&&(o+=`
details: ${t}`),r&&(o+=`
schema (${r._tag}): ${r}`),o},JW=e=>ua("Unsupported key schema",void 0,void 0,e),YW=e=>ua("Unsupported literal",`literal value: ${Uo(e)}`),bE=e=>ua("Duplicate index signature",`${e} index signature`),XW=ua("Unsupported index signature parameter","An index signature parameter type must be `string`, `symbol`, a template literal type or a refinement of the previous types"),QW=ua("Invalid element","A required element cannot follow an optional element. ts(1257)"),SE=e=>ua("Duplicate property signature transformation",`Duplicate key ${Uo(e)}`),ZW=e=>ua("Duplicate property signature",`Duplicate key ${Uo(e)}`),au=pW,oh=e=>e.replace(/[/\\^$*+?.()|[\]{}]/g,"\\$&"),eU=Symbol.for("effect/annotation/Brand"),tU=Symbol.for("effect/annotation/SchemaId"),xO=Symbol.for("effect/annotation/Message"),k_=Symbol.for("effect/annotation/MissingMessage"),CO=Symbol.for("effect/annotation/Identifier"),$i=Symbol.for("effect/annotation/Title"),zy=Symbol.for("effect/annotation/AutoTitle"),Pl=Symbol.for("effect/annotation/Description"),TO=Symbol.for("effect/annotation/Examples"),kO=Symbol.for("effect/annotation/Default"),OO=Symbol.for("effect/annotation/JSONSchema"),IO=Symbol.for("effect/annotation/Arbitrary"),AO=Symbol.for("effect/annotation/Pretty"),$O=Symbol.for("effect/annotation/Equivalence"),nU=Symbol.for("effect/annotation/Documentation"),RO=Symbol.for("effect/annotation/Concurrency"),PO=Symbol.for("effect/annotation/Batching"),MO=Symbol.for("effect/annotation/ParseIssueTitle"),NO=Symbol.for("effect/annotation/ParseOptions"),LO=Symbol.for("effect/annotation/DecodingFallback"),FO=Symbol.for("effect/annotation/Surrogate"),rU=Symbol.for("effect/annotation/StableFilter"),Bn=I(2,(e,t)=>Object.prototype.hasOwnProperty.call(e.annotations,t)?we(e.annotations[t]):oe()),oU=Bn(eU),iU=Bn(xO),sU=Bn(k_),BO=Bn($i),jO=Bn(zy),op=Bn(CO),DO=Bn(Pl),aU=Bn(RO),uU=Bn(PO),cU=Bn(MO),lU=Bn(NO),fU=Bn(LO),WO=Bn(FO),dU=Bn(rU),hU=e=>CW(dU(e),t=>t===!0),UO=Symbol.for("effect/annotation/JSONIdentifier"),pU=Bn(UO),gU=e=>ns(pU(e),()=>op(e)),mU=Symbol.for("effect/schema/ParseJson");class ip{constructor(t,n,r,o={}){_(this,"typeParameters");_(this,"decodeUnknown");_(this,"encodeUnknown");_(this,"annotations");_(this,"_tag","Declaration");this.typeParameters=t,this.decodeUnknown=n,this.encodeUnknown=r,this.annotations=o}toString(){return bt(Ho(this),()=>"<declaration schema>")}toJSON(){return{_tag:this._tag,typeParameters:this.typeParameters.map(t=>t.toJSON()),annotations:Xt(this.annotations)}}}const Ml=e=>t=>t._tag===e;let qy=class{constructor(t,n={}){_(this,"literal");_(this,"annotations");_(this,"_tag","Literal");this.literal=t,this.annotations=n}toString(){return bt(Ho(this),()=>Uo(this.literal))}toJSON(){return{_tag:this._tag,literal:Zh(this.literal)?String(this.literal):this.literal,annotations:Xt(this.annotations)}}};const wE=Ml("Literal");class yU{constructor(t,n={}){_(this,"symbol");_(this,"annotations");_(this,"_tag","UniqueSymbol");this.symbol=t,this.annotations=n}toString(){return bt(Ho(this),()=>Uo(this.symbol))}toJSON(){return{_tag:this._tag,symbol:String(this.symbol),annotations:Xt(this.annotations)}}}class vU{constructor(t={}){_(this,"annotations");_(this,"_tag","UndefinedKeyword");this.annotations=t}toString(){return la(this)}toJSON(){return{_tag:this._tag,annotations:Xt(this.annotations)}}}const Ky=new vU({[$i]:"undefined"});class _U{constructor(t={}){_(this,"annotations");_(this,"_tag","NeverKeyword");this.annotations=t}toString(){return la(this)}toJSON(){return{_tag:this._tag,annotations:Xt(this.annotations)}}}const O_=new _U({[$i]:"never"});class bU{constructor(t={}){_(this,"annotations");_(this,"_tag","UnknownKeyword");this.annotations=t}toString(){return la(this)}toJSON(){return{_tag:this._tag,annotations:Xt(this.annotations)}}}const zO=new bU({[$i]:"unknown"});class SU{constructor(t={}){_(this,"annotations");_(this,"_tag","AnyKeyword");this.annotations=t}toString(){return la(this)}toJSON(){return{_tag:this._tag,annotations:Xt(this.annotations)}}}const qO=new SU({[$i]:"any"});class wU{constructor(t={}){_(this,"annotations");_(this,"_tag","StringKeyword");this.annotations=t}toString(){return la(this)}toJSON(){return{_tag:this._tag,annotations:Xt(this.annotations)}}}const EU=new wU({[$i]:"string",[Pl]:"a string"}),xU=Ml("StringKeyword");class CU{constructor(t={}){_(this,"annotations");_(this,"_tag","NumberKeyword");this.annotations=t}toString(){return la(this)}toJSON(){return{_tag:this._tag,annotations:Xt(this.annotations)}}}const TU=new CU({[$i]:"number",[Pl]:"a number"});class kU{constructor(t={}){_(this,"annotations");_(this,"_tag","BooleanKeyword");this.annotations=t}toString(){return la(this)}toJSON(){return{_tag:this._tag,annotations:Xt(this.annotations)}}}const OU=new kU({[$i]:"boolean",[Pl]:"a boolean"}),IU=Ml("SymbolKeyword");let sp=class{constructor(t,n={}){_(this,"type");_(this,"annotations");this.type=t,this.annotations=n}toJSON(){return{type:this.type.toJSON(),annotations:Xt(this.annotations)}}toString(){return String(this.type)}};class ca extends sp{constructor(n,r,o={}){super(n,o);_(this,"isOptional");this.isOptional=r}toJSON(){return{type:this.type.toJSON(),isOptional:this.isOptional,annotations:Xt(this.annotations)}}toString(){return String(this.type)+(this.isOptional?"?":"")}}const KO=e=>e.map(t=>t.type);class I_{constructor(t,n,r,o={}){_(this,"elements");_(this,"rest");_(this,"isReadonly");_(this,"annotations");_(this,"_tag","TupleType");this.elements=t,this.rest=n,this.isReadonly=r,this.annotations=o;let s=!1,a=!1;for(const c of t)if(c.isOptional)s=!0;else if(s){a=!0;break}if(a||s&&n.length>1)throw new Error(QW)}toString(){return bt(Ho(this),()=>AU(this))}toJSON(){return{_tag:this._tag,elements:this.elements.map(t=>t.toJSON()),rest:this.rest.map(t=>t.toJSON()),isReadonly:this.isReadonly,annotations:Xt(this.annotations)}}}const AU=e=>{const t=e.elements.map(String).join(", ");return IW(e.rest,{onEmpty:()=>`readonly [${t}]`,onNonEmpty:(n,r)=>{const o=String(n),s=o.includes(" | ")?`(${o})`:o;if(r.length>0){const a=r.map(String).join(", ");return e.elements.length>0?`readonly [${t}, ...${s}[], ${a}]`:`readonly [...${s}[], ${a}]`}else return e.elements.length>0?`readonly [${t}, ...${s}[]]`:`ReadonlyArray<${o}>`}})};class $n extends ca{constructor(n,r,o,s,a){super(r,o,a);_(this,"name");_(this,"isReadonly");this.name=n,this.isReadonly=s}toString(){return(this.isReadonly?"readonly ":"")+String(this.name)+(this.isOptional?"?":"")+": "+this.type}toJSON(){return{name:String(this.name),type:this.type.toJSON(),isOptional:this.isOptional,isReadonly:this.isReadonly,annotations:Xt(this.annotations)}}}const VO=e=>{switch(e._tag){case"StringKeyword":case"SymbolKeyword":case"TemplateLiteral":return!0;case"Refinement":return VO(e.from)}return!1};class ap{constructor(t,n,r){_(this,"type");_(this,"isReadonly");_(this,"parameter");if(this.type=n,this.isReadonly=r,VO(t))this.parameter=t;else throw new Error(XW)}toString(){return(this.isReadonly?"readonly ":"")+`[x: ${this.parameter}]: ${this.type}`}toJSON(){return{parameter:this.parameter.toJSON(),type:this.type.toJSON(),isReadonly:this.isReadonly}}}class Ws{constructor(t,n,r={}){_(this,"annotations");_(this,"_tag","TypeLiteral");_(this,"propertySignatures");_(this,"indexSignatures");this.annotations=r;const o={};for(let a=0;a<t.length;a++){const c=t[a].name;if(Object.prototype.hasOwnProperty.call(o,c))throw new Error(ZW(c));o[c]=null}const s={string:!1,symbol:!1};for(let a=0;a<n.length;a++){const c=ZO(n[a].parameter);if(xU(c)){if(s.string)throw new Error(bE("string"));s.string=!0}else if(IU(c)){if(s.symbol)throw new Error(bE("symbol"));s.symbol=!0}}this.propertySignatures=t,this.indexSignatures=n}toString(){return bt(Ho(this),()=>$U(this))}toJSON(){return{_tag:this._tag,propertySignatures:this.propertySignatures.map(t=>t.toJSON()),indexSignatures:this.indexSignatures.map(t=>t.toJSON()),annotations:Xt(this.annotations)}}}const EE=e=>e.map(String).join("; "),$U=e=>{if(e.propertySignatures.length>0){const t=e.propertySignatures.map(String).join("; ");return e.indexSignatures.length>0?`{ ${t}; ${EE(e.indexSignatures)} }`:`{ ${t} }`}else return e.indexSignatures.length>0?`{ ${EE(e.indexSignatures)} }`:"{}"},RU=Xc(fO(au,e=>{switch(e._tag){case"AnyKeyword":return 0;case"UnknownKeyword":return 1;case"ObjectKeyword":return 2;case"StringKeyword":case"NumberKeyword":case"BooleanKeyword":case"BigIntKeyword":case"SymbolKeyword":return 3}return 4})),PU={string:"StringKeyword",number:"NumberKeyword",boolean:"BooleanKeyword",bigint:"BigIntKeyword"},HO=e=>vO(e,t=>GO(t)?HO(t.types):[t]),MU=e=>{const t=RU(e),n=[],r={},o=[];for(const s of t)switch(s._tag){case"NeverKeyword":break;case"AnyKeyword":return[qO];case"UnknownKeyword":return[zO];case"ObjectKeyword":case"UndefinedKeyword":case"VoidKeyword":case"StringKeyword":case"NumberKeyword":case"BooleanKeyword":case"BigIntKeyword":case"SymbolKeyword":{r[s._tag]||(r[s._tag]=s,n.push(s));break}case"Literal":{const a=typeof s.literal;switch(a){case"string":case"number":case"bigint":case"boolean":{const c=PU[a];!r[c]&&!o.includes(s.literal)&&(o.push(s.literal),n.push(s));break}case"object":{o.includes(s.literal)||(o.push(s.literal),n.push(s));break}}break}case"UniqueSymbol":{!r.SymbolKeyword&&!o.includes(s.symbol)&&(o.push(s.symbol),n.push(s));break}case"TupleType":{r.ObjectKeyword||n.push(s);break}case"TypeLiteral":{s.propertySignatures.length===0&&s.indexSignatures.length===0?r["{}"]||(r["{}"]=s,n.push(s)):r.ObjectKeyword||n.push(s);break}default:n.push(s)}return n};var yi;let Po=(yi=class{constructor(t,n={}){_(this,"types");_(this,"annotations");_(this,"_tag","Union");this.types=t,this.annotations=n}toString(){return bt(Ho(this),()=>this.types.map(String).join(" | "))}toJSON(){return{_tag:this._tag,types:this.types.map(t=>t.toJSON()),annotations:Xt(this.annotations)}}},_(yi,"make",(t,n)=>A_(t)?new yi(t,n):t.length===1?t[0]:O_),_(yi,"unify",(t,n)=>yi.make(MU(HO(t)),n)),yi);const NU=(e,t)=>e.map(t),A_=e=>e.length>1,GO=Ml("Union"),Ym=De(Symbol.for("effect/Schema/AST/toJSONMemoMap"),()=>new WeakMap);class JO{constructor(t,n={}){_(this,"f");_(this,"annotations");_(this,"_tag","Suspend");this.f=t,this.annotations=n,this.f=EO(t)}toString(){return Ho(this).pipe(ns(()=>ss(_W(this.f)(),t=>Ho(t))),bt(()=>"<suspended schema>"))}toJSON(){const t=this.f();let n=Ym.get(t);return n||(Ym.set(t,{_tag:this._tag}),n={_tag:this._tag,ast:t.toJSON(),annotations:Xt(this.annotations)},Ym.set(t,n),n)}}let LU=class{constructor(t,n,r={}){_(this,"from");_(this,"filter");_(this,"annotations");_(this,"_tag","Refinement");this.from=t,this.filter=n,this.annotations=r}toString(){return op(this).pipe(bt(()=>Ot(eI(this),{onNone:()=>`{ ${this.from} | filter }`,onSome:t=>$_(this.from)?String(this.from)+" & "+t:t})))}toJSON(){return{_tag:this._tag,from:this.from.toJSON(),annotations:Xt(this.annotations)}}};const $_=Ml("Refinement"),Xm={};let R_=class{constructor(t,n,r,o={}){_(this,"from");_(this,"to");_(this,"transformation");_(this,"annotations");_(this,"_tag","Transformation");this.from=t,this.to=n,this.transformation=r,this.annotations=o}toString(){return bt(Ho(this),()=>`(${String(this.from)} <-> ${String(this.to)})`)}toJSON(){return{_tag:this._tag,from:this.from.toJSON(),to:this.to.toJSON(),annotations:Xt(this.annotations)}}};class FU{constructor(t,n){_(this,"decode");_(this,"encode");_(this,"_tag","FinalTransformation");this.decode=t,this.encode=n}}class BU{constructor(){_(this,"_tag","ComposeTransformation")}}const jU=new BU;let DU=class{constructor(t,n,r,o){_(this,"from");_(this,"to");_(this,"decode");_(this,"encode");this.from=t,this.to=n,this.decode=r,this.encode=o}};class WU{constructor(t){_(this,"propertySignatureTransformations");_(this,"_tag","TypeLiteralTransformation");this.propertySignatureTransformations=t;const n={},r={};for(const o of t){const s=o.from;if(n[s])throw new Error(SE(s));n[s]=!0;const a=o.to;if(r[a])throw new Error(SE(a));r[a]=!0}}}const uu=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={...e.annotations,...t},o=WO(e);return Nn(o)&&(r[FO]=uu(o.value,t)),n.annotations.value=r,Object.create(Object.getPrototypeOf(e),n)},UU="[\\s\\S]*",zU="[+-]?\\d*\\.?\\d+(?:[Ee][+-]?\\d+)?",YO=(e,t)=>{switch(e._tag){case"Literal":return oh(String(e.literal));case"StringKeyword":return UU;case"NumberKeyword":return zU;case"TemplateLiteral":return XO(e);case"Union":return e.types.map(n=>YO(n)).join("|")}},qU=(e,t,n,r)=>GO(e)?`(${t})`:t,XO=(e,t,n)=>{let r="";if(e.head!==""){const o=oh(e.head);r+=o}for(const o of e.spans){const s=YO(o.type);if(r+=qU(o.type,s),o.literal!==""){const a=oh(o.literal);r+=a}}return r},KU=e=>new RegExp(`^${XO(e)}$`),xE=(e,t)=>{const n=[],r=[],o=s=>{switch(s._tag){case"NeverKeyword":break;case"StringKeyword":case"SymbolKeyword":case"TemplateLiteral":case"Refinement":r.push(new ap(s,t,!0));break;case"Literal":if(Vo(s.literal)||Hs(s.literal))n.push(new $n(s.literal,t,!1,!0));else throw new Error(YW(s.literal));break;case"Enums":{for(const[a,c]of s.enums)n.push(new $n(c,t,!1,!0));break}case"UniqueSymbol":n.push(new $n(s.symbol,t,!1,!0));break;case"Union":s.types.forEach(o);break;default:throw new Error(JW(s))}};return o(e),{propertySignatures:n,indexSignatures:r}},QO=e=>t=>{let n;for(const r of e)Object.prototype.hasOwnProperty.call(t.annotations,r)&&(n===void 0&&(n={}),n[r]=t.annotations[r]);return n},VU=QO([TO,kO,OO,IO,AO,$O]),rn=e=>{switch(e._tag){case"Declaration":{const t=Gr(e.typeParameters,rn);return t===e.typeParameters?e:new ip(t,e.decodeUnknown,e.encodeUnknown,e.annotations)}case"TupleType":{const t=Gr(e.elements,o=>{const s=rn(o.type);return s===o.type?o:new ca(s,o.isOptional)}),n=KO(e.rest),r=Gr(n,rn);return t===e.elements&&r===n?e:new I_(t,r.map(o=>new sp(o)),e.isReadonly,e.annotations)}case"TypeLiteral":{const t=Gr(e.propertySignatures,r=>{const o=rn(r.type);return o===r.type?r:new $n(r.name,o,r.isOptional,r.isReadonly)}),n=Gr(e.indexSignatures,r=>{const o=rn(r.type);return o===r.type?r:new ap(r.parameter,o,r.isReadonly)});return t===e.propertySignatures&&n===e.indexSignatures?e:new Ws(t,n,e.annotations)}case"Union":{const t=Gr(e.types,rn);return t===e.types?e:Po.make(t,e.annotations)}case"Suspend":return new JO(()=>rn(e.f()),e.annotations);case"Refinement":{const t=rn(e.from);return t===e.from?e:new LU(t,e.filter,e.annotations)}case"Transformation":{const t=VU(e);return rn(t!==void 0?uu(e.to,t):e.to)}}return e},Fa=e=>Ot(gU(e),{onNone:()=>{},onSome:t=>({[UO]:t})});function Gr(e,t){let n=!1;const r=rp(e.length);for(let o=0;o<e.length;o++){const s=e[o],a=t(s);a!==s&&(n=!0),r[o]=a}return n?r:e}const Io=(e,t)=>{switch(e._tag){case"Declaration":{const n=Gr(e.typeParameters,r=>Io(r));return n===e.typeParameters?e:new ip(n,e.decodeUnknown,e.encodeUnknown,e.annotations)}case"TupleType":{const n=Gr(e.elements,s=>{const a=Io(s.type);return a===s.type?s:new ca(a,s.isOptional)}),r=KO(e.rest),o=Gr(r,s=>Io(s));return n===e.elements&&o===r?e:new I_(n,o.map(s=>new sp(s)),e.isReadonly,Fa(e))}case"TypeLiteral":{const n=Gr(e.propertySignatures,o=>{const s=Io(o.type);return s===o.type?o:new $n(o.name,s,o.isOptional,o.isReadonly)}),r=Gr(e.indexSignatures,o=>{const s=Io(o.type);return s===o.type?o:new ap(o.parameter,s,o.isReadonly)});return n===e.propertySignatures&&r===e.indexSignatures?e:new Ws(n,r,Fa(e))}case"Union":{const n=Gr(e.types,r=>Io(r));return n===e.types?e:Po.make(n,Fa(e))}case"Suspend":return new JO(()=>Io(e.f()),Fa(e));case"Refinement":{const n=Io(e.from),r=Fa(e);return r?uu(n,r):n}case"Transformation":{const n=Fa(e);return Io(n?uu(e.from,n):e.from)}}return e},CE=e=>Io(e),Xt=e=>{const t={};for(const n of Object.getOwnPropertySymbols(e))t[String(n)]=e[n];return t},ZO=e=>{switch(e._tag){case"StringKeyword":case"SymbolKeyword":case"TemplateLiteral":return e;case"Refinement":return ZO(e.from)}},HU=(e,t)=>new R_(e,t,jU),la=e=>bt(Ho(e),()=>e._tag);function GU(e){return Ot(oU(e),{onNone:()=>"",onSome:t=>t.map(n=>` & Brand<${Uo(n)}>`).join("")})}const eI=e=>BO(e).pipe(ns(()=>DO(e)),ns(()=>jO(e)),dO(t=>t+GU(e))),Ho=e=>ns(op(e),()=>eI(e)),JU=Symbol.for("effect/Context/Tag"),ih=Symbol.for("effect/Context/Reference"),YU="effect/STM",XU=Symbol.for(YU),tI={...Al,_op:"Tag",[XU]:su,[JU]:{_Service:e=>e,_Identifier:e=>e},toString(){return zt(this.toJSON())},toJSON(){return{_id:"Tag",key:this.key,stack:this.stack}},[pt](){return this.toJSON()},of(e){return e},context(e){return rI(this,e)}},QU={...tI,[ih]:ih},ZU=e=>{const t=Error.stackTraceLimit;Error.stackTraceLimit=2;const n=new Error;Error.stackTraceLimit=t;const r=Object.create(tI);return Object.defineProperty(r,"stack",{get(){return n.stack}}),r.key=e,r},ez=()=>(e,t)=>{const n=Error.stackTraceLimit;Error.stackTraceLimit=2;const r=new Error;Error.stackTraceLimit=n;function o(){}return Object.setPrototypeOf(o,QU),o.key=e,o.defaultValue=t.defaultValue,Object.defineProperty(o,"stack",{get(){return r.stack}}),o},nI=Symbol.for("effect/Context"),tz={[nI]:{_Services:e=>e},[Ie](e){if(rz(e)&&this.unsafeMap.size===e.unsafeMap.size){for(const t of this.unsafeMap.keys())if(!e.unsafeMap.has(t)||!Ae(this.unsafeMap.get(t),e.unsafeMap.get(t)))return!1;return!0}return!1},[Re](){return It(this,m_(this.unsafeMap.size))},pipe(){return ve(this,arguments)},toString(){return zt(this.toJSON())},toJSON(){return{_id:"Context",services:Array.from(this.unsafeMap).map(Mt)}},[pt](){return this.toJSON()}},cu=e=>{const t=Object.create(tz);return t.unsafeMap=e,t},nz=e=>{const t=new Error(`Service not found${e.key?`: ${String(e.key)}`:""}`);if(e.stack){const n=e.stack.split(`
`);if(n.length>2){const r=n[2].match(/at (.*)/);r&&(t.message=t.message+` (defined at ${r[1]})`)}}if(t.stack){const n=t.stack.split(`
`);n.splice(1,3),t.stack=n.join(`
`)}return t},rz=e=>Ce(e,nI),oz=e=>Ce(e,ih),iz=cu(new Map),sz=()=>iz,rI=(e,t)=>cu(new Map([[e.key,t]])),az=I(3,(e,t,n)=>{const r=new Map(e.unsafeMap);return r.set(t.key,n),cu(r)}),Qm=De("effect/Context/defaultValueCache",()=>new Map),P_=e=>{if(Qm.has(e.key))return Qm.get(e.key);const t=e.defaultValue();return Qm.set(e.key,t),t},uz=(e,t)=>e.unsafeMap.has(t.key)?e.unsafeMap.get(t.key):P_(t),oI=I(2,(e,t)=>{if(!e.unsafeMap.has(t.key)){if(ih in t)return P_(t);throw nz(t)}return e.unsafeMap.get(t.key)}),cz=oI,lz=I(2,(e,t)=>e.unsafeMap.has(t.key)?nh(e.unsafeMap.get(t.key)):oz(t)?nh(P_(t)):S_),fz=I(2,(e,t)=>{const n=new Map(e.unsafeMap);for(const[r,o]of t.unsafeMap)n.set(r,o);return cu(n)}),fa=ZU,M_=sz,dz=rI,Ec=az,iI=cz,sI=oI,Nl=lz,aI=fz,uI=ez,cI=Symbol.for("effect/Chunk");function hz(e,t,n,r,o){for(let s=t;s<Math.min(e.length,t+o);s++)n[r+s-t]=e[s];return n}const lI=[],pz=e=>Xh((t,n)=>t.length===n.length&&Us(t).every((r,o)=>e(r,zs(n,o)))),gz=pz(Ae),mz={[cI]:{_A:e=>e},toString(){return zt(this.toJSON())},toJSON(){return{_id:"Chunk",values:Us(this).map(Mt)}},[pt](){return this.toJSON()},[Ie](e){return fI(e)&&gz(this,e)},[Re](){return It(this,Ol(Us(this)))},[Symbol.iterator](){switch(this.backing._tag){case"IArray":return this.backing.array[Symbol.iterator]();case"IEmpty":return lI[Symbol.iterator]();default:return Us(this)[Symbol.iterator]()}},pipe(){return ve(this,arguments)}},Ht=e=>{const t=Object.create(mz);switch(t.backing=e,e._tag){case"IEmpty":{t.length=0,t.depth=0,t.left=t,t.right=t;break}case"IConcat":{t.length=e.left.length+e.right.length,t.depth=1+Math.max(e.left.depth,e.right.depth),t.left=e.left,t.right=e.right;break}case"IArray":{t.length=e.array.length,t.depth=0,t.left=Mo,t.right=Mo;break}case"ISingleton":{t.length=1,t.depth=0,t.left=Mo,t.right=Mo;break}case"ISlice":{t.length=e.length,t.depth=e.chunk.depth+1,t.left=Mo,t.right=Mo;break}}return t},fI=e=>Ce(e,cI),Mo=Ht({_tag:"IEmpty"}),Tr=()=>Mo,Zm=(...e)=>bz(e),or=e=>Ht({_tag:"ISingleton",a:e}),sh=e=>fI(e)?e:Ll(wt(e)),Vy=(e,t,n)=>{switch(e.backing._tag){case"IArray":{hz(e.backing.array,0,t,n,e.length);break}case"IConcat":{Vy(e.left,t,n),Vy(e.right,t,n+e.left.length);break}case"ISingleton":{t[n]=e.backing.a;break}case"ISlice":{let r=0,o=n;for(;r<e.length;)t[o]=zs(e,r),r+=1,o+=1;break}}},yz=e=>{switch(e.backing._tag){case"IEmpty":return lI;case"IArray":return e.backing.array;default:{const t=new Array(e.length);return Vy(e,t,0),e.backing={_tag:"IArray",array:t},e.left=Mo,e.right=Mo,e.depth=0,t}}},Us=yz,vz=e=>{switch(e.backing._tag){case"IEmpty":case"ISingleton":return e;case"IArray":return Ht({_tag:"IArray",array:mE(e.backing.array)});case"IConcat":return Ht({_tag:"IConcat",left:Ei(e.backing.right),right:Ei(e.backing.left)});case"ISlice":return Ll(mE(Us(e)))}},Ei=vz,_z=I(2,(e,t)=>t<0||t>=e.length?oe():we(zs(e,t))),Ll=e=>e.length===0?Tr():e.length===1?or(e[0]):Ht({_tag:"IArray",array:e}),bz=e=>Ll(e),zs=I(2,(e,t)=>{switch(e.backing._tag){case"IEmpty":throw new Error("Index out of bounds");case"ISingleton":{if(t!==0)throw new Error("Index out of bounds");return e.backing.a}case"IArray":{if(t>=e.length||t<0)throw new Error("Index out of bounds");return e.backing.array[t]}case"IConcat":return t<e.left.length?zs(e.left,t):zs(e.right,t-e.left.length);case"ISlice":return zs(e.backing.chunk,t+e.backing.offset)}}),Hy=I(2,(e,t)=>nr(e,or(t))),Vn=I(2,(e,t)=>nr(or(t),e)),Gy=I(2,(e,t)=>{if(t<=0)return e;if(t>=e.length)return Mo;switch(e.backing._tag){case"ISlice":return Ht({_tag:"ISlice",chunk:e.backing.chunk,offset:e.backing.offset+t,length:e.backing.length-t});case"IConcat":return t>e.left.length?Gy(e.right,t-e.left.length):Ht({_tag:"IConcat",left:Gy(e.left,t),right:e.right});default:return Ht({_tag:"ISlice",chunk:e,offset:t,length:e.length-t})}}),nr=I(2,(e,t)=>{if(e.backing._tag==="IEmpty")return t;if(t.backing._tag==="IEmpty")return e;const n=t.depth-e.depth;if(Math.abs(n)<=1)return Ht({_tag:"IConcat",left:e,right:t});if(n<-1)if(e.left.depth>=e.right.depth){const r=nr(e.right,t);return Ht({_tag:"IConcat",left:e.left,right:r})}else{const r=nr(e.right.right,t);if(r.depth===e.depth-3){const o=Ht({_tag:"IConcat",left:e.right.left,right:r});return Ht({_tag:"IConcat",left:e.left,right:o})}else{const o=Ht({_tag:"IConcat",left:e.left,right:e.right.left});return Ht({_tag:"IConcat",left:o,right:r})}}else if(t.right.depth>=t.left.depth){const r=nr(e,t.left);return Ht({_tag:"IConcat",left:r,right:t.right})}else{const r=nr(e,t.left.left);if(r.depth===t.depth-3){const o=Ht({_tag:"IConcat",left:r,right:t.left.right});return Ht({_tag:"IConcat",left:o,right:t.right})}else{const o=Ht({_tag:"IConcat",left:t.left.right,right:t.right});return Ht({_tag:"IConcat",left:r,right:o})}}}),Sz=I(2,(e,t)=>Ll(qW(e,t))),dI=e=>e.length===0,xi=e=>e.length>0,hI=_z(0),pI=e=>zs(e,0),Do=pI,_i=e=>Gy(e,1),Jy=Symbol.for("effect/Duration"),gI=BigInt(0),TE=BigInt(24),ed=BigInt(60),Yy=BigInt(1e3),kE=BigInt(1e6),OE=BigInt(1e9),wz=/^(-?\d+(?:\.\d+)?)\s+(nanos?|micros?|millis?|seconds?|minutes?|hours?|days?|weeks?)$/,Go=e=>{if(mI(e))return e;if(Hs(e))return ah(e);if(Zh(e))return ey(e);if(Array.isArray(e)&&e.length===2&&e.every(Hs))return e[0]===-1/0||e[1]===-1/0||Number.isNaN(e[0])||Number.isNaN(e[1])?yI:e[0]===1/0||e[1]===1/0?Tz:ey(BigInt(Math.round(e[0]*1e9))+BigInt(Math.round(e[1])));if(Vo(e)){const t=wz.exec(e);if(t){const[n,r,o]=t,s=Number(r);switch(o){case"nano":case"nanos":return ey(BigInt(r));case"micro":case"micros":return kz(BigInt(r));case"milli":case"millis":return ah(s);case"second":case"seconds":return Oz(s);case"minute":case"minutes":return Iz(s);case"hour":case"hours":return Az(s);case"day":case"days":return $z(s);case"week":case"weeks":return Rz(s)}}}throw new Error("Invalid DurationInput")},IE={_tag:"Millis",millis:0},Ez={_tag:"Infinity"},xz={[Jy]:Jy,[Re](){return It(this,Jk(this.value))},[Ie](e){return mI(e)&&Bz(this,e)},toString(){return`Duration(${Dz(this)})`},toJSON(){switch(this.value._tag){case"Millis":return{_id:"Duration",_tag:"Millis",millis:this.value.millis};case"Nanos":return{_id:"Duration",_tag:"Nanos",hrtime:Mz(this)};case"Infinity":return{_id:"Duration",_tag:"Infinity"}}},[pt](){return this.toJSON()},pipe(){return ve(this,arguments)}},Qo=e=>{const t=Object.create(xz);return Hs(e)?isNaN(e)||e<=0?t.value=IE:Number.isFinite(e)?Number.isInteger(e)?t.value={_tag:"Millis",millis:e}:t.value={_tag:"Nanos",nanos:BigInt(Math.round(e*1e6))}:t.value=Ez:e<=gI?t.value=IE:t.value={_tag:"Nanos",nanos:e},t},mI=e=>Ce(e,Jy),Cz=e=>{switch(e.value._tag){case"Millis":return e.value.millis===0;case"Nanos":return e.value.nanos===gI;case"Infinity":return!1}},yI=Qo(0),Tz=Qo(1/0),ey=e=>Qo(e),kz=e=>Qo(e*Yy),ah=e=>Qo(e),Oz=e=>Qo(e*1e3),Iz=e=>Qo(e*6e4),Az=e=>Qo(e*36e5),$z=e=>Qo(e*864e5),Rz=e=>Qo(e*6048e5),Xy=e=>Nz(e,{onMillis:t=>t,onNanos:t=>Number(t)/1e6}),Pz=e=>{const t=Go(e);switch(t.value._tag){case"Infinity":throw new Error("Cannot convert infinite duration to nanos");case"Nanos":return t.value.nanos;case"Millis":return BigInt(Math.round(t.value.millis*1e6))}},Mz=e=>{const t=Go(e);switch(t.value._tag){case"Infinity":return[1/0,0];case"Nanos":return[Number(t.value.nanos/OE),Number(t.value.nanos%OE)];case"Millis":return[Math.floor(t.value.millis/1e3),Math.round(t.value.millis%1e3*1e6)]}},Nz=I(2,(e,t)=>{const n=Go(e);switch(n.value._tag){case"Nanos":return t.onNanos(n.value.nanos);case"Infinity":return t.onMillis(1/0);case"Millis":return t.onMillis(n.value.millis)}}),vI=I(3,(e,t,n)=>{const r=Go(e),o=Go(t);if(r.value._tag==="Infinity"||o.value._tag==="Infinity")return n.onMillis(Xy(r),Xy(o));if(r.value._tag==="Nanos"||o.value._tag==="Nanos"){const s=r.value._tag==="Nanos"?r.value.nanos:BigInt(Math.round(r.value.millis*1e6)),a=o.value._tag==="Nanos"?o.value.nanos:BigInt(Math.round(o.value.millis*1e6));return n.onNanos(s,a)}return n.onMillis(r.value.millis,o.value.millis)}),Lz=(e,t)=>vI(e,t,{onMillis:(n,r)=>n===r,onNanos:(n,r)=>n===r}),Fz=I(2,(e,t)=>vI(e,t,{onMillis:(n,r)=>n>=r,onNanos:(n,r)=>n>=r})),Bz=I(2,(e,t)=>Lz(Go(e),Go(t))),jz=e=>{const t=Go(e);if(t.value._tag==="Infinity")return{days:1/0,hours:1/0,minutes:1/0,seconds:1/0,millis:1/0,nanos:1/0};const n=Pz(t),r=n/kE,o=r/Yy,s=o/ed,a=s/ed,c=a/TE;return{days:Number(c),hours:Number(a%TE),minutes:Number(s%ed),seconds:Number(o%ed),millis:Number(r%Yy),nanos:Number(n%kE)}},Dz=e=>{const t=Go(e);if(t.value._tag==="Infinity")return"Infinity";if(Cz(t))return"0";const n=jz(t),r=[];return n.days!==0&&r.push(`${n.days}d`),n.hours!==0&&r.push(`${n.hours}h`),n.minutes!==0&&r.push(`${n.minutes}m`),n.seconds!==0&&r.push(`${n.seconds}s`),n.millis!==0&&r.push(`${n.millis}ms`),n.nanos!==0&&r.push(`${n.nanos}ns`),r.join(" ")},Ys=5,N_=Math.pow(2,Ys),Wz=N_-1,Uz=N_/2,zz=N_/4;function qz(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),e=e+(e>>4)&252645135,e+=e>>8,e+=e>>16,e&127}function lu(e,t){return t>>>e&Wz}function Ya(e){return 1<<e}function _I(e,t){return qz(e&t-1)}const Kz=(e,t)=>({value:e,previous:t});function eu(e,t,n,r){let o=r;if(!e){const s=r.length;o=new Array(s);for(let a=0;a<s;++a)o[a]=r[a]}return o[t]=n,o}function bI(e,t,n){const r=n.length-1;let o=0,s=0,a=n;if(e)o=s=t;else for(a=new Array(r);o<t;)a[s++]=n[o++];for(++o;o<=r;)a[s++]=n[o++];return e&&(a.length=r),a}function Vz(e,t,n,r){const o=r.length;if(e){let f=o;for(;f>=t;)r[f--]=r[f];return r[t]=n,r}let s=0,a=0;const c=new Array(o+1);for(;s<t;)c[a++]=r[s++];for(c[t]=n;s<o;)c[++a]=r[s++];return c}class as{constructor(){_(this,"_tag","EmptyNode")}modify(t,n,r,o,s,a){const c=r(oe());return Nt(c)?new as:(++a.value,new qs(t,o,s,c))}}function yo(e){return p_(e,"EmptyNode")}function Hz(e){return yo(e)||e._tag==="LeafNode"||e._tag==="CollisionNode"}function up(e,t){return yo(e)?!1:t===e.edit}class qs{constructor(t,n,r,o){_(this,"edit");_(this,"hash");_(this,"key");_(this,"value");_(this,"_tag","LeafNode");this.edit=t,this.hash=n,this.key=r,this.value=o}modify(t,n,r,o,s,a){if(Ae(s,this.key)){const f=r(this.value);return f===this.value?this:Nt(f)?(--a.value,new as):up(this,t)?(this.value=f,this):new qs(t,o,s,f)}const c=r(oe());return Nt(c)?this:(++a.value,SI(t,n,this.hash,this,o,new qs(t,o,s,c)))}}class L_{constructor(t,n,r){_(this,"edit");_(this,"hash");_(this,"children");_(this,"_tag","CollisionNode");this.edit=t,this.hash=n,this.children=r}modify(t,n,r,o,s,a){if(o===this.hash){const f=up(this,t),d=this.updateCollisionList(f,t,this.hash,this.children,r,s,a);return d===this.children?this:d.length>1?new L_(t,this.hash,d):d[0]}const c=r(oe());return Nt(c)?this:(++a.value,SI(t,n,this.hash,this,o,new qs(t,o,s,c)))}updateCollisionList(t,n,r,o,s,a,c){const f=o.length;for(let p=0;p<f;++p){const g=o[p];if("key"in g&&Ae(a,g.key)){const m=g.value,y=s(m);return y===m?o:Nt(y)?(--c.value,bI(t,p,o)):eu(t,p,new qs(n,r,a,y),o)}}const d=s(oe());return Nt(d)?o:(++c.value,eu(t,f,new qs(n,r,a,d),o))}}class fu{constructor(t,n,r){_(this,"edit");_(this,"mask");_(this,"children");_(this,"_tag","IndexedNode");this.edit=t,this.mask=n,this.children=r}modify(t,n,r,o,s,a){const c=this.mask,f=this.children,d=lu(n,o),p=Ya(d),g=_I(c,p),m=c&p,y=up(this,t);if(!m){const L=new as().modify(t,n+Ys,r,o,s,a);return L?f.length>=Uz?Jz(t,d,L,c,f):new fu(t,c|p,Vz(y,g,L,f)):this}const b=f[g],x=b.modify(t,n+Ys,r,o,s,a);if(b===x)return this;let T=c,k;if(yo(x)){if(T&=~p,!T)return new as;if(f.length<=2&&Hz(f[g^1]))return f[g^1];k=bI(y,g,f)}else k=eu(y,g,x,f);return y?(this.mask=T,this.children=k,this):new fu(t,T,k)}}class F_{constructor(t,n,r){_(this,"edit");_(this,"size");_(this,"children");_(this,"_tag","ArrayNode");this.edit=t,this.size=n,this.children=r}modify(t,n,r,o,s,a){let c=this.size;const f=this.children,d=lu(n,o),p=f[d],g=(p||new as).modify(t,n+Ys,r,o,s,a);if(p===g)return this;const m=up(this,t);let y;if(yo(p)&&!yo(g))++c,y=eu(m,d,g,f);else if(!yo(p)&&yo(g)){if(--c,c<=zz)return Gz(t,c,d,f);y=eu(m,d,new as,f)}else y=eu(m,d,g,f);return m?(this.size=c,this.children=y,this):new F_(t,c,y)}}function Gz(e,t,n,r){const o=new Array(t-1);let s=0,a=0;for(let c=0,f=r.length;c<f;++c)if(c!==n){const d=r[c];d&&!yo(d)&&(o[s++]=d,a|=1<<c)}return new fu(e,a,o)}function Jz(e,t,n,r,o){const s=[];let a=r,c=0;for(let f=0;a;++f)a&1&&(s[f]=o[c++]),a>>>=1;return s[t]=n,new F_(e,c+1,s)}function Yz(e,t,n,r,o,s){if(n===o)return new L_(e,n,[s,r]);const a=lu(t,n),c=lu(t,o);if(a===c)return f=>new fu(e,Ya(a)|Ya(c),[f]);{const f=a<c?[r,s]:[s,r];return new fu(e,Ya(a)|Ya(c),f)}}function SI(e,t,n,r,o,s){let a,c=t;for(;;){const f=Yz(e,c,n,r,o,s);if(typeof f=="function")a=Kz(f,a),c=c+Ys;else{let d=f;for(;a!=null;)d=a.value(d),a=a.previous;return d}}}const wI="effect/HashMap",Qy=Symbol.for(wI),Xz={[Qy]:Qy,[Symbol.iterator](){return new cp(this,(e,t)=>[e,t])},[Re](){let e=fe(wI);for(const t of this)e^=F(fe(t[0]),je(fe(t[1])));return It(this,e)},[Ie](e){if(e4(e)){if(e._size!==this._size)return!1;for(const t of this){const n=F(e,j_(t[0],fe(t[0])));if(Nt(n))return!1;if(!Ae(t[1],n.value))return!1}return!0}return!1},toString(){return zt(this.toJSON())},toJSON(){return{_id:"HashMap",values:Array.from(this).map(Mt)}},[pt](){return this.toJSON()},pipe(){return ve(this,arguments)}},B_=(e,t,n,r)=>{const o=Object.create(Xz);return o._editable=e,o._edit=t,o._root=n,o._size=r,o};class cp{constructor(t,n){_(this,"map");_(this,"f");_(this,"v");this.map=t,this.f=n,this.v=EI(this.map._root,this.f,void 0)}next(){if(Nt(this.v))return{done:!0,value:void 0};const t=this.v.value;return this.v=uh(t.cont),{done:!1,value:t.value}}[Symbol.iterator](){return new cp(this.map,this.f)}}const uh=e=>e?xI(e[0],e[1],e[2],e[3],e[4]):oe(),EI=(e,t,n=void 0)=>{switch(e._tag){case"LeafNode":return Nn(e.value)?we({value:t(e.key,e.value.value),cont:n}):uh(n);case"CollisionNode":case"ArrayNode":case"IndexedNode":{const r=e.children;return xI(r.length,r,0,t,n)}default:return uh(n)}},xI=(e,t,n,r,o)=>{for(;n<e;){const s=t[n++];if(s&&!yo(s))return EI(s,r,[e,t,n,r,o])}return uh(o)},Qz=B_(!1,0,new as,0),lp=()=>Qz,Zz=e=>{const t=TI(lp());for(const n of e)Qc(t,n[0],n[1]);return i4(t)},e4=e=>Ce(e,Qy),t4=e=>e&&yo(e._root),n4=I(2,(e,t)=>j_(e,t,fe(t))),j_=I(3,(e,t,n)=>{let r=e._root,o=0;for(;;)switch(r._tag){case"LeafNode":return Ae(t,r.key)?r.value:oe();case"CollisionNode":{if(n===r.hash){const s=r.children;for(let a=0,c=s.length;a<c;++a){const f=s[a];if("key"in f&&Ae(t,f.key))return f.value}}return oe()}case"IndexedNode":{const s=lu(o,n),a=Ya(s);if(r.mask&a){r=r.children[_I(r.mask,a)],o+=Ys;break}return oe()}case"ArrayNode":{if(r=r.children[lu(o,n)],r){o+=Ys;break}return oe()}default:return oe()}}),r4=I(2,(e,t)=>Nn(j_(e,t,fe(t)))),Qc=I(3,(e,t,n)=>D_(e,t,()=>we(n))),o4=I(3,(e,t,n)=>e._editable?(e._root=t,e._size=n,e):t===e._root?e:B_(e._editable,e._edit,t,n)),CI=e=>new cp(e,t=>t),Zy=e=>e._size,TI=e=>B_(!0,e._edit+1,e._root,e._size),i4=e=>(e._editable=!1,e),D_=I(3,(e,t,n)=>s4(e,t,fe(t),n)),s4=I(4,(e,t,n,r)=>{const o={value:e._size},s=e._root.modify(e._editable?e._edit:NaN,0,r,n,t,o);return F(e,o4(s,o.value))}),AE=I(2,(e,t)=>D_(e,t,oe)),a4=I(2,(e,t)=>fp(e,lp(),(n,r,o)=>Qc(n,o,t(r,o)))),u4=I(2,(e,t)=>fp(e,void 0,(n,r,o)=>t(r,o))),fp=I(3,(e,t,n)=>{const r=e._root;if(r._tag==="LeafNode")return Nn(r.value)?n(t,r.value.value,r.key):t;if(r._tag==="EmptyNode")return t;const o=[r.children];let s;for(;s=o.pop();)for(let a=0,c=s.length;a<c;){const f=s[a++];f&&!yo(f)&&(f._tag==="LeafNode"?Nn(f.value)&&(t=n(t,f.value.value,f.key)):o.push(f.children))}return t}),kI="effect/HashSet",ev=Symbol.for(kI),c4={[ev]:ev,[Symbol.iterator](){return CI(this._keyMap)},[Re](){return It(this,je(fe(this._keyMap))(fe(kI)))},[Ie](e){return l4(e)?Zy(this._keyMap)===Zy(e._keyMap)&&Ae(this._keyMap,e._keyMap):!1},toString(){return zt(this.toJSON())},toJSON(){return{_id:"HashSet",values:Array.from(this).map(Mt)}},[pt](){return this.toJSON()},pipe(){return ve(this,arguments)}},dp=e=>{const t=Object.create(c4);return t._keyMap=e,t},l4=e=>Ce(e,ev),f4=dp(lp()),hp=()=>f4,d4=e=>{const t=W_(hp());for(const n of e)Zc(t,n);return U_(t)},h4=(...e)=>{const t=W_(hp());for(const n of e)Zc(t,n);return U_(t)},p4=I(2,(e,t)=>r4(e._keyMap,t)),g4=e=>Zy(e._keyMap),W_=e=>dp(TI(e._keyMap)),U_=e=>(e._keyMap._editable=!1,e),OI=I(2,(e,t)=>{const n=W_(e);return t(n),U_(n)}),Zc=I(2,(e,t)=>e._keyMap._editable?(Qc(t,!0)(e._keyMap),e):dp(Qc(t,!0)(e._keyMap))),II=I(2,(e,t)=>e._keyMap._editable?(AE(t)(e._keyMap),e):dp(AE(t)(e._keyMap))),m4=I(2,(e,t)=>OI(e,n=>{for(const r of t)II(n,r)})),y4=I(2,(e,t)=>OI(hp(),n=>{v4(e,r=>Zc(n,r));for(const r of t)Zc(n,r)})),v4=I(2,(e,t)=>u4(e._keyMap,(n,r)=>t(r))),_4=I(3,(e,t,n)=>fp(e._keyMap,t,(r,o,s)=>n(r,s))),Xs=hp,b4=d4,z_=h4,S4=p4,AI=g4,qc=Zc,$I=II,$E=m4,el=y4,ch=_4,RE=Symbol.for("effect/MutableRef"),w4={[RE]:RE,toString(){return zt(this.toJSON())},toJSON(){return{_id:"MutableRef",current:Mt(this.current)}},[pt](){return this.toJSON()},pipe(){return ve(this,arguments)}},pp=e=>{const t=Object.create(w4);return t.current=e,t},gn=e=>e.current,Fl=I(2,(e,t)=>(e.current=t,e)),q_="effect/FiberId",tl=Symbol.for(q_),lh="None",tv="Runtime",E4="Composite",x4=Dt(`${q_}-${lh}`);var RT;let C4=class{constructor(){_(this,RT,tl);_(this,"_tag",lh);_(this,"id",-1);_(this,"startTimeMillis",-1)}[(RT=tl,Re)](){return x4}[Ie](t){return RI(t)&&t._tag===lh}toString(){return zt(this.toJSON())}toJSON(){return{_id:"FiberId",_tag:this._tag}}[pt](){return this.toJSON()}};var PT;class T4{constructor(t,n){_(this,"id");_(this,"startTimeMillis");_(this,PT,tl);_(this,"_tag",tv);this.id=t,this.startTimeMillis=n}[(PT=tl,Re)](){return It(this,Dt(`${q_}-${this._tag}-${this.id}-${this.startTimeMillis}`))}[Ie](t){return RI(t)&&t._tag===tv&&this.id===t.id&&this.startTimeMillis===t.startTimeMillis}toString(){return zt(this.toJSON())}toJSON(){return{_id:"FiberId",_tag:this._tag,id:this.id,startTimeMillis:this.startTimeMillis}}[pt](){return this.toJSON()}}const k4=new C4,RI=e=>Ce(e,tl),nv=e=>{switch(e._tag){case lh:return Xs();case tv:return z_(e.id);case E4:return F(nv(e.left),el(nv(e.right)))}},PE=De(Symbol.for("effect/Fiber/Id/_fiberCounter"),()=>pp(0)),PI=e=>Array.from(nv(e)).map(n=>`#${n}`).join(","),O4=()=>{const e=gn(PE);return F(PE,Fl(e+1)),new T4(e,Date.now())},du=k4,I4=PI,MI=O4,K_=lp,A4=Zz,$4=t4,NI=n4,LI=Qc,FI=CI,R4=D_,P4=a4,BI=fp,nl=Symbol.for("effect/List"),rv=e=>wt(e),M4=e=>ED(C_(e),rv),N4=M4(Ae),L4={[nl]:nl,_tag:"Cons",toString(){return zt(this.toJSON())},toJSON(){return{_id:"List",_tag:"Cons",values:rv(this).map(Mt)}},[pt](){return this.toJSON()},[Ie](e){return DI(e)&&this._tag===e._tag&&N4(this,e)},[Re](){return It(this,Ol(rv(this)))},[Symbol.iterator](){let e=!1,t=this;return{next(){if(e)return this.return();if(t._tag==="Nil")return e=!0,this.return();const n=t.head;return t=t.tail,{done:e,value:n}},return(n){return e||(e=!0),{done:!0,value:n}}}},pipe(){return ve(this,arguments)}},fh=(e,t)=>{const n=Object.create(L4);return n.head=e,n.tail=t,n},F4=Dt("Nil"),B4={[nl]:nl,_tag:"Nil",toString(){return zt(this.toJSON())},toJSON(){return{_id:"List",_tag:"Nil"}},[pt](){return this.toJSON()},[Re](){return F4},[Ie](e){return DI(e)&&this._tag===e._tag},[Symbol.iterator](){return{next(){return{done:!0,value:void 0}}}},pipe(){return ve(this,arguments)}},jI=Object.create(B4),DI=e=>Ce(e,nl),wi=e=>e._tag==="Nil",j4=e=>e._tag==="Cons",D4=()=>jI,Qs=(e,t)=>fh(e,t),hu=D4,V_=e=>fh(e,jI),W4=I(2,(e,t)=>z4(t,e)),U4=I(2,(e,t)=>Qs(t,e)),z4=I(2,(e,t)=>{if(wi(e))return t;if(wi(t))return e;{const n=fh(t.head,e);let r=n,o=t.tail;for(;!wi(o);){const s=fh(o.head,e);r.tail=s,r=s,o=o.tail}return n}}),q4=I(3,(e,t,n)=>{let r=t,o=e;for(;!wi(o);)r=n(r,o.head),o=o.tail;return r}),K4=e=>{let t=hu(),n=e;for(;!wi(n);)t=U4(t,n.head),n=n.tail;return t},H_=function(){function e(t){t&&Object.assign(this,t)}return e.prototype=$l,e}(),V4=e=>Object.assign(Object.create($l),e),H4=Symbol.for("effect/DifferContextPatch");function ME(e){return e}const Bl={...H_.prototype,[H4]:{_Value:ME,_Patch:ME}},G4=Object.assign(Object.create(Bl),{_tag:"Empty"}),J4=Object.create(G4),WI=()=>J4,Y4=Object.assign(Object.create(Bl),{_tag:"AndThen"}),X4=(e,t)=>{const n=Object.create(Y4);return n.first=e,n.second=t,n},Q4=Object.assign(Object.create(Bl),{_tag:"AddService"}),Z4=(e,t)=>{const n=Object.create(Q4);return n.key=e,n.service=t,n},e6=Object.assign(Object.create(Bl),{_tag:"RemoveService"}),t6=e=>{const t=Object.create(e6);return t.key=e,t},n6=Object.assign(Object.create(Bl),{_tag:"UpdateService"}),r6=(e,t)=>{const n=Object.create(n6);return n.key=e,n.update=t,n},o6=(e,t)=>{const n=new Map(e.unsafeMap);let r=WI();for(const[o,s]of t.unsafeMap.entries())if(n.has(o)){const a=n.get(o);n.delete(o),Ae(a,s)||(r=Ad(r6(o,()=>s))(r))}else n.delete(o),r=Ad(Z4(o,s))(r);for(const[o]of n.entries())r=Ad(t6(o))(r);return r},Ad=I(2,(e,t)=>X4(e,t)),i6=I(2,(e,t)=>{if(e._tag==="Empty")return t;let n=!1,r=or(e);const o=new Map(t.unsafeMap);for(;xi(r);){const a=Do(r),c=_i(r);switch(a._tag){case"Empty":{r=c;break}case"AddService":{o.set(a.key,a.service),r=c;break}case"AndThen":{r=Vn(Vn(c,a.second),a.first);break}case"RemoveService":{o.delete(a.key),r=c;break}case"UpdateService":{o.set(a.key,a.update(o.get(a.key))),n=!0,r=c;break}}}if(!n)return cu(o);const s=new Map;for(const[a]of t.unsafeMap)o.has(a)&&(s.set(a,o.get(a)),o.delete(a));for(const[a,c]of o)s.set(a,c);return cu(s)}),s6=Symbol.for("effect/DifferHashSetPatch");function ty(e){return e}const gp={...H_.prototype,[s6]:{_Value:ty,_Key:ty,_Patch:ty}},a6=Object.assign(Object.create(gp),{_tag:"Empty"}),u6=Object.create(a6),UI=()=>u6,c6=Object.assign(Object.create(gp),{_tag:"AndThen"}),l6=(e,t)=>{const n=Object.create(c6);return n.first=e,n.second=t,n},f6=Object.assign(Object.create(gp),{_tag:"Add"}),d6=e=>{const t=Object.create(f6);return t.value=e,t},h6=Object.assign(Object.create(gp),{_tag:"Remove"}),p6=e=>{const t=Object.create(h6);return t.value=e,t},g6=(e,t)=>{const[n,r]=ch([e,UI()],([o,s],a)=>S4(a)(o)?[$I(a)(o),s]:[o,ov(d6(a))(s)])(t);return ch(r,(o,s)=>ov(p6(s))(o))(n)},ov=I(2,(e,t)=>l6(e,t)),m6=I(2,(e,t)=>{if(e._tag==="Empty")return t;let n=t,r=or(e);for(;xi(r);){const o=Do(r),s=_i(r);switch(o._tag){case"Empty":{r=s;break}case"AndThen":{r=Vn(o.first)(Vn(o.second)(s));break}case"Add":{n=qc(o.value)(n),r=s;break}case"Remove":n=$I(o.value)(n),r=s}}return n}),y6=Symbol.for("effect/DifferReadonlyArrayPatch");function NE(e){return e}const jl={...H_.prototype,[y6]:{_Value:NE,_Patch:NE}},v6=Object.assign(Object.create(jl),{_tag:"Empty"}),_6=Object.create(v6),zI=()=>_6,b6=Object.assign(Object.create(jl),{_tag:"AndThen"}),S6=(e,t)=>{const n=Object.create(b6);return n.first=e,n.second=t,n},w6=Object.assign(Object.create(jl),{_tag:"Append"}),E6=e=>{const t=Object.create(w6);return t.values=e,t},x6=Object.assign(Object.create(jl),{_tag:"Slice"}),C6=(e,t)=>{const n=Object.create(x6);return n.from=e,n.until=t,n},T6=Object.assign(Object.create(jl),{_tag:"Update"}),k6=(e,t)=>{const n=Object.create(T6);return n.index=e,n.patch=t,n},O6=e=>{let t=0,n=zI();for(;t<e.oldValue.length&&t<e.newValue.length;){const r=e.oldValue[t],o=e.newValue[t],s=e.differ.diff(r,o);Ae(s,e.differ.empty)||(n=$d(n,k6(t,s))),t=t+1}return t<e.oldValue.length&&(n=$d(n,C6(0,t))),t<e.newValue.length&&(n=$d(n,E6(jW(t)(e.newValue)))),n},$d=I(2,(e,t)=>S6(e,t)),I6=I(3,(e,t,n)=>{if(e._tag==="Empty")return t;let r=t.slice(),o=go(e);for(;Od(o);){const s=rr(o),a=Gs(o);switch(s._tag){case"Empty":{o=a;break}case"AndThen":{a.unshift(s.first,s.second),o=a;break}case"Append":{for(const c of s.values)r.push(c);o=a;break}case"Slice":{r=r.slice(s.from,s.until),o=a;break}case"Update":{r[s.index]=n.patch(s.patch,r[s.index]),o=a;break}}}return r}),A6=Symbol.for("effect/Differ"),$6={[A6]:{_P:Pt,_V:Pt},pipe(){return ve(this,arguments)}},Pu=e=>{const t=Object.create($6);return t.empty=e.empty,t.diff=e.diff,t.combine=e.combine,t.patch=e.patch,t},R6=()=>Pu({empty:WI(),combine:(e,t)=>Ad(t)(e),diff:(e,t)=>o6(e,t),patch:(e,t)=>i6(t)(e)}),P6=()=>Pu({empty:UI(),combine:(e,t)=>ov(t)(e),diff:(e,t)=>g6(e,t),patch:(e,t)=>m6(t)(e)}),M6=e=>Pu({empty:zI(),combine:(t,n)=>$d(t,n),diff:(t,n)=>O6({oldValue:t,newValue:n,differ:e}),patch:(t,n)=>I6(t,n,e)}),qI=()=>N6((e,t)=>t),N6=e=>Pu({empty:Pt,combine:(t,n)=>t===Pt?n:n===Pt?t:r=>n(t(r)),diff:(t,n)=>Ae(t,n)?Pt:Yh(n),patch:(t,n)=>e(n,t(n))}),rl=255,KI=8,iv=e=>e&rl,sv=e=>e>>KI&rl,Dl=(e,t)=>(e&rl)+((t&e&rl)<<KI),L6=Dl(0,0),F6=e=>Dl(e,e),B6=e=>Dl(e,0),j6=I(2,(e,t)=>Dl(iv(e)&~t,sv(e))),D6=I(2,(e,t)=>e|t),W6=e=>~e>>>0&rl,U6=0,Mu=1,z6=2,VI=4,av=16,HI=32,q6=e=>mp(e,HI),K6=I(2,(e,t)=>e|t),Qi=e=>GI(e)&&!H6(e),GI=e=>mp(e,Mu),mp=I(2,(e,t)=>(e&t)!==0),JI=(...e)=>e.reduce((t,n)=>t|n,0),V6=JI(U6),LE=e=>mp(e,VI),H6=e=>mp(e,av),Rd=I(2,(e,t)=>Dl(e^t,t)),Pd=I(2,(e,t)=>e&(W6(iv(t))|sv(t))|iv(t)&sv(t)),FE=Pu({empty:L6,diff:(e,t)=>Rd(e,t),combine:(e,t)=>D6(t)(e),patch:(e,t)=>Pd(t,e)}),G6=F6,YI=B6,BE=j6,XI=(e,t)=>({_tag:"Par",left:e,right:t}),td=(e,t)=>({_tag:"Seq",left:e,right:t}),J6=e=>{let t=V_(e),n=hu();for(;;){const[r,o]=q4(t,[QI(),hu()],([s,a],c)=>{const[f,d]=Y6(c);return[tq(s,f),W4(a,d)]});if(n=X6(n,r),wi(o))return K4(n);t=o}throw new Error("BUG: BlockedRequests.flatten - please report an issue at https://github.com/Effect-TS/effect/issues")},Y6=e=>{let t=e,n=QI(),r=hu(),o=hu();for(;;)switch(t._tag){case"Empty":{if(wi(r))return[n,o];t=r.head,r=r.tail;break}case"Par":{r=Qs(t.right,r),t=t.left;break}case"Seq":{const s=t.left,a=t.right;switch(s._tag){case"Empty":{t=a;break}case"Par":{const c=s.left,f=s.right;t=XI(td(c,a),td(f,a));break}case"Seq":{const c=s.left,f=s.right;t=td(c,td(f,a));break}case"Single":{t=s,o=Qs(a,o);break}}break}case"Single":{if(n=eq(n,t),wi(r))return[n,o];t=r.head,r=r.tail;break}}throw new Error("BUG: BlockedRequests.step - please report an issue at https://github.com/Effect-TS/effect/issues")},X6=(e,t)=>{if(wi(e))return V_(ny(t));if(nq(t))return e;const n=uq(e.head),r=rq(t);return n.length===1&&r.length===1&&Ae(n[0],r[0])?Qs(aq(e.head,ny(t)),e.tail):Qs(ny(t),e)},Q6=Symbol.for("effect/RequestBlock/RequestBlockParallel"),Z6={_R:e=>e};var MT;MT=Q6;class G_{constructor(t){_(this,"map");_(this,MT,Z6);this.map=t}}const QI=()=>new G_(K_()),eq=(e,t)=>new G_(R4(e.map,t.dataSource,n=>vW(dO(n,Hy(t.blockedRequest)),()=>or(t.blockedRequest)))),tq=(e,t)=>new G_(BI(e.map,t.map,(n,r,o)=>LI(n,o,Ot(NI(n,o),{onNone:()=>r,onSome:s=>nr(r,s)})))),nq=e=>$4(e.map),rq=e=>Array.from(FI(e.map)),ny=e=>sq(P4(e.map,t=>or(t))),oq=Symbol.for("effect/RequestBlock/RequestBlockSequential"),iq={_R:e=>e};var NT;NT=oq;class ZI{constructor(t){_(this,"map");_(this,NT,iq);this.map=t}}const sq=e=>new ZI(e),aq=(e,t)=>new ZI(BI(t.map,e.map,(n,r,o)=>LI(n,o,Ot(NI(n,o),{onNone:()=>Tr(),onSome:s=>nr(s,r)})))),uq=e=>Array.from(FI(e.map)),cq=e=>Array.from(e.map),Nu="Die",Zs="Empty",da="Fail",Lu="Interrupt",pu="Parallel",gu="Sequential",eA="effect/Cause",tA=Symbol.for(eA),lq={_E:e=>e},Fu={[tA]:lq,[Re](){return F(fe(eA),je(fe(Cq(this))),It(this))},[Ie](e){return fq(e)&&xq(this,e)},pipe(){return ve(this,arguments)},toJSON(){switch(this._tag){case"Empty":return{_id:"Cause",_tag:this._tag};case"Die":return{_id:"Cause",_tag:this._tag,defect:Mt(this.defect)};case"Interrupt":return{_id:"Cause",_tag:this._tag,fiberId:this.fiberId.toJSON()};case"Fail":return{_id:"Cause",_tag:this._tag,failure:Mt(this.error)};case"Sequential":case"Parallel":return{_id:"Cause",_tag:this._tag,left:Mt(this.left),right:Mt(this.right)}}},toString(){return Bu(this)},[pt](){return this.toJSON()}},ol=(()=>{const e=Object.create(Fu);return e._tag=Zs,e})(),dh=e=>{const t=Object.create(Fu);return t._tag=da,t.error=e,t},zo=e=>{const t=Object.create(Fu);return t._tag=Nu,t.defect=e,t},mi=e=>{const t=Object.create(Fu);return t._tag=Lu,t.fiberId=e,t},yp=(e,t)=>{const n=Object.create(Fu);return n._tag=pu,n.left=e,n.right=t,n},Xr=(e,t)=>{const n=Object.create(Fu);return n._tag=gu,n.left=e,n.right=t,n},fq=e=>Ce(e,tA),dq=e=>e._tag===Zs,hq=e=>e._tag===da,pq=e=>e._tag===Nu,gq=e=>e._tag===Zs?!0:mu(e,!0,(t,n)=>{switch(n._tag){case Zs:return we(t);case Nu:case da:case Lu:return we(!1);default:return oe()}}),mq=e=>Nn(wq(e)),J_=e=>X_(void 0,kq)(e),yq=e=>Ei(mu(e,Tr(),(t,n)=>n._tag===da?we(F(t,Vn(n.error))):oe())),vq=e=>Ei(mu(e,Tr(),(t,n)=>n._tag===Nu?we(F(t,Vn(n.defect))):oe())),_q=e=>mu(e,Xs(),(t,n)=>n._tag===Lu?we(F(t,qc(n.fiberId))):oe()),bq=e=>Y_(e,t=>t._tag===da?we(t.error):oe()),Sq=e=>{const t=bq(e);switch(t._tag){case"None":return Te(e);case"Some":return Se(t.value)}},wq=e=>Y_(e,t=>t._tag===Lu?we(t.fiberId):oe()),jE=e=>nA(e,{onEmpty:ol,onFail:()=>ol,onDie:zo,onInterrupt:mi,onSequential:Xr,onParallel:yp}),Eq=e=>nA(e,{onEmpty:ol,onFail:zo,onDie:zo,onInterrupt:mi,onSequential:Xr,onParallel:yp}),xq=(e,t)=>{let n=or(e),r=or(t);for(;xi(n)&&xi(r);){const[o,s]=F(Do(n),mu([Xs(),Tr()],([f,d],p)=>{const[g,m]=uv(p);return we([F(f,el(g)),F(d,nr(m))])})),[a,c]=F(Do(r),mu([Xs(),Tr()],([f,d],p)=>{const[g,m]=uv(p);return we([F(f,el(g)),F(d,nr(m))])}));if(!Ae(o,a))return!1;n=s,r=c}return!0},Cq=e=>Tq(or(e),Tr()),Tq=(e,t)=>{for(;;){const[n,r]=F(e,bO([Xs(),Tr()],([s,a],c)=>{const[f,d]=uv(c);return[F(s,el(f)),F(a,nr(d))]})),o=AI(n)>0?F(t,Vn(n)):t;if(dI(r))return Ei(o);e=r,t=o}throw new Error(ep("Cause.flattenCauseLoop"))},Y_=I(2,(e,t)=>{const n=[e];for(;n.length>0;){const r=n.pop(),o=t(r);switch(o._tag){case"None":{switch(r._tag){case gu:case pu:{n.push(r.right),n.push(r.left);break}}break}case"Some":return o}}return oe()}),uv=e=>{let t=e;const n=[];let r=Xs(),o=Tr();for(;t!==void 0;)switch(t._tag){case Zs:{if(n.length===0)return[r,o];t=n.pop();break}case da:{if(r=qc(r,Zm(t._tag,t.error)),n.length===0)return[r,o];t=n.pop();break}case Nu:{if(r=qc(r,Zm(t._tag,t.defect)),n.length===0)return[r,o];t=n.pop();break}case Lu:{if(r=qc(r,Zm(t._tag,t.fiberId)),n.length===0)return[r,o];t=n.pop();break}case gu:{switch(t.left._tag){case Zs:{t=t.right;break}case gu:{t=Xr(t.left.left,Xr(t.left.right,t.right));break}case pu:{t=yp(Xr(t.left.left,t.right),Xr(t.left.right,t.right));break}default:{o=Vn(o,t.right),t=t.left;break}}break}case pu:{n.push(t.right),t=t.left;break}}throw new Error(ep("Cause.evaluateCauseLoop"))},kq={emptyCase:pE,failCase:Dy,dieCase:Dy,interruptCase:pE,sequentialCase:(e,t,n)=>t&&n,parallelCase:(e,t,n)=>t&&n},DE="SequentialCase",WE="ParallelCase",nA=I(2,(e,{onDie:t,onEmpty:n,onFail:r,onInterrupt:o,onParallel:s,onSequential:a})=>X_(e,void 0,{emptyCase:()=>n,failCase:(c,f)=>r(f),dieCase:(c,f)=>t(f),interruptCase:(c,f)=>o(f),sequentialCase:(c,f,d)=>a(f,d),parallelCase:(c,f,d)=>s(f,d)})),mu=I(3,(e,t,n)=>{let r=t,o=e;const s=[];for(;o!==void 0;){const a=n(r,o);switch(r=Nn(a)?a.value:r,o._tag){case gu:{s.push(o.right),o=o.left;break}case pu:{s.push(o.right),o=o.left;break}default:{o=void 0;break}}o===void 0&&s.length>0&&(o=s.pop())}return r}),X_=I(3,(e,t,n)=>{const r=[e],o=[];for(;r.length>0;){const a=r.pop();switch(a._tag){case Zs:{o.push(Te(n.emptyCase(t)));break}case da:{o.push(Te(n.failCase(t,a.error)));break}case Nu:{o.push(Te(n.dieCase(t,a.defect)));break}case Lu:{o.push(Te(n.interruptCase(t,a.fiberId)));break}case gu:{r.push(a.right),r.push(a.left),o.push(Se({_tag:DE}));break}case pu:{r.push(a.right),r.push(a.left),o.push(Se({_tag:WE}));break}}}const s=[];for(;o.length>0;){const a=o.pop();switch(a._tag){case"Left":{switch(a.left._tag){case DE:{const c=s.pop(),f=s.pop(),d=n.sequentialCase(t,c,f);s.push(d);break}case WE:{const c=s.pop(),f=s.pop(),d=n.parallelCase(t,c,f);s.push(d);break}}break}case"Right":{s.push(a.right);break}}}if(s.length===0)throw new Error("BUG: Cause.reduceWithContext - please report an issue at https://github.com/Effect-TS/effect/issues");return s.pop()}),Bu=(e,t)=>J_(e)?"All fibers interrupted without errors.":oA(e).map(function(n){return(t==null?void 0:t.renderErrorCause)!==!0||n.cause===void 0?n.stack:`${n.stack} {
${rA(n.cause,"  ")}
}`}).join(`
`),rA=(e,t)=>{const n=e.stack.split(`
`);let r=`${t}[cause]: ${n[0]}`;for(let o=1,s=n.length;o<s;o++)r+=`
${t}${n[o]}`;return e.cause&&(r+=` {
${rA(e.cause,`${t}  `)}
${t}}`),r};class hh extends globalThis.Error{constructor(n){const r=typeof n=="object"&&n!==null,o=Error.stackTraceLimit;Error.stackTraceLimit=1;super(Oq(n),r&&"cause"in n&&typeof n.cause<"u"?{cause:new hh(n.cause)}:void 0);_(this,"span");this.message===""&&(this.message="An error has occurred"),Error.stackTraceLimit=o,this.name=n instanceof Error?n.name:"Error",r&&(yu in n&&(this.span=n[yu]),Object.keys(n).forEach(s=>{s in this||(this[s]=n[s])})),this.stack=$q(`${this.name}: ${this.message}`,n instanceof Error&&n.stack?n.stack:"",this.span)}}const Oq=e=>{if(typeof e=="string")return e;if(typeof e=="object"&&e!==null&&e instanceof Error)return e.message;try{if(Ce(e,"toString")&&Au(e.toString)&&e.toString!==Object.prototype.toString&&e.toString!==globalThis.Array.prototype.toString)return e.toString()}catch{}return Yk(e)},Iq=/\((.*)\)/g,Aq=De("effect/Tracer/spanToTrace",()=>new WeakMap),$q=(e,t,n)=>{const r=[e],o=t.startsWith(e)?t.slice(e.length).split(`
`):t.split(`
`);for(let s=1;s<o.length&&!o[s].includes("Generator.next");s++){if(o[s].includes("effect_internal_function")){r.pop();break}r.push(o[s].replace(/at .*effect_instruction_i.*\((.*)\)/,"at $1").replace(/EffectPrimitive\.\w+/,"<anonymous>"))}if(n){let s=n,a=0;for(;s&&s._tag==="Span"&&a<10;){const c=Aq.get(s);if(typeof c=="function"){const f=c();if(typeof f=="string"){const d=f.matchAll(Iq);let p=!1;for(const[,g]of d)p=!0,r.push(`    at ${s.name} (${g})`);p||r.push(`    at ${s.name} (${f.replace(/^at /,"")})`)}else r.push(`    at ${s.name}`)}else r.push(`    at ${s.name}`);s=mo(s.parent),a++}}return r.join(`
`)},yu=Symbol.for("effect/SpanAnnotation"),oA=e=>X_(e,void 0,{emptyCase:()=>[],dieCase:(t,n)=>[new hh(n)],failCase:(t,n)=>[new hh(n)],interruptCase:()=>[],parallelCase:(t,n,r)=>[...n,...r],sequentialCase:(t,n,r)=>[...n,...r]}),Wl="Pending",Q_="Done",Rq="effect/Deferred",Pq=Symbol.for(Rq),Mq={_E:e=>e,_A:e=>e},Nq=e=>({_tag:Wl,joiners:e}),iA=e=>({_tag:Q_,effect:e});class Ul{constructor(t){_(this,"self");_(this,"called",!1);this.self=t}next(t){return this.called?{value:t,done:!0}:(this.called=!0,{value:this.self,done:!1})}return(t){return{value:t,done:!0}}throw(t){throw t}[Symbol.iterator](){return new Ul(this.self)}}const sA=(e,t)=>{const n=new sn("Blocked");return n.effect_instruction_i0=e,n.effect_instruction_i1=t,n},Lq=e=>{const t=new sn("RunBlocked");return t.effect_instruction_i0=e,t},vu=Symbol.for("effect/Effect");class Fq{constructor(t,n){_(this,"patch");_(this,"op");_(this,"_op",__);this.patch=t,this.op=n}}var LT;class sn{constructor(t){_(this,"_op");_(this,"effect_instruction_i0");_(this,"effect_instruction_i1");_(this,"effect_instruction_i2");_(this,"trace");_(this,LT,su);this._op=t}[(LT=vu,Ie)](t){return this===t}[Re](){return It(this,g_(this))}pipe(){return ve(this,arguments)}toJSON(){return{_id:"Effect",_op:this._op,effect_instruction_i0:Mt(this.effect_instruction_i0),effect_instruction_i1:Mt(this.effect_instruction_i1),effect_instruction_i2:Mt(this.effect_instruction_i2)}}toString(){return zt(this.toJSON())}[pt](){return this.toJSON()}[Symbol.iterator](){return new Ul(new kl(this))}}var FT;class aA{constructor(t){_(this,"_op");_(this,"effect_instruction_i0");_(this,"effect_instruction_i1");_(this,"effect_instruction_i2");_(this,"trace");_(this,FT,su);this._op=t,this._tag=t}[(FT=vu,Ie)](t){return d0(t)&&t._op==="Failure"&&Ae(this.effect_instruction_i0,t.effect_instruction_i0)}[Re](){return F(Dt(this._tag),je(fe(this.effect_instruction_i0)),It(this))}get cause(){return this.effect_instruction_i0}pipe(){return ve(this,arguments)}toJSON(){return{_id:"Exit",_tag:this._op,cause:this.cause.toJSON()}}toString(){return zt(this.toJSON())}[pt](){return this.toJSON()}[Symbol.iterator](){return new Ul(new kl(this))}}var BT;class uA{constructor(t){_(this,"_op");_(this,"effect_instruction_i0");_(this,"effect_instruction_i1");_(this,"effect_instruction_i2");_(this,"trace");_(this,BT,su);this._op=t,this._tag=t}[(BT=vu,Ie)](t){return d0(t)&&t._op==="Success"&&Ae(this.effect_instruction_i0,t.effect_instruction_i0)}[Re](){return F(Dt(this._tag),je(fe(this.effect_instruction_i0)),It(this))}get value(){return this.effect_instruction_i0}pipe(){return ve(this,arguments)}toJSON(){return{_id:"Exit",_tag:this._op,value:Mt(this.value)}}toString(){return zt(this.toJSON())}[pt](){return this.toJSON()}[Symbol.iterator](){return new Ul(new kl(this))}}const vp=e=>Ce(e,vu),Ln=e=>{const t=new sn(Zk);return t.effect_instruction_i0=e,t},Bq=I(3,(e,t,n)=>Sp(r=>ae(e,o=>ae(lA(rt(()=>r(t(o)))),s=>rt(()=>n(o,s)).pipe(_u({onFailure:a=>{switch(s._tag){case Zr:return kr(Xr(s.effect_instruction_i0,a));case eo:return kr(a)}},onSuccess:()=>s})))))),ea=I(2,(e,t)=>ae(e,()=>xe(t))),ju=e=>ea(e,void 0),cA=function(){const e=new sn(np);switch(arguments.length){case 2:{e.effect_instruction_i0=arguments[0],e.commit=arguments[1];break}case 3:{e.effect_instruction_i0=arguments[0],e.effect_instruction_i1=arguments[1],e.commit=arguments[2];break}case 4:{e.effect_instruction_i0=arguments[0],e.effect_instruction_i1=arguments[1],e.effect_instruction_i2=arguments[2],e.commit=arguments[3];break}default:throw new Error(ep("you're not supposed to end up here"))}return e},ph=(e,t=du)=>{const n=new sn(Uc);let r;return n.effect_instruction_i0=o=>{r=e(o)},n.effect_instruction_i1=t,o0(n,o=>vp(r)?r:no)},jq=(e,t=du)=>rt(()=>ph(e,t)),il=(e,t=du)=>cA(e,function(){let n,r;function o(f){n?n(f):r===void 0&&(r=f)}const s=new sn(Uc);s.effect_instruction_i0=f=>{n=f,r&&f(r)},s.effect_instruction_i1=t;let a,c;return this.effect_instruction_i0.length!==1?(c=new AbortController,a=qn(()=>this.effect_instruction_i0(o,c.signal))):a=qn(()=>this.effect_instruction_i0(o)),a||c?o0(s,f=>(c&&c.abort(),a??no)):s}),Dq=I(2,(e,t)=>{const n=new sn(Cd);return n.effect_instruction_i0=e,n.effect_instruction_i1=t,n}),sl=I(2,(e,t)=>ta(e,{onFailure:t,onSuccess:xe})),UE=Symbol.for("effect/OriginalAnnotation"),Z_=(e,t)=>Nn(t)?new Proxy(e,{has(n,r){return r===yu||r===UE||r in n},get(n,r){return r===yu?t.value:r===UE?e:n[r]}}):e,gh=e=>ps(e)&&!(yu in e)?Ln(t=>kr(zo(Z_(e,g0(t))))):kr(zo(e)),zE=e=>Wq(()=>zo(new bK(e))),mh=e=>ta(e,{onFailure:t=>xe(Se(t)),onSuccess:t=>xe(Te(t))}),lA=e=>zq(e,{onFailure:dt,onSuccess:Wt}),mn=e=>ps(e)&&!(yu in e)?Ln(t=>kr(dh(Z_(e,g0(t))))):kr(dh(e)),e0=e=>ae(le(e),mn),kr=e=>{const t=new aA(Zr);return t.effect_instruction_i0=e,t},Wq=e=>ae(le(e),kr),t0=Ln(e=>xe(e.id())),fA=e=>Ln(t=>e(t.id())),ae=I(2,(e,t)=>{const n=new sn(Zd);return n.effect_instruction_i0=e,n.effect_instruction_i1=t,n}),Uq=e=>{const t=new sn("OnStep");return t.effect_instruction_i0=e,t},dA=e=>ae(e,Pt),zq=I(2,(e,t)=>_u(e,{onFailure:n=>xe(t.onFailure(n)),onSuccess:n=>xe(t.onSuccess(n))})),_u=I(2,(e,t)=>{const n=new sn(eh);return n.effect_instruction_i0=e,n.effect_instruction_i1=t.onFailure,n.effect_instruction_i2=t.onSuccess,n}),ta=I(2,(e,t)=>_u(e,{onFailure:n=>{if(vq(n).length>0)return kr(Eq(n));const o=yq(n);return o.length>0?t.onFailure(pI(o)):kr(n)},onSuccess:t.onSuccess})),ts=I(2,(e,t)=>rt(()=>{const n=wt(e),r=rp(n.length);let o=0;return ea(s0({while:()=>o<n.length,body:()=>t(n[o],o),step:s=>{r[o++]=s}}),r)})),_p=I(2,(e,t)=>rt(()=>{const n=wt(e);let r=0;return s0({while:()=>r<n.length,body:()=>t(n[r],r),step:()=>{r++}})})),Os=ae(t0,e=>hA(e)),hA=e=>kr(mi(e)),pA=e=>{const t=new sn(Il);return t.effect_instruction_i0=G6(Mu),t.effect_instruction_i1=()=>e,t},it=I(2,(e,t)=>ae(e,n=>le(()=>t(n)))),n0=I(2,(e,t)=>ta(e,{onFailure:n=>e0(()=>t.onFailure(n)),onSuccess:n=>le(()=>t.onSuccess(n))})),bp=I(2,(e,t)=>_u(e,{onFailure:n=>{const r=Sq(n);switch(r._tag){case"Left":return e0(()=>t(r.left));case"Right":return kr(r.right)}},onSuccess:xe})),r0=I(2,(e,t)=>Sp(n=>_u(n(e),{onFailure:r=>{const o=dt(r);return _u(t(o),{onFailure:s=>dt(Xr(r,s)),onSuccess:()=>o})},onSuccess:r=>{const o=Wt(r);return na(t(o),o)}}))),o0=I(2,(e,t)=>r0(e,EA({onFailure:n=>J_(n)?ju(t(_q(n))):no,onSuccess:()=>no}))),qq=e=>Kq(e,Pt),Kq=I(2,(e,t)=>ta(e,{onFailure:n=>gh(t(n)),onSuccess:xe})),xe=e=>{const t=new uA(eo);return t.effect_instruction_i0=e,t},rt=e=>{const t=new sn(np);return t.commit=e,t},le=e=>{const t=new sn(Qk);return t.effect_instruction_i0=e,t},Vq=I(e=>e.length===3||e.length===2&&!(ps(e[1])&&"onlyEffect"in e[1]),(e,t)=>ae(e,n=>{const r=typeof t=="function"?t(n):t;return vp(r)?ea(r,n):$D(r)?ph(o=>{r.then(s=>o(xe(n)),s=>o(mn(new EK(s,"An unknown error occurred in Effect.tap"))))}):xe(n)})),Hq=e=>Ln(t=>{const n=t.getFiberRef(lv),r=F(n,bt(()=>t.scope()));return e(wp(lv,we(r)))}),i0=e=>{const t=new sn(Il);return t.effect_instruction_i0=YI(Mu),t.effect_instruction_i1=()=>e,t},Sp=e=>cA(e,function(){const t=new sn(Il);return t.effect_instruction_i0=YI(Mu),t.effect_instruction_i1=n=>GI(n)?qn(()=>this.effect_instruction_i0(pA)):qn(()=>this.effect_instruction_i0(i0)),t}),no=xe(void 0),Gq=e=>{const t=new sn(Il);return t.effect_instruction_i0=e,t.effect_instruction_i1=void 0,t},Jq=I(2,(e,t)=>ae(t,n=>n?F(e,it(we)):xe(oe()))),s0=e=>{const t=new sn(th);return t.effect_instruction_i0=e.while,t.effect_instruction_i1=e.body,t.effect_instruction_i2=e.step,t},a0=e=>{const t=new sn(kd);return typeof(e==null?void 0:e.priority)<"u"?pK(t,e.priority):t},gA=I(2,(e,t)=>ae(e,n=>it(t,r=>[n,r]))),mA=I(2,(e,t)=>ae(e,n=>ea(t,n))),na=I(2,(e,t)=>ae(e,()=>t)),Yq=I(3,(e,t,n)=>ae(e,r=>it(t,o=>n(r,o)))),Xq=e=>ae(t0,t=>F(e,yA(t))),yA=I(2,(e,t)=>ae(e.interruptAsFork(t),()=>e.await)),Qq={_tag:"All",syslog:0,label:"ALL",ordinal:Number.MIN_SAFE_INTEGER,pipe(){return ve(this,arguments)}},Zq={_tag:"Fatal",syslog:2,label:"FATAL",ordinal:5e4,pipe(){return ve(this,arguments)}},eK={_tag:"Error",syslog:3,label:"ERROR",ordinal:4e4,pipe(){return ve(this,arguments)}},tK={_tag:"Warning",syslog:4,label:"WARN",ordinal:3e4,pipe(){return ve(this,arguments)}},vA={_tag:"Info",syslog:6,label:"INFO",ordinal:2e4,pipe(){return ve(this,arguments)}},_A={_tag:"Debug",syslog:7,label:"DEBUG",ordinal:1e4,pipe(){return ve(this,arguments)}},nK={_tag:"Trace",syslog:7,label:"TRACE",ordinal:0,pipe(){return ve(this,arguments)}},rK={_tag:"None",syslog:7,label:"OFF",ordinal:Number.MAX_SAFE_INTEGER,pipe(){return ve(this,arguments)}},oK="effect/FiberRef",iK=Symbol.for(oK),sK={_A:e=>e},u0=e=>Ln(t=>Wt(t.getFiberRef(e))),c0=I(2,(e,t)=>ae(u0(e),t)),qE=I(2,(e,t)=>aK(e,()=>[void 0,t])),aK=I(2,(e,t)=>Ln(n=>{const[r,o]=t(n.getFiberRef(e));return n.setFiberRef(e,o),xe(r)})),wp=I(3,(e,t,n)=>Bq(mA(u0(t),qE(t,n)),()=>e,r=>qE(t,r))),$r=(e,t)=>Du(e,{differ:qI(),fork:(t==null?void 0:t.fork)??Pt,join:t==null?void 0:t.join}),uK=e=>{const t=P6();return Du(e,{differ:t,fork:t.empty})},cK=e=>{const t=M6(qI());return Du(e,{differ:t,fork:t.empty})},bA=e=>{const t=R6();return Du(e,{differ:t,fork:t.empty})},Du=(e,t)=>({...Rl,[iK]:sK,initial:e,commit(){return u0(this)},diff:(r,o)=>t.differ.diff(r,o),combine:(r,o)=>t.differ.combine(r,o),patch:r=>o=>t.differ.patch(r,o),fork:t.fork,join:t.join??((r,o)=>o)}),lK=e=>Du(e,{differ:FE,fork:FE.empty}),zl=De(Symbol.for("effect/FiberRef/currentContext"),()=>bA(M_())),Ep=De(Symbol.for("effect/FiberRef/currentSchedulingPriority"),()=>$r(0)),SA=De(Symbol.for("effect/FiberRef/currentMaxOpsBeforeYield"),()=>$r(2048)),fK=De(Symbol.for("effect/FiberRef/currentLogAnnotation"),()=>$r(K_())),dK=De(Symbol.for("effect/FiberRef/currentLogLevel"),()=>$r(vA)),hK=De(Symbol.for("effect/FiberRef/currentLogSpan"),()=>$r(hu())),pK=I(2,(e,t)=>wp(e,Ep,t)),gK=De(Symbol.for("effect/FiberRef/currentConcurrency"),()=>$r("unbounded")),mK=De(Symbol.for("effect/FiberRef/currentRequestBatching"),()=>$r(!0)),yK=De(Symbol.for("effect/FiberRef/currentUnhandledErrorLogLevel"),()=>$r(we(_A))),cv=De(Symbol.for("effect/FiberRef/currentMetricLabels"),()=>cK(Js())),lv=De(Symbol.for("effect/FiberRef/currentForkScopeOverride"),()=>$r(oe(),{fork:()=>oe(),join:(e,t)=>e})),nd=De(Symbol.for("effect/FiberRef/currentInterruptedCause"),()=>$r(ol,{fork:()=>ol,join:(e,t)=>e})),vK=(e,t)=>e.addFinalizer(()=>ju(t)),_K=(e,t)=>e.close(t),xp=(e,t)=>e.fork(t),l0=function(){class e extends globalThis.Error{commit(){return mn(this)}toJSON(){const n={...this};return this.message&&(n.message=this.message),this.cause&&(n.cause=this.cause),n}[pt](){return this.toString!==globalThis.Error.prototype.toString?this.stack?`${this.toString()}
${this.stack.split(`
`).slice(1).join(`
`)}`:this.toString():"Bun"in globalThis?Bu(dh(this),{renderErrorCause:!0}):this}}return Object.assign(e.prototype,ZD),e}(),wA=(e,t)=>{class n extends l0{constructor(){super(...arguments);_(this,"_tag",t)}}return Object.assign(n.prototype,e),n.prototype.name=t,n},KE=Symbol.for("effect/Cause/errors/RuntimeException"),bK=wA({[KE]:KE},"RuntimeException"),SK=Symbol.for("effect/Cause/errors/InterruptedException"),wK=e=>Ce(e,SK),VE=Symbol.for("effect/Cause/errors/NoSuchElement"),f0=wA({[VE]:VE},"NoSuchElementException"),HE=Symbol.for("effect/Cause/errors/UnknownException"),EK=function(){class e extends l0{constructor(r,o){super(o??"An unknown error occurred",{cause:r});_(this,"_tag","UnknownException");_(this,"error");this.error=r}}return Object.assign(e.prototype,{[HE]:HE,name:"UnknownException"}),e}(),d0=e=>vp(e)&&"_tag"in e&&(e._tag==="Success"||e._tag==="Failure"),xK=e=>e._tag==="Success",GE=(e,t)=>OK(e,t!=null&&t.parallel?yp:Xr),CK=e=>dt(zo(e)),JE=e=>dt(dh(e)),dt=e=>{const t=new aA(Zr);return t.effect_instruction_i0=e,t},TK=e=>dt(mi(e)),ry=I(2,(e,t)=>{switch(e._tag){case Zr:return dt(e.effect_instruction_i0);case eo:return Wt(t(e.effect_instruction_i0))}}),EA=I(2,(e,{onFailure:t,onSuccess:n})=>{switch(e._tag){case Zr:return t(e.effect_instruction_i0);case eo:return n(e.effect_instruction_i0)}}),Wt=e=>{const t=new uA(eo);return t.effect_instruction_i0=e,t},Ls=Wt(void 0),kK=I(3,(e,t,{onFailure:n,onSuccess:r})=>{switch(e._tag){case Zr:switch(t._tag){case eo:return dt(e.effect_instruction_i0);case Zr:return dt(n(e.effect_instruction_i0,t.effect_instruction_i0))}case eo:switch(t._tag){case eo:return Wt(r(e.effect_instruction_i0,t.effect_instruction_i0));case Zr:return dt(t.effect_instruction_i0)}}}),OK=(e,t)=>{const n=sh(e);return xi(n)?F(_i(n),bO(F(Do(n),ry(or)),(r,o)=>F(r,kK(o,{onSuccess:(s,a)=>F(s,Vn(a)),onFailure:t}))),ry(Ei),ry(r=>Us(r)),we):oe()},h0=e=>({...Rl,[Pq]:Mq,state:pp(Nq([])),commit(){return yh(this)},blockingOn:e}),IK=()=>ae(t0,e=>AK(e)),AK=e=>le(()=>h0(e)),yh=e=>jq(t=>{const n=gn(e.state);switch(n._tag){case Q_:return t(n.effect);case Wl:return n.joiners.push(t),PK(e,t)}},e.blockingOn),xA=I(2,(e,t)=>le(()=>{const n=gn(e.state);switch(n._tag){case Q_:return!1;case Wl:{Fl(e.state,iA(t));for(let r=0,o=n.joiners.length;r<o;r++)n.joiners[r](t);return!0}}})),$K=I(2,(e,t)=>xA(e,hA(t))),RK=I(2,(e,t)=>xA(e,xe(t))),p0=(e,t)=>{const n=gn(e.state);if(n._tag===Wl){Fl(e.state,iA(t));for(let r=0,o=n.joiners.length;r<o;r++)n.joiners[r](t)}},PK=(e,t)=>le(()=>{const n=gn(e.state);if(n._tag===Wl){const r=n.joiners.indexOf(t);r>=0&&n.joiners.splice(r,1)}}),MK=Ln(e=>Wt(e.currentContext)),NK=()=>MK,ql=e=>ae(NK(),e),LK=I(2,(e,t)=>wp(zl,t)(e)),FK=I(2,(e,t)=>ql(n=>LK(e,t(n)))),g0=e=>{const t=e.currentSpan;return t!==void 0&&t._tag==="Span"?we(t):oe()},BK=xK,YE=Symbol.for("effect/MutableHashMap"),jK={[YE]:YE,[Symbol.iterator](){return new m0(this)},toString(){return zt(this.toJSON())},toJSON(){return{_id:"MutableHashMap",values:Array.from(this).map(Mt)}},[pt](){return this.toJSON()},pipe(){return ve(this,arguments)}};class m0{constructor(t){_(this,"self");_(this,"referentialIterator");_(this,"bucketIterator");this.self=t,this.referentialIterator=t.referential[Symbol.iterator]()}next(){if(this.bucketIterator!==void 0)return this.bucketIterator.next();const t=this.referentialIterator.next();return t.done?(this.bucketIterator=new DK(this.self.buckets.values()),this.next()):t}[Symbol.iterator](){return new m0(this.self)}}class DK{constructor(t){_(this,"backing");_(this,"currentBucket");this.backing=t}next(){if(this.currentBucket===void 0){const n=this.backing.next();if(n.done)return n;this.currentBucket=n.value[Symbol.iterator]()}const t=this.currentBucket.next();return t.done?(this.currentBucket=void 0,this.next()):t}}const WK=()=>{const e=Object.create(jK);return e.referential=new Map,e.buckets=new Map,e.bucketsSize=0,e},Ps=I(2,(e,t)=>{if(Qd(t)===!1)return e.referential.has(t)?we(e.referential.get(t)):oe();const n=t[Re](),r=e.buckets.get(n);return r===void 0?oe():UK(e,r,t)}),UK=(e,t,n,r=!1)=>{for(let o=0,s=t.length;o<s;o++)if(n[Ie](t[o][0])){const a=t[o][1];return r&&(t.splice(o,1),e.bucketsSize--),we(a)}return oe()},xc=I(2,(e,t)=>Nn(Ps(e,t))),Cc=I(3,(e,t,n)=>{if(Qd(t)===!1)return e.referential.set(t,n),e;const r=t[Re](),o=e.buckets.get(r);return o===void 0?(e.buckets.set(r,[[t,n]]),e.bucketsSize++,e):(zK(e,o,t),o.push([t,n]),e.bucketsSize++,e)}),zK=(e,t,n)=>{for(let r=0,o=t.length;r<o;r++)if(n[Ie](t[r][0])){t.splice(r,1),e.bucketsSize--;return}},XE=Symbol.for("effect/MutableList"),qK={[XE]:XE,[Symbol.iterator](){let e=!1,t=this.head;return{next(){if(e)return this.return();if(t==null)return e=!0,this.return();const n=t.value;return t=t.next,{done:e,value:n}},return(n){return e||(e=!0),{done:!0,value:n}}}},toString(){return zt(this.toJSON())},toJSON(){return{_id:"MutableList",values:Array.from(this).map(Mt)}},[pt](){return this.toJSON()},pipe(){return ve(this,arguments)}},KK=e=>({value:e,removed:!1,prev:void 0,next:void 0}),VK=()=>{const e=Object.create(qK);return e.head=void 0,e.tail=void 0,e._length=0,e},CA=e=>y0(e)===0,y0=e=>e._length,HK=I(2,(e,t)=>{const n=KK(t);return e.head===void 0&&(e.head=n),e.tail===void 0||(e.tail.next=n,n.prev=e.tail),e.tail=n,e._length+=1,e}),GK=e=>{const t=e.head;if(t!==void 0)return JK(e,t),t.value},JK=(e,t)=>{t.removed||(t.removed=!0,t.prev!==void 0&&t.next!==void 0?(t.prev.next=t.next,t.next.prev=t.prev):t.prev!==void 0?(e.tail=t.prev,t.prev.next=void 0):t.next!==void 0?(e.head=t.next,t.next.prev=void 0):(e.tail=void 0,e.head=void 0),e._length>0&&(e._length-=1))},QE=Symbol.for("effect/MutableQueue"),Jr=Symbol.for("effect/mutable/MutableQueue/Empty"),YK={[QE]:QE,[Symbol.iterator](){return Array.from(this.queue)[Symbol.iterator]()},toString(){return zt(this.toJSON())},toJSON(){return{_id:"MutableQueue",values:Array.from(this).map(Mt)}},[pt](){return this.toJSON()},pipe(){return ve(this,arguments)}},XK=e=>{const t=Object.create(YK);return t.queue=VK(),t.capacity=e,t},TA=()=>XK(void 0),kA=e=>y0(e.queue),QK=e=>CA(e.queue),ZK=e=>e.capacity===void 0?1/0:e.capacity,v0=I(2,(e,t)=>{const n=y0(e.queue);return e.capacity!==void 0&&n===e.capacity?!1:(HK(t)(e.queue),!0)}),OA=I(2,(e,t)=>{const n=t[Symbol.iterator]();let r,o=Tr(),s=!0;for(;s&&(r=n.next())&&!r.done;)s=v0(r.value)(e);for(;r!=null&&!r.done;)o=Vn(r.value)(o),r=n.next();return Ei(o)}),al=I(2,(e,t)=>CA(e.queue)?t:GK(e.queue)),_0=I(2,(e,t)=>{let n=Tr(),r=0;for(;r<t;){const o=al(Jr)(e);if(o===Jr)break;n=Vn(o)(n),r+=1}return Ei(n)});function e8(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var IA={exports:{}},Ft=IA.exports={},$o,Ro;function fv(){throw new Error("setTimeout has not been defined")}function dv(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?$o=setTimeout:$o=fv}catch{$o=fv}try{typeof clearTimeout=="function"?Ro=clearTimeout:Ro=dv}catch{Ro=dv}})();function AA(e){if($o===setTimeout)return setTimeout(e,0);if(($o===fv||!$o)&&setTimeout)return $o=setTimeout,setTimeout(e,0);try{return $o(e,0)}catch{try{return $o.call(null,e,0)}catch{return $o.call(this,e,0)}}}function t8(e){if(Ro===clearTimeout)return clearTimeout(e);if((Ro===dv||!Ro)&&clearTimeout)return Ro=clearTimeout,clearTimeout(e);try{return Ro(e)}catch{try{return Ro.call(null,e)}catch{return Ro.call(this,e)}}}var bi=[],tu=!1,Fs,Md=-1;function n8(){!tu||!Fs||(tu=!1,Fs.length?bi=Fs.concat(bi):Md=-1,bi.length&&$A())}function $A(){if(!tu){var e=AA(n8);tu=!0;for(var t=bi.length;t;){for(Fs=bi,bi=[];++Md<t;)Fs&&Fs[Md].run();Md=-1,t=bi.length}Fs=null,tu=!1,t8(e)}}Ft.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];bi.push(new RA(e,t)),bi.length===1&&!tu&&AA($A)};function RA(e,t){this.fun=e,this.array=t}RA.prototype.run=function(){this.fun.apply(null,this.array)};Ft.title="browser";Ft.browser=!0;Ft.env={};Ft.argv=[];Ft.version="";Ft.versions={};function Ri(){}Ft.on=Ri;Ft.addListener=Ri;Ft.once=Ri;Ft.off=Ri;Ft.removeListener=Ri;Ft.removeAllListeners=Ri;Ft.emit=Ri;Ft.prependListener=Ri;Ft.prependOnceListener=Ri;Ft.listeners=function(e){return[]};Ft.binding=function(e){throw new Error("process.binding is not supported")};Ft.cwd=function(){return"/"};Ft.chdir=function(e){throw new Error("process.chdir is not supported")};Ft.umask=function(){return 0};var r8=IA.exports;const vo=e8(r8),o8="effect/Clock",ZE=Symbol.for(o8),Cp=fa("effect/Clock"),i8=2**31-1,ex={unsafeSchedule(e,t){const n=Xy(t);if(n>i8)return Dy;let r=!1;const o=setTimeout(()=>{r=!0,e()},n);return()=>(clearTimeout(o),!r)}},tx=function(){const e=BigInt(1e6);if(typeof performance>"u")return()=>BigInt(Date.now())*e;if(typeof performance.timeOrigin=="number"&&performance.timeOrigin===0)return()=>BigInt(Math.round(performance.now()*1e6));const t=BigInt(Date.now())*e-BigInt(Math.round(performance.now()*1e6));return()=>t+BigInt(Math.round(performance.now()*1e6))}(),s8=function(){const e=typeof vo=="object"&&"hrtime"in vo&&typeof vo.hrtime.bigint=="function"?vo.hrtime:void 0;if(!e)return tx;const t=tx()-e.bigint();return()=>t+e.bigint()}();var jT;jT=ZE;class a8{constructor(){_(this,jT,ZE);_(this,"currentTimeMillis",le(()=>this.unsafeCurrentTimeMillis()));_(this,"currentTimeNanos",le(()=>this.unsafeCurrentTimeNanos()))}unsafeCurrentTimeMillis(){return Date.now()}unsafeCurrentTimeNanos(){return s8()}scheduler(){return xe(ex)}sleep(t){return il(n=>{const r=ex.unsafeSchedule(()=>n(no),t);return ju(le(r))})}}const u8=()=>new a8,PA="And",MA="Or",NA="InvalidData",LA="MissingData",FA="SourceUnavailable",BA="Unsupported",c8="effect/ConfigError",nx=Symbol.for(c8),Wu={_tag:"ConfigError",[nx]:nx},jA=(e,t)=>{const n=Object.create(Wu);return n._op=PA,n.left=e,n.right=t,Object.defineProperty(n,"toString",{enumerable:!1,value(){return`${this.left} and ${this.right}`}}),n},DA=(e,t)=>{const n=Object.create(Wu);return n._op=MA,n.left=e,n.right=t,Object.defineProperty(n,"toString",{enumerable:!1,value(){return`${this.left} or ${this.right}`}}),n},l8=(e,t,n={pathDelim:"."})=>{const r=Object.create(Wu);return r._op=NA,r.path=e,r.message=t,Object.defineProperty(r,"toString",{enumerable:!1,value(){return`(Invalid data at ${F(this.path,Ru(n.pathDelim))}: "${this.message}")`}}),r},ra=(e,t,n={pathDelim:"."})=>{const r=Object.create(Wu);return r._op=LA,r.path=e,r.message=t,Object.defineProperty(r,"toString",{enumerable:!1,value(){return`(Missing data at ${F(this.path,Ru(n.pathDelim))}: "${this.message}")`}}),r},f8=(e,t,n,r={pathDelim:"."})=>{const o=Object.create(Wu);return o._op=FA,o.path=e,o.message=t,o.cause=n,Object.defineProperty(o,"toString",{enumerable:!1,value(){return`(Source unavailable at ${F(this.path,Ru(r.pathDelim))}: "${this.message}")`}}),o},d8=(e,t,n={pathDelim:"."})=>{const r=Object.create(Wu);return r._op=BA,r.path=e,r.message=t,Object.defineProperty(r,"toString",{enumerable:!1,value(){return`(Unsupported operation at ${F(this.path,Ru(n.pathDelim))}: "${this.message}")`}}),r},Bs=I(2,(e,t)=>{switch(e._op){case PA:return jA(Bs(e.left,t),Bs(e.right,t));case MA:return DA(Bs(e.left,t),Bs(e.right,t));case NA:return l8([...t,...e.path],e.message);case LA:return ra([...t,...e.path],e.message);case FA:return f8([...t,...e.path],e.message,e.cause);case BA:return d8([...t,...e.path],e.message)}}),h8={_tag:"Empty"},oy=I(2,(e,t)=>{let n=V_(t),r=e;for(;j4(n);){const o=n.head;switch(o._tag){case"Empty":{n=n.tail;break}case"AndThen":{n=Qs(o.first,Qs(o.second,n.tail));break}case"MapName":{r=Qa(r,o.f),n=n.tail;break}case"Nested":{r=rh(r,o.name),n=n.tail;break}case"Unnested":{if(F(zc(r),xW(o.name)))r=Gs(r),n=n.tail;else return Se(ra(r,`Expected ${o.name} to be in path in ConfigProvider#unnested`));break}}}return Te(r)}),p8="Constant",g8="Fail",m8="Fallback",y8="Described",v8="Lazy",_8="MapOrFail",b8="Nested",S8="Primitive",w8="Sequence",E8="HashMap",x8="ZipWith";var rx={};const vh=(e,t)=>[...e,...t],C8="effect/ConfigProvider",ox=Symbol.for(C8),T8=fa("effect/ConfigProvider"),k8="effect/ConfigProviderFlat",ix=Symbol.for(k8),O8=e=>({[ox]:ox,pipe(){return ve(this,arguments)},...e}),I8=e=>({[ix]:ix,patch:e.patch,load:(t,n,r=!0)=>e.load(t,n,r),enumerateChildren:e.enumerateChildren}),A8=e=>O8({load:t=>ae(Vr(e,Js(),t,!1),n=>Ot(zc(n),{onNone:()=>mn(ra(Js(),`Expected a single value having structure: ${t}`)),onSome:xe})),flattened:e}),$8=e=>{const{pathDelim:t,seqDelim:n}=Object.assign({},{pathDelim:"_",seqDelim:","},e),r=f=>F(f,Ru(t)),o=f=>f.split(t),s=()=>typeof vo<"u"&&"env"in vo&&typeof rx=="object"?rx:{};return A8(I8({load:(f,d,p=!0)=>{const g=r(f),m=s(),y=g in m?we(m[g]):oe();return F(y,bp(()=>ra(f,`Expected ${g} to exist in the process context`)),ae(b=>L8(b,f,d,n,p)))},enumerateChildren:f=>le(()=>{const d=s(),m=Object.keys(d).map(y=>o(y.toUpperCase())).filter(y=>{for(let b=0;b<f.length;b++){const x=F(f,gO(b)),T=y[b];if(T===void 0||x!==T)return!1}return!0}).flatMap(y=>y.slice(f.length,f.length+1));return b4(m)}),patch:h8}))},R8=(e,t,n,r)=>{const o=vE(n.length,f=>f>=r.length?oe():we([e(f),f+1])),s=vE(r.length,f=>f>=n.length?oe():we([t(f),f+1])),a=vh(n,o),c=vh(r,s);return[a,c]},P8=(e,t)=>{let n=t;if(n._tag==="Nested"){const r=e.slice();for(;n._tag==="Nested";)r.push(n.name),n=n.config;return r}return e},Vr=(e,t,n,r)=>{const o=n;switch(o._tag){case p8:return xe(go(o.value));case y8:return rt(()=>Vr(e,t,o.config,r));case g8:return mn(ra(t,o.message));case m8:return F(rt(()=>Vr(e,t,o.first,r)),sl(s=>o.condition(s)?F(Vr(e,t,o.second,r),sl(a=>mn(DA(s,a)))):mn(s)));case v8:return rt(()=>Vr(e,t,o.config(),r));case _8:return rt(()=>F(Vr(e,t,o.original,r),ae(ts(s=>F(o.mapOrFail(s),bp(Bs(P8(t,o.original))))))));case b8:return rt(()=>Vr(e,vh(t,go(o.name)),o.config,r));case S8:return F(oy(t,e.patch),ae(s=>F(e.load(s,o,r),ae(a=>{if(a.length===0){const c=F(LW(s),bt(()=>"<n/a>"));return mn(ra([],`Expected ${o.description} with name ${c}`))}return xe(a)}))));case w8:return F(oy(t,e.patch),ae(s=>F(e.enumerateChildren(s),ae(B8),ae(a=>a.length===0?rt(()=>it(Vr(e,t,o.config,!0),go)):F(ts(a,c=>Vr(e,AW(t,`[${c}]`),o.config,!0)),it(c=>{const f=_O(c);return f.length===0?go(Js()):go(f)}))))));case E8:return rt(()=>F(oy(t,e.patch),ae(s=>F(e.enumerateChildren(s),ae(a=>F(a,ts(c=>Vr(e,vh(s,go(c)),o.valueConfig,r)),it(c=>c.length===0?go(K_()):F(F8(c),Qa(f=>A4(yE(wt(a),f)))))))))));case x8:return rt(()=>F(Vr(e,t,o.left,r),mh,ae(s=>F(Vr(e,t,o.right,r),mh,ae(a=>{if(nn(s)&&nn(a))return mn(jA(s.left,a.left));if(nn(s)&&vi(a))return mn(s.left);if(vi(s)&&nn(a))return mn(a.left);if(vi(s)&&vi(a)){const c=F(t,Ru(".")),f=M8(t,c),[d,p]=R8(f,f,F(s.right,Qa(Te)),F(a.right,Qa(Te)));return F(d,yE(p),ts(([g,m])=>F(gA(g,m),it(([y,b])=>o.zip(y,b)))))}throw new Error("BUG: ConfigProvider.fromFlatLoop - please report an issue at https://github.com/Effect-TS/effect/issues")})))))}},M8=(e,t)=>n=>Se(ra(e,`The element at index ${n} in a sequence at path "${t}" was missing`)),N8=(e,t)=>e.split(new RegExp(`\\s*${oh(t)}\\s*`)),L8=(e,t,n,r,o)=>o?F(N8(e,r),ts(s=>n.parse(s.trim())),bp(Bs(t))):F(n.parse(e),n0({onFailure:Bs(t),onSuccess:go})),F8=e=>Object.keys(e[0]).map(t=>e.map(n=>n[t])),B8=e=>F(ts(e,D8),n0({onFailure:()=>Js(),onSuccess:Xc(au)}),mh,it(hW)),j8=/^(\[(\d+)\])$/,D8=e=>{const t=e.match(j8);if(t!==null){const n=t[2];return F(n!==void 0&&n.length>0?we(n):oe(),ss(W8))}return oe()},W8=e=>{const t=Number.parseInt(e);return Number.isNaN(t)?oe():we(t)},sx=Symbol.for("effect/Console"),WA=fa("effect/Console"),U8={[sx]:sx,assert(e,...t){return le(()=>{console.assert(e,...t)})},clear:le(()=>{console.clear()}),count(e){return le(()=>{console.count(e)})},countReset(e){return le(()=>{console.countReset(e)})},debug(...e){return le(()=>{console.debug(...e)})},dir(e,t){return le(()=>{console.dir(e,t)})},dirxml(...e){return le(()=>{console.dirxml(...e)})},error(...e){return le(()=>{console.error(...e)})},group(e){return e!=null&&e.collapsed?le(()=>console.groupCollapsed(e==null?void 0:e.label)):le(()=>console.group(e==null?void 0:e.label))},groupEnd:le(()=>{console.groupEnd()}),info(...e){return le(()=>{console.info(...e)})},log(...e){return le(()=>{console.log(...e)})},table(e,t){return le(()=>{console.table(e,t)})},time(e){return le(()=>console.time(e))},timeEnd(e){return le(()=>console.timeEnd(e))},timeLog(e,...t){return le(()=>{console.timeLog(e,...t)})},trace(...e){return le(()=>{console.trace(...e)})},warn(...e){return le(()=>{console.warn(...e)})},unsafe:console},z8="effect/Random",ax=Symbol.for(z8),q8=fa("effect/Random");var DT;DT=ax;class K8{constructor(t){_(this,"seed");_(this,DT,ax);_(this,"PRNG");this.seed=t,this.PRNG=new BD(t)}get next(){return le(()=>this.PRNG.number())}get nextBoolean(){return it(this.next,t=>t>.5)}get nextInt(){return le(()=>this.PRNG.integer(Number.MAX_SAFE_INTEGER))}nextRange(t,n){return it(this.next,r=>(n-t)*r+t)}nextIntBetween(t,n){return le(()=>this.PRNG.integer(n-t)+t)}shuffle(t){return V8(t,n=>this.nextIntBetween(0,n))}}const V8=(e,t)=>rt(()=>F(le(()=>Array.from(e)),ae(n=>{const r=[];for(let o=n.length;o>=2;o=o-1)r.push(o);return F(r,_p(o=>F(t(o),it(s=>H8(n,o-1,s)))),ea(sh(n)))}))),H8=(e,t,n)=>{const r=e[t];return e[t]=e[n],e[n]=r,e},G8=e=>new K8(fe(e)),ux=Symbol.for("effect/Tracer"),J8=e=>({[ux]:ux,...e}),UA=fa("effect/Tracer"),zA=fa("effect/ParentSpan"),cx=function(){const e="abcdef0123456789",t=e.length;return function(n){let r="";for(let o=0;o<n;o++)r+=e.charAt(Math.floor(Math.random()*t));return r}}();class Y8{constructor(t,n,r,o,s,a){_(this,"name");_(this,"parent");_(this,"context");_(this,"links");_(this,"startTime");_(this,"kind");_(this,"_tag","Span");_(this,"spanId");_(this,"traceId","native");_(this,"sampled",!0);_(this,"status");_(this,"attributes");_(this,"events",[]);this.name=t,this.parent=n,this.context=r,this.links=o,this.startTime=s,this.kind=a,this.status={_tag:"Started",startTime:s},this.attributes=new Map,this.traceId=n._tag==="Some"?n.value.traceId:cx(32),this.spanId=cx(16)}end(t,n){this.status={_tag:"Ended",endTime:t,exit:n,startTime:this.status.startTime}}attribute(t,n){this.attributes.set(t,n)}event(t,n,r){this.events.push([t,n,r??{}])}}const X8=J8({span:(e,t,n,r,o,s)=>new Y8(e,t,n,r,o,s),context:e=>e()}),Q8=F(M_(),Ec(Cp,u8()),Ec(WA,U8),Ec(q8,G8(Math.random())),Ec(T8,$8()),Ec(UA,X8)),_h=De(Symbol.for("effect/DefaultServices/currentServices"),()=>bA(Q8)),Z8=e=>{const t=Go(e);return qA(n=>n.sleep(t))},e7=e=>Ln(t=>e(t.currentDefaultServices)),qA=e=>e7(t=>e(t.unsafeMap.get(Cp.key))),t7=qA(e=>e.currentTimeMillis),n7=Z8,r7=t7;function o7(e){return new us(e)}function i7(){return o7(new Map)}const lx=Symbol.for("effect/FiberRefs");var WT;WT=lx;class us{constructor(t){_(this,"locals");_(this,WT,lx);this.locals=t}pipe(){return ve(this,arguments)}}const s7=(e,t,n,r=!1)=>{const o=e;let s=t,a=n,c=r,f;for(;f===void 0;)if(on(s)&&on(a)){const d=rr(s)[0],p=Gs(s),g=rr(a)[0],m=rr(a)[1],y=Gs(a);d.startTimeMillis<g.startTimeMillis?(a=y,c=!0):d.startTimeMillis>g.startTimeMillis?s=p:d.id<g.id?(a=y,c=!0):d.id>g.id?s=p:f=[m,c]}else f=[o.initial,!0];return f},a7=I(3,(e,t,n)=>{const r=new Map(e.locals);return n.locals.forEach((o,s)=>{const a=o[0][1];if(!o[0][0][Ie](t)){if(!r.has(s)){if(Ae(a,s.initial))return;r.set(s,[[t,s.join(s.initial,a)]]);return}const c=r.get(s),[f,d]=s7(s,c,o);if(d){const p=s.diff(f,a),g=c[0][1],m=s.join(g,s.patch(p)(g));if(!Ae(g,m)){let y;const b=c[0][0];b[Ie](t)?y=[[b,m],...c.slice(1)]:y=[[t,m],...c],r.set(s,y)}}}}),new us(r)}),u7=I(2,(e,t)=>{const n=new Map;return KA(e,n,t),new us(n)}),KA=(e,t,n)=>{e.locals.forEach((r,o)=>{const s=r[0][1],a=o.patch(o.fork)(s);Ae(s,a)?t.set(o,r):t.set(o,[[n,a],...r])})},VA=I(2,(e,t)=>{const n=new Map(e.locals);return n.delete(t),new us(n)}),c7=I(2,(e,t)=>e.locals.has(t)?we(rr(e.locals.get(t))[1]):oe()),ul=I(2,(e,t)=>F(c7(e,t),bt(()=>t.initial))),hv=I(2,(e,{fiberId:t,fiberRef:n,value:r})=>{if(e.locals.size===0)return new us(new Map([[n,[[t,r]]]]));const o=new Map(e.locals);return pv(o,t,n,r),new us(o)}),pv=(e,t,n,r)=>{const o=e.get(n)??[];let s;if(on(o)){const[a,c]=rr(o);if(a[Ie](t)){if(Ae(c,r))return;s=[[t,r],...o.slice(1)]}else s=[[t,r],...o]}else s=[[t,r]];e.set(n,s)},l7=I(2,(e,{entries:t,forkAs:n})=>{if(e.locals.size===0)return new us(new Map(t));const r=new Map(e.locals);return n!==void 0&&KA(e,r,n),t.forEach(([o,s])=>{s.length===1?pv(r,s[0][0],o,s[0][1]):s.forEach(([a,c])=>{pv(r,a,o,c)})}),new us(r)}),f7=ul,d7=l7,h7=i7,p7=Qq,g7=Zq,m7=eK,y7=tK,v7=vA,_7=_A,b7=nK,S7=rK,w7=F(au,fO(e=>e.ordinal)),E7=gW(w7),x7=e=>{switch(e){case"All":return p7;case"Debug":return _7;case"Error":return m7;case"Fatal":return g7;case"Info":return v7;case"Trace":return b7;case"None":return S7;case"Warning":return y7}},HA=e=>e.replace(/[\s="]/g,"_"),C7=e=>t=>`${HA(t.label)}=${e-t.startTime}ms`,T7=Al,k7=eW;class b0 extends k7{}const fx=Symbol.for("effect/Readable"),O7=Symbol.for("effect/Ref"),I7={_A:e=>e};var UT,zT,qT;class A7 extends(qT=b0,zT=O7,UT=fx,qT){constructor(n){super();_(this,"ref");_(this,zT,I7);_(this,UT,fx);_(this,"get");this.ref=n,this.get=le(()=>gn(this.ref))}commit(){return this.get}modify(n){return le(()=>{const r=gn(this.ref),[o,s]=n(r);return r!==s&&Fl(s)(this.ref),o})}}const $7=e=>new A7(pp(e)),R7=e=>le(()=>$7(e)),iy=e=>e.get,dx=I(2,(e,t)=>e.modify(()=>[void 0,t])),GA="Empty",JA="Add",YA="Remove",XA="Update",QA="AndThen",P7={_tag:GA},M7=(e,t)=>{const n=new Map(e.locals);let r=P7;for(const[o,s]of t.locals.entries()){const a=rr(s)[1],c=n.get(o);if(c!==void 0){const f=rr(c)[1];Ae(f,a)||(r=sy({_tag:XA,fiberRef:o,patch:o.diff(f,a)})(r))}else r=sy({_tag:JA,fiberRef:o,value:a})(r);n.delete(o)}for(const[o]of n.entries())r=sy({_tag:YA,fiberRef:o})(r);return r},sy=I(2,(e,t)=>({_tag:QA,first:e,second:t})),N7=I(3,(e,t,n)=>{let r=n,o=go(e);for(;on(o);){const s=rr(o),a=Gs(o);switch(s._tag){case GA:{o=a;break}case JA:{r=hv(r,{fiberId:t,fiberRef:s.fiberRef,value:s.value}),o=a;break}case YA:{r=VA(r,s.fiberRef),o=a;break}case XA:{const c=ul(r,s.fiberRef);r=hv(r,{fiberId:t,fiberRef:s.fiberRef,value:s.fiberRef.patch(s.patch)(c)}),o=a;break}case QA:{o=rh(s.first)(rh(s.second)(a));break}}}return r}),ZA="effect/MetricLabel",gv=Symbol.for(ZA);var KT;class L7{constructor(t,n){_(this,"key");_(this,"value");_(this,KT,gv);_(this,"_hash");this.key=t,this.value=n,this._hash=Dt(ZA+this.key+this.value)}[(KT=gv,Re)](){return this._hash}[Ie](t){return B7(t)&&this.key===t.key&&this.value===t.value}pipe(){return ve(this,arguments)}}const F7=(e,t)=>new L7(e,t),B7=e=>Ce(e,gv),j7=e=>it(e,t=>!t),D7=n7,W7="Sequential",U7="Parallel",z7="ParallelN",e$={_tag:W7},q7={_tag:U7},K7=e=>({_tag:z7,parallelism:e}),mv=e$,yv=q7,vv=K7,V7=M7,H7=N7,Tp="effect/FiberStatus",oa=Symbol.for(Tp),bh="Done",hx="Running",px="Suspended",G7=Dt(`${Tp}-${bh}`);var VT;class J7{constructor(){_(this,VT,oa);_(this,"_tag",bh)}[(VT=oa,Re)](){return G7}[Ie](t){return S0(t)&&t._tag===bh}}var HT;class Y7{constructor(t){_(this,"runtimeFlags");_(this,HT,oa);_(this,"_tag",hx);this.runtimeFlags=t}[(HT=oa,Re)](){return F(fe(Tp),je(fe(this._tag)),je(fe(this.runtimeFlags)),It(this))}[Ie](t){return S0(t)&&t._tag===hx&&this.runtimeFlags===t.runtimeFlags}}var GT;class X7{constructor(t,n){_(this,"runtimeFlags");_(this,"blockingOn");_(this,GT,oa);_(this,"_tag",px);this.runtimeFlags=t,this.blockingOn=n}[(GT=oa,Re)](){return F(fe(Tp),je(fe(this._tag)),je(fe(this.runtimeFlags)),je(fe(this.blockingOn)),It(this))}[Ie](t){return S0(t)&&t._tag===px&&this.runtimeFlags===t.runtimeFlags&&Ae(this.blockingOn,t.blockingOn)}}const Q7=new J7,Z7=e=>new Y7(e),e9=(e,t)=>new X7(e,t),S0=e=>Ce(e,oa),t9=e=>e._tag===bh,n9=Q7,t$=Z7,r9=e9,o9=t9,i9=Symbol.for("effect/Micro"),Sh=Symbol.for("effect/Micro/MicroExit"),gx=Symbol.for("effect/Micro/MicroCause"),s9={_E:Pt};var JT;class n$ extends globalThis.Error{constructor(n,r,o){const s=`MicroCause.${n}`;let a,c,f;if(r instanceof globalThis.Error){a=`(${s}) ${r.name}`,c=r.message;const d=c.split(`
`).length;f=r.stack?`(${s}) ${r.stack.split(`
`).slice(0,d+3).join(`
`)}`:`${a}: ${c}`}else a=s,c=iu(r,0),f=`${a}: ${c}`;o.length>0&&(f+=`
    ${o.join(`
    `)}`);super(c);_(this,"_tag");_(this,"traces");_(this,JT);this._tag=n,this.traces=o,this[gx]=s9,this.name=a,this.stack=f}pipe(){return ve(this,arguments)}toString(){return this.stack}[(JT=gx,pt)](){return this.stack}}class a9 extends n${constructor(n,r=[]){super("Die",n,r);_(this,"defect");this.defect=n}}const u9=(e,t=[])=>new a9(e,t);class c9 extends n${constructor(t=[]){super("Interrupt","interrupted",t)}}const l9=(e=[])=>new c9(e),f9=e=>e._tag==="Interrupt",mx=Symbol.for("effect/Micro/MicroFiber"),d9={_A:Pt,_E:Pt};var YT;YT=mx;class h9{constructor(t,n=!0){_(this,"context");_(this,"interruptible");_(this,YT);_(this,"_stack",[]);_(this,"_observers",[]);_(this,"_exit");_(this,"_children");_(this,"currentOpCount",0);_(this,"_interrupted",!1);_(this,"_yielded");this.context=t,this.interruptible=n,this[mx]=d9}getRef(t){return uz(this.context,t)}addObserver(t){return this._exit?(t(this._exit),wD):(this._observers.push(t),()=>{const n=this._observers.indexOf(t);n>=0&&this._observers.splice(n,1)})}unsafeInterrupt(){this._exit||(this._interrupted=!0,this.interruptible&&this.evaluate(T0))}unsafePoll(){return this._exit}evaluate(t){if(this._exit)return;if(this._yielded!==void 0){const o=this._yielded;this._yielded=void 0,o()}const n=this.runLoop(t);if(n===rd)return;const r=yx.interruptChildren&&yx.interruptChildren(this);if(r!==void 0)return this.evaluate(Eh(r,()=>n));this._exit=n;for(let o=0;o<this._observers.length;o++)this._observers[o](n);this._observers.length=0}runLoop(t){let n=!1,r=t;this.currentOpCount=0;try{for(;;){if(this.currentOpCount++,!n&&this.getRef(k0).shouldYield(this)){n=!0;const o=r;r=Eh(v9,()=>o)}if(r=r[_v](this),r===rd){const o=this._yielded;return Sh in o?(this._yielded=void 0,o):rd}}}catch(o){return Ce(r,_v)?bv(o):bv(`MicroFiber.runLoop: Not a valid effect: ${String(r)}`)}}getCont(t){for(;;){const n=this._stack.pop();if(!n)return;const r=n[wh]&&n[wh](this);if(r)return{[t]:r};if(n[t])return n}}yieldWith(t){return this._yielded=t,rd}children(){return this._children??(this._children=new Set)}}const yx=De("effect/Micro/fiberMiddleware",()=>({interruptChildren:void 0})),r$=Symbol.for("effect/Micro/identifier"),Jt=Symbol.for("effect/Micro/args"),_v=Symbol.for("effect/Micro/evaluate"),bu=Symbol.for("effect/Micro/successCont"),nu=Symbol.for("effect/Micro/failureCont"),wh=Symbol.for("effect/Micro/ensureCont"),rd=Symbol.for("effect/Micro/Yield"),p9={_A:Pt,_E:Pt,_R:Pt},g9={...T7,_op:"Micro",[i9]:p9,pipe(){return ve(this,arguments)},[Symbol.iterator](){return new Hk(new kl(this))},toJSON(){return{_id:"Micro",op:this[r$],...Jt in this?{args:this[Jt]}:void 0}},toString(){return zt(this)},[pt](){return zt(this)}};function m9(e){return bv("Micro.evaluate: Not implemented")}const kp=e=>({...g9,[r$]:e.op,[_v]:e.eval??m9,[bu]:e.contA,[nu]:e.contE,[wh]:e.ensure}),w0=e=>{const t=kp(e);return function(){const n=Object.create(t);return n[Jt]=e.single===!1?arguments:arguments[0],n}},o$=e=>{const t={...kp(e),[Sh]:Sh,_tag:e.op,get[e.prop](){return this[Jt]},toJSON(){return{_id:"MicroExit",_tag:e.op,[e.prop]:this[Jt]}},[Ie](n){return S9(n)&&n._tag===e.op&&Ae(this[Jt],n[Jt])},[Re](){return It(this,je(Dt(e.op))(fe(this[Jt])))}};return function(n){const r=Object.create(t);return r[Jt]=n,r[bu]=void 0,r[nu]=void 0,r[wh]=void 0,r}},E0=o$({op:"Success",prop:"value",eval(e){const t=e.getCont(bu);return t?t[bu](this[Jt],e):e.yieldWith(this)}}),i$=o$({op:"Failure",prop:"cause",eval(e){let t=e.getCont(nu);for(;f9(this[Jt])&&t&&e.interruptible;)t=e.getCont(nu);return t?t[nu](this[Jt],e):e.yieldWith(this)}}),y9=w0({op:"Yield",eval(e){let t=!1;return e.getRef(k0).scheduleTask(()=>{t||e.evaluate(w9)},this[Jt]??0),e.yieldWith(()=>{t=!0})}}),v9=y9(0),_9=E0(void 0),x0=w0({op:"WithMicroFiber",eval(e){return this[Jt](e)}}),Eh=I(2,(e,t)=>{const n=Object.create(b9);return n[Jt]=e,n[bu]=t,n}),b9=kp({op:"OnSuccess",eval(e){return e._stack.push(this),this[Jt]}}),S9=e=>Ce(e,Sh),s$=E0,C0=i$,T0=C0(l9()),bv=e=>C0(u9(e)),w9=s$(void 0),E9="setImmediate"in globalThis?globalThis.setImmediate:e=>setTimeout(e,0);class a${constructor(){_(this,"tasks",[]);_(this,"running",!1);_(this,"afterScheduled",()=>{this.running=!1,this.runTasks()})}scheduleTask(t,n){this.tasks.push(t),this.running||(this.running=!0,E9(this.afterScheduled))}runTasks(){const t=this.tasks;this.tasks=[];for(let n=0,r=t.length;n<r;n++)t[n]()}shouldYield(t){return t.currentOpCount>=t.getRef(T9)}flush(){for(;this.tasks.length>0;)this.runTasks()}}const x9=I(2,(e,t)=>x0(n=>{const r=n.context;return n.context=t(r),I9(e,()=>(n.context=r,_9))})),C9=I(2,(e,t)=>x9(e,aI(t)));class T9 extends uI()("effect/Micro/currentMaxOpsBeforeYield",{defaultValue:()=>2048}){}class k0 extends uI()("effect/Micro/currentScheduler",{defaultValue:()=>new a$}){}const k9=I(2,(e,t)=>{const n=Object.create(O9);return n[Jt]=e,n[bu]=t.onSuccess,n[nu]=t.onFailure,n}),O9=kp({op:"OnSuccessAndFailure",eval(e){return e._stack.push(this),this[Jt]}}),I9=I(2,(e,t)=>$9(n=>k9(n(e),{onFailure:r=>Eh(t(C0(r)),()=>i$(r)),onSuccess:r=>Eh(t(s$(r)),()=>E0(r))}))),u$=w0({op:"SetInterruptible",ensure(e){if(e.interruptible=this[Jt],e._interrupted&&e.interruptible)return()=>T0}}),A9=e=>x0(t=>t.interruptible?e:(t.interruptible=!0,t._stack.push(u$(!1)),t._interrupted?T0:e)),$9=e=>x0(t=>t.interruptible?(t.interruptible=!1,t._stack.push(u$(!0)),e(A9)):e(Pt)),R9=(e,t)=>{const n=new h9(k0.context(new a$));return n.evaluate(e),n};class c${constructor(){_(this,"buckets",[])}scheduleTask(t,n){const r=this.buckets.length;let o,s=0;for(;s<r&&this.buckets[s][0]<=n;s++)o=this.buckets[s];o&&o[0]===n?o[1].push(t):s===r?this.buckets.push([n,[t]]):this.buckets.splice(s,0,[n,[t]])}}class P9{constructor(t){_(this,"maxNextTickBeforeTimer");_(this,"running",!1);_(this,"tasks",new c$);this.maxNextTickBeforeTimer=t}starveInternal(t){const n=this.tasks.buckets;this.tasks.buckets=[];for(const[r,o]of n)for(let s=0;s<o.length;s++)o[s]();this.tasks.buckets.length===0?this.running=!1:this.starve(t)}starve(t=0){t>=this.maxNextTickBeforeTimer?setTimeout(()=>this.starveInternal(0),0):Promise.resolve(void 0).then(()=>this.starveInternal(t+1))}shouldYield(t){return t.currentOpCount>t.getFiberRef(SA)?t.getFiberRef(Ep):!1}scheduleTask(t,n){this.tasks.scheduleTask(t,n),this.running||(this.running=!0,this.starve())}}const l$=De(Symbol.for("effect/Scheduler/defaultScheduler"),()=>new P9(2048));class f${constructor(){_(this,"tasks",new c$);_(this,"deferred",!1)}scheduleTask(t,n){this.deferred?l$.scheduleTask(t,n):this.tasks.scheduleTask(t,n)}shouldYield(t){return t.currentOpCount>t.getFiberRef(SA)?t.getFiberRef(Ep):!1}flush(){for(;this.tasks.buckets.length>0;){const t=this.tasks.buckets;this.tasks.buckets=[];for(const[n,r]of t)for(let o=0;o<r.length;o++)r[o]()}this.deferred=!0}}const d$=De(Symbol.for("effect/FiberRef/currentScheduler"),()=>$r(l$)),h$=De(Symbol.for("effect/FiberRef/currentRequestMap"),()=>$r(new Map)),vx=(e,t,n,r)=>{switch(e){case void 0:return t();case"unbounded":return n();case"inherit":return c0(gK,o=>o==="unbounded"?n():o>1?r(o):t());default:return e>1?r(e):t()}},O0="InterruptSignal",I0="Stateful",A0="Resume",$0="YieldNow",ay=e=>({_tag:O0,cause:e}),Nd=e=>({_tag:I0,onFiber:e}),Ba=e=>({_tag:A0,effect:e}),M9=()=>({_tag:$0}),N9="effect/FiberScope",xh=Symbol.for(N9);var XT;XT=xh;class L9{constructor(){_(this,XT,xh);_(this,"fiberId",du);_(this,"roots",new Set)}add(t,n){this.roots.add(n),n.addObserver(()=>{this.roots.delete(n)})}}var QT;QT=xh;class F9{constructor(t,n){_(this,"fiberId");_(this,"parent");_(this,QT,xh);this.fiberId=t,this.parent=n}add(t,n){this.parent.tell(Nd(r=>{r.addChild(n),n.addObserver(()=>{r.removeChild(n)})}))}}const B9=e=>new F9(e.id(),e),R0=De(Symbol.for("effect/FiberScope/Global"),()=>new L9),j9="effect/Fiber",D9=Symbol.for(j9),W9={_E:e=>e,_A:e=>e},U9="effect/Fiber",z9=Symbol.for(U9),p$=e=>mA(dA(e.await),e.inheritAll);({...Rl});const Is="effect/FiberCurrent",q9="effect/Logger",K9=Symbol.for(q9),V9={_Message:e=>e,_Output:e=>e},P0=e=>({[K9]:V9,log:e,pipe(){return ve(this,arguments)}}),H9=/^[^\s"=]*$/,G9=(e,t)=>({annotations:n,cause:r,date:o,fiberId:s,logLevel:a,message:c,spans:f})=>{const d=b=>b.match(H9)?b:e(b),p=(b,x)=>`${HA(b)}=${d(x)}`,g=(b,x)=>" "+p(b,x);let m=p("timestamp",o.toISOString());m+=g("level",a.label),m+=g("fiber",PI(s));const y=OW(c);for(let b=0;b<y.length;b++)m+=g("message",iu(y[b],t));dq(r)||(m+=g("cause",Bu(r,{renderErrorCause:!0})));for(const b of f)m+=" "+C7(o.getTime())(b);for(const[b,x]of n)m+=g(b,iu(x,t));return m},J9=e=>`"${e.replace(/\\([\s\S])|(")/g,"\\$1$2")}"`,Y9=P0(G9(J9)),X9=typeof vo=="object"&&vo!==null&&typeof vo.stdout=="object"&&vo.stdout!==null;X9&&vo.stdout.isTTY;const g$="effect/MetricBoundaries",Sv=Symbol.for(g$);var ZT;class Q9{constructor(t){_(this,"values");_(this,ZT,Sv);_(this,"_hash");this.values=t,this._hash=F(Dt(g$),je(Ol(this.values)))}[(ZT=Sv,Re)](){return this._hash}[Ie](t){return Z9(t)&&Ae(this.values,t.values)}pipe(){return ve(this,arguments)}}const Z9=e=>Ce(e,Sv),eV=e=>{const t=F(e,hO(or(Number.POSITIVE_INFINITY)),KW);return new Q9(t)},tV=e=>F(kW(e.count-1,t=>e.start*Math.pow(e.factor,t)),Ll,eV),nV="effect/MetricKeyType",m$=Symbol.for(nV),y$="effect/MetricKeyType/Counter",wv=Symbol.for(y$),rV="effect/MetricKeyType/Frequency",oV=Symbol.for(rV),iV="effect/MetricKeyType/Gauge",sV=Symbol.for(iV),v$="effect/MetricKeyType/Histogram",Ev=Symbol.for(v$),aV="effect/MetricKeyType/Summary",uV=Symbol.for(aV),_$={_In:e=>e,_Out:e=>e};var ek,tk;class cV{constructor(t,n){_(this,"incremental");_(this,"bigint");_(this,tk,_$);_(this,ek,wv);_(this,"_hash");this.incremental=t,this.bigint=n,this._hash=Dt(y$)}[(tk=m$,ek=wv,Re)](){return this._hash}[Ie](t){return b$(t)}pipe(){return ve(this,arguments)}}var nk,rk;class lV{constructor(t){_(this,"boundaries");_(this,rk,_$);_(this,nk,Ev);_(this,"_hash");this.boundaries=t,this._hash=F(Dt(v$),je(fe(this.boundaries)))}[(rk=m$,nk=Ev,Re)](){return this._hash}[Ie](t){return S$(t)&&Ae(this.boundaries,t.boundaries)}pipe(){return ve(this,arguments)}}const fV=e=>new cV((e==null?void 0:e.incremental)??!1,(e==null?void 0:e.bigint)??!1),dV=e=>new lV(e),b$=e=>Ce(e,wv),hV=e=>Ce(e,oV),pV=e=>Ce(e,sV),S$=e=>Ce(e,Ev),gV=e=>Ce(e,uV),mV="effect/MetricKey",w$=Symbol.for(mV),yV={_Type:e=>e},vV=C_(Ae);var ok;class M0{constructor(t,n,r,o=[]){_(this,"name");_(this,"keyType");_(this,"description");_(this,"tags");_(this,ok,yV);_(this,"_hash");this.name=t,this.keyType=n,this.description=r,this.tags=o,this._hash=F(Dt(this.name+this.description),je(fe(this.keyType)),je(Ol(this.tags)))}[(ok=w$,Re)](){return this._hash}[Ie](t){return _V(t)&&this.name===t.name&&Ae(this.keyType,t.keyType)&&Ae(this.description,t.description)&&vV(this.tags,t.tags)}pipe(){return ve(this,arguments)}}const _V=e=>Ce(e,w$),bV=(e,t)=>new M0(e,fV(t),Xo(t==null?void 0:t.description)),SV=(e,t,n)=>new M0(e,dV(t),Xo(n)),wV=I(2,(e,t)=>t.length===0?e:new M0(e.name,e.keyType,e.description,Id(e.tags,t))),EV="effect/MetricState",Kl=Symbol.for(EV),E$="effect/MetricState/Counter",xv=Symbol.for(E$),x$="effect/MetricState/Frequency",Cv=Symbol.for(x$),C$="effect/MetricState/Gauge",Tv=Symbol.for(C$),T$="effect/MetricState/Histogram",kv=Symbol.for(T$),k$="effect/MetricState/Summary",Ov=Symbol.for(k$),Vl={_A:e=>e};var ik,sk;class xV{constructor(t){_(this,"count");_(this,sk,Vl);_(this,ik,xv);this.count=t}[(sk=Kl,ik=xv,Re)](){return F(fe(E$),je(fe(this.count)),It(this))}[Ie](t){return NV(t)&&this.count===t.count}pipe(){return ve(this,arguments)}}const CV=C_(Ae);var ak,uk;class TV{constructor(t){_(this,"occurrences");_(this,uk,Vl);_(this,ak,Cv);_(this,"_hash");this.occurrences=t}[(uk=Kl,ak=Cv,Re)](){return F(Dt(x$),je(Ol(wt(this.occurrences.entries()))),It(this))}[Ie](t){return LV(t)&&CV(wt(this.occurrences.entries()),wt(t.occurrences.entries()))}pipe(){return ve(this,arguments)}}var ck,lk;class kV{constructor(t){_(this,"value");_(this,lk,Vl);_(this,ck,Tv);this.value=t}[(lk=Kl,ck=Tv,Re)](){return F(fe(C$),je(fe(this.value)),It(this))}[Ie](t){return FV(t)&&this.value===t.value}pipe(){return ve(this,arguments)}}var fk,dk;class OV{constructor(t,n,r,o,s){_(this,"buckets");_(this,"count");_(this,"min");_(this,"max");_(this,"sum");_(this,dk,Vl);_(this,fk,kv);this.buckets=t,this.count=n,this.min=r,this.max=o,this.sum=s}[(dk=Kl,fk=kv,Re)](){return F(fe(T$),je(fe(this.buckets)),je(fe(this.count)),je(fe(this.min)),je(fe(this.max)),je(fe(this.sum)),It(this))}[Ie](t){return BV(t)&&Ae(this.buckets,t.buckets)&&this.count===t.count&&this.min===t.min&&this.max===t.max&&this.sum===t.sum}pipe(){return ve(this,arguments)}}var hk,pk;class IV{constructor(t,n,r,o,s,a){_(this,"error");_(this,"quantiles");_(this,"count");_(this,"min");_(this,"max");_(this,"sum");_(this,pk,Vl);_(this,hk,Ov);this.error=t,this.quantiles=n,this.count=r,this.min=o,this.max=s,this.sum=a}[(pk=Kl,hk=Ov,Re)](){return F(fe(k$),je(fe(this.error)),je(fe(this.quantiles)),je(fe(this.count)),je(fe(this.min)),je(fe(this.max)),je(fe(this.sum)),It(this))}[Ie](t){return jV(t)&&this.error===t.error&&Ae(this.quantiles,t.quantiles)&&this.count===t.count&&this.min===t.min&&this.max===t.max&&this.sum===t.sum}pipe(){return ve(this,arguments)}}const AV=e=>new xV(e),$V=e=>new TV(e),RV=e=>new kV(e),PV=e=>new OV(e.buckets,e.count,e.min,e.max,e.sum),MV=e=>new IV(e.error,e.quantiles,e.count,e.min,e.max,e.sum),NV=e=>Ce(e,xv),LV=e=>Ce(e,Cv),FV=e=>Ce(e,Tv),BV=e=>Ce(e,kv),jV=e=>Ce(e,Ov),DV="effect/MetricHook",WV=Symbol.for(DV),UV={_In:e=>e,_Out:e=>e},Hl=e=>({[WV]:UV,pipe(){return ve(this,arguments)},...e}),_x=BigInt(0),zV=e=>{let t=e.keyType.bigint?_x:0;const n=e.keyType.incremental?e.keyType.bigint?o=>o>=_x:o=>o>=0:o=>!0,r=o=>{n(o)&&(t=t+o)};return Hl({get:()=>AV(t),update:r,modify:r})},qV=e=>{const t=new Map;for(const r of e.keyType.preregisteredWords)t.set(r,0);const n=r=>{const o=t.get(r)??0;t.set(r,o+1)};return Hl({get:()=>$V(t),update:n,modify:n})},KV=(e,t)=>{let n=t;return Hl({get:()=>RV(n),update:r=>{n=r},modify:r=>{n=n+r}})},VV=e=>{const t=e.keyType.boundaries.values,n=t.length,r=new Uint32Array(n+1),o=new Float32Array(n);let s=0,a=0,c=Number.MAX_VALUE,f=Number.MIN_VALUE;F(t,Xc(au),Qa((g,m)=>{o[m]=g}));const d=g=>{let m=0,y=n;for(;m!==y;){const b=Math.floor(m+(y-m)/2),x=o[b];g<=x?y=b:m=b,y===m+1&&(g<=o[m]?y=m:m=y)}r[m]=r[m]+1,s=s+1,a=a+g,g<c&&(c=g),g>f&&(f=g)},p=()=>{const g=rp(n);let m=0;for(let y=0;y<n;y++){const b=o[y],x=r[y];m=m+x,g[y]=[b,m]}return g};return Hl({get:()=>PV({buckets:p(),count:s,min:c,max:f,sum:a}),update:d,modify:d})},HV=e=>{const{error:t,maxAge:n,maxSize:r,quantiles:o}=e.keyType,s=F(o,Xc(au)),a=rp(r);let c=0,f=0,d=0,p=Number.MAX_VALUE,g=Number.MIN_VALUE;const m=b=>{const x=[];let T=0;for(;T!==r-1;){const k=a[T];if(k!=null){const[L,N]=k,R=ah(b-L);Fz(R,yI)&&R<=n&&x.push(N)}T=T+1}return GV(t,s,Xc(x,au))},y=(b,x)=>{if(r>0){c=c+1;const T=c%r;a[T]=[x,b]}f=f+1,d=d+b,b<p&&(p=b),b>g&&(g=b)};return Hl({get:()=>MV({error:t,quantiles:m(Date.now()),count:f,min:p,max:g,sum:d}),update:([b,x])=>y(b,x),modify:([b,x])=>y(b,x)})},GV=(e,t,n)=>{const r=n.length;if(!on(t))return Js();const o=t[0],s=t.slice(1),a=bx(e,r,oe(),0,o,n),c=go(a);return s.forEach(f=>{c.push(bx(e,r,a.value,a.consumed,f,a.rest))}),Qa(c,f=>[f.quantile,f.value])},bx=(e,t,n,r,o,s)=>{let a=e,c=t,f=n,d=r,p=o,g=s,m=e,y=t,b=n,x=r,T=o,k=s;for(;;){if(!on(g))return{quantile:p,value:oe(),consumed:d,rest:[]};if(p===1)return{quantile:p,value:we(mO(g)),consumed:d+g.length,rest:[]};const L=BW(g,A=>A<=g[0]),N=p*c,R=a/2*N,W=d+L[0].length,j=Math.abs(W-N);if(W<N-R){m=a,y=c,b=zc(g),x=W,T=p,k=L[1],a=m,c=y,f=b,d=x,p=T,g=k;continue}if(W>N+R)return{quantile:p,value:f,consumed:d,rest:g};switch(f._tag){case"None":{m=a,y=c,b=zc(g),x=W,T=p,k=L[1],a=m,c=y,f=b,d=x,p=T,g=k;continue}case"Some":{const A=Math.abs(N-f.value);if(j<A){m=a,y=c,b=zc(g),x=W,T=p,k=L[1],a=m,c=y,f=b,d=x,p=T,g=k;continue}return{quantile:p,value:we(f.value),consumed:d,rest:g}}}}throw new Error("BUG: MetricHook.resolveQuantiles - please report an issue at https://github.com/Effect-TS/effect/issues")},JV="effect/MetricPair",YV=Symbol.for(JV),XV={_Type:e=>e},QV=(e,t)=>({[YV]:XV,metricKey:e,metricState:t,pipe(){return ve(this,arguments)}}),ZV="effect/MetricRegistry",Sx=Symbol.for(ZV);var gk;gk=Sx;class eH{constructor(){_(this,gk,Sx);_(this,"map",WK())}snapshot(){const t=[];for(const[n,r]of this.map)t.push(QV(n,r.get()));return t}get(t){const n=F(this.map,Ps(t),mo);if(n==null){if(b$(t.keyType))return this.getCounter(t);if(pV(t.keyType))return this.getGauge(t);if(hV(t.keyType))return this.getFrequency(t);if(S$(t.keyType))return this.getHistogram(t);if(gV(t.keyType))return this.getSummary(t);throw new Error("BUG: MetricRegistry.get - unknown MetricKeyType - please report an issue at https://github.com/Effect-TS/effect/issues")}else return n}getCounter(t){let n=F(this.map,Ps(t),mo);if(n==null){const r=zV(t);F(this.map,xc(t))||F(this.map,Cc(t,r)),n=r}return n}getFrequency(t){let n=F(this.map,Ps(t),mo);if(n==null){const r=qV(t);F(this.map,xc(t))||F(this.map,Cc(t,r)),n=r}return n}getGauge(t){let n=F(this.map,Ps(t),mo);if(n==null){const r=KV(t,t.keyType.bigint?BigInt(0):0);F(this.map,xc(t))||F(this.map,Cc(t,r)),n=r}return n}getHistogram(t){let n=F(this.map,Ps(t),mo);if(n==null){const r=VV(t);F(this.map,xc(t))||F(this.map,Cc(t,r)),n=r}return n}getSummary(t){let n=F(this.map,Ps(t),mo);if(n==null){const r=HV(t);F(this.map,xc(t))||F(this.map,Cc(t,r)),n=r}return n}}const tH=()=>new eH,nH="effect/Metric",rH=Symbol.for(nH),oH={_Type:e=>e,_In:e=>e,_Out:e=>e},wx=De(Symbol.for("effect/Metric/globalMetricRegistry"),()=>tH()),O$=function(e,t,n,r){const o=Object.assign(s=>Vq(s,a=>uH(o,a)),{[rH]:oH,keyType:e,unsafeUpdate:t,unsafeValue:n,unsafeModify:r,register(){return this.unsafeValue([]),this},pipe(){return ve(this,arguments)}});return o},Op=(e,t)=>I$(bV(e,t)),I$=e=>{let t;const n=new WeakMap,r=o=>{if(o.length===0)return t!==void 0||(t=wx.get(e)),t;let s=n.get(o);return s!==void 0||(s=wx.get(wV(e,o)),n.set(o,s)),s};return O$(e.keyType,(o,s)=>r(s).update(o),o=>r(o).get(),(o,s)=>r(s).modify(o))},iH=(e,t,n)=>I$(SV(e,t,n)),sH=I(3,(e,t,n)=>aH(e,[F7(t,n)])),aH=I(2,(e,t)=>O$(e.keyType,(n,r)=>e.unsafeUpdate(n,Id(t,r)),n=>e.unsafeValue(Id(t,n)),(n,r)=>e.unsafeModify(n,Id(t,r)))),uH=I(2,(e,t)=>c0(cv,n=>le(()=>e.unsafeUpdate(t,n))));({...$l});const cH=I(2,(e,t)=>c0(h$,n=>le(()=>{if(n.has(e)){const r=n.get(e);r.state.completed||(r.state.completed=!0,p0(r.result,t))}}))),lH="effect/Supervisor",Ip=Symbol.for(lH),N0={_T:e=>e};var mk;mk=Ip;const kS=class kS{constructor(t,n){_(this,"underlying");_(this,"value0");_(this,mk,N0);this.underlying=t,this.value0=n}get value(){return this.value0}onStart(t,n,r,o){this.underlying.onStart(t,n,r,o)}onEnd(t,n){this.underlying.onEnd(t,n)}onEffect(t,n){this.underlying.onEffect(t,n)}onSuspend(t){this.underlying.onSuspend(t)}onResume(t){this.underlying.onResume(t)}map(t){return new kS(this,F(this.value,it(t)))}zip(t){return new Th(this,t)}};let Ch=kS;var yk;yk=Ip;const OS=class OS{constructor(t,n){_(this,"left");_(this,"right");_(this,"_tag","Zip");_(this,yk,N0);this.left=t,this.right=n}get value(){return gA(this.left.value,this.right.value)}onStart(t,n,r,o){this.left.onStart(t,n,r,o),this.right.onStart(t,n,r,o)}onEnd(t,n){this.left.onEnd(t,n),this.right.onEnd(t,n)}onEffect(t,n){this.left.onEffect(t,n),this.right.onEffect(t,n)}onSuspend(t){this.left.onSuspend(t),this.right.onSuspend(t)}onResume(t){this.left.onResume(t),this.right.onResume(t)}map(t){return new Ch(this,F(this.value,it(t)))}zip(t){return new OS(this,t)}};let Th=OS;const A$=e=>Ce(e,Ip)&&p_(e,"Zip");var vk;vk=Ip;class fH{constructor(t){_(this,"effect");_(this,vk,N0);this.effect=t}get value(){return this.effect}onStart(t,n,r,o){}onEnd(t,n){}onEffect(t,n){}onSuspend(t){}onResume(t){}map(t){return new Ch(this,F(this.value,it(t)))}zip(t){return new Th(this,t)}onRun(t,n){return t()}}const dH=e=>new fH(e),Ap=De("effect/Supervisor/none",()=>dH(no)),hH=Pu,$$="Empty",R$="AddSupervisor",P$="RemoveSupervisor",M$="AndThen",Kc={_tag:$$},Ld=(e,t)=>({_tag:M$,first:e,second:t}),pH=(e,t)=>gH(t,or(e)),gH=(e,t)=>{let n=e,r=t;for(;xi(r);){const o=Do(r);switch(o._tag){case $$:{r=_i(r);break}case R$:{n=n.zip(o.supervisor),r=_i(r);break}case P$:{n=Iv(n,o.supervisor),r=_i(r);break}case M$:{r=Vn(o.first)(Vn(o.second)(_i(r)));break}}}return n},Iv=(e,t)=>Ae(e,t)?Ap:A$(e)?Iv(e.left,t).zip(Iv(e.right,t)):e,kh=e=>Ae(e,Ap)?Xs():A$(e)?F(kh(e.left),el(kh(e.right))):z_(e),mH=(e,t)=>{if(Ae(e,t))return Kc;const n=kh(e),r=kh(t),o=F(r,$E(n),ch(Kc,(a,c)=>Ld(a,{_tag:R$,supervisor:c}))),s=F(n,$E(r),ch(Kc,(a,c)=>Ld(a,{_tag:P$,supervisor:c})));return Ld(o,s)},yH=hH({empty:Kc,patch:pH,combine:Ld,diff:mH}),vH=Op("effect_fiber_started",{incremental:!0}),Ex=Op("effect_fiber_active"),_H=Op("effect_fiber_successes",{incremental:!0}),bH=Op("effect_fiber_failures",{incremental:!0}),SH=sH(iH("effect_fiber_lifetimes",tV({start:.5,factor:2,count:35})),"time_unit","milliseconds"),Tc="Continue",wH="Done",xx="Yield",EH={_E:e=>e,_A:e=>e},od=e=>{throw new Error(`BUG: FiberRuntime - ${iu(e)} - please report an issue at https://github.com/Effect-TS/effect/issues`)},di=Symbol.for("effect/internal/fiberRuntime/YieldedOp"),hi=De("effect/internal/fiberRuntime/yieldedOpChannel",()=>({currentOp:null})),kc={[Zd]:(e,t,n)=>qn(()=>t.effect_instruction_i1(n)),OnStep:(e,t,n)=>Wt(Wt(n)),[eh]:(e,t,n)=>qn(()=>t.effect_instruction_i2(n)),[__]:(e,t,n)=>(e.patchRuntimeFlags(e.currentRuntimeFlags,t.patch),Qi(e.currentRuntimeFlags)&&e.isInterrupted()?dt(e.getInterruptedCause()):Wt(n)),[th]:(e,t,n)=>(qn(()=>t.effect_instruction_i2(n)),qn(()=>t.effect_instruction_i0())?(e.pushStack(t),qn(()=>t.effect_instruction_i1())):no),[Td]:(e,t,n)=>{const r=qn(()=>t.effect_instruction_i0.next(n));return r.done?Wt(r.value):(e.pushStack(t),DD(r.value))}},xH={[O0]:(e,t,n,r)=>(e.processNewInterruptSignal(r.cause),Qi(t)?dt(r.cause):n),[A0]:(e,t,n,r)=>{throw new Error("It is illegal to have multiple concurrent run loops in a single fiber")},[I0]:(e,t,n,r)=>(r.onFiber(e,t$(t)),n),[$0]:(e,t,n,r)=>ae(a0(),()=>n)},CH=e=>_p(J6(e),t=>rs(cq(t),([n,r])=>{const o=new Map,s=[];for(const c of r){s.push(Us(c));for(const f of c)o.set(f.request,f)}const a=s.flat();return wp(jH(n.runAll(s),a,()=>a.forEach(c=>{c.listeners.interrupted=!0})),h$,o)},!1,!1)),TH=Qh();var _k,bk;class N$ extends b0{constructor(n,r,o){super();_(this,bk,W9);_(this,_k,EH);_(this,"_fiberRefs");_(this,"_fiberId");_(this,"_queue",new Array);_(this,"_children",null);_(this,"_observers",new Array);_(this,"_running",!1);_(this,"_stack",[]);_(this,"_asyncInterruptor",null);_(this,"_asyncBlockingOn",null);_(this,"_exitValue",null);_(this,"_steps",[]);_(this,"_isYielding",!1);_(this,"currentRuntimeFlags");_(this,"currentOpCount",0);_(this,"currentSupervisor");_(this,"currentScheduler");_(this,"currentTracer");_(this,"currentSpan");_(this,"currentContext");_(this,"currentDefaultServices");_(this,"run",()=>{this.drainQueueOnCurrentThread()});if(this.currentRuntimeFlags=o,this._fiberId=n,this._fiberRefs=r,LE(o)){const s=this.getFiberRef(cv);vH.unsafeUpdate(1,s),Ex.unsafeUpdate(1,s)}this.refreshRefCache()}commit(){return p$(this)}id(){return this._fiberId}resume(n){this.tell(Ba(n))}get status(){return this.ask((n,r)=>r)}get runtimeFlags(){return this.ask((n,r)=>o9(r)?n.currentRuntimeFlags:r.runtimeFlags)}scope(){return B9(this)}get children(){return this.ask(n=>Array.from(n.getChildren()))}getChildren(){return this._children===null&&(this._children=new Set),this._children}getInterruptedCause(){return this.getFiberRef(nd)}fiberRefs(){return this.ask(n=>n.getFiberRefs())}ask(n){return rt(()=>{const r=h0(this._fiberId);return this.tell(Nd((o,s)=>{p0(r,le(()=>n(o,s)))})),yh(r)})}tell(n){this._queue.push(n),this._running||(this._running=!0,this.drainQueueLaterOnExecutor())}get await(){return il(n=>{const r=o=>n(xe(o));return this.tell(Nd((o,s)=>{o._exitValue!==null?r(this._exitValue):o.addObserver(r)})),le(()=>this.tell(Nd((o,s)=>{o.removeObserver(r)})))},this.id())}get inheritAll(){return Ln((n,r)=>{const o=n.id(),s=n.getFiberRefs(),a=r.runtimeFlags,c=this.getFiberRefs(),f=a7(s,o,c);n.setFiberRefs(f);const d=n.getFiberRef(Ix),p=F(Rd(a,d),BE(Mu),BE(av));return Gq(p)})}get poll(){return le(()=>Xo(this._exitValue))}unsafePoll(){return this._exitValue}interruptAsFork(n){return le(()=>this.tell(ay(mi(n))))}unsafeInterruptAsFork(n){this.tell(ay(mi(n)))}addObserver(n){this._exitValue!==null?n(this._exitValue):this._observers.push(n)}removeObserver(n){this._observers=this._observers.filter(r=>r!==n)}getFiberRefs(){return this.setFiberRef(Ix,this.currentRuntimeFlags),this._fiberRefs}unsafeDeleteFiberRef(n){this._fiberRefs=VA(this._fiberRefs,n)}getFiberRef(n){return this._fiberRefs.locals.has(n)?this._fiberRefs.locals.get(n)[0][1]:n.initial}setFiberRef(n,r){this._fiberRefs=hv(this._fiberRefs,{fiberId:this._fiberId,fiberRef:n,value:r}),this.refreshRefCache()}refreshRefCache(){this.currentDefaultServices=this.getFiberRef(_h),this.currentTracer=this.currentDefaultServices.unsafeMap.get(UA.key),this.currentSupervisor=this.getFiberRef(BH),this.currentScheduler=this.getFiberRef(d$),this.currentContext=this.getFiberRef(zl),this.currentSpan=this.currentContext.unsafeMap.get(zA.key)}setFiberRefs(n){this._fiberRefs=n,this.refreshRefCache()}addChild(n){this.getChildren().add(n)}removeChild(n){this.getChildren().delete(n)}transferChildren(n){const r=this._children;if(this._children=null,r!==null&&r.size>0)for(const o of r)o._exitValue===null&&n.add(this.currentRuntimeFlags,o)}drainQueueOnCurrentThread(){let n=!0;for(;n;){let r=Tc;const o=globalThis[Is];globalThis[Is]=this;try{for(;r===Tc;)r=this._queue.length===0?wH:this.evaluateMessageWhileSuspended(this._queue.splice(0,1)[0])}finally{this._running=!1,globalThis[Is]=o}this._queue.length>0&&!this._running?(this._running=!0,r===xx?(this.drainQueueLaterOnExecutor(),n=!1):n=!0):n=!1}}drainQueueLaterOnExecutor(){this.currentScheduler.scheduleTask(this.run,this.getFiberRef(Ep))}drainQueueWhileRunning(n,r){let o=r;for(;this._queue.length>0;){const s=this._queue.splice(0,1)[0];o=xH[s._tag](this,n,o,s)}return o}isInterrupted(){return!gq(this.getFiberRef(nd))}addInterruptedCause(n){const r=this.getFiberRef(nd);this.setFiberRef(nd,Xr(r,n))}processNewInterruptSignal(n){this.addInterruptedCause(n),this.sendInterruptSignalToAllChildren()}sendInterruptSignalToAllChildren(){if(this._children===null||this._children.size===0)return!1;let n=!1;for(const r of this._children)r.tell(ay(mi(this.id()))),n=!0;return n}interruptAllChildren(){if(this.sendInterruptSignalToAllChildren()){const n=this._children.values();this._children=null;let r=!1;return s0({while:()=>!r,body:()=>{const s=n.next();return s.done?le(()=>{r=!0}):ju(s.value.await)},step:()=>{}})}return null}reportExitValue(n){if(LE(this.currentRuntimeFlags)){const r=this.getFiberRef(cv),o=this.id().startTimeMillis,s=Date.now();switch(SH.unsafeUpdate(s-o,r),Ex.unsafeUpdate(-1,r),n._tag){case eo:{_H.unsafeUpdate(1,r);break}case Zr:{bH.unsafeUpdate(1,r);break}}}if(n._tag==="Failure"){const r=this.getFiberRef(yK);!J_(n.cause)&&r._tag==="Some"&&this.log("Fiber terminated with an unhandled error",n.cause,r)}}setExitValue(n){this._exitValue=n,this.reportExitValue(n);for(let r=this._observers.length-1;r>=0;r--)this._observers[r](n);this._observers=[]}getLoggers(){return this.getFiberRef($H)}log(n,r,o){const s=Nn(o)?o.value:this.getFiberRef(dK),a=this.getFiberRef(kH);if(E7(a,s))return;const c=this.getFiberRef(hK),f=this.getFiberRef(fK),d=this.getLoggers(),p=this.getFiberRefs();if(AI(d)>0){const g=iI(this.getFiberRef(_h),Cp),m=new Date(g.unsafeCurrentTimeMillis());qD(p,()=>{for(const y of d)y.log({fiberId:this.id(),logLevel:s,message:n,cause:r,context:p,spans:c,annotations:f,date:m})})}}evaluateMessageWhileSuspended(n){switch(n._tag){case $0:return xx;case O0:return this.processNewInterruptSignal(n.cause),this._asyncInterruptor!==null&&(this._asyncInterruptor(dt(n.cause)),this._asyncInterruptor=null),Tc;case A0:return this._asyncInterruptor=null,this._asyncBlockingOn=null,this.evaluateEffect(n.effect),Tc;case I0:return n.onFiber(this,this._exitValue!==null?n9:r9(this.currentRuntimeFlags,this._asyncBlockingOn)),Tc;default:return od(n)}}evaluateEffect(n){this.currentSupervisor.onResume(this);try{let r=Qi(this.currentRuntimeFlags)&&this.isInterrupted()?dt(this.getInterruptedCause()):n;for(;r!==null;){const o=r,s=this.runLoop(o);if(s===di){const a=hi.currentOp;hi.currentOp=null,a._op===kd?q6(this.currentRuntimeFlags)?(this.tell(M9()),this.tell(Ba(Ls)),r=null):r=Ls:a._op===Uc&&(r=null)}else{this.currentRuntimeFlags=F(this.currentRuntimeFlags,K6(av));const a=this.interruptAllChildren();a!==null?r=ae(a,()=>s):(this._queue.length===0?this.setExitValue(s):this.tell(Ba(s)),r=null)}}}finally{this.currentSupervisor.onSuspend(this)}}start(n){if(this._running)this.tell(Ba(n));else{this._running=!0;const r=globalThis[Is];globalThis[Is]=this;try{this.evaluateEffect(n)}finally{this._running=!1,globalThis[Is]=r,this._queue.length>0&&this.drainQueueLaterOnExecutor()}}}startFork(n){this.tell(Ba(n))}patchRuntimeFlags(n,r){const o=Pd(n,r);return globalThis[Is]=this,this.currentRuntimeFlags=o,o}initiateAsync(n,r){let o=!1;const s=a=>{o||(o=!0,this.tell(Ba(a)))};Qi(n)&&(this._asyncInterruptor=s);try{r(s)}catch(a){s(kr(zo(a)))}}pushStack(n){this._stack.push(n),n._op==="OnStep"&&this._steps.push({refs:this.getFiberRefs(),flags:this.currentRuntimeFlags})}popStack(){const n=this._stack.pop();if(n)return n._op==="OnStep"&&this._steps.pop(),n}getNextSuccessCont(){let n=this.popStack();for(;n;){if(n._op!==Cd)return n;n=this.popStack()}}getNextFailCont(){let n=this.popStack();for(;n;){if(n._op!==Zd&&n._op!==th&&n._op!==Td)return n;n=this.popStack()}}[(bk=D9,_k=z9,VD)](n){return le(()=>sI(this.currentContext,n))}Left(n){return mn(n.left)}None(n){return mn(new f0)}Right(n){return Wt(n.right)}Some(n){return Wt(n.value)}Micro(n){return ph(r=>{let o=r;const s=R9(C9(n,this.currentContext));return s.addObserver(a=>{if(a._tag==="Success")return o(Wt(a.value));switch(a.cause._tag){case"Interrupt":return o(dt(mi(du)));case"Fail":return o(mn(a.cause.error));case"Die":return o(gh(a.cause.defect))}}),ph(a=>{o=c=>{a(no)},s.unsafeInterrupt()})})}[Qk](n){const r=qn(()=>n.effect_instruction_i0()),o=this.getNextSuccessCont();return o!==void 0?(o._op in kc||od(o),kc[o._op](this,o,r)):(hi.currentOp=Wt(r),di)}[eo](n){const r=n,o=this.getNextSuccessCont();return o!==void 0?(o._op in kc||od(o),kc[o._op](this,o,r.effect_instruction_i0)):(hi.currentOp=r,di)}[Zr](n){const r=n.effect_instruction_i0,o=this.getNextFailCont();if(o!==void 0)switch(o._op){case Cd:case eh:return Qi(this.currentRuntimeFlags)&&this.isInterrupted()?dt(jE(r)):qn(()=>o.effect_instruction_i1(r));case"OnStep":return Qi(this.currentRuntimeFlags)&&this.isInterrupted()?dt(jE(r)):Wt(dt(r));case __:return this.patchRuntimeFlags(this.currentRuntimeFlags,o.patch),Qi(this.currentRuntimeFlags)&&this.isInterrupted()?dt(Xr(r,this.getInterruptedCause())):dt(r);default:od(o)}else return hi.currentOp=dt(r),di}[Zk](n){return qn(()=>n.effect_instruction_i0(this,t$(this.currentRuntimeFlags)))}Blocked(n){const r=this.getFiberRefs(),o=this.currentRuntimeFlags;if(this._steps.length>0){const s=[],a=this._steps[this._steps.length-1];let c=this.popStack();for(;c&&c._op!=="OnStep";)s.push(c),c=this.popStack();this.setFiberRefs(a.refs),this.currentRuntimeFlags=a.flags;const f=V7(a.refs,r),d=Rd(a.flags,o);return Wt(sA(n.effect_instruction_i0,Ln(p=>{for(;s.length>0;)p.pushStack(s.pop());return p.setFiberRefs(H7(p.id(),p.getFiberRefs())(f)),p.currentRuntimeFlags=Pd(d)(p.currentRuntimeFlags),n.effect_instruction_i1})))}return Sp(s=>ae(L$(Lq(n.effect_instruction_i0)),()=>s(n.effect_instruction_i1)))}RunBlocked(n){return CH(n.effect_instruction_i0)}[Il](n){const r=n.effect_instruction_i0,o=this.currentRuntimeFlags,s=Pd(o,r);if(Qi(s)&&this.isInterrupted())return dt(this.getInterruptedCause());if(this.patchRuntimeFlags(this.currentRuntimeFlags,r),n.effect_instruction_i1){const a=Rd(s,o);return this.pushStack(new Fq(a,n)),qn(()=>n.effect_instruction_i1(o))}else return Ls}[Zd](n){return this.pushStack(n),n.effect_instruction_i0}OnStep(n){return this.pushStack(n),n.effect_instruction_i0}[Cd](n){return this.pushStack(n),n.effect_instruction_i0}[eh](n){return this.pushStack(n),n.effect_instruction_i0}[Uc](n){return this._asyncBlockingOn=n.effect_instruction_i1,this.initiateAsync(this.currentRuntimeFlags,n.effect_instruction_i0),hi.currentOp=n,di}[kd](n){return this._isYielding=!1,hi.currentOp=n,di}[th](n){const r=n.effect_instruction_i0,o=n.effect_instruction_i1;return r()?(this.pushStack(n),o()):Ls}[Td](n){return kc[Td](this,n,void 0)}[np](n){return qn(()=>n.commit())}runLoop(n){let r=n;for(this.currentOpCount=0;;){if(this.currentRuntimeFlags&z6&&this.currentSupervisor.onEffect(this,r),this._queue.length>0&&(r=this.drainQueueWhileRunning(this.currentRuntimeFlags,r)),!this._isYielding){this.currentOpCount+=1;const o=this.currentScheduler.shouldYield(this);if(o!==!1){this._isYielding=!0,this.currentOpCount=0;const s=r;r=ae(a0({priority:o}),()=>s)}}try{if(r=this.currentTracer.context(()=>TH!==r[vu]._V?zE(`Cannot execute an Effect versioned ${r[vu]._V} with a Runtime of version ${Qh()}`):this[r._op](r),this),r===di){const o=hi.currentOp;return o._op===kd||o._op===Uc?di:(hi.currentOp=null,o._op===eo||o._op===Zr?o:dt(zo(o)))}}catch(o){r!==di&&!Ce(r,"_op")||!(r._op in this)?r=zE(`Not a valid effect: ${iu(r)}`):wK(o)?r=dt(Xr(zo(o),mi(du))):r=gh(o)}}}}const kH=De("effect/FiberRef/currentMinimumLogLevel",()=>$r(x7("Info"))),OH=e=>P0(t=>{const n=f7(t.context,_h);iI(n,WA).unsafe.log(e.log(t))}),IH=De(Symbol.for("effect/Logger/defaultLogger"),()=>OH(Y9)),AH=De(Symbol.for("effect/Logger/tracerLogger"),()=>P0(({annotations:e,cause:t,context:n,fiberId:r,logLevel:o,message:s})=>{const a=Nl(ul(n,zl),zA);if(a._tag==="None"||a.value._tag==="ExternalSpan")return;const c=sI(ul(n,_h),Cp),f={};for(const[d,p]of e)f[d]=p;f["effect.fiberId"]=I4(r),f["effect.logLevel"]=o.label,t!==null&&t._tag!=="Empty"&&(f["effect.cause"]=Bu(t,{renderErrorCause:!0})),a.value.event(iu(Array.isArray(s)?s[0]:s),c.unsafeCurrentTimeNanos(),f)})),$H=De(Symbol.for("effect/FiberRef/currentLoggers"),()=>uK(z_(IH,AH))),RH=I(e=>Vk(e[0]),(e,t,n)=>Ln(r=>{const o=(n==null?void 0:n.batching)===!0||(n==null?void 0:n.batching)==="inherit"&&r.getFiberRef(mK);return n!=null&&n.discard?vx(n.concurrency,()=>ja(mv,n==null?void 0:n.concurrentFinalizers)(s=>o?rs(e,(a,c)=>s(t(a,c)),!0,!1,1):_p(e,(a,c)=>s(t(a,c)))),()=>ja(yv,n==null?void 0:n.concurrentFinalizers)(s=>rs(e,(a,c)=>s(t(a,c)),o,!1)),s=>ja(vv(s),n==null?void 0:n.concurrentFinalizers)(a=>rs(e,(c,f)=>a(t(c,f)),o,!1,s))):vx(n==null?void 0:n.concurrency,()=>ja(mv,n==null?void 0:n.concurrentFinalizers)(s=>o?Cx(e,1,(a,c)=>s(t(a,c)),!0):ts(e,(a,c)=>s(t(a,c)))),()=>ja(yv,n==null?void 0:n.concurrentFinalizers)(s=>PH(e,(a,c)=>s(t(a,c)),o)),s=>ja(vv(s),n==null?void 0:n.concurrentFinalizers)(a=>Cx(e,s,(c,f)=>a(t(c,f)),o)))})),PH=(e,t,n)=>rt(()=>{const r=wt(e),o=new Array(r.length);return na(rs(r,(a,c)=>ae(t(a,c),f=>le(()=>o[c]=f)),n,!1),xe(o))}),rs=(e,t,n,r,o)=>Sp(s=>Hq(a=>Ln(c=>{let f=Array.from(e).reverse(),d=f.length;if(d===0)return no;let p=0,g=!1;const m=o?Math.min(f.length,o):f.length,y=new Set,b=new Array,x=()=>y.forEach(U=>{U.currentScheduler.scheduleTask(()=>{U.unsafeInterruptAsFork(c.id())},0)}),T=new Array,k=new Array,L=new Array,N=()=>{const U=b.filter(({exit:K})=>K._tag==="Failure").sort((K,S)=>K.index<S.index?-1:K.index===S.index?0:1).map(({exit:K})=>K);return U.length===0&&U.push(Ls),U},R=(U,K=!1)=>{const S=i0(a(U)),M=NH(S,c,c.currentRuntimeFlags,R0);return c.currentScheduler.scheduleTask(()=>{K&&M.unsafeInterruptAsFork(c.id()),M.resume(S)},0),M},W=()=>{r||(d-=f.length,f=[]),g=!0,x()},j=n?Uq:lA,A=R(il(U=>{const K=(M,D)=>{M._op==="Blocked"?L.push(M):(b.push({index:D,exit:M}),M._op==="Failure"&&!g&&W())},S=()=>{if(f.length>0){const M=f.pop();let D=p++;const X=()=>{const ie=f.pop();return D=p++,ae(a0(),()=>ae(j(s(t(ie,D))),re))},re=ie=>f.length>0&&(K(ie,D),f.length>0)?X():xe(ie),_e=ae(j(s(t(M,D))),re),ye=R(_e);T.push(ye),y.add(ye),g&&ye.currentScheduler.scheduleTask(()=>{ye.unsafeInterruptAsFork(c.id())},0),ye.addObserver(ie=>{let ce;if(ie._op==="Failure"?ce=ie:ce=ie.effect_instruction_i0,k.push(ye),y.delete(ye),K(ce,D),b.length===d)U(xe(bt(GE(N(),{parallel:!0}),()=>Ls)));else if(L.length+b.length===d){const Le=N(),cn=L.map(ut=>ut.effect_instruction_i0).reduce(XI);U(xe(sA(cn,rs([bt(GE(Le,{parallel:!0}),()=>Ls),...L.map(ut=>ut.effect_instruction_i1)],ut=>ut,n,!0,o))))}else S()})}};for(let M=0;M<m;M++)S()}));return ju(r0(dA(s(p$(A))),EA({onFailure:U=>{W();const K=L.length+1,S=Math.min(typeof o=="number"?o:L.length,L.length),M=Array.from(L);return il(D=>{let X=0,re=0;const _e=(ie,ce)=>Le=>{X++,X===K&&D(Wt(dt(U))),M.length>0&&ce&&ye()},ye=()=>{R(M.pop(),!0).addObserver(_e(re,!0)),re++};A.addObserver(_e(re,!1)),re++;for(let ie=0;ie<S;ie++)ye()})},onSuccess:()=>ts(k,U=>U.inheritAll)})))}))),Cx=(e,t,n,r)=>rt(()=>{const o=wt(e),s=new Array(o.length);return na(rs(o,(c,f)=>it(n(c,f),d=>s[f]=d),r,!1,t),xe(s))}),L$=e=>LH(e,R0),MH=(e,t,n,r=null)=>{const o=F$(e,t,n,r);return o.resume(e),o},NH=(e,t,n,r=null)=>F$(e,t,n,r),F$=(e,t,n,r=null)=>{const o=MI(),s=t.getFiberRefs(),a=u7(s,o),c=new N$(o,a,n),f=ul(a,zl),d=c.currentSupervisor;return d.onStart(f,e,we(t),c),c.addObserver(g=>d.onEnd(g,c)),(r!==null?r:F(t.getFiberRef(lv),bt(()=>t.scope()))).add(n,c),c},LH=(e,t)=>Ln((n,r)=>xe(MH(e,n,r.runtimeFlags,t))),Tx=e=>ql(t=>Ot(Nl(t,Gl),{onNone:()=>e,onSome:n=>{switch(n.strategy._tag){case"Parallel":return e;case"Sequential":case"ParallelN":return ae(xp(n,yv),r=>L0(e,r))}}})),kx=e=>t=>ql(n=>Ot(Nl(n,Gl),{onNone:()=>t,onSome:r=>r.strategy._tag==="ParallelN"&&r.strategy.parallelism===e?t:ae(xp(r,vv(e)),o=>L0(t,o))})),ja=(e,t)=>n=>ql(r=>Ot(Nl(r,Gl),{onNone:()=>n(Pt),onSome:o=>{if(t===!0){const s=e._tag==="Parallel"?Tx:e._tag==="Sequential"?Ox:kx(e.parallelism);switch(o.strategy._tag){case"Parallel":return s(n(Tx));case"Sequential":return s(n(Ox));case"ParallelN":return s(n(kx(o.strategy.parallelism)))}}else return n(Pt)}})),Ox=e=>ql(t=>Ot(Nl(t,Gl),{onNone:()=>e,onSome:n=>{switch(n.strategy._tag){case"Sequential":return e;case"Parallel":case"ParallelN":return ae(xp(n,mv),r=>L0(e,r))}}})),Gl=fa("effect/Scope"),L0=I(2,(e,t)=>FK(e,aI(dz(Gl,t)))),FH=e=>Du(e,{differ:yH,fork:Kc}),Ix=lK(V6),BH=FH(Ap),jH=(e,t,n)=>fA(r=>ae(ae(L$(pA(e)),o=>il(s=>{const a=t.map(d=>d.listeners.count),c=()=>{a.every(d=>d===0)&&t.every(d=>d.result.state.current._tag==="Pending"?!0:!!(d.result.state.current._tag==="Done"&&d0(d.result.state.current.effect)&&d.result.state.current.effect._tag==="Failure"&&mq(d.result.state.current.effect.cause)))&&(f.forEach(d=>d()),n==null||n(),s(Xq(o)))};o.addObserver(d=>{f.forEach(p=>p()),s(d)});const f=t.map((d,p)=>{const g=m=>{a[p]=m,c()};return d.listeners.addObserver(g),()=>d.listeners.removeObserver(g)});return c(),le(()=>{f.forEach(d=>d())})})),()=>rt(()=>{const o=t.flatMap(s=>s.state.completed?[]:[s]);return _p(o,s=>cH(s.request,TK(r)))}))),DH=hq,WH=Bu,UH="effect/ScheduleInterval",Oh=Symbol.for(UH),B$={[Oh]:Oh,startMillis:0,endMillis:0},j$=(e,t)=>e>t?B$:{[Oh]:Oh,startMillis:e,endMillis:t},zH=I(2,(e,t)=>qH(e,t)===e),qH=I(2,(e,t)=>e.endMillis<=t.startMillis?e:t.endMillis<=e.startMillis?t:e.startMillis<t.startMillis?e:t.startMillis<e.startMillis?t:e.endMillis<=t.endMillis?e:t),KH=e=>e.startMillis>=e.endMillis,VH=I(2,(e,t)=>{const n=Math.max(e.startMillis,t.startMillis),r=Math.min(e.endMillis,t.endMillis);return j$(n,r)}),HH=e=>j$(e,Number.POSITIVE_INFINITY),D$=B$,GH=zH,JH=KH,YH=VH,XH=HH,QH="effect/ScheduleIntervals",Ax=Symbol.for(QH),W$=e=>({[Ax]:Ax,intervals:e}),ZH=I(2,(e,t)=>eG(e.intervals,t.intervals,Tr())),eG=(e,t,n)=>{let r=e,o=t,s=n;for(;xi(r)&&xi(o);){const a=F(Do(r),YH(Do(o))),c=JH(a)?s:F(s,Vn(a));F(Do(r),GH(Do(o)))?r=_i(r):o=_i(o),s=c}return W$(Ei(s))},Av=e=>F(e.intervals,hI,bt(()=>D$)).startMillis,tG=e=>F(e.intervals,hI,bt(()=>D$)).endMillis,nG=I(2,(e,t)=>Av(e)<Av(t)),rG=e=>xi(e.intervals),oG=W$,iG=ZH,sG=Av,$x=tG,aG=nG,uG=rG,F0="Continue",U$="Done",cG=e=>({_tag:F0,intervals:e}),lG=e=>({_tag:F0,intervals:oG(or(e))}),fG={_tag:U$},dG=e=>e._tag===F0,hG=e=>e._tag===U$,pG=cG,gG=lG,cl=fG,Rx=dG,Ih=hG,mG=_K,yG=xp,vG=V4,_G=e=>t=>{const n=t===void 0?Object.create($l):vG(t);return n._tag=e,n},bG=()=>new Proxy({},{get(e,t,n){return t==="$is"?p_:t==="$match"?SG:_G(t)}});function SG(){if(arguments.length===1){const n=arguments[0];return function(r){return n[r._tag](r)}}const e=arguments[0];return arguments[1][e._tag](e)}const wG=function(){const e=Symbol.for("effect/Data/Error/plainArgs");return class extends l0{constructor(n){super(n==null?void 0:n.message,n!=null&&n.cause?{cause:n.cause}:void 0),n&&(Object.assign(this,n),Object.defineProperty(this,e,{value:n,enumerable:!1}))}toJSON(){return{...this[e],...this}}}}(),EG=e=>{class t extends wG{constructor(){super(...arguments);_(this,"_tag",e)}}return t.prototype.name=e,t},xG="effect/Schedule",z$=Symbol.for(xG),CG=e=>Ce(e,z$),TG="effect/ScheduleDriver",kG=Symbol.for(TG),OG={_Out:e=>e,_In:e=>e,_R:e=>e},IG={_Out:e=>e,_In:e=>e,_R:e=>e};var Sk;Sk=z$;class AG{constructor(t,n){_(this,"initial");_(this,"step");_(this,Sk,OG);this.initial=t,this.step=n}pipe(){return ve(this,arguments)}}var wk;wk=kG;class $G{constructor(t,n){_(this,"schedule");_(this,"ref");_(this,wk,IG);this.schedule=t,this.ref=n}get state(){return it(iy(this.ref),t=>t[1])}get last(){return ae(iy(this.ref),([t,n])=>{switch(t._tag){case"None":return e0(()=>new f0);case"Some":return xe(t.value)}})}get reset(){return dx(this.ref,[oe(),this.schedule.initial])}next(t){return F(it(iy(this.ref),n=>n[1]),ae(n=>F(r7,ae(r=>F(rt(()=>this.schedule.step(r,t,n)),ae(([o,s,a])=>{const c=dx(this.ref,[we(s),o]);if(Ih(a))return na(c,mn(oe()));const f=sG(a.intervals)-r;return f<=0?ea(c,s):F(c,na(D7(ah(f))),ea(s))}))))))}}const Jl=(e,t)=>new AG(e,t),RG=I(2,(e,t)=>B0(e,(n,r)=>le(()=>t(n,r)))),B0=I(2,(e,t)=>Jl(e.initial,(n,r,o)=>ae(e.step(n,r,o),([s,a,c])=>Ih(c)?xe([s,a,cl]):it(t(r,a),f=>f?[s,a,c]:[s,a,cl])))),PG=e=>F(R7([oe(),e.initial]),it(t=>new $G(e,t))),MG=I(2,(e,t)=>NG(e,t,iG)),NG=I(3,(e,t,n)=>Jl([e.initial,t.initial],(r,o,s)=>F(Yq(e.step(r,o,s[0]),t.step(r,o,s[1]),(a,c)=>[a,c]),ae(([[a,c,f],[d,p,g]])=>Rx(f)&&Rx(g)?$v(e,t,o,a,c,f.intervals,d,p,g.intervals,n):xe([[a,d],[c,p],cl]))))),$v=(e,t,n,r,o,s,a,c,f,d)=>{const p=d(s,f);return uG(p)?xe([[r,a],[o,c],pG(p)]):F(s,aG(f))?ae(e.step($x(s),n,r),([g,m,y])=>Ih(y)?xe([[g,a],[m,c],cl]):$v(e,t,n,g,m,y.intervals,a,c,f,d)):ae(t.step($x(f),n,a),([g,m,y])=>Ih(y)?xe([[r,g],[o,m],cl]):$v(e,t,n,r,o,s,g,m,y.intervals,d))},LG=I(2,(e,t)=>FG(e,n=>le(()=>t(n)))),FG=I(2,(e,t)=>Jl(e.initial,(n,r,o)=>ae(e.step(n,r,o),([s,a,c])=>it(t(a),f=>[s,f,c])))),BG=e=>Jl(e.initial,(t,n,r)=>F(e.step(t,n,r),it(([o,s,a])=>[o,n,a]))),jG=e=>zG(j0,t=>t<e),DG=(e,t)=>Jl(e,(n,r,o)=>le(()=>[t(o),o,gG(XH(n))])),WG=I(2,(e,t)=>B0(e,(n,r)=>j7(t(n)))),UG=I(2,(e,t)=>B0(e,(n,r)=>t(n))),zG=I(2,(e,t)=>RG(e,(n,r)=>t(r))),Fd=Symbol.for("effect/Schedule/ScheduleDefect");var Ek;Ek=Fd;class qG{constructor(t){_(this,"error");_(this,Ek);this.error=t,this[Fd]=Fd}}const KG=e=>Ce(e,Fd),Px=e=>sl(e,t=>gh(new qG(t))),VG=e=>Dq(e,t=>Ot(Y_(t,n=>pq(n)&&KG(n.defect)?we(n.defect):oe()),{onNone:()=>kr(t),onSome:n=>mn(n.error)})),Mx=I(2,(e,t)=>GG(e,t,(n,r)=>mn(n))),HG=I(2,(e,t)=>{if(CG(t))return Mx(e,t);const n=t.schedule??BG(j0),r=t.while?UG(n,a=>{const c=t.while(a);return typeof c=="boolean"?xe(c):Px(c)}):n,o=t.until?WG(r,a=>{const c=t.until(a);return typeof c=="boolean"?xe(c):Px(c)}):r,s=t.times?MG(o,jG(t.times)).pipe(LG(a=>a[0])):o;return VG(Mx(e,s))}),GG=I(3,(e,t,n)=>ae(PG(t),r=>ta(e,{onFailure:o=>n(o,oe()),onSuccess:o=>q$(e,r,n,o)}))),q$=(e,t,n,r)=>ta(t.next(r),{onFailure:()=>qq(t.last),onSuccess:o=>ta(e,{onFailure:s=>n(s,we(o)),onSuccess:s=>q$(e,t,n,s)})}),j0=DG(0,e=>e+1),D0=e=>(t,n)=>{const r=MI(),o=[[zl,[[r,e.context]]]];n!=null&&n.scheduler&&o.push([d$,[[r,n.scheduler]]]);let s=d7(e.fiberRefs,{entries:o,forkAs:r});n!=null&&n.updateRefs&&(s=n.updateRefs(s,r));const a=new N$(r,s,e.runtimeFlags);let c=t;n!=null&&n.scope&&(c=ae(yG(n.scope,e$),d=>na(vK(d,fA(p=>Ae(p,a.id())?no:yA(a,p))),r0(t,p=>mG(d,p)))));const f=a.currentSupervisor;return f!==Ap&&(f.onStart(e.context,c,oe(),a),a.addObserver(d=>f.onEnd(d,a))),R0.add(e.runtimeFlags,a),(n==null?void 0:n.immediate)===!1?a.resume(c):a.start(c),a},JG=e=>t=>{const n=ZG(e)(t);if(n._tag==="Failure")throw K$(n.effect_instruction_i0);return n.effect_instruction_i0};class YG extends Error{constructor(n){super(`Fiber #${n.id().id} cannot be resolved synchronously. This is caused by using runSync on an effect that performs async work`);_(this,"fiber");_(this,"_tag","AsyncFiberException");this.fiber=n,this.name=this._tag,this.stack=this.message}}const XG=e=>{const t=Error.stackTraceLimit;Error.stackTraceLimit=0;const n=new YG(e);return Error.stackTraceLimit=t,n},uy=Symbol.for("effect/Runtime/FiberFailure"),id=Symbol.for("effect/Runtime/FiberFailure/Cause");var xk,Ck;class QG extends Error{constructor(n){const r=oA(n)[0];super((r==null?void 0:r.message)||"An error has occurred");_(this,Ck);_(this,xk);this[uy]=uy,this[id]=n,this.name=r?`(FiberFailure) ${r.name}`:"FiberFailure",r!=null&&r.stack&&(this.stack=r.stack)}toJSON(){return{_id:"FiberFailure",cause:this[id].toJSON()}}toString(){return"(FiberFailure) "+Bu(this[id],{renderErrorCause:!0})}[(Ck=uy,xk=id,pt)](){return this.toString()}}const K$=e=>{const t=Error.stackTraceLimit;Error.stackTraceLimit=0;const n=new QG(e);return Error.stackTraceLimit=t,n},V$=e=>{const t=e;switch(t._op){case"Failure":case"Success":return t;case"Left":return JE(t.left);case"Right":return Wt(t.right);case"Some":return Wt(t.value);case"None":return JE(f0())}},ZG=e=>t=>{const n=V$(t);if(n)return n;const r=new f$,o=D0(e)(t,{scheduler:r});r.flush();const s=o.unsafePoll();return s||CK(Z_(XG(o),g0(o)))},eJ=e=>(t,n)=>tJ(e)(t,n).then(r=>{switch(r._tag){case eo:return r.effect_instruction_i0;case Zr:throw K$(r.effect_instruction_i0)}}),tJ=e=>(t,n)=>new Promise(r=>{const o=V$(t);o&&r(o);const s=D0(e)(t);s.addObserver(a=>{r(a)}),(n==null?void 0:n.signal)!==void 0&&(n.signal.aborted?s.unsafeInterruptAsFork(s.id()):n.signal.addEventListener("abort",()=>{s.unsafeInterruptAsFork(s.id())},{once:!0}))});class nJ{constructor(t,n,r){_(this,"context");_(this,"runtimeFlags");_(this,"fiberRefs");this.context=t,this.runtimeFlags=n,this.fiberRefs=r}pipe(){return ve(this,arguments)}}const rJ=e=>new nJ(e.context,e.runtimeFlags,e.fiberRefs),oJ=JI(Mu,HI,VI),W0=rJ({context:M_(),runtimeFlags:oJ,fiberRefs:h7()}),iJ=D0(W0),sJ=eJ(W0),aJ=JG(W0),uJ=vp,Vc=RH,sd=rt,zr=no,cJ=sl,Ah=it,lJ=n0,fJ=bp,Da=mh,Ao=ae,dJ=HG,hJ=iJ,pJ=sJ,$p=aJ,gJ="effect/QueueEnqueue",mJ=Symbol.for(gJ),yJ="effect/QueueDequeue",vJ=Symbol.for(yJ),_J="effect/QueueStrategy",bJ=Symbol.for(_J),SJ="effect/BackingQueue",wJ=Symbol.for(SJ),EJ={_A:e=>e},xJ={_A:e=>e},CJ={_In:e=>e},TJ={_Out:e=>e};var Tk,kk,Ok;class kJ extends(Ok=b0,kk=mJ,Tk=vJ,Ok){constructor(n,r,o,s,a){super();_(this,"queue");_(this,"takers");_(this,"shutdownHook");_(this,"shutdownFlag");_(this,"strategy");_(this,kk,CJ);_(this,Tk,TJ);this.queue=n,this.takers=r,this.shutdownHook=o,this.shutdownFlag=s,this.strategy=a}pipe(){return ve(this,arguments)}commit(){return this.take}capacity(){return this.queue.capacity()}get size(){return rt(()=>sl(this.unsafeSize(),()=>Os))}unsafeSize(){return gn(this.shutdownFlag)?oe():we(this.queue.length()-kA(this.takers)+this.strategy.surplusSize())}get isEmpty(){return it(this.size,n=>n<=0)}get isFull(){return it(this.size,n=>n>=this.capacity())}get shutdown(){return i0(Ln(n=>(F(this.shutdownFlag,Fl(!0)),F(rs(U0(this.takers),r=>$K(r,n.id()),!1,!1),na(this.strategy.shutdown),Jq(RK(this.shutdownHook,void 0)),ju))))}get isShutdown(){return le(()=>gn(this.shutdownFlag))}get awaitShutdown(){return yh(this.shutdownHook)}isActive(){return!gn(this.shutdownFlag)}unsafeOffer(n){if(gn(this.shutdownFlag))return!1;let r;if(this.queue.length()===0){const s=F(this.takers,al(Jr));s!==Jr?(Bd(s,n),r=!0):r=!1}else r=!1;if(r)return!0;const o=this.queue.offer(n);return ad(this.strategy,this.queue,this.takers),o}offer(n){return rt(()=>{if(gn(this.shutdownFlag))return Os;let r;if(this.queue.length()===0){const s=F(this.takers,al(Jr));s!==Jr?(Bd(s,n),r=!0):r=!1}else r=!1;if(r)return xe(!0);const o=this.queue.offer(n);return ad(this.strategy,this.queue,this.takers),o?xe(!0):this.strategy.handleSurplus([n],this.queue,this.takers,this.shutdownFlag)})}offerAll(n){return rt(()=>{if(gn(this.shutdownFlag))return Os;const r=wt(n),o=this.queue.length()===0?wt(FJ(this.takers,r.length)):Js,[s,a]=F(r,yO(o.length));for(let f=0;f<o.length;f++){const d=o[f],p=s[f];Bd(d,p)}if(a.length===0)return xe(!0);const c=this.queue.offerAll(a);return ad(this.strategy,this.queue,this.takers),dI(c)?xe(!0):this.strategy.handleSurplus(c,this.queue,this.takers,this.shutdownFlag)})}get take(){return Ln(n=>{if(gn(this.shutdownFlag))return Os;const r=this.queue.poll(Jr);if(r!==Jr)return this.strategy.unsafeOnQueueEmptySpace(this.queue,this.takers),xe(r);{const o=h0(n.id());return F(rt(()=>(F(this.takers,v0(o)),ad(this.strategy,this.queue,this.takers),gn(this.shutdownFlag)?Os:yh(o))),o0(()=>le(()=>BJ(this.takers,o))))}})}get takeAll(){return rt(()=>gn(this.shutdownFlag)?Os:le(()=>{const n=this.queue.pollUpTo(Number.POSITIVE_INFINITY);return this.strategy.unsafeOnQueueEmptySpace(this.queue,this.takers),sh(n)}))}takeUpTo(n){return rt(()=>gn(this.shutdownFlag)?Os:le(()=>{const r=this.queue.pollUpTo(n);return this.strategy.unsafeOnQueueEmptySpace(this.queue,this.takers),sh(r)}))}takeBetween(n,r){return rt(()=>H$(this,n,r,Tr()))}}const H$=(e,t,n,r)=>n<t?xe(r):F(MJ(e,n),ae(o=>{const s=t-o.length;return s===1?F(Rv(e),it(a=>F(r,nr(o),Hy(a)))):s>1?F(Rv(e),ae(a=>H$(e,s-1,n-o.length-1,F(r,nr(o),Hy(a))))):xe(F(r,nr(o)))})),OJ=()=>F(le(()=>TA()),ae(e=>AJ(RJ(e),NJ()))),IJ=(e,t,n,r,o)=>new kJ(e,t,n,r,o),AJ=(e,t)=>F(IK(),it(n=>IJ(e,TA(),n,pp(!1),t)));var Ik;Ik=wJ;class $J{constructor(t){_(this,"mutable");_(this,Ik,xJ);this.mutable=t}poll(t){return al(this.mutable,t)}pollUpTo(t){return _0(this.mutable,t)}offerAll(t){return OA(this.mutable,t)}offer(t){return v0(this.mutable,t)}capacity(){return ZK(this.mutable)}length(){return kA(this.mutable)}}const RJ=e=>new $J(e),PJ=I(2,(e,t)=>e.offer(t)),Rv=e=>e.take,MJ=I(2,(e,t)=>e.takeUpTo(t)),NJ=()=>new LJ;var Ak;Ak=bJ;class LJ{constructor(){_(this,Ak,EJ)}surplusSize(){return 0}get shutdown(){return no}onCompleteTakersWithEmptyQueue(){}handleSurplus(t,n,r,o){return xe(!1)}unsafeOnQueueEmptySpace(t,n){}}const Bd=(e,t)=>p0(e,xe(t)),G$=(e,t)=>F(e,OA(t)),U0=e=>F(e,_0(Number.POSITIVE_INFINITY)),FJ=(e,t)=>F(e,_0(t)),BJ=(e,t)=>{G$(e,F(U0(e),Sz(n=>t!==n)))},ad=(e,t,n)=>{let r=!0;for(;r&&t.length()!==0;){const o=F(n,al(Jr));if(o!==Jr){const s=t.poll(Jr);s!==Jr?(Bd(o,s),e.unsafeOnQueueEmptySpace(t,n)):G$(n,F(U0(n),Vn(o))),r=!0}else r=!1}r&&t.length()===0&&!QK(n)&&e.onCompleteTakersWithEmptyQueue(n)},jJ=OJ,DJ=PJ,WJ=Rv,UJ=j0;class kn{constructor(t,n,r){_(this,"path");_(this,"actual");_(this,"issue");_(this,"_tag","Pointer");this.path=t,this.actual=n,this.issue=r}}class Nx{constructor(t,n){_(this,"actual");_(this,"message");_(this,"_tag","Unexpected");this.actual=t,this.message=n}}class Oc{constructor(t,n){_(this,"ast");_(this,"message");_(this,"_tag","Missing");_(this,"actual");this.ast=t,this.message=n}}class Rt{constructor(t,n,r,o){_(this,"ast");_(this,"actual");_(this,"issues");_(this,"output");_(this,"_tag","Composite");this.ast=t,this.actual=n,this.issues=r,this.output=o}}class cy{constructor(t,n,r,o){_(this,"ast");_(this,"actual");_(this,"kind");_(this,"issue");_(this,"_tag","Refinement");this.ast=t,this.actual=n,this.kind=r,this.issue=o}}class ly{constructor(t,n,r,o){_(this,"ast");_(this,"actual");_(this,"kind");_(this,"issue");_(this,"_tag","Transformation");this.ast=t,this.actual=n,this.kind=r,this.issue=o}}class Fo{constructor(t,n,r){_(this,"ast");_(this,"actual");_(this,"message");_(this,"_tag","Type");this.ast=t,this.actual=n,this.message=r}}class Lx{constructor(t,n,r){_(this,"ast");_(this,"actual");_(this,"message");_(this,"_tag","Forbidden");this.ast=t,this.actual=n,this.message=r}}const Fx=Symbol.for("effect/Schema/ParseErrorTypeId");var $k;class zJ extends EG("ParseError"){constructor(){super(...arguments);_(this,$k,Fx)}get message(){return this.toString()}toString(){return jd.formatIssueSync(this.issue)}toJSON(){return{_id:"ParseError",message:this.toString()}}[($k=Fx,pt)](){return this.toJSON()}}const z0=e=>new zJ({issue:e}),$h=Te,J$=Se,Bx=cW,Rn=lW,_o=I(2,(e,t)=>Rn(e)?$u(e,{onLeft:Se,onRight:t}):Ao(e,t)),gr=I(2,(e,t)=>Rn(e)?dW(e,t):Ah(e,t)),fy=I(2,(e,t)=>Rn(e)?x_(e,t):fJ(e,t)),qJ=I(2,(e,t)=>Rn(e)?fW(e,{onLeft:t.onFailure,onRight:t.onSuccess}):lJ(e,t)),Y$=I(2,(e,t)=>Rn(e)?$u(e,{onLeft:t,onRight:Te}):cJ(e,t)),q0=(e,t)=>t===void 0||Hs(t)?e:e===void 0?t:{...e,...t},Rp=(e,t,n)=>{const r=pn(e,t);return(o,s)=>r(o,q0(n,s))},KJ=(e,t,n)=>{const r=Rp(e,t,n);return(o,s)=>aO(r(o,s),z0)},VJ=(e,t,n)=>{const r=Rp(e,t,n);return(o,s)=>yW(r(o,s))},X$=(e,t,n)=>{const r=pn(e,t);return(o,s)=>r(o,{...q0(n,s),isEffectAllowed:!0})},HJ=(e,t)=>Rp(e.ast,!0,t),GJ=(e,t)=>X$(e.ast,!0,t),JJ=(e,t)=>VJ(e.ast,!1,t),YJ=(e,t)=>Rp(e.ast,!1,t),XJ=(e,t)=>X$(e.ast,!1,t),QJ=(e,t)=>KJ(rn(e.ast),!0,t),ZJ=JJ,eY=De(Symbol.for("effect/ParseResult/decodeMemoMap"),()=>new WeakMap),tY=De(Symbol.for("effect/ParseResult/encodeMemoMap"),()=>new WeakMap),pn=(e,t)=>{const n=t?eY:tY,r=n.get(e);if(r)return r;const o=nY(e,t),s=lU(e),a=Nn(s)?(d,p)=>o(d,q0(p,s.value)):o,c=fU(e),f=t&&Nn(c)?(d,p)=>Nc(Y$(a(d,p),c.value),e,d,p):a;return n.set(e,f),f},dy=e=>mo(aU(e)),hy=e=>mo(uU(e)),nY=(e,t)=>{switch(e._tag){case"Refinement":if(t){const n=pn(e.from,!0);return(r,o)=>{o=o??Xm;const s=(o==null?void 0:o.errors)==="all",a=_o(Y$(n(r,o),c=>{const f=new cy(e,r,"From",c);return s&&hU(e)&&tR(c)?Ot(e.filter(r,o,e),{onNone:()=>Se(f),onSome:d=>Se(new Rt(e,r,[f,new cy(e,r,"Predicate",d)]))}):Se(f)}),c=>Ot(e.filter(c,o,e),{onNone:()=>Te(c),onSome:f=>Se(new cy(e,r,"Predicate",f))}));return Nc(a,e,r,o)}}else{const n=pn(rn(e),!0),r=pn(Q$(e.from),!1);return(o,s)=>Nc(_o(n(o,s),a=>r(a,s)),e,o,s)}case"Transformation":{const n=iY(e.transformation,t),r=t?pn(e.from,!0):pn(e.to,!1),o=t?pn(e.to,!0):pn(e.from,!1);return(s,a)=>Nc(_o(fy(r(s,a),c=>new ly(e,s,t?"Encoded":"Type",c)),c=>_o(fy(n(c,a??Xm,e,s),f=>new ly(e,s,"Transformation",f)),f=>fy(o(f,a),d=>new ly(e,s,t?"Type":"Encoded",d)))),e,s,a)}case"Declaration":{const n=t?e.decodeUnknown(...e.typeParameters):e.encodeUnknown(...e.typeParameters);return(r,o)=>Nc(n(r,o??Xm,e),e,r,o)}case"Literal":return pr(e,n=>n===e.literal);case"UniqueSymbol":return pr(e,n=>n===e.symbol);case"UndefinedKeyword":return pr(e,TD);case"NeverKeyword":return pr(e,kD);case"UnknownKeyword":case"AnyKeyword":case"VoidKeyword":return Te;case"StringKeyword":return pr(e,Vo);case"NumberKeyword":return pr(e,Hs);case"BooleanKeyword":return pr(e,d_);case"BigIntKeyword":return pr(e,Zh);case"SymbolKeyword":return pr(e,Wy);case"ObjectKeyword":return pr(e,ps);case"Enums":return pr(e,n=>e.enums.some(([r,o])=>o===n));case"TemplateLiteral":{const n=KU(e);return pr(e,r=>Vo(r)&&n.test(r))}case"TupleType":{const n=e.elements.map(d=>pn(d.type,t)),r=e.rest.map(d=>pn(d.type,t));let o=e.elements.filter(d=>!d.isOptional);e.rest.length>0&&(o=o.concat(e.rest.slice(1)));const s=o.length,a=e.elements.length>0?e.elements.map((d,p)=>p).join(" | "):"never",c=dy(e),f=hy(e);return(d,p)=>{if(!$W(d))return Se(new Fo(e,d));const g=(p==null?void 0:p.errors)==="all",m=[];let y=0;const b=[],x=d.length;for(let N=x;N<=s-1;N++){const R=new kn(N,d,new Oc(o[N-x]));if(g){m.push([y++,R]);continue}else return Se(new Rt(e,d,R,b))}if(e.rest.length===0)for(let N=e.elements.length;N<=x-1;N++){const R=new kn(N,d,new Nx(d[N],`is unexpected, expected: ${a}`));if(g){m.push([y++,R]);continue}else return Se(new Rt(e,d,R,b))}let T=0,k;for(;T<n.length;T++)if(x<T+1){if(e.elements[T].isOptional)continue}else{const N=n[T],R=N(d[T],p);if(Rn(R)){if(nn(R)){const W=new kn(T,d,R.left);if(g){m.push([y++,W]);continue}else return Se(new Rt(e,d,W,po(b)))}b.push([y++,R.right])}else{const W=y++,j=T;k||(k=[]),k.push(({es:A,output:U})=>Ao(Da(R),K=>{if(nn(K)){const S=new kn(j,d,K.left);return g?(A.push([W,S]),zr):Se(new Rt(e,d,S,po(U)))}return U.push([W,K.right]),zr}))}}if(on(r)){const[N,...R]=r;for(;T<x-R.length;T++){const W=N(d[T],p);if(Rn(W))if(nn(W)){const j=new kn(T,d,W.left);if(g){m.push([y++,j]);continue}else return Se(new Rt(e,d,j,po(b)))}else b.push([y++,W.right]);else{const j=y++,A=T;k||(k=[]),k.push(({es:U,output:K})=>Ao(Da(W),S=>{if(nn(S)){const M=new kn(A,d,S.left);return g?(U.push([j,M]),zr):Se(new Rt(e,d,M,po(K)))}else return K.push([j,S.right]),zr}))}}for(let W=0;W<R.length;W++)if(T+=W,!(x<T+1)){const j=R[W](d[T],p);if(Rn(j)){if(nn(j)){const A=new kn(T,d,j.left);if(g){m.push([y++,A]);continue}else return Se(new Rt(e,d,A,po(b)))}b.push([y++,j.right])}else{const A=y++,U=T;k||(k=[]),k.push(({es:K,output:S})=>Ao(Da(j),M=>{if(nn(M)){const D=new kn(U,d,M.left);return g?(K.push([A,D]),zr):Se(new Rt(e,d,D,po(S)))}return S.push([A,M.right]),zr}))}}}const L=({es:N,output:R})=>Od(N)?Se(new Rt(e,d,po(N),po(R))):Te(po(R));if(k&&k.length>0){const N=k;return sd(()=>{const R={es:Pc(m),output:Pc(b)};return Ao(Vc(N,W=>W(R),{concurrency:c,batching:f,discard:!0}),()=>L(R))})}return L({output:b,es:m})}}case"TypeLiteral":{if(e.propertySignatures.length===0&&e.indexSignatures.length===0)return pr(e,OD);const n=[],r={},o=[];for(const p of e.propertySignatures)n.push([pn(p.type,t),p]),r[p.name]=null,o.push(p.name);const s=e.indexSignatures.map(p=>[pn(p.parameter,t),pn(p.type,t),p.parameter]),a=Po.make(e.indexSignatures.map(p=>p.parameter).concat(o.map(p=>Wy(p)?new yU(p):new qy(p)))),c=pn(a,t),f=dy(e),d=hy(e);return(p,g)=>{if(!AD(p))return Se(new Fo(e,p));const m=(g==null?void 0:g.errors)==="all",y=[];let b=0;const x=(g==null?void 0:g.onExcessProperty)==="error",T=(g==null?void 0:g.onExcessProperty)==="preserve",k={};let L;if(x||T){L=Za(p);for(const j of L){const A=c(j,g);if(Rn(A)&&nn(A))if(x){const U=new kn(j,p,new Nx(p[j],`is unexpected, expected: ${String(a)}`));if(m){y.push([b++,U]);continue}else return Se(new Rt(e,p,U,k))}else k[j]=p[j]}}let N;const R=(g==null?void 0:g.exact)===!0;for(let j=0;j<n.length;j++){const A=n[j][1],U=A.name,K=Object.prototype.hasOwnProperty.call(p,U);if(!K){if(A.isOptional)continue;if(R){const D=new kn(U,p,new Oc(A));if(m){y.push([b++,D]);continue}else return Se(new Rt(e,p,D,k))}}const S=n[j][0],M=S(p[U],g);if(Rn(M)){if(nn(M)){const D=new kn(U,p,K?M.left:new Oc(A));if(m){y.push([b++,D]);continue}else return Se(new Rt(e,p,D,k))}k[U]=M.right}else{const D=b++,X=U;N||(N=[]),N.push(({es:re,output:_e})=>Ao(Da(M),ye=>{if(nn(ye)){const ie=new kn(X,p,K?ye.left:new Oc(A));return m?(re.push([D,ie]),zr):Se(new Rt(e,p,ie,_e))}return _e[X]=ye.right,zr}))}}for(let j=0;j<s.length;j++){const A=s[j],U=A[0],K=A[1],S=wO(p,A[2]);for(const M of S){const D=U(M,g);if(Rn(D)&&vi(D)){const X=K(p[M],g);if(Rn(X))if(nn(X)){const re=new kn(M,p,X.left);if(m){y.push([b++,re]);continue}else return Se(new Rt(e,p,re,k))}else Object.prototype.hasOwnProperty.call(r,M)||(k[M]=X.right);else{const re=b++,_e=M;N||(N=[]),N.push(({es:ye,output:ie})=>Ao(Da(X),ce=>{if(nn(ce)){const Le=new kn(_e,p,ce.left);return m?(ye.push([re,Le]),zr):Se(new Rt(e,p,Le,ie))}else return Object.prototype.hasOwnProperty.call(r,M)||(ie[M]=ce.right),zr}))}}}}const W=({es:j,output:A})=>{if(Od(j))return Se(new Rt(e,p,po(j),A));if((g==null?void 0:g.propertyOrder)==="original"){const U=L||Za(p);for(const S of o)U.indexOf(S)===-1&&U.push(S);const K={};for(const S of U)Object.prototype.hasOwnProperty.call(A,S)&&(K[S]=A[S]);return Te(K)}return Te(A)};if(N&&N.length>0){const j=N;return sd(()=>{const A={es:Pc(y),output:Object.assign({},k)};return Ao(Vc(j,U=>U(A),{concurrency:f,batching:d,discard:!0}),()=>W(A))})}return W({es:y,output:k})}}case"Union":{const n=rY(e.types,t),r=Za(n.keys),o=r.length,s=e.types.length,a=new Map;for(let d=0;d<s;d++)a.set(e.types[d],pn(e.types[d],t));const c=dy(e)??1,f=hy(e);return(d,p)=>{const g=[];let m=0,y=[];if(o>0)if(h_(d))for(let T=0;T<o;T++){const k=r[T],L=n.keys[k].buckets;if(Object.prototype.hasOwnProperty.call(d,k)){const N=String(d[k]);if(Object.prototype.hasOwnProperty.call(L,N))y=y.concat(L[N]);else{const{candidates:R,literals:W}=n.keys[k],j=Po.make(W),A=R.length===s?new Ws([new $n(k,j,!1,!0)],[]):Po.make(R);g.push([m++,new Rt(A,d,new kn(k,d,new Fo(j,d[k])))])}}else{const{candidates:N,literals:R}=n.keys[k],W=new $n(k,Po.make(R),!1,!0),j=N.length===s?new Ws([W],[]):Po.make(N);g.push([m++,new Rt(j,d,new kn(k,d,new Oc(W)))])}}else{const T=n.candidates.length===s?e:Po.make(n.candidates);g.push([m++,new Fo(T,d)])}n.otherwise.length>0&&(y=y.concat(n.otherwise));let b;for(let T=0;T<y.length;T++){const k=y[T],L=a.get(k)(d,p);if(Rn(L)&&(!b||b.length===0)){if(vi(L))return L;g.push([m++,L.left])}else{const N=m++;b||(b=[]),b.push(R=>sd(()=>"finalResult"in R?zr:Ao(Da(L),W=>(vi(W)?R.finalResult=W:R.es.push([N,W.left]),zr))))}}const x=T=>Od(T)?T.length===1&&T[0][1]._tag==="Type"?Se(T[0][1]):Se(new Rt(e,d,po(T))):Se(new Fo(e,d));if(b&&b.length>0){const T=b;return sd(()=>{const k={es:Pc(g)};return Ao(Vc(T,L=>L(k),{concurrency:c,batching:f,discard:!0}),()=>"finalResult"in k?k.finalResult:x(k.es))})}return x(g)}}case"Suspend":{const n=EO(()=>pn(uu(e.f(),e.annotations),t));return(r,o)=>n()(r,o)}}},pr=(e,t)=>n=>t(n)?Te(n):Se(new Fo(e,n)),Mc=(e,t)=>{switch(e._tag){case"Declaration":{const n=WO(e);if(Nn(n))return Mc(n.value,t);break}case"TypeLiteral":{const n=[];for(let r=0;r<e.propertySignatures.length;r++){const o=e.propertySignatures[r],s=t?CE(o.type):rn(o.type);wE(s)&&!o.isOptional&&n.push([o.name,s])}return n}case"TupleType":{const n=[];for(let r=0;r<e.elements.length;r++){const o=e.elements[r],s=t?CE(o.type):rn(o.type);wE(s)&&!o.isOptional&&n.push([r,s])}return n}case"Refinement":return Mc(e.from,t);case"Suspend":return Mc(e.f(),t);case"Transformation":return Mc(t?e.from:e.to,t)}return[]},rY=(e,t)=>{const n={},r=[],o=[];for(let s=0;s<e.length;s++){const a=e[s],c=Mc(a,t);if(c.length>0){o.push(a);for(let f=0;f<c.length;f++){const[d,p]=c[f],g=String(p.literal);n[d]=n[d]||{buckets:{},literals:[],candidates:[]};const m=n[d].buckets;if(Object.prototype.hasOwnProperty.call(m,g)){if(f<c.length-1)continue;m[g].push(a),n[d].literals.push(p),n[d].candidates.push(a)}else{m[g]=[a],n[d].literals.push(p),n[d].candidates.push(a);break}}}else r.push(a)}return{keys:n,otherwise:r,candidates:o}},Q$=e=>$_(e)?Q$(e.from):e,Nc=(e,t,n,r)=>{if((r==null?void 0:r.isEffectAllowed)===!0||Rn(e))return e;const o=new f$,s=hJ(e,{scheduler:o});o.flush();const a=s.unsafePoll();if(a){if(BK(a))return Te(a.value);const c=a.cause;return DH(c)?Se(c.error):Se(new Lx(t,n,WH(c)))}return Se(new Lx(t,n,"cannot be be resolved synchronously, this is caused by using runSync on an effect that performs async work"))},oY=([e],[t])=>e>t?1:e<t?-1:0;function po(e){return e.sort(oY).map(t=>t[1])}const iY=(e,t)=>{switch(e._tag){case"FinalTransformation":return t?e.decode:e.encode;case"ComposeTransformation":return Te;case"TypeLiteralTransformation":return n=>{let r=Te(n);for(const o of e.propertySignatureTransformations){const[s,a]=t?[o.from,o.to]:[o.to,o.from],c=t?o.decode:o.encode;r=gr(r,d=>{const p=c(Object.prototype.hasOwnProperty.call(d,s)?we(d[s]):oe());return delete d[s],Nn(p)&&(d[a]=p.value),d})}return r}}},zn=(e,t=[])=>({value:e,forest:t}),jd={formatIssue:e=>gr(Ga(e),sY),formatIssueSync:e=>{const t=jd.formatIssue(e);return Rn(t)?uO(t):$p(t)},formatError:e=>jd.formatIssue(e.issue),formatErrorSync:e=>jd.formatIssueSync(e.issue)},sY=e=>e.value+Z$(`
`,e.forest),Z$=(e,t)=>{let n="";const r=t.length;let o;for(let s=0;s<r;s++){o=t[s];const a=s===r-1;n+=e+(a?"└":"├")+"─ "+o.value,n+=Z$(e+(r>1&&!a?"│  ":"   "),o.forest)}return n},aY=e=>{switch(e){case"Encoded":return"Encoded side transformation failure";case"Transformation":return"Transformation process failure";case"Type":return"Type side transformation failure"}},uY=e=>{switch(e){case"From":return"From side refinement failure";case"Predicate":return"Predicate refinement failure"}},eR=e=>"ast"in e?we(e.ast):oe(),Pv=Te(void 0),cY=e=>eR(e).pipe(ss(iU),Ot({onNone:()=>Pv,onSome:t=>{const n=t(e);return Vo(n)?Te({message:n,override:!1}):uJ(n)?Ah(n,r=>({message:r,override:!1})):Vo(n.message)?Te({message:n.message,override:n.override}):Ah(n.message,r=>({message:r,override:n.override}))}})),K0=e=>t=>t._tag===e,tR=K0("Composite"),jx=K0("Refinement"),Dx=K0("Transformation"),os=e=>_o(cY(e),t=>t!==void 0?!t.override&&(tR(e)||jx(e)&&e.kind==="From"||Dx(e)&&e.kind!=="Transformation")?Dx(e)||jx(e)?os(e.issue):Pv:Te(t.message):Pv),nR=e=>eR(e).pipe(ss(cU),bW(t=>t(e)),mo);function lY(e){return DO(e).pipe(ns(()=>BO(e)),ns(()=>jO(e)),ns(()=>op(e)),bt(()=>`{ ${e.from} | filter }`))}function fY(e){return e.message!==void 0?e.message:`Expected ${$_(e.ast)?lY(e.ast):String(e.ast)}, actual ${Uo(e.actual)}`}const rR=e=>gr(os(e),t=>t??nR(e)??fY(e)),ud=e=>nR(e)??String(e.ast),oR=e=>e.message??"is forbidden",iR=e=>e.message??"is unexpected",sR=e=>{const t=sU(e.ast);if(Nn(t)){const n=t.value();return Vo(n)?Te(n):n}return Te(e.message??"is missing")},Ga=e=>{switch(e._tag){case"Type":return gr(rR(e),zn);case"Forbidden":return Te(zn(ud(e),[zn(oR(e))]));case"Unexpected":return Te(zn(iR(e)));case"Missing":return gr(sR(e),zn);case"Transformation":return _o(os(e),t=>t!==void 0?Te(zn(t)):gr(Ga(e.issue),n=>zn(ud(e),[zn(aY(e.kind),[n])])));case"Refinement":return _o(os(e),t=>t!==void 0?Te(zn(t)):gr(Ga(e.issue),n=>zn(ud(e),[zn(uY(e.kind),[n])])));case"Pointer":return gr(Ga(e.issue),t=>zn(GW(e.path),[t]));case"Composite":return _o(os(e),t=>{if(t!==void 0)return Te(zn(t));const n=ud(e);return T_(e.issues)?gr(Vc(e.issues,Ga),r=>zn(n,r)):gr(Ga(e.issues),r=>zn(n,[r]))})}},As=(e,t,n)=>({_tag:e,path:t,message:n}),Dd={formatIssue:e=>Ja(e,void 0,[]),formatIssueSync:e=>{const t=Dd.formatIssue(e);return Rn(t)?uO(t):$p(t)},formatError:e=>Dd.formatIssue(e.issue),formatErrorSync:e=>Dd.formatIssueSync(e.issue)},Ja=(e,t,n)=>{const r=e._tag;switch(r){case"Type":return gr(rR(e),o=>[As(t??r,n,o)]);case"Forbidden":return Te([As(r,n,oR(e))]);case"Unexpected":return Te([As(r,n,iR(e))]);case"Missing":return gr(sR(e),o=>[As(r,n,o)]);case"Pointer":return Ja(e.issue,void 0,n.concat(e.path));case"Composite":return _o(os(e),o=>o!==void 0?Te([As(r,n,o)]):T_(e.issues)?gr(Vc(e.issues,s=>Ja(s,void 0,n)),_O):Ja(e.issues,void 0,n));case"Refinement":return _o(os(e),o=>o!==void 0?Te([As(r,n,o)]):Ja(e.issue,e.kind==="Predicate"?r:void 0,n));case"Transformation":return _o(os(e),o=>o!==void 0?Te([As(r,n,o)]):Ja(e.issue,e.kind==="Transformation"?r:void 0,n))}},dY=I(e=>ps(e[0]),(e,...t)=>{const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}),hY=I(e=>ps(e[0]),(e,...t)=>{const n={...e};for(const r of t)delete n[r];return n}),ll=Symbol.for("effect/Schema");function Sn(e){var t,n,r;return n=ll,t=ll,r=class{constructor(){_(this,n,Wx)}static annotations(s){return Sn(gs(this.ast,s))}static pipe(){return ve(this,arguments)}static toString(){return String(e)}},_(r,"ast",e),_(r,"Type"),_(r,"Encoded"),_(r,"Context"),_(r,t,Wx),r}const Wx={_A:e=>e,_I:e=>e,_R:e=>e},Ux={schemaId:tU,message:xO,missingMessage:k_,identifier:CO,title:$i,description:Pl,examples:TO,default:kO,documentation:nU,jsonSchema:OO,arbitrary:IO,pretty:AO,equivalence:$O,concurrency:RO,batching:PO,parseIssueTitle:MO,parseOptions:NO,decodingFallback:LO},Yl=e=>{if(!e)return{};const t={...e};for(const n in Ux)if(n in e){const r=Ux[n];t[r]=e[n],delete t[n]}return t},gs=(e,t)=>uu(e,Yl(t));const V0=e=>String(e.ast),pY=e=>Sn(rn(e.ast)),gY=(e,t)=>{const n=YJ(e,t);return(r,o)=>x_(n(r,o),z0)},mY=gY,H0=(e,t)=>{const n=HJ(e,t);return(r,o)=>x_(n(r,o),z0)},cs=e=>Ce(e,ll)&&ps(e[ll]);function yY(e){return A_(e)?Po.make(NU(e,t=>new qy(t))):new qy(e[0])}function aR(e,t=yY(e)){var n;return n=class extends Sn(t){static annotations(o){return aR(this.literals,gs(this.ast,o))}},_(n,"literals",[...e]),n}function Qt(...e){return on(e)?aR(e):uR}const vY=(e,t,n)=>G0(e,new ip(e.map(r=>r.ast),(...r)=>t.decode(...r.map(Sn)),(...r)=>t.encode(...r.map(Sn)),Yl(n))),_Y=(e,t)=>{const n=()=>(o,s,a)=>e(o)?$h(o):J$(new Fo(a,o)),r=n;return G0([],new ip([],n,r,Yl(t)))};function G0(e,t){var n;return n=class extends Sn(t){static annotations(o){return G0(this.typeParameters,gs(this.ast,o))}},_(n,"typeParameters",[...e]),n}const bY=function(){if(Array.isArray(arguments[0])){const n=arguments[0],r=arguments[1],o=arguments[2];return vY(n,r,o)}const e=arguments[0],t=arguments[1];return _Y(e,t)};class SY extends Sn(Ky){}class uR extends Sn(O_){}class wY extends Sn(zO){}class J0 extends Sn(qO){}class yt extends Sn(EU){}class Lt extends Sn(TU){}class Pp extends Sn(OU){}const EY=e=>Po.make(e.map(t=>t.ast));function cR(e,t=EY(e)){var n;return n=class extends Sn(t){static annotations(o){return cR(this.members,gs(this.ast,o))}},_(n,"members",[...e]),n}function Pi(...e){return A_(e)?cR(e):on(e)?e[0]:uR}const xY=e=>Pi(e,SY),CY=(e,t)=>new I_(e.map(n=>cs(n)?new ca(n.ast,!1):n.ast),t.map(n=>cs(n)?new sp(n.ast):n.ast),!0);function lR(e,t,n=CY(e,t)){var r;return r=class extends Sn(n){static annotations(s){return lR(this.elements,this.rest,gs(this.ast,s))}},_(r,"elements",[...e]),_(r,"rest",[...t]),r}function fR(e,t){var n;return n=class extends lR([],[e],t){static annotations(o){return fR(this.value,gs(this.ast,o))}},_(n,"value",e),n}const Jo=e=>fR(e),Mv=e=>e?'"?:"':'":"';class Mp extends ca{constructor(n,r,o,s,a){super(n,r,s);_(this,"isReadonly");_(this,"defaultValue");_(this,"_tag","PropertySignatureDeclaration");this.isReadonly=o,this.defaultValue=a}toString(){const n=Mv(this.isOptional),r=String(this.type);return`PropertySignature<${n}, ${r}, never, ${n}, ${r}>`}}class TY extends ca{constructor(n,r,o,s,a){super(n,r,s);_(this,"isReadonly");_(this,"fromKey");this.isReadonly=o,this.fromKey=a}}class dR extends ca{constructor(n,r,o,s,a){super(n,r,s);_(this,"isReadonly");_(this,"defaultValue");this.isReadonly=o,this.defaultValue=a}}const kY=e=>e===void 0?"never":Vo(e)?JSON.stringify(e):String(e);class hR{constructor(t,n,r,o){_(this,"from");_(this,"to");_(this,"decode");_(this,"encode");_(this,"_tag","PropertySignatureTransformation");this.from=t,this.to=n,this.decode=r,this.encode=o}toString(){return`PropertySignature<${Mv(this.to.isOptional)}, ${this.to.type}, ${kY(this.from.fromKey)}, ${Mv(this.from.isOptional)}, ${this.from.type}>`}}const pR=(e,t)=>{switch(e._tag){case"PropertySignatureDeclaration":return new Mp(e.type,e.isOptional,e.isReadonly,{...e.annotations,...t},e.defaultValue);case"PropertySignatureTransformation":return new hR(new TY(e.from.type,e.from.isOptional,e.from.isReadonly,e.from.annotations),new dR(e.to.type,e.to.isOptional,e.to.isReadonly,{...e.to.annotations,...t},e.to.defaultValue),e.decode,e.encode)}},gR=Symbol.for("effect/PropertySignature"),mR=e=>Ce(e,gR);var Rk,Pk;Pk=ll,Rk=gR;const IS=class IS{constructor(t){_(this,"ast");_(this,Pk);_(this,Rk,null);_(this,"_TypeToken");_(this,"_Key");_(this,"_EncodedToken");_(this,"_HasDefault");this.ast=t}pipe(){return ve(this,arguments)}annotations(t){return new IS(pR(this.ast,Yl(t)))}toString(){return String(this.ast)}};let Rh=IS;const zx=e=>new Rh(e);class Np extends Rh{constructor(n,r){super(n);_(this,"from");this.from=r}annotations(n){return new Np(pR(this.ast,Yl(n)),this.from)}}const OY=e=>new Np(new Mp(e.ast,!1,!0,{},void 0),e),IY=I(2,(e,t)=>{const n=e.ast;switch(n._tag){case"PropertySignatureDeclaration":return zx(new Mp(n.type,n.isOptional,n.isReadonly,n.annotations,t));case"PropertySignatureTransformation":return zx(new hR(n.from,new dR(n.to.type,n.to.isOptional,n.to.isReadonly,n.to.annotations,t),n.decode,n.encode))}}),Er=e=>{const t=e.ast===Ky||e.ast===O_?Ky:xY(e).ast;return new Np(new Mp(t,!0,!0,{},void 0),e)},AY=QO([k_]),$Y=(e,t)=>{const n=Za(e),r=[];if(n.length>0){const s=[],a=[],c=[];for(let f=0;f<n.length;f++){const d=n[f],p=e[d];if(mR(p)){const g=p.ast;switch(g._tag){case"PropertySignatureDeclaration":{const m=g.type,y=g.isOptional,b=g.annotations;s.push(new $n(d,m,y,!0,AY(g))),a.push(new $n(d,rn(m),y,!0,b)),r.push(new $n(d,m,y,!0,b));break}case"PropertySignatureTransformation":{const m=g.from.fromKey??d;s.push(new $n(m,g.from.type,g.from.isOptional,!0,g.from.annotations)),a.push(new $n(d,g.to.type,g.to.isOptional,!0,g.to.annotations)),c.push(new DU(m,d,g.decode,g.encode));break}}}else s.push(new $n(d,p.ast,!1,!0)),a.push(new $n(d,rn(p.ast),!1,!0)),r.push(new $n(d,p.ast,!1,!0))}if(on(c)){const f=[],d=[];for(const p of t){const{indexSignatures:g,propertySignatures:m}=xE(p.key.ast,p.value.ast);m.forEach(y=>{s.push(y),a.push(new $n(y.name,rn(y.type),y.isOptional,y.isReadonly,y.annotations))}),g.forEach(y=>{f.push(y),d.push(new ap(y.parameter,rn(y.type),y.isReadonly))})}return new R_(new Ws(s,f,{[zy]:"Struct (Encoded side)"}),new Ws(a,d,{[zy]:"Struct (Type side)"}),new WU(c))}}const o=[];for(const s of t){const{indexSignatures:a,propertySignatures:c}=xE(s.key.ast,s.value.ast);c.forEach(f=>r.push(f)),a.forEach(f=>o.push(f))}return new Ws(r,o)},RY=(e,t)=>{const n=Za(e);for(const r of n){const o=e[r];if(t[r]===void 0&&mR(o)){const s=o.ast,a=s._tag==="PropertySignatureDeclaration"?s.defaultValue:s.to.defaultValue;a!==void 0&&(t[r]=a())}}return t};function yR(e,t,n=$Y(e,t)){var r;return r=class extends Sn(n){static annotations(s){return yR(this.fields,this.records,gs(this.ast,s))}static pick(...s){return ue(dY(e,...s))}static omit(...s){return ue(hY(e,...s))}},_(r,"fields",{...e}),_(r,"records",[...t]),_(r,"make",(s,a)=>{const c=RY(e,{...s});return KY(a)?c:QJ(r)(c)}),r}function ue(e,...t){return yR(e,t)}const PY=e=>Qt(e).pipe(OY,IY(()=>e)),Pn=(e,t)=>ue({_tag:PY(e),...t}),MY=I(e=>cs(e[1]),(e,t)=>Y0(e,t,HU(e.ast,t.ast)));function Y0(e,t,n){var r;return r=class extends Sn(n){static annotations(s){return Y0(this.from,this.to,gs(this.ast,s))}},_(r,"from",e),_(r,"to",t),r}const vR=I(e=>cs(e[0])&&cs(e[1]),(e,t,n)=>Y0(e,t,new R_(e.ast,t.ast,new FU(n.decode,n.encode)))),_R=I(e=>cs(e[0])&&cs(e[1]),(e,t,n)=>vR(e,t,{strict:!0,decode:(r,o,s,a)=>$h(n.decode(r,a)),encode:(r,o,s,a)=>$h(n.encode(r,a))})),qx=e=>e instanceof Error?e.message:String(e),NY=e=>vR(yt.annotations({description:"a string to be decoded into JSON"}),wY,{strict:!0,decode:(t,n,r)=>Bx({try:()=>JSON.parse(t,e==null?void 0:e.reviver),catch:o=>new Fo(r,t,qx(o))}),encode:(t,n,r)=>Bx({try:()=>JSON.stringify(t,e==null?void 0:e.replacer,e==null?void 0:e.space),catch:o=>new Fo(r,t,qx(o))})}).annotations({title:"parseJson",schemaId:mU}),X0=(e,t)=>cs(e)?MY(X0(t),e):NY(e),LY=(e,t,n,r)=>qJ(e,{onFailure:o=>new Rt(n,r,o),onSuccess:t}),FY=ue({_tag:Qt("None")}).annotations({description:"NoneEncoded"}),BY=e=>ue({_tag:Qt("Some"),value:e}).annotations({description:`SomeEncoded<${V0(e)}>`}),jY=e=>Pi(FY,BY(e)).annotations({description:`OptionEncoded<${V0(e)}>`}),bR=e=>e._tag==="None"?oe():we(e.value),DY=(e,t)=>n=>n.oneof(t,n.record({_tag:n.constant("None")}),n.record({_tag:n.constant("Some"),value:e(n)})).map(bR),WY=e=>Ot({onNone:()=>"none()",onSome:t=>`some(${e(t)})`}),Kx=e=>(t,n,r)=>mW(t)?Nt(t)?$h(oe()):LY(e(t.value,n),we,r,t):J$(new Fo(r,t)),UY=e=>bY([e],{decode:t=>Kx(GJ(t)),encode:t=>Kx(XJ(t))},{description:`Option<${V0(e)}>`,pretty:WY,arbitrary:DY,equivalence:SW}),zY={_tag:"None"},qY=e=>({_tag:"Some",value:e});function Vx(e){const t=e;return _R(jY(t),UY(pY(t)),{strict:!0,decode:r=>bR(r),encode:r=>Ot(r,{onNone:()=>zY,onSome:qY})})}function KY(e){return d_(e)?e:(e==null?void 0:e.disableValidation)??!1}const VY=ue({widgets:Jo(J0)}),HY={Schema:VY},hn=[];for(let e=0;e<256;++e)hn.push((e+256).toString(16).slice(1));function GY(e,t=0){return(hn[e[t+0]]+hn[e[t+1]]+hn[e[t+2]]+hn[e[t+3]]+"-"+hn[e[t+4]]+hn[e[t+5]]+"-"+hn[e[t+6]]+hn[e[t+7]]+"-"+hn[e[t+8]]+hn[e[t+9]]+"-"+hn[e[t+10]]+hn[e[t+11]]+hn[e[t+12]]+hn[e[t+13]]+hn[e[t+14]]+hn[e[t+15]]).toLowerCase()}let py;const JY=new Uint8Array(16);function YY(){if(!py){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");py=crypto.getRandomValues.bind(crypto)}return py(JY)}const XY=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var Hx={randomUUID:XY};function SR(e,t,n){var o;if(Hx.randomUUID&&!e)return Hx.randomUUID();e=e||{};const r=e.random??((o=e.rng)==null?void 0:o.call(e))??YY();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,GY(r)}const Q0=e=>Dd.formatErrorSync(e).map(t=>`${t.path.join(".")} ${t.message}`).join(`
`),QY=e=>$u(H0(e.schema,{errors:"all"})(e.raw),{onRight:e.ok,onLeft:t=>e.error(Q0(t))}),ZY=e=>$u(H0(X0(e.schema),{errors:"all"})(e.str),{onRight:e.ok,onLeft:t=>e.error(Q0(t))}),eX=(e,t)=>$u(mY(e)(t),{onRight:n=>JSON.stringify(n,null,2),onLeft:n=>(console.error("Error encoding",Q0(n)),`Error encoding ${n}`)}),Ph={decodeUnknown:QY,decodeString:ZY,encode:eX},ha=ue({channel:Lt}),tX=ue({type:Qt("sysex"),manufacturer:Lt,body:Jo(Lt)}),nX=ue({type:Qt("noteon"),note:Lt,velocity:Lt,...ha.fields}),rX=ue({type:Qt("noteoff"),note:Lt,velocity:Lt,...ha.fields}),oX=ue({type:Qt("cc"),controllerNumber:Lt,data:Lt,...ha.fields}),iX=ue({type:Qt("pc"),programNumber:Lt,...ha.fields}),sX=ue({type:Qt("clock")}),aX=ue({type:Qt("measureend")}),uX=ue({type:Qt("start")}),cX=ue({type:Qt("continue")}),lX=ue({type:Qt("stop")}),fX=ue({type:Qt("reset")}),dX=ue({type:Qt("activesensing")}),hX=ue({type:Qt("mtcquarterframe"),data:Lt}),pX=ue({type:Qt("unknown")}),gX=ue({type:Qt("error"),message:yt}),mX=Pi(tX,nX,rX,oX,iX,sX,aX,uX,cX,lX,fX,dX,hX,pX,gX),wR=(e,t)=>{const n=[...t];return Q.forEach(e,(r,o)=>{n.push(e.charCodeAt(o))}),n},Z0=(e,t=0)=>({type:"sysex",manufacturer:t,body:e}),yX=(e,t=[],n=0)=>Z0(wR(JSON.stringify(e),t),n),vX=(e,t,n=[],r=0)=>Z0(wR(Ot(ZJ(t)(e),{onSome:o=>JSON.stringify(o),onNone:()=>"Error encoding schema sysex"}),n),r),_X=e=>{const t=[];return Q.forEach(e,n=>{t.push(String.fromCharCode(n))}),t.join("")},bX=(e,t,n=0)=>{const r=_X(e.body.slice(n));return H0(X0(t))(r)},SX=e=>({raw:[],time:new Date,...e}),fl={schema:mX,sysex:Z0,jsonSysex:yX,jsonSchemaSysex:vX,parseJsonSysex:bX,raw:SX},Nv=Symbol.for("midi/structor/schema/form/annotation"),Lv=e=>({[Nv]:e}),wX=e=>e._tag==="PropertySignatureDeclaration"?Xo(e.annotations[Nv]):e._tag==="PropertySignatureTransformation"?oe():Bn(Nv)(e),EX={Border:Er(ue({sizePx:Er(Lt),color:Er(yt)})).annotations(Lv("Border")),Midi:Jo(fl.schema).annotations(Lv("MidiMessage"))},Ci={annotation:Lv,getFormName:wX,Schemas:EX},pa=bG(),xX=Pi(Pn("Note",{note:Lt}),Pn("CC",{controllerNumber:Lt}),Pn("PC",{programNumber:Lt})).annotations(Ci.annotation("MidiTarget")),CX=({from:e,to:t})=>{const n=[];for(let r=e;r<=t;r++)n.push(eb(r));return n},TX=({from:e,to:t})=>{const n=[];for(let r=e;r<=t;r++)n.push(tb(r));return n},eb=e=>pa.Note({note:e}),tb=e=>pa.CC({controllerNumber:e}),kX=e=>pa.PC({programNumber:e}),OX=e=>pa.$match({Note:({note:t})=>`noteon-${t}`,CC:({controllerNumber:t})=>`cc-${t}`,PC:({programNumber:t})=>`pc-${t}`})(e),IX=(e,t)=>pa.$match({Note:({note:n})=>({type:"noteon",channel:1,note:n,velocity:t}),CC:({controllerNumber:n})=>({type:"cc",channel:1,controllerNumber:n,data:t}),PC:()=>({type:"pc",programNumber:t})})(e),AX=Array.from({length:127}).map((e,t)=>tb(t)),$X=Array.from({length:127}).map((e,t)=>eb(t)),RX=[...AX,...$X],PX=e=>pa.$match({Note:({note:t})=>t,CC:({controllerNumber:t})=>t,PC:({programNumber:t})=>t})(e),yr={note:eb,notes:CX,cc:tb,ccs:TX,pc:kX,toKey:OX,toMessage:IX,toValue:PX,allTargets:RX,match:pa.$match,Schema:xX},MX=e=>e.flatMap(t=>t.targets()),NX=(e,t)=>{const n=MX(t),r={};n.forEach(s=>{const a=yr.toKey(s),c=r[a];c===void 0?r[a]=1:r[a]=c+1});const o=[];return Q.forEach(r,(s,a)=>{s>1&&o.push(a)}),Q.isEmpty(o)?Te(e):Se(`Midi targets duplicated ${o}`)},LX=(e,t)=>{const n=t.widgets.resolve(e);return NX(e,n)},ER=e=>ue({widgets:Jo(e.widgets.schema)}),FX=(e,t)=>Ph.decodeString({schema:ER(t),str:e,ok:n=>LX(n,t),error:n=>Se(n)}),BX=(e,t)=>Ph.encode(ER(t),e),jX=()=>({widgets:[]}),DX={empty:jX,parse:FX,stringify:BX},xR=ue({id:yt,name:yt,enabled:Pp,config:HY.Schema,device:yt,color:Er(yt),selected:ue({input:Vx(yt),output:Vx(yt)})}),WX=Jo(xR),UX=e=>({name:e,enabled:!0,config:DX.empty(),device:"Launchpad Mini [MK3]",selected:{input:oe(),output:oe()},id:SR()}),zX=e=>f_(`${e.id}:listener`),qX=e=>f_(`${e.id}:emitter`),CR={Schema:xR,SchemaArray:WX,defaultConfiguredController:UX,virtualListener:zX,virtualEmitter:qX},KX=ue({label:yt,key:yt,abletonProject:Er(yt),controllers:CR.SchemaArray,style:ue({accent:ue({color1:yt,color2:yt})})}),VX=ue({active:yt,projects:Jo(KX)}),HX=e=>Xo(Q.find(e.projects,t=>t.key===e.active)),nb={Schema:VX,getActive:HX},In=(e,t,n)=>16777216+(e<<16|t<<8|n<<0),GX=["","0","00","000","0000","00000","000000"],rb=e=>{const t=e.toString(16);if(t.length>6)return t.substring(1,7);{const n=6-t.length;return GX[n]+t}},JX=e=>{const t=rb(e);return[parseInt(t.substring(0,2),16),parseInt(t.substring(2,4),16),parseInt(t.substring(4,6),16)]},TR=e=>{const t=e.substring(0,2),n=e.substring(2,4),r=e.substring(4,6);return In(parseInt(t,16),parseInt(n,16),parseInt(r,16))},YX=_R(yt,Lt,{strict:!0,decode:TR,encode:rb}).annotations(Ci.annotation("Color")),te={fromRGB:In,fromHex:TR,toHex:rb,toRGB:JX,BLACK:In(0,0,0),RED:In(255,0,0),GREEN:In(0,255,0),BLUE:In(0,0,255),PURPLE:In(128,0,128),YELLOW:In(255,255,0),WHITE:In(255,255,255),ROYGBIV:[In(255,0,0),In(255,165,0),In(255,255,0),In(0,255,0),In(0,0,255),In(75,0,130),In(238,130,238)],Schema:YX},XX=e=>e.type==="real",QX=e=>e.type==="blank",kR={isReal:XX,isBlank:QX},ZX={name:"",color:te.BLACK,clips:[{type:"blank",startTime:0,endTime:void 0}]},eQ=()=>({tracks:[],cues:[]}),tQ=e=>{const t=Q.sum(Q.flatMap(e.tracks,o=>Q.size(Q.filter(o.clips,s=>s.type==="real")))),n=Q.size(e.tracks),r=Q.size(e.cues);return t+n+r},nQ=e=>{let t=0;const n=[];return Q.forEach(e,r=>{t!==r.startTime&&n.push({type:"blank",startTime:t,endTime:r.startTime}),n.push({...r,type:"real"}),t=r.endTime}),n.push({type:"blank",startTime:t,endTime:void 0}),n},rQ=e=>{const t=[],n=[],r=[];Q.forEach(e,a=>{a.type==="init-track"?t.push(a):a.type==="init-clip"?n.push(a):r.push(a)});const o=Q.sortBy(t,a=>a.trackIndex),s=Q.groupBy(n,a=>a.trackIndex);return{tracks:Q.map(o,a=>{const c=Q.get(s,a.trackIndex);return{name:a.name,color:a.color,clips:nQ(Q.sortBy(c,f=>f.clipIndex))}}),cues:Q.sortBy(r,a=>a.index)}},oQ=e=>rQ(e);var OR={exports:{}},Me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xl=Symbol.for("react.element"),iQ=Symbol.for("react.portal"),sQ=Symbol.for("react.fragment"),aQ=Symbol.for("react.strict_mode"),uQ=Symbol.for("react.profiler"),cQ=Symbol.for("react.provider"),lQ=Symbol.for("react.context"),fQ=Symbol.for("react.forward_ref"),dQ=Symbol.for("react.suspense"),hQ=Symbol.for("react.memo"),pQ=Symbol.for("react.lazy"),Gx=Symbol.iterator;function gQ(e){return e===null||typeof e!="object"?null:(e=Gx&&e[Gx]||e["@@iterator"],typeof e=="function"?e:null)}var IR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},AR=Object.assign,$R={};function Uu(e,t,n){this.props=e,this.context=t,this.refs=$R,this.updater=n||IR}Uu.prototype.isReactComponent={};Uu.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Uu.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function RR(){}RR.prototype=Uu.prototype;function ob(e,t,n){this.props=e,this.context=t,this.refs=$R,this.updater=n||IR}var ib=ob.prototype=new RR;ib.constructor=ob;AR(ib,Uu.prototype);ib.isPureReactComponent=!0;var Jx=Array.isArray,PR=Object.prototype.hasOwnProperty,sb={current:null},MR={key:!0,ref:!0,__self:!0,__source:!0};function NR(e,t,n){var r,o={},s=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(s=""+t.key),t)PR.call(t,r)&&!MR.hasOwnProperty(r)&&(o[r]=t[r]);var c=arguments.length-2;if(c===1)o.children=n;else if(1<c){for(var f=Array(c),d=0;d<c;d++)f[d]=arguments[d+2];o.children=f}if(e&&e.defaultProps)for(r in c=e.defaultProps,c)o[r]===void 0&&(o[r]=c[r]);return{$$typeof:Xl,type:e,key:s,ref:a,props:o,_owner:sb.current}}function mQ(e,t){return{$$typeof:Xl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ab(e){return typeof e=="object"&&e!==null&&e.$$typeof===Xl}function yQ(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Yx=/\/+/g;function gy(e,t){return typeof e=="object"&&e!==null&&e.key!=null?yQ(""+e.key):t.toString(36)}function Wd(e,t,n,r,o){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Xl:case iQ:a=!0}}if(a)return a=e,o=o(a),e=r===""?"."+gy(a,0):r,Jx(o)?(n="",e!=null&&(n=e.replace(Yx,"$&/")+"/"),Wd(o,t,n,"",function(d){return d})):o!=null&&(ab(o)&&(o=mQ(o,n+(!o.key||a&&a.key===o.key?"":(""+o.key).replace(Yx,"$&/")+"/")+e)),t.push(o)),1;if(a=0,r=r===""?".":r+":",Jx(e))for(var c=0;c<e.length;c++){s=e[c];var f=r+gy(s,c);a+=Wd(s,t,n,f,o)}else if(f=gQ(e),typeof f=="function")for(e=f.call(e),c=0;!(s=e.next()).done;)s=s.value,f=r+gy(s,c++),a+=Wd(s,t,n,f,o);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function cd(e,t,n){if(e==null)return e;var r=[],o=0;return Wd(e,r,"","",function(s){return t.call(n,s,o++)}),r}function vQ(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Jn={current:null},Ud={transition:null},_Q={ReactCurrentDispatcher:Jn,ReactCurrentBatchConfig:Ud,ReactCurrentOwner:sb};function LR(){throw Error("act(...) is not supported in production builds of React.")}Me.Children={map:cd,forEach:function(e,t,n){cd(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return cd(e,function(){t++}),t},toArray:function(e){return cd(e,function(t){return t})||[]},only:function(e){if(!ab(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Me.Component=Uu;Me.Fragment=sQ;Me.Profiler=uQ;Me.PureComponent=ob;Me.StrictMode=aQ;Me.Suspense=dQ;Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_Q;Me.act=LR;Me.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=AR({},e.props),o=e.key,s=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,a=sb.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(f in t)PR.call(t,f)&&!MR.hasOwnProperty(f)&&(r[f]=t[f]===void 0&&c!==void 0?c[f]:t[f])}var f=arguments.length-2;if(f===1)r.children=n;else if(1<f){c=Array(f);for(var d=0;d<f;d++)c[d]=arguments[d+2];r.children=c}return{$$typeof:Xl,type:e.type,key:o,ref:s,props:r,_owner:a}};Me.createContext=function(e){return e={$$typeof:lQ,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:cQ,_context:e},e.Consumer=e};Me.createElement=NR;Me.createFactory=function(e){var t=NR.bind(null,e);return t.type=e,t};Me.createRef=function(){return{current:null}};Me.forwardRef=function(e){return{$$typeof:fQ,render:e}};Me.isValidElement=ab;Me.lazy=function(e){return{$$typeof:pQ,_payload:{_status:-1,_result:e},_init:vQ}};Me.memo=function(e,t){return{$$typeof:hQ,type:e,compare:t===void 0?null:t}};Me.startTransition=function(e){var t=Ud.transition;Ud.transition={};try{e()}finally{Ud.transition=t}};Me.unstable_act=LR;Me.useCallback=function(e,t){return Jn.current.useCallback(e,t)};Me.useContext=function(e){return Jn.current.useContext(e)};Me.useDebugValue=function(){};Me.useDeferredValue=function(e){return Jn.current.useDeferredValue(e)};Me.useEffect=function(e,t){return Jn.current.useEffect(e,t)};Me.useId=function(){return Jn.current.useId()};Me.useImperativeHandle=function(e,t,n){return Jn.current.useImperativeHandle(e,t,n)};Me.useInsertionEffect=function(e,t){return Jn.current.useInsertionEffect(e,t)};Me.useLayoutEffect=function(e,t){return Jn.current.useLayoutEffect(e,t)};Me.useMemo=function(e,t){return Jn.current.useMemo(e,t)};Me.useReducer=function(e,t,n){return Jn.current.useReducer(e,t,n)};Me.useRef=function(e){return Jn.current.useRef(e)};Me.useState=function(e){return Jn.current.useState(e)};Me.useSyncExternalStore=function(e,t,n){return Jn.current.useSyncExternalStore(e,t,n)};Me.useTransition=function(){return Jn.current.useTransition()};Me.version="18.3.1";OR.exports=Me;var G=OR.exports,st=Mk(G),Fv=tD({__proto__:null,default:st},[G]);const Lc={},Xx=(e,t)=>e.unstable_is?e.unstable_is(t):t===e,Qx=e=>"init"in e,my=e=>!!e.write,Zx=e=>"v"in e||"e"in e,ld=e=>{if("e"in e)throw e.e;if((Lc?"production":void 0)!=="production"&&!("v"in e))throw new Error("[Bug] atom state is not initialized");return e.v},Mh=new WeakMap,eC=e=>{var t;return Nh(e)&&!!((t=Mh.get(e))!=null&&t[0])},bQ=e=>{const t=Mh.get(e);t!=null&&t[0]&&(t[0]=!1,t[1].forEach(n=>n()))},FR=(e,t)=>{let n=Mh.get(e);if(!n){n=[!0,new Set],Mh.set(e,n);const r=()=>{n[0]=!1};e.then(r,r)}n[1].add(t)},Nh=e=>typeof(e==null?void 0:e.then)=="function",BR=(e,t,n)=>{n.p.has(e)||(n.p.add(e),t.then(()=>{n.p.delete(e)},()=>{n.p.delete(e)}))},yy=(e,t,n)=>{const r=n(e),o="v"in r,s=r.v;if(Nh(t))for(const a of r.d.keys())BR(e,t,n(a));r.v=t,delete r.e,(!o||!Object.is(s,r.v))&&(++r.n,Nh(s)&&bQ(s))},tC=(e,t,n)=>{var r;const o=new Set;for(const s of((r=n.get(e))==null?void 0:r.t)||[])n.has(s)&&o.add(s);for(const s of t.p)o.add(s);return o},SQ=()=>{const e=new Set,t=()=>{e.forEach(n=>n())};return t.add=n=>(e.add(n),()=>{e.delete(n)}),t},vy=()=>{const e={},t=new WeakMap,n=r=>{var o,s;(o=t.get(e))==null||o.forEach(a=>a(r)),(s=t.get(r))==null||s.forEach(a=>a())};return n.add=(r,o)=>{const s=r||e,a=(t.has(s)?t:t.set(s,new Set)).get(s);return a.add(o),()=>{a==null||a.delete(o),a.size||t.delete(s)}},n},wQ=e=>(e.c||(e.c=vy()),e.m||(e.m=vy()),e.u||(e.u=vy()),e.f||(e.f=SQ()),e),EQ=Symbol(),xQ=(e=new WeakMap,t=new WeakMap,n=new WeakMap,r=new Set,o=new Set,s=new Set,a={},c=(m,...y)=>m.read(...y),f=(m,...y)=>m.write(...y),d=(m,y)=>{var b;return(b=m.unstable_onInit)==null?void 0:b.call(m,y)},p=(m,y)=>{var b;return(b=m.onMount)==null?void 0:b.call(m,y)},...g)=>{const m=g[0]||(A=>{if((Lc?"production":void 0)!=="production"&&!A)throw new Error("Atom is undefined or null");let U=e.get(A);return U||(U={d:new Map,p:new Set,n:0},e.set(A,U),d==null||d(A,j)),U}),y=g[1]||(()=>{const A=[],U=K=>{try{K()}catch(S){A.push(S)}};do{a.f&&U(a.f);const K=new Set,S=K.add.bind(K);r.forEach(M=>{var D;return(D=t.get(M))==null?void 0:D.l.forEach(S)}),r.clear(),s.forEach(S),s.clear(),o.forEach(S),o.clear(),K.forEach(U),r.size&&b()}while(r.size||s.size||o.size);if(A.length)throw new AggregateError(A)}),b=g[2]||(()=>{const A=[],U=new WeakSet,K=new WeakSet,S=Array.from(r);for(;S.length;){const M=S[S.length-1],D=m(M);if(K.has(M)){S.pop();continue}if(U.has(M)){if(n.get(M)===D.n)A.push([M,D]);else if((Lc?"production":void 0)!=="production"&&n.has(M))throw new Error("[Bug] invalidated atom exists");K.add(M),S.pop();continue}U.add(M);for(const X of tC(M,D,t))U.has(X)||S.push(X)}for(let M=A.length-1;M>=0;--M){const[D,X]=A[M];let re=!1;for(const _e of X.d.keys())if(_e!==D&&r.has(_e)){re=!0;break}re&&(x(D),L(D)),n.delete(D)}}),x=g[3]||(A=>{var U;const K=m(A);if(Zx(K)&&(t.has(A)&&n.get(A)!==K.n||Array.from(K.d).every(([ie,ce])=>x(ie).n===ce)))return K;K.d.clear();let S=!0;const M=()=>{t.has(A)&&(L(A),b(),y())},D=ie=>{var ce;if(Xx(A,ie)){const cn=m(ie);if(!Zx(cn))if(Qx(ie))yy(ie,ie.init,m);else throw new Error("no atom init");return ld(cn)}const Le=x(ie);try{return ld(Le)}finally{K.d.set(ie,Le.n),eC(K.v)&&BR(A,K.v,Le),(ce=t.get(ie))==null||ce.t.add(A),S||M()}};let X,re;const _e={get signal(){return X||(X=new AbortController),X.signal},get setSelf(){return(Lc?"production":void 0)!=="production"&&!my(A)&&console.warn("setSelf function cannot be used with read-only atom"),!re&&my(A)&&(re=(...ie)=>{if((Lc?"production":void 0)!=="production"&&S&&console.warn("setSelf function cannot be called in sync"),!S)try{return k(A,...ie)}finally{b(),y()}}),re}},ye=K.n;try{const ie=c(A,D,_e);return yy(A,ie,m),Nh(ie)&&(FR(ie,()=>X==null?void 0:X.abort()),ie.then(M,M)),K}catch(ie){return delete K.v,K.e=ie,++K.n,K}finally{S=!1,ye!==K.n&&n.get(A)===ye&&(n.set(A,K.n),r.add(A),(U=a.c)==null||U.call(a,A))}}),T=g[4]||(A=>{const U=[A];for(;U.length;){const K=U.pop(),S=m(K);for(const M of tC(K,S,t)){const D=m(M);n.set(M,D.n),U.push(M)}}}),k=g[5]||((A,...U)=>{let K=!0;const S=D=>ld(x(D)),M=(D,...X)=>{var re;const _e=m(D);try{if(Xx(A,D)){if(!Qx(D))throw new Error("atom not writable");const ye=_e.n,ie=X[0];yy(D,ie,m),L(D),ye!==_e.n&&(r.add(D),(re=a.c)==null||re.call(a,D),T(D));return}else return k(D,...X)}finally{K||(b(),y())}};try{return f(A,S,M,...U)}finally{K=!1}}),L=g[6]||(A=>{var U;const K=m(A),S=t.get(A);if(S&&!eC(K.v)){for(const[M,D]of K.d)if(!S.d.has(M)){const X=m(M);N(M).t.add(A),S.d.add(M),D!==X.n&&(r.add(M),(U=a.c)==null||U.call(a,M),T(M))}for(const M of S.d||[])if(!K.d.has(M)){S.d.delete(M);const D=R(M);D==null||D.t.delete(A)}}}),N=g[7]||(A=>{var U;const K=m(A);let S=t.get(A);if(!S){x(A);for(const M of K.d.keys())N(M).t.add(A);if(S={l:new Set,d:new Set(K.d.keys()),t:new Set},t.set(A,S),(U=a.m)==null||U.call(a,A),my(A)){const M=()=>{let D=!0;const X=(...re)=>{try{return k(A,...re)}finally{D||(b(),y())}};try{const re=p(A,X);re&&(S.u=()=>{D=!0;try{re()}finally{D=!1}})}finally{D=!1}};o.add(M)}}return S}),R=g[8]||(A=>{var U;const K=m(A);let S=t.get(A);if(S&&!S.l.size&&!Array.from(S.t).some(M=>{var D;return(D=t.get(M))==null?void 0:D.d.has(A)})){S.u&&s.add(S.u),S=void 0,t.delete(A),(U=a.u)==null||U.call(a,A);for(const M of K.d.keys()){const D=R(M);D==null||D.t.delete(A)}return}return S}),W=[e,t,n,r,o,s,a,c,f,d,p,m,y,b,x,T,k,L,N,R],j={get:A=>ld(x(A)),set:(A,...U)=>{try{return k(A,...U)}finally{b(),y()}},sub:(A,U)=>{const S=N(A).l;return S.add(U),y(),()=>{S.delete(U),R(A),y()}}};return Object.defineProperty(j,EQ,{value:W}),j},jR=xQ,CQ=wQ,nC=FR,ub={};let TQ=0;function vr(e,t){const n=`atom${++TQ}`,r={toString(){return(ub?"production":void 0)!=="production"&&this.debugLabel?n+":"+this.debugLabel:n}};return typeof e=="function"?r.read=e:(r.init=e,r.read=kQ,r.write=OQ),t&&(r.write=t),r}function kQ(e){return e(this)}function OQ(e,t,n){return t(this,typeof n=="function"?n(e(this)):n)}const IQ=()=>{let e=0;const t=CQ({}),n=new WeakMap,r=new WeakMap,o=jR(n,r,void 0,void 0,void 0,void 0,t,void 0,(c,f,d,...p)=>e?d(c,...p):c.write(f,d,...p)),s=new Set;return t.m.add(void 0,c=>{s.add(c);const f=n.get(c);f.m=r.get(c)}),t.u.add(void 0,c=>{s.delete(c);const f=n.get(c);delete f.m}),Object.assign(o,{dev4_get_internal_weak_map:()=>n,dev4_get_mounted_atoms:()=>s,dev4_restore_atoms:c=>{const f={read:()=>null,write:(d,p)=>{++e;try{for(const[g,m]of c)"init"in g&&p(g,m)}finally{--e}}};o.set(f)}})};function AQ(){return(ub?"production":void 0)!=="production"?IQ():jR()}let Ic;function cb(){return Ic||(Ic=AQ(),(ub?"production":void 0)!=="production"&&(globalThis.__JOTAI_DEFAULT_STORE__||(globalThis.__JOTAI_DEFAULT_STORE__=Ic),globalThis.__JOTAI_DEFAULT_STORE__!==Ic&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044"))),Ic}const $Q={},RQ=G.createContext(void 0);function DR(e){return G.useContext(RQ)||cb()}const WR=e=>typeof(e==null?void 0:e.then)=="function",PQ=e=>{e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t})},MQ=st.use||(e=>{if(e.status==="pending")throw e;if(e.status==="fulfilled")return e.value;throw e.status==="rejected"?e.reason:(PQ(e),e)}),_y=new WeakMap,NQ=(e,t)=>{let n=_y.get(e);return n||(n=new Promise((r,o)=>{let s=e;const a=d=>p=>{s===d&&r(p)},c=d=>p=>{s===d&&o(p)},f=()=>{try{const d=t();WR(d)?(_y.set(d,n),s=d,d.then(a(d),c(d)),nC(d,f)):r(d)}catch(d){o(d)}};e.then(a(e),c(e)),nC(e,f)}),_y.set(e,n)),n};function rC(e,t){const n=DR(),[[r,o,s],a]=G.useReducer(d=>{const p=n.get(e);return Object.is(d[0],p)&&d[1]===n&&d[2]===e?d:[p,n,e]},void 0,()=>[n.get(e),n,e]);let c=r;if((o!==n||s!==e)&&(a(),c=n.get(e)),G.useEffect(()=>{const d=n.sub(e,()=>{a()});return a(),d},[n,e,void 0]),G.useDebugValue(c),WR(c)){const d=NQ(c,()=>n.get(e));return MQ(d)}return c}function LQ(e,t){const n=DR();return G.useCallback((...o)=>{if(($Q?"production":void 0)!=="production"&&!("write"in e))throw new Error("not writable atom");return n.set(e,...o)},[n,e])}const oC=cb(),lb=(e,t,n)=>{const r=e===Ns.type,o=new BroadcastChannel(t),s=SR(),a=Yt.enabled(!1,Yt.info);a("Creating",{owner:e,isOwner:r,key:t,id:s});let c;const f=vr(g=>g(n),(g,m,y)=>{const b=typeof y.value=="function"?y.value(g(n)):y.value;r?(m(n,y.value),c=b,a("Posting message as owner",b),o.postMessage({type:"update",value:b})):y.isEvent?(a("Setting atom as borrower",Ns.name,b),m(n,b)):(a("Posting message as borrower",b),o.postMessage({type:"update-request",value:b}))}),d=g=>{(g.data.type==="update"||g.data.type==="update-request"||g.data.type==="init-ack")&&oC.set(f,{isEvent:!0,value:g.data.value})};return o.onmessage=g=>{const m=g;a("Received message",Ns.name,m.data),m.data.type==="update-request"&&r&&d(m),m.data.type==="update"&&d(m),r&&m.data.type==="init"?o.postMessage({type:"init-ack",id:m.data.id,value:c||oC.get(n)}):!r&&m.data.type==="init-ack"&&m.data.id===s&&d(m)},r||(a("Posting init",Ns.name,s),o.postMessage({type:"init",id:s})),vr(g=>g(f),(g,m,y)=>{a("Atom set",y),m(f,{isEvent:!1,value:y})})},Ti=e=>e,fb=e=>({_tag:"Left",value:e}),Lp=e=>({_tag:"Right",value:e}),FQ=(e,t,n)=>n._tag==="Left"?e(n.value):t(n.value),UR={dimap:(e,t,n)=>r=>t(n(e(r))),first:e=>([t,n])=>[e(t),n],right:e=>t=>t._tag==="Left"?t:Lp(e(t.value)),wander:e=>t=>t.map(e)},BQ={empty:()=>{},foldMap:(e,t)=>{for(let n=0;n<t.length;n++){const r=e(t[n]);if(r!=null)return r}}},jQ={empty:()=>[],foldMap:(e,t)=>{let n=[];return t.forEach(r=>{n=n.concat(e(r))}),n}},db=e=>({dimap:(t,n,r)=>o=>r(t(o)),first:t=>([n,r])=>t(n),right:t=>n=>n._tag==="Left"?e.empty():t(n.value),wander:t=>n=>e.foldMap(t,n)}),by={Equivalence:{Equivalence:"Equivalence",Iso:"Iso",Lens:"Lens",Prism:"Prism",Traversal:"Traversal",Getter:"Getter",AffineFold:"AffineFold",Fold:"Fold",Setter:"Setter"},Iso:{Equivalence:"Iso",Iso:"Iso",Lens:"Lens",Prism:"Prism",Traversal:"Traversal",Getter:"Getter",AffineFold:"AffineFold",Fold:"Fold",Setter:"Setter"},Lens:{Equivalence:"Lens",Iso:"Lens",Lens:"Lens",Prism:"Prism",Traversal:"Traversal",Getter:"Getter",AffineFold:"AffineFold",Fold:"Fold",Setter:"Setter"},Prism:{Equivalence:"Prism",Iso:"Prism",Lens:"Prism",Prism:"Prism",Traversal:"Traversal",Getter:"AffineFold",AffineFold:"AffineFold",Fold:"Fold",Setter:"Setter"},Traversal:{Equivalence:"Traversal",Iso:"Traversal",Lens:"Traversal",Prism:"Traversal",Traversal:"Traversal",Getter:"Fold",AffineFold:"Fold",Fold:"Fold",Setter:"Setter"},Getter:{Equivalence:"Getter",Iso:"Getter",Lens:"Getter",Prism:"AffineFold",Traversal:"Fold",Getter:"Getter",AffineFold:"AffineFold",Fold:"Fold",Setter:void 0},AffineFold:{Equivalence:"AffineFold",Iso:"AffineFold",Lens:"AffineFold",Prism:"AffineFold",Traversal:"Fold",Getter:"AffineFold",AffineFold:"AffineFold",Fold:"Fold",Setter:void 0},Fold:{Equivalence:"Fold",Iso:"Fold",Lens:"Fold",Prism:"Fold",Traversal:"Fold",Getter:"Fold",AffineFold:"Fold",Fold:"Fold",Setter:void 0},Setter:{Equivalence:void 0,Iso:void 0,Lens:void 0,Prism:void 0,Traversal:void 0,Getter:void 0,AffineFold:void 0,Fold:void 0,Setter:void 0}},zu=(e,t)=>{const n=t;return n._tag=e,n},zR=e=>(e._removable=!0,e);function Ue(e,t,n){switch(arguments.length){case 2:{const r=(o,s)=>e(o,t(o,s));return r._tag=by[e._tag][t._tag],r._removable=t._removable||!1,r}default:{const r=by[e._tag][t._tag],o=(s,a)=>e(s,t(s,n(s,a)));return o._tag=by[r][n._tag],o._removable=n._removable||!1,o}}}const DQ=zu("Equivalence",(e,t)=>t),Fp=(e,t)=>zu("Iso",(n,r)=>n.dimap(e,t,r)),Rr=(e,t)=>zu("Lens",(n,r)=>n.dimap(o=>[e(o),o],t,n.first(r))),hb=(e,t)=>zu("Prism",(n,r)=>n.dimap(e,o=>FQ(Ti,t,o),n.right(r))),pb=zu("Traversal",(e,t)=>e.dimap(Ti,Ti,e.wander(t))),WQ=e=>zu("Getter",(t,n)=>t.dimap(e,Ti,n)),qR=(e,t,n)=>e(UR,t)(n),UQ=(e,t,n)=>e(UR,()=>t)(n),zQ=(e,t)=>e(db({}),Ti)(t),qQ=(e,t)=>e(db(BQ),Ti)(t),KR=(e,t)=>e(db(jQ),n=>[n])(t),KQ=Fp(e=>e.map((t,n)=>[n,t]),e=>{const t=[...e].sort((r,o)=>r[0]-o[0]),n=[];for(let r=0;r<t.length;++r)(r===t.length-1||t[r][0]!==t[r+1][0])&&n.push(t[r][1]);return n}),iC=e=>Rr(t=>t[e],([t,n])=>Object.assign(Object.assign({},n),{[e]:t})),VQ=e=>Rr(t=>{const n={};for(const r of e)n[r]=t[r];return n},([t,n])=>{const r=Object.assign({},n);for(const o of e)delete r[o];return Object.assign(r,t)}),VR=e=>Rr(t=>t[e],([t,n])=>{const r=n.slice();return r[e]=t,r}),gb=VR(0),mb=e=>hb(t=>e(t)?Lp(t):fb(t),Ti),dl=Symbol("__no_match__"),HR=mb(e=>e!==dl),GR=Symbol("__remove_me__"),Sy=e=>zR(Ue(Rr(t=>0<=e&&e<t.length?t[e]:dl,([t,n])=>{if(t===dl)return n;if(t===GR)return typeof n=="string"?n.substring(0,e)+n.substring(e+1):[...n.slice(0,e),...n.slice(e+1)];if(typeof n=="string")return e===0?t+n.substring(1):e===n.length?n.substring(0,e-1)+t:n.substring(0,e)+t+n.substring(e+1);{const r=n.slice();return r[e]=t,r}}),HR)),HQ=hb(e=>e===void 0?fb(void 0):Lp(e),Ti),GQ=e=>hb(t=>e(t)?Lp(t):fb(t),Ti),JQ=e=>zR(Ue(Rr(t=>{const n=t.findIndex(e);return n===-1?[dl,-1]:[t[n],n]},([[t,n],r])=>{if(t===dl)return r;if(t===GR)return[...r.slice(0,n),...r.slice(n+1)];const o=r.slice();return o[n]=t,o}),gb,HR)),YQ=e=>Ue(Rr(t=>{const n=t.map((r,o)=>e(r)?o:null).filter(r=>r!=null);return[n.map(r=>t[r]),n]},([[t,n],r])=>{const o=r.length,s=t.length;let a=0,c=0,f=0;const d=[];for(;a<o;)n[c]===a?(++c,f<s&&(d.push(t[f]),++f)):d.push(r[a]),++a;for(;f<s;)d.push(t[f++]);return d}),gb),XQ=e=>Rr(t=>t===void 0?e:t,([t,n])=>t),QQ=e=>Ue(Rr(t=>{const n=KR(e,t);return[n,n.length]},([[t,n],r])=>{if(t.length!==n)throw new Error("cannot add/remove elements through partsOf");let o=0;return qR(e,()=>t[o++],r)}),gb),ZQ=e=>Rr(t=>e(t),([t,n])=>t),eZ=e=>Rr(t=>t,([t,n])=>e(t)),tZ=Rr(e=>{},([e,t])=>e===void 0?t:[e,...t]),nZ=Rr(e=>{},([e,t])=>e===void 0?t:[...t,e]),rZ=Ue(Fp(e=>e.split(""),e=>e.join("")),pb),oZ=Ue(Fp(e=>e.split(/\b/),e=>e.join("")),pb,mb(e=>!/\s+/.test(e)));class Xe{constructor(t){this._ref=t}get _tag(){return this._ref._tag}get _removable(){return this._ref._removable}compose(t){return new Xe(Ue(this._ref,t._ref))}iso(t,n){return new Xe(Ue(this._ref,Fp(t,n)))}lens(t,n){return new Xe(Ue(this._ref,Rr(t,([r,o])=>n(o,r))))}indexed(){return new Xe(Ue(this._ref,KQ))}prop(t){return new Xe(Ue(this._ref,iC(t)))}path(...t){return t.length===1&&(t=t[0].split(".")),new Xe(t.reduce((n,r)=>Ue(n,iC(r)),this._ref))}pick(t){return new Xe(Ue(this._ref,VQ(t)))}nth(t){return new Xe(Ue(this._ref,VR(t)))}filter(t){return new Xe(Ue(this._ref,YQ(t)))}valueOr(t){return new Xe(Ue(this._ref,XQ(t)))}partsOf(t){const n=typeof t=="function"?t(JR):t;return new Xe(Ue(this._ref,QQ(n._ref)))}reread(t){return new Xe(Ue(this._ref,ZQ(t)))}rewrite(t){return new Xe(Ue(this._ref,eZ(t)))}optional(){return new Xe(Ue(this._ref,HQ))}guard_(){return t=>this.guard(t)}guard(t){return new Xe(Ue(this._ref,GQ(t)))}at(t){return new Xe(Ue(this._ref,Sy(t)))}head(){return new Xe(Ue(this._ref,Sy(0)))}index(t){return new Xe(Ue(this._ref,Sy(t)))}find(t){return new Xe(Ue(this._ref,JQ(t)))}elems(){return new Xe(Ue(this._ref,pb))}to(t){return new Xe(Ue(this._ref,WQ(t)))}when(t){return new Xe(Ue(this._ref,mb(t)))}chars(){return new Xe(Ue(this._ref,rZ))}words(){return new Xe(Ue(this._ref,oZ))}prependTo(){return new Xe(Ue(this._ref,tZ))}appendTo(){return new Xe(Ue(this._ref,nZ))}}const JR=new Xe(DQ);function iZ(){return JR}function sZ(e){return t=>zQ(e._ref,t)}function aZ(e){return t=>qQ(e._ref,t)}function uZ(e){return t=>KR(e._ref,t)}function cZ(e){return t=>n=>qR(e._ref,t,n)}function lZ(e){return t=>n=>UQ(e._ref,t,n)}const sC=(e,t,n)=>(t.has(n)?t:t.set(n,e())).get(n),fZ=new WeakMap,dZ=(e,t,n)=>{const r=sC(()=>new WeakMap,fZ,t);return sC(e,r,n)},hZ=e=>typeof e=="function";function pZ(e,t){return dZ(()=>{const n=t(iZ());return vr(o=>{const s=o(e);return s instanceof Promise?s.then(a=>aC(n,a)):aC(n,s)},(o,s,a)=>{const c=hZ(a)?cZ(n)(a):lZ(n)(a),f=o(e);return s(e,f instanceof Promise?f.then(c):c(f))})},e,t)}const aC=(e,t)=>e._tag==="Traversal"?uZ(e)(t):e._tag==="Prism"?aZ(e)(t):sZ(e)(t),Bp={},gZ=Symbol((Bp?"production":void 0)!=="production"?"RESET":""),uC=(e,t,n)=>(t.has(n)?t:t.set(n,e())).get(n),mZ=new WeakMap,yZ=(e,t,n)=>{const r=uC(()=>new WeakMap,mZ,t);return uC(e,r,n)},vZ={},cC=e=>!!e.write,_Z=e=>typeof e=="function";function lC(e,t){return yZ(()=>{const n=new WeakMap,r=(a,c)=>{let f=n.get(a);if(f)return f;const d=c&&n.get(c),p=[],g=[];return a.forEach((m,y)=>{const b=y;g[y]=b;const x=d&&d.atomList[d.keyList.indexOf(b)];if(x){p[y]=x;return}const T=L=>{const N=L(o),R=L(e),j=r(R,N==null?void 0:N.arr).keyList.indexOf(b);if(j<0||j>=R.length){const A=a[r(a).keyList.indexOf(b)];if(A)return A;throw new Error("splitAtom: index out of bounds for read")}return R[j]},k=(L,N,R)=>{const W=L(o),j=L(e),U=r(j,W==null?void 0:W.arr).keyList.indexOf(b);if(U<0||U>=j.length)throw new Error("splitAtom: index out of bounds for write");const K=_Z(R)?R(j[U]):R;Object.is(j[U],K)||N(e,[...j.slice(0,U),K,...j.slice(U+1)])};p[y]=cC(e)?vr(T,k):vr(T)}),d&&d.keyList.length===g.length&&d.keyList.every((m,y)=>m===g[y])?f=d:f={arr:a,atomList:p,keyList:g},n.set(a,f),f},o=vr(a=>{const c=a(o),f=a(e);return r(f,c==null?void 0:c.arr)});(Bp?"production":void 0)!=="production"&&(o.debugPrivate=!0),o.init=void 0;const s=cC(e)?vr(a=>a(o).atomList,(a,c,f)=>{switch(f.type){case"remove":{const d=a(s).indexOf(f.atom);if(d>=0){const p=a(e);c(e,[...p.slice(0,d),...p.slice(d+1)])}break}case"insert":{const d=f.before?a(s).indexOf(f.before):a(s).length;if(d>=0){const p=a(e);c(e,[...p.slice(0,d),f.value,...p.slice(d)])}break}case"move":{const d=a(s).indexOf(f.atom),p=f.before?a(s).indexOf(f.before):a(s).length;if(d>=0&&p>=0){const g=a(e);d<p?c(e,[...g.slice(0,d),...g.slice(d+1,p),g[d],...g.slice(p)]):c(e,[...g.slice(0,p),g[d],...g.slice(p,d),...g.slice(d+1)])}break}}}):vr(a=>a(o).atomList);return s},e,vZ)}const bZ=e=>typeof(e==null?void 0:e.then)=="function";function YR(e=()=>{try{return window.localStorage}catch(n){(Bp?"production":void 0)!=="production"&&typeof window<"u"&&console.warn(n);return}},t){var n;let r,o;const s={getItem:(f,d)=>{var p,g;const m=b=>{if(b=b||"",r!==b){try{o=JSON.parse(b,t==null?void 0:t.reviver)}catch{return d}r=b}return o},y=(g=(p=e())==null?void 0:p.getItem(f))!=null?g:null;return bZ(y)?y.then(m):m(y)},setItem:(f,d)=>{var p;return(p=e())==null?void 0:p.setItem(f,JSON.stringify(d,void 0))},removeItem:f=>{var d;return(d=e())==null?void 0:d.removeItem(f)}},a=f=>(d,p,g)=>f(d,m=>{let y;try{y=JSON.parse(m||"")}catch{y=g}p(y)});let c;try{c=(n=e())==null?void 0:n.subscribe}catch{}return!c&&typeof window<"u"&&typeof window.addEventListener=="function"&&window.Storage&&(c=(f,d)=>{if(!(e()instanceof window.Storage))return()=>{};const p=g=>{g.storageArea===e()&&g.key===f&&d(g.newValue)};return window.addEventListener("storage",p),()=>{window.removeEventListener("storage",p)}}),c&&(s.subscribe=a(c)),s}const SZ=YR();function XR(e,t,n=SZ,r){const o=r==null?void 0:r.getOnInit,s=vr(o?n.getItem(e,t):t);return(Bp?"production":void 0)!=="production"&&(s.debugPrivate=!0),s.onMount=c=>{c(n.getItem(e,t));let f;return n.subscribe&&(f=n.subscribe(e,c,t)),f},vr(c=>c(s),(c,f,d)=>{const p=typeof d=="function"?d(c(s)):d;return p===gZ?(f(s,t),n.removeItem(e)):p instanceof Promise?p.then(g=>(f(s,g),n.setItem(e,g))):(f(s,p),n.setItem(e,p))})}const wZ=()=>YR(),EZ=e=>{const t=(r,o,s)=>o!==null?Ph.decodeString({schema:e,str:o,ok:a=>a,error:a=>(Yt.error(`Unable to decode JSON storage object for key [${r}], using initialValue [${s}]`,a),s)}):s,n=(r,o)=>Ph.encode(e,o);return{getItem(r,o){return t(r,localStorage.getItem(r),o)},setItem(r,o){localStorage.setItem(r,n(r,o))},removeItem(r){localStorage.removeItem(r)},subscribe(r,o,s){if(typeof window>"u"||typeof window.addEventListener>"u")return()=>{};const a=c=>{c.storageArea===localStorage&&c.key===r&&o(t(r,c.newValue,s))};return window.addEventListener("storage",a),()=>window.removeEventListener("storage",a)}}},xZ=(e,t)=>XR(e,t,wZ(),{getOnInit:!0}),CZ=(e,t,n)=>XR(e,t,EZ(n),{getOnInit:!0}),QR={atom:xZ,schema:CZ},fd=cb(),Ks=(e,t)=>{const n=()=>fd.get(e),r=T=>{fd.set(e,T)};let o;const s=(T,k)=>{const L=()=>{const R=T(n());typeof R=="function"&&(o=R)};k&&L();const N=fd.sub(e,()=>{o!==void 0&&o(),L()});return()=>{N()}},a=T=>s(T,!1),c=T=>s(T,!0),f=()=>rC(e),d=()=>LQ(e),p=()=>[f(),d()],g=T=>Ks(pZ(e,T));return{get:n,set:r,sub:a,subAndInit:c,useValue:f,useSet:d,use:p,focus:g,useFocus:T=>{const k=st.useCallback(L=>L.prop(T),[T]);return g(k)},useFocusMemo:T=>{const k=f();return st.useMemo(()=>g(T),[k])},array:()=>{const T=e;return fd.get(lC(T)).map(k=>Ks(k))},useArray:()=>rC(lC(e)).map(k=>Ks(k))}},TZ=(e,t)=>Ks(vr(t)),kZ=(e,t,n)=>Ks(lb(e,t,vr(n))),OZ=(e,t)=>Ks(lb("main",e,QR.atom(e,t))),IZ=(e,t,n)=>Ks(lb("main",e,Ns.type==="main"?QR.schema(e,t,n):vr(t))),fC={},AZ=e=>t=>{const n=fC[t];if(n!==void 0)return n;{const r=e(t);return fC[t]=r,r}},tn={mem:kZ,memSingle:TZ,storage:OZ,storageSchema:IZ,family:AZ},yb=()=>({label:"Default",key:"default",controllers:[],style:{accent:{color1:"#6a11cb",color2:"#2575fc"}}}),$Z=()=>({active:"default",projects:[yb()]}),me={initArrangement:tn.mem("project","init-arrangement",[]),importMessageCount:tn.mem("project","import-message-count",0),importStatus:tn.mem("project","import-status",{type:"none"}),project:{config:tn.storageSchema("projects-config",$Z(),nb.Schema),abletonName:tn.mem("project","ableton-name",void 0),arrangement:tn.mem("project","arrangement",eQ())},realTime:{beats:tn.mem("project","real-time-beats",0),barBeats:tn.mem("project","real-time-bar-beats",1),timeSignature:tn.mem("project","real-time-time-signature",{noteCount:4,noteLength:4}),tempo:tn.mem("project","real-time-tempo",0),isPlaying:tn.mem("project","real-time-is-playing",!1),metronomeState:tn.mem("project","real-time-metronome-state",!1),loopState:tn.mem("project","real-time-loop-state",!1),tick:tn.mem("project","real-time-tick",0)}},ZR=e=>({targets:e.targets,init:e.init,render:e.render,loading:e.loading||(()=>()=>()=>{}),listenFilter:e.listenFilter||(()=>!0)}),RZ=ZR({targets:[],init:()=>()=>{},render:()=>()=>{}}),vb={of:ZR,empty:RZ},_b=e=>{const t=Q.fromPairs(Q.map(e,s=>[s.name,s])),n=Pi(...e.map(s=>s.schema)),r=s=>s.widgets.flatMap(a=>Ot(o(a._tag),{onSome:c=>({name:c.name,targets:()=>{const f=c.targets(a);return f._tag==="none"?[]:f._tag==="one"?[f.target]:f.targets},component:()=>c.component(a),widget:a,tracks:()=>c.tracks(a)}),onNone:()=>(console.error("No widget found for config",a),[])})),o=s=>Xo(Q.get(t,s,void 0));return{schema:n,resolve:r,getByName:o,widgets:e}},PZ=e=>e,MZ={name:"empty",controller:vb.empty,widgets:_b([])},bb={of:PZ,empty:MZ};var eP={exports:{}},jp={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NZ=G,LZ=Symbol.for("react.element"),FZ=Symbol.for("react.fragment"),BZ=Object.prototype.hasOwnProperty,jZ=NZ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,DZ={key:!0,ref:!0,__self:!0,__source:!0};function tP(e,t,n){var r,o={},s=null,a=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)BZ.call(t,r)&&!DZ.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:LZ,type:e,key:s,ref:a,props:o,_owner:jZ.current}}jp.Fragment=FZ;jp.jsx=tP;jp.jsxs=tP;eP.exports=jp;var J=eP.exports;const nP=ue({target:yr.Schema}),rP=ue({targets:Jo(yr.Schema).annotations(Ci.annotation("MidiTargets"))}),WZ=Pn("none",{}),UZ=Pn("one",nP.fields),zZ=Pn("many",rP.fields);Pi(WZ,UZ,zZ);const oP=e=>({name:e.name,schema:Pn(e.name,e.schema.fields),targets:e.targets,component:e.component,tracks:e.tracks||(()=>[]),init:e.init,inputType:e.inputType}),qZ=e=>({name:e.name,schema:Pn(e.name,{...e.schema.fields}),targets:t=>({_tag:"none"}),component:e.component,tracks:e.tracks||(()=>[]),init:()=>({_tag:e.name,...e.init()}),inputType:"none"}),KZ=e=>({name:e.name,schema:Pn(e.name,{...nP.fields,...e.schema.fields}),targets:t=>({_tag:"one",target:t.target}),component:e.component,tracks:e.tracks||(()=>[]),init:t=>({_tag:e.name,target:t.target,...e.init()}),inputType:"one"}),VZ=e=>({name:e.name,schema:Pn(e.name,{...rP.fields,...e.schema.fields}),targets:t=>({_tag:"many",targets:t.targets}),component:e.component,tracks:e.tracks||(()=>[]),init:t=>({_tag:e.name,targets:t.targets,...e.init()}),inputType:"many"}),HZ=(e,t,n)=>oP({name:e.name,schema:ue({...e.schema.fields,...t.fields}),targets:r=>e.targets(r),component:r=>e.component(r),tracks:r=>e.tracks!==void 0?e.tracks(r):[],init:r=>({...e.init(r),...n(r)}),inputType:e.inputType}),Et={of:oP,none:qZ,one:KZ,many:VZ,intersect:HZ},GZ=()=>({send:e=>{Yt.debug("Empty send",e)}}),JZ=e=>({send:t=>{e.emit(t)}}),Sb={empty:GZ,fromEventEmitter:JZ},YZ=()=>({on:e=>()=>{console.log("Empty listener",e)}}),iP={empty:YZ},XZ={isAllowed:!1,getInput:e=>oe(),getOutput:e=>oe(),inputs:[],outputs:[]},QZ={deviceManager:tn.memSingle("device-manager",XZ)},wb={state:QZ.deviceManager},dC=e=>tn.storage(e,oe()),Yo={daw:{emitter:tn.memSingle("daw-emitter",Sb.empty()),listener:tn.memSingle("daw-listener",Yc()),selected:{input:dC("daw-midi-input-selected"),output:dC("daw-midi-output-selected")}}},sP=()=>wb.state.get(),hC=()=>{const e=F(Yo.daw.selected.input.get(),ss(sP().getInput));Yo.daw.listener.set(bt(e,()=>iP.empty()))},pC=()=>{const e=F(Yo.daw.selected.output.get(),ss(sP().getOutput));Yo.daw.emitter.set(bt(e,()=>Sb.empty()))},Lh=e=>e==="input"?Yo.daw.selected.input:Yo.daw.selected.output,ZZ=()=>{Yo.daw.selected.input.sub(hC),hC(),Yo.daw.selected.output.sub(pC),pC()},eee=(e,t)=>{Lh(t).set(e)},tee=e=>Lh(e).get(),nee=e=>{const t=wb.state.useValue(),n=st.useMemo(()=>e==="input"?t.inputs:t.outputs,[t]),r=Lh(e).useValue(),o=Lh(e).useSet();return{type:e,devices:n,selected:mo(r),setSelected:s=>{o(Xo(s))}}};let wy;const aP=()=>(wy===void 0&&(wy=new BroadcastChannel("project:daw")),wy),ree=()=>{const e=aP();return{send:t=>{e.postMessage(t)}}},Mi={init:ZZ,useMidiDevices:nee,setSelected:eee,getSelected:tee,states:Yo,getChannel:aP,useDawEmitter:ree,useDawListener:()=>Yo.daw.listener.useValue()},uP=Et.one({name:"play",schema:ue({color:te.Schema}),init:()=>({color:te.GREEN}),component:({target:e,color:t})=>{const n=Mi.useDawEmitter();return J.jsx("pad",{color:t,target:e,onClick:()=>n.send(Gt.play())})}}),cP=Et.one({name:"stop",schema:ue({color:te.Schema}),init:()=>({color:te.RED}),component:({target:e,color:t})=>{const n=Mi.useDawEmitter();return J.jsx("pad",{color:t,target:e,onClick:()=>n.send(Gt.stop())})}}),oee=Et.one({name:"record",schema:ue({color:te.Schema}),init:()=>({color:te.PURPLE}),component:({target:e,color:t})=>{const n=Mi.useDawEmitter();return J.jsx("pad",{color:t,target:e,onClick:()=>n.send(Gt.record())})}}),iee=()=>{let e=[],t=!1,n=120,r=100,o=4,s=4,a=0;const c=b=>e.forEach(x=>x(b)),f=b=>{a=b},d=()=>{c({beat:1,halfBeat:!1,isPlaying:t}),setTimeout(()=>{c({beat:1,halfBeat:!0,isPlaying:t})},Math.floor(r*.5))},p=b=>{const x=a===s?1:a+1;o===4?b===0?c({beat:x,halfBeat:!1,isPlaying:t}):b===2&&c({beat:x,halfBeat:!0,isPlaying:t}):b===0||b===5?c({beat:x,halfBeat:!1,isPlaying:t}):(b===2||b===7)&&c({beat:x,halfBeat:!0,isPlaying:t})},g=b=>{if(t=b,!b){const x=()=>setTimeout(()=>{d(),t||x()},r*2);x()}};g(!1);const m=()=>{o<=4?r=Math.floor(60/n/2*1e3):r=Math.floor(60/n/4*1e3)};return m(),me.realTime.tempo.sub(b=>{n=b,m()}),me.realTime.timeSignature.sub(b=>{o=b.noteLength,s=b.noteCount,m()}),me.realTime.isPlaying.sub(g),me.realTime.barBeats.sub(f),me.realTime.tick.sub(p),{onTick:b=>(e=[...e,b],()=>{e=e.filter(x=>x!==b)})}};let Ey;const see=()=>(Ey===void 0&&(Ey=iee()),Ey),aee=e=>see().onTick(e),lP={onTick:aee},ki=e=>{const[t,n]=st.useState(e.color);return st.useEffect(()=>e.isFlashing?lP.onTick(r=>n(r.halfBeat?te.BLACK:e.color)):(n(e.color),()=>{}),[e.color,e.isFlashing]),J.jsx("pad",{...e,color:t})};/**
 * @license
 * MIT License
 * 
 * Copyright (c) 2014-present, Lee Byron and other contributors.
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */var Ql="delete",ot=5,Sr=1<<ot,Kn=Sr-1,Be={};function Bv(){return{value:!1}}function Qr(e){e&&(e.value=!0)}function Eb(){}function Su(e){return e.size===void 0&&(e.size=e.__iterate(fP)),e.size}function ls(e,t){if(typeof t!="number"){var n=t>>>0;if(""+n!==t||n===4294967295)return NaN;t=n}return t<0?Su(e)+t:t}function fP(){return!0}function Dp(e,t,n){return(e===0&&!hP(e)||n!==void 0&&e<=-n)&&(t===void 0||n!==void 0&&t>=n)}function Zl(e,t){return dP(e,t,0)}function Wp(e,t){return dP(e,t,t)}function dP(e,t,n){return e===void 0?n:hP(e)?t===1/0?t:Math.max(0,t+e)|0:t===void 0||t===e?e:Math.min(t,e)|0}function hP(e){return e<0||e===0&&1/e===-1/0}var pP="@@__IMMUTABLE_ITERABLE__@@";function Or(e){return!!(e&&e[pP])}var Fh="@@__IMMUTABLE_KEYED__@@";function vt(e){return!!(e&&e[Fh])}var Bh="@@__IMMUTABLE_INDEXED__@@";function ro(e){return!!(e&&e[Bh])}function xb(e){return vt(e)||ro(e)}var Mn=function(t){return Or(t)?t:ir(t)},oo=function(e){function t(n){return vt(n)?n:ms(n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Mn),ga=function(e){function t(n){return ro(n)?n:bo(n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Mn),qu=function(e){function t(n){return Or(n)&&!xb(n)?n:Hu(n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Mn);Mn.Keyed=oo;Mn.Indexed=ga;Mn.Set=qu;var gP="@@__IMMUTABLE_SEQ__@@";function Cb(e){return!!(e&&e[gP])}var mP="@@__IMMUTABLE_RECORD__@@";function ma(e){return!!(e&&e[mP])}function Zo(e){return Or(e)||ma(e)}var fs="@@__IMMUTABLE_ORDERED__@@";function qo(e){return!!(e&&e[fs])}var Ku=0,Ir=1,Ar=2,jv=typeof Symbol=="function"&&Symbol.iterator,yP="@@iterator",Up=jv||yP,We=function(t){this.next=t};We.prototype.toString=function(){return"[Iterator]"};We.KEYS=Ku;We.VALUES=Ir;We.ENTRIES=Ar;We.prototype.inspect=We.prototype.toSource=function(){return this.toString()};We.prototype[Up]=function(){return this};function _t(e,t,n,r){var o=e===Ku?t:e===Ir?n:[t,n];return r?r.value=o:r={value:o,done:!1},r}function Hn(){return{value:void 0,done:!0}}function vP(e){return Array.isArray(e)?!0:!!zp(e)}function gC(e){return e&&typeof e.next=="function"}function Dv(e){var t=zp(e);return t&&t.call(e)}function zp(e){var t=e&&(jv&&e[jv]||e[yP]);if(typeof t=="function")return t}function uee(e){var t=zp(e);return t&&t===e.entries}function cee(e){var t=zp(e);return t&&t===e.keys}var Vu=Object.prototype.hasOwnProperty;function _P(e){return Array.isArray(e)||typeof e=="string"?!0:e&&typeof e=="object"&&Number.isInteger(e.length)&&e.length>=0&&(e.length===0?Object.keys(e).length===1:e.hasOwnProperty(e.length-1))}var ir=function(e){function t(n){return n==null?kb():Zo(n)?n.toSeq():fee(n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq {","}")},t.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},t.prototype.__iterate=function(r,o){var s=this._cache;if(s){for(var a=s.length,c=0;c!==a;){var f=s[o?a-++c:c++];if(r(f[1],f[0],this)===!1)break}return c}return this.__iterateUncached(r,o)},t.prototype.__iterator=function(r,o){var s=this._cache;if(s){var a=s.length,c=0;return new We(function(){if(c===a)return Hn();var f=s[o?a-++c:c++];return _t(r,f[0],f[1])})}return this.__iteratorUncached(r,o)},t}(Mn),ms=function(e){function t(n){return n==null?kb().toKeyedSeq():Or(n)?vt(n)?n.toSeq():n.fromEntrySeq():ma(n)?n.toSeq():Ob(n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toKeyedSeq=function(){return this},t}(ir),bo=function(e){function t(n){return n==null?kb():Or(n)?vt(n)?n.entrySeq():n.toIndexedSeq():ma(n)?n.toSeq().entrySeq():bP(n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toIndexedSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq [","]")},t}(ir),Hu=function(e){function t(n){return(Or(n)&&!xb(n)?n:bo(n)).toSetSeq()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toSetSeq=function(){return this},t}(ir);ir.isSeq=Cb;ir.Keyed=ms;ir.Set=Hu;ir.Indexed=bo;ir.prototype[gP]=!0;var wu=function(e){function t(n){this._array=n,this.size=n.length}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(r,o){return this.has(r)?this._array[ls(this,r)]:o},t.prototype.__iterate=function(r,o){for(var s=this._array,a=s.length,c=0;c!==a;){var f=o?a-++c:c++;if(r(s[f],f,this)===!1)break}return c},t.prototype.__iterator=function(r,o){var s=this._array,a=s.length,c=0;return new We(function(){if(c===a)return Hn();var f=o?a-++c:c++;return _t(r,f,s[f])})},t}(bo),Tb=function(e){function t(n){var r=Object.keys(n).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(n):[]);this._object=n,this._keys=r,this.size=r.length}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(r,o){return o!==void 0&&!this.has(r)?o:this._object[r]},t.prototype.has=function(r){return Vu.call(this._object,r)},t.prototype.__iterate=function(r,o){for(var s=this._object,a=this._keys,c=a.length,f=0;f!==c;){var d=a[o?c-++f:f++];if(r(s[d],d,this)===!1)break}return f},t.prototype.__iterator=function(r,o){var s=this._object,a=this._keys,c=a.length,f=0;return new We(function(){if(f===c)return Hn();var d=a[o?c-++f:f++];return _t(r,d,s[d])})},t}(ms);Tb.prototype[fs]=!0;var lee=function(e){function t(n){this._collection=n,this.size=n.length||n.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.__iterateUncached=function(r,o){if(o)return this.cacheResult().__iterate(r,o);var s=this._collection,a=Dv(s),c=0;if(gC(a))for(var f;!(f=a.next()).done&&r(f.value,c++,this)!==!1;);return c},t.prototype.__iteratorUncached=function(r,o){if(o)return this.cacheResult().__iterator(r,o);var s=this._collection,a=Dv(s);if(!gC(a))return new We(Hn);var c=0;return new We(function(){var f=a.next();return f.done?f:_t(r,c++,f.value)})},t}(bo),mC;function kb(){return mC||(mC=new wu([]))}function Ob(e){var t=Ib(e);if(t)return t.fromEntrySeq();if(typeof e=="object")return new Tb(e);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+e)}function bP(e){var t=Ib(e);if(t)return t;throw new TypeError("Expected Array or collection object of values: "+e)}function fee(e){var t=Ib(e);if(t)return uee(e)?t.fromEntrySeq():cee(e)?t.toSetSeq():t;if(typeof e=="object")return new Tb(e);throw new TypeError("Expected Array or collection object of values, or keyed object: "+e)}function Ib(e){return _P(e)?new wu(e):vP(e)?new lee(e):void 0}var SP="@@__IMMUTABLE_MAP__@@";function Ab(e){return!!(e&&e[SP])}function wP(e){return Ab(e)&&qo(e)}function yC(e){return!!(e&&typeof e.equals=="function"&&typeof e.hashCode=="function")}function wr(e,t){if(e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1;if(typeof e.valueOf=="function"&&typeof t.valueOf=="function"){if(e=e.valueOf(),t=t.valueOf(),e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1}return!!(yC(e)&&yC(t)&&e.equals(t))}var Ac=typeof Math.imul=="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(t,n){t|=0,n|=0;var r=t&65535,o=n&65535;return r*o+((t>>>16)*o+r*(n>>>16)<<16>>>0)|0};function qp(e){return e>>>1&1073741824|e&3221225471}var dee=Object.prototype.valueOf;function mr(e){if(e==null)return vC(e);if(typeof e.hashCode=="function")return qp(e.hashCode(e));var t=vee(e);if(t==null)return vC(t);switch(typeof t){case"boolean":return t?1108378657:1108378656;case"number":return hee(t);case"string":return t.length>_ee?pee(t):Wv(t);case"object":case"function":return mee(t);case"symbol":return gee(t);default:if(typeof t.toString=="function")return Wv(t.toString());throw new Error("Value type "+typeof t+" cannot be hashed.")}}function vC(e){return e===null?1108378658:1108378659}function hee(e){if(e!==e||e===1/0)return 0;var t=e|0;for(t!==e&&(t^=e*4294967295);e>4294967295;)e/=4294967295,t^=e;return qp(t)}function pee(e){var t=Ty[e];return t===void 0&&(t=Wv(e),Cy===bee&&(Cy=0,Ty={}),Cy++,Ty[e]=t),t}function Wv(e){for(var t=0,n=0;n<e.length;n++)t=31*t+e.charCodeAt(n)|0;return qp(t)}function gee(e){var t=SC[e];return t!==void 0||(t=EP(),SC[e]=t),t}function mee(e){var t;if(Uv&&(t=zv.get(e),t!==void 0)||(t=e[Ms],t!==void 0)||!bC&&(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[Ms],t!==void 0||(t=yee(e),t!==void 0)))return t;if(t=EP(),Uv)zv.set(e,t);else{if(_C!==void 0&&_C(e)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(bC)Object.defineProperty(e,Ms,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(e.propertyIsEnumerable!==void 0&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[Ms]=t;else if(e.nodeType!==void 0)e[Ms]=t;else throw new Error("Unable to set a non-enumerable property on object.")}return t}var _C=Object.isExtensible,bC=function(){try{return Object.defineProperty({},"@",{}),!0}catch{return!1}}();function yee(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}function vee(e){return e.valueOf!==dee&&typeof e.valueOf=="function"?e.valueOf(e):e}function EP(){var e=++xy;return xy&1073741824&&(xy=0),e}var Uv=typeof WeakMap=="function",zv;Uv&&(zv=new WeakMap);var SC=Object.create(null),xy=0,Ms="__immutablehash__";typeof Symbol=="function"&&(Ms=Symbol(Ms));var _ee=16,bee=255,Cy=0,Ty={},Kp=function(e){function t(n,r){this._iter=n,this._useKeys=r,this.size=n.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(r,o){return this._iter.get(r,o)},t.prototype.has=function(r){return this._iter.has(r)},t.prototype.valueSeq=function(){return this._iter.valueSeq()},t.prototype.reverse=function(){var r=this,o=$b(this,!0);return this._useKeys||(o.valueSeq=function(){return r._iter.toSeq().reverse()}),o},t.prototype.map=function(r,o){var s=this,a=OP(this,r,o);return this._useKeys||(a.valueSeq=function(){return s._iter.toSeq().map(r,o)}),a},t.prototype.__iterate=function(r,o){var s=this;return this._iter.__iterate(function(a,c){return r(a,c,s)},o)},t.prototype.__iterator=function(r,o){return this._iter.__iterator(r,o)},t}(ms);Kp.prototype[fs]=!0;var xP=function(e){function t(n){this._iter=n,this.size=n.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.includes=function(r){return this._iter.includes(r)},t.prototype.__iterate=function(r,o){var s=this,a=0;return o&&Su(this),this._iter.__iterate(function(c){return r(c,o?s.size-++a:a++,s)},o)},t.prototype.__iterator=function(r,o){var s=this,a=this._iter.__iterator(Ir,o),c=0;return o&&Su(this),new We(function(){var f=a.next();return f.done?f:_t(r,o?s.size-++c:c++,f.value,f)})},t}(bo),CP=function(e){function t(n){this._iter=n,this.size=n.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.has=function(r){return this._iter.includes(r)},t.prototype.__iterate=function(r,o){var s=this;return this._iter.__iterate(function(a){return r(a,a,s)},o)},t.prototype.__iterator=function(r,o){var s=this._iter.__iterator(Ir,o);return new We(function(){var a=s.next();return a.done?a:_t(r,a.value,a.value,a)})},t}(Hu),TP=function(e){function t(n){this._iter=n,this.size=n.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.entrySeq=function(){return this._iter.toSeq()},t.prototype.__iterate=function(r,o){var s=this;return this._iter.__iterate(function(a){if(a){EC(a);var c=Or(a);return r(c?a.get(1):a[1],c?a.get(0):a[0],s)}},o)},t.prototype.__iterator=function(r,o){var s=this._iter.__iterator(Ir,o);return new We(function(){for(;;){var a=s.next();if(a.done)return a;var c=a.value;if(c){EC(c);var f=Or(c);return _t(r,f?c.get(0):c[0],f?c.get(1):c[1],a)}}})},t}(ms);xP.prototype.cacheResult=Kp.prototype.cacheResult=CP.prototype.cacheResult=TP.prototype.cacheResult=Mb;function kP(e){var t=ei(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var n=e.reverse.apply(this);return n.flip=function(){return e.reverse()},n},t.has=function(n){return e.includes(n)},t.includes=function(n){return e.has(n)},t.cacheResult=Mb,t.__iterateUncached=function(n,r){var o=this;return e.__iterate(function(s,a){return n(a,s,o)!==!1},r)},t.__iteratorUncached=function(n,r){if(n===Ar){var o=e.__iterator(n,r);return new We(function(){var s=o.next();if(!s.done){var a=s.value[0];s.value[0]=s.value[1],s.value[1]=a}return s})}return e.__iterator(n===Ir?Ku:Ir,r)},t}function OP(e,t,n){var r=ei(e);return r.size=e.size,r.has=function(o){return e.has(o)},r.get=function(o,s){var a=e.get(o,Be);return a===Be?s:t.call(n,a,o,e)},r.__iterateUncached=function(o,s){var a=this;return e.__iterate(function(c,f,d){return o(t.call(n,c,f,d),f,a)!==!1},s)},r.__iteratorUncached=function(o,s){var a=e.__iterator(Ar,s);return new We(function(){var c=a.next();if(c.done)return c;var f=c.value,d=f[0];return _t(o,d,t.call(n,f[1],d,e),c)})},r}function $b(e,t){var n=this,r=ei(e);return r._iter=e,r.size=e.size,r.reverse=function(){return e},e.flip&&(r.flip=function(){var o=kP(e);return o.reverse=function(){return e.flip()},o}),r.get=function(o,s){return e.get(t?o:-1-o,s)},r.has=function(o){return e.has(t?o:-1-o)},r.includes=function(o){return e.includes(o)},r.cacheResult=Mb,r.__iterate=function(o,s){var a=this,c=0;return s&&Su(e),e.__iterate(function(f,d){return o(f,t?d:s?a.size-++c:c++,a)},!s)},r.__iterator=function(o,s){var a=0;s&&Su(e);var c=e.__iterator(Ar,!s);return new We(function(){var f=c.next();if(f.done)return f;var d=f.value;return _t(o,t?d[0]:s?n.size-++a:a++,d[1],f)})},r}function IP(e,t,n,r){var o=ei(e);return r&&(o.has=function(s){var a=e.get(s,Be);return a!==Be&&!!t.call(n,a,s,e)},o.get=function(s,a){var c=e.get(s,Be);return c!==Be&&t.call(n,c,s,e)?c:a}),o.__iterateUncached=function(s,a){var c=this,f=0;return e.__iterate(function(d,p,g){if(t.call(n,d,p,g))return f++,s(d,r?p:f-1,c)},a),f},o.__iteratorUncached=function(s,a){var c=e.__iterator(Ar,a),f=0;return new We(function(){for(;;){var d=c.next();if(d.done)return d;var p=d.value,g=p[0],m=p[1];if(t.call(n,m,g,e))return _t(s,r?g:f++,m,d)}})},o}function See(e,t,n){var r=Ju().asMutable();return e.__iterate(function(o,s){r.update(t.call(n,o,s,e),0,function(a){return a+1})}),r.asImmutable()}function wee(e,t,n){var r=vt(e),o=(qo(e)?Ii():Ju()).asMutable();e.__iterate(function(a,c){o.update(t.call(n,a,c,e),function(f){return f=f||[],f.push(r?[c,a]:a),f})});var s=Pb(e);return o.map(function(a){return nt(e,s(a))}).asImmutable()}function Eee(e,t,n){var r=vt(e),o=[[],[]];e.__iterate(function(a,c){o[t.call(n,a,c,e)?1:0].push(r?[c,a]:a)});var s=Pb(e);return o.map(function(a){return nt(e,s(a))})}function Rb(e,t,n,r){var o=e.size;if(Dp(t,n,o))return e;if(typeof o>"u"&&(t<0||n<0))return Rb(e.toSeq().cacheResult(),t,n,r);var s=Zl(t,o),a=Wp(n,o),c=a-s,f;c===c&&(f=c<0?0:c);var d=ei(e);return d.size=f===0?f:e.size&&f||void 0,!r&&Cb(e)&&f>=0&&(d.get=function(p,g){return p=ls(this,p),p>=0&&p<f?e.get(p+s,g):g}),d.__iterateUncached=function(p,g){var m=this;if(f===0)return 0;if(g)return this.cacheResult().__iterate(p,g);var y=0,b=!0,x=0;return e.__iterate(function(T,k){if(!(b&&(b=y++<s)))return x++,p(T,r?k:x-1,m)!==!1&&x!==f}),x},d.__iteratorUncached=function(p,g){if(f!==0&&g)return this.cacheResult().__iterator(p,g);if(f===0)return new We(Hn);var m=e.__iterator(p,g),y=0,b=0;return new We(function(){for(;y++<s;)m.next();if(++b>f)return Hn();var x=m.next();return r||p===Ir||x.done?x:p===Ku?_t(p,b-1,void 0,x):_t(p,b-1,x.value[1],x)})},d}function xee(e,t,n){var r=ei(e);return r.__iterateUncached=function(o,s){var a=this;if(s)return this.cacheResult().__iterate(o,s);var c=0;return e.__iterate(function(f,d,p){return t.call(n,f,d,p)&&++c&&o(f,d,a)}),c},r.__iteratorUncached=function(o,s){var a=this;if(s)return this.cacheResult().__iterator(o,s);var c=e.__iterator(Ar,s),f=!0;return new We(function(){if(!f)return Hn();var d=c.next();if(d.done)return d;var p=d.value,g=p[0],m=p[1];return t.call(n,m,g,a)?o===Ar?d:_t(o,g,m,d):(f=!1,Hn())})},r}function AP(e,t,n,r){var o=ei(e);return o.__iterateUncached=function(s,a){var c=this;if(a)return this.cacheResult().__iterate(s,a);var f=!0,d=0;return e.__iterate(function(p,g,m){if(!(f&&(f=t.call(n,p,g,m))))return d++,s(p,r?g:d-1,c)}),d},o.__iteratorUncached=function(s,a){var c=this;if(a)return this.cacheResult().__iterator(s,a);var f=e.__iterator(Ar,a),d=!0,p=0;return new We(function(){var g,m,y;do{if(g=f.next(),g.done)return r||s===Ir?g:s===Ku?_t(s,p++,void 0,g):_t(s,p++,g.value[1],g);var b=g.value;m=b[0],y=b[1],d&&(d=t.call(n,y,m,c))}while(d);return s===Ar?g:_t(s,m,y,g)})},o}var Cee=function(e){function t(n){this._wrappedIterables=n.flatMap(function(r){return r._wrappedIterables?r._wrappedIterables:[r]}),this.size=this._wrappedIterables.reduce(function(r,o){if(r!==void 0){var s=o.size;if(s!==void 0)return r+s}},0),this[Fh]=this._wrappedIterables[0][Fh],this[Bh]=this._wrappedIterables[0][Bh],this[fs]=this._wrappedIterables[0][fs]}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.__iterateUncached=function(r,o){if(this._wrappedIterables.length!==0){if(o)return this.cacheResult().__iterate(r,o);for(var s=0,a=vt(this),c=a?Ar:Ir,f=this._wrappedIterables[s].__iterator(c,o),d=!0,p=0;d;){for(var g=f.next();g.done;){if(s++,s===this._wrappedIterables.length)return p;f=this._wrappedIterables[s].__iterator(c,o),g=f.next()}var m=a?r(g.value[1],g.value[0],this):r(g.value,p,this);d=m!==!1,p++}return p}},t.prototype.__iteratorUncached=function(r,o){var s=this;if(this._wrappedIterables.length===0)return new We(Hn);if(o)return this.cacheResult().__iterator(r,o);var a=0,c=this._wrappedIterables[a].__iterator(r,o);return new We(function(){for(var f=c.next();f.done;){if(a++,a===s._wrappedIterables.length)return f;c=s._wrappedIterables[a].__iterator(r,o),f=c.next()}return f})},t}(ir);function Tee(e,t){var n=vt(e),r=[e].concat(t).map(function(s){return Or(s)?n&&(s=oo(s)):s=n?Ob(s):bP(Array.isArray(s)?s:[s]),s}).filter(function(s){return s.size!==0});if(r.length===0)return e;if(r.length===1){var o=r[0];if(o===e||n&&vt(o)||ro(e)&&ro(o))return o}return new Cee(r)}function $P(e,t,n){var r=ei(e);return r.__iterateUncached=function(o,s){if(s)return this.cacheResult().__iterate(o,s);var a=0,c=!1;function f(d,p){d.__iterate(function(g,m){return(!t||p<t)&&Or(g)?f(g,p+1):(a++,o(g,n?m:a-1,r)===!1&&(c=!0)),!c},s)}return f(e,0),a},r.__iteratorUncached=function(o,s){if(s)return this.cacheResult().__iterator(o,s);var a=e.__iterator(o,s),c=[],f=0;return new We(function(){for(;a;){var d=a.next();if(d.done!==!1){a=c.pop();continue}var p=d.value;if(o===Ar&&(p=p[1]),(!t||c.length<t)&&Or(p))c.push(a),a=p.__iterator(o,s);else return n?d:_t(o,f++,p,d)}return Hn()})},r}function kee(e,t,n){var r=Pb(e);return e.toSeq().map(function(o,s){return r(t.call(n,o,s,e))}).flatten(!0)}function Oee(e,t){var n=ei(e);return n.size=e.size&&e.size*2-1,n.__iterateUncached=function(r,o){var s=this,a=0;return e.__iterate(function(c){return(!a||r(t,a++,s)!==!1)&&r(c,a++,s)!==!1},o),a},n.__iteratorUncached=function(r,o){var s=e.__iterator(Ir,o),a=0,c;return new We(function(){return(!c||a%2)&&(c=s.next(),c.done)?c:a%2?_t(r,a++,t):_t(r,a++,c.value,c)})},n}function Eu(e,t,n){t||(t=RP);var r=vt(e),o=0,s=e.toSeq().map(function(a,c){return[c,a,o++,n?n(a,c,e):a]}).valueSeq().toArray();return s.sort(function(a,c){return t(a[3],c[3])||a[2]-c[2]}).forEach(r?function(a,c){s[c].length=2}:function(a,c){s[c]=a[1]}),r?ms(s):ro(e)?bo(s):Hu(s)}function dd(e,t,n){if(t||(t=RP),n){var r=e.toSeq().map(function(o,s){return[o,n(o,s,e)]}).reduce(function(o,s){return wC(t,o[1],s[1])?s:o});return r&&r[0]}return e.reduce(function(o,s){return wC(t,o,s)?s:o})}function wC(e,t,n){var r=e(n,t);return r===0&&n!==t&&(n==null||n!==n)||r>0}function hd(e,t,n,r){var o=ei(e),s=new wu(n).map(function(a){return a.size});return o.size=r?s.max():s.min(),o.__iterate=function(a,c){for(var f=this.__iterator(Ir,c),d,p=0;!(d=f.next()).done&&a(d.value,p++,this)!==!1;);return p},o.__iteratorUncached=function(a,c){var f=n.map(function(g){return g=Mn(g),Dv(c?g.reverse():g)}),d=0,p=!1;return new We(function(){var g;return p||(g=f.map(function(m){return m.next()}),p=r?g.every(function(m){return m.done}):g.some(function(m){return m.done})),p?Hn():_t(a,d++,t.apply(null,g.map(function(m){return m.value})))})},o}function nt(e,t){return e===t?e:Cb(e)?t:e.constructor(t)}function EC(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function Pb(e){return vt(e)?oo:ro(e)?ga:qu}function ei(e){return Object.create((vt(e)?ms:ro(e)?bo:Hu).prototype)}function Mb(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):ir.prototype.cacheResult.call(this)}function RP(e,t){return e===void 0&&t===void 0?0:e===void 0?1:t===void 0?-1:e>t?1:e<t?-1:0}function Bo(e,t){t=t||0;for(var n=Math.max(0,e.length-t),r=new Array(n),o=0;o<n;o++)r[o]=e[o+t];return r}function Hc(e,t){if(!e)throw new Error(t)}function _r(e){Hc(e!==1/0,"Cannot perform this action with an infinite size.")}function PP(e){if(_P(e)&&typeof e!="string")return e;if(qo(e))return e.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+e)}var Iee=Object.prototype.toString;function Aee(e){if(!e||typeof e!="object"||Iee.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var n=t,r=Object.getPrototypeOf(t);r!==null;)n=r,r=Object.getPrototypeOf(n);return n===t}function ds(e){return typeof e=="object"&&(Zo(e)||Array.isArray(e)||Aee(e))}function hl(e){try{return typeof e=="string"?JSON.stringify(e):String(e)}catch{return JSON.stringify(e)}}function $ee(e,t){return Zo(e)?e.has(t):ds(e)&&Vu.call(e,t)}function MP(e,t,n){return Zo(e)?e.get(t,n):$ee(e,t)?typeof e.get=="function"?e.get(t):e[t]:n}function jh(e){if(Array.isArray(e))return Bo(e);var t={};for(var n in e)Vu.call(e,n)&&(t[n]=e[n]);return t}function Ree(e,t){if(!ds(e))throw new TypeError("Cannot update non-data-structure value: "+e);if(Zo(e)){if(!e.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+e);return e.remove(t)}if(!Vu.call(e,t))return e;var n=jh(e);return Array.isArray(n)?n.splice(t,1):delete n[t],n}function Pee(e,t,n){if(!ds(e))throw new TypeError("Cannot update non-data-structure value: "+e);if(Zo(e)){if(!e.set)throw new TypeError("Cannot update immutable value without .set() method: "+e);return e.set(t,n)}if(Vu.call(e,t)&&n===e[t])return e;var r=jh(e);return r[t]=n,r}function Gu(e,t,n,r){r||(r=n,n=void 0);var o=NP(Zo(e),e,PP(t),0,n,r);return o===Be?n:o}function NP(e,t,n,r,o,s){var a=t===Be;if(r===n.length){var c=a?o:t,f=s(c);return f===c?t:f}if(!a&&!ds(t))throw new TypeError("Cannot update within non-data-structure value in path ["+Array.from(n).slice(0,r).map(hl)+"]: "+t);var d=n[r],p=a?Be:MP(t,d,Be),g=NP(p===Be?e:Zo(p),p,n,r+1,o,s);return g===p?t:g===Be?Ree(t,d):Pee(a?e?Wo():{}:t,d,g)}function Mee(e,t,n){return Gu(e,t,Be,function(){return n})}function Nb(e,t){return Mee(this,e,t)}function Nee(e,t){return Gu(e,t,function(){return Be})}function Lb(e){return Nee(this,e)}function LP(e,t,n,r){return Gu(e,[t],n,r)}function Fb(e,t,n){return arguments.length===1?e(this):LP(this,e,t,n)}function Bb(e,t,n){return Gu(this,e,t,n)}function FP(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return jP(this,e)}function BP(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];if(typeof e!="function")throw new TypeError("Invalid merger function: "+e);return jP(this,t,e)}function jP(e,t,n){for(var r=[],o=0;o<t.length;o++){var s=oo(t[o]);s.size!==0&&r.push(s)}return r.length===0?e:e.toSeq().size===0&&!e.__ownerID&&r.length===1?ma(e)?e:e.constructor(r[0]):e.withMutations(function(a){for(var c=n?function(d,p){LP(a,p,Be,function(g){return g===Be?d:n(g,d,p)})}:function(d,p){a.set(p,d)},f=0;f<r.length;f++)r[f].forEach(c)})}function jb(e,t,n){return Db(e,t,Lee(n))}function Db(e,t,n){if(!ds(e))throw new TypeError("Cannot merge into non-data-structure value: "+e);if(Zo(e))return typeof n=="function"&&e.mergeWith?e.mergeWith.apply(e,[n].concat(t)):e.merge?e.merge.apply(e,t):e.concat.apply(e,t);for(var r=Array.isArray(e),o=e,s=r?ga:oo,a=r?function(f){o===e&&(o=jh(o)),o.push(f)}:function(f,d){var p=Vu.call(o,d),g=p&&n?n(o[d],f,d):f;(!p||g!==o[d])&&(o===e&&(o=jh(o)),o[d]=g)},c=0;c<t.length;c++)s(t[c]).forEach(a);return o}function Lee(e){function t(n,r,o){return ds(n)&&ds(r)&&Fee(n,r)?Db(n,[r],t):e?e(n,r,o):r}return t}function Fee(e,t){var n=ir(e),r=ir(t);return ro(n)===ro(r)&&vt(n)===vt(r)}function DP(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return jb(this,e)}function WP(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return jb(this,t,e)}function Wb(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return Gu(this,e,Wo(),function(r){return Db(r,t)})}function Ub(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return Gu(this,e,Wo(),function(r){return jb(r,t)})}function ef(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this}function tf(){return this.__ownerID?this:this.__ensureOwner(new Eb)}function nf(){return this.__ensureOwner()}function zb(){return this.__altered}var Ju=function(e){function t(n){return n==null?Wo():Ab(n)&&!qo(n)?n:Wo().withMutations(function(r){var o=e(n);_r(o.size),o.forEach(function(s,a){return r.set(a,s)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return this.__toString("Map {","}")},t.prototype.get=function(r,o){return this._root?this._root.get(0,void 0,r,o):o},t.prototype.set=function(r,o){return TC(this,r,o)},t.prototype.remove=function(r){return TC(this,r,Be)},t.prototype.deleteAll=function(r){var o=Mn(r);return o.size===0?this:this.withMutations(function(s){o.forEach(function(a){return s.remove(a)})})},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Wo()},t.prototype.sort=function(r){return Ii(Eu(this,r))},t.prototype.sortBy=function(r,o){return Ii(Eu(this,o,r))},t.prototype.map=function(r,o){var s=this;return this.withMutations(function(a){a.forEach(function(c,f){a.set(f,r.call(o,c,f,s))})})},t.prototype.__iterator=function(r,o){return new Bee(this,r,o)},t.prototype.__iterate=function(r,o){var s=this,a=0;return this._root&&this._root.iterate(function(c){return a++,r(c[1],c[0],s)},o),a},t.prototype.__ensureOwner=function(r){return r===this.__ownerID?this:r?qb(this.size,this._root,r,this.__hash):this.size===0?Wo():(this.__ownerID=r,this.__altered=!1,this)},t}(oo);Ju.isMap=Ab;var ht=Ju.prototype;ht[SP]=!0;ht[Ql]=ht.remove;ht.removeAll=ht.deleteAll;ht.setIn=Nb;ht.removeIn=ht.deleteIn=Lb;ht.update=Fb;ht.updateIn=Bb;ht.merge=ht.concat=FP;ht.mergeWith=BP;ht.mergeDeep=DP;ht.mergeDeepWith=WP;ht.mergeIn=Wb;ht.mergeDeepIn=Ub;ht.withMutations=ef;ht.wasAltered=zb;ht.asImmutable=nf;ht["@@transducer/init"]=ht.asMutable=tf;ht["@@transducer/step"]=function(e,t){return e.set(t[0],t[1])};ht["@@transducer/result"]=function(e){return e.asImmutable()};var pl=function(t,n){this.ownerID=t,this.entries=n};pl.prototype.get=function(t,n,r,o){for(var s=this.entries,a=0,c=s.length;a<c;a++)if(wr(r,s[a][0]))return s[a][1];return o};pl.prototype.update=function(t,n,r,o,s,a,c){for(var f=s===Be,d=this.entries,p=0,g=d.length;p<g&&!wr(o,d[p][0]);p++);var m=p<g;if(m?d[p][1]===s:f)return this;if(Qr(c),(f||!m)&&Qr(a),!(f&&d.length===1)){if(!m&&!f&&d.length>=qee)return jee(t,d,o,s);var y=t&&t===this.ownerID,b=y?d:Bo(d);return m?f?p===g-1?b.pop():b[p]=b.pop():b[p]=[o,s]:b.push([o,s]),y?(this.entries=b,this):new pl(t,b)}};var xu=function(t,n,r){this.ownerID=t,this.bitmap=n,this.nodes=r};xu.prototype.get=function(t,n,r,o){n===void 0&&(n=mr(r));var s=1<<((t===0?n:n>>>t)&Kn),a=this.bitmap;return a&s?this.nodes[UP(a&s-1)].get(t+ot,n,r,o):o};xu.prototype.update=function(t,n,r,o,s,a,c){r===void 0&&(r=mr(o));var f=(n===0?r:r>>>n)&Kn,d=1<<f,p=this.bitmap,g=(p&d)!==0;if(!g&&s===Be)return this;var m=UP(p&d-1),y=this.nodes,b=g?y[m]:void 0,x=Kb(b,t,n+ot,r,o,s,a,c);if(x===b)return this;if(!g&&x&&y.length>=Kee)return Wee(t,y,p,f,x);if(g&&!x&&y.length===2&&kC(y[m^1]))return y[m^1];if(g&&x&&y.length===1&&kC(x))return x;var T=t&&t===this.ownerID,k=g?x?p:p^d:p|d,L=g?x?zP(y,m,x,T):zee(y,m,T):Uee(y,m,x,T);return T?(this.bitmap=k,this.nodes=L,this):new xu(t,k,L)};var gl=function(t,n,r){this.ownerID=t,this.count=n,this.nodes=r};gl.prototype.get=function(t,n,r,o){n===void 0&&(n=mr(r));var s=(t===0?n:n>>>t)&Kn,a=this.nodes[s];return a?a.get(t+ot,n,r,o):o};gl.prototype.update=function(t,n,r,o,s,a,c){r===void 0&&(r=mr(o));var f=(n===0?r:r>>>n)&Kn,d=s===Be,p=this.nodes,g=p[f];if(d&&!g)return this;var m=Kb(g,t,n+ot,r,o,s,a,c);if(m===g)return this;var y=this.count;if(!g)y++;else if(!m&&(y--,y<Vee))return Dee(t,p,y,f);var b=t&&t===this.ownerID,x=zP(p,f,m,b);return b?(this.count=y,this.nodes=x,this):new gl(t,y,x)};var Cu=function(t,n,r){this.ownerID=t,this.keyHash=n,this.entries=r};Cu.prototype.get=function(t,n,r,o){for(var s=this.entries,a=0,c=s.length;a<c;a++)if(wr(r,s[a][0]))return s[a][1];return o};Cu.prototype.update=function(t,n,r,o,s,a,c){r===void 0&&(r=mr(o));var f=s===Be;if(r!==this.keyHash)return f?this:(Qr(c),Qr(a),Vb(this,t,n,r,[o,s]));for(var d=this.entries,p=0,g=d.length;p<g&&!wr(o,d[p][0]);p++);var m=p<g;if(m?d[p][1]===s:f)return this;if(Qr(c),(f||!m)&&Qr(a),f&&g===2)return new Oi(t,this.keyHash,d[p^1]);var y=t&&t===this.ownerID,b=y?d:Bo(d);return m?f?p===g-1?b.pop():b[p]=b.pop():b[p]=[o,s]:b.push([o,s]),y?(this.entries=b,this):new Cu(t,this.keyHash,b)};var Oi=function(t,n,r){this.ownerID=t,this.keyHash=n,this.entry=r};Oi.prototype.get=function(t,n,r,o){return wr(r,this.entry[0])?this.entry[1]:o};Oi.prototype.update=function(t,n,r,o,s,a,c){var f=s===Be,d=wr(o,this.entry[0]);if(d?s===this.entry[1]:f)return this;if(Qr(c),f){Qr(a);return}return d?t&&t===this.ownerID?(this.entry[1]=s,this):new Oi(t,this.keyHash,[o,s]):(Qr(a),Vb(this,t,n,mr(o),[o,s]))};pl.prototype.iterate=Cu.prototype.iterate=function(e,t){for(var n=this.entries,r=0,o=n.length-1;r<=o;r++)if(e(n[t?o-r:r])===!1)return!1};xu.prototype.iterate=gl.prototype.iterate=function(e,t){for(var n=this.nodes,r=0,o=n.length-1;r<=o;r++){var s=n[t?o-r:r];if(s&&s.iterate(e,t)===!1)return!1}};Oi.prototype.iterate=function(e,t){return e(this.entry)};var Bee=function(e){function t(n,r,o){this._type=r,this._reverse=o,this._stack=n._root&&xC(n._root)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.next=function(){for(var r=this._type,o=this._stack;o;){var s=o.node,a=o.index++,c=void 0;if(s.entry){if(a===0)return ky(r,s.entry)}else if(s.entries){if(c=s.entries.length-1,a<=c)return ky(r,s.entries[this._reverse?c-a:a])}else if(c=s.nodes.length-1,a<=c){var f=s.nodes[this._reverse?c-a:a];if(f){if(f.entry)return ky(r,f.entry);o=this._stack=xC(f,o)}continue}o=this._stack=this._stack.__prev}return Hn()},t}(We);function ky(e,t){return _t(e,t[0],t[1])}function xC(e,t){return{node:e,index:0,__prev:t}}function qb(e,t,n,r){var o=Object.create(ht);return o.size=e,o._root=t,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}var CC;function Wo(){return CC||(CC=qb(0))}function TC(e,t,n){var r,o;if(e._root){var s=Bv(),a=Bv();if(r=Kb(e._root,e.__ownerID,0,void 0,t,n,s,a),!a.value)return e;o=e.size+(s.value?n===Be?-1:1:0)}else{if(n===Be)return e;o=1,r=new pl(e.__ownerID,[[t,n]])}return e.__ownerID?(e.size=o,e._root=r,e.__hash=void 0,e.__altered=!0,e):r?qb(o,r):Wo()}function Kb(e,t,n,r,o,s,a,c){return e?e.update(t,n,r,o,s,a,c):s===Be?e:(Qr(c),Qr(a),new Oi(t,r,[o,s]))}function kC(e){return e.constructor===Oi||e.constructor===Cu}function Vb(e,t,n,r,o){if(e.keyHash===r)return new Cu(t,r,[e.entry,o]);var s=(n===0?e.keyHash:e.keyHash>>>n)&Kn,a=(n===0?r:r>>>n)&Kn,c,f=s===a?[Vb(e,t,n+ot,r,o)]:(c=new Oi(t,r,o),s<a?[e,c]:[c,e]);return new xu(t,1<<s|1<<a,f)}function jee(e,t,n,r){e||(e=new Eb);for(var o=new Oi(e,mr(n),[n,r]),s=0;s<t.length;s++){var a=t[s];o=o.update(e,0,void 0,a[0],a[1])}return o}function Dee(e,t,n,r){for(var o=0,s=0,a=new Array(n),c=0,f=1,d=t.length;c<d;c++,f<<=1){var p=t[c];p!==void 0&&c!==r&&(o|=f,a[s++]=p)}return new xu(e,o,a)}function Wee(e,t,n,r,o){for(var s=0,a=new Array(Sr),c=0;n!==0;c++,n>>>=1)a[c]=n&1?t[s++]:void 0;return a[r]=o,new gl(e,s+1,a)}function UP(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),e=e+(e>>4)&252645135,e+=e>>8,e+=e>>16,e&127}function zP(e,t,n,r){var o=r?e:Bo(e);return o[t]=n,o}function Uee(e,t,n,r){var o=e.length+1;if(r&&t+1===o)return e[t]=n,e;for(var s=new Array(o),a=0,c=0;c<o;c++)c===t?(s[c]=n,a=-1):s[c]=e[c+a];return s}function zee(e,t,n){var r=e.length-1;if(n&&t===r)return e.pop(),e;for(var o=new Array(r),s=0,a=0;a<r;a++)a===t&&(s=1),o[a]=e[a+s];return o}var qee=Sr/4,Kee=Sr/2,Vee=Sr/4,qP="@@__IMMUTABLE_LIST__@@";function KP(e){return!!(e&&e[qP])}var Yu=function(e){function t(n){var r=zd();if(n==null)return r;if(KP(n))return n;var o=e(n),s=o.size;return s===0?r:(_r(s),s>0&&s<Sr?ml(0,s,ot,null,new is(o.toArray())):r.withMutations(function(a){a.setSize(s),o.forEach(function(c,f){return a.set(f,c)})}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("List [","]")},t.prototype.get=function(r,o){if(r=ls(this,r),r>=0&&r<this.size){r+=this._origin;var s=VP(this,r);return s&&s.array[r&Kn]}return o},t.prototype.set=function(r,o){return Hee(this,r,o)},t.prototype.remove=function(r){return this.has(r)?r===0?this.shift():r===this.size-1?this.pop():this.splice(r,1):this},t.prototype.insert=function(r,o){return this.splice(r,0,o)},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=ot,this._root=this._tail=this.__hash=void 0,this.__altered=!0,this):zd()},t.prototype.push=function(){var r=arguments,o=this.size;return this.withMutations(function(s){Zi(s,0,o+r.length);for(var a=0;a<r.length;a++)s.set(o+a,r[a])})},t.prototype.pop=function(){return Zi(this,0,-1)},t.prototype.unshift=function(){var r=arguments;return this.withMutations(function(o){Zi(o,-r.length);for(var s=0;s<r.length;s++)o.set(s,r[s])})},t.prototype.shift=function(){return Zi(this,1)},t.prototype.shuffle=function(r){return r===void 0&&(r=Math.random),this.withMutations(function(o){for(var s=o.size,a,c;s;)a=Math.floor(r()*s--),c=o.get(a),o.set(a,o.get(s)),o.set(s,c)})},t.prototype.concat=function(){for(var r=arguments,o=[],s=0;s<arguments.length;s++){var a=r[s],c=e(typeof a!="string"&&vP(a)?a:[a]);c.size!==0&&o.push(c)}return o.length===0?this:this.size===0&&!this.__ownerID&&o.length===1?this.constructor(o[0]):this.withMutations(function(f){o.forEach(function(d){return d.forEach(function(p){return f.push(p)})})})},t.prototype.setSize=function(r){return Zi(this,0,r)},t.prototype.map=function(r,o){var s=this;return this.withMutations(function(a){for(var c=0;c<s.size;c++)a.set(c,r.call(o,a.get(c),c,s))})},t.prototype.slice=function(r,o){var s=this.size;return Dp(r,o,s)?this:Zi(this,Zl(r,s),Wp(o,s))},t.prototype.__iterator=function(r,o){var s=o?this.size:0,a=OC(this,o);return new We(function(){var c=a();return c===Gc?Hn():_t(r,o?--s:s++,c)})},t.prototype.__iterate=function(r,o){for(var s=o?this.size:0,a=OC(this,o),c;(c=a())!==Gc&&r(c,o?--s:s++,this)!==!1;);return s},t.prototype.__ensureOwner=function(r){return r===this.__ownerID?this:r?ml(this._origin,this._capacity,this._level,this._root,this._tail,r,this.__hash):this.size===0?zd():(this.__ownerID=r,this.__altered=!1,this)},t}(ga);Yu.isList=KP;var qt=Yu.prototype;qt[qP]=!0;qt[Ql]=qt.remove;qt.merge=qt.concat;qt.setIn=Nb;qt.deleteIn=qt.removeIn=Lb;qt.update=Fb;qt.updateIn=Bb;qt.mergeIn=Wb;qt.mergeDeepIn=Ub;qt.withMutations=ef;qt.wasAltered=zb;qt.asImmutable=nf;qt["@@transducer/init"]=qt.asMutable=tf;qt["@@transducer/step"]=function(e,t){return e.push(t)};qt["@@transducer/result"]=function(e){return e.asImmutable()};var is=function(t,n){this.array=t,this.ownerID=n};is.prototype.removeBefore=function(t,n,r){if(!(r&(1<<n+ot)-1)||this.array.length===0)return this;var o=r>>>n&Kn;if(o>=this.array.length)return new is([],t);var s=o===0,a;if(n>0){var c=this.array[o];if(a=c&&c.removeBefore(t,n-ot,r),a===c&&s)return this}if(s&&!a)return this;var f=Tu(this,t);if(!s)for(var d=0;d<o;d++)f.array[d]=void 0;return a&&(f.array[o]=a),f};is.prototype.removeAfter=function(t,n,r){if(r===(n?1<<n+ot:Sr)||this.array.length===0)return this;var o=r-1>>>n&Kn;if(o>=this.array.length)return this;var s;if(n>0){var a=this.array[o];if(s=a&&a.removeAfter(t,n-ot,r),s===a&&o===this.array.length-1)return this}var c=Tu(this,t);return c.array.splice(o+1),s&&(c.array[o]=s),c};var Gc={};function OC(e,t){var n=e._origin,r=e._capacity,o=yl(r),s=e._tail;return a(e._root,e._level,0);function a(d,p,g){return p===0?c(d,g):f(d,p,g)}function c(d,p){var g=p===o?s&&s.array:d&&d.array,m=p>n?0:n-p,y=r-p;return y>Sr&&(y=Sr),function(){if(m===y)return Gc;var b=t?--y:m++;return g&&g[b]}}function f(d,p,g){var m,y=d&&d.array,b=g>n?0:n-g>>p,x=(r-g>>p)+1;return x>Sr&&(x=Sr),function(){for(;;){if(m){var T=m();if(T!==Gc)return T;m=null}if(b===x)return Gc;var k=t?--x:b++;m=a(y&&y[k],p-ot,g+(k<<p))}}}}function ml(e,t,n,r,o,s,a){var c=Object.create(qt);return c.size=t-e,c._origin=e,c._capacity=t,c._level=n,c._root=r,c._tail=o,c.__ownerID=s,c.__hash=a,c.__altered=!1,c}function zd(){return ml(0,0,ot)}function Hee(e,t,n){if(t=ls(e,t),t!==t)return e;if(t>=e.size||t<0)return e.withMutations(function(a){t<0?Zi(a,t).set(0,n):Zi(a,0,t+1).set(t,n)});t+=e._origin;var r=e._tail,o=e._root,s=Bv();return t>=yl(e._capacity)?r=qv(r,e.__ownerID,0,t,n,s):o=qv(o,e.__ownerID,e._level,t,n,s),s.value?e.__ownerID?(e._root=o,e._tail=r,e.__hash=void 0,e.__altered=!0,e):ml(e._origin,e._capacity,e._level,o,r):e}function qv(e,t,n,r,o,s){var a=r>>>n&Kn,c=e&&a<e.array.length;if(!c&&o===void 0)return e;var f;if(n>0){var d=e&&e.array[a],p=qv(d,t,n-ot,r,o,s);return p===d?e:(f=Tu(e,t),f.array[a]=p,f)}return c&&e.array[a]===o?e:(s&&Qr(s),f=Tu(e,t),o===void 0&&a===f.array.length-1?f.array.pop():f.array[a]=o,f)}function Tu(e,t){return t&&e&&t===e.ownerID?e:new is(e?e.array.slice():[],t)}function VP(e,t){if(t>=yl(e._capacity))return e._tail;if(t<1<<e._level+ot){for(var n=e._root,r=e._level;n&&r>0;)n=n.array[t>>>r&Kn],r-=ot;return n}}function Zi(e,t,n){t!==void 0&&(t|=0),n!==void 0&&(n|=0);var r=e.__ownerID||new Eb,o=e._origin,s=e._capacity,a=o+t,c=n===void 0?s:n<0?s+n:o+n;if(a===o&&c===s)return e;if(a>=c)return e.clear();for(var f=e._level,d=e._root,p=0;a+p<0;)d=new is(d&&d.array.length?[void 0,d]:[],r),f+=ot,p+=1<<f;p&&(a+=p,o+=p,c+=p,s+=p);for(var g=yl(s),m=yl(c);m>=1<<f+ot;)d=new is(d&&d.array.length?[d]:[],r),f+=ot;var y=e._tail,b=m<g?VP(e,c-1):m>g?new is([],r):y;if(y&&m>g&&a<s&&y.array.length){d=Tu(d,r);for(var x=d,T=f;T>ot;T-=ot){var k=g>>>T&Kn;x=x.array[k]=Tu(x.array[k],r)}x.array[g>>>ot&Kn]=y}if(c<s&&(b=b&&b.removeAfter(r,0,c)),a>=m)a-=m,c-=m,f=ot,d=null,b=b&&b.removeBefore(r,0,a);else if(a>o||m<g){for(p=0;d;){var L=a>>>f&Kn;if(L!==m>>>f&Kn)break;L&&(p+=(1<<f)*L),f-=ot,d=d.array[L]}d&&a>o&&(d=d.removeBefore(r,f,a-p)),d&&m<g&&(d=d.removeAfter(r,f,m-p)),p&&(a-=p,c-=p)}return e.__ownerID?(e.size=c-a,e._origin=a,e._capacity=c,e._level=f,e._root=d,e._tail=b,e.__hash=void 0,e.__altered=!0,e):ml(a,c,f,d,b)}function yl(e){return e<Sr?0:e-1>>>ot<<ot}var Ii=function(e){function t(n){return n==null?Fc():wP(n)?n:Fc().withMutations(function(r){var o=oo(n);_r(o.size),o.forEach(function(s,a){return r.set(a,s)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("OrderedMap {","}")},t.prototype.get=function(r,o){var s=this._map.get(r);return s!==void 0?this._list.get(s)[1]:o},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this.__altered=!0,this):Fc()},t.prototype.set=function(r,o){return AC(this,r,o)},t.prototype.remove=function(r){return AC(this,r,Be)},t.prototype.__iterate=function(r,o){var s=this;return this._list.__iterate(function(a){return a&&r(a[1],a[0],s)},o)},t.prototype.__iterator=function(r,o){return this._list.fromEntrySeq().__iterator(r,o)},t.prototype.__ensureOwner=function(r){if(r===this.__ownerID)return this;var o=this._map.__ensureOwner(r),s=this._list.__ensureOwner(r);return r?Hb(o,s,r,this.__hash):this.size===0?Fc():(this.__ownerID=r,this.__altered=!1,this._map=o,this._list=s,this)},t}(Ju);Ii.isOrderedMap=wP;Ii.prototype[fs]=!0;Ii.prototype[Ql]=Ii.prototype.remove;function Hb(e,t,n,r){var o=Object.create(Ii.prototype);return o.size=e?e.size:0,o._map=e,o._list=t,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}var IC;function Fc(){return IC||(IC=Hb(Wo(),zd()))}function AC(e,t,n){var r=e._map,o=e._list,s=r.get(t),a=s!==void 0,c,f;if(n===Be){if(!a)return e;o.size>=Sr&&o.size>=r.size*2?(f=o.filter(function(d,p){return d!==void 0&&s!==p}),c=f.toKeyedSeq().map(function(d){return d[0]}).flip().toMap(),e.__ownerID&&(c.__ownerID=f.__ownerID=e.__ownerID)):(c=r.remove(t),f=s===o.size-1?o.pop():o.set(s,void 0))}else if(a){if(n===o.get(s)[1])return e;c=r,f=o.set(s,[t,n])}else c=r.set(t,o.size),f=o.set(o.size,[t,n]);return e.__ownerID?(e.size=c.size,e._map=c,e._list=f,e.__hash=void 0,e.__altered=!0,e):Hb(c,f)}var HP="@@__IMMUTABLE_STACK__@@";function Kv(e){return!!(e&&e[HP])}var Gb=function(e){function t(n){return n==null?pd():Kv(n)?n:pd().pushAll(n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("Stack [","]")},t.prototype.get=function(r,o){var s=this._head;for(r=ls(this,r);s&&r--;)s=s.next;return s?s.value:o},t.prototype.peek=function(){return this._head&&this._head.value},t.prototype.push=function(){var r=arguments;if(arguments.length===0)return this;for(var o=this.size+arguments.length,s=this._head,a=arguments.length-1;a>=0;a--)s={value:r[a],next:s};return this.__ownerID?(this.size=o,this._head=s,this.__hash=void 0,this.__altered=!0,this):Bc(o,s)},t.prototype.pushAll=function(r){if(r=e(r),r.size===0)return this;if(this.size===0&&Kv(r))return r;_r(r.size);var o=this.size,s=this._head;return r.__iterate(function(a){o++,s={value:a,next:s}},!0),this.__ownerID?(this.size=o,this._head=s,this.__hash=void 0,this.__altered=!0,this):Bc(o,s)},t.prototype.pop=function(){return this.slice(1)},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):pd()},t.prototype.slice=function(r,o){if(Dp(r,o,this.size))return this;var s=Zl(r,this.size),a=Wp(o,this.size);if(a!==this.size)return e.prototype.slice.call(this,r,o);for(var c=this.size-s,f=this._head;s--;)f=f.next;return this.__ownerID?(this.size=c,this._head=f,this.__hash=void 0,this.__altered=!0,this):Bc(c,f)},t.prototype.__ensureOwner=function(r){return r===this.__ownerID?this:r?Bc(this.size,this._head,r,this.__hash):this.size===0?pd():(this.__ownerID=r,this.__altered=!1,this)},t.prototype.__iterate=function(r,o){var s=this;if(o)return new wu(this.toArray()).__iterate(function(f,d){return r(f,d,s)},o);for(var a=0,c=this._head;c&&r(c.value,a++,this)!==!1;)c=c.next;return a},t.prototype.__iterator=function(r,o){if(o)return new wu(this.toArray()).__iterator(r,o);var s=0,a=this._head;return new We(function(){if(a){var c=a.value;return a=a.next,_t(r,s++,c)}return Hn()})},t}(ga);Gb.isStack=Kv;var Gn=Gb.prototype;Gn[HP]=!0;Gn.shift=Gn.pop;Gn.unshift=Gn.push;Gn.unshiftAll=Gn.pushAll;Gn.withMutations=ef;Gn.wasAltered=zb;Gn.asImmutable=nf;Gn["@@transducer/init"]=Gn.asMutable=tf;Gn["@@transducer/step"]=function(e,t){return e.unshift(t)};Gn["@@transducer/result"]=function(e){return e.asImmutable()};function Bc(e,t,n,r){var o=Object.create(Gn);return o.size=e,o._head=t,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}var $C;function pd(){return $C||($C=Bc(0))}var GP="@@__IMMUTABLE_SET__@@";function Jb(e){return!!(e&&e[GP])}function JP(e){return Jb(e)&&qo(e)}function YP(e,t){if(e===t)return!0;if(!Or(t)||e.size!==void 0&&t.size!==void 0&&e.size!==t.size||e.__hash!==void 0&&t.__hash!==void 0&&e.__hash!==t.__hash||vt(e)!==vt(t)||ro(e)!==ro(t)||qo(e)!==qo(t))return!1;if(e.size===0&&t.size===0)return!0;var n=!xb(e);if(qo(e)){var r=e.entries();return t.every(function(f,d){var p=r.next().value;return p&&wr(p[1],f)&&(n||wr(p[0],d))})&&r.next().done}var o=!1;if(e.size===void 0)if(t.size===void 0)typeof e.cacheResult=="function"&&e.cacheResult();else{o=!0;var s=e;e=t,t=s}var a=!0,c=t.__iterate(function(f,d){if(n?!e.has(f):o?!wr(f,e.get(d,Be)):!wr(e.get(d,Be),f))return a=!1,!1});return a&&e.size===c}function ya(e,t){var n=function(r){e.prototype[r]=t[r]};return Object.keys(t).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(n),e}function Dh(e){if(!e||typeof e!="object")return e;if(!Or(e)){if(!ds(e))return e;e=ir(e)}if(vt(e)){var t={};return e.__iterate(function(r,o){t[o]=Dh(r)}),t}var n=[];return e.__iterate(function(r){n.push(Dh(r))}),n}var rf=function(e){function t(n){return n==null?jc():Jb(n)&&!qo(n)?n:jc().withMutations(function(r){var o=e(n);_r(o.size),o.forEach(function(s){return r.add(s)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(r){return this(oo(r).keySeq())},t.intersect=function(r){return r=Mn(r).toArray(),r.length?bn.intersect.apply(t(r.pop()),r):jc()},t.union=function(r){return r=Mn(r).toArray(),r.length?bn.union.apply(t(r.pop()),r):jc()},t.prototype.toString=function(){return this.__toString("Set {","}")},t.prototype.has=function(r){return this._map.has(r)},t.prototype.add=function(r){return gd(this,this._map.set(r,r))},t.prototype.remove=function(r){return gd(this,this._map.remove(r))},t.prototype.clear=function(){return gd(this,this._map.clear())},t.prototype.map=function(r,o){var s=this,a=!1,c=gd(this,this._map.mapEntries(function(f){var d=f[1],p=r.call(o,d,d,s);return p!==d&&(a=!0),[p,p]},o));return a?c:this},t.prototype.union=function(){for(var r=[],o=arguments.length;o--;)r[o]=arguments[o];return r=r.filter(function(s){return s.size!==0}),r.length===0?this:this.size===0&&!this.__ownerID&&r.length===1?this.constructor(r[0]):this.withMutations(function(s){for(var a=0;a<r.length;a++)typeof r[a]=="string"?s.add(r[a]):e(r[a]).forEach(function(c){return s.add(c)})})},t.prototype.intersect=function(){for(var r=[],o=arguments.length;o--;)r[o]=arguments[o];if(r.length===0)return this;r=r.map(function(a){return e(a)});var s=[];return this.forEach(function(a){r.every(function(c){return c.includes(a)})||s.push(a)}),this.withMutations(function(a){s.forEach(function(c){a.remove(c)})})},t.prototype.subtract=function(){for(var r=[],o=arguments.length;o--;)r[o]=arguments[o];if(r.length===0)return this;r=r.map(function(a){return e(a)});var s=[];return this.forEach(function(a){r.some(function(c){return c.includes(a)})&&s.push(a)}),this.withMutations(function(a){s.forEach(function(c){a.remove(c)})})},t.prototype.sort=function(r){return vl(Eu(this,r))},t.prototype.sortBy=function(r,o){return vl(Eu(this,o,r))},t.prototype.wasAltered=function(){return this._map.wasAltered()},t.prototype.__iterate=function(r,o){var s=this;return this._map.__iterate(function(a){return r(a,a,s)},o)},t.prototype.__iterator=function(r,o){return this._map.__iterator(r,o)},t.prototype.__ensureOwner=function(r){if(r===this.__ownerID)return this;var o=this._map.__ensureOwner(r);return r?this.__make(o,r):this.size===0?this.__empty():(this.__ownerID=r,this._map=o,this)},t}(qu);rf.isSet=Jb;var bn=rf.prototype;bn[GP]=!0;bn[Ql]=bn.remove;bn.merge=bn.concat=bn.union;bn.withMutations=ef;bn.asImmutable=nf;bn["@@transducer/init"]=bn.asMutable=tf;bn["@@transducer/step"]=function(e,t){return e.add(t)};bn["@@transducer/result"]=function(e){return e.asImmutable()};bn.__empty=jc;bn.__make=XP;function gd(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:t.size===0?e.__empty():e.__make(t)}function XP(e,t){var n=Object.create(bn);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}var RC;function jc(){return RC||(RC=XP(Wo()))}var Gee=function(e){function t(n,r,o){if(o===void 0&&(o=1),!(this instanceof t))return new t(n,r,o);if(Hc(o!==0,"Cannot step a Range by 0"),Hc(n!==void 0,"You must define a start value when using Range"),Hc(r!==void 0,"You must define an end value when using Range"),o=Math.abs(o),r<n&&(o=-o),this._start=n,this._end=r,this._step=o,this.size=Math.max(0,Math.ceil((r-n)/o-1)+1),this.size===0){if(Oy)return Oy;Oy=this}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step!==1?" by "+this._step:"")+" ]"},t.prototype.get=function(r,o){return this.has(r)?this._start+ls(this,r)*this._step:o},t.prototype.includes=function(r){var o=(r-this._start)/this._step;return o>=0&&o<this.size&&o===Math.floor(o)},t.prototype.slice=function(r,o){return Dp(r,o,this.size)?this:(r=Zl(r,this.size),o=Wp(o,this.size),o<=r?new t(0,0):new t(this.get(r,this._end),this.get(o,this._end),this._step))},t.prototype.indexOf=function(r){var o=r-this._start;if(o%this._step===0){var s=o/this._step;if(s>=0&&s<this.size)return s}return-1},t.prototype.lastIndexOf=function(r){return this.indexOf(r)},t.prototype.__iterate=function(r,o){for(var s=this.size,a=this._step,c=o?this._start+(s-1)*a:this._start,f=0;f!==s&&r(c,o?s-++f:f++,this)!==!1;)c+=o?-a:a;return f},t.prototype.__iterator=function(r,o){var s=this.size,a=this._step,c=o?this._start+(s-1)*a:this._start,f=0;return new We(function(){if(f===s)return Hn();var d=c;return c+=o?-a:a,_t(r,o?s-++f:f++,d)})},t.prototype.equals=function(r){return r instanceof t?this._start===r._start&&this._end===r._end&&this._step===r._step:YP(this,r)},t}(bo),Oy;function QP(e,t,n){for(var r=PP(t),o=0;o!==r.length;)if(e=MP(e,r[o++],Be),e===Be)return n;return e}function ZP(e,t){return QP(this,e,t)}function Jee(e,t){return QP(e,t,Be)!==Be}function Yee(e){return Jee(this,e)}function eM(){_r(this.size);var e={};return this.__iterate(function(t,n){e[n]=t}),e}Mn.Iterator=We;ya(Mn,{toArray:function(){_r(this.size);var t=new Array(this.size||0),n=vt(this),r=0;return this.__iterate(function(o,s){t[r++]=n?[s,o]:o}),t},toIndexedSeq:function(){return new xP(this)},toJS:function(){return Dh(this)},toKeyedSeq:function(){return new Kp(this,!0)},toMap:function(){return Ju(this.toKeyedSeq())},toObject:eM,toOrderedMap:function(){return Ii(this.toKeyedSeq())},toOrderedSet:function(){return vl(vt(this)?this.valueSeq():this)},toSet:function(){return rf(vt(this)?this.valueSeq():this)},toSetSeq:function(){return new CP(this)},toSeq:function(){return ro(this)?this.toIndexedSeq():vt(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Gb(vt(this)?this.valueSeq():this)},toList:function(){return Yu(vt(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(t,n){return this.size===0?t+n:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+n},concat:function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return nt(this,Tee(this,t))},includes:function(t){return this.some(function(n){return wr(n,t)})},entries:function(){return this.__iterator(Ar)},every:function(t,n){_r(this.size);var r=!0;return this.__iterate(function(o,s,a){if(!t.call(n,o,s,a))return r=!1,!1}),r},filter:function(t,n){return nt(this,IP(this,t,n,!0))},partition:function(t,n){return Eee(this,t,n)},find:function(t,n,r){var o=this.findEntry(t,n);return o?o[1]:r},forEach:function(t,n){return _r(this.size),this.__iterate(n?t.bind(n):t)},join:function(t){_r(this.size),t=t!==void 0?""+t:",";var n="",r=!0;return this.__iterate(function(o){r?r=!1:n+=t,n+=o!=null?o.toString():""}),n},keys:function(){return this.__iterator(Ku)},map:function(t,n){return nt(this,OP(this,t,n))},reduce:function(t,n,r){return PC(this,t,n,r,arguments.length<2,!1)},reduceRight:function(t,n,r){return PC(this,t,n,r,arguments.length<2,!0)},reverse:function(){return nt(this,$b(this,!0))},slice:function(t,n){return nt(this,Rb(this,t,n,!0))},some:function(t,n){_r(this.size);var r=!1;return this.__iterate(function(o,s,a){if(t.call(n,o,s,a))return r=!0,!1}),r},sort:function(t){return nt(this,Eu(this,t))},values:function(){return this.__iterator(Ir)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(t,n){return Su(t?this.toSeq().filter(t,n):this)},countBy:function(t,n){return See(this,t,n)},equals:function(t){return YP(this,t)},entrySeq:function(){var t=this;if(t._cache)return new wu(t._cache);var n=t.toSeq().map(Qee).toIndexedSeq();return n.fromEntrySeq=function(){return t.toSeq()},n},filterNot:function(t,n){return this.filter(Iy(t),n)},findEntry:function(t,n,r){var o=r;return this.__iterate(function(s,a,c){if(t.call(n,s,a,c))return o=[a,s],!1}),o},findKey:function(t,n){var r=this.findEntry(t,n);return r&&r[0]},findLast:function(t,n,r){return this.toKeyedSeq().reverse().find(t,n,r)},findLastEntry:function(t,n,r){return this.toKeyedSeq().reverse().findEntry(t,n,r)},findLastKey:function(t,n){return this.toKeyedSeq().reverse().findKey(t,n)},first:function(t){return this.find(fP,null,t)},flatMap:function(t,n){return nt(this,kee(this,t,n))},flatten:function(t){return nt(this,$P(this,t,!0))},fromEntrySeq:function(){return new TP(this)},get:function(t,n){return this.find(function(r,o){return wr(o,t)},void 0,n)},getIn:ZP,groupBy:function(t,n){return wee(this,t,n)},has:function(t){return this.get(t,Be)!==Be},hasIn:Yee,isSubset:function(t){return t=typeof t.includes=="function"?t:Mn(t),this.every(function(n){return t.includes(n)})},isSuperset:function(t){return t=typeof t.isSubset=="function"?t:Mn(t),t.isSubset(this)},keyOf:function(t){return this.findKey(function(n){return wr(n,t)})},keySeq:function(){return this.toSeq().map(Xee).toIndexedSeq()},last:function(t){return this.toSeq().reverse().first(t)},lastKeyOf:function(t){return this.toKeyedSeq().reverse().keyOf(t)},max:function(t){return dd(this,t)},maxBy:function(t,n){return dd(this,n,t)},min:function(t){return dd(this,t?MC(t):LC)},minBy:function(t,n){return dd(this,n?MC(n):LC,t)},rest:function(){return this.slice(1)},skip:function(t){return t===0?this:this.slice(Math.max(0,t))},skipLast:function(t){return t===0?this:this.slice(0,-Math.max(0,t))},skipWhile:function(t,n){return nt(this,AP(this,t,n,!0))},skipUntil:function(t,n){return this.skipWhile(Iy(t),n)},sortBy:function(t,n){return nt(this,Eu(this,n,t))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return this.slice(-Math.max(0,t))},takeWhile:function(t,n){return nt(this,xee(this,t,n))},takeUntil:function(t,n){return this.takeWhile(Iy(t),n)},update:function(t){return t(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=Zee(this))}});var Fn=Mn.prototype;Fn[pP]=!0;Fn[Up]=Fn.values;Fn.toJSON=Fn.toArray;Fn.__toStringMapper=hl;Fn.inspect=Fn.toSource=function(){return this.toString()};Fn.chain=Fn.flatMap;Fn.contains=Fn.includes;ya(oo,{flip:function(){return nt(this,kP(this))},mapEntries:function(t,n){var r=this,o=0;return nt(this,this.toSeq().map(function(s,a){return t.call(n,[a,s],o++,r)}).fromEntrySeq())},mapKeys:function(t,n){var r=this;return nt(this,this.toSeq().flip().map(function(o,s){return t.call(n,o,s,r)}).flip())}});var of=oo.prototype;of[Fh]=!0;of[Up]=Fn.entries;of.toJSON=eM;of.__toStringMapper=function(e,t){return hl(t)+": "+hl(e)};ya(ga,{toKeyedSeq:function(){return new Kp(this,!1)},filter:function(t,n){return nt(this,IP(this,t,n,!1))},findIndex:function(t,n){var r=this.findEntry(t,n);return r?r[0]:-1},indexOf:function(t){var n=this.keyOf(t);return n===void 0?-1:n},lastIndexOf:function(t){var n=this.lastKeyOf(t);return n===void 0?-1:n},reverse:function(){return nt(this,$b(this,!1))},slice:function(t,n){return nt(this,Rb(this,t,n,!1))},splice:function(t,n){var r=arguments.length;if(n=Math.max(n||0,0),r===0||r===2&&!n)return this;t=Zl(t,t<0?this.count():this.size);var o=this.slice(0,t);return nt(this,r===1?o:o.concat(Bo(arguments,2),this.slice(t+n)))},findLastIndex:function(t,n){var r=this.findLastEntry(t,n);return r?r[0]:-1},first:function(t){return this.get(0,t)},flatten:function(t){return nt(this,$P(this,t,!1))},get:function(t,n){return t=ls(this,t),t<0||this.size===1/0||this.size!==void 0&&t>this.size?n:this.find(function(r,o){return o===t},void 0,n)},has:function(t){return t=ls(this,t),t>=0&&(this.size!==void 0?this.size===1/0||t<this.size:this.indexOf(t)!==-1)},interpose:function(t){return nt(this,Oee(this,t))},interleave:function(){var t=[this].concat(Bo(arguments)),n=hd(this.toSeq(),bo.of,t),r=n.flatten(!0);return n.size&&(r.size=n.size*t.length),nt(this,r)},keySeq:function(){return Gee(0,this.size)},last:function(t){return this.get(-1,t)},skipWhile:function(t,n){return nt(this,AP(this,t,n,!1))},zip:function(){var t=[this].concat(Bo(arguments));return nt(this,hd(this,NC,t))},zipAll:function(){var t=[this].concat(Bo(arguments));return nt(this,hd(this,NC,t,!0))},zipWith:function(t){var n=Bo(arguments);return n[0]=this,nt(this,hd(this,t,n))}});var Xu=ga.prototype;Xu[Bh]=!0;Xu[fs]=!0;ya(qu,{get:function(t,n){return this.has(t)?t:n},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}});var ku=qu.prototype;ku.has=Fn.includes;ku.contains=ku.includes;ku.keys=ku.values;ya(ms,of);ya(bo,Xu);ya(Hu,ku);function PC(e,t,n,r,o,s){return _r(e.size),e.__iterate(function(a,c,f){o?(o=!1,n=a):n=t.call(r,n,a,c,f)},s),n}function Xee(e,t){return t}function Qee(e,t){return[t,e]}function Iy(e){return function(){return!e.apply(this,arguments)}}function MC(e){return function(){return-e.apply(this,arguments)}}function NC(){return Bo(arguments)}function LC(e,t){return e<t?1:e>t?-1:0}function Zee(e){if(e.size===1/0)return 0;var t=qo(e),n=vt(e),r=t?1:0;return e.__iterate(n?t?function(o,s){r=31*r+FC(mr(o),mr(s))|0}:function(o,s){r=r+FC(mr(o),mr(s))|0}:t?function(o){r=31*r+mr(o)|0}:function(o){r=r+mr(o)|0}),ete(e.size,r)}function ete(e,t){return t=Ac(t,3432918353),t=Ac(t<<15|t>>>-15,461845907),t=Ac(t<<13|t>>>-13,5),t=(t+3864292196|0)^e,t=Ac(t^t>>>16,2246822507),t=Ac(t^t>>>13,3266489909),t=qp(t^t>>>16),t}function FC(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}var vl=function(e){function t(n){return n==null?Vv():JP(n)?n:Vv().withMutations(function(r){var o=qu(n);_r(o.size),o.forEach(function(s){return r.add(s)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(r){return this(oo(r).keySeq())},t.prototype.toString=function(){return this.__toString("OrderedSet {","}")},t}(rf);vl.isOrderedSet=JP;var va=vl.prototype;va[fs]=!0;va.zip=Xu.zip;va.zipWith=Xu.zipWith;va.zipAll=Xu.zipAll;va.__empty=Vv;va.__make=tM;function tM(e,t){var n=Object.create(va);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}var BC;function Vv(){return BC||(BC=tM(Fc()))}function tte(e){if(ma(e))throw new Error("Can not call `Record` with an immutable Record as default values. Use a plain javascript object instead.");if(Zo(e))throw new Error("Can not call `Record` with an immutable Collection as default values. Use a plain javascript object instead.");if(e===null||typeof e!="object")throw new Error("Can not call `Record` with a non-object as default values. Use a plain javascript object instead.")}var an=function(t,n){var r;tte(t);var o=function(c){var f=this;if(c instanceof o)return c;if(!(this instanceof o))return new o(c);if(!r){r=!0;var d=Object.keys(t),p=s._indices={};s._name=n,s._keys=d,s._defaultValues=t;for(var g=0;g<d.length;g++){var m=d[g];p[m]=g,s[m]?typeof console=="object"&&console.warn&&console.warn("Cannot define "+Xb(this)+' with property "'+m+'" since that property name is part of the Record API.'):nte(s,m)}}return this.__ownerID=void 0,this._values=Yu().withMutations(function(y){y.setSize(f._keys.length),oo(c).forEach(function(b,x){y.set(f._indices[x],b===f._defaultValues[x]?void 0:b)})}),this},s=o.prototype=Object.create(lt);return s.constructor=o,n&&(o.displayName=n),o};an.prototype.toString=function(){for(var t=Xb(this)+" { ",n=this._keys,r,o=0,s=n.length;o!==s;o++)r=n[o],t+=(o?", ":"")+r+": "+hl(this.get(r));return t+" }"};an.prototype.equals=function(t){return this===t||ma(t)&&Ou(this).equals(Ou(t))};an.prototype.hashCode=function(){return Ou(this).hashCode()};an.prototype.has=function(t){return this._indices.hasOwnProperty(t)};an.prototype.get=function(t,n){if(!this.has(t))return n;var r=this._indices[t],o=this._values.get(r);return o===void 0?this._defaultValues[t]:o};an.prototype.set=function(t,n){if(this.has(t)){var r=this._values.set(this._indices[t],n===this._defaultValues[t]?void 0:n);if(r!==this._values&&!this.__ownerID)return Yb(this,r)}return this};an.prototype.remove=function(t){return this.set(t)};an.prototype.clear=function(){var t=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:Yb(this,t)};an.prototype.wasAltered=function(){return this._values.wasAltered()};an.prototype.toSeq=function(){return Ou(this)};an.prototype.toJS=function(){return Dh(this)};an.prototype.entries=function(){return this.__iterator(Ar)};an.prototype.__iterator=function(t,n){return Ou(this).__iterator(t,n)};an.prototype.__iterate=function(t,n){return Ou(this).__iterate(t,n)};an.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var n=this._values.__ensureOwner(t);return t?Yb(this,n,t):(this.__ownerID=t,this._values=n,this)};an.isRecord=ma;an.getDescriptiveName=Xb;var lt=an.prototype;lt[mP]=!0;lt[Ql]=lt.remove;lt.deleteIn=lt.removeIn=Lb;lt.getIn=ZP;lt.hasIn=Fn.hasIn;lt.merge=FP;lt.mergeWith=BP;lt.mergeIn=Wb;lt.mergeDeep=DP;lt.mergeDeepWith=WP;lt.mergeDeepIn=Ub;lt.setIn=Nb;lt.update=Fb;lt.updateIn=Bb;lt.withMutations=ef;lt.asMutable=tf;lt.asImmutable=nf;lt[Up]=lt.entries;lt.toJSON=lt.toObject=Fn.toObject;lt.inspect=lt.toSource=function(){return this.toString()};function Yb(e,t,n){var r=Object.create(Object.getPrototypeOf(e));return r._values=t,r.__ownerID=n,r}function Xb(e){return e.constructor.displayName||e.constructor.name||"Record"}function Ou(e){return Ob(e._keys.map(function(t){return[t,e.get(t)]}))}function nte(e,t){try{Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(n){Hc(this.__ownerID,"Cannot set on an immutable record."),this.set(t,n)}})}catch{}}const rte=e=>{const t=e.useValue(),n=e.useSet();return{add:a=>{n(c=>[...c,a])},remove:a=>{n(c=>c.filter(f=>f!==a))},update:(a,c)=>{n(f=>f.map(d=>d===a?c:d))},values:t}};function ote(e){return new Worker(""+new URL("ControllerWorkerMain.js",import.meta.url).href,{type:"module",name:e==null?void 0:e.name})}const ite=()=>()=>({put:()=>e=>{},useGet:()=>({})}),ste={controller:bb.empty,component:e=>st.createElement("div"),uiStore:ite()},nM={emptyDevice:ste},ate={findByName:e=>oe(),getByName:e=>nM.emptyDevice};let Qb=ate;const ute=e=>{const t=Q.keyBy(e,o=>o.controller.name),n=o=>Xo(Q.get(t,o,void 0));Qb={findByName:n,getByName:o=>Ot(n(o),{onSome:s=>s,onNone:()=>nM.emptyDevice})}},cte=()=>Qb,lte=()=>Qb,fte={init:ute,useDevices:lte,get:cte},rM=()=>f_("controller:worker"),dte=(e,t,n)=>{const r=`controller:${e.key}:${t.name}`,o=new ote({name:r});Yt.info("Creating controller worker",r),o.postMessage(["INIT",t]),bt(F(t.selected.input,ss(n.getInput)),()=>iP.empty()).on("*",c=>o.postMessage(["EMITTER",c]));const a=bt(F(t.selected.output,ss(n.getOutput)),()=>Sb.empty());return o.onmessage=c=>{if(Q.isArray(c.data)&&c.data.length==2){const[f,d]=c.data;f==="LISTENER"&&a.send(d)}},o},hte=e=>{const t=CR.virtualEmitter(e).listener,n=fte.get().getByName(e.device).uiStore(e.id).put();t.on("*",n)},pte=e=>{Q.forEach(e.controllers,hte)},gte=e=>{const t=wb.state.get();Yt.info("Loading Controllers for project",e);const n=Q.map(e.controllers,r=>dte(e,r,t));return pte(e),()=>{Yt.info("Cleaning up Controllers for project",e),n.map(r=>r.terminate())}};let jC=!1;const mte=()=>{jC||(me.project.config.subAndInit(e=>Ot(nb.getActive(e),{onSome:t=>gte(t),onNone:()=>(Yt.error("No active project found",e),()=>{})})),rM().listener.on("RELOAD_CONTROLLERS",()=>{me.project.config.set(e=>Q.cloneDeep(e))}),jC=!0)},yte=()=>{Yt.info("Sending reload request..."),rM().emitter.emit({type:"RELOAD_CONTROLLERS"})},vte={init:mte,sendReloadRequest:yte},_te=(e,t)=>t>=e.startTime&&(e.endTime===void 0||t<e.endTime),bte=(e,t)=>Q.find(e,n=>_te(n,t)),Ste=e=>{const t=lM();return st.useMemo(()=>bte(e.clips,t),[t,e])},oM=()=>me.project.arrangement.useValue(),iM=()=>oM().tracks,sM=e=>iM().find(n=>n.name===e),wte=e=>{const t=sM(e);return t===void 0?ZX:t},aM=()=>me.project.config.useFocus("active").useSet(),Qu=()=>me.project.config.useFocus("active").useValue(),uM=()=>{const e=Qu(),t=me.project.config.useValue();return Q.find(t.projects,r=>r.key===e)||yb()},Ete=()=>{const e=Qu(),t=me.project.config.useValue(),n=Q.findIndex(t.projects,r=>r.key===e);return me.project.config.useFocus("projects").useArray()[n]},cM=()=>{const e=Qu(),t=me.project.config.useValue(),n=me.project.config.useSet(),r=Yu(t.projects),o=r.findIndex(s=>s.key===e);return s=>{const a=o!==void 0?r.set(o,s(t.projects[o])):r;n({active:e,projects:a.toArray()})}},Vp=()=>me.project.config.useValue(),xte=()=>{const e=cM(),t=Vp();return n=>t.projects.findIndex(o=>o.label===n)===-1?(e(o=>({...o,label:n})),oe()):we(`Project ${n} already exists`)},Cte=()=>{const e=uM(),t={...yb().style,...e.style};return{...t,horizontalGradient:`linear-gradient(to right, ${t.accent.color1}, ${t.accent.color2})`,leftVerticalGradient:`linear-gradient(to bottom, ${t.accent.color1}, ${t.accent.color2})`,rightVerticalGradient:`linear-gradient(to top, ${t.accent.color1}, ${t.accent.color2})`,offsetGradient:`linear-gradient(45deg, ${t.accent.color1}, ${t.accent.color2})`}},Tte=()=>Vp(),kte=()=>{const e=Qu(),t=Vp(),n=Q.find(t.projects,r=>r.key===e);if(n!==void 0)return n.label},Ote=()=>{const e=me.project.config.useFocusMemo(t=>t.prop("projects"));return rte(e)},Ite=()=>me.project.abletonName.useValue(),Ate=e=>{const t=me.importStatus.useValue();st.useEffect(()=>e(t),[t])},$te=()=>me.importStatus.useValue().type!=="done",lM=()=>me.realTime.beats.useValue(),Rte=()=>me.realTime.barBeats.useValue(),Pte=()=>me.realTime.timeSignature.useValue(),Mte=()=>me.realTime.tempo.useValue(),Nte=()=>me.realTime.isPlaying.useValue(),Lte=()=>me.realTime.metronomeState.useValue(),Fte=()=>me.realTime.metronomeState.get(),Bte=()=>me.realTime.loopState.useValue(),jte=()=>me.realTime.loopState.get(),Dte=()=>{const e=Vp(),t=Qu(),n=aM();return r=>{const o=Yu(e.projects).find(s=>s.abletonProject===r);o!==void 0&&r!==t&&n(o.key)}},Wte=()=>()=>{vte.sendReloadRequest()},Ge={useOnStatusChange:Ate,useBeat:lM,useBarBeats:Rte,useTimeSignature:Pte,useTempo:Mte,useIsPlaying:Nte,useActiveClip:Ste,useArrangement:oM,useProjectsConfig:Tte,useProjectsListAtom:Ote,useActiveProjectLabel:kte,useSetActiveProject:aM,useProjectStyle:Cte,useAbletonProjectName:Ite,useSetActiveProjectName:xte,useActiveProjectValue:uM,useActiveProjectName:Qu,useActiveProjectState:Ete,useUpdateActiveProject:cM,useTracks:iM,useTrack:wte,useTrackOrUndefined:sM,useMetronomeState:Lte,getMetronomeState:Fte,useLoopState:Bte,getLoopState:jte,useOnProjectLoad:Dte,useIsProjectLoading:$te,useRefreshProject:Wte},fM=Et.one({name:"metronome-control",schema:ue({color:te.Schema}),init:()=>({color:te.BLUE}),component:({target:e,color:t})=>{const n=Mi.useDawEmitter(),r=Ge.useMetronomeState();return J.jsx(ki,{isFlashing:r,color:t,target:e,onClick:()=>n.send(Gt.metronome(!Ge.getMetronomeState())),options:{metronomeState:r}})}}),Ute=Et.one({name:"loop-control",schema:ue({color:te.Schema}),init:()=>({color:te.GREEN}),component:({target:e,color:t})=>{const n=Mi.useDawEmitter(),r=Ge.useLoopState();return J.jsx(ki,{isFlashing:r,color:t,target:e,onClick:()=>n.send(Gt.loop(!Ge.getLoopState()))})}}),dM=Et.one({name:"play-stop",schema:ue({playColor:te.Schema,stopColor:te.Schema}),init:()=>({playColor:te.GREEN,stopColor:te.RED}),component:({target:e,playColor:t,stopColor:n})=>Ge.useIsPlaying()?cP.component({target:e,color:n}):uP.component({target:e,color:t})}),zte=Et.one({name:"metronome",schema:ue({oneColor:te.Schema,restColor:te.Schema}),init:()=>({oneColor:te.GREEN,restColor:te.RED}),component:({target:e,oneColor:t,restColor:n})=>{const[r,o]=st.useState(te.BLACK);return st.useEffect(()=>lP.onTick(s=>{!s.halfBeat&&s.isPlaying?o(s.beat===1?t:n):o(te.BLACK)}),[]),J.jsx("pad",{color:r,target:e})}}),qte=(e,t,n,r)=>{const o=t+1;return o<=e?o===1?n:r:te.BLACK},hM=Et.many({name:"beats",schema:ue({oneColor:te.Schema,restColor:te.Schema}),init:()=>({oneColor:te.GREEN,restColor:te.RED}),component:({targets:e,oneColor:t,restColor:n})=>{const r=Ge.useBarBeats(),o=Ge.useTimeSignature(),s=Q.map(e,(a,c)=>J.jsx("pad",{color:qte(r,c,t,n),target:a,options:{timeSignature:o}},`beat-${c}`));return J.jsx(J.Fragment,{children:s})}}),Kte=Et.many({name:"time-sig-count",schema:ue({color:te.Schema}),init:()=>({color:te.BLUE}),component:({targets:e,color:t})=>{const n=Ge.useTimeSignature(),r=e.map((o,s)=>J.jsx("pad",{target:o,color:s+1<=n.noteCount?t:te.BLACK},`time-sig-count-${s}`));return J.jsx(J.Fragment,{children:r})}}),Vte=Et.many({name:"time-sig-length",schema:ue({color:te.Schema}),init:()=>({color:te.PURPLE}),component:({targets:e,color:t})=>{const n=Ge.useTimeSignature(),r=e.map((o,s)=>J.jsx("pad",{target:o,color:s+1<=n.noteLength?t:te.BLACK},`time-sig-length-${s}`));return J.jsx(J.Fragment,{children:r})}}),pM=Et.many({name:"nav-clips",schema:ue({trackName:yt,sort:Er(Qt("alphabetical","order"))}),init:()=>({trackName:"Nav Clip Track",sort:"order"}),tracks:e=>[e.trackName],component:({targets:e,trackName:t,sort:n})=>{const r=Mi.useDawEmitter(),o=Ge.useArrangement(),s=Ge.useTrack(t),a=Ge.useActiveClip(s),c=st.useMemo(()=>Q.fromPairs(Q.map(o.cues,y=>[y.time,y])),[o.cues]),f=s.clips.filter(y=>y.type==="real"),d=n==="alphabetical"?f.sort((y,b)=>y.name.localeCompare(b.name)):f,p=st.useMemo(()=>{const y=[];for(let b=0;b<d.length;b++){const x=e==null?void 0:e[b],T=d==null?void 0:d[b];if(T!==void 0&&x!==void 0){const k=c==null?void 0:c[T.startTime];k!==void 0&&y.push({clip:T,cue:k,target:x})}}return y},[s,c,e]),g=y=>{r.send(Gt.jumpToCue(y.cue.index))},m=p.map((y,b)=>J.jsx(ki,{isFlashing:y.clip===a,color:y.clip.color,target:y.target,onClick:()=>g(y),options:{label:y.clip.name}},`song-${b}-${y.clip.name}`));return J.jsx(J.Fragment,{children:m})}}),Hte=Et.many({name:"bar-tracker",schema:ue({trackName:yt,color:te.Schema}),init:()=>({trackName:"Track",color:te.GREEN}),tracks:e=>[e.trackName],component:({targets:e,trackName:t,color:n})=>{const r=Ge.useTrack(t),o=Ge.useBeat(),s=Ge.useBarBeats(),a=Ge.useActiveClip(r),c=Ge.useTimeSignature(),[f,d]=st.useState(0),p=st.useMemo(()=>{if(a.type==="real"){const y=Number(a.name);if(!isNaN(y))return y}return 0},[a]);st.useEffect(()=>{if(s===1&&kR.isReal(a)){const y=Math.floor(o-a.startTime);c.noteLength===4?d(Math.floor(y/c.noteCount)):c.noteLength===8&&(c.noteCount%2===0?d(Math.floor(y/(c.noteCount/2))):y%c.noteCount===0?d(Math.floor(y/c.noteCount)*2):d(Math.floor((y+.5)*2/c.noteCount)))}},[s,o,a,c]);const g=f%p+1,m=e.map((y,b)=>J.jsx(ki,{color:b<g?n:te.BLACK,target:y},`bar-tracker-${b}`));return J.jsx(J.Fragment,{children:m})}}),Gte=e=>t=>e.type==="real"&&e.endTime!==void 0&&t.startTime<e.endTime,gM=Et.many({name:"track-sections",schema:ue({trackName:yt,parentTrackName:yt}),init:()=>({trackName:"Track Sections",parentTrackName:"Parent Track Sections"}),tracks:e=>[e.trackName,e.parentTrackName],component:({targets:e,trackName:t,parentTrackName:n=""})=>{const r=Ge.useTrack(t),o=Ge.useActiveClip(r),s=Ge.useTrack(n),a=Ge.useActiveClip(s),c=Ge.useBeat(),f=st.useMemo(()=>{const g=[];return r.clips.forEach(m=>{m.startTime>=o.startTime&&g.push(m)}),g.filter(Gte(a))},[r,o,a]),d=st.useMemo(()=>{if(o&&o.endTime!==void 0){const g=o.endTime-o.startTime;return(c-o.startTime)/g*100}else return},[o,c]),p=e.map((g,m)=>{const y=f==null?void 0:f[m],b=y!==void 0&&y.type==="real"?y.color:te.BLACK,x=y!==void 0&&y.type==="real"?y.name:"";return J.jsx(ki,{color:b,target:g,options:{label:x,progress:d,isActive:y===o}},`track-sections-${m}`)});return J.jsx(J.Fragment,{children:p})}}),Ay=[void 0,"c#","d#",void 0,"f#","g#","a#"],$y=["c","d","e","f","g","a","b","c"],Jte=Et.of({name:"keyboard",schema:ue({topTargets:Jo(yr.Schema),bottomTargets:Jo(yr.Schema),trackName:yt,topColor:te.Schema,bottomColor:te.Schema}),init:()=>({topTargets:[],bottomTargets:[],trackName:"Keyboard Track",topColor:te.GREEN,bottomColor:te.RED}),targets:e=>({_tag:"many",targets:[...e.topTargets,...e.bottomTargets]}),inputType:"many",tracks:e=>[e.trackName],component:({topTargets:e,bottomTargets:t,trackName:n,topColor:r,bottomColor:o})=>{const s=Ge.useTrack(n),a=Ge.useActiveClip(s),[c,f]=st.useMemo(()=>kR.isReal(a)?[a.name.toLowerCase(),a.color]:[void 0,void 0],[a]),d=y=>y===void 0||c===void 0?!1:y===c,p=y=>()=>{},g=e.map((y,b)=>{const x=Ay==null?void 0:Ay[b];return J.jsx(ki,{color:x!==void 0?d(x)&&f!==void 0?f:r:te.BLACK,target:y,isFlashing:d(x),onClick:p()},`keyboard-top-${b}`)}),m=t.map((y,b)=>{const x=$y==null?void 0:$y[b];return J.jsx(ki,{color:x!==void 0?d(x)&&f!==void 0?f:o:te.BLACK,target:y,isFlashing:d(x),onClick:p()},`keyboard-bottom-${b}`)});return J.jsxs(J.Fragment,{children:[g,m]})}}),mM=Er(ue({content:yt,color:Er(te.Schema),sizePx:Er(Lt)})).annotations(Ci.annotation("Text")),yM=Et.one({name:"button",schema:ue({color:te.Schema,isFlashing:Pp.annotations(Ci.annotation("Switch")),midi:Ci.Schemas.Midi,text:mM}),init:()=>({color:te.GREEN,isFlashing:!1,midi:[]}),component:({target:e,color:t,isFlashing:n,midi:r})=>{const o=Mi.useDawEmitter();return J.jsx(ki,{isFlashing:n,color:t,target:e,onClick:()=>{r.forEach(o.send)}})}}),Hv={10927616:74,16149507:84,4047616:76,6441901:69,14402304:99,8754719:19,16725558:5,3947580:71,10056267:10,8237133:18,12026454:11,12565097:73,13381230:58,12243060:111,16249980:13,13013643:4,10208397:88,695438:65,13821080:110,3101346:46,16749734:107,8962746:102,5538020:79,13684944:117,15064289:119,14183652:94,11442405:44,13408551:100,1090798:78,11096369:127,16753961:96,1769263:87,5480241:64,1698303:90,16773172:97,7491393:126,8940772:80,14837594:10,8912743:16,10060650:105,13872497:14,16753524:108,8092539:70,2319236:39,1716118:47,12349846:59,11481907:121,15029152:57,2490280:25,11119017:112,10701741:81,15597486:8,49071:77,10851765:93,12558270:48,32192:43,8758722:103,10204100:104,11958214:55,8623052:66,16726484:95,12581632:86,13958625:28,12173795:115,13482980:116,16777215:3,6094824:33,13496824:114,9611263:92,9160191:36},vM={};for(const e in Hv){const t=Hv[e];t!==void 0&&(vM[t]=e)}const Yte=e=>Q.get(Hv,e,void 0),Xte=e=>{const t=Q.get(vM,e,void 0);if(t!==void 0)return parseInt(t)},Qte={getNovationColor:Yte,getColorFromNovation:Xte},Zte=Et.one({name:"soft-refresh",schema:ue({color:te.Schema}),init:()=>({color:te.PURPLE}),component:({target:e,color:t})=>{const n=Ge.useRefreshProject();return J.jsx("pad",{color:t,target:e,onClick:()=>{n()}})}}),ene=(e,t)=>e,tne=vb.of({init:e=>()=>{e.send(fl.sysex([32,41,2,13,14,1]))},render:e=>t=>{const n=[32,41,2,13,3];Q.forEach(t,r=>{if(r.color!==void 0){const o=Qte.getNovationColor(r.color);if(o!==void 0)n.push(0,yr.toValue(r.target),o);else{const[s,a,c]=te.toRGB(ene(r.color));n.push(3,yr.toValue(r.target),Math.floor(s/2),Math.floor(a/2),Math.floor(c/2))}}}),e.send(fl.sysex(n))},loading:e=>t=>{const n=yr.notes({from:11,to:99}),r=(a,c)=>{const f=Math.floor(c/10),d=c%10;return f<=a+1&&d<=a+1?te.ROYGBIV[(Math.max(f,d)-1)%7]||te.WHITE:te.BLACK};let o=0;const s=setInterval(()=>{const a=o%9;t.render(e)(n.map((c,f)=>({target:c,color:r(a,yr.toValue(c))}))),o++},250);return()=>{clearInterval(s)}},listenFilter:e=>!(e.type==="noteon"&&e.velocity===0||e.type==="cc"&&e.data===0),targets:yr.notes({from:11,to:99})}),nne=bb.of({name:"Launchpad Mini [MK3]",controller:tne,widgets:_b([uP,cP,oee,fM,Ute,dM,zte,hM,Kte,Vte,pM,Hte,gM,Jte,yM,Zte])}),_M={device:nne},_l={black:"#000",white:"#fff"},Wa={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Ua={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},za={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},qa={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Ka={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},$c={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},rne={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function ia(e,...t){const n=new URL(`https://mui.com/production-error/?code=${e}`);return t.forEach(r=>n.searchParams.append("args[]",r)),`Minified MUI error #${e}; visit ${n} for the full message.`}var bM="$$material";function Wh(){return Wh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wh.apply(null,arguments)}function one(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function ine(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var sne=function(){function e(n){var r=this;this._insertTag=function(o){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(o,s),r.tags.push(o)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(ine(this));var o=this.tags[this.tags.length-1];if(this.isSpeedy){var s=one(o);try{s.insertRule(r,s.cssRules.length)}catch{}}else o.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){var o;return(o=r.parentNode)==null?void 0:o.removeChild(r)}),this.tags=[],this.ctr=0},e}(),An="-ms-",Uh="-moz-",qe="-webkit-",SM="comm",Zb="rule",eS="decl",ane="@import",wM="@keyframes",une="@layer",cne=Math.abs,Hp=String.fromCharCode,lne=Object.assign;function fne(e,t){return yn(e,0)^45?(((t<<2^yn(e,0))<<2^yn(e,1))<<2^yn(e,2))<<2^yn(e,3):0}function EM(e){return e.trim()}function dne(e,t){return(e=t.exec(e))?e[0]:e}function Ke(e,t,n){return e.replace(t,n)}function Gv(e,t){return e.indexOf(t)}function yn(e,t){return e.charCodeAt(t)|0}function bl(e,t,n){return e.slice(t,n)}function No(e){return e.length}function tS(e){return e.length}function md(e,t){return t.push(e),e}function hne(e,t){return e.map(t).join("")}var Gp=1,Iu=1,xM=0,sr=0,Ut=0,Zu="";function Jp(e,t,n,r,o,s,a){return{value:e,root:t,parent:n,type:r,props:o,children:s,line:Gp,column:Iu,length:a,return:""}}function Rc(e,t){return lne(Jp("",null,null,"",null,null,0),e,{length:-e.length},t)}function pne(){return Ut}function gne(){return Ut=sr>0?yn(Zu,--sr):0,Iu--,Ut===10&&(Iu=1,Gp--),Ut}function xr(){return Ut=sr<xM?yn(Zu,sr++):0,Iu++,Ut===10&&(Iu=1,Gp++),Ut}function Ko(){return yn(Zu,sr)}function qd(){return sr}function sf(e,t){return bl(Zu,e,t)}function Sl(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function CM(e){return Gp=Iu=1,xM=No(Zu=e),sr=0,[]}function TM(e){return Zu="",e}function Kd(e){return EM(sf(sr-1,Jv(e===91?e+2:e===40?e+1:e)))}function mne(e){for(;(Ut=Ko())&&Ut<33;)xr();return Sl(e)>2||Sl(Ut)>3?"":" "}function yne(e,t){for(;--t&&xr()&&!(Ut<48||Ut>102||Ut>57&&Ut<65||Ut>70&&Ut<97););return sf(e,qd()+(t<6&&Ko()==32&&xr()==32))}function Jv(e){for(;xr();)switch(Ut){case e:return sr;case 34:case 39:e!==34&&e!==39&&Jv(Ut);break;case 40:e===41&&Jv(e);break;case 92:xr();break}return sr}function vne(e,t){for(;xr()&&e+Ut!==57;)if(e+Ut===84&&Ko()===47)break;return"/*"+sf(t,sr-1)+"*"+Hp(e===47?e:xr())}function _ne(e){for(;!Sl(Ko());)xr();return sf(e,sr)}function bne(e){return TM(Vd("",null,null,null,[""],e=CM(e),0,[0],e))}function Vd(e,t,n,r,o,s,a,c,f){for(var d=0,p=0,g=a,m=0,y=0,b=0,x=1,T=1,k=1,L=0,N="",R=o,W=s,j=r,A=N;T;)switch(b=L,L=xr()){case 40:if(b!=108&&yn(A,g-1)==58){Gv(A+=Ke(Kd(L),"&","&\f"),"&\f")!=-1&&(k=-1);break}case 34:case 39:case 91:A+=Kd(L);break;case 9:case 10:case 13:case 32:A+=mne(b);break;case 92:A+=yne(qd()-1,7);continue;case 47:switch(Ko()){case 42:case 47:md(Sne(vne(xr(),qd()),t,n),f);break;default:A+="/"}break;case 123*x:c[d++]=No(A)*k;case 125*x:case 59:case 0:switch(L){case 0:case 125:T=0;case 59+p:k==-1&&(A=Ke(A,/\f/g,"")),y>0&&No(A)-g&&md(y>32?WC(A+";",r,n,g-1):WC(Ke(A," ","")+";",r,n,g-2),f);break;case 59:A+=";";default:if(md(j=DC(A,t,n,d,p,o,c,N,R=[],W=[],g),s),L===123)if(p===0)Vd(A,t,j,j,R,s,g,c,W);else switch(m===99&&yn(A,3)===110?100:m){case 100:case 108:case 109:case 115:Vd(e,j,j,r&&md(DC(e,j,j,0,0,o,c,N,o,R=[],g),W),o,W,g,c,r?R:W);break;default:Vd(A,j,j,j,[""],W,0,c,W)}}d=p=y=0,x=k=1,N=A="",g=a;break;case 58:g=1+No(A),y=b;default:if(x<1){if(L==123)--x;else if(L==125&&x++==0&&gne()==125)continue}switch(A+=Hp(L),L*x){case 38:k=p>0?1:(A+="\f",-1);break;case 44:c[d++]=(No(A)-1)*k,k=1;break;case 64:Ko()===45&&(A+=Kd(xr())),m=Ko(),p=g=No(N=A+=_ne(qd())),L++;break;case 45:b===45&&No(A)==2&&(x=0)}}return s}function DC(e,t,n,r,o,s,a,c,f,d,p){for(var g=o-1,m=o===0?s:[""],y=tS(m),b=0,x=0,T=0;b<r;++b)for(var k=0,L=bl(e,g+1,g=cne(x=a[b])),N=e;k<y;++k)(N=EM(x>0?m[k]+" "+L:Ke(L,/&\f/g,m[k])))&&(f[T++]=N);return Jp(e,t,n,o===0?Zb:c,f,d,p)}function Sne(e,t,n){return Jp(e,t,n,SM,Hp(pne()),bl(e,2,-2),0)}function WC(e,t,n,r){return Jp(e,t,n,eS,bl(e,0,r),bl(e,r+1,-1),r)}function ru(e,t){for(var n="",r=tS(e),o=0;o<r;o++)n+=t(e[o],o,e,t)||"";return n}function wne(e,t,n,r){switch(e.type){case une:if(e.children.length)break;case ane:case eS:return e.return=e.return||e.value;case SM:return"";case wM:return e.return=e.value+"{"+ru(e.children,r)+"}";case Zb:e.value=e.props.join(",")}return No(n=ru(e.children,r))?e.return=e.value+"{"+n+"}":""}function Ene(e){var t=tS(e);return function(n,r,o,s){for(var a="",c=0;c<t;c++)a+=e[c](n,r,o,s)||"";return a}}function xne(e){return function(t){t.root||(t=t.return)&&e(t)}}function kM(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var Cne=function(t,n,r){for(var o=0,s=0;o=s,s=Ko(),o===38&&s===12&&(n[r]=1),!Sl(s);)xr();return sf(t,sr)},Tne=function(t,n){var r=-1,o=44;do switch(Sl(o)){case 0:o===38&&Ko()===12&&(n[r]=1),t[r]+=Cne(sr-1,n,r);break;case 2:t[r]+=Kd(o);break;case 4:if(o===44){t[++r]=Ko()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=Hp(o)}while(o=xr());return t},kne=function(t,n){return TM(Tne(CM(t),n))},UC=new WeakMap,One=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,o=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!UC.get(r))&&!o){UC.set(t,!0);for(var s=[],a=kne(n,s),c=r.props,f=0,d=0;f<a.length;f++)for(var p=0;p<c.length;p++,d++)t.props[d]=s[f]?a[f].replace(/&\f/g,c[p]):c[p]+" "+a[f]}}},Ine=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function OM(e,t){switch(fne(e,t)){case 5103:return qe+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return qe+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return qe+e+Uh+e+An+e+e;case 6828:case 4268:return qe+e+An+e+e;case 6165:return qe+e+An+"flex-"+e+e;case 5187:return qe+e+Ke(e,/(\w+).+(:[^]+)/,qe+"box-$1$2"+An+"flex-$1$2")+e;case 5443:return qe+e+An+"flex-item-"+Ke(e,/flex-|-self/,"")+e;case 4675:return qe+e+An+"flex-line-pack"+Ke(e,/align-content|flex-|-self/,"")+e;case 5548:return qe+e+An+Ke(e,"shrink","negative")+e;case 5292:return qe+e+An+Ke(e,"basis","preferred-size")+e;case 6060:return qe+"box-"+Ke(e,"-grow","")+qe+e+An+Ke(e,"grow","positive")+e;case 4554:return qe+Ke(e,/([^-])(transform)/g,"$1"+qe+"$2")+e;case 6187:return Ke(Ke(Ke(e,/(zoom-|grab)/,qe+"$1"),/(image-set)/,qe+"$1"),e,"")+e;case 5495:case 3959:return Ke(e,/(image-set\([^]*)/,qe+"$1$`$1");case 4968:return Ke(Ke(e,/(.+:)(flex-)?(.*)/,qe+"box-pack:$3"+An+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+qe+e+e;case 4095:case 3583:case 4068:case 2532:return Ke(e,/(.+)-inline(.+)/,qe+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(No(e)-1-t>6)switch(yn(e,t+1)){case 109:if(yn(e,t+4)!==45)break;case 102:return Ke(e,/(.+:)(.+)-([^]+)/,"$1"+qe+"$2-$3$1"+Uh+(yn(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~Gv(e,"stretch")?OM(Ke(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(yn(e,t+1)!==115)break;case 6444:switch(yn(e,No(e)-3-(~Gv(e,"!important")&&10))){case 107:return Ke(e,":",":"+qe)+e;case 101:return Ke(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+qe+(yn(e,14)===45?"inline-":"")+"box$3$1"+qe+"$2$3$1"+An+"$2box$3")+e}break;case 5936:switch(yn(e,t+11)){case 114:return qe+e+An+Ke(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return qe+e+An+Ke(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return qe+e+An+Ke(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return qe+e+An+e+e}return e}var Ane=function(t,n,r,o){if(t.length>-1&&!t.return)switch(t.type){case eS:t.return=OM(t.value,t.length);break;case wM:return ru([Rc(t,{value:Ke(t.value,"@","@"+qe)})],o);case Zb:if(t.length)return hne(t.props,function(s){switch(dne(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ru([Rc(t,{props:[Ke(s,/:(read-\w+)/,":"+Uh+"$1")]})],o);case"::placeholder":return ru([Rc(t,{props:[Ke(s,/:(plac\w+)/,":"+qe+"input-$1")]}),Rc(t,{props:[Ke(s,/:(plac\w+)/,":"+Uh+"$1")]}),Rc(t,{props:[Ke(s,/:(plac\w+)/,An+"input-$1")]})],o)}return""})}},$ne=[Ane],Rne=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(x){var T=x.getAttribute("data-emotion");T.indexOf(" ")!==-1&&(document.head.appendChild(x),x.setAttribute("data-s",""))})}var o=t.stylisPlugins||$ne,s={},a,c=[];a=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(x){for(var T=x.getAttribute("data-emotion").split(" "),k=1;k<T.length;k++)s[T[k]]=!0;c.push(x)});var f,d=[One,Ine];{var p,g=[wne,xne(function(x){p.insert(x)})],m=Ene(d.concat(o,g)),y=function(T){return ru(bne(T),m)};f=function(T,k,L,N){p=L,y(T?T+"{"+k.styles+"}":k.styles),N&&(b.inserted[k.name]=!0)}}var b={key:n,sheet:new sne({key:n,container:a,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:s,registered:{},insert:f};return b.sheet.hydrate(c),b},IM={exports:{}},Ye={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var un=typeof Symbol=="function"&&Symbol.for,nS=un?Symbol.for("react.element"):60103,rS=un?Symbol.for("react.portal"):60106,Yp=un?Symbol.for("react.fragment"):60107,Xp=un?Symbol.for("react.strict_mode"):60108,Qp=un?Symbol.for("react.profiler"):60114,Zp=un?Symbol.for("react.provider"):60109,eg=un?Symbol.for("react.context"):60110,oS=un?Symbol.for("react.async_mode"):60111,tg=un?Symbol.for("react.concurrent_mode"):60111,ng=un?Symbol.for("react.forward_ref"):60112,rg=un?Symbol.for("react.suspense"):60113,Pne=un?Symbol.for("react.suspense_list"):60120,og=un?Symbol.for("react.memo"):60115,ig=un?Symbol.for("react.lazy"):60116,Mne=un?Symbol.for("react.block"):60121,Nne=un?Symbol.for("react.fundamental"):60117,Lne=un?Symbol.for("react.responder"):60118,Fne=un?Symbol.for("react.scope"):60119;function Pr(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case nS:switch(e=e.type,e){case oS:case tg:case Yp:case Qp:case Xp:case rg:return e;default:switch(e=e&&e.$$typeof,e){case eg:case ng:case ig:case og:case Zp:return e;default:return t}}case rS:return t}}}function AM(e){return Pr(e)===tg}Ye.AsyncMode=oS;Ye.ConcurrentMode=tg;Ye.ContextConsumer=eg;Ye.ContextProvider=Zp;Ye.Element=nS;Ye.ForwardRef=ng;Ye.Fragment=Yp;Ye.Lazy=ig;Ye.Memo=og;Ye.Portal=rS;Ye.Profiler=Qp;Ye.StrictMode=Xp;Ye.Suspense=rg;Ye.isAsyncMode=function(e){return AM(e)||Pr(e)===oS};Ye.isConcurrentMode=AM;Ye.isContextConsumer=function(e){return Pr(e)===eg};Ye.isContextProvider=function(e){return Pr(e)===Zp};Ye.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===nS};Ye.isForwardRef=function(e){return Pr(e)===ng};Ye.isFragment=function(e){return Pr(e)===Yp};Ye.isLazy=function(e){return Pr(e)===ig};Ye.isMemo=function(e){return Pr(e)===og};Ye.isPortal=function(e){return Pr(e)===rS};Ye.isProfiler=function(e){return Pr(e)===Qp};Ye.isStrictMode=function(e){return Pr(e)===Xp};Ye.isSuspense=function(e){return Pr(e)===rg};Ye.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Yp||e===tg||e===Qp||e===Xp||e===rg||e===Pne||typeof e=="object"&&e!==null&&(e.$$typeof===ig||e.$$typeof===og||e.$$typeof===Zp||e.$$typeof===eg||e.$$typeof===ng||e.$$typeof===Nne||e.$$typeof===Lne||e.$$typeof===Fne||e.$$typeof===Mne)};Ye.typeOf=Pr;IM.exports=Ye;var Bne=IM.exports,$M=Bne,jne={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Dne={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},RM={};RM[$M.ForwardRef]=jne;RM[$M.Memo]=Dne;var Wne=!0;function PM(e,t,n){var r="";return n.split(" ").forEach(function(o){e[o]!==void 0?t.push(e[o]+";"):o&&(r+=o+" ")}),r}var iS=function(t,n,r){var o=t.key+"-"+n.name;(r===!1||Wne===!1)&&t.registered[o]===void 0&&(t.registered[o]=n.styles)},MM=function(t,n,r){iS(t,n,r);var o=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var s=n;do t.insert(n===s?"."+o:"",s,t.sheet,!0),s=s.next;while(s!==void 0)}};function Une(e){for(var t=0,n,r=0,o=e.length;o>=4;++r,o-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(o){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var zne={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},qne=/[A-Z]|^ms/g,Kne=/_EMO_([^_]+?)_([^]*?)_EMO_/g,NM=function(t){return t.charCodeAt(1)===45},zC=function(t){return t!=null&&typeof t!="boolean"},Ry=kM(function(e){return NM(e)?e:e.replace(qne,"-$&").toLowerCase()}),qC=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(Kne,function(r,o,s){return Lo={name:o,styles:s,next:Lo},o})}return zne[t]!==1&&!NM(t)&&typeof n=="number"&&n!==0?n+"px":n};function wl(e,t,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var o=n;if(o.anim===1)return Lo={name:o.name,styles:o.styles,next:Lo},o.name;var s=n;if(s.styles!==void 0){var a=s.next;if(a!==void 0)for(;a!==void 0;)Lo={name:a.name,styles:a.styles,next:Lo},a=a.next;var c=s.styles+";";return c}return Vne(e,t,n)}case"function":{if(e!==void 0){var f=Lo,d=n(e);return Lo=f,wl(e,t,d)}break}}var p=n;if(t==null)return p;var g=t[p];return g!==void 0?g:p}function Vne(e,t,n){var r="";if(Array.isArray(n))for(var o=0;o<n.length;o++)r+=wl(e,t,n[o])+";";else for(var s in n){var a=n[s];if(typeof a!="object"){var c=a;t!=null&&t[c]!==void 0?r+=s+"{"+t[c]+"}":zC(c)&&(r+=Ry(s)+":"+qC(s,c)+";")}else if(Array.isArray(a)&&typeof a[0]=="string"&&(t==null||t[a[0]]===void 0))for(var f=0;f<a.length;f++)zC(a[f])&&(r+=Ry(s)+":"+qC(s,a[f])+";");else{var d=wl(e,t,a);switch(s){case"animation":case"animationName":{r+=Ry(s)+":"+d+";";break}default:r+=s+"{"+d+"}"}}}return r}var KC=/label:\s*([^\s;{]+)\s*(;|$)/g,Lo;function sg(e,t,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var r=!0,o="";Lo=void 0;var s=e[0];if(s==null||s.raw===void 0)r=!1,o+=wl(n,t,s);else{var a=s;o+=a[0]}for(var c=1;c<e.length;c++)if(o+=wl(n,t,e[c]),r){var f=s;o+=f[c]}KC.lastIndex=0;for(var d="",p;(p=KC.exec(o))!==null;)d+="-"+p[1];var g=Une(o)+d;return{name:g,styles:o,next:Lo}}var Hne=function(t){return t()},Gne=Fv.useInsertionEffect?Fv.useInsertionEffect:!1,LM=Gne||Hne,FM=G.createContext(typeof HTMLElement<"u"?Rne({key:"css"}):null);FM.Provider;var BM=function(t){return G.forwardRef(function(n,r){var o=G.useContext(FM);return t(n,o,r)})},sS=G.createContext({}),aS={}.hasOwnProperty,Yv="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Jne=function(t,n){var r={};for(var o in n)aS.call(n,o)&&(r[o]=n[o]);return r[Yv]=t,r},Yne=function(t){var n=t.cache,r=t.serialized,o=t.isStringTag;return iS(n,r,o),LM(function(){return MM(n,r,o)}),null},Xne=BM(function(e,t,n){var r=e.css;typeof r=="string"&&t.registered[r]!==void 0&&(r=t.registered[r]);var o=e[Yv],s=[r],a="";typeof e.className=="string"?a=PM(t.registered,s,e.className):e.className!=null&&(a=e.className+" ");var c=sg(s,void 0,G.useContext(sS));a+=t.key+"-"+c.name;var f={};for(var d in e)aS.call(e,d)&&d!=="css"&&d!==Yv&&(f[d]=e[d]);return f.className=a,n&&(f.ref=n),G.createElement(G.Fragment,null,G.createElement(Yne,{cache:t,serialized:c,isStringTag:typeof o=="string"}),G.createElement(o,f))}),Qne=Xne,VC=function(t,n){var r=arguments;if(n==null||!aS.call(n,"css"))return G.createElement.apply(void 0,r);var o=r.length,s=new Array(o);s[0]=Qne,s[1]=Jne(t,n);for(var a=2;a<o;a++)s[a]=r[a];return G.createElement.apply(null,s)};(function(e){var t;t||(t=e.JSX||(e.JSX={}))})(VC||(VC={}));function uS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return sg(t)}function af(){var e=uS.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var Zne=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,ere=kM(function(e){return Zne.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),tre=ere,nre=function(t){return t!=="theme"},HC=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?tre:nre},GC=function(t,n,r){var o;if(n){var s=n.shouldForwardProp;o=t.__emotion_forwardProp&&s?function(a){return t.__emotion_forwardProp(a)&&s(a)}:s}return typeof o!="function"&&r&&(o=t.__emotion_forwardProp),o},rre=function(t){var n=t.cache,r=t.serialized,o=t.isStringTag;return iS(n,r,o),LM(function(){return MM(n,r,o)}),null},ore=function e(t,n){var r=t.__emotion_real===t,o=r&&t.__emotion_base||t,s,a;n!==void 0&&(s=n.label,a=n.target);var c=GC(t,n,r),f=c||HC(o),d=!f("as");return function(){var p=arguments,g=r&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(s!==void 0&&g.push("label:"+s+";"),p[0]==null||p[0].raw===void 0)g.push.apply(g,p);else{var m=p[0];g.push(m[0]);for(var y=p.length,b=1;b<y;b++)g.push(p[b],m[b])}var x=BM(function(T,k,L){var N=d&&T.as||o,R="",W=[],j=T;if(T.theme==null){j={};for(var A in T)j[A]=T[A];j.theme=G.useContext(sS)}typeof T.className=="string"?R=PM(k.registered,W,T.className):T.className!=null&&(R=T.className+" ");var U=sg(g.concat(W),k.registered,j);R+=k.key+"-"+U.name,a!==void 0&&(R+=" "+a);var K=d&&c===void 0?HC(N):f,S={};for(var M in T)d&&M==="as"||K(M)&&(S[M]=T[M]);return S.className=R,L&&(S.ref=L),G.createElement(G.Fragment,null,G.createElement(rre,{cache:k,serialized:U,isStringTag:typeof N=="string"}),G.createElement(N,S))});return x.displayName=s!==void 0?s:"Styled("+(typeof o=="string"?o:o.displayName||o.name||"Component")+")",x.defaultProps=t.defaultProps,x.__emotion_real=x,x.__emotion_base=o,x.__emotion_styles=g,x.__emotion_forwardProp=c,Object.defineProperty(x,"toString",{value:function(){return"."+a}}),x.withComponent=function(T,k){var L=e(T,Wh({},n,k,{shouldForwardProp:GC(x,k,!0)}));return L.apply(void 0,g)},x}},ire=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Xv=ore.bind(null);ire.forEach(function(e){Xv[e]=Xv(e)});/**
 * @mui/styled-engine v6.4.9
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function jM(e,t){return Xv(e,t)}function sre(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}const JC=[];function YC(e){return JC[0]=e,sg(JC)}var DM={exports:{}},at={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cS=Symbol.for("react.transitional.element"),lS=Symbol.for("react.portal"),ag=Symbol.for("react.fragment"),ug=Symbol.for("react.strict_mode"),cg=Symbol.for("react.profiler"),lg=Symbol.for("react.consumer"),fg=Symbol.for("react.context"),dg=Symbol.for("react.forward_ref"),hg=Symbol.for("react.suspense"),pg=Symbol.for("react.suspense_list"),gg=Symbol.for("react.memo"),mg=Symbol.for("react.lazy"),are=Symbol.for("react.offscreen"),ure=Symbol.for("react.client.reference");function io(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case cS:switch(e=e.type,e){case ag:case cg:case ug:case hg:case pg:return e;default:switch(e=e&&e.$$typeof,e){case fg:case dg:case mg:case gg:return e;case lg:return e;default:return t}}case lS:return t}}}at.ContextConsumer=lg;at.ContextProvider=fg;at.Element=cS;at.ForwardRef=dg;at.Fragment=ag;at.Lazy=mg;at.Memo=gg;at.Portal=lS;at.Profiler=cg;at.StrictMode=ug;at.Suspense=hg;at.SuspenseList=pg;at.isContextConsumer=function(e){return io(e)===lg};at.isContextProvider=function(e){return io(e)===fg};at.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===cS};at.isForwardRef=function(e){return io(e)===dg};at.isFragment=function(e){return io(e)===ag};at.isLazy=function(e){return io(e)===mg};at.isMemo=function(e){return io(e)===gg};at.isPortal=function(e){return io(e)===lS};at.isProfiler=function(e){return io(e)===cg};at.isStrictMode=function(e){return io(e)===ug};at.isSuspense=function(e){return io(e)===hg};at.isSuspenseList=function(e){return io(e)===pg};at.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===ag||e===cg||e===ug||e===hg||e===pg||e===are||typeof e=="object"&&e!==null&&(e.$$typeof===mg||e.$$typeof===gg||e.$$typeof===fg||e.$$typeof===lg||e.$$typeof===dg||e.$$typeof===ure||e.getModuleId!==void 0)};at.typeOf=io;DM.exports=at;var WM=DM.exports;function jo(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function UM(e){if(G.isValidElement(e)||WM.isValidElementType(e)||!jo(e))return e;const t={};return Object.keys(e).forEach(n=>{t[n]=UM(e[n])}),t}function Cr(e,t,n={clone:!0}){const r=n.clone?{...e}:e;return jo(e)&&jo(t)&&Object.keys(t).forEach(o=>{G.isValidElement(t[o])||WM.isValidElementType(t[o])?r[o]=t[o]:jo(t[o])&&Object.prototype.hasOwnProperty.call(e,o)&&jo(e[o])?r[o]=Cr(e[o],t[o],n):n.clone?r[o]=jo(t[o])?UM(t[o]):t[o]:r[o]=t[o]}),r}const cre=e=>{const t=Object.keys(e).map(n=>({key:n,val:e[n]}))||[];return t.sort((n,r)=>n.val-r.val),t.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function lre(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...o}=e,s=cre(t),a=Object.keys(s);function c(m){return`@media (min-width:${typeof t[m]=="number"?t[m]:m}${n})`}function f(m){return`@media (max-width:${(typeof t[m]=="number"?t[m]:m)-r/100}${n})`}function d(m,y){const b=a.indexOf(y);return`@media (min-width:${typeof t[m]=="number"?t[m]:m}${n}) and (max-width:${(b!==-1&&typeof t[a[b]]=="number"?t[a[b]]:y)-r/100}${n})`}function p(m){return a.indexOf(m)+1<a.length?d(m,a[a.indexOf(m)+1]):c(m)}function g(m){const y=a.indexOf(m);return y===0?c(a[1]):y===a.length-1?f(a[y]):d(m,a[a.indexOf(m)+1]).replace("@media","@media not all and")}return{keys:a,values:s,up:c,down:f,between:d,only:p,not:g,unit:n,...o}}function fre(e,t){if(!e.containerQueries)return t;const n=Object.keys(t).filter(r=>r.startsWith("@container")).sort((r,o)=>{var a,c;const s=/min-width:\s*([0-9.]+)/;return+(((a=r.match(s))==null?void 0:a[1])||0)-+(((c=o.match(s))==null?void 0:c[1])||0)});return n.length?n.reduce((r,o)=>{const s=t[o];return delete r[o],r[o]=s,r},{...t}):t}function dre(e,t){return t==="@"||t.startsWith("@")&&(e.some(n=>t.startsWith(`@${n}`))||!!t.match(/^@\d/))}function hre(e,t){const n=t.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,o]=n,s=Number.isNaN(+r)?r||0:+r;return e.containerQueries(o).up(s)}function pre(e){const t=(s,a)=>s.replace("@media",a?`@container ${a}`:"@container");function n(s,a){s.up=(...c)=>t(e.breakpoints.up(...c),a),s.down=(...c)=>t(e.breakpoints.down(...c),a),s.between=(...c)=>t(e.breakpoints.between(...c),a),s.only=(...c)=>t(e.breakpoints.only(...c),a),s.not=(...c)=>{const f=t(e.breakpoints.not(...c),a);return f.includes("not all and")?f.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):f}}const r={},o=s=>(n(r,s),r);return n(o),{...e,containerQueries:o}}const gre={borderRadius:4};function Jc(e,t){return t?Cr(e,t,{clone:!1}):e}const yg={xs:0,sm:600,md:900,lg:1200,xl:1536},XC={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${yg[e]}px)`},mre={containerQueries:e=>({up:t=>{let n=typeof t=="number"?t:yg[t]||t;return typeof n=="number"&&(n=`${n}px`),e?`@container ${e} (min-width:${n})`:`@container (min-width:${n})`}})};function Ai(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const s=r.breakpoints||XC;return t.reduce((a,c,f)=>(a[s.up(s.keys[f])]=n(t[f]),a),{})}if(typeof t=="object"){const s=r.breakpoints||XC;return Object.keys(t).reduce((a,c)=>{if(dre(s.keys,c)){const f=hre(r.containerQueries?r:mre,c);f&&(a[f]=n(t[c],c))}else if(Object.keys(s.values||yg).includes(c)){const f=s.up(c);a[f]=n(t[c],c)}else{const f=c;a[f]=t[f]}return a},{})}return n(t)}function yre(e={}){var n;return((n=e.keys)==null?void 0:n.reduce((r,o)=>{const s=e.up(o);return r[s]={},r},{}))||{}}function vre(e,t){return e.reduce((n,r)=>{const o=n[r];return(!o||Object.keys(o).length===0)&&delete n[r],n},t)}function Ve(e){if(typeof e!="string")throw new Error(ia(7));return e.charAt(0).toUpperCase()+e.slice(1)}function vg(e,t,n=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&n){const r=`vars.${t}`.split(".").reduce((o,s)=>o&&o[s]?o[s]:null,e);if(r!=null)return r}return t.split(".").reduce((r,o)=>r&&r[o]!=null?r[o]:null,e)}function zh(e,t,n,r=n){let o;return typeof e=="function"?o=e(n):Array.isArray(e)?o=e[n]||r:o=vg(e,n)||r,t&&(o=t(o,r,e)),o}function Bt(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:o}=e,s=a=>{if(a[t]==null)return null;const c=a[t],f=a.theme,d=vg(f,r)||{};return Ai(a,c,g=>{let m=zh(d,o,g);return g===m&&typeof g=="string"&&(m=zh(d,o,`${t}${g==="default"?"":Ve(g)}`,g)),n===!1?m:{[n]:m}})};return s.propTypes={},s.filterProps=[t],s}function _re(e){const t={};return n=>(t[n]===void 0&&(t[n]=e(n)),t[n])}const bre={m:"margin",p:"padding"},Sre={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},QC={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},wre=_re(e=>{if(e.length>2)if(QC[e])e=QC[e];else return[e];const[t,n]=e.split(""),r=bre[t],o=Sre[n]||"";return Array.isArray(o)?o.map(s=>r+s):[r+o]}),fS=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],dS=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...fS,...dS];function uf(e,t,n,r){const o=vg(e,t,!0)??n;return typeof o=="number"||typeof o=="string"?s=>typeof s=="string"?s:typeof o=="string"?`calc(${s} * ${o})`:o*s:Array.isArray(o)?s=>{if(typeof s=="string")return s;const a=Math.abs(s),c=o[a];return s>=0?c:typeof c=="number"?-c:`-${c}`}:typeof o=="function"?o:()=>{}}function hS(e){return uf(e,"spacing",8)}function cf(e,t){return typeof t=="string"||t==null?t:e(t)}function Ere(e,t){return n=>e.reduce((r,o)=>(r[o]=cf(t,n),r),{})}function xre(e,t,n,r){if(!t.includes(n))return null;const o=wre(n),s=Ere(o,r),a=e[n];return Ai(e,a,s)}function zM(e,t){const n=hS(e.theme);return Object.keys(e).map(r=>xre(e,t,r,n)).reduce(Jc,{})}function Ct(e){return zM(e,fS)}Ct.propTypes={};Ct.filterProps=fS;function Tt(e){return zM(e,dS)}Tt.propTypes={};Tt.filterProps=dS;function qM(e=8,t=hS({spacing:e})){if(e.mui)return e;const n=(...r)=>(r.length===0?[1]:r).map(s=>{const a=t(s);return typeof a=="number"?`${a}px`:a}).join(" ");return n.mui=!0,n}function _g(...e){const t=e.reduce((r,o)=>(o.filterProps.forEach(s=>{r[s]=o}),r),{}),n=r=>Object.keys(r).reduce((o,s)=>t[s]?Jc(o,t[s](r)):o,{});return n.propTypes={},n.filterProps=e.reduce((r,o)=>r.concat(o.filterProps),[]),n}function Yr(e){return typeof e!="number"?e:`${e}px solid`}function so(e,t){return Bt({prop:e,themeKey:"borders",transform:t})}const Cre=so("border",Yr),Tre=so("borderTop",Yr),kre=so("borderRight",Yr),Ore=so("borderBottom",Yr),Ire=so("borderLeft",Yr),Are=so("borderColor"),$re=so("borderTopColor"),Rre=so("borderRightColor"),Pre=so("borderBottomColor"),Mre=so("borderLeftColor"),Nre=so("outline",Yr),Lre=so("outlineColor"),bg=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=uf(e.theme,"shape.borderRadius",4),n=r=>({borderRadius:cf(t,r)});return Ai(e,e.borderRadius,n)}return null};bg.propTypes={};bg.filterProps=["borderRadius"];_g(Cre,Tre,kre,Ore,Ire,Are,$re,Rre,Pre,Mre,bg,Nre,Lre);const Sg=e=>{if(e.gap!==void 0&&e.gap!==null){const t=uf(e.theme,"spacing",8),n=r=>({gap:cf(t,r)});return Ai(e,e.gap,n)}return null};Sg.propTypes={};Sg.filterProps=["gap"];const wg=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=uf(e.theme,"spacing",8),n=r=>({columnGap:cf(t,r)});return Ai(e,e.columnGap,n)}return null};wg.propTypes={};wg.filterProps=["columnGap"];const Eg=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=uf(e.theme,"spacing",8),n=r=>({rowGap:cf(t,r)});return Ai(e,e.rowGap,n)}return null};Eg.propTypes={};Eg.filterProps=["rowGap"];const Fre=Bt({prop:"gridColumn"}),Bre=Bt({prop:"gridRow"}),jre=Bt({prop:"gridAutoFlow"}),Dre=Bt({prop:"gridAutoColumns"}),Wre=Bt({prop:"gridAutoRows"}),Ure=Bt({prop:"gridTemplateColumns"}),zre=Bt({prop:"gridTemplateRows"}),qre=Bt({prop:"gridTemplateAreas"}),Kre=Bt({prop:"gridArea"});_g(Sg,wg,Eg,Fre,Bre,jre,Dre,Wre,Ure,zre,qre,Kre);function ou(e,t){return t==="grey"?t:e}const Vre=Bt({prop:"color",themeKey:"palette",transform:ou}),Hre=Bt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:ou}),Gre=Bt({prop:"backgroundColor",themeKey:"palette",transform:ou});_g(Vre,Hre,Gre);function br(e){return e<=1&&e!==0?`${e*100}%`:e}const Jre=Bt({prop:"width",transform:br}),pS=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=n=>{var o,s,a,c,f;const r=((a=(s=(o=e.theme)==null?void 0:o.breakpoints)==null?void 0:s.values)==null?void 0:a[n])||yg[n];return r?((f=(c=e.theme)==null?void 0:c.breakpoints)==null?void 0:f.unit)!=="px"?{maxWidth:`${r}${e.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:br(n)}};return Ai(e,e.maxWidth,t)}return null};pS.filterProps=["maxWidth"];const Yre=Bt({prop:"minWidth",transform:br}),Xre=Bt({prop:"height",transform:br}),Qre=Bt({prop:"maxHeight",transform:br}),Zre=Bt({prop:"minHeight",transform:br});Bt({prop:"size",cssProperty:"width",transform:br});Bt({prop:"size",cssProperty:"height",transform:br});const eoe=Bt({prop:"boxSizing"});_g(Jre,pS,Yre,Xre,Qre,Zre,eoe);const lf={border:{themeKey:"borders",transform:Yr},borderTop:{themeKey:"borders",transform:Yr},borderRight:{themeKey:"borders",transform:Yr},borderBottom:{themeKey:"borders",transform:Yr},borderLeft:{themeKey:"borders",transform:Yr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Yr},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:bg},color:{themeKey:"palette",transform:ou},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:ou},backgroundColor:{themeKey:"palette",transform:ou},p:{style:Tt},pt:{style:Tt},pr:{style:Tt},pb:{style:Tt},pl:{style:Tt},px:{style:Tt},py:{style:Tt},padding:{style:Tt},paddingTop:{style:Tt},paddingRight:{style:Tt},paddingBottom:{style:Tt},paddingLeft:{style:Tt},paddingX:{style:Tt},paddingY:{style:Tt},paddingInline:{style:Tt},paddingInlineStart:{style:Tt},paddingInlineEnd:{style:Tt},paddingBlock:{style:Tt},paddingBlockStart:{style:Tt},paddingBlockEnd:{style:Tt},m:{style:Ct},mt:{style:Ct},mr:{style:Ct},mb:{style:Ct},ml:{style:Ct},mx:{style:Ct},my:{style:Ct},margin:{style:Ct},marginTop:{style:Ct},marginRight:{style:Ct},marginBottom:{style:Ct},marginLeft:{style:Ct},marginX:{style:Ct},marginY:{style:Ct},marginInline:{style:Ct},marginInlineStart:{style:Ct},marginInlineEnd:{style:Ct},marginBlock:{style:Ct},marginBlockStart:{style:Ct},marginBlockEnd:{style:Ct},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Sg},rowGap:{style:Eg},columnGap:{style:wg},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:br},maxWidth:{style:pS},minWidth:{transform:br},height:{transform:br},maxHeight:{transform:br},minHeight:{transform:br},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function toe(...e){const t=e.reduce((r,o)=>r.concat(Object.keys(o)),[]),n=new Set(t);return e.every(r=>n.size===Object.keys(r).length)}function noe(e,t){return typeof e=="function"?e(t):e}function roe(){function e(n,r,o,s){const a={[n]:r,theme:o},c=s[n];if(!c)return{[n]:r};const{cssProperty:f=n,themeKey:d,transform:p,style:g}=c;if(r==null)return null;if(d==="typography"&&r==="inherit")return{[n]:r};const m=vg(o,d)||{};return g?g(a):Ai(a,r,b=>{let x=zh(m,p,b);return b===x&&typeof b=="string"&&(x=zh(m,p,`${n}${b==="default"?"":Ve(b)}`,b)),f===!1?x:{[f]:x}})}function t(n){const{sx:r,theme:o={}}=n||{};if(!r)return null;const s=o.unstable_sxConfig??lf;function a(c){let f=c;if(typeof c=="function")f=c(o);else if(typeof c!="object")return c;if(!f)return null;const d=yre(o.breakpoints),p=Object.keys(d);let g=d;return Object.keys(f).forEach(m=>{const y=noe(f[m],o);if(y!=null)if(typeof y=="object")if(s[m])g=Jc(g,e(m,y,o,s));else{const b=Ai({theme:o},y,x=>({[m]:x}));toe(b,y)?g[m]=t({sx:y,theme:o}):g=Jc(g,b)}else g=Jc(g,e(m,y,o,s))}),fre(o,vre(p,g))}return Array.isArray(r)?r.map(a):a(r)}return t}const sa=roe();sa.filterProps=["sx"];function ooe(e,t){var r;const n=this;if(n.vars){if(!((r=n.colorSchemes)!=null&&r[e])||typeof n.getColorSchemeSelector!="function")return{};let o=n.getColorSchemeSelector(e);return o==="&"?t:((o.includes("data-")||o.includes("."))&&(o=`*:where(${o.replace(/\s*&$/,"")}) &`),{[o]:t})}return n.palette.mode===e?t:{}}function gS(e={},...t){const{breakpoints:n={},palette:r={},spacing:o,shape:s={},...a}=e,c=lre(n),f=qM(o);let d=Cr({breakpoints:c,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:f,shape:{...gre,...s}},a);return d=pre(d),d.applyStyles=ooe,d=t.reduce((p,g)=>Cr(p,g),d),d.unstable_sxConfig={...lf,...a==null?void 0:a.unstable_sxConfig},d.unstable_sx=function(g){return sa({sx:g,theme:this})},d}function ioe(e){return Object.keys(e).length===0}function soe(e=null){const t=G.useContext(sS);return!t||ioe(t)?e:t}const aoe=gS();function uoe(e=aoe){return soe(e)}const coe=e=>{var r;const t={systemProps:{},otherProps:{}},n=((r=e==null?void 0:e.theme)==null?void 0:r.unstable_sxConfig)??lf;return Object.keys(e).forEach(o=>{n[o]?t.systemProps[o]=e[o]:t.otherProps[o]=e[o]}),t};function KM(e){const{sx:t,...n}=e,{systemProps:r,otherProps:o}=coe(n);let s;return Array.isArray(t)?s=[r,...t]:typeof t=="function"?s=(...a)=>{const c=t(...a);return jo(c)?{...r,...c}:r}:s={...r,...t},{...o,sx:s}}const ZC=e=>e,loe=()=>{let e=ZC;return{configure(t){e=t},generate(t){return e(t)},reset(){e=ZC}}},VM=loe();function HM(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=HM(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function vn(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=HM(e))&&(r&&(r+=" "),r+=t);return r}function foe(e={}){const{themeId:t,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:o}=e,s=jM("div",{shouldForwardProp:c=>c!=="theme"&&c!=="sx"&&c!=="as"})(sa);return G.forwardRef(function(f,d){const p=uoe(n),{className:g,component:m="div",...y}=KM(f);return J.jsx(s,{as:m,ref:d,className:vn(g,o?o(r):r),theme:t&&p[t]||p,...y})})}const doe={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function _a(e,t,n="Mui"){const r=doe[t];return r?`${n}-${r}`:`${VM.generate(e)}-${t}`}function ys(e,t,n="Mui"){const r={};return t.forEach(o=>{r[o]=_a(e,o,n)}),r}function GM(e){const{variants:t,...n}=e,r={variants:t,style:YC(n),isProcessed:!0};return r.style===n||t&&t.forEach(o=>{typeof o.style!="function"&&(o.style=YC(o.style))}),r}const hoe=gS();function Py(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}function poe(e){return e?(t,n)=>n[e]:null}function goe(e,t,n){e.theme=voe(e.theme)?n:e.theme[t]||e.theme}function Hd(e,t){const n=typeof t=="function"?t(e):t;if(Array.isArray(n))return n.flatMap(r=>Hd(e,r));if(Array.isArray(n==null?void 0:n.variants)){let r;if(n.isProcessed)r=n.style;else{const{variants:o,...s}=n;r=s}return JM(e,n.variants,[r])}return n!=null&&n.isProcessed?n.style:n}function JM(e,t,n=[]){var o;let r;e:for(let s=0;s<t.length;s+=1){const a=t[s];if(typeof a.props=="function"){if(r??(r={...e,...e.ownerState,ownerState:e.ownerState}),!a.props(r))continue}else for(const c in a.props)if(e[c]!==a.props[c]&&((o=e.ownerState)==null?void 0:o[c])!==a.props[c])continue e;typeof a.style=="function"?(r??(r={...e,...e.ownerState,ownerState:e.ownerState}),n.push(a.style(r))):n.push(a.style)}return n}function moe(e={}){const{themeId:t,defaultTheme:n=hoe,rootShouldForwardProp:r=Py,slotShouldForwardProp:o=Py}=e;function s(c){goe(c,t,n)}return(c,f={})=>{sre(c,W=>W.filter(j=>j!==sa));const{name:d,slot:p,skipVariantsResolver:g,skipSx:m,overridesResolver:y=poe(boe(p)),...b}=f,x=g!==void 0?g:p&&p!=="Root"&&p!=="root"||!1,T=m||!1;let k=Py;p==="Root"||p==="root"?k=r:p?k=o:_oe(c)&&(k=void 0);const L=jM(c,{shouldForwardProp:k,label:yoe(),...b}),N=W=>{if(typeof W=="function"&&W.__emotion_real!==W)return function(A){return Hd(A,W)};if(jo(W)){const j=GM(W);return j.variants?function(U){return Hd(U,j)}:j.style}return W},R=(...W)=>{const j=[],A=W.map(N),U=[];if(j.push(s),d&&y&&U.push(function(D){var ye,ie;const re=(ie=(ye=D.theme.components)==null?void 0:ye[d])==null?void 0:ie.styleOverrides;if(!re)return null;const _e={};for(const ce in re)_e[ce]=Hd(D,re[ce]);return y(D,_e)}),d&&!x&&U.push(function(D){var _e,ye;const X=D.theme,re=(ye=(_e=X==null?void 0:X.components)==null?void 0:_e[d])==null?void 0:ye.variants;return re?JM(D,re):null}),T||U.push(sa),Array.isArray(A[0])){const M=A.shift(),D=new Array(j.length).fill(""),X=new Array(U.length).fill("");let re;re=[...D,...M,...X],re.raw=[...D,...M.raw,...X],j.unshift(re)}const K=[...j,...A,...U],S=L(...K);return c.muiName&&(S.muiName=c.muiName),S};return L.withConfig&&(R.withConfig=L.withConfig),R}}function yoe(e,t){return void 0}function voe(e){for(const t in e)return!1;return!0}function _oe(e){return typeof e=="string"&&e.charCodeAt(0)>96}function boe(e){return e&&e.charAt(0).toLowerCase()+e.slice(1)}function qh(e,t){const n={...t};for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const o=r;if(o==="components"||o==="slots")n[o]={...e[o],...n[o]};else if(o==="componentsProps"||o==="slotProps"){const s=e[o],a=t[o];if(!a)n[o]=s||{};else if(!s)n[o]=a;else{n[o]={...a};for(const c in s)if(Object.prototype.hasOwnProperty.call(s,c)){const f=c;n[o][f]=qh(s[f],a[f])}}}else n[o]===void 0&&(n[o]=e[o])}return n}const Soe=typeof window<"u"?G.useLayoutEffect:G.useEffect;function woe(e,t=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,n))}function mS(e,t=0,n=1){return woe(e,t,n)}function Eoe(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,o)=>o<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function hs(e){if(e.type)return e;if(e.charAt(0)==="#")return hs(Eoe(e));const t=e.indexOf("("),n=e.substring(0,t);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(ia(9,e));let r=e.substring(t+1,e.length-1),o;if(n==="color"){if(r=r.split(" "),o=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(o))throw new Error(ia(10,o))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:o}}const xoe=e=>{const t=hs(e);return t.values.slice(0,3).map((n,r)=>t.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},Dc=(e,t)=>{try{return xoe(e)}catch{return e}};function xg(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.includes("rgb")?r=r.map((o,s)=>s<3?parseInt(o,10):o):t.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),t.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${t}(${r})`}function YM(e){e=hs(e);const{values:t}=e,n=t[0],r=t[1]/100,o=t[2]/100,s=r*Math.min(o,1-o),a=(d,p=(d+n/30)%12)=>o-s*Math.max(Math.min(p-3,9-p,1),-1);let c="rgb";const f=[Math.round(a(0)*255),Math.round(a(8)*255),Math.round(a(4)*255)];return e.type==="hsla"&&(c+="a",f.push(t[3])),xg({type:c,values:f})}function Qv(e){e=hs(e);let t=e.type==="hsl"||e.type==="hsla"?hs(YM(e)).values:e.values;return t=t.map(n=>(e.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function Coe(e,t){const n=Qv(e),r=Qv(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function es(e,t){return e=hs(e),t=mS(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,xg(e)}function yd(e,t,n){try{return es(e,t)}catch{return e}}function yS(e,t){if(e=hs(e),t=mS(t),e.type.includes("hsl"))e.values[2]*=1-t;else if(e.type.includes("rgb")||e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return xg(e)}function et(e,t,n){try{return yS(e,t)}catch{return e}}function vS(e,t){if(e=hs(e),t=mS(t),e.type.includes("hsl"))e.values[2]+=(100-e.values[2])*t;else if(e.type.includes("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return xg(e)}function tt(e,t,n){try{return vS(e,t)}catch{return e}}function Toe(e,t=.15){return Qv(e)>.5?yS(e,t):vS(e,t)}function vd(e,t,n){try{return Toe(e,t)}catch{return e}}function koe(e,t){typeof e=="function"?e(t):e&&(e.current=t)}let eT=0;function Ooe(e){const[t,n]=G.useState(e),r=e||t;return G.useEffect(()=>{t==null&&(eT+=1,n(`mui-${eT}`))},[t]),r}const Ioe={...Fv},tT=Ioe.useId;function XM(e){if(tT!==void 0){const t=tT();return e??t}return Ooe(e)}function Gd(e){const t=G.useRef(e);return Soe(()=>{t.current=e}),G.useRef((...n)=>(0,t.current)(...n)).current}function nT(...e){return G.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{koe(n,t)})},e)}const rT={};function QM(e,t){const n=G.useRef(rT);return n.current===rT&&(n.current=e(t)),n}const Aoe=[];function $oe(e){G.useEffect(e,Aoe)}class _S{constructor(){_(this,"currentId",null);_(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});_(this,"disposeEffect",()=>this.clear)}static create(){return new _S}start(t,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},t)}}function Roe(){const e=QM(_S.create).current;return $oe(e.disposeEffect),e}function oT(e){try{return e.matches(":focus-visible")}catch{}return!1}function ec(e,t,n=void 0){const r={};for(const o in e){const s=e[o];let a="",c=!0;for(let f=0;f<s.length;f+=1){const d=s[f];d&&(a+=(c===!0?"":" ")+t(d),c=!1,n&&n[d]&&(a+=" "+n[d]))}r[o]=a}return r}const Poe=G.createContext(void 0);function Moe(e){const{theme:t,name:n,props:r}=e;if(!t||!t.components||!t.components[n])return r;const o=t.components[n];return o.defaultProps?qh(o.defaultProps,r):!o.styleOverrides&&!o.variants?qh(o,r):r}function Noe({props:e,name:t}){const n=G.useContext(Poe);return Moe({props:e,name:t,theme:{components:n}})}const iT={theme:void 0};function Loe(e){let t,n;return function(o){let s=t;return(s===void 0||o.theme!==n)&&(iT.theme=o.theme,s=GM(e(iT)),t=s,n=o.theme),s}}function Foe(e=""){function t(...r){if(!r.length)return"";const o=r[0];return typeof o=="string"&&!o.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${e?`${e}-`:""}${o}${t(...r.slice(1))})`:`, ${o}`}return(r,...o)=>`var(--${e?`${e}-`:""}${r}${t(...o)})`}const sT=(e,t,n,r=[])=>{let o=e;t.forEach((s,a)=>{a===t.length-1?Array.isArray(o)?o[Number(s)]=n:o&&typeof o=="object"&&(o[s]=n):o&&typeof o=="object"&&(o[s]||(o[s]=r.includes(s)?[]:{}),o=o[s])})},Boe=(e,t,n)=>{function r(o,s=[],a=[]){Object.entries(o).forEach(([c,f])=>{(!n||n&&!n([...s,c]))&&f!=null&&(typeof f=="object"&&Object.keys(f).length>0?r(f,[...s,c],Array.isArray(f)?[...a,c]:a):t([...s,c],f,a))})}r(e)},joe=(e,t)=>typeof t=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>e.includes(r))||e[e.length-1].toLowerCase().includes("opacity")?t:`${t}px`:t;function My(e,t){const{prefix:n,shouldSkipGeneratingVar:r}=t||{},o={},s={},a={};return Boe(e,(c,f,d)=>{if((typeof f=="string"||typeof f=="number")&&(!r||!r(c,f))){const p=`--${n?`${n}-`:""}${c.join("-")}`,g=joe(c,f);Object.assign(o,{[p]:g}),sT(s,c,`var(${p})`,d),sT(a,c,`var(${p}, ${g})`,d)}},c=>c[0]==="vars"),{css:o,vars:s,varsWithDefaults:a}}function Doe(e,t={}){const{getSelector:n=T,disableCssColorScheme:r,colorSchemeSelector:o}=t,{colorSchemes:s={},components:a,defaultColorScheme:c="light",...f}=e,{vars:d,css:p,varsWithDefaults:g}=My(f,t);let m=g;const y={},{[c]:b,...x}=s;if(Object.entries(x||{}).forEach(([N,R])=>{const{vars:W,css:j,varsWithDefaults:A}=My(R,t);m=Cr(m,A),y[N]={css:j,vars:W}}),b){const{css:N,vars:R,varsWithDefaults:W}=My(b,t);m=Cr(m,W),y[c]={css:N,vars:R}}function T(N,R){var j,A;let W=o;if(o==="class"&&(W=".%s"),o==="data"&&(W="[data-%s]"),o!=null&&o.startsWith("data-")&&!o.includes("%s")&&(W=`[${o}="%s"]`),N){if(W==="media")return e.defaultColorScheme===N?":root":{[`@media (prefers-color-scheme: ${((A=(j=s[N])==null?void 0:j.palette)==null?void 0:A.mode)||N})`]:{":root":R}};if(W)return e.defaultColorScheme===N?`:root, ${W.replace("%s",String(N))}`:W.replace("%s",String(N))}return":root"}return{vars:m,generateThemeVars:()=>{let N={...d};return Object.entries(y).forEach(([,{vars:R}])=>{N=Cr(N,R)}),N},generateStyleSheets:()=>{var U,K;const N=[],R=e.defaultColorScheme||"light";function W(S,M){Object.keys(M).length&&N.push(typeof S=="string"?{[S]:{...M}}:S)}W(n(void 0,{...p}),p);const{[R]:j,...A}=y;if(j){const{css:S}=j,M=(K=(U=s[R])==null?void 0:U.palette)==null?void 0:K.mode,D=!r&&M?{colorScheme:M,...S}:{...S};W(n(R,{...D}),D)}return Object.entries(A).forEach(([S,{css:M}])=>{var re,_e;const D=(_e=(re=s[S])==null?void 0:re.palette)==null?void 0:_e.mode,X=!r&&D?{colorScheme:D,...M}:{...M};W(n(S,{...X}),X)}),N}}}function Woe(e){return function(n){return e==="media"?`@media (prefers-color-scheme: ${n})`:e?e.startsWith("data-")&&!e.includes("%s")?`[${e}="${n}"] &`:e==="class"?`.${n} &`:e==="data"?`[data-${n}] &`:`${e.replace("%s",n)} &`:"&"}}function ZM(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:_l.white,default:_l.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const Uoe=ZM();function e2(){return{text:{primary:_l.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:_l.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const aT=e2();function uT(e,t,n,r){const o=r.light||r,s=r.dark||r*1.5;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:t==="light"?e.light=vS(e.main,o):t==="dark"&&(e.dark=yS(e.main,s)))}function zoe(e="light"){return e==="dark"?{main:za[200],light:za[50],dark:za[400]}:{main:za[700],light:za[400],dark:za[800]}}function qoe(e="light"){return e==="dark"?{main:Ua[200],light:Ua[50],dark:Ua[400]}:{main:Ua[500],light:Ua[300],dark:Ua[700]}}function Koe(e="light"){return e==="dark"?{main:Wa[500],light:Wa[300],dark:Wa[700]}:{main:Wa[700],light:Wa[400],dark:Wa[800]}}function Voe(e="light"){return e==="dark"?{main:qa[400],light:qa[300],dark:qa[700]}:{main:qa[700],light:qa[500],dark:qa[900]}}function Hoe(e="light"){return e==="dark"?{main:Ka[400],light:Ka[300],dark:Ka[700]}:{main:Ka[800],light:Ka[500],dark:Ka[900]}}function Goe(e="light"){return e==="dark"?{main:$c[400],light:$c[300],dark:$c[700]}:{main:"#ed6c02",light:$c[500],dark:$c[900]}}function bS(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2,...o}=e,s=e.primary||zoe(t),a=e.secondary||qoe(t),c=e.error||Koe(t),f=e.info||Voe(t),d=e.success||Hoe(t),p=e.warning||Goe(t);function g(x){return Coe(x,aT.text.primary)>=n?aT.text.primary:Uoe.text.primary}const m=({color:x,name:T,mainShade:k=500,lightShade:L=300,darkShade:N=700})=>{if(x={...x},!x.main&&x[k]&&(x.main=x[k]),!x.hasOwnProperty("main"))throw new Error(ia(11,T?` (${T})`:"",k));if(typeof x.main!="string")throw new Error(ia(12,T?` (${T})`:"",JSON.stringify(x.main)));return uT(x,"light",L,r),uT(x,"dark",N,r),x.contrastText||(x.contrastText=g(x.main)),x};let y;return t==="light"?y=ZM():t==="dark"&&(y=e2()),Cr({common:{..._l},mode:t,primary:m({color:s,name:"primary"}),secondary:m({color:a,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:m({color:c,name:"error"}),warning:m({color:p,name:"warning"}),info:m({color:f,name:"info"}),success:m({color:d,name:"success"}),grey:rne,contrastThreshold:n,getContrastText:g,augmentColor:m,tonalOffset:r,...y},o)}function Joe(e){const t={};return Object.entries(e).forEach(r=>{const[o,s]=r;typeof s=="object"&&(t[o]=`${s.fontStyle?`${s.fontStyle} `:""}${s.fontVariant?`${s.fontVariant} `:""}${s.fontWeight?`${s.fontWeight} `:""}${s.fontStretch?`${s.fontStretch} `:""}${s.fontSize||""}${s.lineHeight?`/${s.lineHeight} `:""}${s.fontFamily||""}`)}),t}function Yoe(e,t){return{toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}},...t}}function Xoe(e){return Math.round(e*1e5)/1e5}const cT={textTransform:"uppercase"},lT='"Roboto", "Helvetica", "Arial", sans-serif';function Qoe(e,t){const{fontFamily:n=lT,fontSize:r=14,fontWeightLight:o=300,fontWeightRegular:s=400,fontWeightMedium:a=500,fontWeightBold:c=700,htmlFontSize:f=16,allVariants:d,pxToRem:p,...g}=typeof t=="function"?t(e):t,m=r/14,y=p||(T=>`${T/f*m}rem`),b=(T,k,L,N,R)=>({fontFamily:n,fontWeight:T,fontSize:y(k),lineHeight:L,...n===lT?{letterSpacing:`${Xoe(N/k)}em`}:{},...R,...d}),x={h1:b(o,96,1.167,-1.5),h2:b(o,60,1.2,-.5),h3:b(s,48,1.167,0),h4:b(s,34,1.235,.25),h5:b(s,24,1.334,0),h6:b(a,20,1.6,.15),subtitle1:b(s,16,1.75,.15),subtitle2:b(a,14,1.57,.1),body1:b(s,16,1.5,.15),body2:b(s,14,1.43,.15),button:b(a,14,1.75,.4,cT),caption:b(s,12,1.66,.4),overline:b(s,12,2.66,1,cT),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Cr({htmlFontSize:f,pxToRem:y,fontFamily:n,fontSize:r,fontWeightLight:o,fontWeightRegular:s,fontWeightMedium:a,fontWeightBold:c,...x},g,{clone:!1})}const Zoe=.2,eie=.14,tie=.12;function mt(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${Zoe})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${eie})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${tie})`].join(",")}const nie=["none",mt(0,2,1,-1,0,1,1,0,0,1,3,0),mt(0,3,1,-2,0,2,2,0,0,1,5,0),mt(0,3,3,-2,0,3,4,0,0,1,8,0),mt(0,2,4,-1,0,4,5,0,0,1,10,0),mt(0,3,5,-1,0,5,8,0,0,1,14,0),mt(0,3,5,-1,0,6,10,0,0,1,18,0),mt(0,4,5,-2,0,7,10,1,0,2,16,1),mt(0,5,5,-3,0,8,10,1,0,3,14,2),mt(0,5,6,-3,0,9,12,1,0,3,16,2),mt(0,6,6,-3,0,10,14,1,0,4,18,3),mt(0,6,7,-4,0,11,15,1,0,4,20,3),mt(0,7,8,-4,0,12,17,2,0,5,22,4),mt(0,7,8,-4,0,13,19,2,0,5,24,4),mt(0,7,9,-4,0,14,21,2,0,5,26,4),mt(0,8,9,-5,0,15,22,2,0,6,28,5),mt(0,8,10,-5,0,16,24,2,0,6,30,5),mt(0,8,11,-5,0,17,26,2,0,6,32,5),mt(0,9,11,-5,0,18,28,2,0,7,34,6),mt(0,9,12,-6,0,19,29,2,0,7,36,6),mt(0,10,13,-6,0,20,31,3,0,8,38,7),mt(0,10,13,-6,0,21,33,3,0,8,40,7),mt(0,10,14,-6,0,22,35,3,0,8,42,7),mt(0,11,14,-7,0,23,36,3,0,9,44,8),mt(0,11,15,-7,0,24,38,3,0,9,46,8)],rie={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},oie={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function fT(e){return`${Math.round(e)}ms`}function iie(e){if(!e)return 0;const t=e/36;return Math.min(Math.round((4+15*t**.25+t/5)*10),3e3)}function sie(e){const t={...rie,...e.easing},n={...oie,...e.duration};return{getAutoHeightDuration:iie,create:(o=["all"],s={})=>{const{duration:a=n.standard,easing:c=t.easeInOut,delay:f=0,...d}=s;return(Array.isArray(o)?o:[o]).map(p=>`${p} ${typeof a=="string"?a:fT(a)} ${c} ${typeof f=="string"?f:fT(f)}`).join(",")},...e,easing:t,duration:n}}const aie={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function uie(e){return jo(e)||typeof e>"u"||typeof e=="string"||typeof e=="boolean"||typeof e=="number"||Array.isArray(e)}function t2(e={}){const t={...e};function n(r){const o=Object.entries(r);for(let s=0;s<o.length;s++){const[a,c]=o[s];!uie(c)||a.startsWith("unstable_")?delete r[a]:jo(c)&&(r[a]={...c},n(r[a]))}}return n(t),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(t,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function Zv(e={},...t){const{breakpoints:n,mixins:r={},spacing:o,palette:s={},transitions:a={},typography:c={},shape:f,...d}=e;if(e.vars&&e.generateThemeVars===void 0)throw new Error(ia(20));const p=bS(s),g=gS(e);let m=Cr(g,{mixins:Yoe(g.breakpoints,r),palette:p,shadows:nie.slice(),typography:Qoe(p,c),transitions:sie(a),zIndex:{...aie}});return m=Cr(m,d),m=t.reduce((y,b)=>Cr(y,b),m),m.unstable_sxConfig={...lf,...d==null?void 0:d.unstable_sxConfig},m.unstable_sx=function(b){return sa({sx:b,theme:this})},m.toRuntimeSource=t2,m}function cie(e){let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,Math.round(t*10)/1e3}const lie=[...Array(25)].map((e,t)=>{if(t===0)return"none";const n=cie(t);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function n2(e){return{inputPlaceholder:e==="dark"?.5:.42,inputUnderline:e==="dark"?.7:.42,switchTrackDisabled:e==="dark"?.2:.12,switchTrack:e==="dark"?.3:.38}}function r2(e){return e==="dark"?lie:[]}function fie(e){const{palette:t={mode:"light"},opacity:n,overlays:r,...o}=e,s=bS(t);return{palette:s,opacity:{...n2(s.mode),...n},overlays:r||r2(s.mode),...o}}function die(e){var t;return!!e[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!e[0].match(/sxConfig$/)||e[0]==="palette"&&!!((t=e[1])!=null&&t.match(/(mode|contrastThreshold|tonalOffset)/))}const hie=e=>[...[...Array(25)].map((t,n)=>`--${e?`${e}-`:""}overlays-${n}`),`--${e?`${e}-`:""}palette-AppBar-darkBg`,`--${e?`${e}-`:""}palette-AppBar-darkColor`];var pie=e=>(t,n)=>{const r=e.rootSelector||":root",o=e.colorSchemeSelector;let s=o;if(o==="class"&&(s=".%s"),o==="data"&&(s="[data-%s]"),o!=null&&o.startsWith("data-")&&!o.includes("%s")&&(s=`[${o}="%s"]`),e.defaultColorScheme===t){if(t==="dark"){const a={};return hie(e.cssVarPrefix).forEach(c=>{a[c]=n[c],delete n[c]}),s==="media"?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:a}}:s?{[s.replace("%s",t)]:a,[`${r}, ${s.replace("%s",t)}`]:n}:{[r]:{...n,...a}}}if(s&&s!=="media")return`${r}, ${s.replace("%s",String(t))}`}else if(t){if(s==="media")return{[`@media (prefers-color-scheme: ${String(t)})`]:{[r]:n}};if(s)return s.replace("%s",String(t))}return r};function gie(e,t){t.forEach(n=>{e[n]||(e[n]={})})}function z(e,t,n){!e[t]&&n&&(e[t]=n)}function Wc(e){return typeof e!="string"||!e.startsWith("hsl")?e:YM(e)}function pi(e,t){`${t}Channel`in e||(e[`${t}Channel`]=Dc(Wc(e[t])))}function mie(e){return typeof e=="number"?`${e}px`:typeof e=="string"||typeof e=="function"||Array.isArray(e)?e:"8px"}const Oo=e=>{try{return e()}catch{}},yie=(e="mui")=>Foe(e);function Ny(e,t,n,r){if(!t)return;t=t===!0?{}:t;const o=r==="dark"?"dark":"light";if(!n){e[r]=fie({...t,palette:{mode:o,...t==null?void 0:t.palette}});return}const{palette:s,...a}=Zv({...n,palette:{mode:o,...t==null?void 0:t.palette}});return e[r]={...t,palette:s,opacity:{...n2(o),...t==null?void 0:t.opacity},overlays:(t==null?void 0:t.overlays)||r2(o)},a}function vie(e={},...t){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:o=!1,cssVarPrefix:s="mui",shouldSkipGeneratingVar:a=die,colorSchemeSelector:c=n.light&&n.dark?"media":void 0,rootSelector:f=":root",...d}=e,p=Object.keys(n)[0],g=r||(n.light&&p!=="light"?"light":p),m=yie(s),{[g]:y,light:b,dark:x,...T}=n,k={...T};let L=y;if((g==="dark"&&!("dark"in n)||g==="light"&&!("light"in n))&&(L=!0),!L)throw new Error(ia(21,g));const N=Ny(k,L,d,g);b&&!k.light&&Ny(k,b,void 0,"light"),x&&!k.dark&&Ny(k,x,void 0,"dark");let R={defaultColorScheme:g,...N,cssVarPrefix:s,colorSchemeSelector:c,rootSelector:f,getCssVar:m,colorSchemes:k,font:{...Joe(N.typography),...N.font},spacing:mie(d.spacing)};Object.keys(R.colorSchemes).forEach(K=>{const S=R.colorSchemes[K].palette,M=D=>{const X=D.split("-"),re=X[1],_e=X[2];return m(D,S[re][_e])};if(S.mode==="light"&&(z(S.common,"background","#fff"),z(S.common,"onBackground","#000")),S.mode==="dark"&&(z(S.common,"background","#000"),z(S.common,"onBackground","#fff")),gie(S,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),S.mode==="light"){z(S.Alert,"errorColor",et(S.error.light,.6)),z(S.Alert,"infoColor",et(S.info.light,.6)),z(S.Alert,"successColor",et(S.success.light,.6)),z(S.Alert,"warningColor",et(S.warning.light,.6)),z(S.Alert,"errorFilledBg",M("palette-error-main")),z(S.Alert,"infoFilledBg",M("palette-info-main")),z(S.Alert,"successFilledBg",M("palette-success-main")),z(S.Alert,"warningFilledBg",M("palette-warning-main")),z(S.Alert,"errorFilledColor",Oo(()=>S.getContrastText(S.error.main))),z(S.Alert,"infoFilledColor",Oo(()=>S.getContrastText(S.info.main))),z(S.Alert,"successFilledColor",Oo(()=>S.getContrastText(S.success.main))),z(S.Alert,"warningFilledColor",Oo(()=>S.getContrastText(S.warning.main))),z(S.Alert,"errorStandardBg",tt(S.error.light,.9)),z(S.Alert,"infoStandardBg",tt(S.info.light,.9)),z(S.Alert,"successStandardBg",tt(S.success.light,.9)),z(S.Alert,"warningStandardBg",tt(S.warning.light,.9)),z(S.Alert,"errorIconColor",M("palette-error-main")),z(S.Alert,"infoIconColor",M("palette-info-main")),z(S.Alert,"successIconColor",M("palette-success-main")),z(S.Alert,"warningIconColor",M("palette-warning-main")),z(S.AppBar,"defaultBg",M("palette-grey-100")),z(S.Avatar,"defaultBg",M("palette-grey-400")),z(S.Button,"inheritContainedBg",M("palette-grey-300")),z(S.Button,"inheritContainedHoverBg",M("palette-grey-A100")),z(S.Chip,"defaultBorder",M("palette-grey-400")),z(S.Chip,"defaultAvatarColor",M("palette-grey-700")),z(S.Chip,"defaultIconColor",M("palette-grey-700")),z(S.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),z(S.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),z(S.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),z(S.LinearProgress,"primaryBg",tt(S.primary.main,.62)),z(S.LinearProgress,"secondaryBg",tt(S.secondary.main,.62)),z(S.LinearProgress,"errorBg",tt(S.error.main,.62)),z(S.LinearProgress,"infoBg",tt(S.info.main,.62)),z(S.LinearProgress,"successBg",tt(S.success.main,.62)),z(S.LinearProgress,"warningBg",tt(S.warning.main,.62)),z(S.Skeleton,"bg",`rgba(${M("palette-text-primaryChannel")} / 0.11)`),z(S.Slider,"primaryTrack",tt(S.primary.main,.62)),z(S.Slider,"secondaryTrack",tt(S.secondary.main,.62)),z(S.Slider,"errorTrack",tt(S.error.main,.62)),z(S.Slider,"infoTrack",tt(S.info.main,.62)),z(S.Slider,"successTrack",tt(S.success.main,.62)),z(S.Slider,"warningTrack",tt(S.warning.main,.62));const D=vd(S.background.default,.8);z(S.SnackbarContent,"bg",D),z(S.SnackbarContent,"color",Oo(()=>S.getContrastText(D))),z(S.SpeedDialAction,"fabHoverBg",vd(S.background.paper,.15)),z(S.StepConnector,"border",M("palette-grey-400")),z(S.StepContent,"border",M("palette-grey-400")),z(S.Switch,"defaultColor",M("palette-common-white")),z(S.Switch,"defaultDisabledColor",M("palette-grey-100")),z(S.Switch,"primaryDisabledColor",tt(S.primary.main,.62)),z(S.Switch,"secondaryDisabledColor",tt(S.secondary.main,.62)),z(S.Switch,"errorDisabledColor",tt(S.error.main,.62)),z(S.Switch,"infoDisabledColor",tt(S.info.main,.62)),z(S.Switch,"successDisabledColor",tt(S.success.main,.62)),z(S.Switch,"warningDisabledColor",tt(S.warning.main,.62)),z(S.TableCell,"border",tt(yd(S.divider,1),.88)),z(S.Tooltip,"bg",yd(S.grey[700],.92))}if(S.mode==="dark"){z(S.Alert,"errorColor",tt(S.error.light,.6)),z(S.Alert,"infoColor",tt(S.info.light,.6)),z(S.Alert,"successColor",tt(S.success.light,.6)),z(S.Alert,"warningColor",tt(S.warning.light,.6)),z(S.Alert,"errorFilledBg",M("palette-error-dark")),z(S.Alert,"infoFilledBg",M("palette-info-dark")),z(S.Alert,"successFilledBg",M("palette-success-dark")),z(S.Alert,"warningFilledBg",M("palette-warning-dark")),z(S.Alert,"errorFilledColor",Oo(()=>S.getContrastText(S.error.dark))),z(S.Alert,"infoFilledColor",Oo(()=>S.getContrastText(S.info.dark))),z(S.Alert,"successFilledColor",Oo(()=>S.getContrastText(S.success.dark))),z(S.Alert,"warningFilledColor",Oo(()=>S.getContrastText(S.warning.dark))),z(S.Alert,"errorStandardBg",et(S.error.light,.9)),z(S.Alert,"infoStandardBg",et(S.info.light,.9)),z(S.Alert,"successStandardBg",et(S.success.light,.9)),z(S.Alert,"warningStandardBg",et(S.warning.light,.9)),z(S.Alert,"errorIconColor",M("palette-error-main")),z(S.Alert,"infoIconColor",M("palette-info-main")),z(S.Alert,"successIconColor",M("palette-success-main")),z(S.Alert,"warningIconColor",M("palette-warning-main")),z(S.AppBar,"defaultBg",M("palette-grey-900")),z(S.AppBar,"darkBg",M("palette-background-paper")),z(S.AppBar,"darkColor",M("palette-text-primary")),z(S.Avatar,"defaultBg",M("palette-grey-600")),z(S.Button,"inheritContainedBg",M("palette-grey-800")),z(S.Button,"inheritContainedHoverBg",M("palette-grey-700")),z(S.Chip,"defaultBorder",M("palette-grey-700")),z(S.Chip,"defaultAvatarColor",M("palette-grey-300")),z(S.Chip,"defaultIconColor",M("palette-grey-300")),z(S.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),z(S.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),z(S.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),z(S.LinearProgress,"primaryBg",et(S.primary.main,.5)),z(S.LinearProgress,"secondaryBg",et(S.secondary.main,.5)),z(S.LinearProgress,"errorBg",et(S.error.main,.5)),z(S.LinearProgress,"infoBg",et(S.info.main,.5)),z(S.LinearProgress,"successBg",et(S.success.main,.5)),z(S.LinearProgress,"warningBg",et(S.warning.main,.5)),z(S.Skeleton,"bg",`rgba(${M("palette-text-primaryChannel")} / 0.13)`),z(S.Slider,"primaryTrack",et(S.primary.main,.5)),z(S.Slider,"secondaryTrack",et(S.secondary.main,.5)),z(S.Slider,"errorTrack",et(S.error.main,.5)),z(S.Slider,"infoTrack",et(S.info.main,.5)),z(S.Slider,"successTrack",et(S.success.main,.5)),z(S.Slider,"warningTrack",et(S.warning.main,.5));const D=vd(S.background.default,.98);z(S.SnackbarContent,"bg",D),z(S.SnackbarContent,"color",Oo(()=>S.getContrastText(D))),z(S.SpeedDialAction,"fabHoverBg",vd(S.background.paper,.15)),z(S.StepConnector,"border",M("palette-grey-600")),z(S.StepContent,"border",M("palette-grey-600")),z(S.Switch,"defaultColor",M("palette-grey-300")),z(S.Switch,"defaultDisabledColor",M("palette-grey-600")),z(S.Switch,"primaryDisabledColor",et(S.primary.main,.55)),z(S.Switch,"secondaryDisabledColor",et(S.secondary.main,.55)),z(S.Switch,"errorDisabledColor",et(S.error.main,.55)),z(S.Switch,"infoDisabledColor",et(S.info.main,.55)),z(S.Switch,"successDisabledColor",et(S.success.main,.55)),z(S.Switch,"warningDisabledColor",et(S.warning.main,.55)),z(S.TableCell,"border",et(yd(S.divider,1),.68)),z(S.Tooltip,"bg",yd(S.grey[700],.92))}pi(S.background,"default"),pi(S.background,"paper"),pi(S.common,"background"),pi(S.common,"onBackground"),pi(S,"divider"),Object.keys(S).forEach(D=>{const X=S[D];D!=="tonalOffset"&&X&&typeof X=="object"&&(X.main&&z(S[D],"mainChannel",Dc(Wc(X.main))),X.light&&z(S[D],"lightChannel",Dc(Wc(X.light))),X.dark&&z(S[D],"darkChannel",Dc(Wc(X.dark))),X.contrastText&&z(S[D],"contrastTextChannel",Dc(Wc(X.contrastText))),D==="text"&&(pi(S[D],"primary"),pi(S[D],"secondary")),D==="action"&&(X.active&&pi(S[D],"active"),X.selected&&pi(S[D],"selected")))})}),R=t.reduce((K,S)=>Cr(K,S),R);const W={prefix:s,disableCssColorScheme:o,shouldSkipGeneratingVar:a,getSelector:pie(R)},{vars:j,generateThemeVars:A,generateStyleSheets:U}=Doe(R,W);return R.vars=j,Object.entries(R.colorSchemes[R.defaultColorScheme]).forEach(([K,S])=>{R[K]=S}),R.generateThemeVars=A,R.generateStyleSheets=U,R.generateSpacing=function(){return qM(d.spacing,hS(this))},R.getColorSchemeSelector=Woe(c),R.spacing=R.generateSpacing(),R.shouldSkipGeneratingVar=a,R.unstable_sxConfig={...lf,...d==null?void 0:d.unstable_sxConfig},R.unstable_sx=function(S){return sa({sx:S,theme:this})},R.toRuntimeSource=t2,R}function dT(e,t,n){e.colorSchemes&&n&&(e.colorSchemes[t]={...n!==!0&&n,palette:bS({...n===!0?{}:n.palette,mode:t})})}function o2(e={},...t){const{palette:n,cssVariables:r=!1,colorSchemes:o=n?void 0:{light:!0},defaultColorScheme:s=n==null?void 0:n.mode,...a}=e,c=s||"light",f=o==null?void 0:o[c],d={...o,...n?{[c]:{...typeof f!="boolean"&&f,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in e))return Zv(e,...t);let p=n;"palette"in e||d[c]&&(d[c]!==!0?p=d[c].palette:c==="dark"&&(p={mode:"dark"}));const g=Zv({...e,palette:p},...t);return g.defaultColorScheme=c,g.colorSchemes=d,g.palette.mode==="light"&&(g.colorSchemes.light={...d.light!==!0&&d.light,palette:g.palette},dT(g,"dark",d.dark)),g.palette.mode==="dark"&&(g.colorSchemes.dark={...d.dark!==!0&&d.dark,palette:g.palette},dT(g,"light",d.light)),g}return!n&&!("light"in d)&&c==="light"&&(d.light=!0),vie({...a,colorSchemes:d,defaultColorScheme:c,...typeof r!="boolean"&&r},...t)}const _ie=o2();function bie(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const i2=e=>bie(e)&&e!=="classes",Yn=moe({themeId:bM,defaultTheme:_ie,rootShouldForwardProp:i2});function Sie(){return KM}const aa=Loe;function ba(e){return Noe(e)}function wie(e){return _a("MuiSvgIcon",e)}ys("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Eie=e=>{const{color:t,fontSize:n,classes:r}=e,o={root:["root",t!=="inherit"&&`color${Ve(t)}`,`fontSize${Ve(n)}`]};return ec(o,wie,r)},xie=Yn("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="inherit"&&t[`color${Ve(n.color)}`],t[`fontSize${Ve(n.fontSize)}`]]}})(aa(({theme:e})=>{var t,n,r,o,s,a,c,f,d,p,g,m,y,b;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(o=(t=e.transitions)==null?void 0:t.create)==null?void 0:o.call(t,"fill",{duration:(r=(n=(e.vars??e).transitions)==null?void 0:n.duration)==null?void 0:r.shorter}),variants:[{props:x=>!x.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((a=(s=e.typography)==null?void 0:s.pxToRem)==null?void 0:a.call(s,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((f=(c=e.typography)==null?void 0:c.pxToRem)==null?void 0:f.call(c,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((p=(d=e.typography)==null?void 0:d.pxToRem)==null?void 0:p.call(d,35))||"2.1875rem"}},...Object.entries((e.vars??e).palette).filter(([,x])=>x&&x.main).map(([x])=>{var T,k;return{props:{color:x},style:{color:(k=(T=(e.vars??e).palette)==null?void 0:T[x])==null?void 0:k.main}}}),{props:{color:"action"},style:{color:(m=(g=(e.vars??e).palette)==null?void 0:g.action)==null?void 0:m.active}},{props:{color:"disabled"},style:{color:(b=(y=(e.vars??e).palette)==null?void 0:y.action)==null?void 0:b.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),e_=G.forwardRef(function(t,n){const r=ba({props:t,name:"MuiSvgIcon"}),{children:o,className:s,color:a="inherit",component:c="svg",fontSize:f="medium",htmlColor:d,inheritViewBox:p=!1,titleAccess:g,viewBox:m="0 0 24 24",...y}=r,b=G.isValidElement(o)&&o.type==="svg",x={...r,color:a,component:c,fontSize:f,instanceFontSize:t.fontSize,inheritViewBox:p,viewBox:m,hasSvgAsChild:b},T={};p||(T.viewBox=m);const k=Eie(x);return J.jsxs(xie,{as:c,className:vn(k.root,s),focusable:"false",color:d,"aria-hidden":g?void 0:!0,role:g?"img":void 0,ref:n,...T,...y,...b&&o.props,ownerState:x,children:[b?o.props.children:o,g?J.jsx("title",{children:g}):null]})});e_.muiName="SvgIcon";function SS(e,t){function n(r,o){return J.jsx(e_,{"data-testid":`${t}Icon`,ref:o,...r,children:e})}return n.muiName=e_.muiName,G.memo(G.forwardRef(n))}function Cie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function t_(e,t){return t_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},t_(e,t)}function Tie(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,t_(e,t)}var hT=st.createContext(null);function kie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wS(e,t){var n=function(s){return t&&G.isValidElement(s)?t(s):s},r=Object.create(null);return e&&G.Children.map(e,function(o){return o}).forEach(function(o){r[o.key]=n(o)}),r}function Oie(e,t){e=e||{},t=t||{};function n(p){return p in t?t[p]:e[p]}var r=Object.create(null),o=[];for(var s in e)s in t?o.length&&(r[s]=o,o=[]):o.push(s);var a,c={};for(var f in t){if(r[f])for(a=0;a<r[f].length;a++){var d=r[f][a];c[r[f][a]]=n(d)}c[f]=n(f)}for(a=0;a<o.length;a++)c[o[a]]=n(o[a]);return c}function js(e,t,n){return n[t]!=null?n[t]:e.props[t]}function Iie(e,t){return wS(e.children,function(n){return G.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:js(n,"appear",e),enter:js(n,"enter",e),exit:js(n,"exit",e)})})}function Aie(e,t,n){var r=wS(e.children),o=Oie(t,r);return Object.keys(o).forEach(function(s){var a=o[s];if(G.isValidElement(a)){var c=s in t,f=s in r,d=t[s],p=G.isValidElement(d)&&!d.props.in;f&&(!c||p)?o[s]=G.cloneElement(a,{onExited:n.bind(null,a),in:!0,exit:js(a,"exit",e),enter:js(a,"enter",e)}):!f&&c&&!p?o[s]=G.cloneElement(a,{in:!1}):f&&c&&G.isValidElement(d)&&(o[s]=G.cloneElement(a,{onExited:n.bind(null,a),in:d.props.in,exit:js(a,"exit",e),enter:js(a,"enter",e)}))}}),o}var $ie=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},Rie={component:"div",childFactory:function(t){return t}},ES=function(e){Tie(t,e);function t(r,o){var s;s=e.call(this,r,o)||this;var a=s.handleExited.bind(kie(s));return s.state={contextValue:{isMounting:!0},handleExited:a,firstRender:!0},s}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(o,s){var a=s.children,c=s.handleExited,f=s.firstRender;return{children:f?Iie(o,c):Aie(o,a,c),firstRender:!1}},n.handleExited=function(o,s){var a=wS(this.props.children);o.key in a||(o.props.onExited&&o.props.onExited(s),this.mounted&&this.setState(function(c){var f=Wh({},c.children);return delete f[o.key],{children:f}}))},n.render=function(){var o=this.props,s=o.component,a=o.childFactory,c=Cie(o,["component","childFactory"]),f=this.state.contextValue,d=$ie(this.state.children).map(a);return delete c.appear,delete c.enter,delete c.exit,s===null?st.createElement(hT.Provider,{value:f},d):st.createElement(hT.Provider,{value:f},st.createElement(s,c,d))},t}(st.Component);ES.propTypes={};ES.defaultProps=Rie;class Kh{constructor(){_(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new Kh}static use(){const t=QM(Kh.create).current,[n,r]=G.useState(!1);return t.shouldMount=n,t.setShouldMount=r,G.useEffect(t.mountEffect,[n]),t}mount(){return this.mounted||(this.mounted=Mie(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...t){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.start(...t)})}stop(...t){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.stop(...t)})}pulsate(...t){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.pulsate(...t)})}}function Pie(){return Kh.use()}function Mie(){let e,t;const n=new Promise((r,o)=>{e=r,t=o});return n.resolve=e,n.reject=t,n}function Nie(e){const{className:t,classes:n,pulsate:r=!1,rippleX:o,rippleY:s,rippleSize:a,in:c,onExited:f,timeout:d}=e,[p,g]=G.useState(!1),m=vn(t,n.ripple,n.rippleVisible,r&&n.ripplePulsate),y={width:a,height:a,top:-(a/2)+s,left:-(a/2)+o},b=vn(n.child,p&&n.childLeaving,r&&n.childPulsate);return!c&&!p&&g(!0),G.useEffect(()=>{if(!c&&f!=null){const x=setTimeout(f,d);return()=>{clearTimeout(x)}}},[f,c,d]),J.jsx("span",{className:m,style:y,children:J.jsx("span",{className:b})})}const Hr=ys("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),n_=550,Lie=80,Fie=af`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,Bie=af`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,jie=af`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,Die=Yn("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Wie=Yn(Nie,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${Hr.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${Fie};
    animation-duration: ${n_}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  &.${Hr.ripplePulsate} {
    animation-duration: ${({theme:e})=>e.transitions.duration.shorter}ms;
  }

  & .${Hr.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${Hr.childLeaving} {
    opacity: 0;
    animation-name: ${Bie};
    animation-duration: ${n_}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  & .${Hr.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${jie};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,Uie=G.forwardRef(function(t,n){const r=ba({props:t,name:"MuiTouchRipple"}),{center:o=!1,classes:s={},className:a,...c}=r,[f,d]=G.useState([]),p=G.useRef(0),g=G.useRef(null);G.useEffect(()=>{g.current&&(g.current(),g.current=null)},[f]);const m=G.useRef(!1),y=Roe(),b=G.useRef(null),x=G.useRef(null),T=G.useCallback(R=>{const{pulsate:W,rippleX:j,rippleY:A,rippleSize:U,cb:K}=R;d(S=>[...S,J.jsx(Wie,{classes:{ripple:vn(s.ripple,Hr.ripple),rippleVisible:vn(s.rippleVisible,Hr.rippleVisible),ripplePulsate:vn(s.ripplePulsate,Hr.ripplePulsate),child:vn(s.child,Hr.child),childLeaving:vn(s.childLeaving,Hr.childLeaving),childPulsate:vn(s.childPulsate,Hr.childPulsate)},timeout:n_,pulsate:W,rippleX:j,rippleY:A,rippleSize:U},p.current)]),p.current+=1,g.current=K},[s]),k=G.useCallback((R={},W={},j=()=>{})=>{const{pulsate:A=!1,center:U=o||W.pulsate,fakeElement:K=!1}=W;if((R==null?void 0:R.type)==="mousedown"&&m.current){m.current=!1;return}(R==null?void 0:R.type)==="touchstart"&&(m.current=!0);const S=K?null:x.current,M=S?S.getBoundingClientRect():{width:0,height:0,left:0,top:0};let D,X,re;if(U||R===void 0||R.clientX===0&&R.clientY===0||!R.clientX&&!R.touches)D=Math.round(M.width/2),X=Math.round(M.height/2);else{const{clientX:_e,clientY:ye}=R.touches&&R.touches.length>0?R.touches[0]:R;D=Math.round(_e-M.left),X=Math.round(ye-M.top)}if(U)re=Math.sqrt((2*M.width**2+M.height**2)/3),re%2===0&&(re+=1);else{const _e=Math.max(Math.abs((S?S.clientWidth:0)-D),D)*2+2,ye=Math.max(Math.abs((S?S.clientHeight:0)-X),X)*2+2;re=Math.sqrt(_e**2+ye**2)}R!=null&&R.touches?b.current===null&&(b.current=()=>{T({pulsate:A,rippleX:D,rippleY:X,rippleSize:re,cb:j})},y.start(Lie,()=>{b.current&&(b.current(),b.current=null)})):T({pulsate:A,rippleX:D,rippleY:X,rippleSize:re,cb:j})},[o,T,y]),L=G.useCallback(()=>{k({},{pulsate:!0})},[k]),N=G.useCallback((R,W)=>{if(y.clear(),(R==null?void 0:R.type)==="touchend"&&b.current){b.current(),b.current=null,y.start(0,()=>{N(R,W)});return}b.current=null,d(j=>j.length>0?j.slice(1):j),g.current=W},[y]);return G.useImperativeHandle(n,()=>({pulsate:L,start:k,stop:N}),[L,k,N]),J.jsx(Die,{className:vn(Hr.root,s.root,a),ref:x,...c,children:J.jsx(ES,{component:null,exit:!0,children:f})})});function zie(e){return _a("MuiButtonBase",e)}const qie=ys("MuiButtonBase",["root","disabled","focusVisible"]),Kie=e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:o}=e,a=ec({root:["root",t&&"disabled",n&&"focusVisible"]},zie,o);return n&&r&&(a.root+=` ${r}`),a},Vie=Yn("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${qie.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),s2=G.forwardRef(function(t,n){const r=ba({props:t,name:"MuiButtonBase"}),{action:o,centerRipple:s=!1,children:a,className:c,component:f="button",disabled:d=!1,disableRipple:p=!1,disableTouchRipple:g=!1,focusRipple:m=!1,focusVisibleClassName:y,LinkComponent:b="a",onBlur:x,onClick:T,onContextMenu:k,onDragLeave:L,onFocus:N,onFocusVisible:R,onKeyDown:W,onKeyUp:j,onMouseDown:A,onMouseLeave:U,onMouseUp:K,onTouchEnd:S,onTouchMove:M,onTouchStart:D,tabIndex:X=0,TouchRippleProps:re,touchRippleRef:_e,type:ye,...ie}=r,ce=G.useRef(null),Le=Pie(),cn=nT(Le.ref,_e),[ut,Li]=G.useState(!1);d&&ut&&Li(!1),G.useImperativeHandle(o,()=>({focusVisible:()=>{Li(!0),ce.current.focus()}}),[]);const tc=Le.shouldMount&&!p&&!d;G.useEffect(()=>{ut&&m&&!p&&Le.pulsate()},[p,m,ut,Le]);const nc=gi(Le,"start",A,g),wo=gi(Le,"stop",k,g),Fi=gi(Le,"stop",L,g),vs=gi(Le,"stop",K,g),ti=gi(Le,"stop",Z=>{ut&&Z.preventDefault(),U&&U(Z)},g),Xn=gi(Le,"start",D,g),rc=gi(Le,"stop",S,g),Bi=gi(Le,"stop",M,g),ji=gi(Le,"stop",Z=>{oT(Z.target)||Li(!1),x&&x(Z)},!1),Sa=Gd(Z=>{ce.current||(ce.current=Z.currentTarget),oT(Z.target)&&(Li(!0),R&&R(Z)),N&&N(Z)}),ln=()=>{const Z=ce.current;return f&&f!=="button"&&!(Z.tagName==="A"&&Z.href)},ni=Gd(Z=>{m&&!Z.repeat&&ut&&Z.key===" "&&Le.stop(Z,()=>{Le.start(Z)}),Z.target===Z.currentTarget&&ln()&&Z.key===" "&&Z.preventDefault(),W&&W(Z),Z.target===Z.currentTarget&&ln()&&Z.key==="Enter"&&!d&&(Z.preventDefault(),T&&T(Z))}),oc=Gd(Z=>{m&&Z.key===" "&&ut&&!Z.defaultPrevented&&Le.stop(Z,()=>{Le.pulsate(Z)}),j&&j(Z),T&&Z.target===Z.currentTarget&&ln()&&Z.key===" "&&!Z.defaultPrevented&&T(Z)});let wn=f;wn==="button"&&(ie.href||ie.to)&&(wn=b);const Eo={};wn==="button"?(Eo.type=ye===void 0?"button":ye,Eo.disabled=d):(!ie.href&&!ie.to&&(Eo.role="button"),d&&(Eo["aria-disabled"]=d));const ic=nT(n,ce),xo={...r,centerRipple:s,component:f,disabled:d,disableRipple:p,disableTouchRipple:g,focusRipple:m,tabIndex:X,focusVisible:ut},jn=Kie(xo);return J.jsxs(Vie,{as:wn,className:vn(jn.root,c),ownerState:xo,onBlur:ji,onClick:T,onContextMenu:wo,onFocus:Sa,onKeyDown:ni,onKeyUp:oc,onMouseDown:nc,onMouseLeave:ti,onMouseUp:vs,onDragLeave:Fi,onTouchEnd:rc,onTouchMove:Bi,onTouchStart:Xn,ref:ic,tabIndex:d?-1:X,type:ye,...Eo,...ie,children:[a,tc?J.jsx(Uie,{ref:cn,center:s,...re}):null]})});function gi(e,t,n,r=!1){return Gd(o=>(n&&n(o),r||e[t](o),!0))}function Hie(e){return typeof e.main=="string"}function Gie(e,t=[]){if(!Hie(e))return!1;for(const n of t)if(!e.hasOwnProperty(n)||typeof e[n]!="string")return!1;return!0}function El(e=[]){return([,t])=>t&&Gie(t,e)}function Jie(e){return _a("MuiCircularProgress",e)}ys("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Xi=44,r_=af`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,o_=af`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,Yie=typeof r_!="string"?uS`
        animation: ${r_} 1.4s linear infinite;
      `:null,Xie=typeof o_!="string"?uS`
        animation: ${o_} 1.4s ease-in-out infinite;
      `:null,Qie=e=>{const{classes:t,variant:n,color:r,disableShrink:o}=e,s={root:["root",n,`color${Ve(r)}`],svg:["svg"],circle:["circle",`circle${Ve(n)}`,o&&"circleDisableShrink"]};return ec(s,Jie,t)},Zie=Yn("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`color${Ve(n.color)}`]]}})(aa(({theme:e})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("transform")}},{props:{variant:"indeterminate"},style:Yie||{animation:`${r_} 1.4s linear infinite`}},...Object.entries(e.palette).filter(El()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}}))]}))),ese=Yn("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),tse=Yn("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t[`circle${Ve(n.variant)}`],n.disableShrink&&t.circleDisableShrink]}})(aa(({theme:e})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink,style:Xie||{animation:`${o_} 1.4s ease-in-out infinite`}}]}))),a2=G.forwardRef(function(t,n){const r=ba({props:t,name:"MuiCircularProgress"}),{className:o,color:s="primary",disableShrink:a=!1,size:c=40,style:f,thickness:d=3.6,value:p=0,variant:g="indeterminate",...m}=r,y={...r,color:s,disableShrink:a,size:c,thickness:d,value:p,variant:g},b=Qie(y),x={},T={},k={};if(g==="determinate"){const L=2*Math.PI*((Xi-d)/2);x.strokeDasharray=L.toFixed(3),k["aria-valuenow"]=Math.round(p),x.strokeDashoffset=`${((100-p)/100*L).toFixed(3)}px`,T.transform="rotate(-90deg)"}return J.jsx(Zie,{className:vn(b.root,o),style:{width:c,height:c,...T,...f},ownerState:y,ref:n,role:"progressbar",...k,...m,children:J.jsx(ese,{className:b.svg,ownerState:y,viewBox:`${Xi/2} ${Xi/2} ${Xi} ${Xi}`,children:J.jsx(tse,{className:b.circle,style:x,ownerState:y,cx:Xi,cy:Xi,r:(Xi-d)/2,fill:"none",strokeWidth:d})})})});function nse(e){return _a("MuiIconButton",e)}const pT=ys("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),rse=e=>{const{classes:t,disabled:n,color:r,edge:o,size:s,loading:a}=e,c={root:["root",a&&"loading",n&&"disabled",r!=="default"&&`color${Ve(r)}`,o&&`edge${Ve(o)}`,`size${Ve(s)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return ec(c,nse,t)},ose=Yn(s2,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.loading&&t.loading,n.color!=="default"&&t[`color${Ve(n.color)}`],n.edge&&t[`edge${Ve(n.edge)}`],t[`size${Ve(n.size)}`]]}})(aa(({theme:e})=>({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),variants:[{props:t=>!t.disableRipple,style:{"--IconButton-hoverBg":e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:es(e.palette.action.active,e.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),aa(({theme:e})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(e.palette).filter(El()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}})),...Object.entries(e.palette).filter(El()).map(([t])=>({props:{color:t},style:{"--IconButton-hoverBg":e.vars?`rgba(${(e.vars||e).palette[t].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:es((e.vars||e).palette[t].main,e.palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:e.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:e.typography.pxToRem(28)}}],[`&.${pT.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled},[`&.${pT.loading}`]:{color:"transparent"}}))),ise=Yn("span",{name:"MuiIconButton",slot:"LoadingIndicator",overridesResolver:(e,t)=>t.loadingIndicator})(({theme:e})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(e.vars||e).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),xS=G.forwardRef(function(t,n){const r=ba({props:t,name:"MuiIconButton"}),{edge:o=!1,children:s,className:a,color:c="default",disabled:f=!1,disableFocusRipple:d=!1,size:p="medium",id:g,loading:m=null,loadingIndicator:y,...b}=r,x=XM(g),T=y??J.jsx(a2,{"aria-labelledby":x,color:"inherit",size:16}),k={...r,edge:o,color:c,disabled:f,disableFocusRipple:d,loading:m,loadingIndicator:T,size:p},L=rse(k);return J.jsxs(ose,{id:m?x:g,className:vn(L.root,a),centerRipple:!0,focusRipple:!d,disabled:f||m,ref:n,...b,ownerState:k,children:[typeof m=="boolean"&&J.jsx("span",{className:L.loadingWrapper,style:{display:"contents"},children:J.jsx(ise,{className:L.loadingIndicator,ownerState:k,children:m&&T})}),s]})});function sse(e){return _a("MuiTypography",e)}ys("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const ase={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},use=Sie(),cse=e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:o,variant:s,classes:a}=e,c={root:["root",s,e.align!=="inherit"&&`align${Ve(t)}`,n&&"gutterBottom",r&&"noWrap",o&&"paragraph"]};return ec(c,sse,a)},lse=Yn("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],n.align!=="inherit"&&t[`align${Ve(n.align)}`],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})(aa(({theme:e})=>{var t;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(e.typography).filter(([n,r])=>n!=="inherit"&&r&&typeof r=="object").map(([n,r])=>({props:{variant:n},style:r})),...Object.entries(e.palette).filter(El()).map(([n])=>({props:{color:n},style:{color:(e.vars||e).palette[n].main}})),...Object.entries(((t=e.palette)==null?void 0:t.text)||{}).filter(([,n])=>typeof n=="string").map(([n])=>({props:{color:`text${Ve(n)}`},style:{color:(e.vars||e).palette.text[n]}})),{props:({ownerState:n})=>n.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:n})=>n.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:n})=>n.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:n})=>n.paragraph,style:{marginBottom:16}}]}})),gT={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Ni=G.forwardRef(function(t,n){const{color:r,...o}=ba({props:t,name:"MuiTypography"}),s=!ase[r],a=use({...o,...s&&{color:r}}),{align:c="inherit",className:f,component:d,gutterBottom:p=!1,noWrap:g=!1,paragraph:m=!1,variant:y="body1",variantMapping:b=gT,...x}=a,T={...a,align:c,color:r,className:f,component:d,gutterBottom:p,noWrap:g,paragraph:m,variant:y,variantMapping:b},k=d||(m?"p":b[y]||gT[y])||"span",L=cse(T);return J.jsx(lse,{as:k,ref:n,className:vn(L.root,f),...x,ownerState:T,style:{...c!=="inherit"&&{"--Typography-textAlign":c},...x.style}})}),fse=ys("MuiBox",["root"]),dse=o2(),to=foe({themeId:bM,defaultTheme:dse,defaultClassName:fse.root,generateClassName:VM.generate});function hse(e){return _a("MuiButton",e)}const $s=ys("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),pse=G.createContext({}),gse=G.createContext(void 0),mse=e=>{const{color:t,disableElevation:n,fullWidth:r,size:o,variant:s,loading:a,loadingPosition:c,classes:f}=e,d={root:["root",a&&"loading",s,`${s}${Ve(t)}`,`size${Ve(o)}`,`${s}Size${Ve(o)}`,`color${Ve(t)}`,n&&"disableElevation",r&&"fullWidth",a&&`loadingPosition${Ve(c)}`],startIcon:["icon","startIcon",`iconSize${Ve(o)}`],endIcon:["icon","endIcon",`iconSize${Ve(o)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},p=ec(d,hse,f);return{...f,...p}},u2=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],yse=Yn(s2,{shouldForwardProp:e=>i2(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${Ve(n.color)}`],t[`size${Ve(n.size)}`],t[`${n.variant}Size${Ve(n.size)}`],n.color==="inherit"&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth,n.loading&&t.loading]}})(aa(({theme:e})=>{const t=e.palette.mode==="light"?e.palette.grey[300]:e.palette.grey[800],n=e.palette.mode==="light"?e.palette.grey.A100:e.palette.grey[700];return{...e.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${$s.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(e.vars||e).shadows[2],"&:hover":{boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2]}},"&:active":{boxShadow:(e.vars||e).shadows[8]},[`&.${$s.focusVisible}`]:{boxShadow:(e.vars||e).shadows[6]},[`&.${$s.disabled}`]:{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${$s.disabled}`]:{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(e.palette).filter(El()).map(([r])=>({props:{color:r},style:{"--variant-textColor":(e.vars||e).palette[r].main,"--variant-outlinedColor":(e.vars||e).palette[r].main,"--variant-outlinedBorder":e.vars?`rgba(${e.vars.palette[r].mainChannel} / 0.5)`:es(e.palette[r].main,.5),"--variant-containedColor":(e.vars||e).palette[r].contrastText,"--variant-containedBg":(e.vars||e).palette[r].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(e.vars||e).palette[r].dark,"--variant-textBg":e.vars?`rgba(${e.vars.palette[r].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:es(e.palette[r].main,e.palette.action.hoverOpacity),"--variant-outlinedBorder":(e.vars||e).palette[r].main,"--variant-outlinedBg":e.vars?`rgba(${e.vars.palette[r].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:es(e.palette[r].main,e.palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedBg:t,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedHoverBg:n,"--variant-textBg":e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:es(e.palette.text.primary,e.palette.action.hoverOpacity),"--variant-outlinedBg":e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:es(e.palette.text.primary,e.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${$s.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${$s.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:e.transitions.create(["background-color","box-shadow","border-color"],{duration:e.transitions.duration.short}),[`&.${$s.loading}`]:{color:"transparent"}}}]}})),vse=Yn("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,n.loading&&t.startIconLoadingStart,t[`iconSize${Ve(n.size)}`]]}})(({theme:e})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...u2]})),_se=Yn("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,n.loading&&t.endIconLoadingEnd,t[`iconSize${Ve(n.size)}`]]}})(({theme:e})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...u2]})),bse=Yn("span",{name:"MuiButton",slot:"LoadingIndicator",overridesResolver:(e,t)=>t.loadingIndicator})(({theme:e})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(e.vars||e).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),mT=Yn("span",{name:"MuiButton",slot:"LoadingIconPlaceholder",overridesResolver:(e,t)=>t.loadingIconPlaceholder})({display:"inline-block",width:"1em",height:"1em"}),Sse=G.forwardRef(function(t,n){const r=G.useContext(pse),o=G.useContext(gse),s=qh(r,t),a=ba({props:s,name:"MuiButton"}),{children:c,color:f="primary",component:d="button",className:p,disabled:g=!1,disableElevation:m=!1,disableFocusRipple:y=!1,endIcon:b,focusVisibleClassName:x,fullWidth:T=!1,id:k,loading:L=null,loadingIndicator:N,loadingPosition:R="center",size:W="medium",startIcon:j,type:A,variant:U="text",...K}=a,S=XM(k),M=N??J.jsx(a2,{"aria-labelledby":S,color:"inherit",size:16}),D={...a,color:f,component:d,disabled:g,disableElevation:m,disableFocusRipple:y,fullWidth:T,loading:L,loadingIndicator:M,loadingPosition:R,size:W,type:A,variant:U},X=mse(D),re=(j||L&&R==="start")&&J.jsx(vse,{className:X.startIcon,ownerState:D,children:j||J.jsx(mT,{className:X.loadingIconPlaceholder,ownerState:D})}),_e=(b||L&&R==="end")&&J.jsx(_se,{className:X.endIcon,ownerState:D,children:b||J.jsx(mT,{className:X.loadingIconPlaceholder,ownerState:D})}),ye=o||"",ie=typeof L=="boolean"?J.jsx("span",{className:X.loadingWrapper,style:{display:"contents"},children:L&&J.jsx(bse,{className:X.loadingIndicator,ownerState:D,children:M})}):null;return J.jsxs(yse,{ownerState:D,className:vn(r.className,X.root,p,ye),component:d,disabled:g||L,focusRipple:!y,focusVisibleClassName:vn(X.focusVisible,x),ref:n,type:A,id:L?S:k,...K,classes:X,children:[re,R!=="end"&&ie,c,R==="end"&&ie,_e]})}),So=({children:e})=>J.jsx(to,{sx:{height:100,width:"100%",display:"flex"},children:e}),wse=ue({label:Er(yt),border:Ci.Schemas.Border,visible:Er(Pp).annotations(Ci.annotation("Switch"))}),Ese=()=>({}),xse=e=>({widget:Et.intersect(e.widget,wse,Ese),Component:e.Component}),ao={of:xse};var Cse=SS(J.jsx("path",{d:"M8 5v14l11-7z"}),"PlayArrow");const Tse=({onPlay:e})=>J.jsx(to,{sx:{borderRadius:"5px",backgroundColor:"success.main"},children:J.jsx(xS,{sx:{width:100,height:100},"aria-label":"play",onClick:e,children:J.jsx(Cse,{sx:{fontSize:80}})})});var kse=SS(J.jsx("path",{d:"M6 6h12v12H6z"}),"Stop");const Ose=({onStop:e})=>J.jsx(to,{sx:{borderRadius:"5px",backgroundColor:"error.main"},children:J.jsx(xS,{sx:{width:100,height:100},"aria-label":"play",onClick:e,children:J.jsx(kse,{sx:{fontSize:80}})})}),Ise=ao.of({widget:dM,Component:(e,t,n)=>J.jsx(So,{children:n.color===e.playColor?J.jsx(Tse,{onPlay:()=>t(e.target)}):J.jsx(Ose,{onStop:()=>t(e.target)})})}),Ase=ao.of({widget:hM,Component:(e,t,n)=>{var o,s,a;const r=((a=(s=(o=Q.head(n))==null?void 0:o.options)==null?void 0:s.timeSignature)==null?void 0:a.noteCount)||8;return J.jsx(So,{children:n.slice(0,r).map((c,f)=>J.jsx(to,{sx:{borderRadius:"5px",border:"1px solid black",width:100,backgroundColor:`#${c.color===te.BLACK?"777777":te.toHex(c.color)}`,display:"flex"},children:J.jsx(Ni,{sx:{width:"100%"},variant:"h1",lineHeight:1,align:"center",children:f+1})},f))})}}),$se=Et.one({name:"active-clip",schema:ue({trackName:yt}),init:()=>({trackName:"Track"}),tracks:e=>[e.trackName],component:({target:e,trackName:t})=>{const n=Ge.useTrack(t),r=Ge.useActiveClip(n);return J.jsx("pad",{target:e,color:r.type==="real"?r.color:te.BLACK,options:{label:r.type==="real"?r.name:void 0}})}}),Rse=ao.of({widget:$se,Component:(e,t,n)=>{var r;return J.jsx(So,{children:J.jsx(Ni,{sx:{borderRadius:"5px",width:"100%",px:1,backgroundColor:`#${te.toHex(n.color)}`},variant:"h1",lineHeight:1,align:"center",children:((r=n.options)==null?void 0:r.label)||""})})}}),i_=Pn("init",{widgets:Jo(J0)}),Vh=Pn("pad",{target:yr.Schema,color:te.Schema,options:Er(J0)});Pi(i_,Vh);const yT=e=>{const t=r=>{const o=e[yr.toKey(r)];return o!==void 0&&o._tag==="pad"?o:Vh.make({target:r,color:0,options:{}})};return{one:t,many:r=>r.map(t)}},Pse=e=>{const t=Q.fromPairs(Q.map(e,a=>[a.widget.name,a])),n=a=>t[a],r=(a,c,f)=>{const d=n(a._tag);return a.target!==void 0?d.Component(a,c,yT(f).one(a.target)):a.targets!==void 0?d.Component(a,c,yT(f).many(a.targets)):d.Component(a)},o=Q.map(e,a=>a.widget),s=Pi(...o.map(a=>a.schema));return{widgets:e,controllerWidgets:o,getByName:n,Component:r,schema:s}},Mse=Et.one({name:"tempo",schema:ue({}),init:()=>({}),component:({target:e})=>{const t=Ge.useTempo();return J.jsx("pad",{color:te.BLACK,target:e,options:{label:t}})}}),Nse=ao.of({widget:Mse,Component:(e,t,n)=>{var r;return J.jsx(So,{children:J.jsx(Ni,{sx:{borderRadius:"5px",width:"100%",backgroundColor:`#${te.toHex(n.color)}`},variant:"h1",lineHeight:1,align:"center",children:((r=n.options)==null?void 0:r.label)||"0"})})}}),Lse=Et.one({name:"time-signature",schema:ue({}),init:()=>({}),component:({target:e})=>{const t=Ge.useTimeSignature();return J.jsx("pad",{color:te.BLACK,target:e,options:{label:`${t.noteCount}/${t.noteLength}`}})}}),Fse=ao.of({widget:Lse,Component:(e,t,n)=>{var r;return J.jsx(So,{children:J.jsx(Ni,{sx:{borderRadius:"5px",width:"100%",backgroundColor:`#${te.toHex(n.color)}`},variant:"h1",lineHeight:1,align:"center",children:((r=n.options)==null?void 0:r.label)||"4/4"})})}}),Bse=Et.one({name:"beat",schema:ue({}),init:()=>({}),component:({target:e})=>{const t=Ge.useBarBeats();return J.jsx("pad",{color:te.BLACK,target:e,options:{label:`${t}`}})}}),jse=ao.of({widget:Bse,Component:(e,t,n)=>{var r;return J.jsx(So,{children:J.jsx(Ni,{sx:{borderRadius:"5px",width:"100%",backgroundColor:`#${te.toHex(n.color)}`},variant:"h1",lineHeight:1,align:"center",children:((r=n.options)==null?void 0:r.label)||"0"})})}}),Dse=ao.of({widget:pM,Component:(e,t,n)=>J.jsx(So,{children:n.map((r,o)=>{var s;return r.options!==void 0?J.jsx(to,{sx:{borderRadius:"5px",border:"1px solid black",backgroundColor:`#${te.toHex(r.color)}`,display:"flex",width:100,cursor:"pointer",alignItems:"center",justifyContent:"center"},onClick:()=>t(r.target),children:J.jsx(Ni,{sx:{width:"100%",px:1},lineHeight:1,align:"center",children:((s=r.options)==null?void 0:s.label)||""})},o):null})})}),Wse=e=>{var t;return((t=e.options)==null?void 0:t.isActive)||!1},Use=ao.of({widget:gM,Component:(e,t,n)=>J.jsx(So,{children:n.map((r,o)=>{var s,a,c;return r.options!==void 0?J.jsxs(to,{sx:{position:"relative",borderRadius:"5px",border:"1px solid black",backgroundColor:`#${te.toHex(r.color)}`,display:"flex",width:100,alignItems:"center",justifyContent:"center"},children:[Wse(r)&&((s=r.options)==null?void 0:s.progress)!==void 0?J.jsx(to,{sx:{position:"absolute",top:0,left:(a=r.options)==null?void 0:a.progress,height:"100%",width:"5px",backgroundColor:"black"}}):null,J.jsx(Ni,{sx:{width:"100%",px:1},lineHeight:1,align:"center",children:((c=r.options)==null?void 0:c.label)||""})]},o):null})})}),zse=ao.of({widget:Et.none({name:"spacer",schema:ue({width:Lt,isLineBreaking:Er(Pp).annotations(Ci.annotation("Switch"))}),init:()=>({width:100}),component:({})=>J.jsx(J.Fragment,{})}),Component:e=>J.jsx(to,{sx:{width:`${e.width}px`}})}),qse=ao.of({widget:yM,Component:(e,t,n)=>{var r,o,s,a;return J.jsx(So,{children:J.jsx(Sse,{sx:{height:100,width:100,backgroundColor:`#${te.toHex(e.color)}`,textDecoration:"none"},onClick:()=>t(n.target),variant:"text",children:J.jsx(Ni,{sx:{fontWeight:"bold",color:`#${te.toHex(((r=e.text)==null?void 0:r.color)||te.BLACK)}`,...((o=e.text)==null?void 0:o.sizePx)!==void 0?{fontSize:`${(s=e.text)==null?void 0:s.sizePx}px`}:{}},children:((a=e.text)==null?void 0:a.content)||""})})})}}),Kse=Pn("midi-note-vary-velocity",{note:Lt,...ha.fields}),Vse=Pn("midi-note-vary-note",{velocity:Lt,...ha.fields}),Hse=Pn("midi-cc-vary-data",{controllerNumber:Lt,...ha.fields}),Gse=Pi(Vse,Kse,Hse),Jse=(e,t)=>yr.match(e,{Note:()=>t.type==="noteon"?t.velocity:0,CC:()=>t.type==="cc"?t.data:0,PC:()=>0}),Yse=(e,t)=>e._tag==="midi-note-vary-velocity"?{type:"noteon",note:e.note,channel:e.channel,velocity:t}:e._tag==="midi-note-vary-note"?{type:"noteon",note:t,channel:e.channel,velocity:e.velocity}:{type:"cc",controllerNumber:e.controllerNumber,channel:e.channel,data:t},Xse=Et.one({name:"knob",schema:ue({color:te.Schema,midi:Gse,text:mM}),init:()=>({color:te.GREEN,midi:{_tag:"midi-note-vary-velocity",note:1,channel:1}}),component:({target:e,color:t,midi:n})=>{const r=Mi.useDawEmitter();return J.jsx(ki,{color:t,target:e,onClick:o=>{const s=Jse(e,o),a=Yse(n,s);r.send(a)}})}});var Qse={};function Zse(e){if(Array.isArray(e))return e}function eae(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,o,s,a,c=[],f=!0,d=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(f=(r=s.call(n)).done)&&(c.push(r.value),c.length!==t);f=!0);}catch(p){d=!0,o=p}finally{try{if(!f&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(d)throw o}}return c}}function s_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c2(e,t){if(e){if(typeof e=="string")return s_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s_(e,t)}}function tae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jd(e,t){return Zse(e)||eae(e,t)||c2(e,t)||tae()}function _n(e){"@babel/helpers - typeof";return _n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_n(e)}function Hh(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t){for(var r=[],o=0;o<t.length;o++){var s=t[o];if(s){var a=_n(s);if(a==="string"||a==="number")r.push(s);else if(a==="object"){var c=Array.isArray(s)?s:Object.entries(s).map(function(f){var d=Jd(f,2),p=d[0],g=d[1];return g?p:null});r=c.length?r.concat(c.filter(function(f){return!!f})):r}}}return r.join(" ").trim()}}function nae(e){if(Array.isArray(e))return s_(e)}function rae(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function oae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a_(e){return nae(e)||rae(e)||c2(e)||oae()}function l2(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iae(e,t){if(_n(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(_n(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function f2(e){var t=iae(e,"string");return _n(t)==="symbol"?t:String(t)}function sae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,f2(r.key),r)}}function d2(e,t,n){return n&&sae(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function CS(e,t,n){return t=f2(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ly(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=aae(e))||t){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(d){throw d},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,a=!1,c;return{s:function(){n=n.call(e)},n:function(){var d=n.next();return s=d.done,d},e:function(d){a=!0,c=d},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(a)throw c}}}}function aae(e,t){if(e){if(typeof e=="string")return vT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vT(e,t)}}function vT(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Vs=function(){function e(){l2(this,e)}return d2(e,null,[{key:"innerWidth",value:function(n){if(n){var r=n.offsetWidth,o=getComputedStyle(n);return r=r+(parseFloat(o.paddingLeft)+parseFloat(o.paddingRight)),r}return 0}},{key:"width",value:function(n){if(n){var r=n.offsetWidth,o=getComputedStyle(n);return r=r-(parseFloat(o.paddingLeft)+parseFloat(o.paddingRight)),r}return 0}},{key:"getBrowserLanguage",value:function(){return navigator.userLanguage||navigator.languages&&navigator.languages.length&&navigator.languages[0]||navigator.language||navigator.browserLanguage||navigator.systemLanguage||"en"}},{key:"getWindowScrollTop",value:function(){var n=document.documentElement;return(window.pageYOffset||n.scrollTop)-(n.clientTop||0)}},{key:"getWindowScrollLeft",value:function(){var n=document.documentElement;return(window.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}},{key:"getOuterWidth",value:function(n,r){if(n){var o=n.getBoundingClientRect().width||n.offsetWidth;if(r){var s=getComputedStyle(n);o=o+(parseFloat(s.marginLeft)+parseFloat(s.marginRight))}return o}return 0}},{key:"getOuterHeight",value:function(n,r){if(n){var o=n.getBoundingClientRect().height||n.offsetHeight;if(r){var s=getComputedStyle(n);o=o+(parseFloat(s.marginTop)+parseFloat(s.marginBottom))}return o}return 0}},{key:"getClientHeight",value:function(n,r){if(n){var o=n.clientHeight;if(r){var s=getComputedStyle(n);o=o+(parseFloat(s.marginTop)+parseFloat(s.marginBottom))}return o}return 0}},{key:"getClientWidth",value:function(n,r){if(n){var o=n.clientWidth;if(r){var s=getComputedStyle(n);o=o+(parseFloat(s.marginLeft)+parseFloat(s.marginRight))}return o}return 0}},{key:"getViewport",value:function(){var n=window,r=document,o=r.documentElement,s=r.getElementsByTagName("body")[0],a=n.innerWidth||o.clientWidth||s.clientWidth,c=n.innerHeight||o.clientHeight||s.clientHeight;return{width:a,height:c}}},{key:"getOffset",value:function(n){if(n){var r=n.getBoundingClientRect();return{top:r.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:r.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}return{top:"auto",left:"auto"}}},{key:"index",value:function(n){if(n)for(var r=n.parentNode.childNodes,o=0,s=0;s<r.length;s++){if(r[s]===n)return o;r[s].nodeType===1&&o++}return-1}},{key:"addMultipleClasses",value:function(n,r){if(n&&r)if(n.classList)for(var o=r.split(" "),s=0;s<o.length;s++)n.classList.add(o[s]);else for(var a=r.split(" "),c=0;c<a.length;c++)n.className=n.className+(" "+a[c])}},{key:"removeMultipleClasses",value:function(n,r){if(n&&r)if(n.classList)for(var o=r.split(" "),s=0;s<o.length;s++)n.classList.remove(o[s]);else for(var a=r.split(" "),c=0;c<a.length;c++)n.className=n.className.replace(new RegExp("(^|\\b)"+a[c].split(" ").join("|")+"(\\b|$)","gi")," ")}},{key:"addClass",value:function(n,r){n&&r&&(n.classList?n.classList.add(r):n.className=n.className+(" "+r))}},{key:"removeClass",value:function(n,r){n&&r&&(n.classList?n.classList.remove(r):n.className=n.className.replace(new RegExp("(^|\\b)"+r.split(" ").join("|")+"(\\b|$)","gi")," "))}},{key:"hasClass",value:function(n,r){return n?n.classList?n.classList.contains(r):new RegExp("(^| )"+r+"( |$)","gi").test(n.className):!1}},{key:"addStyles",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};n&&Object.entries(r).forEach(function(o){var s=Jd(o,2),a=s[0],c=s[1];return n.style[a]=c})}},{key:"find",value:function(n,r){return n?Array.from(n.querySelectorAll(r)):[]}},{key:"findSingle",value:function(n,r){return n?n.querySelector(r):null}},{key:"setAttributes",value:function(n){var r=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(n){var s=function(c,f){var d,p,g=n!=null&&(d=n.$attrs)!==null&&d!==void 0&&d[c]?[n==null||(p=n.$attrs)===null||p===void 0?void 0:p[c]]:[];return[f].flat().reduce(function(m,y){if(y!=null){var b=_n(y);if(b==="string"||b==="number")m.push(y);else if(b==="object"){var x=Array.isArray(y)?s(c,y):Object.entries(y).map(function(T){var k=Jd(T,2),L=k[0],N=k[1];return c==="style"&&(N||N===0)?"".concat(L.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),":").concat(N):N?L:void 0});m=x.length?m.concat(x.filter(function(T){return!!T})):m}}return m},g)};Object.entries(o).forEach(function(a){var c=Jd(a,2),f=c[0],d=c[1];if(d!=null){var p=f.match(/^on(.+)/);p?n.addEventListener(p[1].toLowerCase(),d):f==="p-bind"?r.setAttributes(n,d):(d=f==="class"?a_(new Set(s("class",d))).join(" ").trim():f==="style"?s("style",d).join(";").trim():d,(n.$attrs=n.$attrs||{})&&(n.$attrs[f]=d),n.setAttribute(f,d))}})}}},{key:"getAttribute",value:function(n,r){if(n){var o=n.getAttribute(r);return isNaN(o)?o==="true"||o==="false"?o==="true":o:+o}}},{key:"isAttributeEquals",value:function(n,r,o){return n?this.getAttribute(n,r)===o:!1}},{key:"isAttributeNotEquals",value:function(n,r,o){return!this.isAttributeEquals(n,r,o)}},{key:"getHeight",value:function(n){if(n){var r=n.offsetHeight,o=getComputedStyle(n);return r=r-(parseFloat(o.paddingTop)+parseFloat(o.paddingBottom)+parseFloat(o.borderTopWidth)+parseFloat(o.borderBottomWidth)),r}return 0}},{key:"getWidth",value:function(n){if(n){var r=n.offsetWidth,o=getComputedStyle(n);return r=r-(parseFloat(o.paddingLeft)+parseFloat(o.paddingRight)+parseFloat(o.borderLeftWidth)+parseFloat(o.borderRightWidth)),r}return 0}},{key:"alignOverlay",value:function(n,r,o){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;n&&r&&(o==="self"?this.relativePosition(n,r):(s&&(n.style.minWidth=e.getOuterWidth(r)+"px"),this.absolutePosition(n,r)))}},{key:"absolutePosition",value:function(n,r){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"left";if(n&&r){var s=n.offsetParent?{width:n.offsetWidth,height:n.offsetHeight}:this.getHiddenElementDimensions(n),a=s.height,c=s.width,f=r.offsetHeight,d=r.offsetWidth,p=r.getBoundingClientRect(),g=this.getWindowScrollTop(),m=this.getWindowScrollLeft(),y=this.getViewport(),b,x;p.top+f+a>y.height?(b=p.top+g-a,b<0&&(b=g),n.style.transformOrigin="bottom"):(b=f+p.top+g,n.style.transformOrigin="top");var T=p.left,k=o==="left"?0:c-d;T+d+c>y.width?x=Math.max(0,T+m+d-c):x=T-k+m,n.style.top=b+"px",n.style.left=x+"px"}}},{key:"relativePosition",value:function(n,r){if(n&&r){var o=n.offsetParent?{width:n.offsetWidth,height:n.offsetHeight}:this.getHiddenElementDimensions(n),s=r.offsetHeight,a=r.getBoundingClientRect(),c=this.getViewport(),f,d;a.top+s+o.height>c.height?(f=-1*o.height,a.top+f<0&&(f=-1*a.top),n.style.transformOrigin="bottom"):(f=s,n.style.transformOrigin="top"),o.width>c.width?d=a.left*-1:a.left+o.width>c.width?d=(a.left+o.width-c.width)*-1:d=0,n.style.top=f+"px",n.style.left=d+"px"}}},{key:"flipfitCollision",value:function(n,r){var o=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"left top",a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"left bottom",c=arguments.length>4?arguments[4]:void 0;if(n&&r){var f=r.getBoundingClientRect(),d=this.getViewport(),p=s.split(" "),g=a.split(" "),m=function(k,L){return L?+k.substring(k.search(/(\+|-)/g))||0:k.substring(0,k.search(/(\+|-)/g))||k},y={my:{x:m(p[0]),y:m(p[1]||p[0]),offsetX:m(p[0],!0),offsetY:m(p[1]||p[0],!0)},at:{x:m(g[0]),y:m(g[1]||g[0]),offsetX:m(g[0],!0),offsetY:m(g[1]||g[0],!0)}},b={left:function(){var k=y.my.offsetX+y.at.offsetX;return k+f.left+(y.my.x==="left"?0:-1*(y.my.x==="center"?o.getOuterWidth(n)/2:o.getOuterWidth(n)))},top:function(){var k=y.my.offsetY+y.at.offsetY;return k+f.top+(y.my.y==="top"?0:-1*(y.my.y==="center"?o.getOuterHeight(n)/2:o.getOuterHeight(n)))}},x={count:{x:0,y:0},left:function(){var k=b.left(),L=e.getWindowScrollLeft();n.style.left=k+L+"px",this.count.x===2?(n.style.left=L+"px",this.count.x=0):k<0&&(this.count.x++,y.my.x="left",y.at.x="right",y.my.offsetX*=-1,y.at.offsetX*=-1,this.right())},right:function(){var k=b.left()+e.getOuterWidth(r),L=e.getWindowScrollLeft();n.style.left=k+L+"px",this.count.x===2?(n.style.left=d.width-e.getOuterWidth(n)+L+"px",this.count.x=0):k+e.getOuterWidth(n)>d.width&&(this.count.x++,y.my.x="right",y.at.x="left",y.my.offsetX*=-1,y.at.offsetX*=-1,this.left())},top:function(){var k=b.top(),L=e.getWindowScrollTop();n.style.top=k+L+"px",this.count.y===2?(n.style.left=L+"px",this.count.y=0):k<0&&(this.count.y++,y.my.y="top",y.at.y="bottom",y.my.offsetY*=-1,y.at.offsetY*=-1,this.bottom())},bottom:function(){var k=b.top()+e.getOuterHeight(r),L=e.getWindowScrollTop();n.style.top=k+L+"px",this.count.y===2?(n.style.left=d.height-e.getOuterHeight(n)+L+"px",this.count.y=0):k+e.getOuterHeight(r)>d.height&&(this.count.y++,y.my.y="bottom",y.at.y="top",y.my.offsetY*=-1,y.at.offsetY*=-1,this.top())},center:function(k){if(k==="y"){var L=b.top()+e.getOuterHeight(r)/2;n.style.top=L+e.getWindowScrollTop()+"px",L<0?this.bottom():L+e.getOuterHeight(r)>d.height&&this.top()}else{var N=b.left()+e.getOuterWidth(r)/2;n.style.left=N+e.getWindowScrollLeft()+"px",N<0?this.left():N+e.getOuterWidth(n)>d.width&&this.right()}}};x[y.at.x]("x"),x[y.at.y]("y"),this.isFunction(c)&&c(y)}}},{key:"findCollisionPosition",value:function(n){if(n){var r=n==="top"||n==="bottom",o=n==="left"?"right":"left",s=n==="top"?"bottom":"top";return r?{axis:"y",my:"center ".concat(s),at:"center ".concat(n)}:{axis:"x",my:"".concat(o," center"),at:"".concat(n," center")}}}},{key:"getParents",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return n.parentNode===null?r:this.getParents(n.parentNode,r.concat([n.parentNode]))}},{key:"getScrollableParents",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,o=[];if(n){var s=this.getParents(n),a=/(auto|scroll)/,c=function(R){var W=R?getComputedStyle(R):null;return W&&(a.test(W.getPropertyValue("overflow"))||a.test(W.getPropertyValue("overflow-x"))||a.test(W.getPropertyValue("overflow-y")))},f=function(R){r&&o.push(R.nodeName==="BODY"||R.nodeName==="HTML"||R.nodeType===9?window:R)},d=Ly(s),p;try{for(d.s();!(p=d.n()).done;){var g,m=p.value,y=m.nodeType===1&&((g=m.dataset)===null||g===void 0?void 0:g.scrollselectors);if(y){var b=y.split(","),x=Ly(b),T;try{for(x.s();!(T=x.n()).done;){var k=T.value,L=this.findSingle(m,k);L&&c(L)&&f(L)}}catch(N){x.e(N)}finally{x.f()}}m.nodeType===1&&c(m)&&f(m)}}catch(N){d.e(N)}finally{d.f()}}return o.some(function(N){return N===document.body||N===window})||o.push(r?window:document.body),o}},{key:"getHiddenElementOuterHeight",value:function(n){if(n){n.style.visibility="hidden",n.style.display="block";var r=n.offsetHeight;return n.style.display="none",n.style.visibility="visible",r}return 0}},{key:"getHiddenElementOuterWidth",value:function(n){if(n){n.style.visibility="hidden",n.style.display="block";var r=n.offsetWidth;return n.style.display="none",n.style.visibility="visible",r}return 0}},{key:"getHiddenElementDimensions",value:function(n){var r={};return n&&(n.style.visibility="hidden",n.style.display="block",r.width=n.offsetWidth,r.height=n.offsetHeight,n.style.display="none",n.style.visibility="visible"),r}},{key:"fadeIn",value:function(n,r){if(n){n.style.opacity=0;var o=+new Date,s=0,a=function(){s=+n.style.opacity+(new Date().getTime()-o)/r,n.style.opacity=s,o=+new Date,+s<1&&(window.requestAnimationFrame&&requestAnimationFrame(a)||setTimeout(a,16))};a()}}},{key:"fadeOut",value:function(n,r){if(n)var o=1,s=50,a=s/r,c=setInterval(function(){o=o-a,o<=0&&(o=0,clearInterval(c)),n.style.opacity=o},s)}},{key:"getUserAgent",value:function(){return navigator.userAgent}},{key:"isIOS",value:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}},{key:"isAndroid",value:function(){return/(android)/i.test(navigator.userAgent)}},{key:"isChrome",value:function(){return/(chrome)/i.test(navigator.userAgent)}},{key:"isClient",value:function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}},{key:"isTouchDevice",value:function(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}},{key:"isFunction",value:function(n){return!!(n&&n.constructor&&n.call&&n.apply)}},{key:"appendChild",value:function(n,r){if(this.isElement(r))r.appendChild(n);else if(r.el&&r.el.nativeElement)r.el.nativeElement.appendChild(n);else throw new Error("Cannot append "+r+" to "+n)}},{key:"removeChild",value:function(n,r){if(this.isElement(r))r.removeChild(n);else if(r.el&&r.el.nativeElement)r.el.nativeElement.removeChild(n);else throw new Error("Cannot remove "+n+" from "+r)}},{key:"isElement",value:function(n){return(typeof HTMLElement>"u"?"undefined":_n(HTMLElement))==="object"?n instanceof HTMLElement:n&&_n(n)==="object"&&n!==null&&n.nodeType===1&&typeof n.nodeName=="string"}},{key:"scrollInView",value:function(n,r){var o=getComputedStyle(n).getPropertyValue("border-top-width"),s=o?parseFloat(o):0,a=getComputedStyle(n).getPropertyValue("padding-top"),c=a?parseFloat(a):0,f=n.getBoundingClientRect(),d=r.getBoundingClientRect(),p=d.top+document.body.scrollTop-(f.top+document.body.scrollTop)-s-c,g=n.scrollTop,m=n.clientHeight,y=this.getOuterHeight(r);p<0?n.scrollTop=g+p:p+y>m&&(n.scrollTop=g+p-m+y)}},{key:"clearSelection",value:function(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}},{key:"calculateScrollbarWidth",value:function(n){if(n){var r=getComputedStyle(n);return n.offsetWidth-n.clientWidth-parseFloat(r.borderLeftWidth)-parseFloat(r.borderRightWidth)}if(this.calculatedScrollbarWidth!=null)return this.calculatedScrollbarWidth;var o=document.createElement("div");o.className="p-scrollbar-measure",document.body.appendChild(o);var s=o.offsetWidth-o.clientWidth;return document.body.removeChild(o),this.calculatedScrollbarWidth=s,s}},{key:"calculateBodyScrollbarWidth",value:function(){return window.innerWidth-document.documentElement.offsetWidth}},{key:"getBrowser",value:function(){if(!this.browser){var n=this.resolveUserAgent();this.browser={},n.browser&&(this.browser[n.browser]=!0,this.browser.version=n.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}},{key:"resolveUserAgent",value:function(){var n=navigator.userAgent.toLowerCase(),r=/(chrome)[ ]([\w.]+)/.exec(n)||/(webkit)[ ]([\w.]+)/.exec(n)||/(opera)(?:.*version|)[ ]([\w.]+)/.exec(n)||/(msie) ([\w.]+)/.exec(n)||n.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(n)||[];return{browser:r[1]||"",version:r[2]||"0"}}},{key:"blockBodyScroll",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"p-overflow-hidden",r=!!document.body.style.getPropertyValue("--scrollbar-width");!r&&document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,n)}},{key:"unblockBodyScroll",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"p-overflow-hidden";document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,n)}},{key:"isVisible",value:function(n){return n&&(n.clientHeight!==0||n.getClientRects().length!==0||getComputedStyle(n).display!=="none")}},{key:"isExist",value:function(n){return!!(n!==null&&typeof n<"u"&&n.nodeName&&n.parentNode)}},{key:"getFocusableElements",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",o=e.find(n,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])'.concat(r,`,
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r,`,
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r,`,
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r,`,
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r,`,
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r,`,
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r)),s=[],a=Ly(o),c;try{for(a.s();!(c=a.n()).done;){var f=c.value;getComputedStyle(f).display!=="none"&&getComputedStyle(f).visibility!=="hidden"&&s.push(f)}}catch(d){a.e(d)}finally{a.f()}return s}},{key:"getFirstFocusableElement",value:function(n,r){var o=e.getFocusableElements(n,r);return o.length>0?o[0]:null}},{key:"getLastFocusableElement",value:function(n,r){var o=e.getFocusableElements(n,r);return o.length>0?o[o.length-1]:null}},{key:"focus",value:function(n,r){var o=r===void 0?!0:!r;n&&document.activeElement!==n&&n.focus({preventScroll:o})}},{key:"focusFirstElement",value:function(n,r){if(n){var o=e.getFirstFocusableElement(n);return o&&e.focus(o,r),o}}},{key:"getCursorOffset",value:function(n,r,o,s){if(n){var a=getComputedStyle(n),c=document.createElement("div");c.style.position="absolute",c.style.top="0px",c.style.left="0px",c.style.visibility="hidden",c.style.pointerEvents="none",c.style.overflow=a.overflow,c.style.width=a.width,c.style.height=a.height,c.style.padding=a.padding,c.style.border=a.border,c.style.overflowWrap=a.overflowWrap,c.style.whiteSpace=a.whiteSpace,c.style.lineHeight=a.lineHeight,c.innerHTML=r.replace(/\r\n|\r|\n/g,"<br />");var f=document.createElement("span");f.textContent=s,c.appendChild(f);var d=document.createTextNode(o);c.appendChild(d),document.body.appendChild(c);var p=f.offsetLeft,g=f.offsetTop,m=f.clientHeight;return document.body.removeChild(c),{left:Math.abs(p-n.scrollLeft),top:Math.abs(g-n.scrollTop)+m}}return{top:"auto",left:"auto"}}},{key:"invokeElementMethod",value:function(n,r,o){n[r].apply(n,o)}},{key:"isClickable",value:function(n){var r=n.nodeName,o=n.parentElement&&n.parentElement.nodeName;return r==="INPUT"||r==="TEXTAREA"||r==="BUTTON"||r==="A"||o==="INPUT"||o==="TEXTAREA"||o==="BUTTON"||o==="A"||this.hasClass(n,"p-button")||this.hasClass(n.parentElement,"p-button")||this.hasClass(n.parentElement,"p-checkbox")||this.hasClass(n.parentElement,"p-radiobutton")}},{key:"applyStyle",value:function(n,r){if(typeof r=="string")n.style.cssText=r;else for(var o in r)n.style[o]=r[o]}},{key:"exportCSV",value:function(n,r){var o=new Blob([n],{type:"application/csv;charset=utf-8;"});if(window.navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(o,r+".csv");else{var s=e.saveAs({name:r+".csv",src:URL.createObjectURL(o)});s||(n="data:text/csv;charset=utf-8,"+n,window.open(encodeURI(n)))}}},{key:"saveAs",value:function(n){if(n){var r=document.createElement("a");if(r.download!==void 0){var o=n.name,s=n.src;return r.setAttribute("href",s),r.setAttribute("download",o),r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r),!0}}return!1}},{key:"createInlineStyle",value:function(n,r){var o=document.createElement("style");return e.addNonce(o,n),r||(r=document.head),r.appendChild(o),o}},{key:"removeInlineStyle",value:function(n){if(this.isExist(n)){try{n.parentNode.removeChild(n)}catch{}n=null}return n}},{key:"addNonce",value:function(n,r){try{r||(r=Qse.REACT_APP_CSS_NONCE)}catch{}r&&n.setAttribute("nonce",r)}},{key:"getTargetElement",value:function(n){if(!n)return null;if(n==="document")return document;if(n==="window")return window;if(_n(n)==="object"&&n.hasOwnProperty("current"))return this.isExist(n.current)?n.current:null;var r=function(a){return!!(a&&a.constructor&&a.call&&a.apply)},o=r(n)?n():n;return o&&o.nodeType===9||this.isExist(o)?o:null}},{key:"getAttributeNames",value:function(n){var r,o,s;for(o=[],s=n.attributes,r=0;r<s.length;++r)o.push(s[r].nodeName);return o.sort(),o}},{key:"isEqualElement",value:function(n,r){var o,s,a,c,f;if(o=e.getAttributeNames(n),s=e.getAttributeNames(r),o.join(",")!==s.join(","))return!1;for(var d=0;d<o.length;++d)if(a=o[d],a==="style")for(var p=n.style,g=r.style,m=/^\d+$/,y=0,b=Object.keys(p);y<b.length;y++){var x=b[y];if(!m.test(x)&&p[x]!==g[x])return!1}else if(n.getAttribute(a)!==r.getAttribute(a))return!1;for(c=n.firstChild,f=r.firstChild;c&&f;c=c.nextSibling,f=f.nextSibling){if(c.nodeType!==f.nodeType)return!1;if(c.nodeType===1){if(!e.isEqualElement(c,f))return!1}else if(c.nodeValue!==f.nodeValue)return!1}return!(c||f)}},{key:"hasCSSAnimation",value:function(n){if(n){var r=getComputedStyle(n),o=parseFloat(r.getPropertyValue("animation-duration")||"0");return o>0}return!1}},{key:"hasCSSTransition",value:function(n){if(n){var r=getComputedStyle(n),o=parseFloat(r.getPropertyValue("transition-duration")||"0");return o>0}return!1}}])}();CS(Vs,"DATA_PROPS",["data-"]);CS(Vs,"ARIA_PROPS",["aria","focus-target"]);function uae(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=cae(e))||t){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(d){throw d},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,a=!1,c;return{s:function(){n=n.call(e)},n:function(){var d=n.next();return s=d.done,d},e:function(d){a=!0,c=d},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(a)throw c}}}}function cae(e,t){if(e){if(typeof e=="string")return _T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _T(e,t)}}function _T(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var kt=function(){function e(){l2(this,e)}return d2(e,null,[{key:"equals",value:function(n,r,o){return o&&n&&_n(n)==="object"&&r&&_n(r)==="object"?this.deepEquals(this.resolveFieldData(n,o),this.resolveFieldData(r,o)):this.deepEquals(n,r)}},{key:"deepEquals",value:function(n,r){if(n===r)return!0;if(n&&r&&_n(n)==="object"&&_n(r)==="object"){var o=Array.isArray(n),s=Array.isArray(r),a,c,f;if(o&&s){if(c=n.length,c!==r.length)return!1;for(a=c;a--!==0;)if(!this.deepEquals(n[a],r[a]))return!1;return!0}if(o!==s)return!1;var d=n instanceof Date,p=r instanceof Date;if(d!==p)return!1;if(d&&p)return n.getTime()===r.getTime();var g=n instanceof RegExp,m=r instanceof RegExp;if(g!==m)return!1;if(g&&m)return n.toString()===r.toString();var y=Object.keys(n);if(c=y.length,c!==Object.keys(r).length)return!1;for(a=c;a--!==0;)if(!Object.prototype.hasOwnProperty.call(r,y[a]))return!1;for(a=c;a--!==0;)if(f=y[a],!this.deepEquals(n[f],r[f]))return!1;return!0}return n!==n&&r!==r}},{key:"resolveFieldData",value:function(n,r){if(!n||!r)return null;try{var o=n[r];if(this.isNotEmpty(o))return o}catch{}if(Object.keys(n).length){if(this.isFunction(r))return r(n);if(this.isNotEmpty(n[r]))return n[r];if(r.indexOf(".")===-1)return n[r];for(var s=r.split("."),a=n,c=0,f=s.length;c<f;++c){if(a==null)return null;a=a[s[c]]}return a}return null}},{key:"findDiffKeys",value:function(n,r){return!n||!r?{}:Object.keys(n).filter(function(o){return!r.hasOwnProperty(o)}).reduce(function(o,s){return o[s]=n[s],o},{})}},{key:"reduceKeys",value:function(n,r){var o={};return!n||!r||r.length===0||Object.keys(n).filter(function(s){return r.some(function(a){return s.startsWith(a)})}).forEach(function(s){o[s]=n[s],delete n[s]}),o}},{key:"reorderArray",value:function(n,r,o){n&&r!==o&&(o>=n.length&&(o=o%n.length,r=r%n.length),n.splice(o,0,n.splice(r,1)[0]))}},{key:"findIndexInList",value:function(n,r,o){var s=this;return r?o?r.findIndex(function(a){return s.equals(a,n,o)}):r.findIndex(function(a){return a===n}):-1}},{key:"getJSXElement",value:function(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];return this.isFunction(n)?n.apply(void 0,o):n}},{key:"getItemValue",value:function(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];return this.isFunction(n)?n.apply(void 0,o):n}},{key:"getProp",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=n?n[r]:void 0;return s===void 0?o[r]:s}},{key:"getPropCaseInsensitive",value:function(n,r){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=this.toFlatCase(r);for(var a in n)if(n.hasOwnProperty(a)&&this.toFlatCase(a)===s)return n[a];for(var c in o)if(o.hasOwnProperty(c)&&this.toFlatCase(c)===s)return o[c]}},{key:"getMergedProps",value:function(n,r){return Object.assign({},r,n)}},{key:"getDiffProps",value:function(n,r){return this.findDiffKeys(n,r)}},{key:"getPropValue",value:function(n){if(!this.isFunction(n))return n;for(var r=arguments.length,o=new Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];if(o.length===1){var a=o[0];return n(Array.isArray(a)?a[0]:a)}return n(o)}},{key:"getComponentProp",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.isNotEmpty(n)?this.getProp(n.props,r,o):void 0}},{key:"getComponentProps",value:function(n,r){return this.isNotEmpty(n)?this.getMergedProps(n.props,r):void 0}},{key:"getComponentDiffProps",value:function(n,r){return this.isNotEmpty(n)?this.getDiffProps(n.props,r):void 0}},{key:"isValidChild",value:function(n,r,o){if(n){var s,a=this.getComponentProp(n,"__TYPE")||(n.type?n.type.displayName:void 0);!a&&n!==null&&n!==void 0&&(s=n.type)!==null&&s!==void 0&&(s=s._payload)!==null&&s!==void 0&&s.value&&(a=n.type._payload.value.find(function(d){return d===r}));var c=a===r;try{var f}catch{}return c}return!1}},{key:"getRefElement",value:function(n){return n?_n(n)==="object"&&n.hasOwnProperty("current")?n.current:n:null}},{key:"combinedRefs",value:function(n,r){n&&r&&(typeof r=="function"?r(n.current):r.current=n.current)}},{key:"removeAccents",value:function(n){return n&&n.search(/[\xC0-\xFF]/g)>-1&&(n=n.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),n}},{key:"toFlatCase",value:function(n){return this.isNotEmpty(n)&&this.isString(n)?n.replace(/(-|_)/g,"").toLowerCase():n}},{key:"toCapitalCase",value:function(n){return this.isNotEmpty(n)&&this.isString(n)?n[0].toUpperCase()+n.slice(1):n}},{key:"trim",value:function(n){return this.isNotEmpty(n)&&this.isString(n)?n.trim():n}},{key:"isEmpty",value:function(n){return n==null||n===""||Array.isArray(n)&&n.length===0||!(n instanceof Date)&&_n(n)==="object"&&Object.keys(n).length===0}},{key:"isNotEmpty",value:function(n){return!this.isEmpty(n)}},{key:"isFunction",value:function(n){return!!(n&&n.constructor&&n.call&&n.apply)}},{key:"isObject",value:function(n){return n!==null&&n instanceof Object&&n.constructor===Object}},{key:"isDate",value:function(n){return n!==null&&n instanceof Date&&n.constructor===Date}},{key:"isArray",value:function(n){return n!==null&&Array.isArray(n)}},{key:"isString",value:function(n){return n!==null&&typeof n=="string"}},{key:"isPrintableCharacter",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return this.isNotEmpty(n)&&n.length===1&&n.match(/\S| /)}},{key:"isLetter",value:function(n){return/^[a-zA-Z\u00C0-\u017F]$/.test(n)}},{key:"isScalar",value:function(n){return n!=null&&(typeof n=="string"||typeof n=="number"||typeof n=="bigint"||typeof n=="boolean")}},{key:"findLast",value:function(n,r){var o;if(this.isNotEmpty(n))try{o=n.findLast(r)}catch{o=a_(n).reverse().find(r)}return o}},{key:"findLastIndex",value:function(n,r){var o=-1;if(this.isNotEmpty(n))try{o=n.findLastIndex(r)}catch{o=n.lastIndexOf(a_(n).reverse().find(r))}return o}},{key:"sort",value:function(n,r){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,s=arguments.length>3?arguments[3]:void 0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,c=this.compare(n,r,s,o),f=o;return(this.isEmpty(n)||this.isEmpty(r))&&(f=a===1?o:a),f*c}},{key:"compare",value:function(n,r,o){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,a=-1,c=this.isEmpty(n),f=this.isEmpty(r);return c&&f?a=0:c?a=s:f?a=-s:typeof n=="string"&&typeof r=="string"?a=o(n,r):a=n<r?-1:n>r?1:0,a}},{key:"localeComparator",value:function(n){return new Intl.Collator(n,{numeric:!0}).compare}},{key:"findChildrenByKey",value:function(n,r){var o=uae(n),s;try{for(o.s();!(s=o.n()).done;){var a=s.value;if(a.key===r)return a.children||[];if(a.children){var c=this.findChildrenByKey(a.children,r);if(c.length>0)return c}}}catch(f){o.e(f)}finally{o.f()}return[]}},{key:"mutateFieldData",value:function(n,r,o){if(!(_n(n)!=="object"||typeof r!="string"))for(var s=r.split("."),a=n,c=0,f=s.length;c<f;++c){if(c+1-f===0){a[s[c]]=o;break}a[s[c]]||(a[s[c]]={}),a=a[s[c]]}}}])}();function bT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function ST(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bT(Object(n),!0).forEach(function(r){CS(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Gh(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e){var n=function(a){return typeof a=="function"},r=t.classNameMergeFunction,o=n(r);return e.reduce(function(s,a){if(!a)return s;var c=function(){var p=a[f];if(f==="style")s.style=ST(ST({},s.style),a.style);else if(f==="className"){var g="";o?g=r(s.className,a.className):g=[s.className,a.className].join(" ").trim(),s.className=g||void 0}else if(n(p)){var m=s[f];s[f]=m?function(){m.apply(void 0,arguments),p.apply(void 0,arguments)}:p}else s[f]=p};for(var f in a)c();return s},{})}}var On=Object.freeze({STARTS_WITH:"startsWith",CONTAINS:"contains",NOT_CONTAINS:"notContains",ENDS_WITH:"endsWith",EQUALS:"equals",NOT_EQUALS:"notEquals",IN:"in",LESS_THAN:"lt",LESS_THAN_OR_EQUAL_TO:"lte",GREATER_THAN:"gt",GREATER_THAN_OR_EQUAL_TO:"gte",BETWEEN:"between",DATE_IS:"dateIs",DATE_IS_NOT:"dateIsNot",DATE_BEFORE:"dateBefore",DATE_AFTER:"dateAfter",CUSTOM:"custom"});function xl(e){"@babel/helpers - typeof";return xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xl(e)}function lae(e,t){if(xl(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(xl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fae(e){var t=lae(e,"string");return xl(t)==="symbol"?t:String(t)}function Mr(e,t,n){return t=fae(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dae(e,t,n){return Object.defineProperty(e,"prototype",{writable:!1}),e}function hae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var ar=dae(function e(){hae(this,e)});Mr(ar,"ripple",!1);Mr(ar,"inputStyle","outlined");Mr(ar,"locale","en");Mr(ar,"appendTo",null);Mr(ar,"cssTransition",!0);Mr(ar,"autoZIndex",!0);Mr(ar,"hideOverlaysOnDocumentScrolling",!1);Mr(ar,"nonce",null);Mr(ar,"nullSortOrder",1);Mr(ar,"zIndex",{modal:1100,overlay:1e3,menu:1e3,tooltip:1100,toast:1200});Mr(ar,"pt",void 0);Mr(ar,"filterMatchModeOptions",{text:[On.STARTS_WITH,On.CONTAINS,On.NOT_CONTAINS,On.ENDS_WITH,On.EQUALS,On.NOT_EQUALS],numeric:[On.EQUALS,On.NOT_EQUALS,On.LESS_THAN,On.LESS_THAN_OR_EQUAL_TO,On.GREATER_THAN,On.GREATER_THAN_OR_EQUAL_TO],date:[On.DATE_IS,On.DATE_IS_NOT,On.DATE_BEFORE,On.DATE_AFTER]});Mr(ar,"changeTheme",function(e,t,n,r){var o,s=document.getElementById(n);if(!s)throw Error("Element with id ".concat(n," not found."));var a=s.getAttribute("href").replace(e,t),c=document.createElement("link");c.setAttribute("rel","stylesheet"),c.setAttribute("id",n),c.setAttribute("href",a),c.addEventListener("load",function(){r&&r()}),(o=s.parentNode)===null||o===void 0||o.replaceChild(c,s)});var TS=st.createContext(),Cg=ar;function pae(e){if(Array.isArray(e))return e}function gae(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,o,s,a,c=[],f=!0,d=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(f=(r=s.call(n)).done)&&(c.push(r.value),c.length!==t);f=!0);}catch(p){d=!0,o=p}finally{try{if(!f&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(d)throw o}}return c}}function wT(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mae(e,t){if(e){if(typeof e=="string")return wT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wT(e,t)}}function yae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vae(e,t){return pae(e)||gae(e,t)||mae(e,t)||yae()}var ET=function(t){var n=G.useRef(null);return G.useEffect(function(){return n.current=t,function(){n.current=null}},[t]),n.current},h2=function(t){return G.useEffect(function(){return t},[])},_d=function(t){var n=t.target,r=n===void 0?"document":n,o=t.type,s=t.listener,a=t.options,c=t.when,f=c===void 0?!0:c,d=G.useRef(null),p=G.useRef(null),g=ET(s),m=ET(a),y=function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},N=L.target;kt.isNotEmpty(N)&&(b(),(L.when||f)&&(d.current=Vs.getTargetElement(N))),!p.current&&d.current&&(p.current=function(R){return s&&s(R)},d.current.addEventListener(o,p.current,a))},b=function(){p.current&&(d.current.removeEventListener(o,p.current,a),p.current=null)},x=function(){b(),g=null,m=null},T=G.useCallback(function(){f?d.current=Vs.getTargetElement(r):(b(),d.current=null)},[r,f]);return G.useEffect(function(){T()},[T]),G.useEffect(function(){var k="".concat(g)!=="".concat(s),L=m!==a,N=p.current;N&&(k||L)?(b(),f&&y()):N||x()},[s,a,f]),h2(function(){x()}),[y,b]},_ae=function(){var t=G.useContext(TS);return function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Gh(r,t==null?void 0:t.ptOptions)}},bae=function(t){var n=G.useRef(!1);return G.useEffect(function(){if(!n.current)return n.current=!0,t&&t()},[])},Sae=0,bd=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=G.useState(!1),o=vae(r,2),s=o[0],a=o[1],c=G.useRef(null),f=G.useContext(TS),d=Vs.isClient()?window.document:void 0,p=n.document,g=p===void 0?d:p,m=n.manual,y=m===void 0?!1:m,b=n.name,x=b===void 0?"style_".concat(++Sae):b,T=n.id,k=T===void 0?void 0:T,L=n.media,N=L===void 0?void 0:L,R=function(K){var S=K.querySelector('style[data-primereact-style-id="'.concat(x,'"]'));if(S)return S;if(k!==void 0){var M=g.getElementById(k);if(M)return M}return g.createElement("style")},W=function(K){s&&t!==K&&(c.current.textContent=K)},j=function(){if(!(!g||s)){var K=(f==null?void 0:f.styleContainer)||g.head;c.current=R(K),c.current.isConnected||(c.current.type="text/css",k&&(c.current.id=k),N&&(c.current.media=N),Vs.addNonce(c.current,f&&f.nonce||Cg.nonce),K.appendChild(c.current),x&&c.current.setAttribute("data-primereact-style-id",x)),c.current.textContent=t,a(!0)}},A=function(){!g||!c.current||(Vs.removeInlineStyle(c.current),a(!1))};return G.useEffect(function(){y||j()},[y]),{id:k,name:x,update:W,unload:A,load:j,isLoaded:s}},wae=function(t,n){var r=G.useRef(!1);return G.useEffect(function(){if(!r.current){r.current=!0;return}return t&&t()},n)};function u_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Eae(e){if(Array.isArray(e))return u_(e)}function xae(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Cae(e,t){if(e){if(typeof e=="string")return u_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u_(e,t)}}function Tae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xT(e){return Eae(e)||xae(e)||Cae(e)||Tae()}function Cl(e){"@babel/helpers - typeof";return Cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cl(e)}function kae(e,t){if(Cl(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Cl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Oae(e){var t=kae(e,"string");return Cl(t)==="symbol"?t:String(t)}function c_(e,t,n){return t=Oae(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function en(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CT(Object(n),!0).forEach(function(r){c_(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Iae=`
.p-hidden-accessible {
    border: 0;
    clip: rect(0 0 0 0);
    height: 1px;
    margin: -1px;
    opacity: 0;
    overflow: hidden;
    padding: 0;
    pointer-events: none;
    position: absolute;
    white-space: nowrap;
    width: 1px;
}

.p-overflow-hidden {
    overflow: hidden;
    padding-right: var(--scrollbar-width);
}
`,Aae=`
.p-button {
    margin: 0;
    display: inline-flex;
    cursor: pointer;
    user-select: none;
    align-items: center;
    vertical-align: bottom;
    text-align: center;
    overflow: hidden;
    position: relative;
}

.p-button-label {
    flex: 1 1 auto;
}

.p-button-icon-right {
    order: 1;
}

.p-button:disabled {
    cursor: default;
}

.p-button-icon-only {
    justify-content: center;
}

.p-button-icon-only .p-button-label {
    visibility: hidden;
    width: 0;
    flex: 0 0 auto;
}

.p-button-vertical {
    flex-direction: column;
}

.p-button-icon-bottom {
    order: 2;
}

.p-button-group .p-button {
    margin: 0;
}

.p-button-group .p-button:not(:last-child) {
    border-right: 0 none;
}

.p-button-group .p-button:not(:first-of-type):not(:last-of-type) {
    border-radius: 0;
}

.p-button-group .p-button:first-of-type {
    border-top-right-radius: 0;
    border-bottom-right-radius: 0;
}

.p-button-group .p-button:last-of-type {
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
}

.p-button-group .p-button:focus {
    position: relative;
    z-index: 1;
}

.p-button-group-single .p-button:first-of-type {
    border-top-right-radius: var(--border-radius) !important;
    border-bottom-right-radius: var(--border-radius) !important;
}

.p-button-group-single .p-button:last-of-type {
    border-top-left-radius: var(--border-radius) !important;
    border-bottom-left-radius: var(--border-radius) !important;
}
`,$ae=`
.p-inputtext {
    margin: 0;
}

.p-fluid .p-inputtext {
    width: 100%;
}

/* InputGroup */
.p-inputgroup {
    display: flex;
    align-items: stretch;
    width: 100%;
}

.p-inputgroup-addon {
    display: flex;
    align-items: center;
    justify-content: center;
}

.p-inputgroup .p-float-label {
    display: flex;
    align-items: stretch;
    width: 100%;
}

.p-inputgroup .p-inputtext,
.p-fluid .p-inputgroup .p-inputtext,
.p-inputgroup .p-inputwrapper,
.p-fluid .p-inputgroup .p-input {
    flex: 1 1 auto;
    width: 1%;
}

/* Floating Label */
.p-float-label {
    display: block;
    position: relative;
}

.p-float-label label {
    position: absolute;
    pointer-events: none;
    top: 50%;
    margin-top: -0.5rem;
    transition-property: all;
    transition-timing-function: ease;
    line-height: 1;
}

.p-float-label textarea ~ label,
.p-float-label .p-mention ~ label {
    top: 1rem;
}

.p-float-label input:focus ~ label,
.p-float-label input:-webkit-autofill ~ label,
.p-float-label input.p-filled ~ label,
.p-float-label textarea:focus ~ label,
.p-float-label textarea.p-filled ~ label,
.p-float-label .p-inputwrapper-focus ~ label,
.p-float-label .p-inputwrapper-filled ~ label,
.p-float-label .p-tooltip-target-wrapper ~ label {
    top: -0.75rem;
    font-size: 12px;
}

.p-float-label .p-placeholder,
.p-float-label input::placeholder,
.p-float-label .p-inputtext::placeholder {
    opacity: 0;
    transition-property: all;
    transition-timing-function: ease;
}

.p-float-label .p-focus .p-placeholder,
.p-float-label input:focus::placeholder,
.p-float-label .p-inputtext:focus::placeholder {
    opacity: 1;
    transition-property: all;
    transition-timing-function: ease;
}

.p-input-icon-left,
.p-input-icon-right {
    position: relative;
    display: inline-block;
}

.p-input-icon-left > i,
.p-input-icon-right > i,
.p-input-icon-left > svg,
.p-input-icon-right > svg,
.p-input-icon-left > .p-input-prefix,
.p-input-icon-right > .p-input-suffix {
    position: absolute;
    top: 50%;
    margin-top: -0.5rem;
}

.p-fluid .p-input-icon-left,
.p-fluid .p-input-icon-right {
    display: block;
    width: 100%;
}
`,Rae=`
.p-icon {
    display: inline-block;
}

.p-icon-spin {
    -webkit-animation: p-icon-spin 2s infinite linear;
    animation: p-icon-spin 2s infinite linear;
}

svg.p-icon {
    pointer-events: auto;
}

svg.p-icon g,
.p-disabled svg.p-icon {
    pointer-events: none;
}

@-webkit-keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}

@keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}
`,Pae=`
@layer primereact {
    .p-component, .p-component * {
        box-sizing: border-box;
    }

    .p-hidden {
        display: none;
    }

    .p-hidden-space {
        visibility: hidden;
    }

    .p-reset {
        margin: 0;
        padding: 0;
        border: 0;
        outline: 0;
        text-decoration: none;
        font-size: 100%;
        list-style: none;
    }

    .p-disabled, .p-disabled * {
        cursor: default;
        pointer-events: none;
        user-select: none;
    }

    .p-component-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }

    .p-unselectable-text {
        user-select: none;
    }

    .p-scrollbar-measure {
        width: 100px;
        height: 100px;
        overflow: scroll;
        position: absolute;
        top: -9999px;
    }

    @-webkit-keyframes p-fadein {
      0%   { opacity: 0; }
      100% { opacity: 1; }
    }
    @keyframes p-fadein {
      0%   { opacity: 0; }
      100% { opacity: 1; }
    }

    .p-link {
        text-align: left;
        background-color: transparent;
        margin: 0;
        padding: 0;
        border: none;
        cursor: pointer;
        user-select: none;
    }

    .p-link:disabled {
        cursor: default;
    }

    /* Non react overlay animations */
    .p-connected-overlay {
        opacity: 0;
        transform: scaleY(0.8);
        transition: transform .12s cubic-bezier(0, 0, 0.2, 1), opacity .12s cubic-bezier(0, 0, 0.2, 1);
    }

    .p-connected-overlay-visible {
        opacity: 1;
        transform: scaleY(1);
    }

    .p-connected-overlay-hidden {
        opacity: 0;
        transform: scaleY(1);
        transition: opacity .1s linear;
    }

    /* React based overlay animations */
    .p-connected-overlay-enter {
        opacity: 0;
        transform: scaleY(0.8);
    }

    .p-connected-overlay-enter-active {
        opacity: 1;
        transform: scaleY(1);
        transition: transform .12s cubic-bezier(0, 0, 0.2, 1), opacity .12s cubic-bezier(0, 0, 0.2, 1);
    }

    .p-connected-overlay-enter-done {
        transform: none;
    }

    .p-connected-overlay-exit {
        opacity: 1;
    }

    .p-connected-overlay-exit-active {
        opacity: 0;
        transition: opacity .1s linear;
    }

    /* Toggleable Content */
    .p-toggleable-content-enter {
        max-height: 0;
    }

    .p-toggleable-content-enter-active {
        overflow: hidden;
        max-height: 1000px;
        transition: max-height 1s ease-in-out;
    }

    .p-toggleable-content-enter-done {
        transform: none;
    }

    .p-toggleable-content-exit {
        max-height: 1000px;
    }

    .p-toggleable-content-exit-active {
        overflow: hidden;
        max-height: 0;
        transition: max-height 0.45s cubic-bezier(0, 1, 0, 1);
    }

    /* @todo Refactor */
    .p-menu .p-menuitem-link {
        cursor: pointer;
        display: flex;
        align-items: center;
        text-decoration: none;
        overflow: hidden;
        position: relative;
    }

    `.concat(Aae,`
    `).concat($ae,`
    `).concat(Rae,`
}
`),jt={cProps:void 0,cParams:void 0,cName:void 0,defaultProps:{pt:void 0,ptOptions:void 0,unstyled:!1},context:{},globalCSS:void 0,classes:{},styles:"",extend:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.css,r=en(en({},t.defaultProps),jt.defaultProps),o={},s=function(p){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return jt.context=g,jt.cProps=p,kt.getMergedProps(p,r)},a=function(p){return kt.getDiffProps(p,r)},c=function(){var p,g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;g.hasOwnProperty("pt")&&g.pt!==void 0&&(g=g.pt);var x=m,T=/./g.test(x)&&!!y[x.split(".")[0]],k=T?kt.toFlatCase(x.split(".")[1]):kt.toFlatCase(x),L=y.hostName&&kt.toFlatCase(y.hostName),N=L||y.props&&y.props.__TYPE&&kt.toFlatCase(y.props.__TYPE)||"",R=k==="transition",W="data-pc-",j=function(ce){return ce!=null&&ce.props?ce.hostName?ce.props.__TYPE===ce.hostName?ce.props:j(ce.parent):ce.parent:void 0},A=function(ce){var Le,cn;return((Le=y.props)===null||Le===void 0?void 0:Le[ce])||((cn=j(y))===null||cn===void 0?void 0:cn[ce])};jt.cParams=y,jt.cName=N;var U=A("ptOptions")||jt.context.ptOptions||{},K=U.mergeSections,S=K===void 0?!0:K,M=U.mergeProps,D=M===void 0?!1:M,X=function(){var ce=Si.apply(void 0,arguments);return Array.isArray(ce)?{className:Hh.apply(void 0,xT(ce))}:kt.isString(ce)?{className:ce}:ce!=null&&ce.hasOwnProperty("className")&&Array.isArray(ce.className)?{className:Hh.apply(void 0,xT(ce.className))}:ce},re=b?T?p2(X,x,y):g2(X,x,y):void 0,_e=T?void 0:kg(Tg(g,N),X,x,y),ye=!R&&en(en({},k==="root"&&c_({},"".concat(W,"name"),y.props&&y.props.__parentMetadata?kt.toFlatCase(y.props.__TYPE):N)),{},c_({},"".concat(W,"section"),k));return S||!S&&_e?D?Gh([re,_e,Object.keys(ye).length?ye:{}],{classNameMergeFunction:(p=jt.context.ptOptions)===null||p===void 0?void 0:p.classNameMergeFunction}):en(en(en({},re),_e),Object.keys(ye).length?ye:{}):en(en({},_e),Object.keys(ye).length?ye:{})},f=function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},g=p.props,m=p.state,y=function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return c((g||{}).pt,N,en(en({},p),R))},b=function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return c(N,R,W,!1)},x=function(){return jt.context.unstyled||Cg.unstyled||g.unstyled},T=function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return x()?void 0:Si(n&&n.classes,N,en({props:g,state:m},R))},k=function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(W){var j,A=Si(n&&n.inlineStyles,N,en({props:g,state:m},R)),U=Si(o,N,en({props:g,state:m},R));return Gh([U,A],{classNameMergeFunction:(j=jt.context.ptOptions)===null||j===void 0?void 0:j.classNameMergeFunction})}};return{ptm:y,ptmo:b,sx:k,cx:T,isUnstyled:x}};return en(en({getProps:s,getOtherProps:a,setMetaData:f},t),{},{defaultProps:r})}},Si=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=String(kt.toFlatCase(n)).split("."),s=o.shift(),a=kt.isNotEmpty(t)?Object.keys(t).find(function(c){return kt.toFlatCase(c)===s}):"";return s?kt.isObject(t)?Si(kt.getItemValue(t[a],r),o.join("."),r):void 0:kt.getItemValue(t,r)},Tg=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,o=t==null?void 0:t._usept,s=function(c){var f,d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,p=r?r(c):c,g=kt.toFlatCase(n);return(f=d?g!==jt.cName?p==null?void 0:p[g]:void 0:p==null?void 0:p[g])!==null&&f!==void 0?f:p};return kt.isNotEmpty(o)?{_usept:o,originalValue:s(t.originalValue),value:s(t.value)}:s(t,!0)},kg=function(t,n,r,o){var s=function(x){return n(x,r,o)};if(t!=null&&t.hasOwnProperty("_usept")){var a=t._usept||jt.context.ptOptions||{},c=a.mergeSections,f=c===void 0?!0:c,d=a.mergeProps,p=d===void 0?!1:d,g=a.classNameMergeFunction,m=s(t.originalValue),y=s(t.value);return m===void 0&&y===void 0?void 0:kt.isString(y)?y:kt.isString(m)?m:f||!f&&y?p?Gh([m,y],{classNameMergeFunction:g}):en(en({},m),y):y}return s(t)},Mae=function(){return Tg(jt.context.pt||Cg.pt,void 0,function(t){return kt.getItemValue(t,jt.cParams)})},Nae=function(){return Tg(jt.context.pt||Cg.pt,void 0,function(t){return Si(t,jt.cName,jt.cParams)||kt.getItemValue(t,jt.cParams)})},p2=function(t,n,r){return kg(Mae(),t,n,r)},g2=function(t,n,r){return kg(Nae(),t,n,r)},Lae=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},r=arguments.length>2?arguments[2]:void 0,o=r.name,s=r.styled,a=s===void 0?!1:s,c=r.hostName,f=c===void 0?"":c,d=p2(Si,"global.css",jt.cParams),p=kt.toFlatCase(o),g=bd(Iae,{name:"base",manual:!0}),m=g.load,y=bd(Pae,{name:"common",manual:!0}),b=y.load,x=bd(d,{name:"global",manual:!0}),T=x.load,k=bd(t,{name:o,manual:!0}),L=k.load,N=function(W){if(!f){var j=kg(Tg((jt.cProps||{}).pt,p),Si,"hooks.".concat(W)),A=g2(Si,"hooks.".concat(W));j==null||j(),A==null||A()}};N("useMountEffect"),bae(function(){m(),T(),n()||(b(),a||L())}),wae(function(){N("useUpdateEffect")}),h2(function(){N("useUnmountEffect")})};function Fae(e){if(Array.isArray(e))return e}function Bae(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,o,s,a,c=[],f=!0,d=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(f=(r=s.call(n)).done)&&(c.push(r.value),c.length!==t);f=!0);}catch(p){d=!0,o=p}finally{try{if(!f&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(d)throw o}}return c}}function TT(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jae(e,t){if(e){if(typeof e=="string")return TT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TT(e,t)}}function Dae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sd(e,t){return Fae(e)||Bae(e,t)||jae(e,t)||Dae()}var Fy=jt.extend({defaultProps:{__TYPE:"Knob",id:null,style:null,className:null,value:null,size:100,disabled:!1,readOnly:!1,showValue:!0,tabIndex:0,step:1,min:0,max:100,strokeWidth:14,name:null,valueColor:"var(--primary-color, Black)",rangeColor:"var(--surface-border, LightGray)",textColor:"var(--text-color-secondary, Black)",valueTemplate:"{value}",onChange:null,children:void 0},css:{classes:{range:"p-knob-range",value:"p-knob-value",label:"p-knob-text",root:function(t){var n=t.props;return Hh("p-knob p-component",{"p-disabled":n.disabled})}},styles:`
        @keyframes dash-frame {
            100% {
                stroke-dashoffset: 0;
            }
        }
        @layer primereact {
            .p-knob-range {
                fill: none;
                transition: stroke .1s ease-in;
            }
            .p-knob-value {
                animation-name: dash-frame;
                animation-fill-mode: forwards;
                fill: none;
            }
            .p-knob-text {
                font-size: 1.3rem;
                text-align: center;
            }
        }
        `}}),qr=40,wd=50,Ed=50,Va=4*Math.PI/3,Rs=-Math.PI/3,m2=G.memo(G.forwardRef(function(e,t){var n=_ae(),r=G.useContext(TS),o=Fy.getProps(e,r),s=Fy.setMetaData({props:o}),a=s.ptm,c=s.cx,f=s.isUnstyled;Lae(Fy.css.styles,f,{name:"knob"});var d=G.useRef(null),p=!o.disabled&&!o.readOnly,g=_d({target:"window",type:"mousemove",listener:function(ge){vs(ge.offsetX,ge.offsetY),ge.preventDefault()},when:p}),m=Sd(g,2),y=m[0],b=m[1],x=_d({target:"window",type:"mouseup",listener:function(ge){b(),L(),ge.preventDefault()},when:p}),T=Sd(x,2),k=T[0],L=T[1],N=_d({target:"window",type:"touchmove",listener:function(ge){if(ge.touches.length===1){var En=d.current.getBoundingClientRect(),xn=ge.targetTouches.item(0),Di=xn.clientX-En.left,uo=xn.clientY-En.top;vs(Di,uo),ge.preventDefault()}},when:p}),R=Sd(N,2),W=R[0],j=R[1],A=_d({target:"window",type:"touchend",listener:function(){j(),S()},when:p}),U=Sd(A,2),K=U[0],S=U[1],M=function(ge,En,xn,Di,uo){return(ge-En)*(uo-Di)/(xn-En)+Di},D=function(){return M(o.min>0&&o.max>0?o.min:0,o.min,o.max,Va,Rs)},X=function(){return M(o.value,o.min,o.max,Va,Rs)},re=function(){return wd+Math.cos(Va)*qr},_e=function(){return Ed-Math.sin(Va)*qr},ye=function(){return wd+Math.cos(Rs)*qr},ie=function(){return Ed-Math.sin(Rs)*qr},ce=function(){return wd+Math.cos(D())*qr},Le=function(){return Ed-Math.sin(D())*qr},cn=function(){return wd+Math.cos(X())*qr},ut=function(){return Ed-Math.sin(X())*qr},Li=function(){return Math.abs(D()-X())<Math.PI?0:1},tc=function(){return X()>D()?0:1},nc="M ".concat(re()," ").concat(_e()," A ").concat(qr," ").concat(qr," 0 1 1 ").concat(ye()," ").concat(ie()),wo="M ".concat(ce()," ").concat(Le()," A ").concat(qr," ").concat(qr," 0 ").concat(Li()," ").concat(tc()," ").concat(cn()," ").concat(ut()),Fi=function(){return o.valueTemplate.replace("{value}",o.value.toString())},vs=function(ge,En){var xn=ge-o.size/2,Di=o.size/2-En,uo=Math.atan2(Di,xn),Wi=-Math.PI/2-Math.PI/6;ti(uo,Wi)},ti=function(ge,En){var xn;if(ge>Rs)xn=M(ge,Va,Rs,o.min,o.max);else if(ge<En)xn=M(ge+2*Math.PI,Va,Rs,o.min,o.max);else return;o.onChange&&o.onChange({value:Math.round((xn-o.min)/o.step)*o.step+o.min})},Xn=function(ge){var En;ge>o.max?En=o.max:ge<o.min?En=o.min:En=ge,o.onChange&&o.onChange({value:En})},rc=function(ge){!o.disabled&&!o.readOnly&&vs(ge.nativeEvent.offsetX,ge.nativeEvent.offsetY)},Bi=function(ge){y(),k(),ge.preventDefault()},ji=function(){b(),L()},Sa=function(){W(),K()},ln=function(){j(),S()},ni=function(ge){if(!o.disabled&&!o.readonly)switch(ge.code){case"ArrowRight":case"ArrowUp":ge.preventDefault(),Xn(o.value+1);break;case"ArrowLeft":case"ArrowDown":{ge.preventDefault(),Xn(o.value-1);break}case"Home":{ge.preventDefault(),Xn(o.min);break}case"End":{ge.preventDefault(),Xn(o.max);break}case"PageUp":{ge.preventDefault(),Xn(o.value+10);break}case"PageDown":{ge.preventDefault(),Xn(o.value-10);break}}};G.useImperativeHandle(t,function(){return{props:o,getElement:function(){return d.current}}});var oc=n({x:50,y:57,textAnchor:"middle",fill:o.textColor,className:c("label"),name:o.name},a("label")),wn=o.showValue&&G.createElement("text",oc,Fi()),Eo=n({ref:d,id:o.id,className:Hh(o.className,c("root")),style:o.style},a("root")),ic=n({viewBox:"0 0 100 100",width:o.size,height:o.size,"aria-valuemin":o.min,"aria-valuemax":o.max,"aria-valuenow":o.value,"aria-labelledby":o.ariaLabelledby,"aria-label":o.ariaLabel,role:"slider",tabIndex:o.readonly||o.disabled?-1:o.tabIndex,onClick:function(ge){return rc(ge)},onMouseDown:function(ge){return Bi(ge)},onMouseUp:function(ge){return ji()},onTouchStart:function(ge){return Sa()},onTouchEnd:function(ge){return ln()},onKeyDown:function(ge){return ni(ge)}},a("svg")),xo=n({d:nc,strokeWidth:o.strokeWidth,stroke:o.rangeColor,className:c("range")},a("range")),jn=n({d:wo,strokeWidth:o.strokeWidth,stroke:o.valueColor,className:c("value")},a("value"));return G.createElement("div",Eo,G.createElement("svg",ic,G.createElement("path",xo),G.createElement("path",jn),wn))}));m2.displayName="Knob";const Wae=ao.of({widget:Xse,Component:(e,t,n)=>{var a;const[r,o]=st.useState(0),s=c=>{o(c),t(n.target,c)};return J.jsx(So,{children:J.jsxs(to,{sx:{height:100,width:100,backgroundColor:`#${te.toHex(e.color)}`,display:"flex",justifyContent:"center",flexDirection:"column"},children:[J.jsx(to,{sx:{display:"flex",justifyContent:"center"},children:J.jsx(Ni,{sx:{fontWeight:"bold"},children:((a=e.text)==null?void 0:a.content)||""})}),J.jsx(to,{sx:{p:0,mt:1},children:J.jsx(m2,{value:r,onChange:c=>s(c.value),min:0,max:127})})]})})}});var Uae=SS(J.jsx("path",{d:"M12 2c-4.42 0-8 .5-8 4v9.5C4 17.43 5.57 19 7.5 19L6 20.5v.5h12v-.5L16.5 19c1.93 0 3.5-1.57 3.5-3.5V6c0-3.5-3.58-4-8-4M7.5 17c-.83 0-1.5-.67-1.5-1.5S6.67 14 7.5 14s1.5.67 1.5 1.5S8.33 17 7.5 17m3.5-6H6V6h5zm5.5 6c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m1.5-6h-5V6h5z"}),"DirectionsTransit");const zae=ao.of({widget:fM,Component:(e,t,n)=>{const o=(n.options.metronomeState!==void 0?n.options.metronomeState:!1)?e.color:te.BLACK;return J.jsx(So,{children:J.jsx(to,{sx:{borderRadius:"5px",backgroundColor:`#${te.toHex(o)}`},children:J.jsx(xS,{sx:{width:100,height:100},"aria-label":"metro-control",onClick:()=>t(n.target),children:J.jsx(Uae,{sx:{fontSize:80}})})})})}}),qae=Pse([Ise,Ase,Rse,Nse,Fse,jse,Dse,Use,zse,qse,Wae,zae]),Kae=_b(qae.controllerWidgets),Vae={controller:Kae},By={sysexControlCode:50,manufacturer:3},Hae=Vae.controller;Pn("resend",{});const Gae=vb.of({init:e=>t=>{const n=i_.make({widgets:t.map(r=>r.widget)});e.send(fl.jsonSchemaSysex(n,i_,[By.sysexControlCode],By.manufacturer))},render:e=>t=>{t.forEach(n=>{e.send(fl.jsonSchemaSysex(Vh.make({target:n.target,color:n.color,options:n.options}),Vh,[By.sysexControlCode]))})},targets:[]}),Jae=bb.of({name:"MIDI Structor UI",controller:Gae,widgets:Hae}),Yae={device:Jae},y2=[_M.device,Yae.device],Xae=Q.keyBy(y2,"name"),Qae=_M.device,Zae=e=>Xo(Q.get(Xae,e,void 0)),eue=()=>Q.map(y2,"name"),tue={defaultDevice:Qae,findByName:Zae,getNames:eue},kT=5;let OT=0;const nue=(e,t)=>{const n=Q.keyBy(e,"messageId"),r=[];return Array.from({length:t-1}).forEach((o,s)=>{Q.get(n,s,void 0)===void 0&&r.push(s)}),Yt.info("Missing message ids",r),r};let Ha=[];const IT=$p(jJ()),rue=e=>{const t=r=>{if(r.type==="init-ack")me.importStatus.set({type:"ack",projectName:r.projectName}),me.project.abletonName.set(r.projectName);else if(r.type==="init-project")me.importStatus.set({type:"importing"}),me.importMessageCount.set(r.messageCount),Ha=[];else if(r.type==="init-track")Ha.push(r);else if(r.type==="init-clip")Ha.push(r);else if(r.type==="init-cue")Ha.push(r);else if(r.type==="init-done"){me.importStatus.set({type:"finalizing"});const o=me.importMessageCount.get(),s=nue(Ha,o);if(OT>=kT)me.importStatus.set({type:"error",msg:`Resend attempts exceeded ${kT}!`});else if(Q.isEmpty(s)){const a=oQ(Ha),c=tQ(a);me.project.arrangement.set(a);const f={type:"done",sourceMessageCount:o,parsedMessageCount:c};Yt.info("Import Status",f),me.importStatus.set(f)}else OT++,me.importStatus.set({type:"resend",missingMessageIds:s})}else r.type==="beat"?me.realTime.beats.set(r.value):r.type==="sig"?me.realTime.timeSignature.set({noteCount:r.numer,noteLength:r.denom}):r.type==="bar-beat"?me.realTime.barBeats.set(r.value):r.type==="tempo"?me.realTime.tempo.set(r.value):r.type==="is-playing"?me.realTime.isPlaying.set(r.value):r.type==="metronome-state"?me.realTime.metronomeState.set(r.value):r.type==="loop-state"?me.realTime.loopState.set(r.value):r.type==="tick"&&me.realTime.tick.set(r.tick)};e.on("sysex",r=>{$p(DJ(IT,r))});const n=Ah(WJ(IT),r=>{const o=bD(r);o!==void 0&&t(o)});pJ(dJ(n,UJ))},oue=(e,t)=>(e.emit(Gt.init()),me.importStatus.sub(n=>{n.type==="ack"?e.emit(Gt.initReady(t)):n.type==="resend"&&e.emit(Gt.resend(n.missingMessageIds))})),iue=e=>{const t=e.controllers.flatMap(n=>Ot(tue.findByName(n.device),{onSome:r=>r.widgets.resolve(n.config),onNone:()=>[]}));return rf(t.flatMap(n=>n.tracks())).toArray()};let AT,$T=[];const sue=(e,t)=>{const n=iue(e);return Q.isEqual($T,n)?Yt.info("Tracks were the same, doing nothing here..."):(Yt.info("Tracks were not equal, reloading project..."),$T=n,AT=oue(t,n)),AT},aue=(e,t)=>{Yt.info("Project Main"),me.project.config.sub(n=>Ot(nb.getActive(n),{onSome:r=>(Yt.info("Active project",r),sue(r,t)),onNone:()=>(Yt.error("No active project found",n),()=>{})})),Mi.getChannel().onmessage=n=>{t.emit(n.data)},rue(e)},uue={init:aue};Yt.info("Loading Project Worker Main");const v2=Yc(),_2=Yc();onmessage=e=>{Q.isArray(e.data)&&e.data.length==2&&e.data[0]==="DAW_LISTENER"&&v2.emit(e.data[1])};_2.on("*",e=>postMessage(["DAW_EMITTER",e]));uue.init(v2,_2);
